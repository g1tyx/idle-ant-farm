var cx=Object.defineProperty;var dx=(t,e,s)=>e in t?cx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var lt=(t,e,s)=>dx(t,typeof e!="symbol"?e+"":e,s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function v0(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const xt={},An=[],Ao=()=>{},ux=()=>!1,zl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),y0=t=>t.startsWith("onUpdate:"),Zt=Object.assign,x0=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},mx=Object.prototype.hasOwnProperty,St=(t,e)=>mx.call(t,e),Ye=Array.isArray,Mn=t=>li(t)==="[object Map]",jn=t=>li(t)==="[object Set]",lp=t=>li(t)==="[object Date]",nt=t=>typeof t=="function",Qt=t=>typeof t=="string",go=t=>typeof t=="symbol",At=t=>t!==null&&typeof t=="object",Bh=t=>(At(t)||nt(t))&&nt(t.then)&&nt(t.catch),qh=Object.prototype.toString,li=t=>qh.call(t),px=t=>li(t).slice(8,-1),Oh=t=>li(t)==="[object Object]",k0=t=>Qt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,wa=v0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Wl=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},fx=/-(\w)/g,Ks=Wl(t=>t.replace(fx,(e,s)=>s?s.toUpperCase():"")),gx=/\B([A-Z])/g,Vo=Wl(t=>t.replace(gx,"-$1").toLowerCase()),Yl=Wl(t=>t.charAt(0).toUpperCase()+t.slice(1)),qd=Wl(t=>t?`on${Yl(t)}`:""),Fs=(t,e)=>!Object.is(t,e),cl=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Nh=(t,e,s,o=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:o,value:s})},xl=t=>{const e=parseFloat(t);return isNaN(e)?t:e},hx=t=>{const e=Qt(t)?Number(t):NaN;return isNaN(e)?t:e};let cp;const Kl=()=>cp||(cp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Je(t){if(Ye(t)){const e={};for(let s=0;s<t.length;s++){const o=t[s],n=Qt(o)?xx(o):Je(o);if(n)for(const i in n)e[i]=n[i]}return e}else if(Qt(t)||At(t))return t}const bx=/;(?![^(]*\))/g,vx=/:([^]+)/,yx=/\/\*[^]*?\*\//g;function xx(t){const e={};return t.replace(yx,"").split(bx).forEach(s=>{if(s){const o=s.split(vx);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function V(t){let e="";if(Qt(t))e=t;else if(Ye(t))for(let s=0;s<t.length;s++){const o=V(t[s]);o&&(e+=o+" ")}else if(At(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const kx="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",_x=v0(kx);function Hh(t){return!!t||t===""}function wx(t,e){if(t.length!==e.length)return!1;let s=!0;for(let o=0;s&&o<t.length;o++)s=ci(t[o],e[o]);return s}function ci(t,e){if(t===e)return!0;let s=lp(t),o=lp(e);if(s||o)return s&&o?t.getTime()===e.getTime():!1;if(s=go(t),o=go(e),s||o)return t===e;if(s=Ye(t),o=Ye(e),s||o)return s&&o?wx(t,e):!1;if(s=At(t),o=At(e),s||o){if(!s||!o)return!1;const n=Object.keys(t).length,i=Object.keys(e).length;if(n!==i)return!1;for(const l in t){const c=t.hasOwnProperty(l),d=e.hasOwnProperty(l);if(c&&!d||!c&&d||!ci(t[l],e[l]))return!1}}return String(t)===String(e)}function _0(t,e){return t.findIndex(s=>ci(s,e))}const jh=t=>!!(t&&t.__v_isRef===!0),b=t=>Qt(t)?t:t==null?"":Ye(t)||At(t)&&(t.toString===qh||!nt(t.toString))?jh(t)?b(t.value):JSON.stringify(t,Gh,2):String(t),Gh=(t,e)=>jh(e)?Gh(t,e.value):Mn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[o,n],i)=>(s[Od(o,i)+" =>"]=n,s),{})}:jn(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Od(s))}:go(e)?Od(e):At(e)&&!Ye(e)&&!Oh(e)?String(e):e,Od=(t,e="")=>{var s;return go(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Cs;class Vh{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Cs,!e&&Cs&&(this.index=(Cs.scopes||(Cs.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=Cs;try{return Cs=this,e()}finally{Cs=s}}}on(){Cs=this}off(){Cs=this.parent}stop(e){if(this._active){this._active=!1;let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(this.effects.length=0,s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Qh(t){return new Vh(t)}function w0(){return Cs}function zh(t,e=!1){Cs&&Cs.cleanups.push(t)}let Pt;const Nd=new WeakSet;class Wh{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Cs&&Cs.active&&Cs.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Nd.has(this)&&(Nd.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Kh(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,dp(this),Xh(this);const e=Pt,s=po;Pt=this,po=!0;try{return this.fn()}finally{Zh(this),Pt=e,po=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)$0(e);this.deps=this.depsTail=void 0,dp(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Nd.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Mu(this)&&this.run()}get dirty(){return Mu(this)}}let Yh=0,Ca,Sa;function Kh(t,e=!1){if(t.flags|=8,e){t.next=Sa,Sa=t;return}t.next=Ca,Ca=t}function C0(){Yh++}function S0(){if(--Yh>0)return;if(Sa){let e=Sa;for(Sa=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Ca;){let e=Ca;for(Ca=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(o){t||(t=o)}e=s}}if(t)throw t}function Xh(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Zh(t){let e,s=t.depsTail,o=s;for(;o;){const n=o.prevDep;o.version===-1?(o===s&&(s=n),$0(o),Cx(o)):e=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=n}t.deps=e,t.depsTail=s}function Mu(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Jh(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Jh(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Na))return;t.globalVersion=Na;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Mu(t)){t.flags&=-3;return}const s=Pt,o=po;Pt=t,po=!0;try{Xh(t);const n=t.fn(t._value);(e.version===0||Fs(n,t._value))&&(t._value=n,e.version++)}catch(n){throw e.version++,n}finally{Pt=s,po=o,Zh(t),t.flags&=-3}}function $0(t,e=!1){const{dep:s,prevSub:o,nextSub:n}=t;if(o&&(o.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=o,t.nextSub=void 0),s.subs===t&&(s.subs=o,!o&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)$0(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Cx(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let po=!0;const eb=[];function xr(){eb.push(po),po=!1}function kr(){const t=eb.pop();po=t===void 0?!0:t}function dp(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=Pt;Pt=void 0;try{e()}finally{Pt=s}}}let Na=0;class Sx{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Xl{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Pt||!po||Pt===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Pt)s=this.activeLink=new Sx(Pt,this),Pt.deps?(s.prevDep=Pt.depsTail,Pt.depsTail.nextDep=s,Pt.depsTail=s):Pt.deps=Pt.depsTail=s,tb(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const o=s.nextDep;o.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=o),s.prevDep=Pt.depsTail,s.nextDep=void 0,Pt.depsTail.nextDep=s,Pt.depsTail=s,Pt.deps===s&&(Pt.deps=o)}return s}trigger(e){this.version++,Na++,this.notify(e)}notify(e){C0();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{S0()}}}function tb(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let o=e.deps;o;o=o.nextDep)tb(o)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const kl=new WeakMap,Qr=Symbol(""),Pu=Symbol(""),Ha=Symbol("");function bs(t,e,s){if(po&&Pt){let o=kl.get(t);o||kl.set(t,o=new Map);let n=o.get(s);n||(o.set(s,n=new Xl),n.map=o,n.key=s),n.track()}}function qo(t,e,s,o,n,i){const l=kl.get(t);if(!l){Na++;return}const c=d=>{d&&d.trigger()};if(C0(),e==="clear")l.forEach(c);else{const d=Ye(t),u=d&&k0(s);if(d&&s==="length"){const m=Number(o);l.forEach((p,y)=>{(y==="length"||y===Ha||!go(y)&&y>=m)&&c(p)})}else switch((s!==void 0||l.has(void 0))&&c(l.get(s)),u&&c(l.get(Ha)),e){case"add":d?u&&c(l.get("length")):(c(l.get(Qr)),Mn(t)&&c(l.get(Pu)));break;case"delete":d||(c(l.get(Qr)),Mn(t)&&c(l.get(Pu)));break;case"set":Mn(t)&&c(l.get(Qr));break}}S0()}function $x(t,e){const s=kl.get(t);return s&&s.get(e)}function cn(t){const e=pt(t);return e===t?e:(bs(e,"iterate",Ha),no(t)?e:e.map(vs))}function Zl(t){return bs(t=pt(t),"iterate",Ha),t}const Ex={__proto__:null,[Symbol.iterator](){return Hd(this,Symbol.iterator,vs)},concat(...t){return cn(this).concat(...t.map(e=>Ye(e)?cn(e):e))},entries(){return Hd(this,"entries",t=>(t[1]=vs(t[1]),t))},every(t,e){return To(this,"every",t,e,void 0,arguments)},filter(t,e){return To(this,"filter",t,e,s=>s.map(vs),arguments)},find(t,e){return To(this,"find",t,e,vs,arguments)},findIndex(t,e){return To(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return To(this,"findLast",t,e,vs,arguments)},findLastIndex(t,e){return To(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return To(this,"forEach",t,e,void 0,arguments)},includes(...t){return jd(this,"includes",t)},indexOf(...t){return jd(this,"indexOf",t)},join(t){return cn(this).join(t)},lastIndexOf(...t){return jd(this,"lastIndexOf",t)},map(t,e){return To(this,"map",t,e,void 0,arguments)},pop(){return ea(this,"pop")},push(...t){return ea(this,"push",t)},reduce(t,...e){return up(this,"reduce",t,e)},reduceRight(t,...e){return up(this,"reduceRight",t,e)},shift(){return ea(this,"shift")},some(t,e){return To(this,"some",t,e,void 0,arguments)},splice(...t){return ea(this,"splice",t)},toReversed(){return cn(this).toReversed()},toSorted(t){return cn(this).toSorted(t)},toSpliced(...t){return cn(this).toSpliced(...t)},unshift(...t){return ea(this,"unshift",t)},values(){return Hd(this,"values",vs)}};function Hd(t,e,s){const o=Zl(t),n=o[e]();return o!==t&&!no(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const Ax=Array.prototype;function To(t,e,s,o,n,i){const l=Zl(t),c=l!==t&&!no(t),d=l[e];if(d!==Ax[e]){const p=d.apply(t,i);return c?vs(p):p}let u=s;l!==t&&(c?u=function(p,y){return s.call(this,vs(p),y,t)}:s.length>2&&(u=function(p,y){return s.call(this,p,y,t)}));const m=d.call(l,u,o);return c&&n?n(m):m}function up(t,e,s,o){const n=Zl(t);let i=s;return n!==t&&(no(t)?s.length>3&&(i=function(l,c,d){return s.call(this,l,c,d,t)}):i=function(l,c,d){return s.call(this,l,vs(c),d,t)}),n[e](i,...o)}function jd(t,e,s){const o=pt(t);bs(o,"iterate",Ha);const n=o[e](...s);return(n===-1||n===!1)&&di(s[0])?(s[0]=pt(s[0]),o[e](...s)):n}function ea(t,e,s=[]){xr(),C0();const o=pt(t)[e].apply(t,s);return S0(),kr(),o}const Mx=v0("__proto__,__v_isRef,__isVue"),sb=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(go));function Px(t){go(t)||(t=String(t));const e=pt(this);return bs(e,"has",t),e.hasOwnProperty(t)}class ob{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,o){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return o===(n?i?Ox:ib:i?ab:nb).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(o)?e:void 0;const l=Ye(e);if(!n){let d;if(l&&(d=Ex[s]))return d;if(s==="hasOwnProperty")return Px}const c=Reflect.get(e,s,Mt(e)?e:o);return(go(s)?sb.has(s):Mx(s))||(n||bs(e,"get",s),i)?c:Mt(c)?l&&k0(s)?c:c.value:At(c)?n?A0(c):_r(c):c}}class rb extends ob{constructor(e=!1){super(!1,e)}set(e,s,o,n){let i=e[s];if(!this._isShallow){const d=Kr(i);if(!no(o)&&!Kr(o)&&(i=pt(i),o=pt(o)),!Ye(e)&&Mt(i)&&!Mt(o))return d?!1:(i.value=o,!0)}const l=Ye(e)&&k0(s)?Number(s)<e.length:St(e,s),c=Reflect.set(e,s,o,Mt(e)?e:n);return e===pt(n)&&(l?Fs(o,i)&&qo(e,"set",s,o):qo(e,"add",s,o)),c}deleteProperty(e,s){const o=St(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&o&&qo(e,"delete",s,void 0),n}has(e,s){const o=Reflect.has(e,s);return(!go(s)||!sb.has(s))&&bs(e,"has",s),o}ownKeys(e){return bs(e,"iterate",Ye(e)?"length":Qr),Reflect.ownKeys(e)}}class Tx extends ob{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Lx=new rb,Ix=new Tx,Dx=new rb(!0);const Tu=t=>t,Mi=t=>Reflect.getPrototypeOf(t);function Fx(t,e,s){return function(...o){const n=this.__v_raw,i=pt(n),l=Mn(i),c=t==="entries"||t===Symbol.iterator&&l,d=t==="keys"&&l,u=n[t](...o),m=s?Tu:e?Lu:vs;return!e&&bs(i,"iterate",d?Pu:Qr),{next(){const{value:p,done:y}=u.next();return y?{value:p,done:y}:{value:c?[m(p[0]),m(p[1])]:m(p),done:y}},[Symbol.iterator](){return this}}}}function Pi(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Rx(t,e){const s={get(n){const i=this.__v_raw,l=pt(i),c=pt(n);t||(Fs(n,c)&&bs(l,"get",n),bs(l,"get",c));const{has:d}=Mi(l),u=e?Tu:t?Lu:vs;if(d.call(l,n))return u(i.get(n));if(d.call(l,c))return u(i.get(c));i!==l&&i.get(n)},get size(){const n=this.__v_raw;return!t&&bs(pt(n),"iterate",Qr),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,l=pt(i),c=pt(n);return t||(Fs(n,c)&&bs(l,"has",n),bs(l,"has",c)),n===c?i.has(n):i.has(n)||i.has(c)},forEach(n,i){const l=this,c=l.__v_raw,d=pt(c),u=e?Tu:t?Lu:vs;return!t&&bs(d,"iterate",Qr),c.forEach((m,p)=>n.call(i,u(m),u(p),l))}};return Zt(s,t?{add:Pi("add"),set:Pi("set"),delete:Pi("delete"),clear:Pi("clear")}:{add(n){!e&&!no(n)&&!Kr(n)&&(n=pt(n));const i=pt(this);return Mi(i).has.call(i,n)||(i.add(n),qo(i,"add",n,n)),this},set(n,i){!e&&!no(i)&&!Kr(i)&&(i=pt(i));const l=pt(this),{has:c,get:d}=Mi(l);let u=c.call(l,n);u||(n=pt(n),u=c.call(l,n));const m=d.call(l,n);return l.set(n,i),u?Fs(i,m)&&qo(l,"set",n,i):qo(l,"add",n,i),this},delete(n){const i=pt(this),{has:l,get:c}=Mi(i);let d=l.call(i,n);d||(n=pt(n),d=l.call(i,n)),c&&c.call(i,n);const u=i.delete(n);return d&&qo(i,"delete",n,void 0),u},clear(){const n=pt(this),i=n.size!==0,l=n.clear();return i&&qo(n,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Fx(n,t,e)}),s}function E0(t,e){const s=Rx(t,e);return(o,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?o:Reflect.get(St(s,n)&&n in o?s:o,n,i)}const Ux={get:E0(!1,!1)},Bx={get:E0(!1,!0)},qx={get:E0(!0,!1)};const nb=new WeakMap,ab=new WeakMap,ib=new WeakMap,Ox=new WeakMap;function Nx(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Hx(t){return t.__v_skip||!Object.isExtensible(t)?0:Nx(px(t))}function _r(t){return Kr(t)?t:M0(t,!1,Lx,Ux,nb)}function lb(t){return M0(t,!1,Dx,Bx,ab)}function A0(t){return M0(t,!0,Ix,qx,ib)}function M0(t,e,s,o,n){if(!At(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=n.get(t);if(i)return i;const l=Hx(t);if(l===0)return t;const c=new Proxy(t,l===2?o:s);return n.set(t,c),c}function No(t){return Kr(t)?No(t.__v_raw):!!(t&&t.__v_isReactive)}function Kr(t){return!!(t&&t.__v_isReadonly)}function no(t){return!!(t&&t.__v_isShallow)}function di(t){return t?!!t.__v_raw:!1}function pt(t){const e=t&&t.__v_raw;return e?pt(e):t}function P0(t){return!St(t,"__v_skip")&&Object.isExtensible(t)&&Nh(t,"__v_skip",!0),t}const vs=t=>At(t)?_r(t):t,Lu=t=>At(t)?A0(t):t;function Mt(t){return t?t.__v_isRef===!0:!1}function W(t){return cb(t,!1)}function ms(t){return cb(t,!0)}function cb(t,e){return Mt(t)?t:new jx(t,e)}class jx{constructor(e,s){this.dep=new Xl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:pt(e),this._value=s?e:vs(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,o=this.__v_isShallow||no(e)||Kr(e);e=o?e:pt(e),Fs(e,s)&&(this._rawValue=e,this._value=o?e:vs(e),this.dep.trigger())}}function g(t){return Mt(t)?t.value:t}function zs(t){return nt(t)?t():g(t)}const Gx={get:(t,e,s)=>e==="__v_raw"?t:g(Reflect.get(t,e,s)),set:(t,e,s,o)=>{const n=t[e];return Mt(n)&&!Mt(s)?(n.value=s,!0):Reflect.set(t,e,s,o)}};function db(t){return No(t)?t:new Proxy(t,Gx)}class Vx{constructor(e){this.__v_isRef=!0,this._value=void 0;const s=this.dep=new Xl,{get:o,set:n}=e(s.track.bind(s),s.trigger.bind(s));this._get=o,this._set=n}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Qx(t){return new Vx(t)}function ub(t){const e=Ye(t)?new Array(t.length):{};for(const s in t)e[s]=mb(t,s);return e}class zx{constructor(e,s,o){this._object=e,this._key=s,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return $x(pt(this._object),this._key)}}class Wx{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Yx(t,e,s){return Mt(t)?t:nt(t)?new Wx(t):At(t)&&arguments.length>1?mb(t,e,s):W(t)}function mb(t,e,s){const o=t[e];return Mt(o)?o:new zx(t,e,s)}class Kx{constructor(e,s,o){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Xl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Na-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Pt!==this)return Kh(this,!0),!0}get value(){const e=this.dep.track();return Jh(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Xx(t,e,s=!1){let o,n;return nt(t)?o=t:(o=t.get,n=t.set),new Kx(o,n,s)}const Ti={},_l=new WeakMap;let Rr;function Zx(t,e=!1,s=Rr){if(s){let o=_l.get(s);o||_l.set(s,o=[]),o.push(t)}}function Jx(t,e,s=xt){const{immediate:o,deep:n,once:i,scheduler:l,augmentJob:c,call:d}=s,u=M=>n?M:no(M)||n===!1||n===0?Oo(M,1):Oo(M);let m,p,y,v,S=!1,_=!1;if(Mt(t)?(p=()=>t.value,S=no(t)):No(t)?(p=()=>u(t),S=!0):Ye(t)?(_=!0,S=t.some(M=>No(M)||no(M)),p=()=>t.map(M=>{if(Mt(M))return M.value;if(No(M))return u(M);if(nt(M))return d?d(M,2):M()})):nt(t)?e?p=d?()=>d(t,2):t:p=()=>{if(y){xr();try{y()}finally{kr()}}const M=Rr;Rr=m;try{return d?d(t,3,[v]):t(v)}finally{Rr=M}}:p=Ao,e&&n){const M=p,P=n===!0?1/0:n;p=()=>Oo(M(),P)}const C=w0(),x=()=>{m.stop(),C&&C.active&&x0(C.effects,m)};if(i&&e){const M=e;e=(...P)=>{M(...P),x()}}let $=_?new Array(t.length).fill(Ti):Ti;const A=M=>{if(!(!(m.flags&1)||!m.dirty&&!M))if(e){const P=m.run();if(n||S||(_?P.some((L,B)=>Fs(L,$[B])):Fs(P,$))){y&&y();const L=Rr;Rr=m;try{const B=[P,$===Ti?void 0:_&&$[0]===Ti?[]:$,v];d?d(e,3,B):e(...B),$=P}finally{Rr=L}}}else m.run()};return c&&c(A),m=new Wh(p),m.scheduler=l?()=>l(A,!1):A,v=M=>Zx(M,!1,m),y=m.onStop=()=>{const M=_l.get(m);if(M){if(d)d(M,4);else for(const P of M)P();_l.delete(m)}},e?o?A(!0):$=m.run():l?l(A.bind(null,!0),!0):m.run(),x.pause=m.pause.bind(m),x.resume=m.resume.bind(m),x.stop=x,x}function Oo(t,e=1/0,s){if(e<=0||!At(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,Mt(t))Oo(t.value,e,s);else if(Ye(t))for(let o=0;o<t.length;o++)Oo(t[o],e,s);else if(jn(t)||Mn(t))t.forEach(o=>{Oo(o,e,s)});else if(Oh(t)){for(const o in t)Oo(t[o],e,s);for(const o of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,o)&&Oo(t[o],e,s)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ui(t,e,s,o){try{return o?t(...o):t()}catch(n){Jl(n,e,s)}}function ho(t,e,s,o){if(nt(t)){const n=ui(t,e,s,o);return n&&Bh(n)&&n.catch(i=>{Jl(i,e,s)}),n}if(Ye(t)){const n=[];for(let i=0;i<t.length;i++)n.push(ho(t[i],e,s,o));return n}}function Jl(t,e,s,o=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:l}=e&&e.appContext.config||xt;if(e){let c=e.parent;const d=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;c;){const m=c.ec;if(m){for(let p=0;p<m.length;p++)if(m[p](t,d,u)===!1)return}c=c.parent}if(i){xr(),ui(i,null,10,[t,d,u]),kr();return}}ek(t,s,n,o,l)}function ek(t,e,s,o=!0,n=!1){if(n)throw t;console.error(t)}const Ss=[];let _o=-1;const Pn=[];let nr=null,kn=0;const pb=Promise.resolve();let wl=null;function Bt(t){const e=wl||pb;return t?e.then(this?t.bind(this):t):e}function tk(t){let e=_o+1,s=Ss.length;for(;e<s;){const o=e+s>>>1,n=Ss[o],i=ja(n);i<t||i===t&&n.flags&2?e=o+1:s=o}return e}function T0(t){if(!(t.flags&1)){const e=ja(t),s=Ss[Ss.length-1];!s||!(t.flags&2)&&e>=ja(s)?Ss.push(t):Ss.splice(tk(e),0,t),t.flags|=1,fb()}}function fb(){wl||(wl=pb.then(hb))}function sk(t){Ye(t)?Pn.push(...t):nr&&t.id===-1?nr.splice(kn+1,0,t):t.flags&1||(Pn.push(t),t.flags|=1),fb()}function mp(t,e,s=_o+1){for(;s<Ss.length;s++){const o=Ss[s];if(o&&o.flags&2){if(t&&o.id!==t.uid)continue;Ss.splice(s,1),s--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function gb(t){if(Pn.length){const e=[...new Set(Pn)].sort((s,o)=>ja(s)-ja(o));if(Pn.length=0,nr){nr.push(...e);return}for(nr=e,kn=0;kn<nr.length;kn++){const s=nr[kn];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}nr=null,kn=0}}const ja=t=>t.id==null?t.flags&2?-1:1/0:t.id;function hb(t){try{for(_o=0;_o<Ss.length;_o++){const e=Ss[_o];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ui(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;_o<Ss.length;_o++){const e=Ss[_o];e&&(e.flags&=-2)}_o=-1,Ss.length=0,gb(),wl=null,(Ss.length||Pn.length)&&hb()}}let es=null,bb=null;function Cl(t){const e=es;return es=t,bb=t&&t.type.__scopeId||null,e}function mt(t,e=es,s){if(!e||t._n)return t;const o=(...n)=>{o._d&&Sp(-1);const i=Cl(e);let l;try{l=t(...n)}finally{Cl(i),o._d&&Sp(1)}return l};return o._n=!0,o._c=!0,o._d=!0,o}function ut(t,e){if(es===null)return t;const s=nc(es),o=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,l,c,d=xt]=e[n];i&&(nt(i)&&(i={mounted:i,updated:i}),i.deep&&Oo(l),o.push({dir:i,instance:s,value:l,oldValue:void 0,arg:c,modifiers:d}))}return t}function $r(t,e,s,o){const n=t.dirs,i=e&&e.dirs;for(let l=0;l<n.length;l++){const c=n[l];i&&(c.oldValue=i[l].value);let d=c.dir[o];d&&(xr(),ho(d,s,8,[t.el,c,t,e]),kr())}}const vb=Symbol("_vte"),yb=t=>t.__isTeleport,$a=t=>t&&(t.disabled||t.disabled===""),pp=t=>t&&(t.defer||t.defer===""),fp=t=>typeof SVGElement<"u"&&t instanceof SVGElement,gp=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Iu=(t,e)=>{const s=t&&t.to;return Qt(s)?e?e(s):null:s},xb={name:"Teleport",__isTeleport:!0,process(t,e,s,o,n,i,l,c,d,u){const{mc:m,pc:p,pbc:y,o:{insert:v,querySelector:S,createText:_,createComment:C}}=u,x=$a(e.props);let{shapeFlag:$,children:A,dynamicChildren:M}=e;if(t==null){const P=e.el=_(""),L=e.anchor=_("");v(P,s,o),v(L,s,o);const B=(I,N)=>{$&16&&(n&&n.isCE&&(n.ce._teleportTarget=I),m(A,I,N,n,i,l,c,d))},k=()=>{const I=e.target=Iu(e.props,S),N=_b(I,e,_,v);I&&(l!=="svg"&&fp(I)?l="svg":l!=="mathml"&&gp(I)&&(l="mathml"),x||(B(I,N),dl(e,!1)))};x&&(B(s,L),dl(e,!0)),pp(e.props)?ws(()=>{k(),e.el.__isMounted=!0},i):k()}else{if(pp(e.props)&&!t.el.__isMounted){ws(()=>{xb.process(t,e,s,o,n,i,l,c,d,u),delete t.el.__isMounted},i);return}e.el=t.el,e.targetStart=t.targetStart;const P=e.anchor=t.anchor,L=e.target=t.target,B=e.targetAnchor=t.targetAnchor,k=$a(t.props),I=k?s:L,N=k?P:B;if(l==="svg"||fp(L)?l="svg":(l==="mathml"||gp(L))&&(l="mathml"),M?(y(t.dynamicChildren,M,I,n,i,l,c),F0(t,e,!0)):d||p(t,e,I,N,n,i,l,c,!1),x)k?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Li(e,s,P,u,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const U=e.target=Iu(e.props,S);U&&Li(e,U,null,u,0)}else k&&Li(e,L,B,u,1);dl(e,x)}},remove(t,e,s,{um:o,o:{remove:n}},i){const{shapeFlag:l,children:c,anchor:d,targetStart:u,targetAnchor:m,target:p,props:y}=t;if(p&&(n(u),n(m)),i&&n(d),l&16){const v=i||!$a(y);for(let S=0;S<c.length;S++){const _=c[S];o(_,e,s,v,!!_.dynamicChildren)}}},move:Li,hydrate:ok};function Li(t,e,s,{o:{insert:o},m:n},i=2){i===0&&o(t.targetAnchor,e,s);const{el:l,anchor:c,shapeFlag:d,children:u,props:m}=t,p=i===2;if(p&&o(l,e,s),(!p||$a(m))&&d&16)for(let y=0;y<u.length;y++)n(u[y],e,s,2);p&&o(c,e,s)}function ok(t,e,s,o,n,i,{o:{nextSibling:l,parentNode:c,querySelector:d,insert:u,createText:m}},p){const y=e.target=Iu(e.props,d);if(y){const v=$a(e.props),S=y._lpa||y.firstChild;if(e.shapeFlag&16)if(v)e.anchor=p(l(t),e,c(t),s,o,n,i),e.targetStart=S,e.targetAnchor=S&&l(S);else{e.anchor=l(t);let _=S;for(;_;){if(_&&_.nodeType===8){if(_.data==="teleport start anchor")e.targetStart=_;else if(_.data==="teleport anchor"){e.targetAnchor=_,y._lpa=e.targetAnchor&&l(e.targetAnchor);break}}_=l(_)}e.targetAnchor||_b(y,e,m,u),p(S&&l(S),e,y,s,o,n,i)}dl(e,v)}return e.anchor&&l(e.anchor)}const kb=xb;function dl(t,e){const s=t.ctx;if(s&&s.ut){let o,n;for(e?(o=t.el,n=t.anchor):(o=t.targetStart,n=t.targetAnchor);o&&o!==n;)o.nodeType===1&&o.setAttribute("data-v-owner",s.uid),o=o.nextSibling;s.ut()}}function _b(t,e,s,o){const n=e.targetStart=s(""),i=e.targetAnchor=s("");return n[vb]=i,t&&(o(n,t),o(i,t)),i}const ar=Symbol("_leaveCb"),Ii=Symbol("_enterCb");function wb(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return tt(()=>{t.isMounted=!0}),fs(()=>{t.isUnmounting=!0}),t}const Zs=[Function,Array],Cb={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Zs,onEnter:Zs,onAfterEnter:Zs,onEnterCancelled:Zs,onBeforeLeave:Zs,onLeave:Zs,onAfterLeave:Zs,onLeaveCancelled:Zs,onBeforeAppear:Zs,onAppear:Zs,onAfterAppear:Zs,onAppearCancelled:Zs},Sb=t=>{const e=t.subTree;return e.component?Sb(e.component):e},rk={name:"BaseTransition",props:Cb,setup(t,{slots:e}){const s=Gn(),o=wb();return()=>{const n=e.default&&L0(e.default(),!0);if(!n||!n.length)return;const i=$b(n),l=pt(t),{mode:c}=l;if(o.isLeaving)return Gd(i);const d=hp(i);if(!d)return Gd(i);let u=Ga(d,l,o,s,p=>u=p);d.type!==$s&&Xr(d,u);let m=s.subTree&&hp(s.subTree);if(m&&m.type!==$s&&!Or(d,m)&&Sb(s).type!==$s){let p=Ga(m,l,o,s);if(Xr(m,p),c==="out-in"&&d.type!==$s)return o.isLeaving=!0,p.afterLeave=()=>{o.isLeaving=!1,s.job.flags&8||s.update(),delete p.afterLeave,m=void 0},Gd(i);c==="in-out"&&d.type!==$s?p.delayLeave=(y,v,S)=>{const _=Eb(o,m);_[String(m.key)]=m,y[ar]=()=>{v(),y[ar]=void 0,delete u.delayedLeave,m=void 0},u.delayedLeave=()=>{S(),delete u.delayedLeave,m=void 0}}:m=void 0}else m&&(m=void 0);return i}}};function $b(t){let e=t[0];if(t.length>1){for(const s of t)if(s.type!==$s){e=s;break}}return e}const nk=rk;function Eb(t,e){const{leavingVNodes:s}=t;let o=s.get(e.type);return o||(o=Object.create(null),s.set(e.type,o)),o}function Ga(t,e,s,o,n){const{appear:i,mode:l,persisted:c=!1,onBeforeEnter:d,onEnter:u,onAfterEnter:m,onEnterCancelled:p,onBeforeLeave:y,onLeave:v,onAfterLeave:S,onLeaveCancelled:_,onBeforeAppear:C,onAppear:x,onAfterAppear:$,onAppearCancelled:A}=e,M=String(t.key),P=Eb(s,t),L=(I,N)=>{I&&ho(I,o,9,N)},B=(I,N)=>{const U=N[1];L(I,N),Ye(I)?I.every(j=>j.length<=1)&&U():I.length<=1&&U()},k={mode:l,persisted:c,beforeEnter(I){let N=d;if(!s.isMounted)if(i)N=C||d;else return;I[ar]&&I[ar](!0);const U=P[M];U&&Or(t,U)&&U.el[ar]&&U.el[ar](),L(N,[I])},enter(I){let N=u,U=m,j=p;if(!s.isMounted)if(i)N=x||u,U=$||m,j=A||p;else return;let ee=!1;const ne=I[Ii]=oe=>{ee||(ee=!0,oe?L(j,[I]):L(U,[I]),k.delayedLeave&&k.delayedLeave(),I[Ii]=void 0)};N?B(N,[I,ne]):ne()},leave(I,N){const U=String(t.key);if(I[Ii]&&I[Ii](!0),s.isUnmounting)return N();L(y,[I]);let j=!1;const ee=I[ar]=ne=>{j||(j=!0,N(),ne?L(_,[I]):L(S,[I]),I[ar]=void 0,P[U]===t&&delete P[U])};P[U]=t,v?B(v,[I,ee]):ee()},clone(I){const N=Ga(I,e,s,o,n);return n&&n(N),N}};return k}function Gd(t){if(ec(t))return t=br(t),t.children=null,t}function hp(t){if(!ec(t))return yb(t.type)&&t.children?$b(t.children):t;const{shapeFlag:e,children:s}=t;if(s){if(e&16)return s[0];if(e&32&&nt(s.default))return s.default()}}function Xr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Xr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function L0(t,e=!1,s){let o=[],n=0;for(let i=0;i<t.length;i++){let l=t[i];const c=s==null?l.key:String(s)+String(l.key!=null?l.key:i);l.type===Ce?(l.patchFlag&128&&n++,o=o.concat(L0(l.children,e,c))):(e||l.type!==$s)&&o.push(c!=null?br(l,{key:c}):l)}if(n>1)for(let i=0;i<o.length;i++)o[i].patchFlag=-2;return o}/*! #__NO_SIDE_EFFECTS__ */function Ue(t,e){return nt(t)?Zt({name:t.name},e,{setup:t}):t}function Ab(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Sl(t,e,s,o,n=!1){if(Ye(t)){t.forEach((S,_)=>Sl(S,e&&(Ye(e)?e[_]:e),s,o,n));return}if(Tn(o)&&!n){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&Sl(t,e,s,o.component.subTree);return}const i=o.shapeFlag&4?nc(o.component):o.el,l=n?null:i,{i:c,r:d}=t,u=e&&e.r,m=c.refs===xt?c.refs={}:c.refs,p=c.setupState,y=pt(p),v=p===xt?()=>!1:S=>St(y,S);if(u!=null&&u!==d&&(Qt(u)?(m[u]=null,v(u)&&(p[u]=null)):Mt(u)&&(u.value=null)),nt(d))ui(d,c,12,[l,m]);else{const S=Qt(d),_=Mt(d);if(S||_){const C=()=>{if(t.f){const x=S?v(d)?p[d]:m[d]:d.value;n?Ye(x)&&x0(x,i):Ye(x)?x.includes(i)||x.push(i):S?(m[d]=[i],v(d)&&(p[d]=m[d])):(d.value=[i],t.k&&(m[t.k]=d.value))}else S?(m[d]=l,v(d)&&(p[d]=l)):_&&(d.value=l,t.k&&(m[t.k]=l))};l?(C.id=-1,ws(C,s)):C()}}}Kl().requestIdleCallback;Kl().cancelIdleCallback;const Tn=t=>!!t.type.__asyncLoader,ec=t=>t.type.__isKeepAlive;function ak(t,e){Mb(t,"a",e)}function ik(t,e){Mb(t,"da",e)}function Mb(t,e,s=is){const o=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(tc(e,o,s),s){let n=s.parent;for(;n&&n.parent;)ec(n.parent.vnode)&&lk(o,e,s,n),n=n.parent}}function lk(t,e,s,o){const n=tc(e,t,o,!0);Ms(()=>{x0(o[e],n)},s)}function tc(t,e,s=is,o=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...l)=>{xr();const c=pi(s),d=ho(e,s,t,l);return c(),kr(),d});return o?n.unshift(i):n.push(i),i}}const Qo=t=>(e,s=is)=>{(!za||t==="sp")&&tc(t,(...o)=>e(...o),s)},ck=Qo("bm"),tt=Qo("m"),dk=Qo("bu"),Pb=Qo("u"),fs=Qo("bum"),Ms=Qo("um"),uk=Qo("sp"),mk=Qo("rtg"),pk=Qo("rtc");function fk(t,e=is){tc("ec",t,e)}const gk="components";function Tb(t,e){return bk(gk,t,!0,e)||t}const hk=Symbol.for("v-ndc");function bk(t,e,s=!0,o=!1){const n=es||is;if(n){const i=n.type;{const c=n_(i,!1);if(c&&(c===e||c===Ks(e)||c===Yl(Ks(e))))return i}const l=bp(n[t]||i[t],e)||bp(n.appContext[t],e);return!l&&o?i:l}}function bp(t,e){return t&&(t[e]||t[Ks(e)]||t[Yl(Ks(e))])}function De(t,e,s,o){let n;const i=s,l=Ye(t);if(l||Qt(t)){const c=l&&No(t);let d=!1;c&&(d=!no(t),t=Zl(t)),n=new Array(t.length);for(let u=0,m=t.length;u<m;u++)n[u]=e(d?vs(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let c=0;c<t;c++)n[c]=e(c+1,c,void 0,i)}else if(At(t))if(t[Symbol.iterator])n=Array.from(t,(c,d)=>e(c,d,void 0,i));else{const c=Object.keys(t);n=new Array(c.length);for(let d=0,u=c.length;d<u;d++){const m=c[d];n[d]=e(t[m],m,d,i)}}else n=[];return n}function mi(t,e,s={},o,n){if(es.ce||es.parent&&Tn(es.parent)&&es.parent.ce)return f(),rt(Ce,null,[Fe("slot",s,o&&o())],64);let i=t[e];i&&i._c&&(i._d=!1),f();const l=i&&Lb(i(s)),c=s.key||l&&l.key,d=rt(Ce,{key:(c&&!go(c)?c:`_${e}`)+(!l&&o?"_fb":"")},l||(o?o():[]),l&&t._===1?64:-2);return!n&&d.scopeId&&(d.slotScopeIds=[d.scopeId+"-s"]),i&&i._c&&(i._d=!0),d}function Lb(t){return t.some(e=>Qa(e)?!(e.type===$s||e.type===Ce&&!Lb(e.children)):!0)?t:null}const Du=t=>t?Zb(t)?nc(t):Du(t.parent):null,Ea=Zt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Du(t.parent),$root:t=>Du(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Db(t),$forceUpdate:t=>t.f||(t.f=()=>{T0(t.update)}),$nextTick:t=>t.n||(t.n=Bt.bind(t.proxy)),$watch:t=>Ok.bind(t)}),Vd=(t,e)=>t!==xt&&!t.__isScriptSetup&&St(t,e),vk={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:o,data:n,props:i,accessCache:l,type:c,appContext:d}=t;let u;if(e[0]!=="$"){const v=l[e];if(v!==void 0)switch(v){case 1:return o[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(Vd(o,e))return l[e]=1,o[e];if(n!==xt&&St(n,e))return l[e]=2,n[e];if((u=t.propsOptions[0])&&St(u,e))return l[e]=3,i[e];if(s!==xt&&St(s,e))return l[e]=4,s[e];Fu&&(l[e]=0)}}const m=Ea[e];let p,y;if(m)return e==="$attrs"&&bs(t.attrs,"get",""),m(t);if((p=c.__cssModules)&&(p=p[e]))return p;if(s!==xt&&St(s,e))return l[e]=4,s[e];if(y=d.config.globalProperties,St(y,e))return y[e]},set({_:t},e,s){const{data:o,setupState:n,ctx:i}=t;return Vd(n,e)?(n[e]=s,!0):o!==xt&&St(o,e)?(o[e]=s,!0):St(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:o,appContext:n,propsOptions:i}},l){let c;return!!s[l]||t!==xt&&St(t,l)||Vd(e,l)||(c=i[0])&&St(c,l)||St(o,l)||St(Ea,l)||St(n.config.globalProperties,l)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:St(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function $l(t){return Ye(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}function yk(t,e){return!t||!e?t||e:Ye(t)&&Ye(e)?t.concat(e):Zt({},$l(t),$l(e))}let Fu=!0;function xk(t){const e=Db(t),s=t.proxy,o=t.ctx;Fu=!1,e.beforeCreate&&vp(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:l,watch:c,provide:d,inject:u,created:m,beforeMount:p,mounted:y,beforeUpdate:v,updated:S,activated:_,deactivated:C,beforeDestroy:x,beforeUnmount:$,destroyed:A,unmounted:M,render:P,renderTracked:L,renderTriggered:B,errorCaptured:k,serverPrefetch:I,expose:N,inheritAttrs:U,components:j,directives:ee,filters:ne}=e;if(u&&kk(u,o,null),l)for(const Y in l){const G=l[Y];nt(G)&&(o[Y]=G.bind(s))}if(n){const Y=n.call(s,s);At(Y)&&(t.data=_r(Y))}if(Fu=!0,i)for(const Y in i){const G=i[Y],de=nt(G)?G.bind(s,s):nt(G.get)?G.get.bind(s,s):Ao,re=!nt(G)&&nt(G.set)?G.set.bind(s):Ao,he=R({get:de,set:re});Object.defineProperty(o,Y,{enumerable:!0,configurable:!0,get:()=>he.value,set:ve=>he.value=ve})}if(c)for(const Y in c)Ib(c[Y],o,s,Y);if(d){const Y=nt(d)?d.call(s):d;Reflect.ownKeys(Y).forEach(G=>{Aa(G,Y[G])})}m&&vp(m,t,"c");function O(Y,G){Ye(G)?G.forEach(de=>Y(de.bind(s))):G&&Y(G.bind(s))}if(O(ck,p),O(tt,y),O(dk,v),O(Pb,S),O(ak,_),O(ik,C),O(fk,k),O(pk,L),O(mk,B),O(fs,$),O(Ms,M),O(uk,I),Ye(N))if(N.length){const Y=t.exposed||(t.exposed={});N.forEach(G=>{Object.defineProperty(Y,G,{get:()=>s[G],set:de=>s[G]=de})})}else t.exposed||(t.exposed={});P&&t.render===Ao&&(t.render=P),U!=null&&(t.inheritAttrs=U),j&&(t.components=j),ee&&(t.directives=ee),I&&Ab(t)}function kk(t,e,s=Ao){Ye(t)&&(t=Ru(t));for(const o in t){const n=t[o];let i;At(n)?"default"in n?i=Bs(n.from||o,n.default,!0):i=Bs(n.from||o):i=Bs(n),Mt(i)?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:l=>i.value=l}):e[o]=i}}function vp(t,e,s){ho(Ye(t)?t.map(o=>o.bind(e.proxy)):t.bind(e.proxy),e,s)}function Ib(t,e,s,o){let n=o.includes(".")?Qb(s,o):()=>s[o];if(Qt(t)){const i=e[t];nt(i)&&We(n,i)}else if(nt(t))We(n,t.bind(s));else if(At(t))if(Ye(t))t.forEach(i=>Ib(i,e,s,o));else{const i=nt(t.handler)?t.handler.bind(s):e[t.handler];nt(i)&&We(n,i,t)}}function Db(t){const e=t.type,{mixins:s,extends:o}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:l}}=t.appContext,c=i.get(e);let d;return c?d=c:!n.length&&!s&&!o?d=e:(d={},n.length&&n.forEach(u=>El(d,u,l,!0)),El(d,e,l)),At(e)&&i.set(e,d),d}function El(t,e,s,o=!1){const{mixins:n,extends:i}=e;i&&El(t,i,s,!0),n&&n.forEach(l=>El(t,l,s,!0));for(const l in e)if(!(o&&l==="expose")){const c=_k[l]||s&&s[l];t[l]=c?c(t[l],e[l]):e[l]}return t}const _k={data:yp,props:xp,emits:xp,methods:fa,computed:fa,beforeCreate:_s,created:_s,beforeMount:_s,mounted:_s,beforeUpdate:_s,updated:_s,beforeDestroy:_s,beforeUnmount:_s,destroyed:_s,unmounted:_s,activated:_s,deactivated:_s,errorCaptured:_s,serverPrefetch:_s,components:fa,directives:fa,watch:Ck,provide:yp,inject:wk};function yp(t,e){return e?t?function(){return Zt(nt(t)?t.call(this,this):t,nt(e)?e.call(this,this):e)}:e:t}function wk(t,e){return fa(Ru(t),Ru(e))}function Ru(t){if(Ye(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function _s(t,e){return t?[...new Set([].concat(t,e))]:e}function fa(t,e){return t?Zt(Object.create(null),t,e):e}function xp(t,e){return t?Ye(t)&&Ye(e)?[...new Set([...t,...e])]:Zt(Object.create(null),$l(t),$l(e??{})):e}function Ck(t,e){if(!t)return e;if(!e)return t;const s=Zt(Object.create(null),t);for(const o in e)s[o]=_s(t[o],e[o]);return s}function Fb(){return{app:null,config:{isNativeTag:ux,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Sk=0;function $k(t,e){return function(o,n=null){nt(o)||(o=Zt({},o)),n!=null&&!At(n)&&(n=null);const i=Fb(),l=new WeakSet,c=[];let d=!1;const u=i.app={_uid:Sk++,_component:o,_props:n,_container:null,_context:i,_instance:null,version:ev,get config(){return i.config},set config(m){},use(m,...p){return l.has(m)||(m&&nt(m.install)?(l.add(m),m.install(u,...p)):nt(m)&&(l.add(m),m(u,...p))),u},mixin(m){return i.mixins.includes(m)||i.mixins.push(m),u},component(m,p){return p?(i.components[m]=p,u):i.components[m]},directive(m,p){return p?(i.directives[m]=p,u):i.directives[m]},mount(m,p,y){if(!d){const v=u._ceVNode||Fe(o,n);return v.appContext=i,y===!0?y="svg":y===!1&&(y=void 0),t(v,m,y),d=!0,u._container=m,m.__vue_app__=u,nc(v.component)}},onUnmount(m){c.push(m)},unmount(){d&&(ho(c,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(m,p){return i.provides[m]=p,u},runWithContext(m){const p=zr;zr=u;try{return m()}finally{zr=p}}};return u}}let zr=null;function Aa(t,e){if(is){let s=is.provides;const o=is.parent&&is.parent.provides;o===s&&(s=is.provides=Object.create(o)),s[t]=e}}function Bs(t,e,s=!1){const o=is||es;if(o||zr){const n=zr?zr._context.provides:o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&nt(e)?e.call(o&&o.proxy):e}}function I0(){return!!(is||es||zr)}const Rb={},Ub=()=>Object.create(Rb),Bb=t=>Object.getPrototypeOf(t)===Rb;function Ek(t,e,s,o=!1){const n={},i=Ub();t.propsDefaults=Object.create(null),qb(t,e,n,i);for(const l in t.propsOptions[0])l in n||(n[l]=void 0);s?t.props=o?n:lb(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Ak(t,e,s,o){const{props:n,attrs:i,vnode:{patchFlag:l}}=t,c=pt(n),[d]=t.propsOptions;let u=!1;if((o||l>0)&&!(l&16)){if(l&8){const m=t.vnode.dynamicProps;for(let p=0;p<m.length;p++){let y=m[p];if(oc(t.emitsOptions,y))continue;const v=e[y];if(d)if(St(i,y))v!==i[y]&&(i[y]=v,u=!0);else{const S=Ks(y);n[S]=Uu(d,c,S,v,t,!1)}else v!==i[y]&&(i[y]=v,u=!0)}}}else{qb(t,e,n,i)&&(u=!0);let m;for(const p in c)(!e||!St(e,p)&&((m=Vo(p))===p||!St(e,m)))&&(d?s&&(s[p]!==void 0||s[m]!==void 0)&&(n[p]=Uu(d,c,p,void 0,t,!0)):delete n[p]);if(i!==c)for(const p in i)(!e||!St(e,p))&&(delete i[p],u=!0)}u&&qo(t.attrs,"set","")}function qb(t,e,s,o){const[n,i]=t.propsOptions;let l=!1,c;if(e)for(let d in e){if(wa(d))continue;const u=e[d];let m;n&&St(n,m=Ks(d))?!i||!i.includes(m)?s[m]=u:(c||(c={}))[m]=u:oc(t.emitsOptions,d)||(!(d in o)||u!==o[d])&&(o[d]=u,l=!0)}if(i){const d=pt(s),u=c||xt;for(let m=0;m<i.length;m++){const p=i[m];s[p]=Uu(n,d,p,u[p],t,!St(u,p))}}return l}function Uu(t,e,s,o,n,i){const l=t[s];if(l!=null){const c=St(l,"default");if(c&&o===void 0){const d=l.default;if(l.type!==Function&&!l.skipFactory&&nt(d)){const{propsDefaults:u}=n;if(s in u)o=u[s];else{const m=pi(n);o=u[s]=d.call(null,e),m()}}else o=d;n.ce&&n.ce._setProp(s,o)}l[0]&&(i&&!c?o=!1:l[1]&&(o===""||o===Vo(s))&&(o=!0))}return o}const Mk=new WeakMap;function Ob(t,e,s=!1){const o=s?Mk:e.propsCache,n=o.get(t);if(n)return n;const i=t.props,l={},c=[];let d=!1;if(!nt(t)){const m=p=>{d=!0;const[y,v]=Ob(p,e,!0);Zt(l,y),v&&c.push(...v)};!s&&e.mixins.length&&e.mixins.forEach(m),t.extends&&m(t.extends),t.mixins&&t.mixins.forEach(m)}if(!i&&!d)return At(t)&&o.set(t,An),An;if(Ye(i))for(let m=0;m<i.length;m++){const p=Ks(i[m]);kp(p)&&(l[p]=xt)}else if(i)for(const m in i){const p=Ks(m);if(kp(p)){const y=i[m],v=l[p]=Ye(y)||nt(y)?{type:y}:Zt({},y),S=v.type;let _=!1,C=!0;if(Ye(S))for(let x=0;x<S.length;++x){const $=S[x],A=nt($)&&$.name;if(A==="Boolean"){_=!0;break}else A==="String"&&(C=!1)}else _=nt(S)&&S.name==="Boolean";v[0]=_,v[1]=C,(_||St(v,"default"))&&c.push(p)}}const u=[l,c];return At(t)&&o.set(t,u),u}function kp(t){return t[0]!=="$"&&!wa(t)}const Nb=t=>t[0]==="_"||t==="$stable",D0=t=>Ye(t)?t.map(Co):[Co(t)],Pk=(t,e,s)=>{if(e._n)return e;const o=mt((...n)=>D0(e(...n)),s);return o._c=!1,o},Hb=(t,e,s)=>{const o=t._ctx;for(const n in t){if(Nb(n))continue;const i=t[n];if(nt(i))e[n]=Pk(n,i,o);else if(i!=null){const l=D0(i);e[n]=()=>l}}},jb=(t,e)=>{const s=D0(e);t.slots.default=()=>s},Gb=(t,e,s)=>{for(const o in e)(s||o!=="_")&&(t[o]=e[o])},Tk=(t,e,s)=>{const o=t.slots=Ub();if(t.vnode.shapeFlag&32){const n=e._;n?(Gb(o,e,s),s&&Nh(o,"_",n,!0)):Hb(e,o)}else e&&jb(t,e)},Lk=(t,e,s)=>{const{vnode:o,slots:n}=t;let i=!0,l=xt;if(o.shapeFlag&32){const c=e._;c?s&&c===1?i=!1:Gb(n,e,s):(i=!e.$stable,Hb(e,n)),l=e}else e&&(jb(t,e),l={default:1});if(i)for(const c in n)!Nb(c)&&l[c]==null&&delete n[c]},ws=zk;function Ik(t){return Dk(t)}function Dk(t,e){const s=Kl();s.__VUE__=!0;const{insert:o,remove:n,patchProp:i,createElement:l,createText:c,createComment:d,setText:u,setElementText:m,parentNode:p,nextSibling:y,setScopeId:v=Ao,insertStaticContent:S}=t,_=(z,K,H,T=null,D=null,X=null,ae=void 0,ue=null,ke=!!K.dynamicChildren)=>{if(z===K)return;z&&!Or(z,K)&&(T=we(z),ve(z,D,X,!0),z=null),K.patchFlag===-2&&(ke=!1,K.dynamicChildren=null);const{type:ge,ref:Pe,shapeFlag:fe}=K;switch(ge){case rc:C(z,K,H,T);break;case $s:x(z,K,H,T);break;case ul:z==null&&$(K,H,T,ae);break;case Ce:j(z,K,H,T,D,X,ae,ue,ke);break;default:fe&1?P(z,K,H,T,D,X,ae,ue,ke):fe&6?ee(z,K,H,T,D,X,ae,ue,ke):(fe&64||fe&128)&&ge.process(z,K,H,T,D,X,ae,ue,ke,me)}Pe!=null&&D&&Sl(Pe,z&&z.ref,X,K||z,!K)},C=(z,K,H,T)=>{if(z==null)o(K.el=c(K.children),H,T);else{const D=K.el=z.el;K.children!==z.children&&u(D,K.children)}},x=(z,K,H,T)=>{z==null?o(K.el=d(K.children||""),H,T):K.el=z.el},$=(z,K,H,T)=>{[z.el,z.anchor]=S(z.children,K,H,T,z.el,z.anchor)},A=({el:z,anchor:K},H,T)=>{let D;for(;z&&z!==K;)D=y(z),o(z,H,T),z=D;o(K,H,T)},M=({el:z,anchor:K})=>{let H;for(;z&&z!==K;)H=y(z),n(z),z=H;n(K)},P=(z,K,H,T,D,X,ae,ue,ke)=>{K.type==="svg"?ae="svg":K.type==="math"&&(ae="mathml"),z==null?L(K,H,T,D,X,ae,ue,ke):I(z,K,D,X,ae,ue,ke)},L=(z,K,H,T,D,X,ae,ue)=>{let ke,ge;const{props:Pe,shapeFlag:fe,transition:E,dirs:w}=z;if(ke=z.el=l(z.type,X,Pe&&Pe.is,Pe),fe&8?m(ke,z.children):fe&16&&k(z.children,ke,null,T,D,Qd(z,X),ae,ue),w&&$r(z,null,T,"created"),B(ke,z,z.scopeId,ae,T),Pe){for(const q in Pe)q!=="value"&&!wa(q)&&i(ke,q,null,Pe[q],X,T);"value"in Pe&&i(ke,"value",null,Pe.value,X),(ge=Pe.onVnodeBeforeMount)&&yo(ge,T,z)}w&&$r(z,null,T,"beforeMount");const F=Fk(D,E);F&&E.beforeEnter(ke),o(ke,K,H),((ge=Pe&&Pe.onVnodeMounted)||F||w)&&ws(()=>{ge&&yo(ge,T,z),F&&E.enter(ke),w&&$r(z,null,T,"mounted")},D)},B=(z,K,H,T,D)=>{if(H&&v(z,H),T)for(let X=0;X<T.length;X++)v(z,T[X]);if(D){let X=D.subTree;if(K===X||Yb(X.type)&&(X.ssContent===K||X.ssFallback===K)){const ae=D.vnode;B(z,ae,ae.scopeId,ae.slotScopeIds,D.parent)}}},k=(z,K,H,T,D,X,ae,ue,ke=0)=>{for(let ge=ke;ge<z.length;ge++){const Pe=z[ge]=ue?ir(z[ge]):Co(z[ge]);_(null,Pe,K,H,T,D,X,ae,ue)}},I=(z,K,H,T,D,X,ae)=>{const ue=K.el=z.el;let{patchFlag:ke,dynamicChildren:ge,dirs:Pe}=K;ke|=z.patchFlag&16;const fe=z.props||xt,E=K.props||xt;let w;if(H&&Er(H,!1),(w=E.onVnodeBeforeUpdate)&&yo(w,H,K,z),Pe&&$r(K,z,H,"beforeUpdate"),H&&Er(H,!0),(fe.innerHTML&&E.innerHTML==null||fe.textContent&&E.textContent==null)&&m(ue,""),ge?N(z.dynamicChildren,ge,ue,H,T,Qd(K,D),X):ae||G(z,K,ue,null,H,T,Qd(K,D),X,!1),ke>0){if(ke&16)U(ue,fe,E,H,D);else if(ke&2&&fe.class!==E.class&&i(ue,"class",null,E.class,D),ke&4&&i(ue,"style",fe.style,E.style,D),ke&8){const F=K.dynamicProps;for(let q=0;q<F.length;q++){const Z=F[q],J=fe[Z],te=E[Z];(te!==J||Z==="value")&&i(ue,Z,J,te,D,H)}}ke&1&&z.children!==K.children&&m(ue,K.children)}else!ae&&ge==null&&U(ue,fe,E,H,D);((w=E.onVnodeUpdated)||Pe)&&ws(()=>{w&&yo(w,H,K,z),Pe&&$r(K,z,H,"updated")},T)},N=(z,K,H,T,D,X,ae)=>{for(let ue=0;ue<K.length;ue++){const ke=z[ue],ge=K[ue],Pe=ke.el&&(ke.type===Ce||!Or(ke,ge)||ke.shapeFlag&70)?p(ke.el):H;_(ke,ge,Pe,null,T,D,X,ae,!0)}},U=(z,K,H,T,D)=>{if(K!==H){if(K!==xt)for(const X in K)!wa(X)&&!(X in H)&&i(z,X,K[X],null,D,T);for(const X in H){if(wa(X))continue;const ae=H[X],ue=K[X];ae!==ue&&X!=="value"&&i(z,X,ue,ae,D,T)}"value"in H&&i(z,"value",K.value,H.value,D)}},j=(z,K,H,T,D,X,ae,ue,ke)=>{const ge=K.el=z?z.el:c(""),Pe=K.anchor=z?z.anchor:c("");let{patchFlag:fe,dynamicChildren:E,slotScopeIds:w}=K;w&&(ue=ue?ue.concat(w):w),z==null?(o(ge,H,T),o(Pe,H,T),k(K.children||[],H,Pe,D,X,ae,ue,ke)):fe>0&&fe&64&&E&&z.dynamicChildren?(N(z.dynamicChildren,E,H,D,X,ae,ue),(K.key!=null||D&&K===D.subTree)&&F0(z,K,!0)):G(z,K,H,Pe,D,X,ae,ue,ke)},ee=(z,K,H,T,D,X,ae,ue,ke)=>{K.slotScopeIds=ue,z==null?K.shapeFlag&512?D.ctx.activate(K,H,T,ae,ke):ne(K,H,T,D,X,ae,ke):oe(z,K,ke)},ne=(z,K,H,T,D,X,ae)=>{const ue=z.component=e_(z,T,D);if(ec(z)&&(ue.ctx.renderer=me),t_(ue,!1,ae),ue.asyncDep){if(D&&D.registerDep(ue,O,ae),!z.el){const ke=ue.subTree=Fe($s);x(null,ke,K,H)}}else O(ue,z,K,H,D,X,ae)},oe=(z,K,H)=>{const T=K.component=z.component;if(Vk(z,K,H))if(T.asyncDep&&!T.asyncResolved){Y(T,K,H);return}else T.next=K,T.update();else K.el=z.el,T.vnode=K},O=(z,K,H,T,D,X,ae)=>{const ue=()=>{if(z.isMounted){let{next:fe,bu:E,u:w,parent:F,vnode:q}=z;{const $e=Vb(z);if($e){fe&&(fe.el=q.el,Y(z,fe,ae)),$e.asyncDep.then(()=>{z.isUnmounted||ue()});return}}let Z=fe,J;Er(z,!1),fe?(fe.el=q.el,Y(z,fe,ae)):fe=q,E&&cl(E),(J=fe.props&&fe.props.onVnodeBeforeUpdate)&&yo(J,F,fe,q),Er(z,!0);const te=wp(z),ye=z.subTree;z.subTree=te,_(ye,te,p(ye.el),we(ye),z,D,X),fe.el=te.el,Z===null&&Qk(z,te.el),w&&ws(w,D),(J=fe.props&&fe.props.onVnodeUpdated)&&ws(()=>yo(J,F,fe,q),D)}else{let fe;const{el:E,props:w}=K,{bm:F,m:q,parent:Z,root:J,type:te}=z,ye=Tn(K);Er(z,!1),F&&cl(F),!ye&&(fe=w&&w.onVnodeBeforeMount)&&yo(fe,Z,K),Er(z,!0);{J.ce&&J.ce._injectChildStyle(te);const $e=z.subTree=wp(z);_(null,$e,H,T,z,D,X),K.el=$e.el}if(q&&ws(q,D),!ye&&(fe=w&&w.onVnodeMounted)){const $e=K;ws(()=>yo(fe,Z,$e),D)}(K.shapeFlag&256||Z&&Tn(Z.vnode)&&Z.vnode.shapeFlag&256)&&z.a&&ws(z.a,D),z.isMounted=!0,K=H=T=null}};z.scope.on();const ke=z.effect=new Wh(ue);z.scope.off();const ge=z.update=ke.run.bind(ke),Pe=z.job=ke.runIfDirty.bind(ke);Pe.i=z,Pe.id=z.uid,ke.scheduler=()=>T0(Pe),Er(z,!0),ge()},Y=(z,K,H)=>{K.component=z;const T=z.vnode.props;z.vnode=K,z.next=null,Ak(z,K.props,T,H),Lk(z,K.children,H),xr(),mp(z),kr()},G=(z,K,H,T,D,X,ae,ue,ke=!1)=>{const ge=z&&z.children,Pe=z?z.shapeFlag:0,fe=K.children,{patchFlag:E,shapeFlag:w}=K;if(E>0){if(E&128){re(ge,fe,H,T,D,X,ae,ue,ke);return}else if(E&256){de(ge,fe,H,T,D,X,ae,ue,ke);return}}w&8?(Pe&16&&He(ge,D,X),fe!==ge&&m(H,fe)):Pe&16?w&16?re(ge,fe,H,T,D,X,ae,ue,ke):He(ge,D,X,!0):(Pe&8&&m(H,""),w&16&&k(fe,H,T,D,X,ae,ue,ke))},de=(z,K,H,T,D,X,ae,ue,ke)=>{z=z||An,K=K||An;const ge=z.length,Pe=K.length,fe=Math.min(ge,Pe);let E;for(E=0;E<fe;E++){const w=K[E]=ke?ir(K[E]):Co(K[E]);_(z[E],w,H,null,D,X,ae,ue,ke)}ge>Pe?He(z,D,X,!0,!1,fe):k(K,H,T,D,X,ae,ue,ke,fe)},re=(z,K,H,T,D,X,ae,ue,ke)=>{let ge=0;const Pe=K.length;let fe=z.length-1,E=Pe-1;for(;ge<=fe&&ge<=E;){const w=z[ge],F=K[ge]=ke?ir(K[ge]):Co(K[ge]);if(Or(w,F))_(w,F,H,null,D,X,ae,ue,ke);else break;ge++}for(;ge<=fe&&ge<=E;){const w=z[fe],F=K[E]=ke?ir(K[E]):Co(K[E]);if(Or(w,F))_(w,F,H,null,D,X,ae,ue,ke);else break;fe--,E--}if(ge>fe){if(ge<=E){const w=E+1,F=w<Pe?K[w].el:T;for(;ge<=E;)_(null,K[ge]=ke?ir(K[ge]):Co(K[ge]),H,F,D,X,ae,ue,ke),ge++}}else if(ge>E)for(;ge<=fe;)ve(z[ge],D,X,!0),ge++;else{const w=ge,F=ge,q=new Map;for(ge=F;ge<=E;ge++){const Ne=K[ge]=ke?ir(K[ge]):Co(K[ge]);Ne.key!=null&&q.set(Ne.key,ge)}let Z,J=0;const te=E-F+1;let ye=!1,$e=0;const Ee=new Array(te);for(ge=0;ge<te;ge++)Ee[ge]=0;for(ge=w;ge<=fe;ge++){const Ne=z[ge];if(J>=te){ve(Ne,D,X,!0);continue}let Ge;if(Ne.key!=null)Ge=q.get(Ne.key);else for(Z=F;Z<=E;Z++)if(Ee[Z-F]===0&&Or(Ne,K[Z])){Ge=Z;break}Ge===void 0?ve(Ne,D,X,!0):(Ee[Ge-F]=ge+1,Ge>=$e?$e=Ge:ye=!0,_(Ne,K[Ge],H,null,D,X,ae,ue,ke),J++)}const Re=ye?Rk(Ee):An;for(Z=Re.length-1,ge=te-1;ge>=0;ge--){const Ne=F+ge,Ge=K[Ne],ft=Ne+1<Pe?K[Ne+1].el:T;Ee[ge]===0?_(null,Ge,H,ft,D,X,ae,ue,ke):ye&&(Z<0||ge!==Re[Z]?he(Ge,H,ft,2):Z--)}}},he=(z,K,H,T,D=null)=>{const{el:X,type:ae,transition:ue,children:ke,shapeFlag:ge}=z;if(ge&6){he(z.component.subTree,K,H,T);return}if(ge&128){z.suspense.move(K,H,T);return}if(ge&64){ae.move(z,K,H,me);return}if(ae===Ce){o(X,K,H);for(let fe=0;fe<ke.length;fe++)he(ke[fe],K,H,T);o(z.anchor,K,H);return}if(ae===ul){A(z,K,H);return}if(T!==2&&ge&1&&ue)if(T===0)ue.beforeEnter(X),o(X,K,H),ws(()=>ue.enter(X),D);else{const{leave:fe,delayLeave:E,afterLeave:w}=ue,F=()=>o(X,K,H),q=()=>{fe(X,()=>{F(),w&&w()})};E?E(X,F,q):q()}else o(X,K,H)},ve=(z,K,H,T=!1,D=!1)=>{const{type:X,props:ae,ref:ue,children:ke,dynamicChildren:ge,shapeFlag:Pe,patchFlag:fe,dirs:E,cacheIndex:w}=z;if(fe===-2&&(D=!1),ue!=null&&Sl(ue,null,H,z,!0),w!=null&&(K.renderCache[w]=void 0),Pe&256){K.ctx.deactivate(z);return}const F=Pe&1&&E,q=!Tn(z);let Z;if(q&&(Z=ae&&ae.onVnodeBeforeUnmount)&&yo(Z,K,z),Pe&6)Oe(z.component,H,T);else{if(Pe&128){z.suspense.unmount(H,T);return}F&&$r(z,null,K,"beforeUnmount"),Pe&64?z.type.remove(z,K,H,me,T):ge&&!ge.hasOnce&&(X!==Ce||fe>0&&fe&64)?He(ge,K,H,!1,!0):(X===Ce&&fe&384||!D&&Pe&16)&&He(ke,K,H),T&&Se(z)}(q&&(Z=ae&&ae.onVnodeUnmounted)||F)&&ws(()=>{Z&&yo(Z,K,z),F&&$r(z,null,K,"unmounted")},H)},Se=z=>{const{type:K,el:H,anchor:T,transition:D}=z;if(K===Ce){Me(H,T);return}if(K===ul){M(z);return}const X=()=>{n(H),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(z.shapeFlag&1&&D&&!D.persisted){const{leave:ae,delayLeave:ue}=D,ke=()=>ae(H,X);ue?ue(z.el,X,ke):ke()}else X()},Me=(z,K)=>{let H;for(;z!==K;)H=y(z),n(z),z=H;n(K)},Oe=(z,K,H)=>{const{bum:T,scope:D,job:X,subTree:ae,um:ue,m:ke,a:ge}=z;_p(ke),_p(ge),T&&cl(T),D.stop(),X&&(X.flags|=8,ve(ae,z,K,H)),ue&&ws(ue,K),ws(()=>{z.isUnmounted=!0},K),K&&K.pendingBranch&&!K.isUnmounted&&z.asyncDep&&!z.asyncResolved&&z.suspenseId===K.pendingId&&(K.deps--,K.deps===0&&K.resolve())},He=(z,K,H,T=!1,D=!1,X=0)=>{for(let ae=X;ae<z.length;ae++)ve(z[ae],K,H,T,D)},we=z=>{if(z.shapeFlag&6)return we(z.component.subTree);if(z.shapeFlag&128)return z.suspense.next();const K=y(z.anchor||z.el),H=K&&K[vb];return H?y(H):K};let _e=!1;const pe=(z,K,H)=>{z==null?K._vnode&&ve(K._vnode,null,null,!0):_(K._vnode||null,z,K,null,null,null,H),K._vnode=z,_e||(_e=!0,mp(),gb(),_e=!1)},me={p:_,um:ve,m:he,r:Se,mt:ne,mc:k,pc:G,pbc:N,n:we,o:t};return{render:pe,hydrate:void 0,createApp:$k(pe)}}function Qd({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Er({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Fk(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function F0(t,e,s=!1){const o=t.children,n=e.children;if(Ye(o)&&Ye(n))for(let i=0;i<o.length;i++){const l=o[i];let c=n[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=n[i]=ir(n[i]),c.el=l.el),!s&&c.patchFlag!==-2&&F0(l,c)),c.type===rc&&(c.el=l.el)}}function Rk(t){const e=t.slice(),s=[0];let o,n,i,l,c;const d=t.length;for(o=0;o<d;o++){const u=t[o];if(u!==0){if(n=s[s.length-1],t[n]<u){e[o]=n,s.push(o);continue}for(i=0,l=s.length-1;i<l;)c=i+l>>1,t[s[c]]<u?i=c+1:l=c;u<t[s[i]]&&(i>0&&(e[o]=s[i-1]),s[i]=o)}}for(i=s.length,l=s[i-1];i-- >0;)s[i]=l,l=e[l];return s}function Vb(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Vb(e)}function _p(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Uk=Symbol.for("v-scx"),Bk=()=>Bs(Uk);function Ur(t,e){return sc(t,null,e)}function qk(t,e){return sc(t,null,{flush:"sync"})}function We(t,e,s){return sc(t,e,s)}function sc(t,e,s=xt){const{immediate:o,deep:n,flush:i,once:l}=s,c=Zt({},s),d=e&&o||!e&&i!=="post";let u;if(za){if(i==="sync"){const v=Bk();u=v.__watcherHandles||(v.__watcherHandles=[])}else if(!d){const v=()=>{};return v.stop=Ao,v.resume=Ao,v.pause=Ao,v}}const m=is;c.call=(v,S,_)=>ho(v,m,S,_);let p=!1;i==="post"?c.scheduler=v=>{ws(v,m&&m.suspense)}:i!=="sync"&&(p=!0,c.scheduler=(v,S)=>{S?v():T0(v)}),c.augmentJob=v=>{e&&(v.flags|=4),p&&(v.flags|=2,m&&(v.id=m.uid,v.i=m))};const y=Jx(t,e,c);return za&&(u?u.push(y):d&&y()),y}function Ok(t,e,s){const o=this.proxy,n=Qt(t)?t.includes(".")?Qb(o,t):()=>o[t]:t.bind(o,o);let i;nt(e)?i=e:(i=e.handler,s=e);const l=pi(this),c=sc(n,i.bind(o),s);return l(),c}function Qb(t,e){const s=e.split(".");return()=>{let o=t;for(let n=0;n<s.length&&o;n++)o=o[s[n]];return o}}function Nk(t,e,s=xt){const o=Gn(),n=Ks(e),i=Vo(e),l=zb(t,n),c=Qx((d,u)=>{let m,p=xt,y;return qk(()=>{const v=t[n];Fs(m,v)&&(m=v,u())}),{get(){return d(),s.get?s.get(m):m},set(v){const S=s.set?s.set(v):v;if(!Fs(S,m)&&!(p!==xt&&Fs(v,p)))return;const _=o.vnode.props;_&&(e in _||n in _||i in _)&&(`onUpdate:${e}`in _||`onUpdate:${n}`in _||`onUpdate:${i}`in _)||(m=v,u()),o.emit(`update:${e}`,S),Fs(v,S)&&Fs(v,p)&&!Fs(S,y)&&u(),p=v,y=S}}});return c[Symbol.iterator]=()=>{let d=0;return{next(){return d<2?{value:d++?l||xt:c,done:!1}:{done:!0}}}},c}const zb=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ks(e)}Modifiers`]||t[`${Vo(e)}Modifiers`];function Hk(t,e,...s){if(t.isUnmounted)return;const o=t.vnode.props||xt;let n=s;const i=e.startsWith("update:"),l=i&&zb(o,e.slice(7));l&&(l.trim&&(n=s.map(m=>Qt(m)?m.trim():m)),l.number&&(n=s.map(xl)));let c,d=o[c=qd(e)]||o[c=qd(Ks(e))];!d&&i&&(d=o[c=qd(Vo(e))]),d&&ho(d,t,6,n);const u=o[c+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,ho(u,t,6,n)}}function Wb(t,e,s=!1){const o=e.emitsCache,n=o.get(t);if(n!==void 0)return n;const i=t.emits;let l={},c=!1;if(!nt(t)){const d=u=>{const m=Wb(u,e,!0);m&&(c=!0,Zt(l,m))};!s&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}return!i&&!c?(At(t)&&o.set(t,null),null):(Ye(i)?i.forEach(d=>l[d]=null):Zt(l,i),At(t)&&o.set(t,l),l)}function oc(t,e){return!t||!zl(e)?!1:(e=e.slice(2).replace(/Once$/,""),St(t,e[0].toLowerCase()+e.slice(1))||St(t,Vo(e))||St(t,e))}function wp(t){const{type:e,vnode:s,proxy:o,withProxy:n,propsOptions:[i],slots:l,attrs:c,emit:d,render:u,renderCache:m,props:p,data:y,setupState:v,ctx:S,inheritAttrs:_}=t,C=Cl(t);let x,$;try{if(s.shapeFlag&4){const M=n||o,P=M;x=Co(u.call(P,M,m,p,v,y,S)),$=c}else{const M=e;x=Co(M.length>1?M(p,{attrs:c,slots:l,emit:d}):M(p,null)),$=e.props?c:jk(c)}}catch(M){Ma.length=0,Jl(M,t,1),x=Fe($s)}let A=x;if($&&_!==!1){const M=Object.keys($),{shapeFlag:P}=A;M.length&&P&7&&(i&&M.some(y0)&&($=Gk($,i)),A=br(A,$,!1,!0))}return s.dirs&&(A=br(A,null,!1,!0),A.dirs=A.dirs?A.dirs.concat(s.dirs):s.dirs),s.transition&&Xr(A,s.transition),x=A,Cl(C),x}const jk=t=>{let e;for(const s in t)(s==="class"||s==="style"||zl(s))&&((e||(e={}))[s]=t[s]);return e},Gk=(t,e)=>{const s={};for(const o in t)(!y0(o)||!(o.slice(9)in e))&&(s[o]=t[o]);return s};function Vk(t,e,s){const{props:o,children:n,component:i}=t,{props:l,children:c,patchFlag:d}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&d>=0){if(d&1024)return!0;if(d&16)return o?Cp(o,l,u):!!l;if(d&8){const m=e.dynamicProps;for(let p=0;p<m.length;p++){const y=m[p];if(l[y]!==o[y]&&!oc(u,y))return!0}}}else return(n||c)&&(!c||!c.$stable)?!0:o===l?!1:o?l?Cp(o,l,u):!0:!!l;return!1}function Cp(t,e,s){const o=Object.keys(e);if(o.length!==Object.keys(t).length)return!0;for(let n=0;n<o.length;n++){const i=o[n];if(e[i]!==t[i]&&!oc(s,i))return!0}return!1}function Qk({vnode:t,parent:e},s){for(;e;){const o=e.subTree;if(o.suspense&&o.suspense.activeBranch===t&&(o.el=t.el),o===t)(t=e.vnode).el=s,e=e.parent;else break}}const Yb=t=>t.__isSuspense;function zk(t,e){e&&e.pendingBranch?Ye(t)?e.effects.push(...t):e.effects.push(t):sk(t)}const Ce=Symbol.for("v-fgt"),rc=Symbol.for("v-txt"),$s=Symbol.for("v-cmt"),ul=Symbol.for("v-stc"),Ma=[];let Qs=null;function f(t=!1){Ma.push(Qs=t?null:[])}function Wk(){Ma.pop(),Qs=Ma[Ma.length-1]||null}let Va=1;function Sp(t,e=!1){Va+=t,t<0&&Qs&&e&&(Qs.hasOnce=!0)}function Kb(t){return t.dynamicChildren=Va>0?Qs||An:null,Wk(),Va>0&&Qs&&Qs.push(t),t}function h(t,e,s,o,n,i){return Kb(r(t,e,s,o,n,i,!0))}function rt(t,e,s,o,n){return Kb(Fe(t,e,s,o,n,!0))}function Qa(t){return t?t.__v_isVNode===!0:!1}function Or(t,e){return t.type===e.type&&t.key===e.key}const Xb=({key:t})=>t??null,ml=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?Qt(t)||Mt(t)||nt(t)?{i:es,r:t,k:e,f:!!s}:t:null);function r(t,e=null,s=null,o=0,n=null,i=t===Ce?0:1,l=!1,c=!1){const d={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Xb(e),ref:e&&ml(e),scopeId:bb,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:o,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:es};return c?(R0(d,s),i&128&&t.normalize(d)):s&&(d.shapeFlag|=Qt(s)?8:16),Va>0&&!l&&Qs&&(d.patchFlag>0||i&6)&&d.patchFlag!==32&&Qs.push(d),d}const Fe=Yk;function Yk(t,e=null,s=null,o=0,n=null,i=!1){if((!t||t===hk)&&(t=$s),Qa(t)){const c=br(t,e,!0);return s&&R0(c,s),Va>0&&!i&&Qs&&(c.shapeFlag&6?Qs[Qs.indexOf(t)]=c:Qs.push(c)),c.patchFlag=-2,c}if(a_(t)&&(t=t.__vccOpts),e){e=Kk(e);let{class:c,style:d}=e;c&&!Qt(c)&&(e.class=V(c)),At(d)&&(di(d)&&!Ye(d)&&(d=Zt({},d)),e.style=Je(d))}const l=Qt(t)?1:Yb(t)?128:yb(t)?64:At(t)?4:nt(t)?2:0;return r(t,e,s,o,n,l,i,!0)}function Kk(t){return t?di(t)||Bb(t)?Zt({},t):t:null}function br(t,e,s=!1,o=!1){const{props:n,ref:i,patchFlag:l,children:c,transition:d}=t,u=e?Xk(n||{},e):n,m={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Xb(u),ref:e&&e.ref?s&&i?Ye(i)?i.concat(ml(e)):[i,ml(e)]:ml(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ce?l===-1?16:l|16:l,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:d,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&br(t.ssContent),ssFallback:t.ssFallback&&br(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return d&&o&&Xr(m,d.clone(m)),m}function se(t=" ",e=0){return Fe(rc,null,t,e)}function qt(t,e){const s=Fe(ul,null,t);return s.staticCount=e,s}function Q(t="",e=!1){return e?(f(),rt($s,null,t)):Fe($s,null,t)}function Co(t){return t==null||typeof t=="boolean"?Fe($s):Ye(t)?Fe(Ce,null,t.slice()):Qa(t)?ir(t):Fe(rc,null,String(t))}function ir(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:br(t)}function R0(t,e){let s=0;const{shapeFlag:o}=t;if(e==null)e=null;else if(Ye(e))s=16;else if(typeof e=="object")if(o&65){const n=e.default;n&&(n._c&&(n._d=!1),R0(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!Bb(e)?e._ctx=es:n===3&&es&&(es.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else nt(e)?(e={default:e,_ctx:es},s=32):(e=String(e),o&64?(s=16,e=[se(e)]):s=8);t.children=e,t.shapeFlag|=s}function Xk(...t){const e={};for(let s=0;s<t.length;s++){const o=t[s];for(const n in o)if(n==="class")e.class!==o.class&&(e.class=V([e.class,o.class]));else if(n==="style")e.style=Je([e.style,o.style]);else if(zl(n)){const i=e[n],l=o[n];l&&i!==l&&!(Ye(i)&&i.includes(l))&&(e[n]=i?[].concat(i,l):l)}else n!==""&&(e[n]=o[n])}return e}function yo(t,e,s,o=null){ho(t,e,7,[s,o])}const Zk=Fb();let Jk=0;function e_(t,e,s){const o=t.type,n=(e?e.appContext:t.appContext)||Zk,i={uid:Jk++,vnode:t,type:o,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Vh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ob(o,n),emitsOptions:Wb(o,n),emit:null,emitted:null,propsDefaults:xt,inheritAttrs:o.inheritAttrs,ctx:xt,data:xt,props:xt,attrs:xt,slots:xt,refs:xt,setupState:xt,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Hk.bind(null,i),t.ce&&t.ce(i),i}let is=null;const Gn=()=>is||es;let Al,Bu;{const t=Kl(),e=(s,o)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(o),i=>{n.length>1?n.forEach(l=>l(i)):n[0](i)}};Al=e("__VUE_INSTANCE_SETTERS__",s=>is=s),Bu=e("__VUE_SSR_SETTERS__",s=>za=s)}const pi=t=>{const e=is;return Al(t),t.scope.on(),()=>{t.scope.off(),Al(e)}},$p=()=>{is&&is.scope.off(),Al(null)};function Zb(t){return t.vnode.shapeFlag&4}let za=!1;function t_(t,e=!1,s=!1){e&&Bu(e);const{props:o,children:n}=t.vnode,i=Zb(t);Ek(t,o,i,e),Tk(t,n,s);const l=i?s_(t,e):void 0;return e&&Bu(!1),l}function s_(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,vk);const{setup:o}=s;if(o){xr();const n=t.setupContext=o.length>1?r_(t):null,i=pi(t),l=ui(o,t,0,[t.props,n]),c=Bh(l);if(kr(),i(),(c||t.sp)&&!Tn(t)&&Ab(t),c){if(l.then($p,$p),e)return l.then(d=>{Ep(t,d)}).catch(d=>{Jl(d,t,0)});t.asyncDep=l}else Ep(t,l)}else Jb(t)}function Ep(t,e,s){nt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:At(e)&&(t.setupState=db(e)),Jb(t)}function Jb(t,e,s){const o=t.type;t.render||(t.render=o.render||Ao);{const n=pi(t);xr();try{xk(t)}finally{kr(),n()}}}const o_={get(t,e){return bs(t,"get",""),t[e]}};function r_(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,o_),slots:t.slots,emit:t.emit,expose:e}}function nc(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(db(P0(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Ea)return Ea[s](t)},has(e,s){return s in e||s in Ea}})):t.proxy}function n_(t,e=!0){return nt(t)?t.displayName||t.name:t.name||e&&t.__name}function a_(t){return nt(t)&&"__vccOpts"in t}const R=(t,e)=>Xx(t,e,za);function Ds(t,e,s){const o=arguments.length;return o===2?At(e)&&!Ye(e)?Qa(e)?Fe(t,null,[e]):Fe(t,e):Fe(t,null,e):(o>3?s=Array.prototype.slice.call(arguments,2):o===3&&Qa(s)&&(s=[s]),Fe(t,e,s))}const ev="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let qu;const Ap=typeof window<"u"&&window.trustedTypes;if(Ap)try{qu=Ap.createPolicy("vue",{createHTML:t=>t})}catch{}const tv=qu?t=>qu.createHTML(t):t=>t,i_="http://www.w3.org/2000/svg",l_="http://www.w3.org/1998/Math/MathML",Uo=typeof document<"u"?document:null,Mp=Uo&&Uo.createElement("template"),c_={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,o)=>{const n=e==="svg"?Uo.createElementNS(i_,t):e==="mathml"?Uo.createElementNS(l_,t):s?Uo.createElement(t,{is:s}):Uo.createElement(t);return t==="select"&&o&&o.multiple!=null&&n.setAttribute("multiple",o.multiple),n},createText:t=>Uo.createTextNode(t),createComment:t=>Uo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Uo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,o,n,i){const l=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Mp.innerHTML=tv(o==="svg"?`<svg>${t}</svg>`:o==="mathml"?`<math>${t}</math>`:t);const c=Mp.content;if(o==="svg"||o==="mathml"){const d=c.firstChild;for(;d.firstChild;)c.appendChild(d.firstChild);c.removeChild(d)}e.insertBefore(c,s)}return[l?l.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Yo="transition",ta="animation",Fn=Symbol("_vtc"),sv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ov=Zt({},Cb,sv),d_=t=>(t.displayName="Transition",t.props=ov,t),fo=d_((t,{slots:e})=>Ds(nk,rv(t),e)),Ar=(t,e=[])=>{Ye(t)?t.forEach(s=>s(...e)):t&&t(...e)},Pp=t=>t?Ye(t)?t.some(e=>e.length>1):t.length>1:!1;function rv(t){const e={};for(const j in t)j in sv||(e[j]=t[j]);if(t.css===!1)return e;const{name:s="v",type:o,duration:n,enterFromClass:i=`${s}-enter-from`,enterActiveClass:l=`${s}-enter-active`,enterToClass:c=`${s}-enter-to`,appearFromClass:d=i,appearActiveClass:u=l,appearToClass:m=c,leaveFromClass:p=`${s}-leave-from`,leaveActiveClass:y=`${s}-leave-active`,leaveToClass:v=`${s}-leave-to`}=t,S=u_(n),_=S&&S[0],C=S&&S[1],{onBeforeEnter:x,onEnter:$,onEnterCancelled:A,onLeave:M,onLeaveCancelled:P,onBeforeAppear:L=x,onAppear:B=$,onAppearCancelled:k=A}=e,I=(j,ee,ne,oe)=>{j._enterCancelled=oe,tr(j,ee?m:c),tr(j,ee?u:l),ne&&ne()},N=(j,ee)=>{j._isLeaving=!1,tr(j,p),tr(j,v),tr(j,y),ee&&ee()},U=j=>(ee,ne)=>{const oe=j?B:$,O=()=>I(ee,j,ne);Ar(oe,[ee,O]),Tp(()=>{tr(ee,j?d:i),xo(ee,j?m:c),Pp(oe)||Lp(ee,o,_,O)})};return Zt(e,{onBeforeEnter(j){Ar(x,[j]),xo(j,i),xo(j,l)},onBeforeAppear(j){Ar(L,[j]),xo(j,d),xo(j,u)},onEnter:U(!1),onAppear:U(!0),onLeave(j,ee){j._isLeaving=!0;const ne=()=>N(j,ee);xo(j,p),j._enterCancelled?(xo(j,y),Ou()):(Ou(),xo(j,y)),Tp(()=>{j._isLeaving&&(tr(j,p),xo(j,v),Pp(M)||Lp(j,o,C,ne))}),Ar(M,[j,ne])},onEnterCancelled(j){I(j,!1,void 0,!0),Ar(A,[j])},onAppearCancelled(j){I(j,!0,void 0,!0),Ar(k,[j])},onLeaveCancelled(j){N(j),Ar(P,[j])}})}function u_(t){if(t==null)return null;if(At(t))return[zd(t.enter),zd(t.leave)];{const e=zd(t);return[e,e]}}function zd(t){return hx(t)}function xo(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[Fn]||(t[Fn]=new Set)).add(e)}function tr(t,e){e.split(/\s+/).forEach(o=>o&&t.classList.remove(o));const s=t[Fn];s&&(s.delete(e),s.size||(t[Fn]=void 0))}function Tp(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let m_=0;function Lp(t,e,s,o){const n=t._endId=++m_,i=()=>{n===t._endId&&o()};if(s!=null)return setTimeout(i,s);const{type:l,timeout:c,propCount:d}=nv(t,e);if(!l)return o();const u=l+"end";let m=0;const p=()=>{t.removeEventListener(u,y),i()},y=v=>{v.target===t&&++m>=d&&p()};setTimeout(()=>{m<d&&p()},c+1),t.addEventListener(u,y)}function nv(t,e){const s=window.getComputedStyle(t),o=S=>(s[S]||"").split(", "),n=o(`${Yo}Delay`),i=o(`${Yo}Duration`),l=Ip(n,i),c=o(`${ta}Delay`),d=o(`${ta}Duration`),u=Ip(c,d);let m=null,p=0,y=0;e===Yo?l>0&&(m=Yo,p=l,y=i.length):e===ta?u>0&&(m=ta,p=u,y=d.length):(p=Math.max(l,u),m=p>0?l>u?Yo:ta:null,y=m?m===Yo?i.length:d.length:0);const v=m===Yo&&/\b(transform|all)(,|$)/.test(o(`${Yo}Property`).toString());return{type:m,timeout:p,propCount:y,hasTransform:v}}function Ip(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,o)=>Dp(s)+Dp(t[o])))}function Dp(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Ou(){return document.body.offsetHeight}function p_(t,e,s){const o=t[Fn];o&&(e=(e?[e,...o]:[...o]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Ml=Symbol("_vod"),av=Symbol("_vsh"),Cn={beforeMount(t,{value:e},{transition:s}){t[Ml]=t.style.display==="none"?"":t.style.display,s&&e?s.beforeEnter(t):sa(t,e)},mounted(t,{value:e},{transition:s}){s&&e&&s.enter(t)},updated(t,{value:e,oldValue:s},{transition:o}){!e!=!s&&(o?e?(o.beforeEnter(t),sa(t,!0),o.enter(t)):o.leave(t,()=>{sa(t,!1)}):sa(t,e))},beforeUnmount(t,{value:e}){sa(t,e)}};function sa(t,e){t.style.display=e?t[Ml]:"none",t[av]=!e}const f_=Symbol(""),g_=/(^|;)\s*display\s*:/;function h_(t,e,s){const o=t.style,n=Qt(s);let i=!1;if(s&&!n){if(e)if(Qt(e))for(const l of e.split(";")){const c=l.slice(0,l.indexOf(":")).trim();s[c]==null&&pl(o,c,"")}else for(const l in e)s[l]==null&&pl(o,l,"");for(const l in s)l==="display"&&(i=!0),pl(o,l,s[l])}else if(n){if(e!==s){const l=o[f_];l&&(s+=";"+l),o.cssText=s,i=g_.test(s)}}else e&&t.removeAttribute("style");Ml in t&&(t[Ml]=i?o.display:"",t[av]&&(o.display="none"))}const Fp=/\s*!important$/;function pl(t,e,s){if(Ye(s))s.forEach(o=>pl(t,e,o));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const o=b_(t,e);Fp.test(s)?t.setProperty(Vo(o),s.replace(Fp,""),"important"):t[o]=s}}const Rp=["Webkit","Moz","ms"],Wd={};function b_(t,e){const s=Wd[e];if(s)return s;let o=Ks(e);if(o!=="filter"&&o in t)return Wd[e]=o;o=Yl(o);for(let n=0;n<Rp.length;n++){const i=Rp[n]+o;if(i in t)return Wd[e]=i}return e}const Up="http://www.w3.org/1999/xlink";function Bp(t,e,s,o,n,i=_x(e)){o&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Up,e.slice(6,e.length)):t.setAttributeNS(Up,e,s):s==null||i&&!Hh(s)?t.removeAttribute(e):t.setAttribute(e,i?"":go(s)?String(s):s)}function qp(t,e,s,o,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?tv(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const c=i==="OPTION"?t.getAttribute("value")||"":t.value,d=s==null?t.type==="checkbox"?"on":"":String(s);(c!==d||!("_value"in t))&&(t.value=d),s==null&&t.removeAttribute(e),t._value=s;return}let l=!1;if(s===""||s==null){const c=typeof t[e];c==="boolean"?s=Hh(s):s==null&&c==="string"?(s="",l=!0):c==="number"&&(s=0,l=!0)}try{t[e]=s}catch{}l&&t.removeAttribute(n||e)}function ur(t,e,s,o){t.addEventListener(e,s,o)}function v_(t,e,s,o){t.removeEventListener(e,s,o)}const Op=Symbol("_vei");function y_(t,e,s,o,n=null){const i=t[Op]||(t[Op]={}),l=i[e];if(o&&l)l.value=o;else{const[c,d]=x_(e);if(o){const u=i[e]=w_(o,n);ur(t,c,u,d)}else l&&(v_(t,c,l,d),i[e]=void 0)}}const Np=/(?:Once|Passive|Capture)$/;function x_(t){let e;if(Np.test(t)){e={};let o;for(;o=t.match(Np);)t=t.slice(0,t.length-o[0].length),e[o[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Vo(t.slice(2)),e]}let Yd=0;const k_=Promise.resolve(),__=()=>Yd||(k_.then(()=>Yd=0),Yd=Date.now());function w_(t,e){const s=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=s.attached)return;ho(C_(o,s.value),e,5,[o])};return s.value=t,s.attached=__(),s}function C_(t,e){if(Ye(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(o=>n=>!n._stopped&&o&&o(n))}else return e}const Hp=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,S_=(t,e,s,o,n,i)=>{const l=n==="svg";e==="class"?p_(t,o,l):e==="style"?h_(t,s,o):zl(e)?y0(e)||y_(t,e,s,o,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):$_(t,e,o,l))?(qp(t,e,o),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Bp(t,e,o,l,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Qt(o))?qp(t,Ks(e),o,i,e):(e==="true-value"?t._trueValue=o:e==="false-value"&&(t._falseValue=o),Bp(t,e,o,l))};function $_(t,e,s,o){if(o)return!!(e==="innerHTML"||e==="textContent"||e in t&&Hp(e)&&nt(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Hp(e)&&Qt(s)?!1:e in t}const iv=new WeakMap,lv=new WeakMap,Pl=Symbol("_moveCb"),jp=Symbol("_enterCb"),E_=t=>(delete t.props.mode,t),A_=E_({name:"TransitionGroup",props:Zt({},ov,{tag:String,moveClass:String}),setup(t,{slots:e}){const s=Gn(),o=wb();let n,i;return Pb(()=>{if(!n.length)return;const l=t.moveClass||`${t.name||"v"}-move`;if(!I_(n[0].el,s.vnode.el,l))return;n.forEach(P_),n.forEach(T_);const c=n.filter(L_);Ou(),c.forEach(d=>{const u=d.el,m=u.style;xo(u,l),m.transform=m.webkitTransform=m.transitionDuration="";const p=u[Pl]=y=>{y&&y.target!==u||(!y||/transform$/.test(y.propertyName))&&(u.removeEventListener("transitionend",p),u[Pl]=null,tr(u,l))};u.addEventListener("transitionend",p)})}),()=>{const l=pt(t),c=rv(l);let d=l.tag||Ce;if(n=[],i)for(let u=0;u<i.length;u++){const m=i[u];m.el&&m.el instanceof Element&&(n.push(m),Xr(m,Ga(m,c,o,s)),iv.set(m,m.el.getBoundingClientRect()))}i=e.default?L0(e.default()):[];for(let u=0;u<i.length;u++){const m=i[u];m.key!=null&&Xr(m,Ga(m,c,o,s))}return Fe(d,null,i)}}}),M_=A_;function P_(t){const e=t.el;e[Pl]&&e[Pl](),e[jp]&&e[jp]()}function T_(t){lv.set(t,t.el.getBoundingClientRect())}function L_(t){const e=iv.get(t),s=lv.get(t),o=e.left-s.left,n=e.top-s.top;if(o||n){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${o}px,${n}px)`,i.transitionDuration="0s",t}}function I_(t,e,s){const o=t.cloneNode(),n=t[Fn];n&&n.forEach(c=>{c.split(/\s+/).forEach(d=>d&&o.classList.remove(d))}),s.split(/\s+/).forEach(c=>c&&o.classList.add(c)),o.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(o);const{hasTransform:l}=nv(o);return i.removeChild(o),l}const Rn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ye(e)?s=>cl(e,s):e};function D_(t){t.target.composing=!0}function Gp(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ho=Symbol("_assign"),Po={created(t,{modifiers:{lazy:e,trim:s,number:o}},n){t[Ho]=Rn(n);const i=o||n.props&&n.props.type==="number";ur(t,e?"change":"input",l=>{if(l.target.composing)return;let c=t.value;s&&(c=c.trim()),i&&(c=xl(c)),t[Ho](c)}),s&&ur(t,"change",()=>{t.value=t.value.trim()}),e||(ur(t,"compositionstart",D_),ur(t,"compositionend",Gp),ur(t,"change",Gp))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:o,trim:n,number:i}},l){if(t[Ho]=Rn(l),t.composing)return;const c=(i||t.type==="number")&&!/^0\d/.test(t.value)?xl(t.value):t.value,d=e??"";c!==d&&(document.activeElement===t&&t.type!=="range"&&(o&&e===s||n&&t.value.trim()===d)||(t.value=d))}},Xt={deep:!0,created(t,e,s){t[Ho]=Rn(s),ur(t,"change",()=>{const o=t._modelValue,n=Wa(t),i=t.checked,l=t[Ho];if(Ye(o)){const c=_0(o,n),d=c!==-1;if(i&&!d)l(o.concat(n));else if(!i&&d){const u=[...o];u.splice(c,1),l(u)}}else if(jn(o)){const c=new Set(o);i?c.add(n):c.delete(n),l(c)}else l(cv(t,i))})},mounted:Vp,beforeUpdate(t,e,s){t[Ho]=Rn(s),Vp(t,e,s)}};function Vp(t,{value:e,oldValue:s},o){t._modelValue=e;let n;if(Ye(e))n=_0(e,o.props.value)>-1;else if(jn(e))n=e.has(o.props.value);else{if(e===s)return;n=ci(e,cv(t,!0))}t.checked!==n&&(t.checked=n)}const Tl={deep:!0,created(t,{value:e,modifiers:{number:s}},o){const n=jn(e);ur(t,"change",()=>{const i=Array.prototype.filter.call(t.options,l=>l.selected).map(l=>s?xl(Wa(l)):Wa(l));t[Ho](t.multiple?n?new Set(i):i:i[0]),t._assigning=!0,Bt(()=>{t._assigning=!1})}),t[Ho]=Rn(o)},mounted(t,{value:e}){Qp(t,e)},beforeUpdate(t,e,s){t[Ho]=Rn(s)},updated(t,{value:e}){t._assigning||Qp(t,e)}};function Qp(t,e){const s=t.multiple,o=Ye(e);if(!(s&&!o&&!jn(e))){for(let n=0,i=t.options.length;n<i;n++){const l=t.options[n],c=Wa(l);if(s)if(o){const d=typeof c;d==="string"||d==="number"?l.selected=e.some(u=>String(u)===String(c)):l.selected=_0(e,c)>-1}else l.selected=e.has(c);else if(ci(Wa(l),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Wa(t){return"_value"in t?t._value:t.value}function cv(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const F_=["ctrl","shift","alt","meta"],R_={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>F_.some(s=>t[`${s}Key`]&&!e.includes(s))},at=(t,e)=>{const s=t._withMods||(t._withMods={}),o=e.join(".");return s[o]||(s[o]=(n,...i)=>{for(let l=0;l<e.length;l++){const c=R_[e[l]];if(c&&c(n,e))return}return t(n,...i)})},U_={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ya=(t,e)=>{const s=t._withKeys||(t._withKeys={}),o=e.join(".");return s[o]||(s[o]=n=>{if(!("key"in n))return;const i=Vo(n.key);if(e.some(l=>l===i||U_[l]===i))return t(n)})},B_=Zt({patchProp:S_},c_);let zp;function q_(){return zp||(zp=Ik(B_))}const O_=(...t)=>{const e=q_().createApp(...t),{mount:s}=e;return e.mount=o=>{const n=H_(o);if(!n)return;const i=e._component;!nt(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const l=s(n,!1,N_(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),l},e};function N_(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function H_(t){return Qt(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const _n=typeof document<"u";function dv(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function j_(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&dv(t.default)}const Ct=Object.assign;function Kd(t,e){const s={};for(const o in e){const n=e[o];s[o]=bo(n)?n.map(t):t(n)}return s}const Pa=()=>{},bo=Array.isArray,uv=/#/g,G_=/&/g,V_=/\//g,Q_=/=/g,z_=/\?/g,mv=/\+/g,W_=/%5B/g,Y_=/%5D/g,pv=/%5E/g,K_=/%60/g,fv=/%7B/g,X_=/%7C/g,gv=/%7D/g,Z_=/%20/g;function U0(t){return encodeURI(""+t).replace(X_,"|").replace(W_,"[").replace(Y_,"]")}function J_(t){return U0(t).replace(fv,"{").replace(gv,"}").replace(pv,"^")}function Nu(t){return U0(t).replace(mv,"%2B").replace(Z_,"+").replace(uv,"%23").replace(G_,"%26").replace(K_,"`").replace(fv,"{").replace(gv,"}").replace(pv,"^")}function ew(t){return Nu(t).replace(Q_,"%3D")}function tw(t){return U0(t).replace(uv,"%23").replace(z_,"%3F")}function sw(t){return t==null?"":tw(t).replace(V_,"%2F")}function Ka(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const ow=/\/$/,rw=t=>t.replace(ow,"");function Xd(t,e,s="/"){let o,n={},i="",l="";const c=e.indexOf("#");let d=e.indexOf("?");return c<d&&c>=0&&(d=-1),d>-1&&(o=e.slice(0,d),i=e.slice(d+1,c>-1?c:e.length),n=t(i)),c>-1&&(o=o||e.slice(0,c),l=e.slice(c,e.length)),o=lw(o??e,s),{fullPath:o+(i&&"?")+i+l,path:o,query:n,hash:Ka(l)}}function nw(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function Wp(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function aw(t,e,s){const o=e.matched.length-1,n=s.matched.length-1;return o>-1&&o===n&&Un(e.matched[o],s.matched[n])&&hv(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function Un(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function hv(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!iw(t[s],e[s]))return!1;return!0}function iw(t,e){return bo(t)?Yp(t,e):bo(e)?Yp(e,t):t===e}function Yp(t,e){return bo(e)?t.length===e.length&&t.every((s,o)=>s===e[o]):t.length===1&&t[0]===e}function lw(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),o=t.split("/"),n=o[o.length-1];(n===".."||n===".")&&o.push("");let i=s.length-1,l,c;for(l=0;l<o.length;l++)if(c=o[l],c!==".")if(c==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+o.slice(l).join("/")}const Ko={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Xa;(function(t){t.pop="pop",t.push="push"})(Xa||(Xa={}));var Ta;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ta||(Ta={}));function cw(t){if(!t)if(_n){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),rw(t)}const dw=/^[^#]+#/;function uw(t,e){return t.replace(dw,"#")+e}function mw(t,e){const s=document.documentElement.getBoundingClientRect(),o=t.getBoundingClientRect();return{behavior:e.behavior,left:o.left-s.left-(e.left||0),top:o.top-s.top-(e.top||0)}}const ac=()=>({left:window.scrollX,top:window.scrollY});function pw(t){let e;if("el"in t){const s=t.el,o=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?o?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;e=mw(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Kp(t,e){return(history.state?history.state.position-e:-1)+t}const Hu=new Map;function fw(t,e){Hu.set(t,e)}function gw(t){const e=Hu.get(t);return Hu.delete(t),e}let hw=()=>location.protocol+"//"+location.host;function bv(t,e){const{pathname:s,search:o,hash:n}=e,i=t.indexOf("#");if(i>-1){let c=n.includes(t.slice(i))?t.slice(i).length:1,d=n.slice(c);return d[0]!=="/"&&(d="/"+d),Wp(d,"")}return Wp(s,t)+o+n}function bw(t,e,s,o){let n=[],i=[],l=null;const c=({state:y})=>{const v=bv(t,location),S=s.value,_=e.value;let C=0;if(y){if(s.value=v,e.value=y,l&&l===S){l=null;return}C=_?y.position-_.position:0}else o(v);n.forEach(x=>{x(s.value,S,{delta:C,type:Xa.pop,direction:C?C>0?Ta.forward:Ta.back:Ta.unknown})})};function d(){l=s.value}function u(y){n.push(y);const v=()=>{const S=n.indexOf(y);S>-1&&n.splice(S,1)};return i.push(v),v}function m(){const{history:y}=window;y.state&&y.replaceState(Ct({},y.state,{scroll:ac()}),"")}function p(){for(const y of i)y();i=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",m)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",m,{passive:!0}),{pauseListeners:d,listen:u,destroy:p}}function Xp(t,e,s,o=!1,n=!1){return{back:t,current:e,forward:s,replaced:o,position:window.history.length,scroll:n?ac():null}}function vw(t){const{history:e,location:s}=window,o={value:bv(t,s)},n={value:e.state};n.value||i(o.value,{back:null,current:o.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(d,u,m){const p=t.indexOf("#"),y=p>-1?(s.host&&document.querySelector("base")?t:t.slice(p))+d:hw()+t+d;try{e[m?"replaceState":"pushState"](u,"",y),n.value=u}catch(v){console.error(v),s[m?"replace":"assign"](y)}}function l(d,u){const m=Ct({},e.state,Xp(n.value.back,d,n.value.forward,!0),u,{position:n.value.position});i(d,m,!0),o.value=d}function c(d,u){const m=Ct({},n.value,e.state,{forward:d,scroll:ac()});i(m.current,m,!0);const p=Ct({},Xp(o.value,d,null),{position:m.position+1},u);i(d,p,!1),o.value=d}return{location:o,state:n,push:c,replace:l}}function yw(t){t=cw(t);const e=vw(t),s=bw(t,e.state,e.location,e.replace);function o(i,l=!0){l||s.pauseListeners(),history.go(i)}const n=Ct({location:"",base:t,go:o,createHref:uw.bind(null,t)},e,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function xw(t){return typeof t=="string"||t&&typeof t=="object"}function vv(t){return typeof t=="string"||typeof t=="symbol"}const yv=Symbol("");var Zp;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Zp||(Zp={}));function Bn(t,e){return Ct(new Error,{type:t,[yv]:!0},e)}function Lo(t,e){return t instanceof Error&&yv in t&&(e==null||!!(t.type&e))}const Jp="[^/]+?",kw={sensitive:!1,strict:!1,start:!0,end:!0},_w=/[.+*?^${}()[\]/\\]/g;function ww(t,e){const s=Ct({},kw,e),o=[];let n=s.start?"^":"";const i=[];for(const u of t){const m=u.length?[]:[90];s.strict&&!u.length&&(n+="/");for(let p=0;p<u.length;p++){const y=u[p];let v=40+(s.sensitive?.25:0);if(y.type===0)p||(n+="/"),n+=y.value.replace(_w,"\\$&"),v+=40;else if(y.type===1){const{value:S,repeatable:_,optional:C,regexp:x}=y;i.push({name:S,repeatable:_,optional:C});const $=x||Jp;if($!==Jp){v+=10;try{new RegExp(`(${$})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${S}" (${$}): `+M.message)}}let A=_?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;p||(A=C&&u.length<2?`(?:/${A})`:"/"+A),C&&(A+="?"),n+=A,v+=20,C&&(v+=-8),_&&(v+=-20),$===".*"&&(v+=-50)}m.push(v)}o.push(m)}if(s.strict&&s.end){const u=o.length-1;o[u][o[u].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const l=new RegExp(n,s.sensitive?"":"i");function c(u){const m=u.match(l),p={};if(!m)return null;for(let y=1;y<m.length;y++){const v=m[y]||"",S=i[y-1];p[S.name]=v&&S.repeatable?v.split("/"):v}return p}function d(u){let m="",p=!1;for(const y of t){(!p||!m.endsWith("/"))&&(m+="/"),p=!1;for(const v of y)if(v.type===0)m+=v.value;else if(v.type===1){const{value:S,repeatable:_,optional:C}=v,x=S in u?u[S]:"";if(bo(x)&&!_)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const $=bo(x)?x.join("/"):x;if(!$)if(C)y.length<2&&(m.endsWith("/")?m=m.slice(0,-1):p=!0);else throw new Error(`Missing required param "${S}"`);m+=$}}return m||"/"}return{re:l,score:o,keys:i,parse:c,stringify:d}}function Cw(t,e){let s=0;for(;s<t.length&&s<e.length;){const o=e[s]-t[s];if(o)return o;s++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function xv(t,e){let s=0;const o=t.score,n=e.score;for(;s<o.length&&s<n.length;){const i=Cw(o[s],n[s]);if(i)return i;s++}if(Math.abs(n.length-o.length)===1){if(ef(o))return 1;if(ef(n))return-1}return n.length-o.length}function ef(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Sw={type:0,value:""},$w=/[a-zA-Z0-9_]/;function Ew(t){if(!t)return[[]];if(t==="/")return[[Sw]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(v){throw new Error(`ERR (${s})/"${u}": ${v}`)}let s=0,o=s;const n=[];let i;function l(){i&&n.push(i),i=[]}let c=0,d,u="",m="";function p(){u&&(s===0?i.push({type:0,value:u}):s===1||s===2||s===3?(i.length>1&&(d==="*"||d==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:m,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):e("Invalid state to consume buffer"),u="")}function y(){u+=d}for(;c<t.length;){if(d=t[c++],d==="\\"&&s!==2){o=s,s=4;continue}switch(s){case 0:d==="/"?(u&&p(),l()):d===":"?(p(),s=1):y();break;case 4:y(),s=o;break;case 1:d==="("?s=2:$w.test(d)?y():(p(),s=0,d!=="*"&&d!=="?"&&d!=="+"&&c--);break;case 2:d===")"?m[m.length-1]=="\\"?m=m.slice(0,-1)+d:s=3:m+=d;break;case 3:p(),s=0,d!=="*"&&d!=="?"&&d!=="+"&&c--,m="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${u}"`),p(),l(),n}function Aw(t,e,s){const o=ww(Ew(t.path),s),n=Ct(o,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function Mw(t,e){const s=[],o=new Map;e=rf({strict:!1,end:!0,sensitive:!1},e);function n(p){return o.get(p)}function i(p,y,v){const S=!v,_=sf(p);_.aliasOf=v&&v.record;const C=rf(e,p),x=[_];if("alias"in p){const M=typeof p.alias=="string"?[p.alias]:p.alias;for(const P of M)x.push(sf(Ct({},_,{components:v?v.record.components:_.components,path:P,aliasOf:v?v.record:_})))}let $,A;for(const M of x){const{path:P}=M;if(y&&P[0]!=="/"){const L=y.record.path,B=L[L.length-1]==="/"?"":"/";M.path=y.record.path+(P&&B+P)}if($=Aw(M,y,C),v?v.alias.push($):(A=A||$,A!==$&&A.alias.push($),S&&p.name&&!of($)&&l(p.name)),kv($)&&d($),_.children){const L=_.children;for(let B=0;B<L.length;B++)i(L[B],$,v&&v.children[B])}v=v||$}return A?()=>{l(A)}:Pa}function l(p){if(vv(p)){const y=o.get(p);y&&(o.delete(p),s.splice(s.indexOf(y),1),y.children.forEach(l),y.alias.forEach(l))}else{const y=s.indexOf(p);y>-1&&(s.splice(y,1),p.record.name&&o.delete(p.record.name),p.children.forEach(l),p.alias.forEach(l))}}function c(){return s}function d(p){const y=Lw(p,s);s.splice(y,0,p),p.record.name&&!of(p)&&o.set(p.record.name,p)}function u(p,y){let v,S={},_,C;if("name"in p&&p.name){if(v=o.get(p.name),!v)throw Bn(1,{location:p});C=v.record.name,S=Ct(tf(y.params,v.keys.filter(A=>!A.optional).concat(v.parent?v.parent.keys.filter(A=>A.optional):[]).map(A=>A.name)),p.params&&tf(p.params,v.keys.map(A=>A.name))),_=v.stringify(S)}else if(p.path!=null)_=p.path,v=s.find(A=>A.re.test(_)),v&&(S=v.parse(_),C=v.record.name);else{if(v=y.name?o.get(y.name):s.find(A=>A.re.test(y.path)),!v)throw Bn(1,{location:p,currentLocation:y});C=v.record.name,S=Ct({},y.params,p.params),_=v.stringify(S)}const x=[];let $=v;for(;$;)x.unshift($.record),$=$.parent;return{name:C,path:_,params:S,matched:x,meta:Tw(x)}}t.forEach(p=>i(p));function m(){s.length=0,o.clear()}return{addRoute:i,resolve:u,removeRoute:l,clearRoutes:m,getRoutes:c,getRecordMatcher:n}}function tf(t,e){const s={};for(const o of e)o in t&&(s[o]=t[o]);return s}function sf(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Pw(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Pw(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const o in t.components)e[o]=typeof s=="object"?s[o]:s;return e}function of(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Tw(t){return t.reduce((e,s)=>Ct(e,s.meta),{})}function rf(t,e){const s={};for(const o in t)s[o]=o in e?e[o]:t[o];return s}function Lw(t,e){let s=0,o=e.length;for(;s!==o;){const i=s+o>>1;xv(t,e[i])<0?o=i:s=i+1}const n=Iw(t);return n&&(o=e.lastIndexOf(n,o-1)),o}function Iw(t){let e=t;for(;e=e.parent;)if(kv(e)&&xv(t,e)===0)return e}function kv({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Dw(t){const e={};if(t===""||t==="?")return e;const o=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<o.length;++n){const i=o[n].replace(mv," "),l=i.indexOf("="),c=Ka(l<0?i:i.slice(0,l)),d=l<0?null:Ka(i.slice(l+1));if(c in e){let u=e[c];bo(u)||(u=e[c]=[u]),u.push(d)}else e[c]=d}return e}function nf(t){let e="";for(let s in t){const o=t[s];if(s=ew(s),o==null){o!==void 0&&(e+=(e.length?"&":"")+s);continue}(bo(o)?o.map(i=>i&&Nu(i)):[o&&Nu(o)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+s,i!=null&&(e+="="+i))})}return e}function Fw(t){const e={};for(const s in t){const o=t[s];o!==void 0&&(e[s]=bo(o)?o.map(n=>n==null?null:""+n):o==null?o:""+o)}return e}const Rw=Symbol(""),af=Symbol(""),ic=Symbol(""),B0=Symbol(""),ju=Symbol("");function oa(){let t=[];function e(o){return t.push(o),()=>{const n=t.indexOf(o);n>-1&&t.splice(n,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function lr(t,e,s,o,n,i=l=>l()){const l=o&&(o.enterCallbacks[n]=o.enterCallbacks[n]||[]);return()=>new Promise((c,d)=>{const u=y=>{y===!1?d(Bn(4,{from:s,to:e})):y instanceof Error?d(y):xw(y)?d(Bn(2,{from:e,to:y})):(l&&o.enterCallbacks[n]===l&&typeof y=="function"&&l.push(y),c())},m=i(()=>t.call(o&&o.instances[n],e,s,u));let p=Promise.resolve(m);t.length<3&&(p=p.then(u)),p.catch(y=>d(y))})}function Zd(t,e,s,o,n=i=>i()){const i=[];for(const l of t)for(const c in l.components){let d=l.components[c];if(!(e!=="beforeRouteEnter"&&!l.instances[c]))if(dv(d)){const m=(d.__vccOpts||d)[e];m&&i.push(lr(m,s,o,l,c,n))}else{let u=d();i.push(()=>u.then(m=>{if(!m)throw new Error(`Couldn't resolve component "${c}" at "${l.path}"`);const p=j_(m)?m.default:m;l.mods[c]=m,l.components[c]=p;const v=(p.__vccOpts||p)[e];return v&&lr(v,s,o,l,c,n)()}))}}return i}function lf(t){const e=Bs(ic),s=Bs(B0),o=R(()=>{const d=g(t.to);return e.resolve(d)}),n=R(()=>{const{matched:d}=o.value,{length:u}=d,m=d[u-1],p=s.matched;if(!m||!p.length)return-1;const y=p.findIndex(Un.bind(null,m));if(y>-1)return y;const v=cf(d[u-2]);return u>1&&cf(m)===v&&p[p.length-1].path!==v?p.findIndex(Un.bind(null,d[u-2])):y}),i=R(()=>n.value>-1&&Nw(s.params,o.value.params)),l=R(()=>n.value>-1&&n.value===s.matched.length-1&&hv(s.params,o.value.params));function c(d={}){if(Ow(d)){const u=e[g(t.replace)?"replace":"push"](g(t.to)).catch(Pa);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:o,href:R(()=>o.value.href),isActive:i,isExactActive:l,navigate:c}}function Uw(t){return t.length===1?t[0]:t}const Bw=Ue({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:lf,setup(t,{slots:e}){const s=_r(lf(t)),{options:o}=Bs(ic),n=R(()=>({[df(t.activeClass,o.linkActiveClass,"router-link-active")]:s.isActive,[df(t.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&Uw(e.default(s));return t.custom?i:Ds("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),qw=Bw;function Ow(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Nw(t,e){for(const s in e){const o=e[s],n=t[s];if(typeof o=="string"){if(o!==n)return!1}else if(!bo(n)||n.length!==o.length||o.some((i,l)=>i!==n[l]))return!1}return!0}function cf(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const df=(t,e,s)=>t??e??s,Hw=Ue({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const o=Bs(ju),n=R(()=>t.route||o.value),i=Bs(af,0),l=R(()=>{let u=g(i);const{matched:m}=n.value;let p;for(;(p=m[u])&&!p.components;)u++;return u}),c=R(()=>n.value.matched[l.value]);Aa(af,R(()=>l.value+1)),Aa(Rw,c),Aa(ju,n);const d=W();return We(()=>[d.value,c.value,t.name],([u,m,p],[y,v,S])=>{m&&(m.instances[p]=u,v&&v!==m&&u&&u===y&&(m.leaveGuards.size||(m.leaveGuards=v.leaveGuards),m.updateGuards.size||(m.updateGuards=v.updateGuards))),u&&m&&(!v||!Un(m,v)||!y)&&(m.enterCallbacks[p]||[]).forEach(_=>_(u))},{flush:"post"}),()=>{const u=n.value,m=t.name,p=c.value,y=p&&p.components[m];if(!y)return uf(s.default,{Component:y,route:u});const v=p.props[m],S=v?v===!0?u.params:typeof v=="function"?v(u):v:null,C=Ds(y,Ct({},S,e,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(p.instances[m]=null)},ref:d}));return uf(s.default,{Component:C,route:u})||C}}});function uf(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const jw=Hw;function Gw(t){const e=Mw(t.routes,t),s=t.parseQuery||Dw,o=t.stringifyQuery||nf,n=t.history,i=oa(),l=oa(),c=oa(),d=ms(Ko);let u=Ko;_n&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=Kd.bind(null,we=>""+we),p=Kd.bind(null,sw),y=Kd.bind(null,Ka);function v(we,_e){let pe,me;return vv(we)?(pe=e.getRecordMatcher(we),me=_e):me=we,e.addRoute(me,pe)}function S(we){const _e=e.getRecordMatcher(we);_e&&e.removeRoute(_e)}function _(){return e.getRoutes().map(we=>we.record)}function C(we){return!!e.getRecordMatcher(we)}function x(we,_e){if(_e=Ct({},_e||d.value),typeof we=="string"){const H=Xd(s,we,_e.path),T=e.resolve({path:H.path},_e),D=n.createHref(H.fullPath);return Ct(H,T,{params:y(T.params),hash:Ka(H.hash),redirectedFrom:void 0,href:D})}let pe;if(we.path!=null)pe=Ct({},we,{path:Xd(s,we.path,_e.path).path});else{const H=Ct({},we.params);for(const T in H)H[T]==null&&delete H[T];pe=Ct({},we,{params:p(H)}),_e.params=p(_e.params)}const me=e.resolve(pe,_e),le=we.hash||"";me.params=m(y(me.params));const z=nw(o,Ct({},we,{hash:J_(le),path:me.path})),K=n.createHref(z);return Ct({fullPath:z,hash:le,query:o===nf?Fw(we.query):we.query||{}},me,{redirectedFrom:void 0,href:K})}function $(we){return typeof we=="string"?Xd(s,we,d.value.path):Ct({},we)}function A(we,_e){if(u!==we)return Bn(8,{from:_e,to:we})}function M(we){return B(we)}function P(we){return M(Ct($(we),{replace:!0}))}function L(we){const _e=we.matched[we.matched.length-1];if(_e&&_e.redirect){const{redirect:pe}=_e;let me=typeof pe=="function"?pe(we):pe;return typeof me=="string"&&(me=me.includes("?")||me.includes("#")?me=$(me):{path:me},me.params={}),Ct({query:we.query,hash:we.hash,params:me.path!=null?{}:we.params},me)}}function B(we,_e){const pe=u=x(we),me=d.value,le=we.state,z=we.force,K=we.replace===!0,H=L(pe);if(H)return B(Ct($(H),{state:typeof H=="object"?Ct({},le,H.state):le,force:z,replace:K}),_e||pe);const T=pe;T.redirectedFrom=_e;let D;return!z&&aw(o,me,pe)&&(D=Bn(16,{to:T,from:me}),he(me,me,!0,!1)),(D?Promise.resolve(D):N(T,me)).catch(X=>Lo(X)?Lo(X,2)?X:re(X):G(X,T,me)).then(X=>{if(X){if(Lo(X,2))return B(Ct({replace:K},$(X.to),{state:typeof X.to=="object"?Ct({},le,X.to.state):le,force:z}),_e||T)}else X=j(T,me,!0,K,le);return U(T,me,X),X})}function k(we,_e){const pe=A(we,_e);return pe?Promise.reject(pe):Promise.resolve()}function I(we){const _e=Me.values().next().value;return _e&&typeof _e.runWithContext=="function"?_e.runWithContext(we):we()}function N(we,_e){let pe;const[me,le,z]=Vw(we,_e);pe=Zd(me.reverse(),"beforeRouteLeave",we,_e);for(const H of me)H.leaveGuards.forEach(T=>{pe.push(lr(T,we,_e))});const K=k.bind(null,we,_e);return pe.push(K),He(pe).then(()=>{pe=[];for(const H of i.list())pe.push(lr(H,we,_e));return pe.push(K),He(pe)}).then(()=>{pe=Zd(le,"beforeRouteUpdate",we,_e);for(const H of le)H.updateGuards.forEach(T=>{pe.push(lr(T,we,_e))});return pe.push(K),He(pe)}).then(()=>{pe=[];for(const H of z)if(H.beforeEnter)if(bo(H.beforeEnter))for(const T of H.beforeEnter)pe.push(lr(T,we,_e));else pe.push(lr(H.beforeEnter,we,_e));return pe.push(K),He(pe)}).then(()=>(we.matched.forEach(H=>H.enterCallbacks={}),pe=Zd(z,"beforeRouteEnter",we,_e,I),pe.push(K),He(pe))).then(()=>{pe=[];for(const H of l.list())pe.push(lr(H,we,_e));return pe.push(K),He(pe)}).catch(H=>Lo(H,8)?H:Promise.reject(H))}function U(we,_e,pe){c.list().forEach(me=>I(()=>me(we,_e,pe)))}function j(we,_e,pe,me,le){const z=A(we,_e);if(z)return z;const K=_e===Ko,H=_n?history.state:{};pe&&(me||K?n.replace(we.fullPath,Ct({scroll:K&&H&&H.scroll},le)):n.push(we.fullPath,le)),d.value=we,he(we,_e,pe,K),re()}let ee;function ne(){ee||(ee=n.listen((we,_e,pe)=>{if(!Oe.listening)return;const me=x(we),le=L(me);if(le){B(Ct(le,{replace:!0,force:!0}),me).catch(Pa);return}u=me;const z=d.value;_n&&fw(Kp(z.fullPath,pe.delta),ac()),N(me,z).catch(K=>Lo(K,12)?K:Lo(K,2)?(B(Ct($(K.to),{force:!0}),me).then(H=>{Lo(H,20)&&!pe.delta&&pe.type===Xa.pop&&n.go(-1,!1)}).catch(Pa),Promise.reject()):(pe.delta&&n.go(-pe.delta,!1),G(K,me,z))).then(K=>{K=K||j(me,z,!1),K&&(pe.delta&&!Lo(K,8)?n.go(-pe.delta,!1):pe.type===Xa.pop&&Lo(K,20)&&n.go(-1,!1)),U(me,z,K)}).catch(Pa)}))}let oe=oa(),O=oa(),Y;function G(we,_e,pe){re(we);const me=O.list();return me.length?me.forEach(le=>le(we,_e,pe)):console.error(we),Promise.reject(we)}function de(){return Y&&d.value!==Ko?Promise.resolve():new Promise((we,_e)=>{oe.add([we,_e])})}function re(we){return Y||(Y=!we,ne(),oe.list().forEach(([_e,pe])=>we?pe(we):_e()),oe.reset()),we}function he(we,_e,pe,me){const{scrollBehavior:le}=t;if(!_n||!le)return Promise.resolve();const z=!pe&&gw(Kp(we.fullPath,0))||(me||!pe)&&history.state&&history.state.scroll||null;return Bt().then(()=>le(we,_e,z)).then(K=>K&&pw(K)).catch(K=>G(K,we,_e))}const ve=we=>n.go(we);let Se;const Me=new Set,Oe={currentRoute:d,listening:!0,addRoute:v,removeRoute:S,clearRoutes:e.clearRoutes,hasRoute:C,getRoutes:_,resolve:x,options:t,push:M,replace:P,go:ve,back:()=>ve(-1),forward:()=>ve(1),beforeEach:i.add,beforeResolve:l.add,afterEach:c.add,onError:O.add,isReady:de,install(we){const _e=this;we.component("RouterLink",qw),we.component("RouterView",jw),we.config.globalProperties.$router=_e,Object.defineProperty(we.config.globalProperties,"$route",{enumerable:!0,get:()=>g(d)}),_n&&!Se&&d.value===Ko&&(Se=!0,M(n.location).catch(le=>{}));const pe={};for(const le in Ko)Object.defineProperty(pe,le,{get:()=>d.value[le],enumerable:!0});we.provide(ic,_e),we.provide(B0,lb(pe)),we.provide(ju,d);const me=we.unmount;Me.add(we),we.unmount=function(){Me.delete(we),Me.size<1&&(u=Ko,ee&&ee(),ee=null,d.value=Ko,Se=!1,Y=!1),me()}}};function He(we){return we.reduce((_e,pe)=>_e.then(()=>I(pe)),Promise.resolve())}return Oe}function Vw(t,e){const s=[],o=[],n=[],i=Math.max(e.matched.length,t.matched.length);for(let l=0;l<i;l++){const c=e.matched[l];c&&(t.matched.find(u=>Un(u,c))?o.push(c):s.push(c));const d=t.matched[l];d&&(e.matched.find(u=>Un(u,d))||n.push(d))}return[s,o,n]}function Vn(){return Bs(ic)}function q0(t){return Bs(B0)}/*!
 * pinia v3.0.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let _v;const lc=t=>_v=t,wv=Symbol();function Gu(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var La;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(La||(La={}));function Qw(){const t=Qh(!0),e=t.run(()=>W({}));let s=[],o=[];const n=P0({install(i){lc(n),n._a=i,i.provide(wv,n),i.config.globalProperties.$pinia=n,o.forEach(l=>s.push(l)),o=[]},use(i){return this._a?s.push(i):o.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return n}const Cv=()=>{};function mf(t,e,s,o=Cv){t.push(e);const n=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),o())};return!s&&w0()&&zh(n),n}function dn(t,...e){t.slice().forEach(s=>{s(...e)})}const zw=t=>t(),pf=Symbol(),Jd=Symbol();function Vu(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,o)=>t.set(o,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const o=e[s],n=t[s];Gu(n)&&Gu(o)&&t.hasOwnProperty(s)&&!Mt(o)&&!No(o)?t[s]=Vu(n,o):t[s]=o}return t}const Ww=Symbol();function Yw(t){return!Gu(t)||!t.hasOwnProperty(Ww)}const{assign:sr}=Object;function Kw(t){return!!(Mt(t)&&t.effect)}function Xw(t,e,s,o){const{state:n,actions:i,getters:l}=e,c=s.state.value[t];let d;function u(){c||(s.state.value[t]=n?n():{});const m=ub(s.state.value[t]);return sr(m,i,Object.keys(l||{}).reduce((p,y)=>(p[y]=P0(R(()=>{lc(s);const v=s._s.get(t);return l[y].call(v,v)})),p),{}))}return d=Sv(t,u,e,s,o,!0),d}function Sv(t,e,s={},o,n,i){let l;const c=sr({actions:{}},s),d={deep:!0};let u,m,p=[],y=[],v;const S=o.state.value[t];!i&&!S&&(o.state.value[t]={}),W({});let _;function C(k){let I;u=m=!1,typeof k=="function"?(k(o.state.value[t]),I={type:La.patchFunction,storeId:t,events:v}):(Vu(o.state.value[t],k),I={type:La.patchObject,payload:k,storeId:t,events:v});const N=_=Symbol();Bt().then(()=>{_===N&&(u=!0)}),m=!0,dn(p,I,o.state.value[t])}const x=i?function(){const{state:I}=s,N=I?I():{};this.$patch(U=>{sr(U,N)})}:Cv;function $(){l.stop(),p=[],y=[],o._s.delete(t)}const A=(k,I="")=>{if(pf in k)return k[Jd]=I,k;const N=function(){lc(o);const U=Array.from(arguments),j=[],ee=[];function ne(Y){j.push(Y)}function oe(Y){ee.push(Y)}dn(y,{args:U,name:N[Jd],store:P,after:ne,onError:oe});let O;try{O=k.apply(this&&this.$id===t?this:P,U)}catch(Y){throw dn(ee,Y),Y}return O instanceof Promise?O.then(Y=>(dn(j,Y),Y)).catch(Y=>(dn(ee,Y),Promise.reject(Y))):(dn(j,O),O)};return N[pf]=!0,N[Jd]=I,N},M={_p:o,$id:t,$onAction:mf.bind(null,y),$patch:C,$reset:x,$subscribe(k,I={}){const N=mf(p,k,I.detached,()=>U()),U=l.run(()=>We(()=>o.state.value[t],j=>{(I.flush==="sync"?m:u)&&k({storeId:t,type:La.direct,events:v},j)},sr({},d,I)));return N},$dispose:$},P=_r(M);o._s.set(t,P);const B=(o._a&&o._a.runWithContext||zw)(()=>o._e.run(()=>(l=Qh()).run(()=>e({action:A}))));for(const k in B){const I=B[k];if(Mt(I)&&!Kw(I)||No(I))i||(S&&Yw(I)&&(Mt(I)?I.value=S[k]:Vu(I,S[k])),o.state.value[t][k]=I);else if(typeof I=="function"){const N=A(I,k);B[k]=N,c.actions[k]=I}}return sr(P,B),sr(pt(P),B),Object.defineProperty(P,"$state",{get:()=>o.state.value[t],set:k=>{C(I=>{sr(I,k)})}}),o._p.forEach(k=>{sr(P,l.run(()=>k({store:P,app:o._a,pinia:o,options:c})))}),S&&i&&s.hydrate&&s.hydrate(P.$state,S),u=!0,m=!0,P}/*! #__NO_SIDE_EFFECTS__ */function Ft(t,e,s){let o;const n=typeof e=="function";o=n?s:e;function i(l,c){const d=I0();return l=l||(d?Bs(wv,null):null),l&&lc(l),l=_v,l._s.has(t)||(n?Sv(t,e,o,l):Xw(t,o,l)),l._s.get(t)}return i.$id=t,i}function $v(t){const e=pt(t),s={};for(const o in e){const n=e[o];n.effect?s[o]=R({get:()=>t[o],set(i){t[o]=i}}):(Mt(n)||No(n))&&(s[o]=Yx(t,o))}return s}function Zw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eu,ff;function Jw(){return ff||(ff=1,eu=function(t,e,s){if(t==null||e==null)return t;var o=String(t),n=typeof e=="number"?e:parseInt(e,10);if(isNaN(n)||!isFinite(n))return o;var i=o.length;if(i>=n)return o;var l=s==null?"":String(s);l===""&&(l=" ");for(var c=n-i;l.length<c;)l+=l;var d=l.length>c?l.substr(0,c):l;return o+d}),eu}var e2=Jw();const tu=Zw(e2);var wn=9e15,Di=function(){for(var t=[],e=-323;e<=308;e++)t.push(+("1e"+e));return function(s){return t[s+323]}}(),qe=function(t){return t instanceof be?t:new be(t)},Ts=function(t,e){return new be().fromMantissaExponent(t,e)},Nr=function(t,e){return new be().fromMantissaExponent_noNormalize(t,e)};function t2(t,e,s,o){var n=e.mul(s.pow(o));return be.floor(t.div(n).mul(s.sub(1)).add(1).log10()/s.log10())}function s2(t,e,s,o){return e.mul(s.pow(o)).mul(be.sub(1,s.pow(t))).div(be.sub(1,s))}var be=function(){function t(e){this.mantissa=NaN,this.exponent=NaN,e===void 0?(this.m=0,this.e=0):e instanceof t?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):this.fromString(e)}return Object.defineProperty(t.prototype,"m",{get:function(){return this.mantissa},set:function(e){this.mantissa=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"e",{get:function(){return this.exponent},set:function(e){this.exponent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"s",{get:function(){return this.sign()},set:function(e){if(e===0)return this.e=0,void(this.m=0);this.sgn()!==e&&(this.m=-this.m)},enumerable:!1,configurable:!0}),t.fromMantissaExponent=function(e,s){return new t().fromMantissaExponent(e,s)},t.fromMantissaExponent_noNormalize=function(e,s){return new t().fromMantissaExponent_noNormalize(e,s)},t.fromDecimal=function(e){return new t().fromDecimal(e)},t.fromNumber=function(e){return new t().fromNumber(e)},t.fromString=function(e){return new t().fromString(e)},t.fromValue=function(e){return new t().fromValue(e)},t.fromValue_noAlloc=function(e){return e instanceof t?e:new t(e)},t.abs=function(e){return qe(e).abs()},t.neg=function(e){return qe(e).neg()},t.negate=function(e){return qe(e).neg()},t.negated=function(e){return qe(e).neg()},t.sign=function(e){return qe(e).sign()},t.sgn=function(e){return qe(e).sign()},t.round=function(e){return qe(e).round()},t.floor=function(e){return qe(e).floor()},t.ceil=function(e){return qe(e).ceil()},t.trunc=function(e){return qe(e).trunc()},t.add=function(e,s){return qe(e).add(s)},t.plus=function(e,s){return qe(e).add(s)},t.sub=function(e,s){return qe(e).sub(s)},t.subtract=function(e,s){return qe(e).sub(s)},t.minus=function(e,s){return qe(e).sub(s)},t.mul=function(e,s){return qe(e).mul(s)},t.multiply=function(e,s){return qe(e).mul(s)},t.times=function(e,s){return qe(e).mul(s)},t.div=function(e,s){return qe(e).div(s)},t.divide=function(e,s){return qe(e).div(s)},t.recip=function(e){return qe(e).recip()},t.reciprocal=function(e){return qe(e).recip()},t.reciprocate=function(e){return qe(e).reciprocate()},t.cmp=function(e,s){return qe(e).cmp(s)},t.compare=function(e,s){return qe(e).cmp(s)},t.eq=function(e,s){return qe(e).eq(s)},t.equals=function(e,s){return qe(e).eq(s)},t.neq=function(e,s){return qe(e).neq(s)},t.notEquals=function(e,s){return qe(e).notEquals(s)},t.lt=function(e,s){return qe(e).lt(s)},t.lte=function(e,s){return qe(e).lte(s)},t.gt=function(e,s){return qe(e).gt(s)},t.gte=function(e,s){return qe(e).gte(s)},t.max=function(e,s){return qe(e).max(s)},t.min=function(e,s){return qe(e).min(s)},t.clamp=function(e,s,o){return qe(e).clamp(s,o)},t.clampMin=function(e,s){return qe(e).clampMin(s)},t.clampMax=function(e,s){return qe(e).clampMax(s)},t.cmp_tolerance=function(e,s,o){return qe(e).cmp_tolerance(s,o)},t.compare_tolerance=function(e,s,o){return qe(e).cmp_tolerance(s,o)},t.eq_tolerance=function(e,s,o){return qe(e).eq_tolerance(s,o)},t.equals_tolerance=function(e,s,o){return qe(e).eq_tolerance(s,o)},t.neq_tolerance=function(e,s,o){return qe(e).neq_tolerance(s,o)},t.notEquals_tolerance=function(e,s,o){return qe(e).notEquals_tolerance(s,o)},t.lt_tolerance=function(e,s,o){return qe(e).lt_tolerance(s,o)},t.lte_tolerance=function(e,s,o){return qe(e).lte_tolerance(s,o)},t.gt_tolerance=function(e,s,o){return qe(e).gt_tolerance(s,o)},t.gte_tolerance=function(e,s,o){return qe(e).gte_tolerance(s,o)},t.log10=function(e){return qe(e).log10()},t.absLog10=function(e){return qe(e).absLog10()},t.pLog10=function(e){return qe(e).pLog10()},t.log=function(e,s){return qe(e).log(s)},t.log2=function(e){return qe(e).log2()},t.ln=function(e){return qe(e).ln()},t.logarithm=function(e,s){return qe(e).logarithm(s)},t.pow10=function(e){return Number.isInteger(e)?Nr(1,e):Ts(Math.pow(10,e%1),Math.trunc(e))},t.pow=function(e,s){return typeof e=="number"&&e===10&&typeof s=="number"&&Number.isInteger(s)?Nr(1,s):qe(e).pow(s)},t.exp=function(e){return qe(e).exp()},t.sqr=function(e){return qe(e).sqr()},t.sqrt=function(e){return qe(e).sqrt()},t.cube=function(e){return qe(e).cube()},t.cbrt=function(e){return qe(e).cbrt()},t.dp=function(e){return qe(e).dp()},t.decimalPlaces=function(e){return qe(e).dp()},t.affordGeometricSeries=function(e,s,o,n){return t2(qe(e),qe(s),qe(o),n)},t.sumGeometricSeries=function(e,s,o,n){return s2(e,qe(s),qe(o),n)},t.affordArithmeticSeries=function(e,s,o,n){return function(i,l,c,d){var u=l.add(d.mul(c)).sub(c.div(2)),m=u.pow(2);return u.neg().add(m.add(c.mul(i).mul(2)).sqrt()).div(c).floor()}(qe(e),qe(s),qe(o),qe(n))},t.sumArithmeticSeries=function(e,s,o,n){return function(i,l,c,d){var u=l.add(d.mul(c));return i.div(2).mul(u.mul(2).plus(i.sub(1).mul(c)))}(qe(e),qe(s),qe(o),qe(n))},t.efficiencyOfPurchase=function(e,s,o){return function(n,i,l){return n.div(i).add(n.div(l))}(qe(e),qe(s),qe(o))},t.randomDecimalForTesting=function(e){if(20*Math.random()<1)return Nr(0,0);var s=10*Math.random();10*Math.random()<1&&(s=Math.round(s)),s*=Math.sign(2*Math.random()-1);var o=Math.floor(Math.random()*e*2)-e;return Ts(s,o)},t.prototype.normalize=function(){if(this.m>=1&&this.m<10)return this;if(this.m===0)return this.m=0,this.e=0,this;var e=Math.floor(Math.log10(Math.abs(this.m)));return this.m=e===-324?10*this.m/1e-323:this.m/Di(e),this.e+=e,this},t.prototype.fromMantissaExponent=function(e,s){return isFinite(e)&&isFinite(s)?(this.m=e,this.e=s,this.normalize(),this):(e=Number.NaN,s=Number.NaN,this)},t.prototype.fromMantissaExponent_noNormalize=function(e,s){return this.m=e,this.e=s,this},t.prototype.fromDecimal=function(e){return this.m=e.m,this.e=e.e,this},t.prototype.fromNumber=function(e){return isNaN(e)?(this.m=Number.NaN,this.e=Number.NaN):e===Number.POSITIVE_INFINITY?(this.m=1,this.e=wn):e===Number.NEGATIVE_INFINITY?(this.m=-1,this.e=wn):e===0?(this.m=0,this.e=0):(this.e=Math.floor(Math.log10(Math.abs(e))),this.m=this.e===-324?10*e/1e-323:e/Di(this.e),this.normalize()),this},t.prototype.fromString=function(e){if(e.indexOf("e")!==-1){var s=e.split("e");this.m=parseFloat(s[0]),this.e=parseFloat(s[1]),this.normalize()}else if(e==="NaN")this.m=Number.NaN,this.e=Number.NaN;else if(this.fromNumber(parseFloat(e)),isNaN(this.m))throw Error("[DecimalError] Invalid argument: "+e);return this},t.prototype.fromValue=function(e){return e instanceof t?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):typeof e=="string"?this.fromString(e):(this.m=0,this.e=0,this)},t.prototype.toNumber=function(){if(!isFinite(this.e))return Number.NaN;if(this.e>308)return this.m>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;if(this.e<-324)return 0;if(this.e===-324)return this.m>0?5e-324:-5e-324;var e=this.m*Di(this.e);if(!isFinite(e)||this.e<0)return e;var s=Math.round(e);return Math.abs(s-e)<1e-10?s:e},t.prototype.mantissaWithDecimalPlaces=function(e){if(isNaN(this.m)||isNaN(this.e))return Number.NaN;if(this.m===0)return 0;var s=e+1,o=Math.ceil(Math.log10(Math.abs(this.m))),n=Math.round(this.m*Math.pow(10,s-o))*Math.pow(10,o-s);return parseFloat(n.toFixed(Math.max(s-o,0)))},t.prototype.toString=function(){return isNaN(this.m)||isNaN(this.e)?"NaN":this.e>=wn?this.m>0?"Infinity":"-Infinity":this.e<=-9e15||this.m===0?"0":this.e<21&&this.e>-7?this.toNumber().toString():this.m+"e"+(this.e>=0?"+":"")+this.e},t.prototype.toExponential=function(e){if(isNaN(this.m)||isNaN(this.e))return"NaN";if(this.e>=wn)return this.m>0?"Infinity":"-Infinity";if(this.e<=-9e15||this.m===0)return"0"+(e>0?tu(".",e+1,"0"):"")+"e+0";if(this.e>-324&&this.e<308)return this.toNumber().toExponential(e);isFinite(e)||(e=17);var s=e+1,o=Math.max(1,Math.ceil(Math.log10(Math.abs(this.m))));return(Math.round(this.m*Math.pow(10,s-o))*Math.pow(10,o-s)).toFixed(Math.max(s-o,0))+"e"+(this.e>=0?"+":"")+this.e},t.prototype.toFixed=function(e){return isNaN(this.m)||isNaN(this.e)?"NaN":this.e>=wn?this.m>0?"Infinity":"-Infinity":this.e<=-9e15||this.m===0?"0"+(e>0?tu(".",e+1,"0"):""):this.e>=17?this.m.toString().replace(".","").padEnd(this.e+1,"0")+(e>0?tu(".",e+1,"0"):""):this.toNumber().toFixed(e)},t.prototype.toPrecision=function(e){return this.e<=-7?this.toExponential(e-1):e>this.e?this.toFixed(e-this.e-1):this.toExponential(e-1)},t.prototype.valueOf=function(){return this.toString()},t.prototype.toJSON=function(){return this.toString()},t.prototype.toStringWithDecimalPlaces=function(e){return this.toExponential(e)},t.prototype.abs=function(){return Nr(Math.abs(this.m),this.e)},t.prototype.neg=function(){return Nr(-this.m,this.e)},t.prototype.negate=function(){return this.neg()},t.prototype.negated=function(){return this.neg()},t.prototype.sign=function(){return Math.sign(this.m)},t.prototype.sgn=function(){return this.sign()},t.prototype.round=function(){return this.e<-1?new t(0):this.e<17?new t(Math.round(this.toNumber())):this},t.prototype.floor=function(){return this.e<-1?Math.sign(this.m)>=0?new t(0):new t(-1):this.e<17?new t(Math.floor(this.toNumber())):this},t.prototype.ceil=function(){return this.e<-1?Math.sign(this.m)>0?new t(1):new t(0):this.e<17?new t(Math.ceil(this.toNumber())):this},t.prototype.trunc=function(){return this.e<0?new t(0):this.e<17?new t(Math.trunc(this.toNumber())):this},t.prototype.add=function(e){var s,o,n=qe(e);if(this.m===0)return n;if(n.m===0)return this;if(this.e>=n.e?(s=this,o=n):(s=n,o=this),s.e-o.e>17)return s;var i=Math.round(1e14*s.m+1e14*o.m*Di(o.e-s.e));return Ts(i,s.e-14)},t.prototype.plus=function(e){return this.add(e)},t.prototype.sub=function(e){return this.add(qe(e).neg())},t.prototype.subtract=function(e){return this.sub(e)},t.prototype.minus=function(e){return this.sub(e)},t.prototype.mul=function(e){if(typeof e=="number")return e<1e307&&e>-1e307?Ts(this.m*e,this.e):Ts(1e-307*this.m*e,this.e+307);var s=typeof e=="string"?new t(e):e;return Ts(this.m*s.m,this.e+s.e)},t.prototype.multiply=function(e){return this.mul(e)},t.prototype.times=function(e){return this.mul(e)},t.prototype.div=function(e){return this.mul(qe(e).recip())},t.prototype.divide=function(e){return this.div(e)},t.prototype.divideBy=function(e){return this.div(e)},t.prototype.dividedBy=function(e){return this.div(e)},t.prototype.recip=function(){return Ts(1/this.m,-this.e)},t.prototype.reciprocal=function(){return this.recip()},t.prototype.reciprocate=function(){return this.recip()},t.prototype.cmp=function(e){var s=qe(e);if(this.m===0){if(s.m===0)return 0;if(s.m<0)return 1;if(s.m>0)return-1}if(s.m===0){if(this.m<0)return-1;if(this.m>0)return 1}if(this.m>0)return s.m<0||this.e>s.e?1:this.e<s.e?-1:this.m>s.m?1:this.m<s.m?-1:0;if(this.m<0)return s.m>0||this.e>s.e?-1:this.e<s.e||this.m>s.m?1:this.m<s.m?-1:0;throw Error("Unreachable code")},t.prototype.compare=function(e){return this.cmp(e)},t.prototype.eq=function(e){var s=qe(e);return this.e===s.e&&this.m===s.m},t.prototype.equals=function(e){return this.eq(e)},t.prototype.neq=function(e){return!this.eq(e)},t.prototype.notEquals=function(e){return this.neq(e)},t.prototype.lt=function(e){var s=qe(e);return this.m===0?s.m>0:s.m===0?this.m<=0:this.e===s.e?this.m<s.m:this.m>0?s.m>0&&this.e<s.e:s.m>0||this.e>s.e},t.prototype.lte=function(e){return!this.gt(e)},t.prototype.gt=function(e){var s=qe(e);return this.m===0?s.m<0:s.m===0?this.m>0:this.e===s.e?this.m>s.m:this.m>0?s.m<0||this.e>s.e:s.m<0&&this.e<s.e},t.prototype.gte=function(e){return!this.lt(e)},t.prototype.max=function(e){var s=qe(e);return this.lt(s)?s:this},t.prototype.min=function(e){var s=qe(e);return this.gt(s)?s:this},t.prototype.clamp=function(e,s){return this.max(e).min(s)},t.prototype.clampMin=function(e){return this.max(e)},t.prototype.clampMax=function(e){return this.min(e)},t.prototype.cmp_tolerance=function(e,s){var o=qe(e);return this.eq_tolerance(o,s)?0:this.cmp(o)},t.prototype.compare_tolerance=function(e,s){return this.cmp_tolerance(e,s)},t.prototype.eq_tolerance=function(e,s){var o=qe(e);return t.lte(this.sub(o).abs(),t.max(this.abs(),o.abs()).mul(s))},t.prototype.equals_tolerance=function(e,s){return this.eq_tolerance(e,s)},t.prototype.neq_tolerance=function(e,s){return!this.eq_tolerance(e,s)},t.prototype.notEquals_tolerance=function(e,s){return this.neq_tolerance(e,s)},t.prototype.lt_tolerance=function(e,s){var o=qe(e);return!this.eq_tolerance(o,s)&&this.lt(o)},t.prototype.lte_tolerance=function(e,s){var o=qe(e);return this.eq_tolerance(o,s)||this.lt(o)},t.prototype.gt_tolerance=function(e,s){var o=qe(e);return!this.eq_tolerance(o,s)&&this.gt(o)},t.prototype.gte_tolerance=function(e,s){var o=qe(e);return this.eq_tolerance(o,s)||this.gt(o)},t.prototype.log10=function(){return this.e+Math.log10(this.m)},t.prototype.absLog10=function(){return this.e+Math.log10(Math.abs(this.m))},t.prototype.pLog10=function(){return this.m<=0||this.e<0?0:this.log10()},t.prototype.log=function(e){return Math.LN10/Math.log(e)*this.log10()},t.prototype.log2=function(){return 3.321928094887362*this.log10()},t.prototype.ln=function(){return 2.302585092994045*this.log10()},t.prototype.logarithm=function(e){return this.log(e)},t.prototype.pow=function(e){var s,o=e instanceof t?e.toNumber():e,n=this.e*o;if(Number.isSafeInteger(n)&&(s=Math.pow(this.m,o),isFinite(s)&&s!==0))return Ts(s,n);var i=Math.trunc(n),l=n-i;if(s=Math.pow(10,o*Math.log10(this.m)+l),isFinite(s)&&s!==0)return Ts(s,i);var c=t.pow10(o*this.absLog10());return this.sign()===-1?Math.abs(o%2)===1?c.neg():Math.abs(o%2)===0?c:new t(Number.NaN):c},t.prototype.pow_base=function(e){return qe(e).pow(this)},t.prototype.factorial=function(){var e=this.toNumber()+1;return t.pow(e/Math.E*Math.sqrt(e*Math.sinh(1/e)+1/(810*Math.pow(e,6))),e).mul(Math.sqrt(2*Math.PI/e))},t.prototype.exp=function(){var e=this.toNumber();return-706<e&&e<709?t.fromNumber(Math.exp(e)):t.pow(Math.E,e)},t.prototype.sqr=function(){return Ts(Math.pow(this.m,2),2*this.e)},t.prototype.sqrt=function(){return this.m<0?new t(Number.NaN):this.e%2!=0?Ts(3.16227766016838*Math.sqrt(this.m),Math.floor(this.e/2)):Ts(Math.sqrt(this.m),Math.floor(this.e/2))},t.prototype.cube=function(){return Ts(Math.pow(this.m,3),3*this.e)},t.prototype.cbrt=function(){var e=1,s=this.m;s<0&&(e=-1,s=-s);var o=e*Math.pow(s,1/3),n=this.e%3;return Ts(n===1||n===-1?2.154434690031883*o:n!==0?4.641588833612778*o:o,Math.floor(this.e/3))},t.prototype.sinh=function(){return this.exp().sub(this.negate().exp()).div(2)},t.prototype.cosh=function(){return this.exp().add(this.negate().exp()).div(2)},t.prototype.tanh=function(){return this.sinh().div(this.cosh())},t.prototype.asinh=function(){return t.ln(this.add(this.sqr().add(1).sqrt()))},t.prototype.acosh=function(){return t.ln(this.add(this.sqr().sub(1).sqrt()))},t.prototype.atanh=function(){return this.abs().gte(1)?Number.NaN:t.ln(this.add(1).div(new t(1).sub(this)))/2},t.prototype.ascensionPenalty=function(e){return e===0?this:this.pow(Math.pow(10,-e))},t.prototype.egg=function(){return this.add(9)},t.prototype.lessThanOrEqualTo=function(e){return this.cmp(e)<1},t.prototype.lessThan=function(e){return this.cmp(e)<0},t.prototype.greaterThanOrEqualTo=function(e){return this.cmp(e)>-1},t.prototype.greaterThan=function(e){return this.cmp(e)>0},t.prototype.decimalPlaces=function(){return this.dp()},t.prototype.dp=function(){if(!isFinite(this.mantissa))return NaN;if(this.exponent>=17)return 0;for(var e=this.mantissa,s=-this.exponent,o=1;Math.abs(Math.round(e*o)/o-e)>1e-10;)o*=10,s++;return s>0?s:0},Object.defineProperty(t,"MAX_VALUE",{get:function(){return o2},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MIN_VALUE",{get:function(){return r2},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NUMBER_MAX_VALUE",{get:function(){return n2},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NUMBER_MIN_VALUE",{get:function(){return a2},enumerable:!1,configurable:!0}),t}(),o2=Nr(1,wn),r2=Nr(1,-9e15),n2=qe(Number.MAX_VALUE),a2=qe(Number.MIN_VALUE);function a(t){return new be(t)}function ie(t,e=2){if(!t)return"0";try{if(t.eq(t).toString()==="false")return"0"}catch{return"0"}if(t.eq(0)||t.lt(.01))return"0";if(t.lt(1e3)){const s=t.toFixed(e);return s.includes(".")?s.replace(/\.?0+$/,""):s}else return t.lt(1e6)?`${t.div(1e3).toFixed(e)}K`:t.lt(1e9)?`${t.div(1e6).toFixed(e)}M`:t.lt(1e12)?`${t.div(1e9).toFixed(e)}B`:t.lt(1e15)?`${t.div(1e12).toFixed(e)}T`:t.lt(1e18)?`${t.div(1e15).toFixed(e)}Qa`:t.lt(1e21)?`${t.div(1e18).toFixed(e)}Qi`:t.lt(1e24)?`${t.div(1e21).toFixed(e)}Sx`:t.lt(1e27)?`${t.div(1e24).toFixed(e)}Sp`:t.toExponential(e)}function i2(t){const e=t,s=a(3),o=a(1.065).add(a(.004).mul(e)),n=e,i=e.sub(999).max(0).div(1e3),l=n.mul(a(1).add(i));return s.mul(o.pow(l))}function l2(t){const e=t,s=a(2e3),o=a(2.9).add(a(.3).mul(e)),n=e,i=e.sub(199).max(0).div(500),l=n.mul(a(1).add(i));return s.mul(o.pow(l))}function c2(t){const e=t,s=a(1e8),o=a(20).add(a(10).mul(e)),n=e,i=e.sub(99).max(0).div(a(1e3).div(3)),l=n.mul(a(1).add(i));return s.mul(o.pow(l))}function d2(t){const e=t,s=a(4e18),o=a(50).add(a(30).mul(e)),n=e,i=e.sub(74).max(0).div(200),l=n.mul(a(1).add(i));return s.mul(o.pow(l))}function u2(t){const e=t,s=a("5e46"),o=a(220).add(a(80).mul(e)),n=e,i=e.sub(49).max(0).div(200),l=n.mul(a(1).add(i));return s.mul(o.pow(l))}function m2(t){const e=t,s=a("6e200"),o=a("6e5").add(a("6e5").mul(e)),n=e,i=e.div(a(500).div(3)),l=n.mul(a(1).add(i));return s.mul(o.pow(l))}function p2(t){const e=t,s=a("7e500"),o=a("7e7").add(a("7e7").mul(e)),n=e,i=e.div(50),l=n.mul(a(1).add(i));return s.mul(o.pow(l))}function f2(t){const e=t,s=a("6e750"),o=a("6e8").add(a("6e7").mul(e)),n=e,i=e.div(50),l=n.mul(a(1).add(i));return s.mul(o.pow(l))}function Ev(t,e){switch(t){case 1:return i2(e);case 2:return l2(e);case 3:return c2(e);case 4:return d2(e);case 5:return u2(e);case 6:return m2(e);case 7:return p2(e);case 8:return f2(e);default:return a(10).mul(a(1.1).pow(e))}}function dt(t){const e=typeof t=="number"?new be(t):t;if(e.lt(1e-4))return`${e.mul(100).toExponential(2)}%`;if(e.lt(.01))return`${e.mul(100).toFixed(4)}%`;if(e.lt(.1))return`${e.mul(100).toFixed(3)}%`;if(e.lt(1))return`${e.mul(100).toFixed(2)}%`;if(e.lt(10))return`${e.mul(100).toFixed(1)}%`;if(e.lt(10))return`${e.mul(100).toFixed(0)}%`;{const s=e.mul(100);return s.lt(1e3)?`${s.toFixed(0)}%`:s.lt(1e6)?`${s.div(1e3).toFixed(2)}K%`:s.lt(1e9)?`${s.div(1e6).toFixed(2)}M%`:s.lt(1e12)?`${s.div(1e9).toFixed(2)}B%`:s.lt(1e15)?`${s.div(1e12).toFixed(2)}T%`:`${s.toExponential(2)}%`}}const g2="modulepreload",h2=function(t){return"/"+t},gf={},Av=function(e,s,o){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=Promise.allSettled(s.map(d=>{if(d=h2(d),d in gf)return;gf[d]=!0;const u=d.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":g2,u||(p.as="script"),p.crossOrigin="",p.href=d,c&&p.setAttribute("nonce",c),document.head.appendChild(p),u)return new Promise((y,v)=>{p.addEventListener("load",y),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return n.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return e().catch(i)})},b2=[{id:"workerEfficiency",generatorId:"worker",name:"Worker Efficiency",description:"Increases food production of worker ants",cost:a(1),level:a(0),maxLevel:a(10),effect:t=>a(1).add(t.mul(.2)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased food production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"workerTraining",generatorId:"worker",name:"Worker Training",description:"Decreases the cost of worker ants",cost:a(1),level:a(0),maxLevel:a(5),effect:t=>a(1).sub(t.mul(.05)),formatEffect:t=>`${a(1).sub(t).mul(100).toFixed(0)}% decreased worker cost`,icon:"i-heroicons-academic-cap",unlocked:!0},{id:"workerForaging",generatorId:"worker",name:"Advanced Foraging",description:"Workers find higher quality food sources",cost:a(2),level:a(0),maxLevel:a(8),effect:t=>a(1).add(t.mul(.15)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased food quality`,icon:"i-heroicons-map",unlocked:!0},{id:"workerEndurance",generatorId:"worker",name:"Worker Endurance",description:"Workers can carry more food per trip",cost:a(2),level:a(0),maxLevel:a(7),effect:t=>a(1).add(t.mul(.1)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased carrying capacity`,icon:"i-heroicons-battery-100",unlocked:!0},{id:"workerBase",generatorId:"worker",name:"Worker Base",description:"Increases base food production of workers by 10",cost:a(2),level:a(0),maxLevel:a(7),formatEffect:t=>`+${t.mul(10).toFixed(0)} base food production`,icon:"i-heroicons-building-storefront",unlocked:!0},{id:"nurseryEfficiency",generatorId:"nursery",name:"Nursery Efficiency",description:"Increases worker ant production of nurseries",cost:a(1),level:a(0),maxLevel:a(10),effect:t=>a(1).add(t.mul(.2)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased worker production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"nurseryExpansion",generatorId:"nursery",name:"Nursery Expansion",description:"Decreases the cost of nurseries",cost:a(1),level:a(0),maxLevel:a(5),effect:t=>a(1).sub(t.mul(.05)),formatEffect:t=>`${a(1).sub(t).mul(100).toFixed(0)}% decreased nursery cost`,icon:"i-heroicons-home",unlocked:!0},{id:"nurseryNutrition",generatorId:"nursery",name:"Larval Nutrition",description:"Better nutrition leads to faster worker development",cost:a(2),level:a(0),maxLevel:a(8),effect:t=>a(1).add(t.mul(.12)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% faster worker development`,icon:"i-heroicons-beaker",unlocked:!0},{id:"nurseryCapacity",generatorId:"nursery",name:"Nursery Capacity",description:"Nurseries can care for more larvae simultaneously",cost:a(2),level:a(0),maxLevel:a(6),effect:t=>a(1).add(t.mul(.15)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased larvae capacity`,icon:"i-heroicons-cube",unlocked:!0},{id:"nurseryBase",generatorId:"nursery",name:"Nursery Base",description:"Increases base worker production of nurseries by 1",cost:a(2),level:a(0),maxLevel:a(7),formatEffect:t=>`+${t.toFixed(0)} base worker production`,icon:"i-heroicons-building-storefront",unlocked:!0},{id:"queenChamberEfficiency",generatorId:"queenChamber",name:"Queen Efficiency",description:"Increases nursery production of queen chambers",cost:a(1),level:a(0),maxLevel:a(10),effect:t=>a(1).add(t.mul(.2)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased nursery production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"queenChamberLongevity",generatorId:"queenChamber",name:"Queen Longevity",description:"Decreases the cost of queen chambers",cost:a(1),level:a(0),maxLevel:a(5),effect:t=>a(1).sub(t.mul(.05)),formatEffect:t=>`${a(1).sub(t).mul(100).toFixed(0)}% decreased queen chamber cost`,icon:"i-heroicons-clock",unlocked:!0},{id:"queenChamberFertility",generatorId:"queenChamber",name:"Queen Fertility",description:"Queen chambers occasionally create new queens",cost:a(3),level:a(0),maxLevel:a(5),effect:t=>a(t.mul(.005)),formatEffect:t=>`${t.mul(100).toFixed(1)}% chance to generate a free queen chamber per tick`,icon:"i-heroicons-heart",unlocked:!0},{id:"queenChamberRoyalJelly",generatorId:"queenChamber",name:"Royal Jelly",description:"Special food increases queen egg production",cost:a(2),level:a(0),maxLevel:a(7),effect:t=>a(1).add(t.mul(.15)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased egg production`,icon:"i-heroicons-fire",unlocked:!0},{id:"queenChamberGuards",generatorId:"queenChamber",name:"Royal Guards",description:"Special guards protect the queen, increasing productivity",cost:a(2),level:a(0),maxLevel:a(6),effect:t=>a(1).add(t.mul(.1)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased productivity`,icon:"i-heroicons-shield-check",unlocked:!0},{id:"queenChamberEvolution",generatorId:"queenChamber",name:"Royal Evolution",description:"Queens enhance evolution potential, increasing EP gain by 0.05% per level per manual purchase of queen chamber per evolution done",cost:a(3),level:a(0),maxLevel:a(5),effect:t=>a(t.mul(5e-4)),formatEffect:t=>`+${t.mul(100).toFixed(3)}% EP gain per queen chamber per evolution`,icon:"i-heroicons-sparkles",unlocked:!0},{id:"queenChamberBase",generatorId:"queenChamber",name:"Queen Chamber Base",description:"Increases base nursery production of queen chambers by 1",cost:a(2),level:a(0),maxLevel:a(7),formatEffect:t=>`+${t.toFixed(0)} base nursery production`,icon:"i-heroicons-building-storefront",unlocked:!0},{id:"colonyEfficiency",generatorId:"colony",name:"Colony Efficiency",description:"Increases queen chamber production of colonies",cost:a(1),level:a(0),maxLevel:a(10),effect:t=>a(1).add(t.mul(.2)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased queen chamber production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"colonyExpansion",generatorId:"colony",name:"Colony Expansion",description:"Decreases the cost of colonies",cost:a(1),level:a(0),maxLevel:a(5),effect:t=>a(1).sub(t.mul(.05)),formatEffect:t=>`${a(1).sub(t).mul(100).toFixed(0)}% decreased colony cost`,icon:"i-heroicons-building-office-2",unlocked:!0},{id:"colonyOrganization",generatorId:"colony",name:"Colony Organization",description:"Better organization leads to increased productivity",cost:a(2),level:a(0),maxLevel:a(8),effect:t=>a(1).add(t.mul(.15)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased productivity`,icon:"i-heroicons-squares-2x2",unlocked:!0},{id:"colonyInfrastructure",generatorId:"colony",name:"Colony Infrastructure",description:"Improved tunnels and chambers increase overall efficiency",cost:a(2),level:a(0),maxLevel:a(7),effect:t=>a(1).add(t.mul(.12)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased efficiency`,icon:"i-heroicons-cube-transparent",unlocked:!0},{id:"colonyBase",generatorId:"colony",name:"Colony Base",description:"Increases base queen chamber production of colonies by 1",cost:a(2),level:a(0),maxLevel:a(7),formatEffect:t=>`+${t.toFixed(0)} base queen chamber production`,icon:"i-heroicons-building-storefront",unlocked:!0},{id:"megacolonyEfficiency",generatorId:"megacolony",name:"Megacolony Efficiency",description:"Increases colony production of megacolonies",cost:a(1),level:a(0),maxLevel:a(10),effect:t=>a(1).add(t.mul(.2)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased colony production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"megacolonyExpansion",generatorId:"megacolony",name:"Megacolony Expansion",description:"Decreases the cost of megacolonies",cost:a(1),level:a(0),maxLevel:a(5),effect:t=>a(1).sub(t.mul(.05)),formatEffect:t=>`${a(1).sub(t).mul(100).toFixed(0)}% decreased megacolony cost`,icon:"i-heroicons-building-office",unlocked:!0},{id:"megacolonyNetworking",generatorId:"megacolony",name:"Colony Networking",description:"Enhanced communication between colonies increases production",cost:a(2),level:a(0),maxLevel:a(8),effect:t=>a(1).add(t.mul(.15)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased production`,icon:"i-heroicons-share",unlocked:!0},{id:"megacolonyTerritory",generatorId:"megacolony",name:"Territory Control",description:"Better territory management improves resource gathering",cost:a(2),level:a(0),maxLevel:a(7),effect:t=>a(1).add(t.mul(.12)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% improved resource gathering`,icon:"i-heroicons-map",unlocked:!0},{id:"megacolonyBase",generatorId:"megacolony",name:"Megacolony Base",description:"Increases base colony production of megacolonies by 1",cost:a(2),level:a(0),maxLevel:a(7),formatEffect:t=>`+${t.toFixed(0)} base colony production`,icon:"i-heroicons-building-storefront",unlocked:!0},{id:"hivemindEfficiency",generatorId:"hivemind",name:"Hivemind Efficiency",description:"Increases megacolony production of hiveminds",cost:a(1),level:a(0),maxLevel:a(10),effect:t=>a(1).add(t.mul(.2)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased megacolony production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"hivemindExpansion",generatorId:"hivemind",name:"Hivemind Expansion",description:"Decreases the cost of hiveminds",cost:a(1),level:a(0),maxLevel:a(5),effect:t=>a(1).sub(t.mul(.05)),formatEffect:t=>`${a(1).sub(t).mul(100).toFixed(0)}% decreased hivemind cost`,icon:"i-heroicons-globe-americas",unlocked:!0},{id:"hivemindSynergy",generatorId:"hivemind",name:"Collective Synergy",description:"Enhanced collective consciousness improves coordination",cost:a(2),level:a(0),maxLevel:a(8),effect:t=>a(1).add(t.mul(.15)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% improved coordination`,icon:"i-heroicons-cpu-chip",unlocked:!0},{id:"hivemindIntelligence",generatorId:"hivemind",name:"Collective Intelligence",description:"Increased cognitive capacity improves decision making",cost:a(2),level:a(0),maxLevel:a(7),effect:t=>a(1).add(t.mul(.12)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% improved decision making`,icon:"i-heroicons-brain",unlocked:!0},{id:"hivemindBase",generatorId:"hivemind",name:"Hivemind Base",description:"Increases base megacolony production of hiveminds by 1",cost:a(2),level:a(0),maxLevel:a(7),formatEffect:t=>`+${t.toFixed(0)} base megacolony production`,icon:"i-heroicons-building-storefront",unlocked:!0},{id:"antopolisEfficiency",generatorId:"antopolis",name:"Antopolis Efficiency",description:"Increases hivemind production of antopolis",cost:a(1),level:a(0),maxLevel:a(10),effect:t=>a(1).add(t.mul(.2)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased hivemind production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"antopolisExpansion",generatorId:"antopolis",name:"Antopolis Expansion",description:"Decreases the cost of antopolis",cost:a(1),level:a(0),maxLevel:a(5),effect:t=>a(1).sub(t.mul(.05)),formatEffect:t=>`${a(1).sub(t).mul(100).toFixed(0)}% decreased antopolis cost`,icon:"i-heroicons-building-library",unlocked:!0},{id:"antopolisInnovation",generatorId:"antopolis",name:"Technological Innovation",description:"Advanced technology increases overall productivity",cost:a(2),level:a(0),maxLevel:a(8),effect:t=>a(1).add(t.mul(.15)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased productivity`,icon:"i-heroicons-light-bulb",unlocked:!0},{id:"antopolisCivilization",generatorId:"antopolis",name:"Ant Civilization",description:"Cultural and social advances improve efficiency",cost:a(2),level:a(0),maxLevel:a(7),effect:t=>a(1).add(t.mul(.12)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% improved efficiency`,icon:"i-heroicons-academic-cap",unlocked:!0},{id:"antopolisBase",generatorId:"antopolis",name:"Antopolis Base",description:"Increases base hivemind production of antopolis by 1",cost:a(2),level:a(0),maxLevel:a(7),formatEffect:t=>`+${t.toFixed(0)} base hivemind production`,icon:"i-heroicons-building-storefront",unlocked:!0},{id:"alateHatcheryEfficiency",generatorId:"alateHatchery",name:"Hatchery Efficiency",description:"Increases antopolis production of alate hatcheries",cost:a(1),level:a(0),maxLevel:a(10),effect:t=>a(1).add(t.mul(.2)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased antopolis production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"alateHatcheryExpansion",generatorId:"alateHatchery",name:"Hatchery Expansion",description:"Decreases the cost of alate hatcheries",cost:a(1),level:a(0),maxLevel:a(5),effect:t=>a(1).sub(t.mul(.05)),formatEffect:t=>`${a(1).sub(t).mul(100).toFixed(0)}% decreased hatchery cost`,icon:"i-heroicons-building-office-2",unlocked:!0},{id:"alateHatcheryBreeding",generatorId:"alateHatchery",name:"Selective Breeding",description:"Improved genetic selection enhances alate development",cost:a(2),level:a(0),maxLevel:a(8),effect:t=>a(1).add(t.mul(.15)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% enhanced alate development`,icon:"i-heroicons-beaker",unlocked:!0},{id:"alateHatcheryNutrition",generatorId:"alateHatchery",name:"Advanced Nutrition",description:"Specialized diet improves alate growth and vitality",cost:a(2),level:a(0),maxLevel:a(7),effect:t=>a(1).add(t.mul(.12)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% improved alate vitality`,icon:"i-heroicons-fire",unlocked:!0},{id:"alateHatcheryBase",generatorId:"alateHatchery",name:"Hatchery Base",description:"Increases base antopolis production of alate hatcheries by 1",cost:a(2),level:a(0),maxLevel:a(7),formatEffect:t=>`+${t.toFixed(0)} base antopolis production`,icon:"i-heroicons-building-storefront",unlocked:!0}],Mv={training_sword:{id:"training_sword",name:"Training Sword",description:"A basic sword for training. Better than nothing!",type:"equipment",rarity:"common",stats:{damage:a(5)},productionModifiers:{worker:a(2),nursery:a(1.5)},level:a(1),xp:a(0),maxXp:a(10)},training_armor:{id:"training_armor",name:"Training Armor",description:"Basic protective gear for training.",type:"equipment",rarity:"common",stats:{health:a(20),damage:a(5)},productionModifiers:{worker:a(2),nursery:a(1.7)},level:a(1),xp:a(0),maxXp:a(10)},wooden_shield:{id:"wooden_shield",name:"Wooden Shield",description:"A simple wooden shield that offers basic protection.",type:"equipment",rarity:"common",stats:{health:a(15),defense:a(3)},productionModifiers:{worker:a(2.1),nursery:a(1.78)},level:a(1),xp:a(0),maxXp:a(100)},foraging_tools:{id:"foraging_tools",name:"Foraging Tools",description:"Basic tools that help ants gather resources more efficiently.",type:"equipment",rarity:"common",stats:{damage:a(2)},productionModifiers:{worker:a(2.2),nursery:a(1.1)},level:a(1),xp:a(0),maxXp:a(100)},leaf_cloak:{id:"leaf_cloak",name:"Leaf Cloak",description:"A simple cloak made from leaves that provides minimal protection.",type:"equipment",rarity:"common",stats:{health:a(10),defense:a(1)},productionModifiers:{worker:a(1.7),nursery:a(1.8),queenChamber:a(1.2)},level:a(1),xp:a(0),maxXp:a(100)},pebble_hammer:{id:"pebble_hammer",name:"Pebble Hammer",description:"A small pebble attached to a stick. Crude but effective.",type:"equipment",rarity:"common",stats:{damage:a(7)},productionModifiers:{worker:a(1.8),nursery:a(1.6),queenChamber:a(1.3)},level:a(1),xp:a(0),maxXp:a(100)},worker_sword:{id:"worker_sword",name:"Worker Sword",description:"A sturdy sword used by worker ants.",type:"equipment",rarity:"uncommon",stats:{damage:a(15)},productionModifiers:{nursery:a(2.5),queenChamber:a(1.5)},level:a(1),xp:a(0),maxXp:a(15)},worker_armor:{id:"worker_armor",name:"Worker Armor",description:"Durable armor worn by worker ants.",type:"equipment",rarity:"uncommon",stats:{health:a(50)},productionModifiers:{nursery:a(2.2),queenChamber:a(1.7)},level:a(1),xp:a(0),maxXp:a(15)},reinforced_mandibles:{id:"reinforced_mandibles",name:"Reinforced Mandibles",description:"Strengthened mandibles that can cut through tougher materials.",type:"equipment",rarity:"uncommon",stats:{damage:a(20),defense:a(5)},productionModifiers:{worker:a(2.3),nursery:a(3),queenChamber:a(1.8)},level:a(1),xp:a(0),maxXp:a(15)},resin_helmet:{id:"resin_helmet",name:"Resin Helmet",description:"A helmet crafted from hardened tree resin, offering good protection.",type:"equipment",rarity:"uncommon",stats:{health:a(40),defense:a(10)},productionModifiers:{worker:a(2.4),nursery:a(2.7),queenChamber:a(1.9)},level:a(1),xp:a(0),maxXp:a(15)},thorn_spear:{id:"thorn_spear",name:"Thorn Spear",description:"A spear tipped with a sharp rose thorn. Excellent for piercing.",type:"equipment",rarity:"uncommon",stats:{damage:a(25)},productionModifiers:{worker:a(2.5),nursery:a(2.9),queenChamber:a(2)},level:a(1),xp:a(0),maxXp:a(15)},beetle_shell_shield:{id:"beetle_shell_shield",name:"Beetle Shell Shield",description:"A shield made from a small beetle's shell. Surprisingly durable.",type:"equipment",rarity:"uncommon",stats:{health:a(60),defense:a(15)},productionModifiers:{worker:a(2.6),nursery:a(2.6),queenChamber:a(2.1)},level:a(1),xp:a(0),maxXp:a(15)},mandible_crusher:{id:"mandible_crusher",name:"Mandible Crusher",description:"A fearsome weapon forged from the mandibles of giant beetles.",type:"equipment",rarity:"rare",stats:{damage:a(100),defense:a(25)},productionModifiers:{worker:a(2.7),nursery:a(2.8),queenChamber:a(2.2),colony:a(2)},level:a(1),xp:a(0),maxXp:a(25)},exoskeleton_plate:{id:"exoskeleton_plate",name:"Exoskeleton Plate",description:"Armor crafted from the hardened exoskeleton of a giant stag beetle.",type:"equipment",rarity:"rare",stats:{health:a(300),defense:a(50),regen:a(5)},productionModifiers:{queenChamber:a(3.5),colony:a(2.5)},level:a(1),xp:a(0),maxXp:a(25)},venom_dagger:{id:"venom_dagger",name:"Venom Dagger",description:"A deadly dagger coated with scorpion venom that melts through defenses.",type:"equipment",rarity:"rare",stats:{damage:a(150),regen:a(3)},productionModifiers:{queenChamber:a(4),colony:a(3)},level:a(1),xp:a(0),maxXp:a(25)},evolution_crystal:{id:"evolution_crystal",name:"Evolution Crystal",description:"A mysterious crystal that resonates with evolutionary energy, enhancing EP gains.",type:"equipment",rarity:"rare",stats:{damage:a(50),health:a(100),regen:a(2)},productionModifiers:{queenChamber:a(3),colony:a(2)},specialModifiers:{epBoost:a(1.3)},level:a(1),xp:a(0),maxXp:a(25)},hive_amplifier:{id:"hive_amplifier",name:"Hive Amplifier",description:"A powerful artifact that amplifies the productivity of the entire colony.",type:"equipment",rarity:"rare",stats:{damage:a(75),health:a(150),defense:a(30)},productionModifiers:{global:a(1.5)},level:a(1),xp:a(0),maxXp:a(25)},void_reaver:{id:"void_reaver",name:"Void Reaver",description:"A mythical blade that tears through the fabric of reality.",type:"equipment",rarity:"epic",stats:{damage:a(500),defense:a(100),regen:a(10)},productionModifiers:{colony:a(5),megacolony:a(3)},level:a(1),xp:a(0),maxXp:a(40)},chronos_shell:{id:"chronos_shell",name:"Chronos Shell",description:"Armor that manipulates time itself, allowing the wearer to exist slightly out of phase with reality.",type:"equipment",rarity:"epic",stats:{health:a(1e3),defense:a(200),regen:a(20)},productionModifiers:{colony:a(6),megacolony:a(4)},level:a(1),xp:a(0),maxXp:a(40)},entropy_fangs:{id:"entropy_fangs",name:"Entropy Fangs",description:"Mandibles that accelerate entropy in whatever they touch.",type:"equipment",rarity:"epic",stats:{damage:a(750),defense:a(150),regen:a(15)},productionModifiers:{colony:a(7),megacolony:a(5)},level:a(1),xp:a(0),maxXp:a(40)},ascension_matrix:{id:"ascension_matrix",name:"Ascension Matrix",description:"A mythical matrix of pure evolutionary potential.",type:"equipment",rarity:"epic",stats:{damage:a(300),health:a(500),defense:a(100),regen:a(10)},productionModifiers:{colony:a(4),megacolony:a(3)},specialModifiers:{epBoost:a(2)},level:a(1),xp:a(0),maxXp:a(40)},omnipotent_catalyst:{id:"omnipotent_catalyst",name:"Omnipotent Catalyst",description:"A mythical catalyst that exponentially increases productivity.",type:"equipment",rarity:"epic",stats:{damage:a(400),health:a(600),defense:a(120),regen:a(12)},productionModifiers:{global:a(2)},level:a(1),xp:a(0),maxXp:a(40)},infinity_shard:{id:"infinity_shard",name:"Infinity Shard",description:"A fragment of the universe's beginning.",type:"equipment",rarity:"legendary",stats:{damage:a(5e3),defense:a(1e3),regen:a(50),health:a(5e3)},productionModifiers:{megacolony:a(10),hivemind:a(5)},level:a(1),xp:a(0),maxXp:a(60)},eternity_weave:{id:"eternity_weave",name:"Eternity Weave",description:"Armor woven from the threads of eternity itself.",type:"equipment",rarity:"legendary",stats:{health:a(1e4),defense:a(2e3),regen:a(100),damage:a(2e3)},productionModifiers:{megacolony:a(12),hivemind:a(6)},level:a(1),xp:a(0),maxXp:a(60)},genesis_claw:{id:"genesis_claw",name:"Genesis Claw",description:"A weapon that contains the power of creation itself.",type:"equipment",rarity:"legendary",stats:{damage:a(7500),defense:a(1500),regen:a(75),health:a(3e3)},productionModifiers:{megacolony:a(15),hivemind:a(8)},level:a(1),xp:a(0),maxXp:a(60)},transcendence_core:{id:"transcendence_core",name:"Transcendence Core",description:"A divine core of pure evolutionary essence.",type:"equipment",rarity:"legendary",stats:{damage:a(3e3),health:a(5e3),defense:a(500),regen:a(50)},productionModifiers:{megacolony:a(8),hivemind:a(4)},specialModifiers:{epBoost:a(3)},level:a(1),xp:a(0),maxXp:a(60)},universal_amplifier:{id:"universal_amplifier",name:"Universal Amplifier",description:"A divine artifact that amplifies productivity to godlike levels.",type:"equipment",rarity:"legendary",stats:{damage:a(4e3),health:a(6e3),defense:a(600),regen:a(60)},productionModifiers:{global:a(3)},level:a(1),xp:a(0),maxXp:a(60)},quantum_mandibles:{id:"quantum_mandibles",name:"Quantum Mandibles",description:"Mandibles that exist in multiple dimensions at once.",type:"equipment",rarity:"mythic",stats:{damage:a(1e4),defense:a(2e3),regen:a(150),health:a(5e3)},productionModifiers:{hivemind:a(20),antopolis:a(10),alateHatchery:a(5)},level:a(1),xp:a(0),maxXp:a(100)},mythic_ascension_matrix:{id:"mythic_ascension_matrix",name:"Ascension Matrix",description:"A mythical matrix of pure evolutionary potential.",type:"equipment",rarity:"mythic",stats:{damage:a(5e3),health:a(7500),defense:a(1e3),regen:a(100)},productionModifiers:{hivemind:a(15),antopolis:a(8),alateHatchery:a(4)},specialModifiers:{epBoost:a(5)},level:a(1),xp:a(0),maxXp:a(100)},mythic_catalyst:{id:"mythic_catalyst",name:"Omnipotent Catalyst",description:"A mythical catalyst that exponentially increases productivity.",type:"equipment",rarity:"mythic",stats:{damage:a(6e3),health:a(9e3),defense:a(1200),regen:a(120)},productionModifiers:{global:a(5)},level:a(1),xp:a(0),maxXp:a(100)},divine_infinity_shard:{id:"divine_infinity_shard",name:"Infinity Shard",description:"A fragment of the universe's beginning.",type:"equipment",rarity:"divine",stats:{damage:a(5e4),defense:a(5e3),regen:a(500),health:a(5e4)},productionModifiers:{hivemind:a(50),antopolis:a(30)},level:a(1),xp:a(0),maxXp:a(200)},divine_eternity_weave:{id:"divine_eternity_weave",name:"Eternity Weave",description:"Armor woven from the threads of eternity itself.",type:"equipment",rarity:"divine",stats:{health:a(1e5),defense:a(1e4),regen:a(1e3),damage:a(1e4)},productionModifiers:{hivemind:a(60),antopolis:a(40)},level:a(1),xp:a(0),maxXp:a(200)},divine_genesis_claw:{id:"divine_genesis_claw",name:"Genesis Claw",description:"A weapon that contains the power of creation itself.",type:"equipment",rarity:"divine",stats:{damage:a(75e3),defense:a(7500),regen:a(750),health:a(25e3)},productionModifiers:{hivemind:a(80),antopolis:a(50),alateHatchery:a(20)},level:a(1),xp:a(0),maxXp:a(200)},divine_transcendence_core:{id:"divine_transcendence_core",name:"Transcendence Core",description:"A divine core of pure evolutionary essence.",type:"equipment",rarity:"divine",stats:{damage:a(3e4),health:a(5e4),defense:a(5e3),regen:a(500)},productionModifiers:{hivemind:a(40),antopolis:a(25)},specialModifiers:{epBoost:a(10)},level:a(1),xp:a(0),maxXp:a(200)},divine_universal_amplifier:{id:"divine_universal_amplifier",name:"Universal Amplifier",description:"A divine artifact that amplifies productivity to godlike levels.",type:"equipment",rarity:"divine",stats:{damage:a(4e4),health:a(6e4),defense:a(6e3),regen:a(600)},productionModifiers:{global:a(10)},level:a(1),xp:a(0),maxXp:a(200)},divine_ant_queen_crown:{id:"divine_ant_queen_crown",name:"Ant Queen Crown",description:"A crown forged from the essence of ant queens, granting supreme authority.",type:"equipment",rarity:"divine",stats:{damage:a(45e3),health:a(55e3),defense:a(5500),regen:a(550)},productionModifiers:{hivemind:a(45),antopolis:a(35)},specialModifiers:{epBoost:a(8)},level:a(1),xp:a(0),maxXp:a(200)},mythic_swarm_controller:{id:"mythic_swarm_controller",name:"Swarm Controller",description:"A mystical device that allows control over vast swarms of insects.",type:"equipment",rarity:"mythic",stats:{damage:a(5500),health:a(8500),defense:a(1100),regen:a(110)},productionModifiers:{hivemind:a(18),antopolis:a(10)},specialModifiers:{epBoost:a(4)},level:a(1),xp:a(0),maxXp:a(100)},epic_ant_commander_armor:{id:"epic_ant_commander_armor",name:"Ant Commander Armor",description:"Armor that marks you as a supreme commander of ant armies.",type:"equipment",rarity:"epic",stats:{damage:a(600),health:a(800),defense:a(150),regen:a(15)},productionModifiers:{colony:a(8),megacolony:a(5)},specialModifiers:{epBoost:a(1.5)},level:a(1),xp:a(0),maxXp:a(15)},rare_ant_tactician_helm:{id:"rare_ant_tactician_helm",name:"Ant Tactician Helm",description:"A helm that enhances tactical thinking and ant coordination.",type:"equipment",rarity:"rare",stats:{damage:a(150),health:a(200),defense:a(40),regen:a(4)},productionModifiers:{queenChamber:a(4),colony:a(2.5)},specialModifiers:{epBoost:a(1.2)},level:a(1),xp:a(0),maxXp:a(15)},uncommon_ant_scout_gear:{id:"uncommon_ant_scout_gear",name:"Ant Scout Gear",description:"Lightweight gear perfect for ant scouts.",type:"equipment",rarity:"uncommon",stats:{damage:a(30),health:a(40),defense:a(8),regen:a(1)},productionModifiers:{nursery:a(3),queenChamber:a(2)},specialModifiers:{epBoost:a(1.1)},level:a(1),xp:a(0),maxXp:a(15)},common_ant_training_kit:{id:"common_ant_training_kit",name:"Ant Training Kit",description:"Basic training equipment for young ants.",type:"equipment",rarity:"common",stats:{damage:a(8),health:a(12),defense:a(3)},productionModifiers:{worker:a(2.5),nursery:a(1.8)},specialModifiers:{epBoost:a(1.05)},level:a(1),xp:a(0),maxXp:a(10)},cosmic_duality:{id:"cosmic_duality",name:"Cosmic Duality",description:"The ultimate artifact that bridges creation and destruction.",type:"equipment",rarity:"divine",stats:{damage:a(1e5),health:a(1e5),defense:a(1e4),regen:a(1e3)},productionModifiers:{global:a(20)},specialModifiers:{epBoost:a(10)},level:a(1),xp:a(0),maxXp:a(200)},boss_chitinous_blade:{id:"boss_chitinous_blade",name:"Chitinous Blade",description:"A sharp blade crafted from the Training Dummy's hardened carapace. The strange material enhances your connection to worker ants.",type:"equipment",rarity:"uncommon",stats:{damage:a(50),defense:a(25)},productionModifiers:{worker:a(3),nursery:a(2.5)},level:a(1),xp:a(0),maxXp:a(15)},boss_mandible_gauntlets:{id:"boss_mandible_gauntlets",name:"Mandible Gauntlets",description:"Armored gauntlets crafted from the Slime King's powerful mandibles. They pulse with a strange energy that enhances your nursery and queen chambers.",type:"equipment",rarity:"rare",stats:{damage:a(150),defense:a(75),health:a(200)},productionModifiers:{nursery:a(4),queenChamber:a(3)},level:a(1),xp:a(0),maxXp:a(25)},boss_hivemind_helm:{id:"boss_hivemind_helm",name:"Hivemind Helm",description:"A helmet woven from the Giant Spider's silk, allowing you to better communicate with your colony. Your thoughts become one with the collective.",type:"equipment",rarity:"rare",stats:{damage:a(200),defense:a(100),health:a(300),regen:a(5)},productionModifiers:{queenChamber:a(4),colony:a(3)},level:a(1),xp:a(0),maxXp:a(25)},boss_royal_carapace:{id:"boss_royal_carapace",name:"Royal Carapace",description:"Armor forged from the Ant Golem's nearly impenetrable shell. It resonates with your colony's energy, strengthening your connection to the mega colony.",type:"equipment",rarity:"epic",stats:{health:a(1e3),defense:a(500),regen:a(20),damage:a(400)},productionModifiers:{colony:a(6),megacolony:a(4)},level:a(1),xp:a(0),maxXp:a(40)},boss_pheromone_catalyst:{id:"boss_pheromone_catalyst",name:"Pheromone Catalyst",description:"A mysterious artifact taken from the Mantis Lord that amplifies pheromone signals throughout your colony, significantly enhancing mega colony and hivemind coordination.",type:"equipment",rarity:"epic",stats:{damage:a(600),defense:a(300),health:a(800),regen:a(15)},productionModifiers:{megacolony:a(8),hivemind:a(6)},specialModifiers:{epBoost:a(1.5)},level:a(1),xp:a(0),maxXp:a(40)},boss_quantum_stinger:{id:"boss_quantum_stinger",name:"Quantum Stinger",description:"The Queen Bee's royal stinger, infused with quantum particles that exist in multiple states simultaneously. Dramatically enhances hivemind and antopolis production.",type:"equipment",rarity:"legendary",stats:{damage:a(1e4),defense:a(3e3),health:a(8e3),regen:a(100)},productionModifiers:{hivemind:a(12),antopolis:a(8)},specialModifiers:{epBoost:a(2)},level:a(1),xp:a(0),maxXp:a(60)},boss_cosmic_nucleus:{id:"boss_cosmic_nucleus",name:"Cosmic Nucleus",description:"The core of the Devourer Moth that contains condensed cosmic energy. This artifact of immense power enhances all aspects of your colony simultaneously.",type:"equipment",rarity:"mythic",stats:{damage:a(5e4),defense:a(15e3),health:a(4e4),regen:a(500)},productionModifiers:{global:a(10),hivemind:a(20),antopolis:a(15)},specialModifiers:{epBoost:a(5)},level:a(1),xp:a(0),maxXp:a(100)},emperor_toxin:{id:"emperor_toxin",name:"Emperor's Toxin",description:"A vial containing potent neurotoxin from the Scorpion Emperor's stinger. It resonates with the colony's expansion efforts.",type:"equipment",rarity:"mythic",stats:{damage:a("7.5e4"),defense:a("3e4"),health:a("1e5"),regen:a("7.5e2")},productionModifiers:{colony:a(18),megacolony:a(12)},specialModifiers:{epBoost:a(5.5)},level:a(1),xp:a(0),maxXp:a(100)},boss_temporal_chitin:{id:"boss_temporal_chitin",name:"Temporal Chitin",description:"Chitin shed by the Chrono-Beetle, vibrating with temporal energy. Boosts mid-game production significantly.",type:"equipment",rarity:"mythic",stats:{damage:a(1e5),defense:a(5e4),health:a(2e5),regen:a(1e3)},productionModifiers:{colony:a(20),megacolony:a(15)},level:a(1),xp:a(0),maxXp:a(100)},boss_void_essence_core:{id:"boss_void_essence_core",name:"Void Essence Core",description:"The condensed heart of the Void Larva. Radiates an aura that empowers the Hive Mind and Antopolis.",type:"equipment",rarity:"mythic",stats:{damage:a(1e7),defense:a(5e6),health:a(2e7),regen:a(1e5)},productionModifiers:{hivemind:a(30),antopolis:a(20),alateHatchery:a(10)},specialModifiers:{epBoost:a(6)},level:a(1),xp:a(0),maxXp:a(100)},boss_nebula_stinger:{id:"boss_nebula_stinger",name:"Nebula Stinger",description:"The stinger of the Nebula Wasp Queen, crackling with cosmic power. Grants massive boosts to late-game generators.",type:"equipment",rarity:"divine",stats:{damage:a(1e10),defense:a(5e9),health:a(2e10),regen:a(1e8)},productionModifiers:{hivemind:a(70),antopolis:a(50),alateHatchery:a(25)},level:a(1),xp:a(0),maxXp:a(200)},boss_reality_fragment:{id:"boss_reality_fragment",name:"Reality Fragment",description:"A shard of reality fractured by the Dimensional Horror. Offers immense global power but feels unstable.",type:"equipment",rarity:"divine",stats:{damage:a(1e15),defense:a(5e14),health:a(2e15),regen:a(1e12)},productionModifiers:{global:a(15)},specialModifiers:{epBoost:a(12)},level:a(1),xp:a(0),maxXp:a(200)},boss_divine_mandible:{id:"boss_divine_mandible",name:"Divine Mandible",description:"A mandible from the Ascended Ant God, imbued with the power to reshape the colony. The ultimate artifact of ant power.",type:"equipment",rarity:"divine",stats:{damage:a(1e25),defense:a(5e24),health:a(2e25),regen:a(1e22)},productionModifiers:{global:a(30)},specialModifiers:{epBoost:a(20)},level:a(1),xp:a(0),maxXp:a(200)},boss_hivemind_synapse:{id:"boss_hivemind_synapse",name:"Hivemind Synapse",description:"A pulsating neural node from the Cosmic Hivemind, connecting your colony across vast distances.",type:"equipment",rarity:"divine",stats:{damage:a("1e50"),defense:a("5e49"),health:a("2e50"),regen:a("1e48")},productionModifiers:{global:a(50),hivemind:a(100)},specialModifiers:{epBoost:a(30)},level:a(1),xp:a(0),maxXp:a(200)},boss_star_eater_mandible:{id:"boss_star_eater_mandible",name:"Star-Eater Mandible",description:"A mandible from the Galactic Devourer Ant, capable of crushing neutron stars. Boosts production astronomically.",type:"equipment",rarity:"divine",stats:{damage:a("1e100"),defense:a("5e99"),health:a("2e100"),regen:a("1e98")},productionModifiers:{global:a(100),antopolis:a(150)},specialModifiers:{epBoost:a(50)},level:a(1),xp:a(0),maxXp:a(200)},boss_quantum_core:{id:"boss_quantum_core",name:"Quantum Core",description:"The stabilized core of the Quantum Entanglement Entity, resonating with infinite possibilities.",type:"equipment",rarity:"divine",stats:{damage:a("1e200"),defense:a("5e199"),health:a("2e200"),regen:a("1e198")},productionModifiers:{global:a(200),alateHatchery:a(250)},specialModifiers:{epBoost:a(100)},level:a(1),xp:a(0),maxXp:a(200)},boss_primordial_chitin_plate:{id:"boss_primordial_chitin_plate",name:"Primordial Chitin Plate",description:"A plate of chitin from the Primordial Insectoid, predating the laws of physics. Unimaginably durable and powerful.",type:"equipment",rarity:"divine",stats:{damage:a("1e400"),defense:a("5e399"),health:a("2e400"),regen:a("1e398")},productionModifiers:{global:a(500)},specialModifiers:{epBoost:a(200)},level:a(1),xp:a(0),maxXp:a(200)},boss_reality_thread:{id:"boss_reality_thread",name:"Reality Thread",description:"A single thread from the Reality Weaver Spider's web, shimmering with the light of infinite universes.",type:"equipment",rarity:"divine",stats:{damage:a("1e1000"),defense:a("5e999"),health:a("2e1000"),regen:a("1e998")},productionModifiers:{global:a(1e3)},specialModifiers:{epBoost:a(500)},level:a(1),xp:a(0),maxXp:a(200)},boss_omega_particle:{id:"boss_omega_particle",name:"Omega Particle",description:"A particle containing the essence of the Omega Ant. The ultimate source of power.",type:"equipment",rarity:"divine",stats:{damage:a("1e2000"),defense:a("5e1999"),health:a("2e2000"),regen:a("1e1998")},productionModifiers:{global:a(5e3)},specialModifiers:{epBoost:a(1e3)},level:a(1),xp:a(0),maxXp:a(200)}},su=.2,hf=.1,ou=.1,bf=.05,v2=1.1,Tt=Ft("item",()=>{const t=W(Mv),e=B=>t.value[B],s=(B,k=be.fromNumber(1),I=be.fromNumber(0))=>{const N=e(B);if(!N)return;const U=o(k,N.rarity);return{...N,level:k,xp:I,maxXp:U}},o=(B,k)=>{const U={common:.8,uncommon:.9,rare:1,epic:1.1,legendary:1.2,mythic:1.3,divine:1.5}[k]||1;if(B.equals(1))return be.fromNumber(0);const j=B.toNumber();let ee=Math.floor(1/4*Math.floor(j+300*Math.pow(2,j/7)));return ee=Math.floor(ee*.85*U),be.fromNumber(ee)},n=B=>{if(B.toNumber()<=10)return be.fromNumber(1).add(B.minus(1).mul(su));{const I=be.fromNumber(9).mul(su),N=B.minus(10).mul(hf);return be.fromNumber(1).add(I).add(N)}},i=B=>{if(B.toNumber()<=10)return be.fromNumber(1).add(B.minus(1).mul(ou));{const I=be.fromNumber(9).mul(ou),N=B.minus(10).mul(bf);return be.fromNumber(1).add(I).add(N)}},l={common:"text-gray-600 dark:text-gray-400",uncommon:"text-green-600 dark:text-green-300",rare:"text-blue-600 dark:text-blue-300",epic:"text-purple-600 dark:text-purple-300",legendary:"text-amber-600 dark:text-amber-300",mythic:"text-pink-600 dark:text-pink-300",divine:"text-yellow-600 dark:text-yellow-300"},c={common:"bg-gray-200 dark:bg-gray-700",uncommon:"bg-green-200 dark:bg-green-800",rare:"bg-blue-200 dark:bg-blue-800",epic:"bg-purple-300 dark:bg-purple-800",legendary:"bg-amber-300 dark:bg-amber-700",mythic:"bg-pink-300 dark:bg-pink-800",divine:"bg-yellow-300 dark:bg-yellow-700"},d=B=>l[B]||l.common,u=B=>c[B]||c.common,m=B=>`${B.name} (Lvl ${B.level.toString()})`,p=B=>{const k=e(B.id);if(!k||!k.stats)return null;const I=n(B.level),N={};return Object.entries(k.stats).forEach(([U,j])=>{j&&(N[U]=j.mul(I))}),N},y=B=>{const k=e(B.id);if(!k||!k.productionModifiers)return null;const I=i(B.level),N={};return Object.entries(k.productionModifiers).forEach(([U,j])=>{const ne=j.minus(1).mul(I);N[U]=be.fromNumber(1).plus(ne)}),N},v=B=>{const k=e(B.id);if(!k||!k.specialModifiers)return null;const I=i(B.level),N={};return Object.entries(k.specialModifiers).forEach(([U,j])=>{if(j){const ne=j.minus(1).mul(I);N[U]=be.fromNumber(1).plus(ne)}}),N},S=B=>{const k=e(B.id);return(k==null?void 0:k.productionModifiers)||null},_=B=>{const k=e(B.id);return(k==null?void 0:k.specialModifiers)||null},C=B=>{const k=e(B.id);return(k==null?void 0:k.stats)||null},x=B=>B.minus(1).mul(100).toFixed(1)+"%",$=(B,k,I=!1)=>{const N=B.div(k).mul(100).toFixed(1);return I?`${N}% (${B.floor().toString()} / ${k.floor().toString()})`:`${N}%`},A=B=>B.maxXp.equals(0)?100:B.xp.div(B.maxXp).mul(100).toNumber(),M=(B,k)=>{if(B.equals(1))return be.fromNumber(0);let I=be.fromNumber(0);for(let N=2;N<=B.toNumber();N++)I=I.add(o(be.fromNumber(N-1),k));return I},P=(B,k)=>{if(B.equals(1))return be.fromNumber(0);const I=.85,U={common:.8,uncommon:.9,rare:1,epic:1.1,legendary:1.2,mythic:1.3,divine:1.5}[k]||1,j=B.toNumber(),ee=Math.pow(2,1/7),ne=ee/(ee-1),oe=1/8*(Math.pow(j,2)-j+600*Math.pow(2,j/7)-ne);return be.fromNumber(Math.floor(oe*I*U))};return{items:t,getItem:e,createItem:s,calculateMaxXp:o,calculateTotalXpForLevel:M,calculateApproximateTotalXp:P,getLevelFromXp:(B,k,I=100)=>{if(B.equals(0))return 1;let N=1,U=I;for(;N<=U;){const j=Math.floor((N+U)/2),ee=P(be.fromNumber(j),k),ne=P(be.fromNumber(j+1),k);if(B.gte(ee)&&B.lt(ne))return j;B.lt(ee)?U=j-1:N=j+1}return Math.min(N,I)},getLevelModifier:n,getLevelProductionModifier:i,getRarityColor:d,getRarityBackground:u,getFormattedItemName:m,getItemStats:p,getItemProductionModifiers:y,getItemSpecialModifiers:v,getBaseStats:C,getBaseProductionModifiers:S,getBaseSpecialModifiers:_,formatModifierValue:x,formatXpProgress:$,getLevelProgress:A,LEVEL_STAT_MULTIPLIER_EARLY:su,LEVEL_STAT_MULTIPLIER:hf,LEVEL_MODIFIER_MULTIPLIER_EARLY:ou,LEVEL_MODIFIER_MULTIPLIER:bf,XP_SCALING_FACTOR:v2}}),y2=[{id:"safe",name:"Training Bug",description:"A weak bug used for training. Perfect for beginners.",health:a(100),maxHealth:a(100),damage:a(0),defense:a(0),drops:[{itemId:"training_sword",chance:.15,minQuantity:1,maxQuantity:1},{itemId:"training_armor",chance:.15,minQuantity:1,maxQuantity:1},{itemId:"wooden_shield",chance:.1,minQuantity:1,maxQuantity:1},{itemId:"leaf_cloak",chance:.1,minQuantity:1,maxQuantity:1},{itemId:"pebble_hammer",chance:1e-5,minQuantity:1,maxQuantity:1}],collectibleDrops:[{collectibleId:"tiny_leaf",chance:.2},{collectibleId:"pebble",chance:.15},{collectibleId:"dried_fungus",chance:.1}]},{id:"worker",name:"Worker Ant",description:"A common worker ant. Slightly tougher than training bugs.",health:a(500),maxHealth:a(500),damage:a(25),defense:a(10),drops:[{itemId:"worker_sword",chance:.08,minQuantity:1,maxQuantity:1},{itemId:"worker_armor",chance:.08,minQuantity:1,maxQuantity:1},{itemId:"foraging_tools",chance:.1,minQuantity:1,maxQuantity:1},{itemId:"pebble_hammer",chance:.05,minQuantity:1,maxQuantity:1},{itemId:"reinforced_mandibles",chance:.03,minQuantity:1,maxQuantity:2}],collectibleDrops:[{collectibleId:"ant_mandible",chance:.12},{collectibleId:"tiny_leaf",chance:.1},{collectibleId:"dried_fungus",chance:.08},{collectibleId:"pebble",chance:.05}]},{id:"soldier",name:"Soldier Ant",description:"A powerful soldier ant. Much tougher than worker ants.",health:a(2500),maxHealth:a(2500),damage:a(100),defense:a(50),drops:[{itemId:"reinforced_mandibles",chance:.06,minQuantity:1,maxQuantity:2},{itemId:"resin_helmet",chance:.06,minQuantity:1,maxQuantity:2},{itemId:"thorn_spear",chance:.04,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.04,minQuantity:1,maxQuantity:1}],collectibleDrops:[{collectibleId:"ant_mandible",chance:.15},{collectibleId:"dried_fungus",chance:.1},{collectibleId:"dewdrop",chance:.05},{collectibleId:"spider_silk",chance:.03}]},{id:"ladybug",name:"Ladybug",health:a(1e4),maxHealth:a(1e4),damage:a(500),defense:a(200),description:"Looks cute but can be surprisingly tough!",drops:[{itemId:"mandible_crusher",chance:.01,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.03,minQuantity:1,maxQuantity:1},{itemId:"venom_dagger",chance:.015,minQuantity:1,maxQuantity:1}],collectibleDrops:[{collectibleId:"ladybug_wing",chance:.05},{collectibleId:"dewdrop",chance:.08},{collectibleId:"small_crystal",chance:.04}]},{id:"housefly",name:"Housefly",health:a(1e5),maxHealth:a(1e5),damage:a(2500),defense:a(1e3),description:"Annoying and surprisingly durable.",drops:[{itemId:"exoskeleton_plate",chance:.008,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.02,minQuantity:1,maxQuantity:2}],collectibleDrops:[{collectibleId:"dewdrop",chance:.1},{collectibleId:"spider_silk",chance:.06}]},{id:"mosquito",name:"Mosquito",health:a(1e6),maxHealth:a(1e6),damage:a(1e4),defense:a(5e3),description:"Small but extremely irritating.",drops:[{itemId:"venom_dagger",chance:.006,minQuantity:1,maxQuantity:1},{itemId:"hive_amplifier",chance:.025,minQuantity:1,maxQuantity:2}],collectibleDrops:[{collectibleId:"small_crystal",chance:.08},{collectibleId:"spider_silk",chance:.05}]},{id:"beetle",name:"Beetle",health:a(1e8),maxHealth:a(1e8),damage:a(1e5),defense:a(2e4),description:"Hard shell, strong bite.",drops:[{itemId:"exoskeleton_plate",chance:.015,minQuantity:1,maxQuantity:2},{itemId:"beetle_shell_shield",chance:.04,minQuantity:1,maxQuantity:2}],collectibleDrops:[{collectibleId:"beetle_shell",chance:.03},{collectibleId:"geode_shard",chance:.02},{collectibleId:"ladybug_wing",chance:.04},{collectibleId:"amber_fragment",chance:.03}]},{id:"grasshopper",name:"Grasshopper",health:a(1e10),maxHealth:a(1e10),damage:a(1e7),defense:a(1e5),description:"Jumps around and avoids attacks!",drops:[{itemId:"mandible_crusher",chance:.012,minQuantity:1,maxQuantity:1},{itemId:"thorn_spear",chance:.03,minQuantity:1,maxQuantity:2}],collectibleDrops:[{collectibleId:"ladybug_wing",chance:.06},{collectibleId:"geode_shard",chance:.04}]},{id:"cockroach",name:"Cockroach",health:a(1e13),maxHealth:a(1e13),damage:a(1e10),defense:a(1e6),description:"Survivor of everything. Just won't die.",drops:[{itemId:"venom_dagger",chance:.012,minQuantity:1,maxQuantity:1},{itemId:"chronos_shell",chance:2e-4,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.02,minQuantity:1,maxQuantity:2}],collectibleDrops:[{collectibleId:"small_crystal",chance:.06},{collectibleId:"amber_fragment",chance:.05},{collectibleId:"geode_shard",chance:.03}]},{id:"fire_ant",name:"Fire Ant",health:a(1e16),maxHealth:a(1e16),damage:a(1e13),defense:a(1e8),description:"Burns everything in its path.",drops:[{itemId:"void_reaver",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"entropy_fangs",chance:4e-4,minQuantity:1,maxQuantity:1},{itemId:"venom_dagger",chance:.03,minQuantity:1,maxQuantity:2}],collectibleDrops:[{collectibleId:"beetle_shell",chance:.04},{collectibleId:"glowing_mushroom",chance:.02}]},{id:"termite",name:"Termite",health:a(1e20),maxHealth:a(1e20),damage:a(1e16),defense:a(1e10),description:"Destroys everything it touches.",drops:[{itemId:"mandible_crusher",chance:.02,minQuantity:1,maxQuantity:1},{itemId:"reinforced_mandibles",chance:.05,minQuantity:1,maxQuantity:2}],collectibleDrops:[{collectibleId:"beetle_shell",chance:.05},{collectibleId:"glowing_mushroom",chance:.03}]},{id:"wasp",name:"Wasp",health:a(1e25),maxHealth:a(1e25),damage:a(1e20),defense:a(1e12),description:"Faster and angrier than a hornet!",drops:[{itemId:"void_reaver",chance:.004,minQuantity:1,maxQuantity:1},{itemId:"entropy_fangs",chance:6e-4,minQuantity:1,maxQuantity:1},{itemId:"venom_dagger",chance:.04,minQuantity:1,maxQuantity:2}],collectibleDrops:[{collectibleId:"glowing_mushroom",chance:.04},{collectibleId:"ancient_pheromone",chance:.01}]},{id:"scorpion",name:"Scorpion",health:a(1e30),maxHealth:a(1e30),damage:a(1e25),defense:a(1e15),description:"Big pincers, bigger stinger.",drops:[{itemId:"venom_dagger",chance:.03,minQuantity:1,maxQuantity:1},{itemId:"void_reaver",chance:8e-4,minQuantity:1,maxQuantity:1},{itemId:"entropy_fangs",chance:.05,minQuantity:1,maxQuantity:2}],collectibleDrops:[{collectibleId:"ancient_pheromone",chance:.015},{collectibleId:"mantis_claw",chance:.01}]},{id:"giant_moth",name:"Giant Moth",health:a(1e40),maxHealth:a(1e40),damage:a(1e30),defense:a(1e20),description:"Loves lights. Too bad it's also huge.",drops:[{itemId:"infinity_shard",chance:.001,minQuantity:1,maxQuantity:1},{itemId:"chronos_shell",chance:4e-4,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.04,minQuantity:1,maxQuantity:2},{itemId:"eternity_weave",chance:6e-4,minQuantity:1,maxQuantity:1}],collectibleDrops:[{collectibleId:"small_crystal",chance:.06},{collectibleId:"amber_fragment",chance:.04},{collectibleId:"ancient_pheromone",chance:.02}]},{id:"tarantula",name:"Tarantula",health:a(1e50),maxHealth:a(1e50),damage:a(1e40),defense:a(1e25),description:"Fluffy but terrifying.",drops:[{itemId:"exoskeleton_plate",chance:.025,minQuantity:1,maxQuantity:1},{itemId:"entropy_fangs",chance:.001,minQuantity:1,maxQuantity:1},{itemId:"venom_dagger",chance:.06,minQuantity:1,maxQuantity:2}],collectibleDrops:[{collectibleId:"spider_silk",chance:.08},{collectibleId:"mantis_claw",chance:.015}]},{id:"giant_stag_beetle",name:"Giant Stag Beetle",health:a(1e65),maxHealth:a(1e65),damage:a(1e50),defense:a(1e30),description:"Massive pincers that can crush anything.",drops:[{itemId:"mandible_crusher",chance:.04,minQuantity:1,maxQuantity:1},{itemId:"entropy_fangs",chance:.0015,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.07,minQuantity:1,maxQuantity:2}],collectibleDrops:[{collectibleId:"beetle_shell",chance:.06},{collectibleId:"mantis_claw",chance:.02}]},{id:"army_ant",name:"Army Ant",health:a(1e80),maxHealth:a(1e80),damage:a(1e65),defense:a(1e40),description:"A relentless horde of ants.",drops:[{itemId:"void_reaver",chance:.006,minQuantity:1,maxQuantity:1},{itemId:"infinity_shard",chance:1e-4,minQuantity:1,maxQuantity:1},{itemId:"reinforced_mandibles",chance:.08,minQuantity:1,maxQuantity:4}],collectibleDrops:[{collectibleId:"glowing_mushroom",chance:.005},{collectibleId:"ancient_pheromone",chance:.025},{collectibleId:"quantum_crystal",chance:.001}]},{id:"stag_beetle_swarm",name:"Stag Beetle Swarm",health:a(1e100),maxHealth:a(1e100),damage:a(1e80),defense:a(1e50),description:"Too many beetles to count.",drops:[{itemId:"quantum_mandibles",chance:.0015,minQuantity:1,maxQuantity:1},{itemId:"divine_eternity_weave",chance:15e-5,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.1,minQuantity:1,maxQuantity:6}],collectibleDrops:[{collectibleId:"quantum_crystal",chance:.003},{collectibleId:"meteorite_fragment",chance:.002}]},{id:"mutant_fly",name:"Mutant Fly",health:a(1e125),maxHealth:a(1e125),damage:a(1e100),defense:a(1e65),description:"Somehow even more annoying than a normal fly.",drops:[{itemId:"divine_infinity_shard",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"void_reaver",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.06,minQuantity:1,maxQuantity:3}],collectibleDrops:[{collectibleId:"meteorite_fragment",chance:.004}]},{id:"giant_firefly",name:"Giant Firefly",health:a(1e150),maxHealth:a(1e150),damage:a(1e120),defense:a(1e80),description:"Brighter than the sun, dangerous too.",drops:[{itemId:"divine_infinity_shard",chance:.003,minQuantity:1,maxQuantity:1},{itemId:"chronos_shell",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.07,minQuantity:1,maxQuantity:3}],collectibleDrops:[{collectibleId:"quantum_crystal",chance:.005}]},{id:"ultra_beetle",name:"Ultra Beetle",health:a(1e200),maxHealth:a(1e200),damage:a(1e160),defense:a(1e100),description:"Bigger. Stronger. Shinier.",drops:[{itemId:"quantum_mandibles",chance:.0025,minQuantity:1,maxQuantity:1},{itemId:"entropy_fangs",chance:.003,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.12,minQuantity:2,maxQuantity:5},{itemId:"genesis_claw",chance:.0015,minQuantity:1,maxQuantity:1},{itemId:"universal_amplifier",chance:.001,minQuantity:1,maxQuantity:1}],collectibleDrops:[{collectibleId:"meteorite_fragment",chance:.006},{collectibleId:"cosmic_essence",chance:.001},{collectibleId:"world_tree_seedling",chance:5e-4}]},{id:"queen_wasp",name:"Queen Wasp",health:a("1e300"),maxHealth:a("1e300"),damage:a("1e250"),defense:a("1e150"),description:"Controls an entire hive of wasps.",drops:[{itemId:"divine_genesis_claw",chance:.01,minQuantity:1,maxQuantity:1},{itemId:"infinity_shard",chance:4e-4,minQuantity:1,maxQuantity:1},{itemId:"venom_dagger",chance:.1,minQuantity:1,maxQuantity:4}],collectibleDrops:[{collectibleId:"mantis_claw",chance:.004},{collectibleId:"cosmic_essence",chance:.0015}]},{id:"colossal_cockroach",name:"Colossal Cockroach",health:a("1e500"),maxHealth:a("1e500"),damage:a("1e400"),defense:a("1e200"),description:"Even harder to kill than before.",drops:[{itemId:"exoskeleton_plate",chance:.005,minQuantity:1,maxQuantity:1},{itemId:"divine_eternity_weave",chance:6e-4,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.08,minQuantity:1,maxQuantity:4},{itemId:"transcendence_core",chance:4e-4,minQuantity:1,maxQuantity:1},{itemId:"mythic_catalyst",chance:2e-4,minQuantity:1,maxQuantity:1}],collectibleDrops:[{collectibleId:"quantum_crystal",chance:.008},{collectibleId:"world_tree_seedling",chance:.001}]},{id:"apocalyptic_termites",name:"Apocalyptic Termites",health:a("1e750"),maxHealth:a("1e750"),damage:a("1e600"),defense:a("1e300"),description:"Capable of reducing everything to dust.",drops:[{itemId:"quantum_mandibles",chance:.004,minQuantity:1,maxQuantity:1},{itemId:"divine_genesis_claw",chance:2e-4,minQuantity:1,maxQuantity:1},{itemId:"reinforced_mandibles",chance:.12,minQuantity:2,maxQuantity:7}],collectibleDrops:[{collectibleId:"meteorite_fragment",chance:.007},{collectibleId:"cosmic_essence",chance:.002}]},{id:"radioactive_spider",name:"Radioactive Spider",health:a("1e1000"),maxHealth:a("1e1000"),damage:a("1e800"),defense:a("1e400"),description:"Not the kind that gives you superpowers.",drops:[{itemId:"venom_dagger",chance:.006,minQuantity:1,maxQuantity:1},{itemId:"divine_infinity_shard",chance:8e-4,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.1,minQuantity:2,maxQuantity:5}],collectibleDrops:[{collectibleId:"spider_silk",chance:.03},{collectibleId:"quantum_crystal",chance:.009},{collectibleId:"world_tree_seedling",chance:.0015}]},{id:"endless_ant_swarms",name:"Endless Ant Swarm",health:a("1e2000"),maxHealth:a("1e2000"),damage:a("1e1500"),defense:a("1e750"),description:"A never-ending army of ants.",drops:[{itemId:"divine_genesis_claw",chance:.008,minQuantity:1,maxQuantity:1},{itemId:"divine_eternity_weave",chance:.001,minQuantity:1,maxQuantity:1},{itemId:"reinforced_mandibles",chance:.14,minQuantity:3,maxQuantity:10}],collectibleDrops:[{collectibleId:"ancient_pheromone",chance:.03},{collectibleId:"cosmic_essence",chance:.0025}]},{id:"galactic_moth",name:"Galactic Moth",health:a("1e5000"),maxHealth:a("1e5000"),damage:a("1e4000"),defense:a("1e2000"),description:"It seeks the biggest, brightest lights in the universe.",drops:[{itemId:"divine_infinity_shard",chance:.006,minQuantity:1,maxQuantity:1},{itemId:"divine_genesis_claw",chance:4e-4,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.12,minQuantity:2,maxQuantity:6}],collectibleDrops:[{collectibleId:"meteorite_fragment",chance:.003},{collectibleId:"world_tree_seedling",chance:.002}]},{id:"quantum_beetle",name:"Quantum Beetle",health:a("1e10000"),maxHealth:a("1e10000"),damage:a("1e8000"),defense:a("1e4000"),description:"Exists in multiple places at once.",drops:[{itemId:"quantum_mandibles",chance:.01,minQuantity:1,maxQuantity:1},{itemId:"divine_genesis_claw",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"divine_infinity_shard",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"divine_eternity_weave",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"divine_transcendence_core",chance:.0015,minQuantity:1,maxQuantity:1},{itemId:"divine_universal_amplifier",chance:.0015,minQuantity:1,maxQuantity:1},{itemId:"mythic_ascension_matrix",chance:.001,minQuantity:1,maxQuantity:1},{itemId:"ascension_matrix",chance:.003,minQuantity:1,maxQuantity:1},{itemId:"omnipotent_catalyst",chance:.0025,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.2,minQuantity:5,maxQuantity:12},{itemId:"evolution_crystal",chance:.2,minQuantity:3,maxQuantity:10}],collectibleDrops:[{collectibleId:"quantum_crystal",chance:.007},{collectibleId:"cosmic_essence",chance:.002},{collectibleId:"ancient_pheromone",chance:.01},{collectibleId:"meteorite_fragment",chance:.005},{collectibleId:"world_tree_seedling",chance:.001}]},{id:"ant_queen_guardian",name:"Ant Queen Guardian",health:a("1e15000"),maxHealth:a("1e15000"),damage:a("1e12000"),defense:a("1e6000"),description:"The ultimate protector of ant queens.",drops:[{itemId:"divine_ant_queen_crown",chance:.005,minQuantity:1,maxQuantity:1},{itemId:"mythic_swarm_controller",chance:.01,minQuantity:1,maxQuantity:1},{itemId:"divine_infinity_shard",chance:.003,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.15,minQuantity:3,maxQuantity:6}],collectibleDrops:[{collectibleId:"ancient_pheromone",chance:.015},{collectibleId:"quantum_crystal",chance:.01}]},{id:"swarm_lord",name:"Swarm Lord",health:a("1e20000"),maxHealth:a("1e20000"),damage:a("1e16000"),defense:a("1e8000"),description:"Commands vast swarms of insects with deadly precision.",drops:[{itemId:"mythic_swarm_controller",chance:.008,minQuantity:1,maxQuantity:1},{itemId:"epic_ant_commander_armor",chance:.015,minQuantity:1,maxQuantity:1},{itemId:"divine_eternity_weave",chance:.004,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.18,minQuantity:4,maxQuantity:10}],collectibleDrops:[{collectibleId:"mantis_claw",chance:.01},{collectibleId:"meteorite_fragment",chance:.008}]},{id:"ant_legion_commander",name:"Ant Legion Commander",health:a("1e25000"),maxHealth:a("1e25000"),damage:a("1e20000"),defense:a("1e10000"),description:"Leads massive ant legions into battle.",drops:[{itemId:"epic_ant_commander_armor",chance:.01,minQuantity:1,maxQuantity:1},{itemId:"rare_ant_tactician_helm",chance:.02,minQuantity:1,maxQuantity:1},{itemId:"divine_genesis_claw",chance:.005,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.2,minQuantity:5,maxQuantity:12}],collectibleDrops:[{collectibleId:"cosmic_essence",chance:.003}]},{id:"ant_tactician",name:"Ant Tactician",health:a("1e30000"),maxHealth:a("1e30000"),damage:a("1e24000"),defense:a("1e12000"),description:"Masters the art of ant warfare and strategy.",drops:[{itemId:"rare_ant_tactician_helm",chance:.015,minQuantity:1,maxQuantity:1},{itemId:"uncommon_ant_scout_gear",chance:.03,minQuantity:1,maxQuantity:1},{itemId:"divine_transcendence_core",chance:.006,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.22,minQuantity:6,maxQuantity:14}],collectibleDrops:[{collectibleId:"world_tree_seedling",chance:.0025}]},{id:"ant_scout_master",name:"Ant Scout Master",health:a("1e35000"),maxHealth:a("1e35000"),damage:a("1e28000"),defense:a("1e14000"),description:"The ultimate scout, gathering intelligence with unmatched speed.",drops:[{itemId:"uncommon_ant_scout_gear",chance:.02,minQuantity:1,maxQuantity:1},{itemId:"common_ant_training_kit",chance:.04,minQuantity:1,maxQuantity:1},{itemId:"divine_universal_amplifier",chance:.007,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.25,minQuantity:7,maxQuantity:16}],collectibleDrops:[{collectibleId:"quantum_crystal",chance:.012}]},{id:"ant_training_master",name:"Ant Training Master",health:a("1e40000"),maxHealth:a("1e40000"),damage:a("1e32000"),defense:a("1e16000"),description:"Transforms young ants into elite warriors.",drops:[{itemId:"common_ant_training_kit",chance:.025,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.28,minQuantity:8,maxQuantity:18},{itemId:"mythic_ascension_matrix",chance:.008,minQuantity:1,maxQuantity:1},{itemId:"divine_ant_queen_crown",chance:.003,minQuantity:1,maxQuantity:1}],collectibleDrops:[{collectibleId:"meteorite_fragment",chance:.01}]}],O0=Ft("filter",()=>{const t=W(new Set);return{filteredItems:t,toggleItemFilter:l=>{t.value.has(l)?t.value.delete(l):t.value.add(l)},isItemFiltered:l=>t.value.has(l),getAllAvailableItems:()=>Object.values(Mv),getState:()=>({filteredItems:Array.from(t.value)}),loadState:l=>{l.filteredItems&&(t.value=new Set(l.filteredItems))}}}),x2=!1;console.log("[Idle Ant Farm] Debug logging disabled (env: undefined, version: undefined)");const Be=(t,...e)=>{},Pv=(t,...e)=>{console.warn(`[Idle Ant Farm][WARN] ${t}`,...e)},Is=(t,...e)=>{console.error(`[Idle Ant Farm][ERROR] ${t}`,...e)},vr=()=>x2,_t=[{id:"boss_training_dummy",name:"Training Dummy",maxHealth:a(2e5),damage:a(1e3),defense:a(200),description:"A simple training dummy used to test your skills. Not much of a boss, but it's a start!",reward:{essence:a("1"),guaranteedItemId:"boss_chitinous_blade",itemChance:1},unlockDescription:"Available from the start.",unlockRequirements:[{type:"specificBugKills",value:50,target:"worker"}]},{id:"boss_slime_king",name:"Slime King",maxHealth:a(2e6),damage:a(5e3),defense:a(1e3),description:"A giant, gelatinous monarch. It absorbs damage but strikes with surprising force.",reward:{essence:a("2"),guaranteedItemId:"boss_mandible_gauntlets",itemChance:.15},unlockDescription:"Defeat the Training Dummy boss and kill 50 Worker Ants.",unlockRequirements:[{type:"bossDeath",target:"boss_training_dummy"},{type:"specificBugKills",value:50,target:"worker"}]},{id:"boss_giant_spider",name:"Giant Spider",maxHealth:a(1e8),damage:a(5e5),defense:a(5e4),description:"A colossal arachnid with lightning-fast attacks and venomous fangs.",reward:{essence:a("5"),guaranteedItemId:"boss_hivemind_helm",itemChance:.1},unlockDescription:"Defeat the Slime King boss and kill 100 Beetles.",unlockRequirements:[{type:"bossDeath",target:"boss_slime_king"},{type:"specificBugKills",value:100,target:"beetle"}]},{id:"boss_ant_golem",name:"Ant Golem",maxHealth:a(5e8),damage:a(2e6),defense:a(1e5),description:"A massive construct made from thousands of fused ant parts. Nearly impenetrable defense.",reward:{essence:a("10"),guaranteedItemId:"boss_royal_carapace",itemChance:.08},unlockDescription:"Defeat the Giant Spider boss and kill 250 Soldier Ants.",unlockRequirements:[{type:"bossDeath",target:"boss_giant_spider"},{type:"specificBugKills",value:250,target:"soldier"}]},{id:"boss_mantis_lord",name:"Mantis Lord",maxHealth:a(5e10),damage:a(5e7),defense:a(2e6),description:"A swift and deadly mantis warrior, trained in the ancient martial arts.",reward:{essence:a("20"),guaranteedItemId:"boss_pheromone_catalyst",itemChance:.06},unlockDescription:"Defeat the Ant Golem boss, kill 500 Grasshoppers, and have at least 1e7 food/sec production.",unlockRequirements:[{type:"bossDeath",target:"boss_ant_golem"},{type:"specificBugKills",value:500,target:"grasshopper"},{type:"foodPerSecond",value:"1e7"}]},{id:"boss_queen_bee",name:"Queen Bee",maxHealth:a(5e13),damage:a(5e10),defense:a(5e7),description:"The matriarch of the hive, surrounded by loyal subjects and dripping with royal jelly.",reward:{essence:a("40"),guaranteedItemId:"boss_quantum_stinger",itemChance:.05},unlockDescription:"Defeat the Mantis Lord boss and kill 1,000 Cockroaches.",unlockRequirements:[{type:"bossDeath",target:"boss_mantis_lord"},{type:"specificBugKills",value:1e3,target:"cockroach"}],specialAbilities:[{name:"Swarm Attack",type:"periodicDamage",value:a(2e5),cooldown:5}]},{id:"boss_devourer_moth",name:"Devourer Moth",maxHealth:a(5e16),damage:a(5e13),defense:a(5e9),description:"A colossal moth that feeds on light and hope. Its wings create devastating gusts.",reward:{essence:a("80"),guaranteedItemId:"boss_cosmic_nucleus",itemChance:.04},unlockDescription:"Defeat the Queen Bee boss, kill 2,000 Fire Ants, and have at least 1e9 food/sec production.",unlockRequirements:[{type:"bossDeath",target:"boss_queen_bee"},{type:"specificBugKills",value:2e3,target:"fire_ant"},{type:"foodPerSecond",value:"1e9"}],specialAbilities:[{name:"Dust Storm",type:"playerDebuff",value:a(.5),cooldown:10}]},{id:"boss_scorpion_emperor",name:"Scorpion Emperor",maxHealth:a(5e20),damage:a(5e16),defense:a(5e11),description:"An ancient scorpion of immense size, its stinger dripping with deadly neurotoxin.",reward:{essence:a("150"),guaranteedItemId:"emperor_toxin",itemChance:.03},unlockDescription:"Defeat the Devourer Moth boss and kill 3,000 Termites.",unlockRequirements:[{type:"bossDeath",target:"boss_devourer_moth"},{type:"specificBugKills",value:3e3,target:"termite"}],specialAbilities:[{name:"Hardened Carapace",type:"defenseBuff",value:a(2),cooldown:15},{name:"Neurotoxin Sting",type:"periodicDamage",value:a(1e7),cooldown:8}]},{id:"boss_chrono_beetle",name:"Chrono-Beetle",maxHealth:a("5e25"),damage:a("5e20"),defense:a("5e13"),description:"A beetle warped by time, its movements unpredictable and its shell hardened by temporal energies.",reward:{essence:a("300"),guaranteedItemId:"boss_temporal_chitin",itemChance:.025},unlockDescription:"Defeat the Scorpion Emperor boss, kill 4,000 Wasps, and have at least 1e12 food/sec production.",unlockRequirements:[{type:"bossDeath",target:"boss_scorpion_emperor"},{type:"specificBugKills",value:4e3,target:"wasp"},{type:"foodPerSecond",value:"1e12"}],specialAbilities:[{name:"Time Skip",type:"playerDebuff",value:a(0),cooldown:12}]},{id:"boss_void_larva",name:"Void Larva",maxHealth:a("5e50"),damage:a("5e40"),defense:a("5e25"),description:"A nascent creature from the void, consuming reality itself. Its mere presence drains energy.",reward:{essence:a("600"),guaranteedItemId:"boss_void_essence_core",itemChance:.02},unlockDescription:"Defeat the Chrono-Beetle boss, kill 5,000 Tarantulas, and have at least 1e20 food/sec production.",unlockRequirements:[{type:"bossDeath",target:"boss_chrono_beetle"},{type:"specificBugKills",value:5e3,target:"tarantula"},{type:"foodPerSecond",value:"1e20"}],specialAbilities:[{name:"Reality Drain",type:"periodicDamage",value:a("1e15"),cooldown:7}]},{id:"boss_nebula_wasp_queen",name:"Nebula Wasp Queen",maxHealth:a("5e120"),damage:a("5e90"),defense:a("5e60"),description:"A queen born in a stellar nursery, commanding cosmic forces and legions of stardust wasps.",reward:{essence:a("1e3"),guaranteedItemId:"boss_nebula_stinger",itemChance:.015},unlockDescription:"Defeat the Void Larva boss, kill 6,000 Stag Beetle Swarms, and have at least 1e30 food/sec production.",unlockRequirements:[{type:"bossDeath",target:"boss_void_larva"},{type:"specificBugKills",value:6e3,target:"stag_beetle_swarm"},{type:"foodPerSecond",value:"1e30"}],specialAbilities:[{name:"Cosmic Swarm",type:"periodicDamage",value:a("5e24"),cooldown:6},{name:"Stardust Shield",type:"defenseBuff",value:a(1.5),cooldown:20}]},{id:"boss_dimensional_horror",name:"Dimensional Horror",maxHealth:a("5e300"),damage:a("5e240"),defense:a("5e150"),description:"An extradimensional entity whose form defies comprehension. Looking at it causes madness.",reward:{essence:a("2e3"),guaranteedItemId:"boss_reality_fragment",itemChance:.01},unlockDescription:"Defeat the Nebula Wasp Queen boss, kill 7,000 Queen Wasps, and have at least 1e50 food/sec production.",unlockRequirements:[{type:"bossDeath",target:"boss_nebula_wasp_queen"},{type:"specificBugKills",value:7e3,target:"queen_wasp"},{type:"foodPerSecond",value:"1e50"}],specialAbilities:[{name:"Maddening Gaze",type:"playerDebuff",value:a(.75),cooldown:10}]},{id:"boss_ascended_ant_god",name:"Ascended Ant God",maxHealth:a("5e750"),damage:a("5e600"),defense:a("5e370"),description:"An ant that has achieved true godhood, wielding unimaginable power over the colony and creation.",reward:{essence:a("5e3"),guaranteedItemId:"boss_divine_mandible",itemChance:.008},unlockDescription:"Defeat the Dimensional Horror boss, kill 8,000 Apocalyptic Termites, and have at least 1e80 food/sec production.",unlockRequirements:[{type:"bossDeath",target:"boss_dimensional_horror"},{type:"specificBugKills",value:8e3,target:"apocalyptic_termites"},{type:"foodPerSecond",value:"1e80"}],specialAbilities:[{name:"Divine Judgement",type:"periodicDamage",value:a("1e69"),cooldown:15},{name:"Godly Resilience",type:"defenseBuff",value:a(3),cooldown:25}]},{id:"boss_cosmic_hivemind",name:"Cosmic Hivemind",maxHealth:a("1e2100"),damage:a("1e1600"),defense:a("1e1000"),description:"A collective consciousness spanning galaxies, connected by threads of pure thought energy.",reward:{essence:a("1e4"),guaranteedItemId:"boss_hivemind_synapse",itemChance:.006},unlockDescription:"Defeat the Ascended Ant God, kill 9,000 Endless Ant Swarms, and achieve 1e200 food/sec.",unlockRequirements:[{type:"bossDeath",target:"boss_ascended_ant_god"},{type:"specificBugKills",value:9e3,target:"endless_ant_swarms"},{type:"foodPerSecond",value:"1e200"}],specialAbilities:[{name:"Psychic Overload",type:"periodicDamage",value:a("1e178"),cooldown:10}]},{id:"boss_galactic_devourer_ant",name:"Galactic Devourer Ant",maxHealth:a("1e5100"),damage:a("1e4100"),defense:a("1e2500"),description:"An ant of impossible scale, consuming entire star systems for sustenance.",reward:{essence:a("2e4"),guaranteedItemId:"boss_star_eater_mandible",itemChance:.005},unlockDescription:"Defeat the Cosmic Hivemind, kill 10,000 Galactic Moths, and achieve 1e400 food/sec.",unlockRequirements:[{type:"bossDeath",target:"boss_cosmic_hivemind"},{type:"specificBugKills",value:1e4,target:"galactic_moth"},{type:"foodPerSecond",value:"1e400"}],specialAbilities:[{name:"System Collapse",type:"playerDebuff",value:a(.5),cooldown:15}]},{id:"boss_quantum_entanglement",name:"Quantum Entanglement Entity",maxHealth:a("5e10000"),damage:a("5e8000"),defense:a("5e5000"),description:"A being formed from the quantum foam, existing in all possible states until observed.",reward:{essence:a("5e4"),guaranteedItemId:"boss_quantum_core",itemChance:.004},unlockDescription:"Defeat the Galactic Devourer Ant, kill 11,000 Quantum Beetles, and achieve 1e800 food/sec.",unlockRequirements:[{type:"bossDeath",target:"boss_galactic_devourer_ant"},{type:"specificBugKills",value:11e3,target:"quantum_beetle"},{type:"foodPerSecond",value:"1e800"}],specialAbilities:[{name:"State Collapse",type:"defenseBuff",value:a(10),cooldown:20}]},{id:"boss_primordial_insectoid",name:"Primordial Insectoid",maxHealth:a("5e25000"),damage:a("5e20000"),defense:a("5e12000"),description:"One of the first insects, born from the chaos before creation. Its chitin is harder than any known material.",reward:{essence:a("1e5"),guaranteedItemId:"boss_primordial_chitin_plate",itemChance:.003},unlockDescription:"Defeat the Quantum Entanglement Entity, kill 12,000 Ant Legion Commanders, and achieve 1e1600 food/sec.",unlockRequirements:[{type:"bossDeath",target:"boss_quantum_entanglement"},{type:"specificBugKills",value:12e3,target:"ant_legion_commander"},{type:"foodPerSecond",value:"1e1600"}],specialAbilities:[{name:"Unbreakable Defense",type:"defenseBuff",value:a(5),cooldown:18}]},{id:"boss_reality_weaver_spider",name:"Reality Weaver Spider",maxHealth:a("5e60000"),damage:a("5e48000"),defense:a("5e30000"),description:"A colossal arachnid that spins the very fabric of reality into its web.",reward:{essence:a("2e5"),guaranteedItemId:"boss_reality_thread",itemChance:.002},unlockDescription:"Defeat the Primordial Insectoid, kill 13,000 Ant Training Masters, and achieve 1e4000 food/sec.",unlockRequirements:[{type:"bossDeath",target:"boss_primordial_insectoid"},{type:"specificBugKills",value:13e3,target:"ant_training_master"},{type:"foodPerSecond",value:"1e4000"}],specialAbilities:[{name:"Web of Realities",type:"periodicDamage",value:a("1e3450"),cooldown:8},{name:"Dimensional Snare",type:"playerDebuff",value:a(.7),cooldown:12}]},{id:"boss_omega_ant",name:"Omega Ant",maxHealth:a("5e150000"),damage:a("5e120000"),defense:a("5e75000"),description:"The final evolution. The ultimate ant. The beginning and the end.",reward:{essence:a("5e5"),guaranteedItemId:"boss_omega_particle",itemChance:.001},unlockDescription:"Defeat the Reality Weaver Spider, kill 15,000 Ant Training Masters, and achieve 1e8000 food/sec.",unlockRequirements:[{type:"bossDeath",target:"boss_reality_weaver_spider"},{type:"specificBugKills",value:15e3,target:"ant_training_master"},{type:"foodPerSecond",value:"1e8000"}],specialAbilities:[{name:"Omega Blast",type:"periodicDamage",value:a("1e6950"),cooldown:20},{name:"Alpha Resilience",type:"defenseBuff",value:a(100),cooldown:30}]}];function N0(t){return w0()?(zh(t),!0):!1}const ru=new WeakMap,k2=(...t)=>{var e;const s=t[0],o=(e=Gn())==null?void 0:e.proxy;if(o==null&&!I0())throw new Error("injectLocal must be called in setup");return o&&ru.has(o)&&s in ru.get(o)?ru.get(o)[s]:Bs(...t)},Tv=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const _2=t=>t!=null,w2=Object.prototype.toString,C2=t=>w2.call(t)==="[object Object]",cr=()=>{},S2=$2();function $2(){var t,e;return Tv&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function E2(t,e){function s(...o){return new Promise((n,i)=>{Promise.resolve(t(()=>e.apply(this,o),{fn:e,thisArg:this,args:o})).then(n).catch(i)})}return s}function A2(t,e={}){let s,o,n=cr;const i=d=>{clearTimeout(d),n(),n=cr};let l;return d=>{const u=zs(t),m=zs(e.maxWait);return s&&i(s),u<=0||m!==void 0&&m<=0?(o&&(i(o),o=null),Promise.resolve(d())):new Promise((p,y)=>{n=e.rejectOnCancel?y:p,l=d,m&&!o&&(o=setTimeout(()=>{s&&i(s),o=null,p(l())},m)),s=setTimeout(()=>{o&&i(o),o=null,p(d())},u)})}}function vf(t){return t.endsWith("rem")?Number.parseFloat(t)*16:Number.parseFloat(t)}function fl(t){return Array.isArray(t)?t:[t]}function M2(t){return Gn()}function cc(t,e=200,s={}){return E2(A2(e,s),t)}function Lv(t,e=!0,s){M2()?tt(t,s):e?t():Bt(t)}function P2(t,e,s){return We(t,e,{...s,immediate:!0})}const Qn=Tv?window:void 0;function $o(t){var e;const s=zs(t);return(e=s==null?void 0:s.$el)!=null?e:s}function So(...t){const e=[],s=()=>{e.forEach(c=>c()),e.length=0},o=(c,d,u,m)=>(c.addEventListener(d,u,m),()=>c.removeEventListener(d,u,m)),n=R(()=>{const c=fl(zs(t[0])).filter(d=>d!=null);return c.every(d=>typeof d!="string")?c:void 0}),i=P2(()=>{var c,d;return[(d=(c=n.value)==null?void 0:c.map(u=>$o(u)))!=null?d:[Qn].filter(u=>u!=null),fl(zs(n.value?t[1]:t[0])),fl(g(n.value?t[2]:t[1])),zs(n.value?t[3]:t[2])]},([c,d,u,m])=>{if(s(),!(c!=null&&c.length)||!(d!=null&&d.length)||!(u!=null&&u.length))return;const p=C2(m)?{...m}:m;e.push(...c.flatMap(y=>d.flatMap(v=>u.map(S=>o(y,v,S,p)))))},{flush:"post"}),l=()=>{i(),s()};return N0(s),l}let yf=!1;function T2(t,e,s={}){const{window:o=Qn,ignore:n=[],capture:i=!0,detectIframe:l=!1,controls:c=!1}=s;if(!o)return c?{stop:cr,cancel:cr,trigger:cr}:cr;if(S2&&!yf){yf=!0;const C={passive:!0};Array.from(o.document.body.children).forEach(x=>So(x,"click",cr,C)),So(o.document.documentElement,"click",cr,C)}let d=!0;const u=C=>zs(n).some(x=>{if(typeof x=="string")return Array.from(o.document.querySelectorAll(x)).some($=>$===C.target||C.composedPath().includes($));{const $=$o(x);return $&&(C.target===$||C.composedPath().includes($))}});function m(C){const x=zs(C);return x&&x.$.subTree.shapeFlag===16}function p(C,x){const $=zs(C),A=$.$.subTree&&$.$.subTree.children;return A==null||!Array.isArray(A)?!1:A.some(M=>M.el===x.target||x.composedPath().includes(M.el))}const y=C=>{const x=$o(t);if(C.target!=null&&!(!(x instanceof Element)&&m(t)&&p(t,C))&&!(!x||x===C.target||C.composedPath().includes(x))){if("detail"in C&&C.detail===0&&(d=!u(C)),!d){d=!0;return}e(C)}};let v=!1;const S=[So(o,"click",C=>{v||(v=!0,setTimeout(()=>{v=!1},0),y(C))},{passive:!0,capture:i}),So(o,"pointerdown",C=>{const x=$o(t);d=!u(C)&&!!(x&&!C.composedPath().includes(x))},{passive:!0}),l&&So(o,"blur",C=>{setTimeout(()=>{var x;const $=$o(t);((x=o.document.activeElement)==null?void 0:x.tagName)==="IFRAME"&&!($!=null&&$.contains(o.document.activeElement))&&e(C)},0)},{passive:!0})].filter(Boolean),_=()=>S.forEach(C=>C());return c?{stop:_,cancel:()=>{d=!1},trigger:C=>{d=!0,y(C),d=!1}}:_}function L2(){const t=ms(!1),e=Gn();return e&&tt(()=>{t.value=!0},e),t}function H0(t){const e=L2();return R(()=>(e.value,!!t()))}function I2(t,e,s={}){const{window:o=Qn,...n}=s;let i;const l=H0(()=>o&&"MutationObserver"in o),c=()=>{i&&(i.disconnect(),i=void 0)},d=R(()=>{const y=zs(t),v=fl(y).map($o).filter(_2);return new Set(v)}),u=We(()=>d.value,y=>{c(),l.value&&y.size&&(i=new MutationObserver(e),y.forEach(v=>i.observe(v,n)))},{immediate:!0,flush:"post"}),m=()=>i==null?void 0:i.takeRecords(),p=()=>{u(),c()};return N0(p),{isSupported:l,stop:p,takeRecords:m}}const D2=Symbol("vueuse-ssr-width");function F2(){const t=I0()?k2(D2,null):null;return typeof t=="number"?t:void 0}function Iv(t,e={}){const{window:s=Qn,ssrWidth:o=F2()}=e,n=H0(()=>s&&"matchMedia"in s&&typeof s.matchMedia=="function"),i=ms(typeof o=="number"),l=ms(),c=ms(!1),d=u=>{c.value=u.matches};return Ur(()=>{if(i.value){i.value=!n.value;const u=zs(t).split(",");c.value=u.some(m=>{const p=m.includes("not all"),y=m.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),v=m.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let S=!!(y||v);return y&&S&&(S=o>=vf(y[1])),v&&S&&(S=o<=vf(v[1])),p?!S:S});return}n.value&&(l.value=s.matchMedia(zs(t)),c.value=l.value.matches)}),So(l,"change",d,{passive:!0}),R(()=>c.value)}function R2(t,e,s={}){const{window:o=Qn,...n}=s;let i;const l=H0(()=>o&&"ResizeObserver"in o),c=()=>{i&&(i.disconnect(),i=void 0)},d=R(()=>{const p=zs(t);return Array.isArray(p)?p.map(y=>$o(y)):[$o(p)]}),u=We(d,p=>{if(c(),l.value&&o){i=new ResizeObserver(e);for(const y of p)y&&i.observe(y,n)}},{immediate:!0,flush:"post"}),m=()=>{c(),u()};return N0(m),{isSupported:l,stop:m}}function U2(t,e={}){const{reset:s=!0,windowResize:o=!0,windowScroll:n=!0,immediate:i=!0,updateTiming:l="sync"}=e,c=ms(0),d=ms(0),u=ms(0),m=ms(0),p=ms(0),y=ms(0),v=ms(0),S=ms(0);function _(){const x=$o(t);if(!x){s&&(c.value=0,d.value=0,u.value=0,m.value=0,p.value=0,y.value=0,v.value=0,S.value=0);return}const $=x.getBoundingClientRect();c.value=$.height,d.value=$.bottom,u.value=$.left,m.value=$.right,p.value=$.top,y.value=$.width,v.value=$.x,S.value=$.y}function C(){l==="sync"?_():l==="next-frame"&&requestAnimationFrame(()=>_())}return R2(t,C),We(()=>$o(t),x=>!x&&C()),I2(t,C,{attributeFilter:["style","class"]}),n&&So("scroll",C,{capture:!0,passive:!0}),o&&So("resize",C,{passive:!0}),Lv(()=>{i&&C()}),{height:c,bottom:d,left:u,right:m,top:p,width:y,x:v,y:S,update:C}}function j0(t={}){const{window:e=Qn,initialWidth:s=Number.POSITIVE_INFINITY,initialHeight:o=Number.POSITIVE_INFINITY,listenOrientation:n=!0,includeScrollbar:i=!0,type:l="inner"}=t,c=ms(s),d=ms(o),u=()=>{if(e)if(l==="outer")c.value=e.outerWidth,d.value=e.outerHeight;else if(l==="visual"&&e.visualViewport){const{width:p,height:y,scale:v}=e.visualViewport;c.value=Math.round(p*v),d.value=Math.round(y*v)}else i?(c.value=e.innerWidth,d.value=e.innerHeight):(c.value=e.document.documentElement.clientWidth,d.value=e.document.documentElement.clientHeight)};u(),Lv(u);const m={passive:!0};if(So("resize",u,m),e&&l==="visual"&&e.visualViewport&&So(e.visualViewport,"resize",u,m),n){const p=Iv("(orientation: portrait)");We(p,()=>u())}return{width:c,height:d}}const xf=[{id:"welcome",target:"#header-title",title:"Welcome to Idle Ant Farm!",content:"This tour will guide you through the basics of the game.",placement:"bottom"},{id:"resources",target:"#resource-counter",title:"Resources",content:"Here you can see your current resources. These are used to purchase upgrades and ants.",placement:"bottom"},{id:"generators",target:"#generator-section",title:"Generators",content:"Generators produce resources automatically. Purchase more to increase your production.",placement:"right"},{id:"colony",target:"#colony-tab",title:"Colony",content:"Click here to access your colony, and upgrade your ants.",placement:"bottom",route:"/colony"},{id:"prestige",target:"#prestige-section",title:"Prestige",content:"When you've progressed far enough, you can prestige to earn permanent bonuses.",placement:"left",route:"/prestige"},{id:"home",target:"#home-tab",title:"Home",content:"Return to the main screen to see your colony status.",placement:"bottom",route:"/"},{id:"complete",target:"#header-title",title:"Tour Complete!",content:"You now know the basics of Idle Ant Farm. Happy farming!",placement:"bottom"}],dc=Ft("tourStore",()=>{const t=Os(),e=Vn(),s=W(!1),o=W(0),n=W(xf),i=W(!1),l=W(!1),c=W(null),d=W(null),{width:u,height:m,top:p,left:y,right:v,bottom:S,x:_,y:C,update:x}=U2(c),$=R(()=>n.value[o.value]||null),A=R(()=>o.value===0),M=R(()=>o.value===n.value.length-1),P=R(()=>n.value.length);We(()=>t.isCalculatingOfflineProgress,re=>{l.value&&!re&&(l.value=!1,i.value||setTimeout(()=>{j()},500))}),We($,async re=>{if(console.log("Current step changed",re),!re||!s.value){console.log("Skipping target update: no step or tour inactive");return}const he=re.target;if(he){if(console.log("Looking for target element",he),await new Promise(ve=>setTimeout(ve,100)),he.startsWith("#")){const ve=he.substring(1);c.value=document.getElementById(ve),console.log("Found target by ID",ve,c.value)}else c.value=document.querySelector(he),console.log("Found target by selector",he,c.value);c.value?(x(),console.log("Updated bounding box",{width:u.value,height:m.value,top:p.value,left:y.value}),I(),k()):console.warn(`Tour target element not found: ${he}`)}});const L=re=>{re&&re.length>0&&(n.value=re)},B=()=>{n.value=xf},k=()=>{if(console.log("Positioning tooltip",{targetElement:c.value,tooltipElement:d.value}),!c.value||!d.value){console.warn("Cannot position tooltip: missing elements",{targetElement:!!c.value,tooltipElement:!!d.value});return}const re=c.value.getBoundingClientRect(),he=d.value.getBoundingClientRect(),ve=20;console.log("Element rects",{targetRect:re,tooltipRect:he});let Se=re.left+re.width/2-he.width/2,Me=0,Oe="bottom";const He=window.innerWidth,we=10;Se=Math.max(we,Math.min(Se,He-he.width-we)),window.innerHeight-re.bottom-ve>=he.height?(Me=re.bottom+ve,Oe="bottom"):(Me=re.top-he.height-ve,Oe="top"),Me<we&&(Me=re.bottom+ve,Oe="bottom"),console.log("Final position",{tooltipX:Se,tooltipY:Me,placement:Oe}),d.value.style.left=`${Se}px`,d.value.style.top=`${Me}px`,d.value.dataset.placement=Oe,d.value.getBoundingClientRect()},I=()=>{c.value&&(c.value.classList.add("tour-highlight"),c.value.scrollIntoView({behavior:"smooth",block:"center"}))},N=()=>{c.value&&c.value.classList.remove("tour-highlight")},U=()=>{x(),k()},j=async()=>{var re;if(console.log("Starting tour",{isCalculatingOfflineProgress:t.isCalculatingOfflineProgress,hasSeenTour:i.value}),t.isCalculatingOfflineProgress){console.log("Waiting for offline progress calculation to complete"),l.value=!0;return}o.value=0,console.log("Reset to first step",$.value),(re=$.value)!=null&&re.onBeforeShow&&(console.log("Running onBeforeShow hook"),await $.value.onBeforeShow()),s.value=!0,console.log("Tour activated")},ee=()=>{N(),s.value=!1,i.value=!0},ne=async()=>{if(M.value){ee();return}N(),o.value++;const re=$.value;re!=null&&re.route&&await e.push(re.route),re!=null&&re.onBeforeShow&&await re.onBeforeShow()},oe=async()=>{if(A.value)return;N(),o.value--;const re=$.value;re!=null&&re.route&&await e.push(re.route),re!=null&&re.onBeforeShow&&await re.onBeforeShow()},O=()=>{ee()},Y=()=>{i.value=!1};return tt(()=>{window.addEventListener("resize",U),!t.isCalculatingOfflineProgress&&!i.value&&setTimeout(()=>{j()},500)}),fs(()=>{window.removeEventListener("resize",U),N()}),{isActive:s,currentStepIndex:o,steps:n,hasSeenTour:i,isWaitingForOfflineProgress:l,targetElement:c,tooltipElement:d,currentStep:$,isFirstStep:A,isLastStep:M,totalSteps:P,targetBounding:{width:u,height:m,top:p,left:y,right:v,bottom:S,x:_,y:C},setTourSteps:L,resetTourSteps:B,startTour:j,endTour:ee,nextStep:ne,prevStep:oe,skipTour:O,resetTour:Y,positionTooltip:k,highlightTarget:I,removeHighlight:N,collectState:()=>({hasSeenTour:i.value}),applyState:re=>{re&&typeof re.hasSeenTour=="boolean"&&(i.value=re.hasSeenTour)}}}),qs=Ft("progression",()=>{const t=W("initial"),e=W({initial:!0,colonyStatus:!1,upgrades:!1,evolution:!1,complete:!1}),s=R(()=>({colonyStatus:e.value.colonyStatus,colonyPage:e.value.colonyStatus,upgrades:e.value.upgrades,evolution:e.value.evolution,aphidFarm:e.value.evolution,showMetamorphosisExplanation:!e.value.complete,tour:!1}));return{currentStage:t,stageCompleted:e,isFeatureUnlocked:s,checkProgression:()=>{var d;const l=vt(),c=As();if(!e.value.colonyStatus){const u=l.getGenerator("worker");u&&u.count.gt(0)&&(e.value.colonyStatus=!0,t.value="colonyStatus")}e.value.colonyStatus&&!e.value.upgrades&&c.totalTicks.gte(10)&&(e.value.upgrades=!0,t.value="upgrades"),e.value.upgrades&&!e.value.evolution&&(d=l.getGenerator("nursery"))!=null&&d.count.gte(5)&&(e.value.evolution=!0,t.value="evolution"),e.value.evolution&&!e.value.complete&&ct().hasEvolved&&(e.value.complete=!0,t.value="complete")},getState:()=>({currentStage:t.value,stageCompleted:e.value}),loadState:l=>{l.currentStage&&(t.value=l.currentStage),l.stageCompleted&&(e.value={...e.value,...l.stageCompleted})}}}),B2=()=>{const t=[100,1e3,1e4,1e5,1e6,1e7,1e8,"1e9","1e10","1e12","1e15","1e18","1e21","1e24","1e27","1e30","1e33","1e36","1e40","1e45","1e50","1e60","1e70","1e80","1e90","1e100","1e120","1e150","1e200","1e250","1e300","1e350","1e400","1e450","1e500"],e=["Hungry Beginnings","First Snack","Food Stock","Small Pantry","Food Hoarder","Nutritional Wealth","Food Supply Chain","Food Mountain","Endless Buffet","Food Empire","Quantum Nutrients","Interdimensional Feast","Sextillion Snack","Septillion Supper","Octillion Omelets","Nonillion Nourishment","Decillion Dinner","Undecillion Utopia","Duodecillion Delicacies","Tredecillion Treats","Quattuordecillion Quantities","Quintillion Quotient","Sextillion Surplus","Septillion Stores","Octillion Overstock","Googol Gastronomy","Trigintillion Triumph","Quantum Realm Cuisine","Cosmic Consumables","Universal Eatery","Multiversal Meals","Hyperdimensional Hunger","Transcendent Treats","Infinite Ingestion","Unlimited Appetite"],s=t.map(i=>`Collect ${i} food in total`),n=(()=>{const i=[];for(let c=0;c<5;c++){const d=1.02+c*.02;i.push({target:"worker",multiplier:d,description:`Worker production +${Math.round((d-1)*100)}%`})}for(let c=0;c<3;c++){const d=1.05+c*.05;i.push({target:"nursery",multiplier:d,description:`Nursery production +${Math.round((d-1)*100)}%`})}for(let c=0;c<3;c++){const d=1.05+c*.05;i.push({target:"queenChamber",multiplier:d,description:`Queen Chamber production +${Math.round((d-1)*100)}%`})}for(let c=0;c<3;c++){const d=1.05+c*.05;i.push({target:"colony",multiplier:d,description:`Colony production +${Math.round((d-1)*100)}%`})}for(let c=0;c<3;c++){const d=1.05+c*.05;i.push({target:"megacolony",multiplier:d,description:`Megacolony production +${Math.round((d-1)*100)}%`})}for(let c=0;c<2;c++){const d=1.05+c*.05;i.push({target:"hivemind",multiplier:d,description:`Hivemind production +${Math.round((d-1)*100)}%`})}for(let c=0;c<2;c++){const d=1.05+c*.05;i.push({target:"antopolis",multiplier:d,description:`Antopolis production +${Math.round((d-1)*100)}%`})}for(let c=0;c<1;c++){const d=1.05+c*.05;i.push({target:"alateHatchery",multiplier:d,description:`Alate Hatchery production +${Math.round((d-1)*100)}%`})}const l=t.length-i.length;for(let c=0;c<l;c++){let d;c<5?d=3+c*2:c<8?d=15+(c-5)*5:d=30+(c-8)*10,i.push({target:"global",multiplier:1+d/100,description:`All generators +${d}%`})}return i})();return t.map((i,l)=>({id:`food-${l+1}`,name:e[l],description:s[l],categoryId:"general",icon:"i-heroicons-cake",requirement:a(i),currentValue:a(0),completed:!1,completionDate:void 0,rewardDescription:n[l].description,hiddenUntilCompleted:!1,targetStat:"totalFood",modifiers:[{target:n[l].target,multiplier:a(n[l].multiplier),formatMultiplier:c=>`+${dt(c.sub(1).mul(100))} ${n[l].target==="global"?"all generators":`${n[l].target} production`}`}]}))},q2=()=>{const t=[3600,10800,21600,43200,86400,172800,259200,432e3,604800,1209600,2592e3,5184e3,7776e3,15552e3,31536e3],e=["Dedicated","Entomologist","Ant Observer","Insect Enthusiast","Ant Enthusiast","Colony Caretaker","Devoted Director","Committed Keeper","Colony Manager","Queen's Guardian","Master Myrmecologist","Supreme Superintendent","Legendary Leader","Ant Archon","Time Lord of Ants"],s=["Play for 1 hour in total (since your first game)","Play for 3 hours in total (since your first game)","Play for 6 hours in total (since your first game)","Play for 12 hours in total (since your first game)","Play for 1 day in total (since your first game)","Play for 2 days in total (since your first game)","Play for 3 days in total (since your first game)","Play for 5 days in total (since your first game)","Play for 1 week in total (since your first game)","Play for 2 weeks in total (since your first game)","Play for 1 month in total (since your first game)","Play for 2 months in total (since your first game)","Play for 3 months in total (since your first game)","Play for 6 months in total (since your first game)","Play for 1 year in total (since your first game)"],n=t.map((i,l)=>{const c=Math.min(1+Math.floor(l*.5),10);return{target:"global",multiplier:1+c/100,description:`All generators +${c}%`}});return t.map((i,l)=>({id:`time-${l+1}`,name:e[l],description:s[l],categoryId:"general",icon:"i-heroicons-clock",requirement:a(i),currentValue:a(0),completed:!1,completionDate:void 0,hiddenUntilCompleted:!1,targetStat:"totalGameTime",rewardDescription:n[l].description,modifiers:[{target:n[l].target,multiplier:a(n[l].multiplier),formatMultiplier:c=>`+${dt(c.sub(1).mul(100))} all generators`}]}))},O2=()=>{const t=[10,100,1e3,1e6,1e9,1e12,1e15,1e20,1e25,1e30,1e40,1e50,1e60,1e75,1e90,1e100,1e125,1e150,1e175,1e200,1e225,1e250,1e275,1e300,1/0,1/0,1/0,1/0,1/0],e=["First Workers","Worker Army","Worker Legion","Worker Nation","Worker Empire","Worker Planet","Worker Galaxy","Worker Universe","Worker Dimension","Worker Multiverse","Worker Hyperverse","Worker Omniverse","Worker Xenoverse","Worker Megaverse","Worker Gigaverse","Worker Teraverse","Worker Petaverse","Worker Exaverse","Worker Zettaverse","Worker Yottaverse","Worker Xennaverse","Worker Wekaverse","Worker Vendaverse","Worker Udaverse","Worker Tredaverse","Worker Sornaverse","Worker Rinnaverse","Worker Quentaverse","Worker Immortal Empire"],s=["Have 10 worker ants","Have 100 worker ants","Have 1,000 worker ants","Have a million worker ants","Have a billion worker ants","Have a trillion worker ants","Have a quadrillion worker ants","Have 1e20 worker ants","Have 1e25 worker ants","Have 1e30 worker ants","Have 1e40 worker ants","Have 1e50 worker ants","Have 1e60 worker ants","Have 1e75 worker ants","Have 1e90 worker ants","Have 1e100 worker ants","Have 1e125 worker ants","Have 1e150 worker ants","Have 1e175 worker ants","Have 1e200 worker ants","Have 1e225 worker ants","Have 1e250 worker ants","Have 1e275 worker ants","Have 1e300 worker ants","Have 1e325 worker ants","Have 1e350 worker ants","Have 1e400 worker ants","Have 1e450 worker ants","Have 1e500 worker ants"],o=[null,null,{multiplier:1.05,description:"Worker production +5%"},{multiplier:1.1,description:"Worker production +10%"},{multiplier:1.15,description:"Worker production +15%"},{multiplier:1.2,description:"Worker production +20%"},{multiplier:1.25,description:"Worker production +25%"},{multiplier:1.3,description:"Worker production +30%"},{multiplier:1.35,description:"Worker production +35%"},{multiplier:1.4,description:"Worker production +40%"},{multiplier:1.45,description:"Worker production +45%"},{multiplier:1.5,description:"Worker production +50%"},{multiplier:1.55,description:"Worker production +55%"},{multiplier:1.6,description:"Worker production +60%"},{multiplier:1.65,description:"Worker production +65%"},{multiplier:1.68,description:"Worker production +68%"},{multiplier:1.71,description:"Worker production +71%"},{multiplier:1.74,description:"Worker production +74%"},{multiplier:1.77,description:"Worker production +77%"},{multiplier:1.8,description:"Worker production +80%"},{multiplier:1.83,description:"Worker production +83%"},{multiplier:1.86,description:"Worker production +86%"},{multiplier:1.89,description:"Worker production +89%"},{multiplier:1.92,description:"Worker production +92%"},{multiplier:1.94,description:"Worker production +94%"},{multiplier:1.96,description:"Worker production +96%"},{multiplier:1.98,description:"Worker production +98%"},{multiplier:1.99,description:"Worker production +99%"},{multiplier:2,description:"Worker production +100%"}];return t.map((n,i)=>{const l={id:`workers-${i+1}`,name:e[i],description:s[i],categoryId:"colony",icon:"i-heroicons-bug-ant",requirement:a(n),currentValue:a(0),completed:!1,completionDate:void 0,hiddenUntilCompleted:i>5,targetStat:"workers"};return o[i]&&(l.rewardDescription=o[i].description,l.modifiers=[{target:"worker",multiplier:a(o[i].multiplier),formatMultiplier:c=>`+${dt(c.sub(1).mul(100))} worker production`}]),l})},N2=()=>{const t=[1,5,10,25,50,100],e=["First Evolution","Evolving Species","Evolution Expert","Evolution Master","Darwin Would Be Proud","Evolutionary Apex"],s=t.map(n=>`Perform ${n} evolution${n>1?"s":""}`),o=[null,{multiplier:1.02,description:"All generators +2%"},null,{multiplier:1.05,description:"All generators +5%"},{multiplier:1.1,description:"All generators +10%"},{multiplier:1.2,description:"All generators +20%"}];return t.map((n,i)=>{const l={id:`evolution-${n===1?"1":n}`,name:e[i],description:s[i],categoryId:"evolution",icon:"i-heroicons-sparkles",requirement:a(n),currentValue:a(0),completed:!1,completionDate:void 0,hiddenUntilCompleted:!1,targetStat:"totalEvolutions"};return o[i]&&(l.rewardDescription=o[i].description,l.modifiers=[{target:"global",multiplier:a(o[i].multiplier),formatMultiplier:c=>`+${dt(c.sub(1).mul(100))} all generators`}]),l})},H2=()=>{const t=[10,25,50],e=["Loop Master","Loop Expert","Loop Legend"],s=t.map(n=>`Complete ${n} loops in a single evolution`),o=[null,null,{multiplier:1.1,description:"Evolution Points +10%"}];return t.map((n,i)=>{const l={id:`loops-${i+1}`,name:e[i],description:s[i],categoryId:"evolution",icon:"i-heroicons-arrow-path",requirement:a(n),currentValue:a(0),completed:!1,completionDate:void 0,hiddenUntilCompleted:!1,targetStat:"maxLoopsInEvolution"};return o[i]&&(l.rewardDescription=o[i].description,l.modifiers=[{target:"ep",multiplier:a(o[i].multiplier),formatMultiplier:c=>`+${dt(c.sub(1).mul(100))} evolution points`}]),l})},j2=()=>{const t=[10,100,1e3],e=["Evolution Points","Evolution Wealth","Evolution Fortune"],s=t.map(n=>`Earn ${n} evolution points in total`),o=[null,null,{multiplier:1.05,description:"Evolution Points +5%"}];return t.map((n,i)=>{const l={id:`ep-${i+1}`,name:e[i],description:s[i],categoryId:"evolution",icon:"i-heroicons-bolt",requirement:a(n),currentValue:a(0),completed:!1,completionDate:void 0,hiddenUntilCompleted:!1,targetStat:"totalEvolutionPoints"};return o[i]&&(l.rewardDescription=o[i].description,l.modifiers=[{target:"ep",multiplier:a(o[i].multiplier),formatMultiplier:c=>`+${dt(c.sub(1).mul(100))} evolution points`}]),l})},nu=(t,e,s,o,n=null,i=1.2)=>{const l=o.map((u,m)=>m===0?`First ${e}`:m===1?`${e} Network`:m===2?`${e} Empire`:m===3?`${e} Dominion`:m===4?`${e} Supremacy`:m===5?`${e} Mastery`:m===6?`${e} Abundance`:m===7?`${e} Legacy`:m===8?`${e} Infinity`:m===9?`Cosmic ${e}`:m===10?`Galactic ${e}`:m===11?`Universal ${e}`:m===12?`Multiversal ${e}`:m===13?`Transcendent ${e}`:`Omnipotent ${e}`),c=o.map(u=>{const m=String(u);let p;if(m.includes("e")){const[y,v]=m.split("e"),S=parseInt(v,10);if(S<6)p=Number(m).toLocaleString();else if(S<21){const _=["Million","Million","Million","Billion","Billion","Billion","Trillion","Trillion","Trillion","Quadrillion","Quadrillion","Quadrillion","Quintillion","Quintillion","Quintillion"],C=S-6,x=_[C];p=`${(Math.pow(10,S%3)*parseFloat(y)).toFixed(2)} ${x}`}else p=`10^${v}`}else Number(m)>=1e6?p=`${(Number(m)/1e6).toFixed(1)}M`:Number(m)>=1e3?p=`${(Number(m)/1e3).toFixed(1)}K`:p=m;return`Have ${p} ${e.toLowerCase()}${Number(m)>1?"s":""}`}),d={nursery:"nurseries",queenChamber:"queenChambers",colony:"colonies",megacolony:"megacolonies",hivemind:"hiveminds",antopolis:"antopolis",alateHatchery:"alateHatchery"};return o.map((u,m)=>{const p={id:`${t.toLowerCase()}-${m+1}`,name:l[m],description:c[m],categoryId:"colony",icon:s,requirement:a(u),currentValue:a(0),completed:!1,completionDate:void 0,hiddenUntilCompleted:m>4,targetStat:d[t]||`${t.toLowerCase()}s`};if(n!==null&&m===n){const y=Math.round((i-1)*100);p.rewardDescription=`${e} production +${y}%`,p.modifiers=[{target:t,multiplier:a(i),formatMultiplier:v=>`+${dt(v.sub(1).mul(100))} ${t.toLowerCase()} production`}]}if(m>5){const y=Math.min(1,.1+(m-5)*.05),v=Math.round(y*100);if(p.rewardDescription=`${e} production +${v}%`,p.modifiers=[{target:t,multiplier:a(1+y),formatMultiplier:S=>`+${dt(S.sub(1).mul(100))} ${t.toLowerCase()} production`}],m>=10){const S=.05+(m-10)*.05,_=Math.round(S*100);p.rewardDescription+=` and all generators +${_}%`,p.modifiers.push({target:"global",multiplier:a(1+S),formatMultiplier:C=>`+${dt(C.sub(1).mul(100))} all generators`})}}return p})},G2=()=>[{id:"megacolony",name:"Mega Colony",displayName:"Mega Expansion",icon:"i-heroicons-building-office-2",statName:"megacolonies"},{id:"hivemind",name:"Hive Mind",displayName:"Collective Consciousness",icon:"i-heroicons-cpu-chip",statName:"hiveminds"},{id:"antopolis",name:"Antopolis",displayName:"Ant City",icon:"i-heroicons-building-library",statName:"antopolis"},{id:"alateHatchery",name:"Alate Hatchery",displayName:"Alate Hatchery",icon:"i-heroicons-building-library",statName:"alateHatchery"}].map(e=>({id:`${e.id}-1`,name:e.displayName,description:`Have your first ${e.name.toLowerCase()}`,categoryId:"colony",icon:e.icon,requirement:a(1),currentValue:a(0),completed:!1,completionDate:void 0,rewardDescription:`${e.name} production +5%`,hiddenUntilCompleted:!1,targetStat:e.statName,modifiers:[{target:e.id,multiplier:a(1.05),formatMultiplier:s=>`+${dt(s.sub(1).mul(100))} ${e.id} production`}]})),V2=()=>({id:"adventure-unlock",name:"Adventure Begins",description:"Unlock adventure mode",categoryId:"adventure",icon:"i-heroicons-map",requirement:a(1),currentValue:a(0),completed:!1,completionDate:void 0,rewardDescription:"",hiddenUntilCompleted:!0}),Q2=()=>[{id:"general",name:"General",description:"General game achievements",icon:"i-heroicons-trophy",sortOrder:0,achievements:[]},{id:"colony",name:"Colony",description:"Achievements related to your ant colony",icon:"i-heroicons-bug-ant",sortOrder:1,achievements:[]},{id:"evolution",name:"Evolution",description:"Achievements related to evolution progress",icon:"i-heroicons-sparkles",sortOrder:2,achievements:[]},{id:"adventure",name:"Adventure",description:"Achievements related to adventure mode",icon:"i-heroicons-map",sortOrder:3,achievements:[]}],z2=()=>{const t=[10,100,1e3,1e4,1e5,"1e6","1e9","1e12","1e15","1e20","1e30","1e50","1e75","1e100","1e150","1e200","1e250"],e=[10,100,1e3,1e4,"1e5",...t.slice(5)];return[...B2(),...q2(),...O2(),...nu("nursery","Nursery","i-heroicons-home-modern",t,4,1.2),...nu("queenChamber","Queen Chamber","i-heroicons-crown",t,4,1.1),...nu("colony","Colony","i-heroicons-building-storefront",e,3,1.05),...G2(),...N2(),...j2(),...H2(),V2()]},Dv=Q2(),Fv=z2();Fv.forEach(t=>{const e=Dv.find(s=>s.id===t.categoryId);e&&e.achievements.push(t)});const Ws=Ft("achievements",()=>{const t=W(Fv),e=W(Dv),s=W({food:a(0),totalFood:a(0),workers:a(0),totalWorkers:a(0),nurseries:a(0),totalNurseries:a(0),queenChambers:a(0),totalQueenChambers:a(0),colonies:a(0),totalColonies:a(0),megacolonies:a(0),totalMegacolonies:a(0),hiveminds:a(0),totalHiveminds:a(0),antopolis:a(0),totalAntopolis:a(0),alateHatchery:a(0),totalAlateHatchery:a(0),evolutionPoints:a(0),totalEvolutionPoints:a(0),totalEvolutions:a(0),maxLoopsInEvolution:a(0),totalGameTime:a(0),fastestEvolution:a(0),generatorUpgradesPurchased:a(0),prestigeUpgradesPurchased:a(0)}),o=W([]),n=W(!1),i=W(!0),l=R(()=>t.value.length),c=R(()=>t.value.filter(L=>L.completed).length),d=R(()=>c.value/l.value*100),u=L=>t.value.filter(B=>B.categoryId===L),m=()=>t.value.filter(L=>!L.hiddenUntilCompleted||L.completed),p=L=>{const B=t.value.find(k=>k.id===L);return B?B.completed:!1},y=(L,B,k=!1)=>{s.value[L]&&(k?s.value[L]=s.value[L].add(B):s.value[L]=B,v(L))},v=L=>{const B=t.value.filter(k=>k.targetStat===L&&!k.completed);for(const k of B)k.currentValue=s.value[L],k.currentValue.gte(k.requirement)&&S(k.id)},S=L=>{console.log("completeAchievement",L);const B=t.value.find(k=>k.id===L);!B||B.completed||(B.completed=!0,B.completionDate=Date.now(),o.value.push(B),i.value&&(n.value=!0),setTimeout(()=>{o.value=o.value.filter(k=>k.id!==L),o.value.length===0&&(n.value=!1)},5e3))},_=(L,B)=>{y("food",L,!1),y("totalFood",B,!0)},C=(L,B)=>{switch(L){case"worker":y("workers",B,!1);break;case"nursery":y("nurseries",B,!1);break;case"queenChamber":y("queenChambers",B,!1);break;case"colony":y("colonies",B,!1);break;case"megacolony":y("megacolonies",B,!1);break;case"hivemind":y("hiveminds",B,!1);break;case"antopolis":y("antopolis",B,!1);break;case"alateHatchery":y("alateHatchery",B,!1);break}},x=(L,B,k,I)=>{y("evolutionPoints",L,!1),y("totalEvolutionPoints",B,!0),y("totalEvolutions",k,!1),y("maxLoopsInEvolution",I,!1)},$=()=>{try{const L=Os();if(L.firstSaveTime){const B=Date.now()-L.firstSaveTime,k=Math.floor(B/1e3),I=a(k);y("totalGameTime",I,!1)}}catch(L){console.error("Error updating time achievements:",L)}};return{achievementList:t,categories:e,stats:s,recentlyCompleted:o,showNotification:n,notificationsEnabled:i,totalAchievements:l,completedAchievements:c,completionPercentage:d,getAchievementsByCategory:u,getVisibleAchievements:m,checkAchievement:p,updateStats:y,completeAchievement:S,updateFoodStats:_,updateGeneratorCounts:C,updateEvolutionStats:x,tick:(L=1)=>{try{$()}catch(B){console.error("Error updating game time achievements:",B)}},getState:()=>({achievements:t.value.map(L=>({id:L.id,currentValue:L.currentValue.toString(),completed:L.completed,completionDate:L.completionDate})),stats:Object.entries(s.value).reduce((L,[B,k])=>(L[B]=k.toString(),L),{}),notificationsEnabled:i.value}),loadState:L=>{L.achievements&&Array.isArray(L.achievements)&&L.achievements.forEach(B=>{const k=t.value.find(I=>I.id===B.id);k&&(k.currentValue=a(B.currentValue),k.completed=B.completed,k.completionDate=B.completionDate)}),L.stats&&Object.entries(L.stats).forEach(([B,k])=>{const I=B;s.value[I]!==void 0&&(s.value[I]=a(k))}),L.notificationsEnabled!==void 0&&(i.value=L.notificationsEnabled),setTimeout(()=>{$()},100)}}}),Wr=Ft("pheromoneShop",()=>{const t=os(),e=W([{id:"food_amplifier",name:"Food Amplifier",description:"Enhances food production through advanced pheromone manipulation.",maxLevel:150,baseCost:a(10),modifiers:[{target:"worker",multiplier:k=>a(1).add(k*.07),unlockLevel:1,description:"Food Production +7% per level"},{target:"pheromone",multiplier:k=>a(1).add((k-10)*.05),unlockLevel:10,description:"Pheromone Gain +5% per level above 10"},{target:"ep",multiplier:k=>a(1).add((k-25)*.05),unlockLevel:25,description:"EP Gain +5% per level above 25"},{target:"pheromone",multiplier:k=>a(1).add((k-50)*.03),unlockLevel:50,description:"Pheromone Gain +3% per level above 50"}]},{id:"ant_trail_blazer",name:"Ant Trail Blazer",description:"Mark your path to success with powerful pheromone trails.",maxLevel:150,baseCost:a(50),modifiers:[{target:"worker",multiplier:k=>a(1).add(k*.05),unlockLevel:1,description:"Food Production +5% per level"},{target:"nursery",multiplier:k=>a(1).add(k*.05),unlockLevel:1,description:"Nursery Production +5% per level"},{target:"pheromone",multiplier:k=>a(1).add((k-20)*.03),unlockLevel:20,description:"Pheromone Gain +3% per level above 20"}]},{id:"evolution_catalyst",name:"Evolution Catalyst",description:"Accelerates evolutionary progress through pheromone enhancement.",maxLevel:150,baseCost:a(50),modifiers:[{target:"ep",multiplier:k=>a(1).add(k*.1),unlockLevel:1,description:"EP Gain +10% per level"},{target:"worker",multiplier:k=>a(1).add((k-20)*.08),unlockLevel:20,description:"Food Production +8% per level above 20"},{target:"pheromone",multiplier:k=>a(1).add((k-40)*.04),unlockLevel:40,description:"Pheromone Gain +4% per level above 40"}],unlockRequirement:{type:"itemLevel",target:"food_amplifier",value:5,description:"Reach level 5 with Food Amplifier"}},{id:"sweet_scent",name:"Sweet Scent",description:"A sweet pheromone blend that makes all ants work more efficiently.",maxLevel:150,baseCost:a(150),modifiers:[{target:"global",multiplier:k=>a(1).add(k*.03),unlockLevel:1,description:"All Generators +3% per level"},{target:"ep",multiplier:k=>a(1).add((k-25)*.04),unlockLevel:25,description:"EP Gain +4% per level above 25"},{target:"pheromone",multiplier:k=>a(1).add((k-60)*.02),unlockLevel:60,description:"Pheromone Gain +2% per level above 60"}],unlockRequirement:{type:"itemLevel",target:"ant_trail_blazer",value:5,description:"Reach level 5 with Ant Trail Blazer"}},{id:"larva_logistics",name:"Larva Logistics",description:"Optimize nursery operations for faster growth.",maxLevel:150,baseCost:a(200),modifiers:[{target:"nursery",multiplier:k=>a(1).add(k*.09),unlockLevel:1,description:"Nursery Production +9% per level"},{target:"worker",multiplier:k=>a(1).add((k-15)*.04),unlockLevel:15,description:"Food Production +4% per level above 15"},{target:"ep",multiplier:k=>a(1).add((k-35)*.03),unlockLevel:35,description:"EP Gain +3% per level above 35"}],unlockRequirement:{type:"itemLevel",target:"evolution_catalyst",value:3,description:"Reach level 3 with Evolution Catalyst"}},{id:"formic_boost",name:"Formic Boost",description:"Harness the power of formic acid to supercharge your colony.",maxLevel:150,baseCost:a(400),modifiers:[{target:"worker",multiplier:k=>a(1).add(k*.08),unlockLevel:1,description:"Food Production +8% per level"},{target:"queenChamber",multiplier:k=>a(1).add(k*.07),unlockLevel:1,description:"Queen Chamber Production +7% per level"},{target:"nursery",multiplier:k=>a(1).add(k*.04),unlockLevel:1,description:"Nursery Production +4% per level"},{target:"pheromone",multiplier:k=>a(1).add((k-20)*.04),unlockLevel:20,description:"Pheromone Gain +4% per level above 20"}],unlockRequirement:{type:"itemLevel",target:"sweet_scent",value:10,description:"Reach level 10 with Sweet Scent"}},{id:"ant_i_gravity",name:"Ant-i-Gravity",description:"Defying the laws of physics, just like ants carrying 50x their weight!",maxLevel:150,baseCost:a(1e3),modifiers:[{target:"global",multiplier:k=>a(1).add(k*.05),unlockLevel:1,description:"All Generators +5% per level"},{target:"nursery",multiplier:k=>a(1).add((k-25)*.15),unlockLevel:25,description:"Nursery Production +15% per level above 25"},{target:"pheromone",multiplier:k=>a(1).add((k-50)*.08),unlockLevel:50,description:"Pheromone Gain +8% per level above 50"},{target:"ep",multiplier:k=>a(1).add((k-75)*.12),unlockLevel:75,description:"EP Gain +12% per level above 75"}],unlockRequirement:{type:"itemLevel",target:"evolution_catalyst",value:10,description:"Reach level 10 with Evolution Catalyst"}},{id:"no_picant",name:"No Pic-ant",description:"We packed the perfect pheromones for this pic-ant! Spicy!",maxLevel:150,baseCost:a(5e3),modifiers:[{target:"worker",multiplier:k=>a(1).add(k*.25),unlockLevel:1,description:"Food Production +25% per level"},{target:"global",multiplier:k=>a(1).add((k-30)*.1),unlockLevel:30,description:"All Generators +10% per level above 30"},{target:"pheromone",multiplier:k=>a(1).add((k-60)*.15),unlockLevel:60,description:"Pheromone Gain +15% per level above 60"}],unlockRequirement:{type:"itemLevel",target:"ant_i_gravity",value:15,description:"Reach level 15 with Ant-i-Gravity"}},{id:"royal_jelly_reserves",name:"Royal Jelly Reserves",description:"Specially formulated jelly to boost the Queen Chamber's output.",maxLevel:150,baseCost:a(8e3),modifiers:[{target:"queenChamber",multiplier:k=>a(1).add(k*.18),unlockLevel:1,description:"Queen Chamber Production +18% per level"},{target:"worker",multiplier:k=>a(1).add((k-25)*.06),unlockLevel:25,description:"Food Production +6% per level above 25"},{target:"ep",multiplier:k=>a(1).add((k-50)*.07),unlockLevel:50,description:"EP Gain +7% per level above 50"}],unlockRequirement:{type:"itemLevel",target:"formic_boost",value:20,description:"Reach level 20 with Formic Boost"}},{id:"formicidable_power",name:"Formicidable Power",description:"Unleash the formidable power of the Formicidae family!",maxLevel:150,baseCost:a(2e4),modifiers:[{target:"queenChamber",multiplier:k=>a(1).add(k*.2),unlockLevel:1,description:"Queen Chamber Production +20% per level"},{target:"colony",multiplier:k=>a(1).add(k*.2),unlockLevel:1,description:"Colony Production +20% per level"},{target:"global",multiplier:k=>a(1).add((k-30)*.08),unlockLevel:30,description:"All Generators +8% per level above 30"},{target:"ep",multiplier:k=>a(1).add((k-75)*.15),unlockLevel:75,description:"EP Gain +15% per level above 75"}],unlockRequirement:{type:"essence",value:5e3,description:"Collect 5,000 Pheromone Essence total"}},{id:"uncl_ant",name:"Uncl-Ant Power",description:"With great power comes great respANTsibility.",maxLevel:150,baseCost:a(25e3),modifiers:[{target:"global",multiplier:k=>a(1).add(k*.12),unlockLevel:1,description:"All Generators +12% per level"},{target:"ep",multiplier:k=>a(1).add(k*.18),unlockLevel:1,description:"EP Gain +18% per level"},{target:"pheromone",multiplier:k=>a(1).add((k-70)*.2),unlockLevel:70,description:"Pheromone Gain +20% per level above 70"}],unlockRequirement:{type:"itemLevel",target:"no_picant",value:25,description:"Reach level 25 with No Pic-ant"}},{id:"collective_construction",name:"Collective Construction",description:"Coordinated building efforts enhance Colony and Megacolony structures.",maxLevel:150,baseCost:a(5e4),modifiers:[{target:"colony",multiplier:k=>a(1).add(k*.3),unlockLevel:1,description:"Colony Production +30% per level"},{target:"megacolony",multiplier:k=>a(1).add((k-35)*.2),unlockLevel:35,description:"Megacolony Production +20% per level above 35"},{target:"global",multiplier:k=>a(1).add((k-70)*.1),unlockLevel:70,description:"All Generators +10% per level above 70"}],unlockRequirement:{type:"itemLevel",target:"formicidable_power",value:15,description:"Reach level 15 with Formicidable Power"}},{id:"antomaton",name:"Antomaton",description:"Robotic ants with advanced AI that never sleep or rest!",maxLevel:150,baseCost:a(75e3),modifiers:[{target:"worker",multiplier:k=>a(1).add(k*.35),unlockLevel:1,description:"Food Production +35% per level"},{target:"nursery",multiplier:k=>a(1).add(k*.35),unlockLevel:1,description:"Nursery Production +35% per level"},{target:"global",multiplier:k=>a(1).add((k-40)*.2),unlockLevel:40,description:"All Generators +20% per level above 40"},{target:"pheromone",multiplier:k=>a(1).add((k-80)*.4),unlockLevel:80,description:"Pheromone Gain +40% per level above 80"}],unlockRequirement:{type:"itemLevel",target:"uncl_ant",value:30,description:"Reach level 30 with Uncl-Ant Power"}},{id:"hill_of_a_deal",name:"Hill of a Deal",description:"This deal is too good to pass up! Trust me, I'm an antrepreneur.",maxLevel:150,baseCost:a(15e4),modifiers:[{target:"pheromone",multiplier:k=>a(1).add(k*.5),unlockLevel:1,description:"Pheromone Gain +50% per level"},{target:"megacolony",multiplier:k=>a(1).add(k*.3),unlockLevel:1,description:"Megacolony Production +30% per level"},{target:"hivemind",multiplier:k=>a(1).add(k*.3),unlockLevel:1,description:"Hivemind Production +30% per level"},{target:"global",multiplier:k=>a(1).add((k-50)*.1),unlockLevel:50,description:"All Generators +10% per level above 50"},{target:"ep",multiplier:k=>a(1).add((k-100)*.2),unlockLevel:100,description:"EP Gain +20% per level above 100"}],unlockRequirement:{type:"itemLevel",target:"formicidable_power",value:25,description:"Reach level 25 with Formicidable Power"}},{id:"ant_architect",name:"Ant Architect",description:"Master builders who create elaborate and efficient colony structures.",maxLevel:150,baseCost:a(15e4),modifiers:[{target:"colony",multiplier:k=>a(1).add(k*.45),unlockLevel:1,description:"Colony Production +45% per level"},{target:"megacolony",multiplier:k=>a(1).add(k*.45),unlockLevel:1,description:"Megacolony Production +45% per level"},{target:"global",multiplier:k=>a(1).add((k-40)*.25),unlockLevel:40,description:"All Generators +25% per level above 40"},{target:"ep",multiplier:k=>a(1).add((k-90)*.5),unlockLevel:90,description:"EP Gain +50% per level above 90"}],unlockRequirement:{type:"itemLevel",target:"antomaton",value:40,description:"Reach level 40 with Antomaton"}},{id:"antstronaut",name:"ANTstronaut Program",description:"One small step for ant, one giant leap for ant-kind!",maxLevel:150,baseCost:a(1e6),modifiers:[{target:"antopolis",multiplier:k=>a(1).add(k*.5),unlockLevel:1,description:"Antopolis Production +50% per level"},{target:"global",multiplier:k=>a(1).add(k*.15),unlockLevel:1,description:"All Generators +15% per level"},{target:"pheromone",multiplier:k=>a(1).add((k-60)*.3),unlockLevel:60,description:"Pheromone Gain +30% per level above 60"},{target:"ep",multiplier:k=>a(1).add((k-90)*.4),unlockLevel:90,description:"EP Gain +40% per level above 90"},{target:"global",multiplier:k=>a(1).add((k-125)*.5),unlockLevel:125,description:"All Generators +50% per level above 125"}],unlockRequirement:{type:"itemLevel",target:"hill_of_a_deal",value:50,description:"Reach level 50 with Hill of a Deal"}},{id:"synaptic_synchronization",name:"Synaptic Synchronization",description:"Boost Hivemind efficiency and Alate production through neural networking.",maxLevel:150,baseCost:a(3e6),modifiers:[{target:"hivemind",multiplier:k=>a(1).add(k*.4),unlockLevel:1,description:"Hivemind Production +40% per level"},{target:"alateHatchery",multiplier:k=>a(1).add(k*.25),unlockLevel:1,description:"Alate Hatchery Production +25% per level"},{target:"ep",multiplier:k=>a(1).add((k-40)*.3),unlockLevel:40,description:"EP Gain +30% per level above 40"},{target:"pheromone",multiplier:k=>a(1).add((k-80)*.4),unlockLevel:80,description:"Pheromone Gain +40% per level above 80"}],unlockRequirement:{type:"itemLevel",target:"ant_architect",value:50,description:"Reach level 50 with Ant Architect"}},{id:"ant_of_steel",name:"Ant of Steel",description:"It's a bird! It's a plane! No, it's Super-Ant!",maxLevel:150,baseCost:a(5e7),modifiers:[{target:"global",multiplier:k=>a(1).add(k*.25),unlockLevel:1,description:"All Generators +25% per level"},{target:"alateHatchery",multiplier:k=>a(1).add(k*.4),unlockLevel:1,description:"Alate Hatchery Production +40% per level"},{target:"pheromone",multiplier:k=>a(1).add((k-50)*.5),unlockLevel:50,description:"Pheromone Gain +50% per level above 50"},{target:"ep",multiplier:k=>a(1).add((k-100)*.5),unlockLevel:100,description:"EP Gain +50% per level above 100"}],unlockRequirement:{type:"itemLevel",target:"antstronaut",value:60,description:"Reach level 60 with ANTstronaut Program"}},{id:"quantum_antanglement",name:"Quantum Antanglement",description:"Entangle your ant colonies across multiple quantum dimensions.",maxLevel:150,baseCost:a(25e8),modifiers:[{target:"global",multiplier:k=>a(1).add(k*.35),unlockLevel:1,description:"All Generators +35% per level"},{target:"hivemind",multiplier:k=>a(1).add(k*.5),unlockLevel:1,description:"Hivemind Production +50% per level"},{target:"antopolis",multiplier:k=>a(1).add(k*.5),unlockLevel:1,description:"Antopolis Production +50% per level"},{target:"pheromone",multiplier:k=>a(1).add((k-75)*.5),unlockLevel:75,description:"Pheromone Gain +50% per level above 75"},{target:"ep",multiplier:k=>a(1).add((k-110)*.5),unlockLevel:110,description:"EP Gain +50% per level above 110"}],unlockRequirement:{type:"itemLevel",target:"ant_of_steel",value:70,description:"Reach level 70 with Ant of Steel"}},{id:"temporal_tunnels",name:"Temporal Tunnels",description:"Bend spacetime to accelerate resource generation across the entire colony.",maxLevel:150,baseCost:a(1e11),modifiers:[{target:"global",multiplier:k=>a(1).add(k*.4),unlockLevel:1,description:"All Generators +40% per level"},{target:"ep",multiplier:k=>a(1).add(k*.5),unlockLevel:1,description:"EP Gain +50% per level"},{target:"pheromone",multiplier:k=>a(1).add((k-80)*.5),unlockLevel:80,description:"Pheromone Gain +50% per level above 80"},{target:"global",multiplier:k=>a(1).add((k-120)*.5),unlockLevel:120,description:"All Generators +50% per level above 120"}],unlockRequirement:{type:"itemLevel",target:"quantum_antanglement",value:75,description:"Reach level 75 with Quantum Antanglement"}},{id:"ant_metaverse",name:"Ant Metaverse",description:"Connect your colonies in virtual reality for exponential synergy.",maxLevel:150,baseCost:a(5e12),modifiers:[{target:"global",multiplier:k=>a(1).add(k*.5),unlockLevel:1,description:"All Generators +50% per level"},{target:"pheromone",multiplier:k=>a(1).add(k*.5),unlockLevel:1,description:"Pheromone Gain +50% per level"},{target:"ep",multiplier:k=>a(1).add(k*.5),unlockLevel:1,description:"EP Gain +50% per level"},{target:"global",multiplier:k=>a(1).add((k-100)*.5),unlockLevel:100,description:"All Generators +50% per level above 100"}],unlockRequirement:{type:"itemLevel",target:"temporal_tunnels",value:80,description:"Reach level 80 with Temporal Tunnels"}},{id:"hive_intergalactic",name:"Hive Intergalactic",description:"Expand your ant empire beyond the stars and across galaxies!",maxLevel:150,baseCost:a(25e13),modifiers:[{target:"global",multiplier:k=>a(1).add(k*.5),unlockLevel:1,description:"All Generators +50% per level"},{target:"pheromone",multiplier:k=>a(1).add(k*.5),unlockLevel:1,description:"Pheromone Gain +50% per level"},{target:"ep",multiplier:k=>a(1).add(k*.5),unlockLevel:1,description:"EP Gain +50% per level"},{target:"global",multiplier:k=>a(1).add((k-100)*.5),unlockLevel:100,description:"All Generators +50% per level above 100"}],unlockRequirement:{type:"itemLevel",target:"ant_metaverse",value:85,description:"Reach level 85 with Ant Metaverse"}},{id:"cosmic_consciousness",name:"Cosmic Consciousness",description:"Attain enlightenment, boosting all aspects of the colony with profound insight.",maxLevel:150,baseCost:a(1e17),modifiers:[{target:"global",multiplier:k=>a(1).add(k*.5),unlockLevel:1,description:"All Generators +50% per level"},{target:"ep",multiplier:k=>a(1).add(k*.5),unlockLevel:1,description:"EP Gain +50% per level"},{target:"pheromone",multiplier:k=>a(1).add(k*.5),unlockLevel:1,description:"Pheromone Gain +50% per level"},{target:"global",multiplier:k=>a(1).add((k-75)*.5),unlockLevel:75,description:"All Generators +50% per level above 75"},{target:"ep",multiplier:k=>a(1).add((k-125)*.5),unlockLevel:125,description:"EP Gain +50% per level above 125"}],unlockRequirement:{type:"itemLevel",target:"hive_intergalactic",value:100,description:"Reach level 100 with Hive Intergalactic"}}]),s=W({}),o=W({by:"baseCost",direction:"asc"}),n=W(!1),i=k=>s.value[k]||0,l=k=>{const I=e.value.find(U=>U.id===k);if(!I)return!1;if(!I.unlockRequirement)return!0;const N=I.unlockRequirement;switch(N.type){case"essence":return t.totalCollectedEssence.gte(N.value);case"itemLevel":return N.target?i(N.target)>=N.value:!1;case"level":return!1;default:return!1}},c=R(()=>e.value.filter(k=>l(k.id))),d=k=>{const I=e.value.find(U=>U.id===k);if(!I)return a(0);const N=i(k);return N>=I.maxLevel?a(0):I.baseCost.mul(a(1.43).pow(N))},u=k=>{const I=e.value.find(U=>U.id===k);if(!I)return[];const N=i(k);return I.modifiers.filter(U=>N>=U.unlockLevel)},m=(k,I)=>{const N=e.value.find(ee=>ee.id===k);if(!N||!N.modifiers[I])return a(1);const U=i(k),j=N.modifiers[I];return U<j.unlockLevel?a(1):j.multiplier(U)},p=k=>{const I=e.value.find(N=>N.id===k);return!I||!I.unlockRequirement?"":I.unlockRequirement.description},y=R(()=>{const k=e.value.map(N=>({...N,unlocked:l(N.id),level:i(N.id),nextCost:d(N.id),isMaxed:i(N.id)>=N.maxLevel}));let I=k;return n.value&&(I=k.filter(N=>!N.isMaxed)),v(I)});function v(k){const{by:I,direction:N}=o.value;return[...k].sort((j,ee)=>{if(I==="unlocked"){if(N==="asc"){if(j.unlocked!==ee.unlocked)return j.unlocked?-1:1}else if(j.unlocked!==ee.unlocked)return j.unlocked?1:-1}switch(I){case"price":return N==="asc"?j.nextCost.cmp(ee.nextCost):ee.nextCost.cmp(j.nextCost);case"baseCost":return N==="asc"?j.baseCost.cmp(ee.baseCost):ee.baseCost.cmp(j.baseCost);case"level":return N==="asc"?j.level-ee.level:ee.level-j.level;case"maxLevel":return N==="asc"?j.maxLevel-ee.maxLevel:ee.maxLevel-j.maxLevel;case"name":return N==="asc"?j.name.localeCompare(ee.name):ee.name.localeCompare(j.name);case"unlocked":return j.name.localeCompare(ee.name);default:return 0}})}const S=(k,I)=>{o.value={by:k,direction:I}},_=(k,I)=>{if(I<=0)return a(0);const N=e.value.find(ee=>ee.id===k);if(!N)return a(0);const U=i(k);let j=a(0);for(let ee=0;ee<I;ee++)j=j.add(N.baseCost.mul(a(1.43).pow(U+ee)));return j},C=k=>{const I=e.value.find(O=>O.id===k);if(!I||!l(k))return 0;const N=i(k);if(N>=I.maxLevel)return 0;const U=t.pheromoneEssence,j=I.maxLevel-N,ee=1.43,ne=a(ee),oe=I.baseCost.mul(ne.pow(N));try{const O=U.mul(ee-1).div(oe).add(1),Y=Math.floor(Math.log(O.toNumber())/Math.log(ee));return Math.min(Y,j)||0}catch{let Y=0,G=a(0);for(;Y<j;){const de=d(k);if(G.add(de).gt(U)||(G=G.add(de),s.value[k]=(s.value[k]||0)+1,Y++,Y>1e3))break}return s.value[k]=N,Y}};return{shopItems:e,unlockedShopItems:c,getAllShopItemsWithStatus:y,getItemLevel:i,getNextLevelCost:d,getActiveModifiers:u,getCurrentModifierValue:m,upgradeItem:k=>{const I=e.value.find(j=>j.id===k);if(!I||!l(k)||i(k)>=I.maxLevel)return!1;const U=d(k);return t.spendPheromoneEssence(U)?(s.value[k]=(s.value[k]||0)+1,!0):!1},maxBuyItem:k=>{const I=e.value.find(ee=>ee.id===k);if(!I||!l(k))return 0;const N=i(k);if(N>=I.maxLevel)return 0;const U=C(k);if(U<=0)return 0;const j=_(k,U);return t.spendPheromoneEssence(j)?(s.value[k]=N+U,U):0},calculateMaxBuyLevels:C,calculateMaxBuyCost:k=>{const I=C(k);return _(k,I)},isItemUnlocked:l,getUnlockRequirementText:p,setSortPreference:S,sortPreference:o,hideMaxedItems:n,toggleHideMaxedItems:()=>{n.value=!n.value},resetForAscension:()=>{s.value={}},getState:()=>({itemLevels:s.value,sortPreference:o.value,hideMaxedItems:n.value}),loadState:k=>{k.itemLevels&&(s.value=k.itemLevels),k.sortPreference&&(o.value=k.sortPreference),k.hideMaxedItems!==void 0&&(n.value=k.hideMaxedItems)}}}),Za=Ft("colonyRush",()=>{const t=W(50),e=W(30),s=W(30),o=ct(),n=R(()=>o.getUpgradeCount("unlockColonyRush").gt(0)),i=R(()=>{const k=o.getUpgradeCount("rushMaxPerDay").mul(2);return t.value+k.toNumber()}),l=R(()=>{const k=o.getUpgradeCount("rushCooldownReduction").mul(2);return Math.max(1,e.value-k.toNumber())}),c=R(()=>{const k=o.getUpgradeCount("rushDurationIncrease").mul(10);return s.value+k.toNumber()}),d=W(0),u=W(0),m=W(""),p=W(0),y=W(!1),v=R(()=>i.value-d.value),S=R(()=>n.value&&v.value>0&&p.value>=l.value&&!y.value),_=R(()=>p.value>=l.value?100:Math.floor(p.value/l.value*100)),C=R(()=>p.value>=l.value?0:l.value-p.value),x=R(()=>{const k=C.value;return k<=0?"Ready":`${k} trips`});function $(){A()}function A(){const k=new Date().toDateString();m.value!==k&&(d.value=0,m.value=k)}function M(){y.value||(p.value++,A())}async function P(){if(!S.value)return!1;const k=Os();d.value++,u.value=Date.now(),p.value=0,y.value=!0;try{const I=c.value,N=k.getStores(),U=N.gameStore.tickDuration,j=Math.floor(I/U);return j>0?(Be(`[ColonyRush] Executing rush: Processing ${j} ticks individually.`),setTimeout(async()=>{try{await k.processRealTicks(j,N,!0),k.updateGeneratorStats(),Be(`[ColonyRush] Rush completed processing ${j} ticks.`)}catch(ee){Is("Error during async rush processing:",ee)}finally{y.value=!1,Be("[ColonyRush] isProcessingRush set to false.")}},10)):(Be(`[ColonyRush] Rush duration (${I}s) resulted in zero ticks. Skipping.`),y.value=!1),!0}catch(I){return Is("Error executing colony rush:",I),y.value=!1,!1}}const L=()=>({baseMaxRushesPerDay:t.value,baseRushCooldownTicks:e.value,baseRushDurationSeconds:s.value,rushesUsedToday:d.value,lastRushTimestamp:u.value,lastRushResetDate:m.value,ticksSinceLastRush:p.value}),B=k=>{k&&(k.baseMaxRushesPerDay!==void 0?t.value=k.baseMaxRushesPerDay:k.maxRushesPerDay!==void 0&&(t.value=k.maxRushesPerDay),k.baseRushCooldownTicks!==void 0?e.value=k.baseRushCooldownTicks:k.rushCooldownTicks!==void 0&&(e.value=k.rushCooldownTicks),k.baseRushDurationSeconds!==void 0?s.value=k.baseRushDurationSeconds:k.rushDurationSeconds!==void 0&&(s.value=k.rushDurationSeconds),k.rushesUsedToday!==void 0&&(d.value=k.rushesUsedToday),k.lastRushTimestamp!==void 0&&(u.value=k.lastRushTimestamp),k.lastRushResetDate!==void 0&&(m.value=k.lastRushResetDate),k.ticksSinceLastRush!==void 0&&(p.value=k.ticksSinceLastRush),A())};return $(),{baseMaxRushesPerDay:t,baseRushCooldownTicks:e,baseRushDurationSeconds:s,maxRushesPerDay:i,rushCooldownTicks:l,rushDurationSeconds:c,rushesUsedToday:d,rushesRemaining:v,lastRushTimestamp:u,lastRushResetDate:m,ticksSinceLastRush:p,isRushAvailable:S,isFeatureUnlocked:n,cooldownPercentage:_,ticksUntilNextRush:C,formatTripsUntilNextRush:x,initialize:$,trackTick:M,executeRush:P,getState:L,loadState:B,isProcessingRush:y}}),zo=Ft("wiki",()=>{const t=W("prestige-upgrades"),e=W({"prestige-upgrades":"","pheromone-shop":"","mega-ant":"","bugs-wiki":"","items-wiki":"","generators-wiki":""}),s=W({"prestige-upgrades":10,"pheromone-shop":10,"mega-ant":10,"bugs-wiki":10,"items-wiki":10,"generators-wiki":10}),o=W({"prestige-upgrades":{},"pheromone-shop":{},"mega-ant":{},"bugs-wiki":{},"items-wiki":{},"generators-wiki":{}}),n=W({"prestige-upgrades":{},"pheromone-shop":{},"mega-ant":{},"bugs-wiki":{},"items-wiki":{},"generators-wiki":{}}),i=W({"prestige-upgrades":[],"pheromone-shop":[],"mega-ant":[],"bugs-wiki":[],"items-wiki":[],"generators-wiki":[]}),l=A=>{t.value=A},c=(A,M)=>{e.value[A]=M},d=A=>e.value[A]||"",u=(A,M)=>{s.value[A]=M},m=A=>s.value[A]||10,p=(A,M)=>{o.value[A]||(o.value[A]={}),o.value[A][M]=!o.value[A][M],o.value[A][M]&&_(A,M)},y=(A,M)=>!!(o.value[A]&&o.value[A][M]),v=(A,M)=>{n.value[A]||(n.value[A]={}),n.value[A][M]=!n.value[A][M]},S=(A,M)=>!!(n.value[A]&&n.value[A][M]),_=(A,M)=>{i.value[A]||(i.value[A]=[]);const P=i.value[A].filter(L=>L!==M);P.unshift(M),i.value[A]=P.slice(0,10)};return{activeTab:t,setActiveTab:l,setSearchQuery:c,getSearchQuery:d,setMaxPreviewLevel:u,getMaxPreviewLevel:m,toggleItemExpanded:p,isItemExpanded:y,toggleIgnoreMaxLevel:v,shouldIgnoreMaxLevel:S,addToRecentlyViewed:_,getRecentlyViewedItems:A=>i.value[A]||[],getState:()=>({activeTab:t.value,searchQueries:e.value,maxPreviewLevels:s.value,expandedItemsMap:o.value,ignoreMaxLevelMap:n.value,recentlyViewedItems:i.value}),loadState:A=>{A.activeTab&&(t.value=A.activeTab),A.searchQueries&&(e.value=A.searchQueries),A.maxPreviewLevels&&(s.value=A.maxPreviewLevels),A.expandedItemsMap&&(o.value=A.expandedItemsMap),A.recentlyViewedItems&&(i.value=A.recentlyViewedItems)}}});var Gt=(t=>(t.KILL_BUGS="kill_bugs",t.COLLECT_FOOD="collect_food",t.COLLECT_PHEROMONE="collect_pheromone",t))(Gt||{}),Ut=(t=>(t.ITEM="item",t.FOOD="food",t.PHEROMONE="pheromone",t.EP="ep",t.MULTIPLIER="multiplier",t))(Ut||{});const G0=[{id:"kill_training_bugs",title:"Basic Training",description:"Defeat 25 training bugs to practice your combat skills.",goals:[{type:"kill_bugs",target:"safe",requiredAmount:"25",currentAmount:"0"}],rewards:[{type:"food",value:"tier:1"},{type:"pheromone",value:"tier:1"}],isCompleted:!1,isActive:!1,tier:1},{id:"kill_grasshopper",title:"Grasshopper Hunter",description:"Defeat 15 grasshoppers to protect your colony.",goals:[{type:"kill_bugs",target:"grasshopper",requiredAmount:"15",currentAmount:"0"}],rewards:[{type:"pheromone",value:"tier:2"},{type:"multiplier",value:1.1,target:"global"}],isCompleted:!1,isActive:!1,tier:2},{id:"kill_tarantula",title:"Spider Slayer",description:"Defeat 10 tarantulas to prove your colony's strength.",goals:[{type:"kill_bugs",target:"tarantula",requiredAmount:"10",currentAmount:"0"}],rewards:[{type:"ep",value:"tier:2"},{type:"pheromone",value:"tier:2"}],isCompleted:!1,isActive:!1,tier:2},{id:"kill_beetle",title:"Beetle Buster",description:"Defeat 8 beetles to claim their territory.",goals:[{type:"kill_bugs",target:"beetle",requiredAmount:"8",currentAmount:"0"}],rewards:[{type:"pheromone",value:"tier:2"},{type:"multiplier",value:1.15,target:"soldier"}],isCompleted:!1,isActive:!1,tier:2},{id:"kill_scorpion",title:"Scorpion Subjugator",description:"Defeat 5 scorpions to secure your colony's dominance.",goals:[{type:"kill_bugs",target:"scorpion",requiredAmount:"5",currentAmount:"0"}],rewards:[{type:"ep",value:"tier:3"},{type:"multiplier",value:1.2,target:"global"}],isCompleted:!1,isActive:!1,tier:3},{id:"kill_army_ant",title:"Ant Terminator",description:"Defeat 3 army ants to demonstrate your colony's prowess.",goals:[{type:"kill_bugs",target:"army_ant",requiredAmount:"3",currentAmount:"0"}],rewards:[{type:"pheromone",value:"tier:3"},{type:"ep",value:"tier:3"}],isCompleted:!1,isActive:!1,tier:3},{id:"collect_food_basic",title:"Colony Provisions",description:"Collect 1e10 food to support your growing colony.",goals:[{type:"collect_food",requiredAmount:"1e10",currentAmount:"0"}],rewards:[{type:"multiplier",value:2,target:"worker"},{type:"ep",value:"tier:1"}],isCompleted:!1,isActive:!1,tier:1},{id:"collect_food_intermediate",title:"Winter Storage",description:"Collect 1e15 food to prepare for harsher seasons.",goals:[{type:"collect_food",requiredAmount:"1e15",currentAmount:"0"}],rewards:[{type:"multiplier",value:1.35,target:"food"},{type:"ep",value:"tier:2"}],isCompleted:!1,isActive:!1,tier:2},{id:"collect_food_advanced",title:"Feast Preparation",description:"Collect 1e25 food for a colony-wide celebration.",goals:[{type:"collect_food",requiredAmount:"1e25",currentAmount:"0"}],rewards:[{type:"multiplier",value:1.5,target:"global"},{type:"ep",value:"tier:3"}],isCompleted:!1,isActive:!1,tier:3},{id:"collect_food_expert",title:"Food Empire",description:"Collect 1e40 food to establish your colony as a food powerhouse.",goals:[{type:"collect_food",requiredAmount:"1e40",currentAmount:"0"}],rewards:[{type:"multiplier",value:2,target:"food"},{type:"ep",value:"tier:4"}],isCompleted:!1,isActive:!1,tier:4},{id:"collect_pheromone_basic",title:"Essence Collector",description:"Collect 500 pheromone essence to unlock new mystical powers.",goals:[{type:"collect_pheromone",requiredAmount:"500",currentAmount:"0"}],rewards:[{type:"multiplier",value:1.2,target:"pheromone"}],isCompleted:!1,isActive:!1,tier:1},{id:"collect_pheromone_intermediate",title:"Essence Master",description:"Collect 2,000 pheromone essence to enhance your colony's powers.",goals:[{type:"collect_pheromone",requiredAmount:"2000",currentAmount:"0"}],rewards:[{type:"multiplier",value:1.3,target:"pheromone"},{type:"ep",value:"tier:2"}],isCompleted:!1,isActive:!1,tier:2},{id:"collect_pheromone_advanced",title:"Essence Harvester",description:"Collect 5,000 pheromone essence to reach new heights of power.",goals:[{type:"collect_pheromone",requiredAmount:"5000",currentAmount:"0"}],rewards:[{type:"multiplier",value:1.5,target:"global"},{type:"ep",value:"tier:3"}],isCompleted:!1,isActive:!1,tier:3},{id:"collect_pheromone_expert",title:"Essence Architect",description:"Collect 15,000 pheromone essence to reshape the destiny of your colony.",goals:[{type:"collect_pheromone",requiredAmount:"15000",currentAmount:"0"}],rewards:[{type:"multiplier",value:2,target:"pheromone"},{type:"ep",value:"tier:4"}],isCompleted:!1,isActive:!1,tier:4},{id:"bug_slayer_initiate",title:"Bug Slayer Initiate",description:"Defeat 50 bugs of any type to begin your path as a bug slayer.",goals:[{type:"kill_bugs",requiredAmount:"50",currentAmount:"0"}],rewards:[{type:"food",value:"tier:3"},{type:"pheromone",value:"tier:3"},{type:"multiplier",value:1.5,target:"global"}],isCompleted:!1,isActive:!1,tier:3},{id:"resource_champion",title:"Resource Champion",description:"Collect 5e12 food and 1,000 pheromone essence to prove your mastery of resources.",goals:[{type:"collect_food",requiredAmount:"5e12",currentAmount:"0",description:"Collect 5e12 food"},{type:"collect_pheromone",requiredAmount:"1000",currentAmount:"0",description:"Collect 1,000 pheromone essence"}],rewards:[{type:"multiplier",value:1.5,target:"global"},{type:"ep",value:"tier:4"}],isCompleted:!1,isActive:!1,tier:4},{id:"exterminator_novice",title:"Exterminator Novice",description:"Defeat 100 bugs of any type to begin your career as an exterminator.",goals:[{type:"kill_bugs",requiredAmount:"1e2",currentAmount:"0"}],rewards:[{type:"multiplier",value:1.3,target:"global"},{type:"ep",value:"tier:3"}],isCompleted:!1,isActive:!1,tier:3},{id:"exterminator_adept",title:"Exterminator Adept",description:"Defeat 500 bugs of any type to advance your extermination skills.",goals:[{type:"kill_bugs",requiredAmount:"500",currentAmount:"0"}],rewards:[{type:"multiplier",value:1.4,target:"global"},{type:"ep",value:"tier:4"}],isCompleted:!1,isActive:!1,tier:4},{id:"exterminator_expert",title:"Exterminator Expert",description:"Defeat 2,500 bugs of any type to become a legend among exterminators.",goals:[{type:"kill_bugs",requiredAmount:"2.5e3",currentAmount:"0"}],rewards:[{type:"multiplier",value:2,target:"global"},{type:"ep",value:"tier:4"}],isCompleted:!1,isActive:!1,tier:4},{id:"exterminator_master",title:"Exterminator Master",description:"Defeat 10,000 bugs of any type to achieve mastery in the art of bug hunting.",goals:[{type:"kill_bugs",requiredAmount:"1e4",currentAmount:"0"}],rewards:[{type:"multiplier",value:3,target:"global"},{type:"ep",value:"tier:5"}],isCompleted:!1,isActive:!1,tier:5},{id:"beetle_genocide",title:"Beetle Genocide",description:"Defeat 1,500 beetles to eliminate their threat forever.",goals:[{type:"kill_bugs",target:"beetle",requiredAmount:"1.5e3",currentAmount:"0"}],rewards:[{type:"multiplier",value:2.5,target:"soldier"},{type:"ep",value:"tier:4"}],isCompleted:!1,isActive:!1,tier:4},{id:"scorpion_slaughter",title:"Scorpion Slaughter",description:"Defeat 750 scorpions to eliminate their threat.",goals:[{type:"kill_bugs",target:"scorpion",requiredAmount:"750",currentAmount:"0"}],rewards:[{type:"multiplier",value:2.75,target:"global"},{type:"ep",value:"tier:4"}],isCompleted:!1,isActive:!1,tier:4},{id:"tarantula_terror",title:"Tarantula Terror",description:"Defeat 1,000 tarantulas to free the colony from fear.",goals:[{type:"kill_bugs",target:"tarantula",requiredAmount:"1e3",currentAmount:"0"}],rewards:[{type:"multiplier",value:3.25,target:"soldier"},{type:"ep",value:"tier:5"}],isCompleted:!1,isActive:!1,tier:5},{id:"army_ant_annihilation",title:"Army Ant Annihilation",description:"Defeat 500 army ants to prove your colony's supremacy.",goals:[{type:"kill_bugs",target:"army_ant",requiredAmount:"500",currentAmount:"0"}],rewards:[{type:"multiplier",value:3.5,target:"global"},{type:"ep",value:"tier:5"}],isCompleted:!1,isActive:!1,tier:5},{id:"food_tycoon",title:"Food Tycoon",description:"Collect 1e60 food to become a food industry mogul.",goals:[{type:"collect_food",requiredAmount:"1e60",currentAmount:"0"}],rewards:[{type:"multiplier",value:5,target:"food"},{type:"ep",value:"tier:3"}],isCompleted:!1,isActive:!1,tier:3},{id:"food_billionaire",title:"Food Billionaire",description:"Collect 1e100 food to join the elite of food collectors.",goals:[{type:"collect_food",requiredAmount:"1e100",currentAmount:"0"}],rewards:[{type:"multiplier",value:10,target:"food"},{type:"ep",value:"tier:4"}],isCompleted:!1,isActive:!1,tier:4},{id:"food_trillionaire",title:"Food Trillionaire",description:"Collect 1e200 food to become a legend among food collectors.",goals:[{type:"collect_food",requiredAmount:"1e200",currentAmount:"0"}],rewards:[{type:"multiplier",value:25,target:"food"},{type:"ep",value:"tier:5"}],isCompleted:!1,isActive:!1,tier:5},{id:"essence_virtuoso",title:"Essence Virtuoso",description:"Collect 100,000 pheromone essence to master the mystical arts.",goals:[{type:"collect_pheromone",requiredAmount:"1e5",currentAmount:"0"}],rewards:[{type:"multiplier",value:5,target:"pheromone"},{type:"ep",value:"tier:3"}],isCompleted:!1,isActive:!1,tier:3},{id:"essence_grandmaster",title:"Essence Grandmaster",description:"Collect 1,000,000 pheromone essence to achieve grandmaster status.",goals:[{type:"collect_pheromone",requiredAmount:"1e6",currentAmount:"0"}],rewards:[{type:"multiplier",value:10,target:"pheromone"},{type:"ep",value:"tier:4"}],isCompleted:!1,isActive:!1,tier:4},{id:"essence_transcendent",title:"Essence Transcendent",description:"Collect 10,000,000 pheromone essence to transcend mortal limitations.",goals:[{type:"collect_pheromone",requiredAmount:"1e7",currentAmount:"0"}],rewards:[{type:"multiplier",value:25,target:"pheromone"},{type:"ep",value:"tier:5"}],isCompleted:!1,isActive:!1,tier:5},{id:"supreme_resource_master",title:"Supreme Resource Master",description:"Collect 5e50 food and 100,000 pheromone essence simultaneously.",goals:[{type:"collect_food",requiredAmount:"5e50",currentAmount:"0",description:"Collect 5e50 food"},{type:"collect_pheromone",requiredAmount:"1e5",currentAmount:"0",description:"Collect 100,000 pheromone essence"}],rewards:[{type:"multiplier",value:5,target:"global"},{type:"ep",value:"tier:4"}],isCompleted:!1,isActive:!1,tier:4},{id:"universal_harvester",title:"Universal Harvester",description:"Collect 5e80 food and 1,000,000 pheromone essence simultaneously.",goals:[{type:"collect_food",requiredAmount:"5e80",currentAmount:"0",description:"Collect 5e80 food"},{type:"collect_pheromone",requiredAmount:"1e6",currentAmount:"0",description:"Collect 1,000,000 pheromone essence"}],rewards:[{type:"multiplier",value:10,target:"global"},{type:"ep",value:"tier:5"}],isCompleted:!1,isActive:!1,tier:5},{id:"extreme_bug_hunter",title:"Extreme Bug Hunter",description:"Defeat a total of 50,000 bugs of any type to become the ultimate predator.",goals:[{type:"kill_bugs",requiredAmount:"5e4",currentAmount:"0"}],rewards:[{type:"multiplier",value:50,target:"global"},{type:"ep",value:"tier:5"},{type:"food",value:"tier:5"},{type:"pheromone",value:"tier:5"}],isCompleted:!1,isActive:!1,tier:5},{id:"quantum_beetle_hunter",title:"Quantum Beetle Hunter",description:"Defeat 100 quantum beetles to harness their reality-bending power.",goals:[{type:"kill_bugs",target:"quantum_beetle",requiredAmount:"1e2",currentAmount:"0"}],rewards:[{type:"multiplier",value:100,target:"global"},{type:"ep",value:"tier:5"}],isCompleted:!1,isActive:!1,tier:5},{id:"galactic_moth_hunter",title:"Galactic Moth Hunter",description:"Defeat 250 galactic moths to harness their cosmic energy.",goals:[{type:"kill_bugs",target:"galactic_moth",requiredAmount:"2.5e2",currentAmount:"0"}],rewards:[{type:"multiplier",value:75,target:"global"},{type:"ep",value:"tier:5"}],isCompleted:!1,isActive:!1,tier:5},{id:"endless_ant_swarm_challenge",title:"Endless Swarm Challenge",description:"Defeat 500 endless ant swarms to claim ultimate hive dominance.",goals:[{type:"kill_bugs",target:"endless_ant_swarms",requiredAmount:"5e2",currentAmount:"0"}],rewards:[{type:"multiplier",value:125,target:"global"},{type:"ep",value:"tier:5"}],isCompleted:!1,isActive:!1,tier:5},{id:"cosmic_food_harvester",title:"Cosmic Food Harvester",description:"Collect 1e1000 food to feed the entire universe.",goals:[{type:"collect_food",requiredAmount:"1e1000",currentAmount:"0"}],rewards:[{type:"multiplier",value:1e3,target:"food"},{type:"ep",value:"tier:5"}],isCompleted:!1,isActive:!1,tier:5},{id:"pheromone_transcendence",title:"Pheromone Transcendence",description:"Collect 1e15 pheromone essence to unlock the secrets of the universe.",goals:[{type:"collect_pheromone",requiredAmount:"1e15",currentAmount:"0"}],rewards:[{type:"multiplier",value:1e3,target:"pheromone"},{type:"ep",value:"tier:5"}],isCompleted:!1,isActive:!1,tier:5},{id:"ladybug_hunt",title:"Ladybug Hunt",description:"Defeat 20 ladybugs to protect your territory.",goals:[{type:"kill_bugs",target:"ladybug",requiredAmount:"20",currentAmount:"0"}],rewards:[{type:"food",value:"tier:2"},{type:"multiplier",value:1.2,target:"global"}],isCompleted:!1,isActive:!1,tier:2},{id:"housefly_swatter",title:"Fly Swatter",description:"Defeat 30 houseflies to stop them from buzzing around your colony.",goals:[{type:"kill_bugs",target:"housefly",requiredAmount:"30",currentAmount:"0"}],rewards:[{type:"pheromone",value:"tier:2"},{type:"ep",value:"tier:2"}],isCompleted:!1,isActive:!1,tier:2},{id:"mosquito_massacre",title:"Mosquito Massacre",description:"Defeat 40 mosquitoes to prevent them from stealing your resources.",goals:[{type:"kill_bugs",target:"mosquito",requiredAmount:"40",currentAmount:"0"}],rewards:[{type:"food",value:"tier:2"},{type:"multiplier",value:1.3,target:"worker"}],isCompleted:!1,isActive:!1,tier:2},{id:"cockroach_crusher",title:"Cockroach Crusher",description:"Defeat 25 cockroaches to clear them from your territory.",goals:[{type:"kill_bugs",target:"cockroach",requiredAmount:"25",currentAmount:"0"}],rewards:[{type:"ep",value:"tier:3"},{type:"multiplier",value:1.25,target:"soldier"}],isCompleted:!1,isActive:!1,tier:3},{id:"fire_ant_extinguisher",title:"Fire Ant Extinguisher",description:"Defeat 20 fire ants to protect your colony from their burning attacks.",goals:[{type:"kill_bugs",target:"fire_ant",requiredAmount:"20",currentAmount:"0"}],rewards:[{type:"pheromone",value:"tier:3"},{type:"multiplier",value:1.35,target:"global"}],isCompleted:!1,isActive:!1,tier:3},{id:"termite_terminator",title:"Termite Terminator",description:"Defeat 35 termites to prevent them from destroying your colony's structures.",goals:[{type:"kill_bugs",target:"termite",requiredAmount:"35",currentAmount:"0"}],rewards:[{type:"food",value:"tier:3"},{type:"ep",value:"tier:3"}],isCompleted:!1,isActive:!1,tier:3},{id:"wasp_warrior",title:"Wasp Warrior",description:"Defeat 15 wasps to eliminate their aggressive presence.",goals:[{type:"kill_bugs",target:"wasp",requiredAmount:"15",currentAmount:"0"}],rewards:[{type:"pheromone",value:"tier:3"},{type:"multiplier",value:1.4,target:"soldier"}],isCompleted:!1,isActive:!1,tier:3},{id:"giant_moth_hunter",title:"Moth Hunter",description:"Defeat 10 giant moths to prevent them from damaging your resources.",goals:[{type:"kill_bugs",target:"giant_moth",requiredAmount:"10",currentAmount:"0"}],rewards:[{type:"ep",value:"tier:4"},{type:"multiplier",value:1.5,target:"global"}],isCompleted:!1,isActive:!1,tier:4},{id:"giant_stag_beetle_hunter",title:"Stag Beetle Hunter",description:"Defeat 12 giant stag beetles to claim their powerful mandibles.",goals:[{type:"kill_bugs",target:"giant_stag_beetle",requiredAmount:"12",currentAmount:"0"}],rewards:[{type:"food",value:"tier:4"},{type:"pheromone",value:"tier:4"}],isCompleted:!1,isActive:!1,tier:4},{id:"stag_beetle_swarm_survivor",title:"Swarm Survivor",description:"Survive and defeat 5 stag beetle swarms.",goals:[{type:"kill_bugs",target:"stag_beetle_swarm",requiredAmount:"5",currentAmount:"0"}],rewards:[{type:"ep",value:"tier:4"},{type:"multiplier",value:2,target:"global"}],isCompleted:!1,isActive:!1,tier:4},{id:"mutant_fly_dissector",title:"Mutant Fly Dissector",description:"Defeat 8 mutant flies to study their genetic mutations.",goals:[{type:"kill_bugs",target:"mutant_fly",requiredAmount:"8",currentAmount:"0"}],rewards:[{type:"pheromone",value:"tier:4"},{type:"multiplier",value:2.25,target:"worker"}],isCompleted:!1,isActive:!1,tier:4},{id:"giant_firefly_hunter",title:"Firefly Hunter",description:"Defeat 7 giant fireflies to capture their luminous essence.",goals:[{type:"kill_bugs",target:"giant_firefly",requiredAmount:"7",currentAmount:"0"}],rewards:[{type:"ep",value:"tier:4"},{type:"multiplier",value:2.5,target:"global"}],isCompleted:!1,isActive:!1,tier:4},{id:"ultra_beetle_challenge",title:"Ultra Beetle Challenge",description:"Defeat 4 ultra beetles to prove your colony's ultimate strength.",goals:[{type:"kill_bugs",target:"ultra_beetle",requiredAmount:"4",currentAmount:"0"}],rewards:[{type:"food",value:"tier:5"},{type:"multiplier",value:3,target:"soldier"}],isCompleted:!1,isActive:!1,tier:5},{id:"queen_wasp_regicide",title:"Wasp Regicide",description:"Defeat 3 queen wasps to destroy the leadership of the wasp colonies.",goals:[{type:"kill_bugs",target:"queen_wasp",requiredAmount:"3",currentAmount:"0"}],rewards:[{type:"ep",value:"tier:5"},{type:"multiplier",value:4,target:"global"}],isCompleted:!1,isActive:!1,tier:5},{id:"colossal_cockroach_conqueror",title:"Colossal Conqueror",description:"Defeat 2 colossal cockroaches to prove that nothing is too big to squash.",goals:[{type:"kill_bugs",target:"colossal_cockroach",requiredAmount:"2",currentAmount:"0"}],rewards:[{type:"pheromone",value:"tier:5"},{type:"multiplier",value:5,target:"global"}],isCompleted:!1,isActive:!1,tier:5},{id:"apocalyptic_termites_defender",title:"Apocalypse Defender",description:"Defend your colony by defeating 2 swarms of apocalyptic termites.",goals:[{type:"kill_bugs",target:"apocalyptic_termites",requiredAmount:"2",currentAmount:"0"}],rewards:[{type:"ep",value:"tier:5"},{type:"multiplier",value:8,target:"global"}],isCompleted:!1,isActive:!1,tier:5},{id:"radioactive_spider_hunter",title:"Radioactive Hunter",description:"Defeat 3 radioactive spiders without getting any genetic mutations.",goals:[{type:"kill_bugs",target:"radioactive_spider",requiredAmount:"3",currentAmount:"0"}],rewards:[{type:"pheromone",value:"tier:5"},{type:"multiplier",value:10,target:"soldier"}],isCompleted:!1,isActive:!1,tier:5},{id:"ant_queen_guardian_challenge",title:"Queen's Guardian Challenge",description:"Defeat 2 ant queen guardians to assert your colony's dominance.",goals:[{type:"kill_bugs",target:"ant_queen_guardian",requiredAmount:"2",currentAmount:"0"}],rewards:[{type:"ep",value:"tier:5"},{type:"multiplier",value:15,target:"global"}],isCompleted:!1,isActive:!1,tier:5},{id:"swarm_lord_subjugator",title:"Swarm Subjugator",description:"Defeat a swarm lord to become the undisputed ruler of all insect swarms.",goals:[{type:"kill_bugs",target:"swarm_lord",requiredAmount:"1",currentAmount:"0"}],rewards:[{type:"pheromone",value:"tier:5"},{type:"multiplier",value:20,target:"global"}],isCompleted:!1,isActive:!1,tier:5},{id:"ant_legion_commander_defeat",title:"Legion Commander Defeat",description:"Defeat an ant legion commander to disrupt the enemy's military structure.",goals:[{type:"kill_bugs",target:"ant_legion_commander",requiredAmount:"1",currentAmount:"0"}],rewards:[{type:"ep",value:"tier:5"},{type:"multiplier",value:30,target:"global"}],isCompleted:!1,isActive:!1,tier:5},{id:"ant_tactician_challenge",title:"Tactician's Challenge",description:"Outmaneuver and defeat an ant tactician in a battle of wits and strength.",goals:[{type:"kill_bugs",target:"ant_tactician",requiredAmount:"1",currentAmount:"0"}],rewards:[{type:"pheromone",value:"tier:5"},{type:"multiplier",value:40,target:"soldier"}],isCompleted:!1,isActive:!1,tier:5},{id:"ant_scout_master_tracker",title:"Scout Master Tracker",description:"Track down and defeat the elusive ant scout master.",goals:[{type:"kill_bugs",target:"ant_scout_master",requiredAmount:"1",currentAmount:"0"}],rewards:[{type:"ep",value:"tier:5"},{type:"multiplier",value:50,target:"global"}],isCompleted:!1,isActive:!1,tier:5},{id:"ant_training_master_graduate",title:"Training Master Graduate",description:"Prove yourself by defeating the ant training master in combat.",goals:[{type:"kill_bugs",target:"ant_training_master",requiredAmount:"1",currentAmount:"0"}],rewards:[{type:"food",value:"tier:5"},{type:"pheromone",value:"tier:5"},{type:"multiplier",value:100,target:"global"},{type:"ep",value:"tier:5"}],isCompleted:!1,isActive:!1,tier:5},{id:"flying_bugs_hunter",title:"Flying Bug Hunter",description:"Defeat a variety of flying bugs to clear the skies.",goals:[{type:"kill_bugs",target:"housefly",requiredAmount:"10",currentAmount:"0",description:"Defeat 10 houseflies"},{type:"kill_bugs",target:"mosquito",requiredAmount:"10",currentAmount:"0",description:"Defeat 10 mosquitoes"},{type:"kill_bugs",target:"wasp",requiredAmount:"5",currentAmount:"0",description:"Defeat 5 wasps"}],rewards:[{type:"multiplier",value:2,target:"soldier"},{type:"ep",value:"tier:3"}],isCompleted:!1,isActive:!1,tier:3},{id:"beetle_variety_collection",title:"Beetle Variety Collection",description:"Collect a variety of beetle specimens for your colony's study.",goals:[{type:"kill_bugs",target:"beetle",requiredAmount:"5",currentAmount:"0",description:"Defeat 5 beetles"},{type:"kill_bugs",target:"giant_stag_beetle",requiredAmount:"3",currentAmount:"0",description:"Defeat 3 giant stag beetles"},{type:"kill_bugs",target:"ultra_beetle",requiredAmount:"1",currentAmount:"0",description:"Defeat 1 ultra beetle"}],rewards:[{type:"pheromone",value:"tier:4"},{type:"multiplier",value:2.5,target:"global"}],isCompleted:!1,isActive:!1,tier:4},{id:"ant_hierarchy_challenge",title:"Ant Hierarchy Challenge",description:"Challenge the ant hierarchy by defeating members at each level.",goals:[{type:"kill_bugs",target:"worker",requiredAmount:"20",currentAmount:"0",description:"Defeat 20 worker ants"},{type:"kill_bugs",target:"soldier",requiredAmount:"10",currentAmount:"0",description:"Defeat 10 soldier ants"},{type:"kill_bugs",target:"army_ant",requiredAmount:"5",currentAmount:"0",description:"Defeat 5 army ants"}],rewards:[{type:"food",value:"tier:4"},{type:"ep",value:"tier:4"},{type:"multiplier",value:3,target:"global"}],isCompleted:!1,isActive:!1,tier:4}],Rv="idle-ant-farm-quest-completion-percent",Vs=W(65);try{const t=localStorage.getItem(Rv);t&&(Vs.value=parseInt(t,10))}catch(t){console.error("Error loading quest requirement from localStorage:",t)}function V0(){const t=Vt(),e=R(()=>G0.length),s=R(()=>t.completedQuests.length),o=R(()=>e.value===0?0:s.value/e.value*100),n=R(()=>o.value>=Vs.value),i=R(()=>{if(n.value)return"";const l=Math.ceil(e.value*Vs.value/100),c=l-s.value;return`Complete ${c} more quest${c!==1?"s":""} to unlock Ascension (${s.value}/${l} required)`});return We(Vs,l=>{try{localStorage.setItem(Rv,l.toString())}catch(c){console.error("Error saving quest requirement to localStorage:",c)}}),{totalQuests:e,completedQuestsCount:s,questCompletionPercentage:o,requiredQuestCompletionPercent:Vs,canAscend:n,ascensionLockExplanation:i}}var as=(t=>(t.STOMACH_CAPACITY="stomachCapacity",t.DECAY_RATE="decayRate",t.EFFICIENCY="efficiency",t.PHEROMONE_STOMACH_CAPACITY="pheromoneStomachCapacity",t.PHEROMONE_DECAY_RATE="pheromoneDecayRate",t.PHEROMONE_EFFICIENCY="pheromoneEfficiency",t))(as||{}),Rs=(t=>(t.EP_BOOST="epBoost",t.PHEROMONE_BOOST="pheromoneBoost",t.GLOBAL_PRODUCTION="globalProduction",t))(Rs||{});const W2=t=>typeof t=="boolean"?t?"Unlocked":"Locked":`${t.toFixed(2)}x multiplier`,Y2=t=>typeof t=="boolean"&&t?"Unlocked":"Locked",K2=t=>typeof t=="boolean"?t?"Unlocked":"Locked":`+${t} units`,wt=(t,e,s)=>{let o="";switch(s==="multiplicative_increase"?o=W2(e):s==="additive"?o=K2(e):s==="unlock"&&(o=Y2(e)),t){case"megaAntXpGain":return`${o} to Mega Ant XP gain`;case"colonyXpGain":return`${o} to Colony XP gain`;case"baseStomachCapacity":return`${o} to Mega Ant stomach capacity`;case"pheromoneStomachCapacity":return`${o} to pheromone stomach capacity`;case"decayRate":return`${o} to food digestion rate`;case"pheromoneDecayRate":return`${o} to pheromone digestion rate`;case"megaAntEfficiency":return`${o} to food XP conversion efficiency`;case"pheromoneEfficiency":return`${o} to pheromone XP conversion efficiency`;case"colonyUpgradePower":return`${o} to all Colony upgrade effects`;case"epGain":return`${o} to all Evolution Point gains`;case"pheromoneGain":return`${o} to all Pheromone Essence gains`;case"globalProduction":return`${o} to all resource production`;case"upgradeCostReduction":return`${o} to all upgrade costs`;case"offlineProgressRate":return`${o} to offline progress speed`;case"worker":return`${o} to Worker Ant production`;case"nursery":return`${o} to Nursery production`;case"queenChamber":return`${o} to Queen Chamber production`;case"colony":return`${o} to Colony production`;case"megacolony":return`${o} to Mega Colony production`;case"hivemind":return`${o} to Hive Mind production`;case"antopolis":return`${o} to Antopolis production`;case"alateHatchery":return`${o} to Alate Hatchery production`;default:return o}},Mr=[{id:"core_potential",name:"Ascension Potential",description:"The foundation of your ascension journey, unlocking the ability to harness Ascension Power.",cost:0,prerequisites:[],effects:[{target:"unlockAscensionTree",effectMethod:"unlock",value:!0,formatEffect:t=>wt("unlockAscensionTree",t,"unlock")}],category:"core",icon:"i-heroicons-star",position:{row:1,col:3}},{id:"mega_ant_path",name:"Mega Ant Evolution",description:"Begin the path of enhancing your Mega Ant's capabilities.",cost:1,prerequisites:["core_potential"],effects:[{target:"megaAntXpGain",effectMethod:"multiplicative_increase",value:1.25,formatEffect:t=>wt("megaAntXpGain",t,"multiplicative_increase"),category:"megaAnt"}],category:"megaAnt",icon:"i-mdi-bug",position:{row:2,col:2}},{id:"colony_path",name:"Colony Enhancement",description:"Begin the path of enhancing your Colony's capabilities.",cost:1,prerequisites:["core_potential"],effects:[{target:"colonyXpGain",effectMethod:"multiplicative_increase",value:1.25,formatEffect:t=>wt("colonyXpGain",t,"multiplicative_increase"),category:"colony"}],category:"colony",icon:"i-mdi-antenna",position:{row:2,col:4}},{id:"enhanced_digestion",name:"Enhanced Digestion",description:"Permanently increases the base stomach capacity of your Mega Ant.",cost:2,prerequisites:["mega_ant_path"],effects:[{target:"baseStomachCapacity",effectMethod:"additive",value:200,formatEffect:t=>wt("baseStomachCapacity",t,"additive"),category:"megaAnt"}],category:"megaAnt",icon:"i-mdi-stomach",position:{row:3,col:1}},{id:"efficient_metabolism",name:"Efficient Metabolism",description:"Permanently increases the efficiency of converting food to experience.",cost:3,prerequisites:["mega_ant_path"],effects:[{target:"megaAntEfficiency",effectMethod:"multiplicative_increase",value:3,formatEffect:t=>wt("megaAntEfficiency",t,"multiplicative_increase"),category:"megaAnt"}],category:"megaAnt",icon:"i-mdi-speedometer",position:{row:3,col:2}},{id:"colony_synergy",name:"Colony Synergy",description:"Increases the effectiveness of all Colony upgrades.",cost:3,prerequisites:["colony_path"],effects:[{target:"colonyUpgradePower",effectMethod:"multiplicative_increase",value:2.5,formatEffect:t=>wt("colonyUpgradePower",t,"multiplicative_increase"),category:"colony"}],category:"colony",icon:"i-mdi-math-integral",position:{row:3,col:4}},{id:"pheromone_potency",name:"Pheromone Potency",description:"Enhances the potency of pheromones, increasing true stomach capacity.",cost:2,prerequisites:["colony_path"],effects:[{target:"pheromoneStomachCapacity",effectMethod:"additive",value:35,formatEffect:t=>wt("pheromoneStomachCapacity",t,"additive"),category:"colony"}],category:"colony",icon:"i-mdi-flask",position:{row:3,col:5}},{id:"worker_efficiency",name:"Worker Efficiency",description:"Massively enhances the production of all Worker Ants in your colony by 100x.",cost:3,prerequisites:["enhanced_digestion"],effects:[{target:"worker",effectMethod:"multiplicative_increase",value:100,formatEffect:t=>wt("worker",t,"multiplicative_increase"),category:"production"}],category:"production",icon:"i-mdi-robot",position:{row:4,col:1}},{id:"resource_mastery",name:"Resource Mastery",description:"Combines Mega Ant and Colony knowledge to enhance resource production by 10x.",cost:5,prerequisites:["efficient_metabolism","colony_synergy"],effects:[{target:"globalProduction",effectMethod:"multiplicative_increase",value:10,formatEffect:t=>wt("globalProduction",t,"multiplicative_increase"),category:"resource"}],category:"resource",icon:"i-mdi-database",position:{row:4,col:3}},{id:"queen_chamber_boost",name:"Queen Chamber Enhancement",description:"Massively boosts the productivity of Queen Chambers by 100x.",cost:3,prerequisites:["pheromone_potency"],effects:[{target:"queenChamber",effectMethod:"multiplicative_increase",value:100,formatEffect:t=>wt("queenChamber",t,"multiplicative_increase"),category:"production"}],category:"production",icon:"i-mdi-crown",position:{row:4,col:5}},{id:"nursery_boost",name:"Nursery Improvement",description:"Massively enhances the capabilities of your Nurseries to produce 100x more ants.",cost:5,prerequisites:["worker_efficiency"],effects:[{target:"nursery",effectMethod:"multiplicative_increase",value:100,formatEffect:t=>wt("nursery",t,"multiplicative_increase"),category:"production"}],category:"production",icon:"i-mdi-baby-carriage",position:{row:5,col:1}},{id:"decay_perfection",name:"Digestive Perfection",description:"Significantly increases food decay rate for more efficient digestion.",cost:8,prerequisites:["enhanced_digestion","resource_mastery"],effects:[{target:"decayRate",effectMethod:"multiplicative_increase",value:5,formatEffect:t=>wt("decayRate",t,"multiplicative_increase"),category:"megaAnt"}],category:"megaAnt",icon:"i-mdi-timer-sand",position:{row:5,col:2}},{id:"evolution_catalyst",name:"Evolution Catalyst",description:"Increases all Evolution Point gains permanently.",cost:8,prerequisites:["resource_mastery","pheromone_potency"],effects:[{target:"epGain",effectMethod:"multiplicative_increase",value:5,formatEffect:t=>wt("epGain",t,"multiplicative_increase"),category:"resource"}],category:"resource",icon:"i-mdi-dna",position:{row:5,col:4}},{id:"advanced_colonies",name:"Advanced Colony Types",description:"Greatly enhances the production of more advanced colony structures.",cost:8,prerequisites:["queen_chamber_boost"],effects:[{target:"colony",effectMethod:"multiplicative_increase",value:50,formatEffect:t=>wt("colony",t,"multiplicative_increase"),category:"production"},{target:"megacolony",effectMethod:"multiplicative_increase",value:25,formatEffect:t=>wt("megacolony",t,"multiplicative_increase"),category:"production"}],category:"production",icon:"i-mdi-city",position:{row:5,col:5}},{id:"intuitive_upgrading",name:"Intuitive Upgrading",description:"Reduces the cost of all Mega Ant and Colony upgrades.",cost:12,prerequisites:["decay_perfection"],effects:[{target:"upgradeCostReduction",effectMethod:"multiplicative_increase",value:.6,formatEffect:t=>wt("upgradeCostReduction",t,"multiplicative_increase"),category:"qol"}],category:"qol",icon:"i-mdi-currency-usd-off",position:{row:6,col:1}},{id:"perpetual_progress",name:"Perpetual Progress",description:"Increases your idle production even when offline.",cost:12,prerequisites:["evolution_catalyst"],effects:[{target:"offlineProgressRate",effectMethod:"multiplicative_increase",value:3,formatEffect:t=>wt("offlineProgressRate",t,"multiplicative_increase"),category:"qol"}],category:"qol",icon:"i-mdi-clock-time-eight",position:{row:6,col:5}},{id:"essence_harmony",name:"Essence Harmony",description:"Creates harmony between Mega Ant and Colony systems, empowering both simultaneously.",cost:15,prerequisites:["decay_perfection","evolution_catalyst"],effects:[{target:"pheromoneGain",effectMethod:"multiplicative_increase",value:4,formatEffect:t=>wt("pheromoneGain",t,"multiplicative_increase"),category:"resource"},{target:"megaAntEfficiency",effectMethod:"multiplicative_increase",value:3,formatEffect:t=>wt("megaAntEfficiency",t,"multiplicative_increase"),category:"megaAnt"},{target:"colonyEfficiency",effectMethod:"multiplicative_increase",value:3,formatEffect:t=>wt("colonyEfficiency",t,"multiplicative_increase"),category:"colony"}],category:"core",icon:"i-mdi-power",position:{row:6,col:3}},{id:"hivemind_connection",name:"Hivemind Connection",description:"Enhances the synergy between all colony structures, dramatically boosting Hivemind production.",cost:18,prerequisites:["advanced_colonies","essence_harmony"],effects:[{target:"hivemind",effectMethod:"multiplicative_increase",value:100,formatEffect:t=>wt("hivemind",t,"multiplicative_increase"),category:"production"},{target:"antopolis",effectMethod:"multiplicative_increase",value:50,formatEffect:t=>wt("antopolis",t,"multiplicative_increase"),category:"production"}],category:"production",icon:"i-mdi-brain",position:{row:7,col:5}},{id:"alate_breeding",name:"Alate Breeding Program",description:"Massively enhances the productivity of Alate Hatcheries for royal ant production.",cost:18,prerequisites:["nursery_boost","essence_harmony"],effects:[{target:"alateHatchery",effectMethod:"multiplicative_increase",value:100,formatEffect:t=>wt("alateHatchery",t,"multiplicative_increase"),category:"production"}],category:"production",icon:"i-mdi-butterfly",position:{row:7,col:1}},{id:"ascended_potential",name:"Ascended Potential",description:"Unleashes the full potential of your ascended being, tremendously boosting all production.",cost:25,prerequisites:["essence_harmony","intuitive_upgrading","perpetual_progress"],effects:[{target:"globalProduction",effectMethod:"multiplicative_increase",value:100,formatEffect:t=>wt("globalProduction",t,"multiplicative_increase"),category:"core"},{target:"epGain",effectMethod:"multiplicative_increase",value:50,formatEffect:t=>wt("epGain",t,"multiplicative_increase"),category:"resource"},{target:"pheromoneGain",effectMethod:"multiplicative_increase",value:50,formatEffect:t=>wt("pheromoneGain",t,"multiplicative_increase"),category:"resource"}],category:"core",icon:"i-mdi-star-four-points",position:{row:7,col:3}},{id:"colony_transcendence",name:"Colony Transcendence",description:"The ultimate evolutionary leap - your colony transcends its physical limitations.",cost:50,prerequisites:["ascended_potential","hivemind_connection","alate_breeding"],effects:[{target:"globalProduction",effectMethod:"multiplicative_increase",value:2e3,formatEffect:t=>wt("globalProduction",t,"multiplicative_increase"),category:"core"},{target:"epGain",effectMethod:"multiplicative_increase",value:200,formatEffect:t=>wt("epGain",t,"multiplicative_increase"),category:"resource"},{target:"pheromoneGain",effectMethod:"multiplicative_increase",value:200,formatEffect:t=>wt("pheromoneGain",t,"multiplicative_increase"),category:"resource"},{target:"offlineProgressRate",effectMethod:"multiplicative_increase",value:20,formatEffect:t=>wt("offlineProgressRate",t,"multiplicative_increase"),category:"qol"}],category:"core",icon:"i-mdi-creation",position:{row:8,col:3}}],gt=Ft("megaAnt",()=>{const t=ct();As();const e=Vt(),s=vt(),o=os(),n=W(a(1)),i=W(a(0)),l=W(a(1)),c=W(a(0)),d=W(Date.now()),u=W(0),m=W(0),p=W(0),y=W(a(0)),v=W(!0),S=W(new Map(Mr.map(xe=>[xe.id,xe]))),_=W(new Set(["core_potential"])),C=W(!0),x=W(!0),$=W(0),A=10,M=a(100),P=a(1),L=a(50),B=a(.5),k=W(a(0)),I=W(Date.now()),N=W([]),U=W(a(0)),j=W(Date.now()),ee=W([]),ne=W([{id:"stomachCapacity",name:"Digestive Capacity",description:"Increase the maximum amount of food and pheromone essence your Mega Ant can store in both stomachs.",baseValue:M,level:0,costPerLevel:1,getEffectValue:xe=>M.add(a(xe).mul(50))},{id:"decayRate",name:"Digestive Speed",description:"Increase how quickly your Mega Ant processes both food and pheromone essence.",baseValue:P,level:0,maxLevel:10,costPerLevel:1,getEffectValue:xe=>P.add(a(xe).mul(.4))},{id:"efficiency",name:"Digestive Efficiency",description:"Increase how much experience your Mega Ant gains from both food and pheromone essence digestion.",baseValue:a(1),level:0,costPerLevel:1,getEffectValue:xe=>a(1).add(a(xe).mul(.5))}]),oe=W([{id:"epBoost",name:"Evolution Synergy",description:"The colony's knowledge enhances your evolutionary progress, increasing EP gain. Each evolution increases the effectiveness of this upgrade by 10%.",target:"ep",level:0,costPerLevel:1,getMultiplier:xe=>{const Te=1+xe*.15,je=t.evolutionCount.toNumber();return Te*(1+je*.2)},formatEffect:xe=>`${(xe*100).toFixed(0)}% EP gain`},{id:"pheromoneBoost",name:"Pheromone Enhancement",description:"The colony specializes in pheromone production, increasing pheromone essence gain. Each evolution increases the effectiveness of this upgrade by 10%.",target:"pheromone",level:0,costPerLevel:1,getMultiplier:xe=>{const Te=1+xe*.25,je=t.evolutionCount.toNumber();return Te*(1+je*.2)},formatEffect:xe=>`${(xe*100).toFixed(0)}% pheromone gain`},{id:"globalProduction",name:"Colony Coordination",description:"The colony helps coordinate all ant activities, increasing global production. Each evolution increases the effectiveness of this upgrade by 10%.",target:"global",level:0,costPerLevel:1,getMultiplier:xe=>{const Te=1+xe*.15,je=t.evolutionCount.toNumber();return Te*(1+je*.2)},formatEffect:xe=>`${(xe*100).toFixed(0)}% global production`}]),O=R(()=>Math.max(0,n.value.toNumber()-1-u.value)),Y=R(()=>Math.max(0,l.value.toNumber()-1-m.value)),G=xe=>ne.value.find(Te=>Te.id===xe),de=xe=>oe.value.find(Te=>Te.id===xe),re=R(()=>{const xe=G("stomachCapacity");return xe?xe.getEffectValue(xe.level).div(xe.baseValue):a(1)}),he=R(()=>{const xe=G("decayRate");return xe?xe.getEffectValue(xe.level).div(xe.baseValue):a(1)}),ve=R(()=>{const xe=G("efficiency"),Te=xe?xe.getEffectValue(xe.level).div(xe.baseValue):a(1),je=us("megaAntEfficiency");return Te.mul(a(1).add(je))}),Se=R(()=>{const xe=G("stomachCapacity");if(!xe)return a(1);const Te=a(30);return L.add(a(xe.level).mul(Te)).div(L)}),Me=R(()=>{const xe=G("decayRate");if(!xe)return a(1);const Te=a(.3);return B.add(a(xe.level).mul(Te)).div(B)}),Oe=R(()=>ve.value),He=xe=>{const Te=de(xe);return!Te||Te.maxLevel&&Te.level>=Te.maxLevel||Y.value<Te.costPerLevel?!1:(Te.level++,m.value+=Te.costPerLevel,!0)},we=xe=>{const Te=de(xe);return Te?Te.maxLevel?Te.level<Te.maxLevel&&Y.value>=Te.costPerLevel:Y.value>=Te.costPerLevel:!1},_e=xe=>{const Te=de(xe);return Te&&Te.maxLevel?Te.level>=Te.maxLevel:!1},pe=xe=>{let Te=1;for(const je of oe.value)je.target===xe&&je.level>0&&(Te*=je.getMultiplier(je.level));return["global","ep","pheromone"].includes(xe)&&p.value>0&&(Te=a(Te).mul(z.value).toNumber()),Te},me=xe=>{const Te=de(xe);return Te?Te.formatEffect(Te.getMultiplier(Te.level)):"0%"},le=R(()=>t.getUpgradeCount("unlockMegaAnt").gt(0)),z=R(()=>a(1).add(a(p.value).mul(.5))),K=R(()=>a(100).mul(a(1.5).pow(n.value.minus(1)))),H=R(()=>a(75).mul(a(1.4).pow(l.value.minus(1)))),T=R(()=>i.value.gte(K.value)?100:i.value.div(K.value).mul(100).toNumber()),D=R(()=>c.value.gte(H.value)?100:c.value.div(H.value).mul(100).toNumber()),X=R(()=>{const xe=us("baseStomachCapacity");return M.add(xe).mul(re.value)}),ae=R(()=>{const xe=us("decayRate");return P.mul(he.value).mul(xe)}),ue=R(()=>k.value.div(X.value).mul(100).toNumber()),ke=R(()=>k.value.gte(X.value)),ge=R(()=>{const xe=us("pheromoneStomachCapacity");return L.add(xe).mul(Se.value)}),Pe=R(()=>{const xe=us("pheromoneDecayRate"),Te=us("decayRate"),je=xe.gt(1)?xe:Te;return B.mul(Me.value).mul(je)}),fe=R(()=>U.value.div(ge.value).mul(100).toNumber()),E=R(()=>U.value.gte(ge.value)),w=xe=>{if(!le.value)return;const Te=typeof xe=="number"?a(xe):xe;i.value=i.value.plus(Te),J(),d.value=Date.now()},F=xe=>{if(!le.value)return;const Te=typeof xe=="number"?a(xe):xe;c.value=c.value.plus(Te),te(),d.value=Date.now()},q=xe=>{if(!le.value)return{xpValue:a(0),foodConsumed:a(0)};if(xe.lte(0))return{xpValue:a(0),foodConsumed:a(0)};Ge();const Te=X.value.sub(k.value);if(Te.lte(0))return{xpValue:a(0),foodConsumed:a(0)};const je=xe.toString(),it=a(Math.max(1,Math.floor(Math.log10(parseFloat(je))))),Ot=Te.min(it);k.value=k.value.add(Ot);let rs=it.equals(Ot)?xe:a(10).pow(Ot);return rs=rs.min(xe),{xpValue:Ot,foodConsumed:rs}},Z=xe=>{if(!le.value)return{xpValue:a(0),essenceConsumed:a(0)};if(xe.lte(0))return{xpValue:a(0),essenceConsumed:a(0)};ft();const Te=ge.value.sub(U.value);if(Te.lte(0))return{xpValue:a(0),essenceConsumed:a(0)};const je=xe.toString(),it=a(Math.max(1,Math.floor(Math.log10(parseFloat(je))))).mul(2),Ot=Te.min(it);U.value=U.value.add(Ot);let rs=it.equals(Ot)?xe:a(10).pow(Ot.div(2));return rs=rs.min(xe),{xpValue:Ot,essenceConsumed:rs}},J=()=>{for(;i.value.gte(K.value);)i.value=i.value.minus(K.value),n.value=n.value.plus(1)},te=()=>{for(;c.value.gte(H.value);)c.value=c.value.minus(H.value),l.value=l.value.plus(1)},ye=xe=>{const Te=G(xe);return!Te||Te.maxLevel&&Te.level>=Te.maxLevel||O.value<Te.costPerLevel?!1:(Te.level++,u.value+=Te.costPerLevel,!0)},$e=xe=>{const Te=G(xe);return Te?Te.maxLevel?Te.level<Te.maxLevel&&O.value>=Te.costPerLevel:O.value>=Te.costPerLevel:!1},Ee=xe=>{const Te=G(xe);return Te&&Te.maxLevel?Te.level>=Te.maxLevel:!1},Re=xe=>{const Te=G(xe);return Te?Te.getEffectValue(Te.level):a(0)},Ne=xe=>{const Te=G(xe);return!Te||Te.maxLevel&&Te.level>=Te.maxLevel?a(0):Te.getEffectValue(Te.level+1)},Ge=()=>{const xe=Date.now(),Te=a(xe-I.value).div(1e3);if(Te.lte(0)||k.value.lte(0)){I.value=xe;return}const je=k.value.min(ae.value.mul(Te));k.value=k.value.sub(je);const it=je.mul(ve.value).mul(z.value);if(w(it),je.gt(0)){const Ot={timestamp:xe,amount:je,xpGained:it};N.value.push(Ot),N.value.length>10&&(N.value=N.value.slice(-10))}I.value=xe},ft=()=>{const xe=Date.now(),Te=a(xe-j.value).div(1e3);if(Te.lte(0)||U.value.lte(0)){j.value=xe;return}const je=U.value.min(Pe.value.mul(Te));U.value=U.value.sub(je);const it=je.mul(Oe.value).mul(z.value);if(F(it),je.gt(0)){const Ot={timestamp:xe,amount:je,xpGained:it};ee.value.push(Ot),ee.value.length>10&&(ee.value=ee.value.slice(-10))}j.value=xe},et=()=>{Ke.value&&(C.value=!C.value)},ze=()=>{Ke.value&&(x.value=!x.value)},Ke=R(()=>t.getUpgradeCount("unlockAutoFeed").gt(0)),Ie=()=>{if(!le.value||!C.value||!Ke.value||ke.value||k.value.gt(0)||s.food.lte(100))return;const xe=s.food.mul(.01),{xpValue:Te,foodConsumed:je}=q(xe);je.gt(0)&&(s.food=s.food.sub(je))},ce=()=>{if(!le.value||!x.value||!Ke.value||E.value||U.value.gt(0)||o.pheromoneEssence.lte(0))return;const xe=o.pheromoneEssence.mul(.01),{xpValue:Te,essenceConsumed:je}=Z(xe);je.gt(0)&&(o.pheromoneEssence=o.pheromoneEssence.sub(je))},Ae=()=>{if(!t.getUpgradeCount("unlockMegaAnt").gt(0))return;Ge(),ft();const xe=t.getUpgradeCount("unlockAutoFeed").gt(0);xe||(C.value=!1,x.value=!1),$.value++,$.value>=A&&(C.value&&xe&&Ie(),x.value&&xe&&ce(),$.value=0)},Xe=xe=>{if(!t.getUpgradeCount("unlockMegaAnt").gt(0))return;const Te=us("offlineProgressRate"),je=a(xe).mul(Te);if(je.lte(0))return;const it=Date.now();if(k.value.gt(0)&&ae.value.gt(0)){const rs=k.value.div(ae.value),Nt=je.min(rs),Jt=ae.value.mul(Nt);if(Jt.gt(0)){k.value=k.value.sub(Jt).max(0);const Hs=Jt.mul(ve.value).mul(z.value);w(Hs),N.value.push({timestamp:it,amount:Jt,xpGained:Hs}),N.value.length>10&&(N.value=N.value.slice(-10))}}if(I.value+=je.mul(1e3).toNumber(),U.value.gt(0)&&Pe.value.gt(0)){const rs=U.value.div(Pe.value),Nt=je.min(rs),Jt=Pe.value.mul(Nt);if(Jt.gt(0)){U.value=U.value.sub(Jt).max(0);const Hs=Jt.mul(Oe.value).mul(z.value);F(Hs),ee.value.push({timestamp:it,amount:Jt,xpGained:Hs}),ee.value.length>10&&(ee.value=ee.value.slice(-10))}}if(j.value+=je.mul(1e3).toNumber(),t.getUpgradeCount("unlockAutoFeed").gt(0)&&(C.value||x.value)&&Math.floor(je.toNumber()/A)>0){if(C.value&&k.value.lte(0)&&!ke.value&&s.food.gt(0)){const Nt=s.food.mul(.01),{xpValue:Jt,foodConsumed:Hs}=q(Nt);Hs.gt(0)&&(s.food=s.food.sub(Hs))}if(x.value&&U.value.lte(0)&&!E.value&&o.pheromoneEssence.gt(0)){const Nt=o.pheromoneEssence.mul(.01),{xpValue:Jt,essenceConsumed:Hs}=Z(Nt);Hs.gt(0)&&(o.pheromoneEssence=o.pheromoneEssence.sub(Hs))}}d.value=it+je.mul(1e3).toNumber(),J(),te()},Ps=(xe=!1)=>{n.value=a(1),i.value=a(0),l.value=a(1),c.value=a(0),d.value=Date.now(),u.value=0,m.value=0,k.value=a(0),I.value=Date.now(),N.value=[],U.value=a(0),j.value=Date.now(),ee.value=[],xe||(ne.value.forEach(Te=>{Te.level=0}),oe.value.forEach(Te=>{Te.level=0}))},Wo=()=>{n.value=a(1),i.value=a(0),k.value=a(0),u.value=0,l.value=a(1),c.value=a(0),m.value=0,U.value=a(0),t.resetForAscension()},Xn=xe=>xe<10?a(0):a(Math.floor(Math.sqrt(xe-5)*4.5)),Si=xe=>{const Te=[{level:10,points:3},{level:15,points:6},{level:20,points:10},{level:30,points:18},{level:40,points:28},{level:50,points:40}];for(let je=0;je<Te.length;je++)if(xe<Te[je].level){const it=je===0?Te[je].points:Te[je].points-Te[je-1].points;return{level:Te[je].level,points:Te[je].points,pointsIncrease:it}}return null},Fd=()=>{const xe=Vs.value,Te=G0.length,je=e.completedQuests.length,it=Te>0?je/Te*100:0;if(it<xe)return console.warn(`Cannot ascend: Not enough quests completed (${it.toFixed(1)}% of ${xe}% required)`),!1;const Ot=a(3),rs=n.value.toNumber(),Nt=Xn(rs),Jt=Ot.add(Nt);return y.value=y.value.add(Jt),p.value++,Wo(),{ascensionCount:p.value,pointsGained:Jt}},Rd=xe=>{xe!==void 0?v.value=xe:v.value=!v.value},Ud=()=>Mr,ln=xe=>_.value.has(xe),Zn=xe=>{const Te=Mr.find(je=>je.id===xe);return Te?y.value.gte(Te.cost):!1},Jn=xe=>{const Te=Mr.find(je=>je.id===xe);return Te?Te.prerequisites.every(je=>ln(je)):!1},$i=xe=>ln(xe)?!1:Zn(xe)&&Jn(xe),us=xe=>{let Te=0,je=1,it=!1;for(const Ot of _.value){const rs=Mr.find(Nt=>Nt.id===Ot);if(rs)for(const Nt of rs.effects)Nt.target===xe&&(Nt.effectMethod==="additive"?Te+=Number(Nt.value):Nt.effectMethod==="multiplicative_increase"?je*=Number(Nt.value):Nt.effectMethod==="unlock"&&typeof Nt.value=="boolean"&&(it=it||Nt.value))}return xe.includes("unlock")||xe.includes("Unlock")?it:a(Te!==0?Te:je)},Qe=xe=>{const Te=Mr.find(je=>je.id===xe);return Te?ln(xe)?(console.log(`Ascension upgrade ${xe} already purchased`),!1):Zn(xe)?Jn(xe)?(y.value=y.value.sub(Te.cost),_.value.add(xe),!0):(console.warn(`Prerequisites not met for ascension upgrade ${xe}`),!1):(console.warn(`Cannot afford ascension upgrade ${xe}`),!1):(console.warn(`Ascension upgrade ${xe} does not exist`),!1)},Ei=xe=>{const Te=Mr.find(je=>je.id===xe);return Te?Te.effects:[]},Ai=R(()=>us("unlockMegaAntBulkBuy"));return{level:n,experience:i,colonyLevel:l,colonyExperience:c,lastUpdated:d,spentLevels:u,spentColonyLevels:m,ascensionCount:p,ascensionPoints:y,showHelpSection:v,autoFeedEnabled:C,autoFeedPheromoneEnabled:x,autoFeedTickCounter:$,AUTO_FEED_INTERVAL:A,stomachContent:k,lastDecayTime:I,decayLogs:N,pheromoneStomachContent:U,lastPheromoneDecayTime:j,pheromoneDecayLogs:ee,upgrades:ne,colonyUpgrades:oe,ascensionUpgradesMap:S,purchasedAscensionUpgrades:_,getAscensionUpgrades:Ud,hasAscensionUpgrade:ln,canAffordAscensionUpgrade:Zn,areAscensionPrerequisitesMet:Jn,canPurchaseAscensionUpgrade:$i,getAscensionEffectValue:us,purchaseAscensionUpgrade:Qe,getAscensionUpgradeEffects:Ei,isBulkBuyUnlocked:Ai,getUpgradeCostReduction:()=>us("upgradeCostReduction")||a(0),getColonyUpgradePowerBoost:()=>us("colonyUpgradePower")||a(1),getEpGainMultiplier:()=>us("epGain")||a(1),getPheromoneGainMultiplier:()=>us("pheromoneGain")||a(1),getGlobalProductionMultiplier:()=>us("globalProduction")||a(1),availableLevels:O,availableColonyLevels:Y,stomachCapacityMultiplier:re,decayRateMultiplier:he,decayEfficiencyMultiplier:ve,pheromoneStomachCapacityMultiplier:Se,pheromoneDecayRateMultiplier:Me,pheromoneEfficiencyMultiplier:Oe,effectiveStomachCapacity:X,effectiveDecayRate:ae,stomachFillPercentage:ue,isStomachFull:ke,effectivePheromoneStomachCapacity:ge,effectivePheromoneDecayRate:Pe,pheromoneStomachFillPercentage:fe,isPheromoneStomachFull:E,isUnlocked:le,isAutoFeedUnlocked:Ke,ascensionMultiplier:z,experienceForNextLevel:K,colonyExperienceForNextLevel:H,levelProgress:T,colonyLevelProgress:D,getUpgrade:G,getColonyUpgrade:de,addExperience:w,addColonyExperience:F,feedAnt:q,feedAntPheromone:Z,checkLevelUp:J,checkColonyLevelUp:te,purchaseUpgrade:ye,canUpgrade:$e,isUpgradeMaxed:Ee,getUpgradeEffectValue:Re,getNextUpgradeEffectValue:Ne,processDecay:Ge,processPheromoneDecay:ft,update:Ae,processOfflineProgress:Xe,resetUpgrades:Ps,reset:Ps,ascend:Fd,toggleHelpSection:Rd,getState:()=>({level:n.value.toString(),experience:i.value.toString(),colonyLevel:l.value.toString(),colonyExperience:c.value.toString(),lastUpdated:d.value,spentLevels:u.value,spentColonyLevels:m.value,ascensionCount:p.value,ascensionPoints:y.value.toString(),purchasedAscensionUpgrades:Array.from(_.value),autoFeedEnabled:C.value,autoFeedPheromoneEnabled:x.value,autoFeedTickCounter:$.value,stomachContent:k.value.toString(),lastDecayTime:I.value,decayLogs:N.value.map(xe=>({timestamp:xe.timestamp,amount:xe.amount.toString(),xpGained:xe.xpGained.toString()})),pheromoneStomachContent:U.value.toString(),lastPheromoneDecayTime:j.value,pheromoneDecayLogs:ee.value.map(xe=>({timestamp:xe.timestamp,amount:xe.amount.toString(),xpGained:xe.xpGained.toString()})),upgrades:ne.value.map(xe=>({id:xe.id,level:xe.level})),colonyUpgrades:oe.value.map(xe=>({id:xe.id,level:xe.level})),showHelpSection:v.value}),loadState:xe=>{xe.level&&(n.value=a(xe.level)),xe.experience&&(i.value=a(xe.experience)),xe.colonyLevel&&(l.value=a(xe.colonyLevel)),xe.colonyExperience&&(c.value=a(xe.colonyExperience)),xe.lastUpdated&&(d.value=xe.lastUpdated),xe.spentLevels!==void 0&&(u.value=xe.spentLevels),xe.spentColonyLevels!==void 0&&(m.value=xe.spentColonyLevels),xe.ascensionCount!==void 0&&(p.value=xe.ascensionCount),xe.ascensionPoints!==void 0&&(y.value=a(xe.ascensionPoints)),xe.purchasedAscensionUpgrades&&(_.value=new Set(xe.purchasedAscensionUpgrades),_.value.add("core_potential")),xe.autoFeedEnabled!==void 0&&(C.value=xe.autoFeedEnabled),xe.autoFeedPheromoneEnabled!==void 0&&(x.value=xe.autoFeedPheromoneEnabled),xe.autoFeedTickCounter!==void 0&&($.value=xe.autoFeedTickCounter),xe.stomachContent!==void 0&&(k.value=a(xe.stomachContent)),xe.lastDecayTime&&(I.value=xe.lastDecayTime),xe.decayLogs&&(N.value=xe.decayLogs.map(Te=>({timestamp:Te.timestamp,amount:a(Te.amount),xpGained:a(Te.xpGained)}))),xe.pheromoneStomachContent!==void 0&&(U.value=a(xe.pheromoneStomachContent)),xe.lastPheromoneDecayTime&&(j.value=xe.lastPheromoneDecayTime),xe.pheromoneDecayLogs&&(ee.value=xe.pheromoneDecayLogs.map(Te=>({timestamp:Te.timestamp,amount:a(Te.amount),xpGained:a(Te.xpGained)}))),xe.upgrades&&xe.upgrades.forEach(Te=>{const je=ne.value.find(it=>it.id===Te.id);je&&(je.level=Te.level)}),xe.colonyUpgrades&&xe.colonyUpgrades.forEach(Te=>{const je=oe.value.find(it=>it.id===Te.id);je&&(je.level=Te.level)}),xe.showHelpSection!==void 0&&(v.value=xe.showHelpSection)},toggleAutoFeed:et,toggleAutoFeedPheromone:ze,purchaseColonyUpgrade:He,canColonyUpgrade:we,isColonyUpgradeMaxed:_e,getColonyMultiplierForTarget:pe,getFormattedColonyEffect:me,calculateBonusPoints:Xn,getNextMilestone:Si,formatUpgradeImprovement:(xe,Te=0)=>{const je=typeof Te=="number"?a(Te):Te,it=ne.value.find(Hs=>Hs.id===xe);if(!it||it.maxLevel&&it.level>=it.maxLevel)return"0";const Ot=it.getEffectValue(it.level),Nt=it.getEffectValue(it.level+1).sub(Ot),Jt=je.eq(0)?Nt:je;switch(xe){case"stomachCapacity":case"pheromoneStomachCapacity":return`${Jt.round().toString()} units`;case"decayRate":case"pheromoneDecayRate":return`${Jt.toFixed(2)}/sec`;case"efficiency":case"pheromoneEfficiency":return`${Jt.toFixed(2)}x`;default:return`${Jt.toString()}`}},formatColonyUpgradeImprovement:(xe,Te=0)=>{const je=typeof Te=="number"?a(Te):Te,it=oe.value.find(Ot=>Ot.id===xe);return!it||it.maxLevel&&it.level>=it.maxLevel?"0":`${je.mul(100).toFixed(0)}%`},formatAP:()=>ie(y.value)}}),Fi={greenleaf:{id:"greenleaf",name:"Greenleaf Aphid",description:"Common aphid that produces small amounts of honeydew quickly.",baseYield:a(100),growthTime:50,unlockCost:a(0),color:"text-green-500 dark:text-green-400"},golden:{id:"golden",name:"Golden Aphid",description:"Uncommon aphid that produces moderate amounts of honeydew.",baseYield:a(500),growthTime:100,unlockCost:a(2e3),color:"text-amber-500 dark:text-amber-400"},bubbleback:{id:"bubbleback",name:"Bubbleback Aphid",description:"Rare aphid that secretes rich honeydew from specialized glands.",baseYield:a(1500),growthTime:200,unlockCost:a(1e4),color:"text-blue-500 dark:text-blue-400"},fungal:{id:"fungal",name:"Fungal Aphid",description:"Exotic aphid that cultivates fungi for enhanced honeydew production.",baseYield:a(5e3),growthTime:400,unlockCost:a(5e4),color:"text-purple-500 dark:text-purple-400"},pheromelion:{id:"pheromelion",name:"Pheromelion Aphid",description:"Legendary aphid that secretes honeydew infused with pheromone essence.",baseYield:a(2e4),growthTime:1e3,unlockCost:a(25e4),color:"text-pink-500 dark:text-pink-400"}},ss=Ft("aphidFarm",()=>{As();const t=ct(),e=qs(),s=W(a(0)),o=W([]),n=W(new Set(["greenleaf"])),i=W("greenleaf"),l=W([{id:"greenleaf-growth",name:"Rapid Photosynthesis",description:"Reduce Greenleaf Aphid growth time by {effect}%",aphidType:"greenleaf",maxLevel:10,baseCost:a(1e3),costScaling:2.5,effect:w=>a(w*8)},{id:"greenleaf-yield",name:"Enhanced Secretion",description:"Increase Greenleaf Aphid honeydew yield by {effect}%",aphidType:"greenleaf",maxLevel:15,baseCost:a(1500),costScaling:2.2,effect:w=>a(w*12)},{id:"greenleaf-doubler",name:"Dual Secretion",description:"Greenleaf Aphids have a {effect}% chance to produce two harvests at once",aphidType:"greenleaf",maxLevel:8,baseCost:a(3e3),costScaling:2.8,effect:w=>a(w*5)},{id:"golden-aura",name:"Golden Aura",description:"Golden Aphids boost adjacent fields' yields by {effect}%",aphidType:"golden",maxLevel:10,baseCost:a(5e3),costScaling:2.5,effect:w=>a(w*15)},{id:"golden-shine",name:"Radiant Harvest",description:"Golden Aphids have a {effect}% chance to yield double honeydew",aphidType:"golden",maxLevel:8,baseCost:a(7500),costScaling:3,effect:w=>a(w*7)},{id:"golden-efficiency",name:"Efficient Refinement",description:"Golden Aphids grow {effect}% faster",aphidType:"golden",maxLevel:12,baseCost:a(6e3),costScaling:2.2,effect:w=>a(w*4)},{id:"bubbleback-efficiency",name:"Bubble Efficiency",description:"Bubbleback Aphids produce {effect}% more honeydew with each field level",aphidType:"bubbleback",maxLevel:10,baseCost:a(12e3),costScaling:2.4,effect:w=>a(w*5)},{id:"bubbleback-burst",name:"Bubble Burst",description:"When harvested, Bubbleback Aphids boost all fields' yields by {effect}% for 30 seconds",aphidType:"bubbleback",maxLevel:6,baseCost:a(15e3),costScaling:3.5,effect:w=>a(w*10)},{id:"bubbleback-quality",name:"High-Quality Secretion",description:"Bubbleback Aphids' base yield increases by {effect}%",aphidType:"bubbleback",maxLevel:12,baseCost:a(8e3),costScaling:2.2,effect:w=>a(w*15)},{id:"fungal-fields",name:"Mycological Network",description:"Fungal Aphids yield bonus honeydew based on total fields: {effect}% per field",aphidType:"fungal",maxLevel:8,baseCost:a(2e4),costScaling:3.5,effect:w=>a(w*6)},{id:"fungal-growth",name:"Spore Acceleration",description:"Fungal Aphids mature {effect}% faster",aphidType:"fungal",maxLevel:10,baseCost:a(18e3),costScaling:2.3,effect:w=>a(w*6)},{id:"fungal-symbiosis",name:"Fungal Symbiosis",description:"For each Fungal Aphid growing, all aphid yields increase by {effect}%",aphidType:"fungal",maxLevel:5,baseCost:a(25e3),costScaling:4,effect:w=>a(w*3)},{id:"pheromelion-catalyst",name:"Pheromone Catalyst",description:"Pheromelion Aphids accelerate growth of all aphid types by {effect}%",aphidType:"pheromelion",maxLevel:5,baseCost:a(5e4),costScaling:6,effect:w=>a(w*12)},{id:"pheromelion-potency",name:"Pheromone Potency",description:"Pheromelion Aphids' base yield increases by {effect}%",aphidType:"pheromelion",maxLevel:10,baseCost:a(4e4),costScaling:3,effect:w=>a(w*20)},{id:"pheromelion-empowerment",name:"Pheromone Empowerment",description:"Pheromelion Aphids boost the effectiveness of other aphid upgrades by {effect}%",aphidType:"pheromelion",maxLevel:5,baseCost:a(75e3),costScaling:5,effect:w=>a(w*5)}]),c=W({}),d=W([{id:"honeydew-ep-boost",name:"Honey-Coated Evolution",description:"Increases EP production by {effect} per level",maxLevel:5,baseCost:a(1e5),costScaling:10,targets:["ep"],getEffect:w=>a(1.5).pow(w),formatEffect:w=>`${w.mul(100).sub(100).toFixed(0)}%`},{id:"honeydew-pheromone-boost",name:"Pheromone Enrichment",description:"Increases pheromone production by {effect} per level",maxLevel:4,baseCost:a(25e4),costScaling:12,targets:["pheromone"],getEffect:w=>a(1.75).pow(w),formatEffect:w=>`${w.mul(100).sub(100).toFixed(0)}%`},{id:"honeydew-global-boost",name:"Colony Symbiosis",description:"Increases all production by {effect} per level",maxLevel:5,baseCost:a(1e6),costScaling:15,targets:["global"],getEffect:w=>a(2).pow(w),formatEffect:w=>`${w.mul(100).sub(100).toFixed(0)}%`},{id:"honeydew-ep-boost-2",name:"Advanced Evolution Catalyst",description:"Dramatically increases EP production by {effect} per level",maxLevel:3,baseCost:a(1e7),costScaling:25,targets:["ep"],getEffect:w=>a(10).pow(w),formatEffect:w=>`${w.mul(100).sub(100).toFixed(0)}%`},{id:"honeydew-pheromone-boost-2",name:"Concentrated Pheromone Matrix",description:"Massively increases pheromone production by {effect} per level",maxLevel:3,baseCost:a(15e6),costScaling:30,targets:["pheromone"],getEffect:w=>a(15).pow(w),formatEffect:w=>`${w.mul(100).sub(100).toFixed(0)}%`},{id:"honeydew-global-boost-2",name:"Unified Colony Network",description:"Exponentially increases all production by {effect} per level",maxLevel:3,baseCost:a(5e7),costScaling:40,targets:["global"],getEffect:w=>a(20).pow(w),formatEffect:w=>`${w.mul(100).sub(100).toFixed(0)}%`}]),u=W({}),m=W(!1),p=()=>{o.value=[{id:"field1",type:null,level:1,progress:0,isHarvestable:!1,hasAutoFarming:!1,autoFarmingEnabled:!1,preferredAphidType:null},{id:"field2",type:null,level:1,progress:0,isHarvestable:!1,hasAutoFarming:!1,autoFarmingEnabled:!1,preferredAphidType:null},{id:"field3",type:null,level:1,progress:0,isHarvestable:!1,hasAutoFarming:!1,autoFarmingEnabled:!1,preferredAphidType:null}]};p();const y=R(()=>o.value.filter(w=>w.type!==null)),v=R(()=>o.value.reduce((w,F)=>w+F.level,0)),S=w=>c.value[w]||0,_=w=>{const F=l.value.find(Z=>Z.id===w);if(!F)return a(0);const q=S(w);return q>=F.maxLevel?a(0):F.baseCost.mul(a(F.costScaling).pow(q))},C=w=>{const F=l.value.find(J=>J.id===w);if(!F||S(w)>=F.maxLevel||!n.value.has(F.aphidType))return!1;const Z=_(w);return s.value.gte(Z)},x=w=>{if(!C(w))return!1;const F=_(w);s.value=s.value.sub(F);const q=S(w);return c.value[w]=q+1,!0},$=w=>{var J;const F=l.value.find(te=>te.id===w);if(!F)return a(0);const q=S(w);if(q<=0)return a(0);let Z=F.effect(q);if(w!=="pheromelion-empowerment"){const te=S("pheromelion-empowerment");if(te>0&&o.value.some($e=>$e.type==="pheromelion")){const $e=((J=l.value.find(Re=>Re.id==="pheromelion-empowerment"))==null?void 0:J.effect(te))||a(0),Ee=a(1).add($e.div(100));Z=Z.mul(Ee)}}return Z},A=w=>{const F=l.value.find(J=>J.id===w);if(!F)return"";const q=$(w),Z=dt(q.div(100));return F.description.replace("{effect}",Z)},M=w=>l.value.filter(F=>F.aphidType===w),P=(w,F)=>{const q=Fi[w];if(!q)return a(0);let Z=q.baseYield.mul(a(1).add(a(F-1).mul(.5)));if(w==="greenleaf"){const te=$("greenleaf-yield");te.gt(0)&&(Z=Z.mul(a(1).add(te.div(100))))}else if(w==="bubbleback"){const te=$("bubbleback-efficiency");te.gt(0)&&(Z=Z.mul(a(1).add(te.mul(F).div(100))));const ye=$("bubbleback-quality");ye.gt(0)&&(Z=Z.mul(a(1).add(ye.div(100))))}else if(w==="fungal"){const te=$("fungal-fields");if(te.gt(0)){const $e=o.value.length;Z=Z.mul(a(1).add(te.mul($e).div(100)))}const ye=$("fungal-symbiosis");if(ye.gt(0)){const $e=o.value.filter(Ee=>Ee.type==="fungal"&&!Ee.isHarvestable).length;$e>0&&(Z=Z.mul(a(1).add(ye.mul($e).div(100))))}}else if(w==="golden"){const te=$("golden-shine");te.gt(0)&&Math.random()*100<te.toNumber()&&(Z=Z.mul(2))}else if(w==="pheromelion"){const te=$("pheromelion-potency");te.gt(0)&&(Z=Z.mul(a(1).add(te.div(100))))}const J=t.getAphidYieldMultiplier();return Z=Z.mul(J),Z},L=w=>{const F=Fi[w];if(!F)return 0;let q=F.growthTime;if(w==="greenleaf"){const te=$("greenleaf-growth");te.gt(0)&&(q*=a(1).sub(te.div(100)).toNumber())}else if(w==="golden"){const te=$("golden-efficiency");te.gt(0)&&(q*=a(1).sub(te.div(100)).toNumber())}else if(w==="fungal"){const te=$("fungal-growth");te.gt(0)&&(q*=a(1).sub(te.div(100)).toNumber())}const Z=$("pheromelion-catalyst");Z.gt(0)&&o.value.some(ye=>ye.type==="pheromelion")&&(q*=a(1).sub(Z.div(100)).toNumber());const J=t.getAphidGrowthMultiplier();return q*=J.toNumber(),Math.max(1,Math.floor(q))},B=()=>{const w=o.value.length;if(w<=3)return a(5e3);let F=a(5e3).mul(a(5).pow(w-3));const q=t.getNewFieldCostMultiplier();return F=F.mul(q),F},k=()=>{const w=B();return s.value.gte(w)},I=()=>{const w=B();if(s.value.lt(w))return!1;s.value=s.value.sub(w);const F=`field${o.value.length+1}`;return o.value.push({id:F,type:null,level:1,progress:0,isHarvestable:!1,hasAutoFarming:!1,autoFarmingEnabled:!1,preferredAphidType:null}),!0},N=()=>{o.value.length===0&&p()},U=w=>{if(n.value.has(w))return!0;const F=Fi[w];return F&&s.value.gte(F.unlockCost)?(s.value=s.value.sub(F.unlockCost),n.value.add(w),!0):!1},j=(w,F)=>{if(!n.value.has(F))return!1;const q=o.value.findIndex(Z=>Z.id===w);return q===-1?!1:(o.value[q].type=F,o.value[q].progress=0,o.value[q].isHarvestable=!1,!0)},ee=w=>{const F=o.value.findIndex(te=>te.id===w);if(F===-1||!o.value[F].isHarvestable)return a(0);const q=o.value[F];if(!q.type)return a(0);let Z=P(q.type,q.level);const J=oe(w);if(Z=Z.mul(J),q.type==="greenleaf"){const te=$("greenleaf-doubler");te.gt(0)&&Math.random()*100<te.toNumber()&&(Z=Z.mul(2))}if(q.type==="bubbleback"){const te=$("bubbleback-burst");te.gt(0)&&(Z=Z.mul(a(1).add(te.div(100))))}return s.value=s.value.add(Z),q.progress=0,q.isHarvestable=!1,q.type=null,Z},ne=w=>{const F=o.value.findIndex(Z=>Z.id===w);return F===-1?[]:[F-1,F+1].filter(Z=>Z>=0&&Z<o.value.length).map(Z=>o.value[Z].id)},oe=w=>{const F=$("golden-aura");if(F.lte(0))return a(1);const q=ne(w);let Z=0;for(const J of q){const te=o.value.find(ye=>ye.id===J);te&&te.type==="golden"&&Z++}return Z===0?a(1):a(1).add(a(F).mul(Z).div(100))},O=w=>{const F=o.value.findIndex(J=>J.id===w);if(F===-1)return!1;const q=o.value[F],Z=Y(q);return s.value.gte(Z)?(s.value=s.value.sub(Z),q.level+=1,!0):!1},Y=w=>{const F=o.value.findIndex(q=>q.id===w.id);return a(100).mul(a(1.5).pow(w.level-1)).mul(a(F+1))},G=w=>{const F=o.value.findIndex(q=>q.id===w);return F===-1?a(0):a(1e4).mul(a(F+1).pow(1.2))},de=w=>{const F=o.value.find(Z=>Z.id===w);if(!F||F.hasAutoFarming||F.level<10)return!1;const q=G(w);return s.value.gte(q)},re=w=>{const F=o.value.find(Z=>Z.id===w);if(!F||F.hasAutoFarming||F.level<10)return!1;const q=G(w);return s.value.lt(q)?!1:(s.value=s.value.sub(q),F.hasAutoFarming=!0,F.autoFarmingEnabled=!0,!0)},he=(w,F=null)=>{const q=o.value.find(Z=>Z.id===w);return!q||!q.hasAutoFarming?!1:(q.autoFarmingEnabled=!q.autoFarmingEnabled,F&&n.value.has(F)?q.preferredAphidType=F:!q.preferredAphidType&&q.type?q.preferredAphidType=q.type:q.preferredAphidType||(q.preferredAphidType=Array.from(n.value)[0]),!0)},ve=(w,F)=>{const q=o.value.find(Z=>Z.id===w);return!q||!q.hasAutoFarming||!n.value.has(F)?!1:(q.preferredAphidType=F,!0)},Se=()=>{if(e.isFeatureUnlocked.aphidFarm)for(const w of o.value){if(w.hasAutoFarming&&w.autoFarmingEnabled&&w.preferredAphidType){if(w.isHarvestable&&w.type){let F=P(w.type,w.level);const q=oe(w.id);F=F.mul(q),s.value=s.value.add(F),w.progress=0,w.isHarvestable=!1,w.type=null}w.type||(w.type=w.preferredAphidType,w.progress=0,w.isHarvestable=!1)}if(w.type&&!w.isHarvestable){const F=L(w.type);w.progress+=1/F,w.progress>=1&&(w.progress=1,w.isHarvestable=!0)}}},Me=w=>{const F=o.value.find(q=>q.id===w);return!F||!F.type?0:Math.floor(F.progress*100)},Oe=w=>{const F=o.value.find(q=>q.id===w);return F?Y(F):a(0)},He=w=>{const F=Oe(w);return s.value.gte(F)},we=w=>u.value[w]||0,_e=w=>{const F=d.value.find(Z=>Z.id===w);if(!F)return a(0);const q=we(w);return q>=F.maxLevel?a(0):F.baseCost.mul(a(F.costScaling).pow(q))},pe=w=>{const F=d.value.find(J=>J.id===w);if(!F||we(w)>=F.maxLevel)return!1;if(w.endsWith("-2")){const J=w.replace("-2",""),te=d.value.find($e=>$e.id===J);if(!te||we(J)<te.maxLevel)return!1}const Z=_e(w);return s.value.gte(Z)},me=w=>{if(!pe(w))return!1;const F=_e(w);s.value=s.value.sub(F);const q=we(w);return u.value[w]=q+1,!0},le=w=>{w.honeydew&&(s.value=a(w.honeydew)),w.fields&&Array.isArray(w.fields)?o.value=w.fields.map(F=>"hasAutoFarming"in F&&"autoFarmingEnabled"in F&&"preferredAphidType"in F?F:{...F,hasAutoFarming:!1,autoFarmingEnabled:!1,preferredAphidType:null}):p(),w.unlockedAphidTypes&&Array.isArray(w.unlockedAphidTypes)&&(n.value=new Set(w.unlockedAphidTypes)),i.value=w.selectedAphidType??"greenleaf",z.value=w.hasPlantAllUnlocked??!1,K.value=w.hasHarvestAllUnlocked??!1,w.upgradesPurchased&&typeof w.upgradesPurchased=="object"?(c.value=w.upgradesPurchased,"golden-aura"in c.value||(c.value["golden-aura"]=0),"golden-shine"in c.value||(c.value["golden-shine"]=0)):c.value={},u.value=w.globalUpgradesPurchased??{},m.value=w.hasBugHoneydewDropUpgrade??!1},z=W(!1),K=W(!1),H=()=>a(5e3),T=()=>a(7500),D=()=>z.value?!1:s.value.gte(H()),X=()=>K.value?!1:s.value.gte(T()),ae=()=>{if(z.value)return!0;const w=H();return s.value.lt(w)?!1:(s.value=s.value.sub(w),z.value=!0,!0)},ue=()=>{if(K.value)return!0;const w=T();return s.value.lt(w)?!1:(s.value=s.value.sub(w),K.value=!0,!0)},ke=()=>({honeydew:s.value.toString(),fields:o.value,unlockedAphidTypes:Array.from(n.value),hasPlantAllUnlocked:z.value,hasHarvestAllUnlocked:K.value,selectedAphidType:i.value,upgradesPurchased:c.value,globalUpgradesPurchased:u.value,hasBugHoneydewDropUpgrade:m.value}),ge=w=>{const F=l.value.find(J=>J.id===w);if(!F)return{exists:!1};const q=S(w),Z=q>0?F.effect(q):0;return{exists:!0,id:w,name:F.name,description:F.description,aphidType:F.aphidType,level:q,maxLevel:F.maxLevel,effect:Z,cost:q<F.maxLevel?_(w).toString():"MAX"}},Pe=()=>a(1e3),fe=R(()=>!m.value&&s.value.gte(Pe()));return{honeydew:s,fields:o,unlockedAphidTypes:n,hasPlantAllUnlocked:z,hasHarvestAllUnlocked:K,selectedAphidType:i,aphidUpgrades:l,upgradesPurchased:c,hasBugHoneydewDropUpgrade:m,APHID_TYPES:Fi,activeFields:y,totalFieldLevel:v,unlockAphidFarm:N,unlockAphidType:U,plantAphid:j,harvestField:ee,upgradeField:O,buyNewField:I,update:Se,purchaseAutoFarming:re,toggleAutoFarming:he,setPreferredAphidType:ve,unlockPlantAll:ae,unlockHarvestAll:ue,purchaseUpgrade:x,purchaseBugHoneydewDropUpgrade:()=>{if(!fe.value||m.value)return!1;const w=Pe();return s.value=s.value.sub(w),m.value=!0,!0},getAphidYield:P,getAphidGrowthTime:L,getFieldProgressPercentage:Me,getFieldUpgradeCost:Oe,canUpgradeField:He,calculateNewFieldCost:B,canBuyNewField:k,calculateAutoFarmingCost:G,canPurchaseAutoFarming:de,calculatePlantAllCost:H,calculateHarvestAllCost:T,canUnlockPlantAll:D,canUnlockHarvestAll:X,getUpgradeLevel:S,calculateUpgradeCost:_,canPurchaseUpgrade:C,getUpgradeEffect:$,getUpgradeDescription:A,getUpgradesForAphid:M,getAdjacentFieldIds:ne,getGoldenAuraMultiplier:oe,calculateBugHoneydewDropUpgradeCost:Pe,canPurchaseBugHoneydewDropUpgrade:fe,getState:ke,loadState:le,globalUpgrades:d,globalUpgradesPurchased:u,getGlobalUpgradeLevel:we,calculateGlobalUpgradeCost:_e,canPurchaseGlobalUpgrade:pe,purchaseGlobalUpgrade:me,getUpgradeStatus:ge}}),or={tiny_leaf:{id:"tiny_leaf",name:"Tiny Leaf",description:"A small leaf collected from a garden. It provides minimal nourishment for your colony.",rarity:"common",category:"plant",boosts:{global:.5,specificGenerator:[{generatorId:"worker",multiplier:1}]}},pebble:{id:"pebble",name:"Smooth Pebble",description:"A smooth, rounded pebble. Ants can use it as a tool to improve efficiency.",rarity:"common",category:"mineral",boosts:{specificGenerator:[{generatorId:"digger",multiplier:1}],combatStats:{defense:1}}},ant_mandible:{id:"ant_mandible",name:"Ant Mandible",description:"A discarded ant mandible. Studying it improves your ants' combat abilities.",rarity:"common",category:"insect",boosts:{combatStats:{damage:2}}},dewdrop:{id:"dewdrop",name:"Morning Dewdrop",description:"A glistening drop of morning dew. It refreshes your ants and increases their work rate.",rarity:"uncommon",category:"plant",boosts:{global:1,specificGenerator:[{generatorId:"worker",multiplier:2},{generatorId:"queen",multiplier:1}],pheromoneGain:1}},small_crystal:{id:"small_crystal",name:"Small Crystal",description:"A tiny, shimmering crystal. It seems to amplify the colony's energy.",rarity:"uncommon",category:"mineral",boosts:{epGain:2,pheromoneGain:1}},ladybug_wing:{id:"ladybug_wing",name:"Ladybug Wing",description:"A delicate wing from a ladybug. Its patterns contain secrets of efficient movement.",rarity:"rare",category:"insect",boosts:{global:2,combatStats:{damage:5},epGain:3}},amber_fragment:{id:"amber_fragment",name:"Amber Fragment",description:"A small piece of ancient amber. It contains fossilized pheromones that enhance your colony.",rarity:"rare",category:"mineral",boosts:{pheromoneGain:5,epGain:3}},beetle_shell:{id:"beetle_shell",name:"Iridescent Beetle Shell",description:"A beautiful, rainbow-colored beetle shell. It inspires your ants to work harder.",rarity:"epic",category:"insect",boosts:{global:4,specificGenerator:[{generatorId:"soldier",multiplier:8}],combatStats:{defense:15,health:20}}},ancient_pheromone:{id:"ancient_pheromone",name:"Ancient Pheromone Extract",description:"A concentrated essence of ancient pheromones. It significantly enhances your colony's abilities.",rarity:"legendary",category:"artifact",boosts:{global:8,epGain:10,pheromoneGain:12,combatStats:{damage:25,health:30}}},quantum_crystal:{id:"quantum_crystal",name:"Quantum Crystal",description:"A crystal that exists in multiple dimensions simultaneously. It bends reality around your colony.",rarity:"mythic",category:"artifact",boosts:{global:15,epGain:18,pheromoneGain:20,combatStats:{damage:50,health:60,defense:40,regen:10}}},cosmic_essence:{id:"cosmic_essence",name:"Cosmic Essence",description:"The fundamental essence of the universe itself. It transforms your colony in miraculous ways.",rarity:"divine",category:"artifact",boosts:{global:30,epGain:35,pheromoneGain:40,specificGenerator:[{generatorId:"worker",multiplier:50},{generatorId:"queen",multiplier:50},{generatorId:"soldier",multiplier:50},{generatorId:"colony",multiplier:50}],combatStats:{damage:100,health:120,defense:80,regen:25}}},dried_fungus:{id:"dried_fungus",name:"Dried Fungus",description:"A piece of dried fungus. It provides a small but lasting energy boost.",rarity:"common",category:"plant",boosts:{epGain:.8}},spider_silk:{id:"spider_silk",name:"Spider Silk Strand",description:"A strong, sticky strand of spider silk. Useful for reinforcing tunnels.",rarity:"uncommon",category:"insect",boosts:{global:.7,specificGenerator:[{generatorId:"digger",multiplier:2.5}]}},geode_shard:{id:"geode_shard",name:"Geode Shard",description:"A fragment from inside a geode. It hums with contained energy.",rarity:"rare",category:"mineral",boosts:{pheromoneGain:4,combatStats:{defense:8}}},glowing_mushroom:{id:"glowing_mushroom",name:"Glowing Mushroom",description:"A bioluminescent mushroom found deep underground. It pulses with strange energy.",rarity:"epic",category:"plant",boosts:{epGain:6,combatStats:{health:15,regen:3}}},mantis_claw:{id:"mantis_claw",name:"Mantis Claw Fragment",description:"A razor-sharp piece of a praying mantis's claw. Inspires deadly precision.",rarity:"legendary",category:"insect",boosts:{global:6,combatStats:{damage:35}}},meteorite_fragment:{id:"meteorite_fragment",name:"Meteorite Fragment",description:"A piece of rock from beyond this world. It resonates with cosmic power.",rarity:"mythic",category:"mineral",boosts:{global:12,epGain:15,pheromoneGain:16,combatStats:{damage:40,defense:50}}},world_tree_seedling:{id:"world_tree_seedling",name:"World Tree Seedling",description:"A tiny sprout believed to be from the legendary World Tree. Holds immense potential.",rarity:"divine",category:"plant",boosts:{global:25,epGain:30,pheromoneGain:30,specificGenerator:[{generatorId:"worker",multiplier:40},{generatorId:"digger",multiplier:40},{generatorId:"queen",multiplier:40},{generatorId:"colony",multiplier:40}],combatStats:{health:100,regen:30}}}};function Uv(){const t=W([]),e=(i,l)=>{const c=`${i}-${Date.now()}-${Math.random().toString(36).substring(2,9)}`;return t.value.push({id:c,itemId:i,amount:l,timestamp:Date.now()}),setTimeout(()=>{o(c)},2e3),c},s=(i,l)=>{const c=t.value.find(d=>d.id===i);c&&(c.position=l)},o=i=>{const l=t.value.findIndex(c=>c.id===i);l!==-1&&t.value.splice(l,1)};return{indicators:t,addXpIndicator:e,updateIndicatorPosition:s,removeXpIndicator:o,getItemIndicators:i=>t.value.filter(l=>l.itemId===i)}}const fi=Ft("collectible",()=>{const t=W([]),e=.1,s=.05,o=Uv(),{indicators:n,addXpIndicator:i}=o,l=W("all"),c=W("rarity"),d=W(!1),u=W(!1),m=O=>or[O],p=O=>t.value.find(Y=>Y.id===O),y=(O,Y)=>{const re={common:.6,uncommon:.75,rare:.9,epic:1,legendary:1.15,mythic:1.3,divine:1.5}[Y]||1;if(O.equals(1))return be.fromNumber(0);const he=O.toNumber();let ve=Math.floor(1/4*Math.floor(he+300*Math.pow(2,he/7)));return ve=Math.floor(ve*.9*re),be.fromNumber(ve)},v=O=>{if(O.toNumber()<=10)return be.fromNumber(1).add(O.minus(1).mul(e));{const G=be.fromNumber(9).mul(e),de=O.minus(10).mul(s);return be.fromNumber(1).add(G).add(de)}},S={common:"text-gray-600 dark:text-gray-400",uncommon:"text-green-600 dark:text-green-300",rare:"text-blue-600 dark:text-blue-300",epic:"text-purple-600 dark:text-purple-300",legendary:"text-amber-600 dark:text-amber-300",mythic:"text-pink-600 dark:text-pink-300",divine:"text-yellow-600 dark:text-yellow-300"},_={common:"bg-gray-200 dark:bg-gray-700",uncommon:"bg-green-200 dark:bg-green-800",rare:"bg-blue-200 dark:bg-blue-800",epic:"bg-purple-300 dark:bg-purple-800",legendary:"bg-amber-300 dark:bg-amber-700",mythic:"bg-pink-300 dark:bg-pink-800",divine:"bg-yellow-300 dark:bg-yellow-700"},C=O=>S[O]||S.common,x=O=>_[O]||_.common,$=O=>{const Y=m(O),G=p(O);return Y?G?`${Y.name} (Lvl ${G.level.toString()})`:Y.name:"Unknown Collectible"},A=(O,Y)=>{const G=m(O);if(!G)return{leveledUp:!1,newLevel:a(0)};let de=p(O),re=!1;if(!de){const he={id:O,level:a(1),xp:a(0),maxXp:y(a(1),G.rarity)};t.value.push(he),de=he,re=!0}for(de.xp=de.xp.add(Y),Y.gt(0)&&i(O,Y);de.xp.gte(de.maxXp);)de.level=de.level.add(1),re=!0,de.xp=de.xp.sub(de.maxXp),de.maxXp=y(de.level,G.rarity);return{leveledUp:re,newLevel:de.level}},M=O=>{const Y=m(O);if(!Y)return;if(p(O)){const re={common:2,uncommon:5,rare:12,epic:30,legendary:75,mythic:180,divine:450}[Y.rarity]||5,he=a(Math.round(re)),ve=A(O,he);return{isNew:!1,leveledUp:ve.leveledUp,level:ve.newLevel}}else return{isNew:!0,leveledUp:!1,level:A(O,a(0)).newLevel}},P=O=>{const Y=m(O),G=p(O);if(!Y||!G)return null;const de=v(G.level),re={...Y.boosts};if(re.global!==void 0&&(re.global=re.global*de.toNumber()),re.epGain!==void 0&&(re.epGain=re.epGain*de.toNumber()),re.pheromoneGain!==void 0&&(re.pheromoneGain=re.pheromoneGain*de.toNumber()),re.specificGenerator&&(re.specificGenerator=re.specificGenerator.map(he=>({generatorId:he.generatorId,multiplier:he.multiplier*de.toNumber()}))),re.combatStats){const he=re.combatStats;re.combatStats={damage:he.damage?he.damage*de.toNumber():void 0,health:he.health?he.health*de.toNumber():void 0,defense:he.defense?he.defense*de.toNumber():void 0,regen:he.regen?he.regen*de.toNumber():void 0}}return re},L=()=>{const O={global:0,epGain:0,pheromoneGain:0,specificGenerator:{},combatStats:{damage:0,health:0,defense:0,regen:0}};return t.value.forEach(Y=>{const G=P(Y.id);G&&(G.global!==void 0&&(O.global+=G.global),G.epGain!==void 0&&(O.epGain+=G.epGain),G.pheromoneGain!==void 0&&(O.pheromoneGain+=G.pheromoneGain),G.specificGenerator&&G.specificGenerator.forEach(de=>{O.specificGenerator[de.generatorId]||(O.specificGenerator[de.generatorId]=0),O.specificGenerator[de.generatorId]+=de.multiplier}),G.combatStats&&(G.combatStats.damage&&(O.combatStats.damage+=G.combatStats.damage),G.combatStats.health&&(O.combatStats.health+=G.combatStats.health),G.combatStats.defense&&(O.combatStats.defense+=G.combatStats.defense),G.combatStats.regen&&(O.combatStats.regen+=G.combatStats.regen)))}),O},B=()=>{const O=L();return{global:be.fromNumber(1+O.global/100),epGain:be.fromNumber(1+O.epGain/100),pheromoneGain:be.fromNumber(1+O.pheromoneGain/100),specificGenerator:Object.fromEntries(Object.entries(O.specificGenerator).map(([Y,G])=>[Y,be.fromNumber(1+G/100)])),combatStats:{damage:O.combatStats.damage,health:O.combatStats.health,defense:O.combatStats.defense,regen:O.combatStats.regen}}},k=(O,Y,G=!1)=>{const de=O.div(Y).mul(100).toFixed(1);return G?`${de}% (${O.floor().toString()} / ${Y.floor().toString()})`:`${de}%`},I=O=>{const Y=p(O);return Y?Y.maxXp.equals(0)?100:Y.xp.div(Y.maxXp).mul(100).toNumber():0},N=R(()=>t.value.length),U=R(()=>Object.keys(or).length),j=R(()=>Math.floor(N.value/U.value*100)),ee=R(()=>{let O=[...t.value];if(l.value!=="all"){const Y=or;O=O.filter(G=>{const de=Y[G.id];return de&&de.category===l.value})}switch(c.value){case"level":O.sort((G,de)=>de.level.cmp(G.level));break;case"name":O.sort((G,de)=>{var ve,Se;const re=((ve=or[G.id])==null?void 0:ve.name)||"",he=((Se=or[de.id])==null?void 0:Se.name)||"";return re.localeCompare(he)});break;case"rarity":const Y={common:0,uncommon:1,rare:2,epic:3,legendary:4,mythic:5,divine:6};O.sort((G,de)=>{var ve,Se;const re=((ve=or[G.id])==null?void 0:ve.rarity)||"common",he=((Se=or[de.id])==null?void 0:Se.rarity)||"common";return Y[he]-Y[re]});break;case"recently":O.reverse();break}return O});return{collection:t,getCollectible:m,getCollectibleInstance:p,addCollectible:M,addCollectibleXp:A,getCollectibleBoosts:P,getAllBoosts:L,getBoostMultipliers:B,getFormattedCollectibleName:$,getRarityColor:C,getRarityBackground:x,formatXpProgress:k,getLevelProgress:I,calculateMaxXp:y,collectionCount:N,totalCollectibles:U,collectionCompletion:j,filteredAndSortedCollection:ee,selectedCollectibleFilter:l,selectedCollectibleSort:c,showMaxLevel:d,showOnlyUnlocked:u,xpIndicators:n,...o,getState:()=>({collection:t.value.map(O=>({id:O.id,level:O.level.toString(),xp:O.xp.toString()})),selectedCollectibleFilter:l.value,selectedCollectibleSort:c.value,showMaxLevel:d.value,showOnlyUnlocked:u.value}),loadState:O=>{O.collection&&(t.value=O.collection.map(Y=>{const G=m(Y.id);if(!G)return null;const de=a(Y.level||1),re=a(Y.xp||0),he=y(de,G.rarity);return{id:Y.id,level:de,xp:re,maxXp:he}}).filter(Boolean)),O.selectedCollectibleFilter&&(l.value=O.selectedCollectibleFilter),O.selectedCollectibleSort&&(c.value=O.selectedCollectibleSort),O.showMaxLevel!==void 0&&(d.value=O.showMaxLevel),O.showOnlyUnlocked!==void 0&&(u.value=O.showOnlyUnlocked)},LEVEL_BOOST_MULTIPLIER_EARLY:e,LEVEL_BOOST_MULTIPLIER:s}});class tn extends Error{}class X2 extends tn{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class Z2 extends tn{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class J2 extends tn{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Sn extends tn{}class Bv extends tn{constructor(e){super(`Invalid unit ${e}`)}}class hs extends tn{}class Xo extends tn{constructor(){super("Zone is an abstract class")}}const Ve="numeric",vo="short",Ys="long",Ll={year:Ve,month:Ve,day:Ve},qv={year:Ve,month:vo,day:Ve},e5={year:Ve,month:vo,day:Ve,weekday:vo},Ov={year:Ve,month:Ys,day:Ve},Nv={year:Ve,month:Ys,day:Ve,weekday:Ys},Hv={hour:Ve,minute:Ve},jv={hour:Ve,minute:Ve,second:Ve},Gv={hour:Ve,minute:Ve,second:Ve,timeZoneName:vo},Vv={hour:Ve,minute:Ve,second:Ve,timeZoneName:Ys},Qv={hour:Ve,minute:Ve,hourCycle:"h23"},zv={hour:Ve,minute:Ve,second:Ve,hourCycle:"h23"},Wv={hour:Ve,minute:Ve,second:Ve,hourCycle:"h23",timeZoneName:vo},Yv={hour:Ve,minute:Ve,second:Ve,hourCycle:"h23",timeZoneName:Ys},Kv={year:Ve,month:Ve,day:Ve,hour:Ve,minute:Ve},Xv={year:Ve,month:Ve,day:Ve,hour:Ve,minute:Ve,second:Ve},Zv={year:Ve,month:vo,day:Ve,hour:Ve,minute:Ve},Jv={year:Ve,month:vo,day:Ve,hour:Ve,minute:Ve,second:Ve},t5={year:Ve,month:vo,day:Ve,weekday:vo,hour:Ve,minute:Ve},ey={year:Ve,month:Ys,day:Ve,hour:Ve,minute:Ve,timeZoneName:vo},ty={year:Ve,month:Ys,day:Ve,hour:Ve,minute:Ve,second:Ve,timeZoneName:vo},sy={year:Ve,month:Ys,day:Ve,weekday:Ys,hour:Ve,minute:Ve,timeZoneName:Ys},oy={year:Ve,month:Ys,day:Ve,weekday:Ys,hour:Ve,minute:Ve,second:Ve,timeZoneName:Ys};class gi{get type(){throw new Xo}get name(){throw new Xo}get ianaName(){return this.name}get isUniversal(){throw new Xo}offsetName(e,s){throw new Xo}formatOffset(e,s){throw new Xo}offset(e){throw new Xo}equals(e){throw new Xo}get isValid(){throw new Xo}}let au=null;class uc extends gi{static get instance(){return au===null&&(au=new uc),au}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:s,locale:o}){return fy(e,s,o)}formatOffset(e,s){return Ia(this.offset(e),s)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const Qu=new Map;function s5(t){let e=Qu.get(t);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),Qu.set(t,e)),e}const o5={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function r5(t,e){const s=t.format(e).replace(/\u200E/g,""),o=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(s),[,n,i,l,c,d,u,m]=o;return[l,n,i,c,d,u,m]}function n5(t,e){const s=t.formatToParts(e),o=[];for(let n=0;n<s.length;n++){const{type:i,value:l}=s[n],c=o5[i];i==="era"?o[c]=l:ot(c)||(o[c]=parseInt(l,10))}return o}const iu=new Map;class Go extends gi{static create(e){let s=iu.get(e);return s===void 0&&iu.set(e,s=new Go(e)),s}static resetCache(){iu.clear(),Qu.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Go.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:s,locale:o}){return fy(e,s,o,this.name)}formatOffset(e,s){return Ia(this.offset(e),s)}offset(e){if(!this.valid)return NaN;const s=new Date(e);if(isNaN(s))return NaN;const o=s5(this.name);let[n,i,l,c,d,u,m]=o.formatToParts?n5(o,s):r5(o,s);c==="BC"&&(n=-Math.abs(n)+1);const y=pc({year:n,month:i,day:l,hour:d===24?0:d,minute:u,second:m,millisecond:0});let v=+s;const S=v%1e3;return v-=S>=0?S:1e3+S,(y-v)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let kf={};function a5(t,e={}){const s=JSON.stringify([t,e]);let o=kf[s];return o||(o=new Intl.ListFormat(t,e),kf[s]=o),o}const zu=new Map;function Wu(t,e={}){const s=JSON.stringify([t,e]);let o=zu.get(s);return o===void 0&&(o=new Intl.DateTimeFormat(t,e),zu.set(s,o)),o}const Yu=new Map;function i5(t,e={}){const s=JSON.stringify([t,e]);let o=Yu.get(s);return o===void 0&&(o=new Intl.NumberFormat(t,e),Yu.set(s,o)),o}const Ku=new Map;function l5(t,e={}){const{base:s,...o}=e,n=JSON.stringify([t,o]);let i=Ku.get(n);return i===void 0&&(i=new Intl.RelativeTimeFormat(t,e),Ku.set(n,i)),i}let ga=null;function c5(){return ga||(ga=new Intl.DateTimeFormat().resolvedOptions().locale,ga)}const Xu=new Map;function ry(t){let e=Xu.get(t);return e===void 0&&(e=new Intl.DateTimeFormat(t).resolvedOptions(),Xu.set(t,e)),e}const Zu=new Map;function d5(t){let e=Zu.get(t);if(!e){const s=new Intl.Locale(t);e="getWeekInfo"in s?s.getWeekInfo():s.weekInfo,"minimalDays"in e||(e={...ny,...e}),Zu.set(t,e)}return e}function u5(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const s=t.indexOf("-u-");if(s===-1)return[t];{let o,n;try{o=Wu(t).resolvedOptions(),n=t}catch{const d=t.substring(0,s);o=Wu(d).resolvedOptions(),n=d}const{numberingSystem:i,calendar:l}=o;return[n,i,l]}}function m5(t,e,s){return(s||e)&&(t.includes("-u-")||(t+="-u"),s&&(t+=`-ca-${s}`),e&&(t+=`-nu-${e}`)),t}function p5(t){const e=[];for(let s=1;s<=12;s++){const o=Ze.utc(2009,s,1);e.push(t(o))}return e}function f5(t){const e=[];for(let s=1;s<=7;s++){const o=Ze.utc(2016,11,13+s);e.push(t(o))}return e}function Ri(t,e,s,o){const n=t.listingMode();return n==="error"?null:n==="en"?s(e):o(e)}function g5(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||ry(t.locale).numberingSystem==="latn"}class h5{constructor(e,s,o){this.padTo=o.padTo||0,this.floor=o.floor||!1;const{padTo:n,floor:i,...l}=o;if(!s||Object.keys(l).length>0){const c={useGrouping:!1,...o};o.padTo>0&&(c.minimumIntegerDigits=o.padTo),this.inf=i5(e,c)}}format(e){if(this.inf){const s=this.floor?Math.floor(e):e;return this.inf.format(s)}else{const s=this.floor?Math.floor(e):K0(e,3);return Kt(s,this.padTo)}}}class b5{constructor(e,s,o){this.opts=o,this.originalZone=void 0;let n;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const l=-1*(e.offset/60),c=l>=0?`Etc/GMT+${l}`:`Etc/GMT${l}`;e.offset!==0&&Go.create(c).valid?(n=c,this.dt=e):(n="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,n=e.zone.name):(n="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const i={...this.opts};i.timeZone=i.timeZone||n,this.dtf=Wu(s,i)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(s=>{if(s.type==="timeZoneName"){const o=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...s,value:o}}else return s}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class v5{constructor(e,s,o){this.opts={style:"long",...o},!s&&my()&&(this.rtf=l5(e,o))}format(e,s){return this.rtf?this.rtf.format(e,s):O5(s,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,s){return this.rtf?this.rtf.formatToParts(e,s):[]}}const ny={firstDay:1,minimalDays:4,weekend:[6,7]};class $t{static fromOpts(e){return $t.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,s,o,n,i=!1){const l=e||jt.defaultLocale,c=l||(i?"en-US":c5()),d=s||jt.defaultNumberingSystem,u=o||jt.defaultOutputCalendar,m=e0(n)||jt.defaultWeekSettings;return new $t(c,d,u,m,l)}static resetCache(){ga=null,zu.clear(),Yu.clear(),Ku.clear(),Xu.clear(),Zu.clear()}static fromObject({locale:e,numberingSystem:s,outputCalendar:o,weekSettings:n}={}){return $t.create(e,s,o,n)}constructor(e,s,o,n,i){const[l,c,d]=u5(e);this.locale=l,this.numberingSystem=s||c||null,this.outputCalendar=o||d||null,this.weekSettings=n,this.intl=m5(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=g5(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),s=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&s?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:$t.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e0(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,s=!1){return Ri(this,e,by,()=>{const o=s?{month:e,day:"numeric"}:{month:e},n=s?"format":"standalone";return this.monthsCache[n][e]||(this.monthsCache[n][e]=p5(i=>this.extract(i,o,"month"))),this.monthsCache[n][e]})}weekdays(e,s=!1){return Ri(this,e,xy,()=>{const o=s?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},n=s?"format":"standalone";return this.weekdaysCache[n][e]||(this.weekdaysCache[n][e]=f5(i=>this.extract(i,o,"weekday"))),this.weekdaysCache[n][e]})}meridiems(){return Ri(this,void 0,()=>ky,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Ze.utc(2016,11,13,9),Ze.utc(2016,11,13,19)].map(s=>this.extract(s,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Ri(this,e,_y,()=>{const s={era:e};return this.eraCache[e]||(this.eraCache[e]=[Ze.utc(-40,1,1),Ze.utc(2017,1,1)].map(o=>this.extract(o,s,"era"))),this.eraCache[e]})}extract(e,s,o){const n=this.dtFormatter(e,s),i=n.formatToParts(),l=i.find(c=>c.type.toLowerCase()===o);return l?l.value:null}numberFormatter(e={}){return new h5(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,s={}){return new b5(e,this.intl,s)}relFormatter(e={}){return new v5(this.intl,this.isEnglish(),e)}listFormatter(e={}){return a5(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||ry(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:py()?d5(this.locale):ny}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let lu=null;class Es extends gi{static get utcInstance(){return lu===null&&(lu=new Es(0)),lu}static instance(e){return e===0?Es.utcInstance:new Es(e)}static parseSpecifier(e){if(e){const s=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(s)return new Es(fc(s[1],s[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Ia(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Ia(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,s){return Ia(this.fixed,s)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class y5 extends gi{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function mr(t,e){if(ot(t)||t===null)return e;if(t instanceof gi)return t;if(S5(t)){const s=t.toLowerCase();return s==="default"?e:s==="local"||s==="system"?uc.instance:s==="utc"||s==="gmt"?Es.utcInstance:Es.parseSpecifier(s)||Go.create(t)}else return gr(t)?Es.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new y5(t)}const Q0={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},_f={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},x5=Q0.hanidec.replace(/[\[|\]]/g,"").split("");function k5(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let s=0;s<t.length;s++){const o=t.charCodeAt(s);if(t[s].search(Q0.hanidec)!==-1)e+=x5.indexOf(t[s]);else for(const n in _f){const[i,l]=_f[n];o>=i&&o<=l&&(e+=o-i)}}return parseInt(e,10)}else return e}const Ju=new Map;function _5(){Ju.clear()}function lo({numberingSystem:t},e=""){const s=t||"latn";let o=Ju.get(s);o===void 0&&(o=new Map,Ju.set(s,o));let n=o.get(e);return n===void 0&&(n=new RegExp(`${Q0[s]}${e}`),o.set(e,n)),n}let wf=()=>Date.now(),Cf="system",Sf=null,$f=null,Ef=null,Af=60,Mf,Pf=null;class jt{static get now(){return wf}static set now(e){wf=e}static set defaultZone(e){Cf=e}static get defaultZone(){return mr(Cf,uc.instance)}static get defaultLocale(){return Sf}static set defaultLocale(e){Sf=e}static get defaultNumberingSystem(){return $f}static set defaultNumberingSystem(e){$f=e}static get defaultOutputCalendar(){return Ef}static set defaultOutputCalendar(e){Ef=e}static get defaultWeekSettings(){return Pf}static set defaultWeekSettings(e){Pf=e0(e)}static get twoDigitCutoffYear(){return Af}static set twoDigitCutoffYear(e){Af=e%100}static get throwOnInvalid(){return Mf}static set throwOnInvalid(e){Mf=e}static resetCaches(){$t.resetCache(),Go.resetCache(),Ze.resetCache(),_5()}}class uo{constructor(e,s){this.reason=e,this.explanation=s}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const ay=[0,31,59,90,120,151,181,212,243,273,304,334],iy=[0,31,60,91,121,152,182,213,244,274,305,335];function to(t,e){return new uo("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function z0(t,e,s){const o=new Date(Date.UTC(t,e-1,s));t<100&&t>=0&&o.setUTCFullYear(o.getUTCFullYear()-1900);const n=o.getUTCDay();return n===0?7:n}function ly(t,e,s){return s+(hi(t)?iy:ay)[e-1]}function cy(t,e){const s=hi(t)?iy:ay,o=s.findIndex(i=>i<e),n=e-s[o];return{month:o+1,day:n}}function W0(t,e){return(t-e+7)%7+1}function Il(t,e=4,s=1){const{year:o,month:n,day:i}=t,l=ly(o,n,i),c=W0(z0(o,n,i),s);let d=Math.floor((l-c+14-e)/7),u;return d<1?(u=o-1,d=Ja(u,e,s)):d>Ja(o,e,s)?(u=o+1,d=1):u=o,{weekYear:u,weekNumber:d,weekday:c,...gc(t)}}function Tf(t,e=4,s=1){const{weekYear:o,weekNumber:n,weekday:i}=t,l=W0(z0(o,1,e),s),c=Ln(o);let d=n*7+i-l-7+e,u;d<1?(u=o-1,d+=Ln(u)):d>c?(u=o+1,d-=Ln(o)):u=o;const{month:m,day:p}=cy(u,d);return{year:u,month:m,day:p,...gc(t)}}function cu(t){const{year:e,month:s,day:o}=t,n=ly(e,s,o);return{year:e,ordinal:n,...gc(t)}}function Lf(t){const{year:e,ordinal:s}=t,{month:o,day:n}=cy(e,s);return{year:e,month:o,day:n,...gc(t)}}function If(t,e){if(!ot(t.localWeekday)||!ot(t.localWeekNumber)||!ot(t.localWeekYear)){if(!ot(t.weekday)||!ot(t.weekNumber)||!ot(t.weekYear))throw new Sn("Cannot mix locale-based week fields with ISO-based week fields");return ot(t.localWeekday)||(t.weekday=t.localWeekday),ot(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),ot(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function w5(t,e=4,s=1){const o=mc(t.weekYear),n=so(t.weekNumber,1,Ja(t.weekYear,e,s)),i=so(t.weekday,1,7);return o?n?i?!1:to("weekday",t.weekday):to("week",t.weekNumber):to("weekYear",t.weekYear)}function C5(t){const e=mc(t.year),s=so(t.ordinal,1,Ln(t.year));return e?s?!1:to("ordinal",t.ordinal):to("year",t.year)}function dy(t){const e=mc(t.year),s=so(t.month,1,12),o=so(t.day,1,Dl(t.year,t.month));return e?s?o?!1:to("day",t.day):to("month",t.month):to("year",t.year)}function uy(t){const{hour:e,minute:s,second:o,millisecond:n}=t,i=so(e,0,23)||e===24&&s===0&&o===0&&n===0,l=so(s,0,59),c=so(o,0,59),d=so(n,0,999);return i?l?c?d?!1:to("millisecond",n):to("second",o):to("minute",s):to("hour",e)}function ot(t){return typeof t>"u"}function gr(t){return typeof t=="number"}function mc(t){return typeof t=="number"&&t%1===0}function S5(t){return typeof t=="string"}function $5(t){return Object.prototype.toString.call(t)==="[object Date]"}function my(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function py(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function E5(t){return Array.isArray(t)?t:[t]}function Df(t,e,s){if(t.length!==0)return t.reduce((o,n)=>{const i=[e(n),n];return o&&s(o[0],i[0])===o[0]?o:i},null)[1]}function A5(t,e){return e.reduce((s,o)=>(s[o]=t[o],s),{})}function qn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function e0(t){if(t==null)return null;if(typeof t!="object")throw new hs("Week settings must be an object");if(!so(t.firstDay,1,7)||!so(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!so(e,1,7)))throw new hs("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function so(t,e,s){return mc(t)&&t>=e&&t<=s}function M5(t,e){return t-e*Math.floor(t/e)}function Kt(t,e=2){const s=t<0;let o;return s?o="-"+(""+-t).padStart(e,"0"):o=(""+t).padStart(e,"0"),o}function dr(t){if(!(ot(t)||t===null||t===""))return parseInt(t,10)}function Pr(t){if(!(ot(t)||t===null||t===""))return parseFloat(t)}function Y0(t){if(!(ot(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function K0(t,e,s=!1){const o=10**e;return(s?Math.trunc:Math.round)(t*o)/o}function hi(t){return t%4===0&&(t%100!==0||t%400===0)}function Ln(t){return hi(t)?366:365}function Dl(t,e){const s=M5(e-1,12)+1,o=t+(e-s)/12;return s===2?hi(o)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][s-1]}function pc(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function Ff(t,e,s){return-W0(z0(t,1,e),s)+e-1}function Ja(t,e=4,s=1){const o=Ff(t,e,s),n=Ff(t+1,e,s);return(Ln(t)-o+n)/7}function t0(t){return t>99?t:t>jt.twoDigitCutoffYear?1900+t:2e3+t}function fy(t,e,s,o=null){const n=new Date(t),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};o&&(i.timeZone=o);const l={timeZoneName:e,...i},c=new Intl.DateTimeFormat(s,l).formatToParts(n).find(d=>d.type.toLowerCase()==="timezonename");return c?c.value:null}function fc(t,e){let s=parseInt(t,10);Number.isNaN(s)&&(s=0);const o=parseInt(e,10)||0,n=s<0||Object.is(s,-0)?-o:o;return s*60+n}function gy(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new hs(`Invalid unit value ${t}`);return e}function Fl(t,e){const s={};for(const o in t)if(qn(t,o)){const n=t[o];if(n==null)continue;s[e(o)]=gy(n)}return s}function Ia(t,e){const s=Math.trunc(Math.abs(t/60)),o=Math.trunc(Math.abs(t%60)),n=t>=0?"+":"-";switch(e){case"short":return`${n}${Kt(s,2)}:${Kt(o,2)}`;case"narrow":return`${n}${s}${o>0?`:${o}`:""}`;case"techie":return`${n}${Kt(s,2)}${Kt(o,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function gc(t){return A5(t,["hour","minute","second","millisecond"])}const P5=["January","February","March","April","May","June","July","August","September","October","November","December"],hy=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],T5=["J","F","M","A","M","J","J","A","S","O","N","D"];function by(t){switch(t){case"narrow":return[...T5];case"short":return[...hy];case"long":return[...P5];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const vy=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],yy=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],L5=["M","T","W","T","F","S","S"];function xy(t){switch(t){case"narrow":return[...L5];case"short":return[...yy];case"long":return[...vy];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const ky=["AM","PM"],I5=["Before Christ","Anno Domini"],D5=["BC","AD"],F5=["B","A"];function _y(t){switch(t){case"narrow":return[...F5];case"short":return[...D5];case"long":return[...I5];default:return null}}function R5(t){return ky[t.hour<12?0:1]}function U5(t,e){return xy(e)[t.weekday-1]}function B5(t,e){return by(e)[t.month-1]}function q5(t,e){return _y(e)[t.year<0?0:1]}function O5(t,e,s="always",o=!1){const n={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=["hours","minutes","seconds"].indexOf(t)===-1;if(s==="auto"&&i){const p=t==="days";switch(e){case 1:return p?"tomorrow":`next ${n[t][0]}`;case-1:return p?"yesterday":`last ${n[t][0]}`;case 0:return p?"today":`this ${n[t][0]}`}}const l=Object.is(e,-0)||e<0,c=Math.abs(e),d=c===1,u=n[t],m=o?d?u[1]:u[2]||u[1]:d?n[t][0]:t;return l?`${c} ${m} ago`:`in ${c} ${m}`}function Rf(t,e){let s="";for(const o of t)o.literal?s+=o.val:s+=e(o.val);return s}const N5={D:Ll,DD:qv,DDD:Ov,DDDD:Nv,t:Hv,tt:jv,ttt:Gv,tttt:Vv,T:Qv,TT:zv,TTT:Wv,TTTT:Yv,f:Kv,ff:Zv,fff:ey,ffff:sy,F:Xv,FF:Jv,FFF:ty,FFFF:oy};class ys{static create(e,s={}){return new ys(e,s)}static parseFormat(e){let s=null,o="",n=!1;const i=[];for(let l=0;l<e.length;l++){const c=e.charAt(l);c==="'"?(o.length>0&&i.push({literal:n||/^\s+$/.test(o),val:o}),s=null,o="",n=!n):n||c===s?o+=c:(o.length>0&&i.push({literal:/^\s+$/.test(o),val:o}),o=c,s=c)}return o.length>0&&i.push({literal:n||/^\s+$/.test(o),val:o}),i}static macroTokenToFormatOpts(e){return N5[e]}constructor(e,s){this.opts=s,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,s){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...s}).format()}dtFormatter(e,s={}){return this.loc.dtFormatter(e,{...this.opts,...s})}formatDateTime(e,s){return this.dtFormatter(e,s).format()}formatDateTimeParts(e,s){return this.dtFormatter(e,s).formatToParts()}formatInterval(e,s){return this.dtFormatter(e.start,s).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,s){return this.dtFormatter(e,s).resolvedOptions()}num(e,s=0){if(this.opts.forceSimple)return Kt(e,s);const o={...this.opts};return s>0&&(o.padTo=s),this.loc.numberFormatter(o).format(e)}formatDateTimeFromString(e,s){const o=this.loc.listingMode()==="en",n=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",i=(v,S)=>this.loc.extract(e,v,S),l=v=>e.isOffsetFixed&&e.offset===0&&v.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,v.format):"",c=()=>o?R5(e):i({hour:"numeric",hourCycle:"h12"},"dayperiod"),d=(v,S)=>o?B5(e,v):i(S?{month:v}:{month:v,day:"numeric"},"month"),u=(v,S)=>o?U5(e,v):i(S?{weekday:v}:{weekday:v,month:"long",day:"numeric"},"weekday"),m=v=>{const S=ys.macroTokenToFormatOpts(v);return S?this.formatWithSystemDefault(e,S):v},p=v=>o?q5(e,v):i({era:v},"era"),y=v=>{switch(v){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return l({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return l({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return l({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return c();case"d":return n?i({day:"numeric"},"day"):this.num(e.day);case"dd":return n?i({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return n?i({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return n?i({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return d("short",!0);case"LLLL":return d("long",!0);case"LLLLL":return d("narrow",!0);case"M":return n?i({month:"numeric"},"month"):this.num(e.month);case"MM":return n?i({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return d("short",!1);case"MMMM":return d("long",!1);case"MMMMM":return d("narrow",!1);case"y":return n?i({year:"numeric"},"year"):this.num(e.year);case"yy":return n?i({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return n?i({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return n?i({year:"numeric"},"year"):this.num(e.year,6);case"G":return p("short");case"GG":return p("long");case"GGGGG":return p("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return m(v)}};return Rf(ys.parseFormat(s),y)}formatDurationFromString(e,s){const o=d=>{switch(d[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},n=d=>u=>{const m=o(u);return m?this.num(d.get(m),u.length):u},i=ys.parseFormat(s),l=i.reduce((d,{literal:u,val:m})=>u?d:d.concat(m),[]),c=e.shiftTo(...l.map(o).filter(d=>d));return Rf(i,n(c))}}const wy=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function zn(...t){const e=t.reduce((s,o)=>s+o.source,"");return RegExp(`^${e}$`)}function Wn(...t){return e=>t.reduce(([s,o,n],i)=>{const[l,c,d]=i(e,n);return[{...s,...l},c||o,d]},[{},null,1]).slice(0,2)}function Yn(t,...e){if(t==null)return[null,null];for(const[s,o]of e){const n=s.exec(t);if(n)return o(n)}return[null,null]}function Cy(...t){return(e,s)=>{const o={};let n;for(n=0;n<t.length;n++)o[t[n]]=dr(e[s+n]);return[o,null,s+n]}}const Sy=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,H5=`(?:${Sy.source}?(?:\\[(${wy.source})\\])?)?`,X0=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,$y=RegExp(`${X0.source}${H5}`),Z0=RegExp(`(?:T${$y.source})?`),j5=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,G5=/(\d{4})-?W(\d\d)(?:-?(\d))?/,V5=/(\d{4})-?(\d{3})/,Q5=Cy("weekYear","weekNumber","weekDay"),z5=Cy("year","ordinal"),W5=/(\d{4})-(\d\d)-(\d\d)/,Ey=RegExp(`${X0.source} ?(?:${Sy.source}|(${wy.source}))?`),Y5=RegExp(`(?: ${Ey.source})?`);function In(t,e,s){const o=t[e];return ot(o)?s:dr(o)}function K5(t,e){return[{year:In(t,e),month:In(t,e+1,1),day:In(t,e+2,1)},null,e+3]}function Kn(t,e){return[{hours:In(t,e,0),minutes:In(t,e+1,0),seconds:In(t,e+2,0),milliseconds:Y0(t[e+3])},null,e+4]}function bi(t,e){const s=!t[e]&&!t[e+1],o=fc(t[e+1],t[e+2]),n=s?null:Es.instance(o);return[{},n,e+3]}function vi(t,e){const s=t[e]?Go.create(t[e]):null;return[{},s,e+1]}const X5=RegExp(`^T?${X0.source}$`),Z5=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function J5(t){const[e,s,o,n,i,l,c,d,u]=t,m=e[0]==="-",p=d&&d[0]==="-",y=(v,S=!1)=>v!==void 0&&(S||v&&m)?-v:v;return[{years:y(Pr(s)),months:y(Pr(o)),weeks:y(Pr(n)),days:y(Pr(i)),hours:y(Pr(l)),minutes:y(Pr(c)),seconds:y(Pr(d),d==="-0"),milliseconds:y(Y0(u),p)}]}const e3={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function J0(t,e,s,o,n,i,l){const c={year:e.length===2?t0(dr(e)):dr(e),month:hy.indexOf(s)+1,day:dr(o),hour:dr(n),minute:dr(i)};return l&&(c.second=dr(l)),t&&(c.weekday=t.length>3?vy.indexOf(t)+1:yy.indexOf(t)+1),c}const t3=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function s3(t){const[,e,s,o,n,i,l,c,d,u,m,p]=t,y=J0(e,n,o,s,i,l,c);let v;return d?v=e3[d]:u?v=0:v=fc(m,p),[y,new Es(v)]}function o3(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const r3=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,n3=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,a3=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Uf(t){const[,e,s,o,n,i,l,c]=t;return[J0(e,n,o,s,i,l,c),Es.utcInstance]}function i3(t){const[,e,s,o,n,i,l,c]=t;return[J0(e,c,s,o,n,i,l),Es.utcInstance]}const l3=zn(j5,Z0),c3=zn(G5,Z0),d3=zn(V5,Z0),u3=zn($y),Ay=Wn(K5,Kn,bi,vi),m3=Wn(Q5,Kn,bi,vi),p3=Wn(z5,Kn,bi,vi),f3=Wn(Kn,bi,vi);function g3(t){return Yn(t,[l3,Ay],[c3,m3],[d3,p3],[u3,f3])}function h3(t){return Yn(o3(t),[t3,s3])}function b3(t){return Yn(t,[r3,Uf],[n3,Uf],[a3,i3])}function v3(t){return Yn(t,[Z5,J5])}const y3=Wn(Kn);function x3(t){return Yn(t,[X5,y3])}const k3=zn(W5,Y5),_3=zn(Ey),w3=Wn(Kn,bi,vi);function C3(t){return Yn(t,[k3,Ay],[_3,w3])}const Bf="Invalid Duration",My={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},S3={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...My},Js=146097/400,un=146097/4800,$3={years:{quarters:4,months:12,weeks:Js/7,days:Js,hours:Js*24,minutes:Js*24*60,seconds:Js*24*60*60,milliseconds:Js*24*60*60*1e3},quarters:{months:3,weeks:Js/28,days:Js/4,hours:Js*24/4,minutes:Js*24*60/4,seconds:Js*24*60*60/4,milliseconds:Js*24*60*60*1e3/4},months:{weeks:un/7,days:un,hours:un*24,minutes:un*24*60,seconds:un*24*60*60,milliseconds:un*24*60*60*1e3},...My},jr=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],E3=jr.slice(0).reverse();function Zo(t,e,s=!1){const o={values:s?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new bt(o)}function Py(t,e){let s=e.milliseconds??0;for(const o of E3.slice(1))e[o]&&(s+=e[o]*t[o].milliseconds);return s}function qf(t,e){const s=Py(t,e)<0?-1:1;jr.reduceRight((o,n)=>{if(ot(e[n]))return o;if(o){const i=e[o]*s,l=t[n][o],c=Math.floor(i/l);e[n]+=c*s,e[o]-=c*l*s}return n},null),jr.reduce((o,n)=>{if(ot(e[n]))return o;if(o){const i=e[o]%1;e[o]-=i,e[n]+=i*t[o][n]}return n},null)}function A3(t){const e={};for(const[s,o]of Object.entries(t))o!==0&&(e[s]=o);return e}class bt{constructor(e){const s=e.conversionAccuracy==="longterm"||!1;let o=s?$3:S3;e.matrix&&(o=e.matrix),this.values=e.values,this.loc=e.loc||$t.create(),this.conversionAccuracy=s?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=o,this.isLuxonDuration=!0}static fromMillis(e,s){return bt.fromObject({milliseconds:e},s)}static fromObject(e,s={}){if(e==null||typeof e!="object")throw new hs(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new bt({values:Fl(e,bt.normalizeUnit),loc:$t.fromObject(s),conversionAccuracy:s.conversionAccuracy,matrix:s.matrix})}static fromDurationLike(e){if(gr(e))return bt.fromMillis(e);if(bt.isDuration(e))return e;if(typeof e=="object")return bt.fromObject(e);throw new hs(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,s){const[o]=v3(e);return o?bt.fromObject(o,s):bt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,s){const[o]=x3(e);return o?bt.fromObject(o,s):bt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,s=null){if(!e)throw new hs("need to specify a reason the Duration is invalid");const o=e instanceof uo?e:new uo(e,s);if(jt.throwOnInvalid)throw new J2(o);return new bt({invalid:o})}static normalizeUnit(e){const s={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!s)throw new Bv(e);return s}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,s={}){const o={...s,floor:s.round!==!1&&s.floor!==!1};return this.isValid?ys.create(this.loc,o).formatDurationFromString(this,e):Bf}toHuman(e={}){if(!this.isValid)return Bf;const s=jr.map(o=>{const n=this.values[o];return ot(n)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:o.slice(0,-1)}).format(n)}).filter(o=>o);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(s)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=K0(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const s=this.toMillis();return s<0||s>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Ze.fromMillis(s,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Py(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const s=bt.fromDurationLike(e),o={};for(const n of jr)(qn(s.values,n)||qn(this.values,n))&&(o[n]=s.get(n)+this.get(n));return Zo(this,{values:o},!0)}minus(e){if(!this.isValid)return this;const s=bt.fromDurationLike(e);return this.plus(s.negate())}mapUnits(e){if(!this.isValid)return this;const s={};for(const o of Object.keys(this.values))s[o]=gy(e(this.values[o],o));return Zo(this,{values:s},!0)}get(e){return this[bt.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const s={...this.values,...Fl(e,bt.normalizeUnit)};return Zo(this,{values:s})}reconfigure({locale:e,numberingSystem:s,conversionAccuracy:o,matrix:n}={}){const l={loc:this.loc.clone({locale:e,numberingSystem:s}),matrix:n,conversionAccuracy:o};return Zo(this,l)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return qf(this.matrix,e),Zo(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=A3(this.normalize().shiftToAll().toObject());return Zo(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(l=>bt.normalizeUnit(l));const s={},o={},n=this.toObject();let i;for(const l of jr)if(e.indexOf(l)>=0){i=l;let c=0;for(const u in o)c+=this.matrix[u][l]*o[u],o[u]=0;gr(n[l])&&(c+=n[l]);const d=Math.trunc(c);s[l]=d,o[l]=(c*1e3-d*1e3)/1e3}else gr(n[l])&&(o[l]=n[l]);for(const l in o)o[l]!==0&&(s[i]+=l===i?o[l]:o[l]/this.matrix[i][l]);return qf(this.matrix,s),Zo(this,{values:s},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const s of Object.keys(this.values))e[s]=this.values[s]===0?0:-this.values[s];return Zo(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function s(o,n){return o===void 0||o===0?n===void 0||n===0:o===n}for(const o of jr)if(!s(this.values[o],e.values[o]))return!1;return!0}}const mn="Invalid Interval";function M3(t,e){return!t||!t.isValid?Ht.invalid("missing or invalid start"):!e||!e.isValid?Ht.invalid("missing or invalid end"):e<t?Ht.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class Ht{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,s=null){if(!e)throw new hs("need to specify a reason the Interval is invalid");const o=e instanceof uo?e:new uo(e,s);if(jt.throwOnInvalid)throw new Z2(o);return new Ht({invalid:o})}static fromDateTimes(e,s){const o=ra(e),n=ra(s),i=M3(o,n);return i??new Ht({start:o,end:n})}static after(e,s){const o=bt.fromDurationLike(s),n=ra(e);return Ht.fromDateTimes(n,n.plus(o))}static before(e,s){const o=bt.fromDurationLike(s),n=ra(e);return Ht.fromDateTimes(n.minus(o),n)}static fromISO(e,s){const[o,n]=(e||"").split("/",2);if(o&&n){let i,l;try{i=Ze.fromISO(o,s),l=i.isValid}catch{l=!1}let c,d;try{c=Ze.fromISO(n,s),d=c.isValid}catch{d=!1}if(l&&d)return Ht.fromDateTimes(i,c);if(l){const u=bt.fromISO(n,s);if(u.isValid)return Ht.after(i,u)}else if(d){const u=bt.fromISO(o,s);if(u.isValid)return Ht.before(c,u)}}return Ht.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",s){if(!this.isValid)return NaN;const o=this.start.startOf(e,s);let n;return s!=null&&s.useLocaleWeeks?n=this.end.reconfigure({locale:o.locale}):n=this.end,n=n.startOf(e,s),Math.floor(n.diff(o,e).get(e))+(n.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:s}={}){return this.isValid?Ht.fromDateTimes(e||this.s,s||this.e):this}splitAt(...e){if(!this.isValid)return[];const s=e.map(ra).filter(l=>this.contains(l)).sort((l,c)=>l.toMillis()-c.toMillis()),o=[];let{s:n}=this,i=0;for(;n<this.e;){const l=s[i]||this.e,c=+l>+this.e?this.e:l;o.push(Ht.fromDateTimes(n,c)),n=c,i+=1}return o}splitBy(e){const s=bt.fromDurationLike(e);if(!this.isValid||!s.isValid||s.as("milliseconds")===0)return[];let{s:o}=this,n=1,i;const l=[];for(;o<this.e;){const c=this.start.plus(s.mapUnits(d=>d*n));i=+c>+this.e?this.e:c,l.push(Ht.fromDateTimes(o,i)),o=i,n+=1}return l}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const s=this.s>e.s?this.s:e.s,o=this.e<e.e?this.e:e.e;return s>=o?null:Ht.fromDateTimes(s,o)}union(e){if(!this.isValid)return this;const s=this.s<e.s?this.s:e.s,o=this.e>e.e?this.e:e.e;return Ht.fromDateTimes(s,o)}static merge(e){const[s,o]=e.sort((n,i)=>n.s-i.s).reduce(([n,i],l)=>i?i.overlaps(l)||i.abutsStart(l)?[n,i.union(l)]:[n.concat([i]),l]:[n,l],[[],null]);return o&&s.push(o),s}static xor(e){let s=null,o=0;const n=[],i=e.map(d=>[{time:d.s,type:"s"},{time:d.e,type:"e"}]),l=Array.prototype.concat(...i),c=l.sort((d,u)=>d.time-u.time);for(const d of c)o+=d.type==="s"?1:-1,o===1?s=d.time:(s&&+s!=+d.time&&n.push(Ht.fromDateTimes(s,d.time)),s=null);return Ht.merge(n)}difference(...e){return Ht.xor([this].concat(e)).map(s=>this.intersection(s)).filter(s=>s&&!s.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:mn}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Ll,s={}){return this.isValid?ys.create(this.s.loc.clone(s),e).formatInterval(this):mn}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:mn}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:mn}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:mn}toFormat(e,{separator:s="  "}={}){return this.isValid?`${this.s.toFormat(e)}${s}${this.e.toFormat(e)}`:mn}toDuration(e,s){return this.isValid?this.e.diff(this.s,e,s):bt.invalid(this.invalidReason)}mapEndpoints(e){return Ht.fromDateTimes(e(this.s),e(this.e))}}class Ui{static hasDST(e=jt.defaultZone){const s=Ze.now().setZone(e).set({month:12});return!e.isUniversal&&s.offset!==s.set({month:6}).offset}static isValidIANAZone(e){return Go.isValidZone(e)}static normalizeZone(e){return mr(e,jt.defaultZone)}static getStartOfWeek({locale:e=null,locObj:s=null}={}){return(s||$t.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:s=null}={}){return(s||$t.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:s=null}={}){return(s||$t.create(e)).getWeekendDays().slice()}static months(e="long",{locale:s=null,numberingSystem:o=null,locObj:n=null,outputCalendar:i="gregory"}={}){return(n||$t.create(s,o,i)).months(e)}static monthsFormat(e="long",{locale:s=null,numberingSystem:o=null,locObj:n=null,outputCalendar:i="gregory"}={}){return(n||$t.create(s,o,i)).months(e,!0)}static weekdays(e="long",{locale:s=null,numberingSystem:o=null,locObj:n=null}={}){return(n||$t.create(s,o,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:s=null,numberingSystem:o=null,locObj:n=null}={}){return(n||$t.create(s,o,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return $t.create(e).meridiems()}static eras(e="short",{locale:s=null}={}){return $t.create(s,null,"gregory").eras(e)}static features(){return{relative:my(),localeWeek:py()}}}function Of(t,e){const s=n=>n.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),o=s(e)-s(t);return Math.floor(bt.fromMillis(o).as("days"))}function P3(t,e,s){const o=[["years",(d,u)=>u.year-d.year],["quarters",(d,u)=>u.quarter-d.quarter+(u.year-d.year)*4],["months",(d,u)=>u.month-d.month+(u.year-d.year)*12],["weeks",(d,u)=>{const m=Of(d,u);return(m-m%7)/7}],["days",Of]],n={},i=t;let l,c;for(const[d,u]of o)s.indexOf(d)>=0&&(l=d,n[d]=u(t,e),c=i.plus(n),c>e?(n[d]--,t=i.plus(n),t>e&&(c=t,n[d]--,t=i.plus(n))):t=c);return[t,n,c,l]}function T3(t,e,s,o){let[n,i,l,c]=P3(t,e,s);const d=e-n,u=s.filter(p=>["hours","minutes","seconds","milliseconds"].indexOf(p)>=0);u.length===0&&(l<e&&(l=n.plus({[c]:1})),l!==n&&(i[c]=(i[c]||0)+d/(l-n)));const m=bt.fromObject(i,o);return u.length>0?bt.fromMillis(d,o).shiftTo(...u).plus(m):m}const L3="missing Intl.DateTimeFormat.formatToParts support";function yt(t,e=s=>s){return{regex:t,deser:([s])=>e(k5(s))}}const I3="",Ty=`[ ${I3}]`,Ly=new RegExp(Ty,"g");function D3(t){return t.replace(/\./g,"\\.?").replace(Ly,Ty)}function Nf(t){return t.replace(/\./g,"").replace(Ly," ").toLowerCase()}function co(t,e){return t===null?null:{regex:RegExp(t.map(D3).join("|")),deser:([s])=>t.findIndex(o=>Nf(s)===Nf(o))+e}}function Hf(t,e){return{regex:t,deser:([,s,o])=>fc(s,o),groups:e}}function Bi(t){return{regex:t,deser:([e])=>e}}function F3(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function R3(t,e){const s=lo(e),o=lo(e,"{2}"),n=lo(e,"{3}"),i=lo(e,"{4}"),l=lo(e,"{6}"),c=lo(e,"{1,2}"),d=lo(e,"{1,3}"),u=lo(e,"{1,6}"),m=lo(e,"{1,9}"),p=lo(e,"{2,4}"),y=lo(e,"{4,6}"),v=C=>({regex:RegExp(F3(C.val)),deser:([x])=>x,literal:!0}),_=(C=>{if(t.literal)return v(C);switch(C.val){case"G":return co(e.eras("short"),0);case"GG":return co(e.eras("long"),0);case"y":return yt(u);case"yy":return yt(p,t0);case"yyyy":return yt(i);case"yyyyy":return yt(y);case"yyyyyy":return yt(l);case"M":return yt(c);case"MM":return yt(o);case"MMM":return co(e.months("short",!0),1);case"MMMM":return co(e.months("long",!0),1);case"L":return yt(c);case"LL":return yt(o);case"LLL":return co(e.months("short",!1),1);case"LLLL":return co(e.months("long",!1),1);case"d":return yt(c);case"dd":return yt(o);case"o":return yt(d);case"ooo":return yt(n);case"HH":return yt(o);case"H":return yt(c);case"hh":return yt(o);case"h":return yt(c);case"mm":return yt(o);case"m":return yt(c);case"q":return yt(c);case"qq":return yt(o);case"s":return yt(c);case"ss":return yt(o);case"S":return yt(d);case"SSS":return yt(n);case"u":return Bi(m);case"uu":return Bi(c);case"uuu":return yt(s);case"a":return co(e.meridiems(),0);case"kkkk":return yt(i);case"kk":return yt(p,t0);case"W":return yt(c);case"WW":return yt(o);case"E":case"c":return yt(s);case"EEE":return co(e.weekdays("short",!1),1);case"EEEE":return co(e.weekdays("long",!1),1);case"ccc":return co(e.weekdays("short",!0),1);case"cccc":return co(e.weekdays("long",!0),1);case"Z":case"ZZ":return Hf(new RegExp(`([+-]${c.source})(?::(${o.source}))?`),2);case"ZZZ":return Hf(new RegExp(`([+-]${c.source})(${o.source})?`),2);case"z":return Bi(/[a-z_+-/]{1,256}?/i);case" ":return Bi(/[^\S\n\r]/);default:return v(C)}})(t)||{invalidReason:L3};return _.token=t,_}const U3={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function B3(t,e,s){const{type:o,value:n}=t;if(o==="literal"){const d=/^\s+$/.test(n);return{literal:!d,val:d?" ":n}}const i=e[o];let l=o;o==="hour"&&(e.hour12!=null?l=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?l="hour12":l="hour24":l=s.hour12?"hour12":"hour24");let c=U3[l];if(typeof c=="object"&&(c=c[i]),c)return{literal:!1,val:c}}function q3(t){return[`^${t.map(s=>s.regex).reduce((s,o)=>`${s}(${o.source})`,"")}$`,t]}function O3(t,e,s){const o=t.match(e);if(o){const n={};let i=1;for(const l in s)if(qn(s,l)){const c=s[l],d=c.groups?c.groups+1:1;!c.literal&&c.token&&(n[c.token.val[0]]=c.deser(o.slice(i,i+d))),i+=d}return[o,n]}else return[o,{}]}function N3(t){const e=i=>{switch(i){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let s=null,o;return ot(t.z)||(s=Go.create(t.z)),ot(t.Z)||(s||(s=new Es(t.Z)),o=t.Z),ot(t.q)||(t.M=(t.q-1)*3+1),ot(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),ot(t.u)||(t.S=Y0(t.u)),[Object.keys(t).reduce((i,l)=>{const c=e(l);return c&&(i[c]=t[l]),i},{}),s,o]}let du=null;function H3(){return du||(du=Ze.fromMillis(1555555555555)),du}function j3(t,e){if(t.literal)return t;const s=ys.macroTokenToFormatOpts(t.val),o=Ry(s,e);return o==null||o.includes(void 0)?t:o}function Iy(t,e){return Array.prototype.concat(...t.map(s=>j3(s,e)))}class Dy{constructor(e,s){if(this.locale=e,this.format=s,this.tokens=Iy(ys.parseFormat(s),e),this.units=this.tokens.map(o=>R3(o,e)),this.disqualifyingUnit=this.units.find(o=>o.invalidReason),!this.disqualifyingUnit){const[o,n]=q3(this.units);this.regex=RegExp(o,"i"),this.handlers=n}}explainFromTokens(e){if(this.isValid){const[s,o]=O3(e,this.regex,this.handlers),[n,i,l]=o?N3(o):[null,null,void 0];if(qn(o,"a")&&qn(o,"H"))throw new Sn("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:s,matches:o,result:n,zone:i,specificOffset:l}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function Fy(t,e,s){return new Dy(t,s).explainFromTokens(e)}function G3(t,e,s){const{result:o,zone:n,specificOffset:i,invalidReason:l}=Fy(t,e,s);return[o,n,i,l]}function Ry(t,e){if(!t)return null;const o=ys.create(e,t).dtFormatter(H3()),n=o.formatToParts(),i=o.resolvedOptions();return n.map(l=>B3(l,t,i))}const uu="Invalid DateTime",V3=864e13;function ha(t){return new uo("unsupported zone",`the zone "${t.name}" is not supported`)}function mu(t){return t.weekData===null&&(t.weekData=Il(t.c)),t.weekData}function pu(t){return t.localWeekData===null&&(t.localWeekData=Il(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Tr(t,e){const s={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Ze({...s,...e,old:s})}function Uy(t,e,s){let o=t-e*60*1e3;const n=s.offset(o);if(e===n)return[o,e];o-=(n-e)*60*1e3;const i=s.offset(o);return n===i?[o,n]:[t-Math.min(n,i)*60*1e3,Math.max(n,i)]}function qi(t,e){t+=e*60*1e3;const s=new Date(t);return{year:s.getUTCFullYear(),month:s.getUTCMonth()+1,day:s.getUTCDate(),hour:s.getUTCHours(),minute:s.getUTCMinutes(),second:s.getUTCSeconds(),millisecond:s.getUTCMilliseconds()}}function gl(t,e,s){return Uy(pc(t),e,s)}function jf(t,e){const s=t.o,o=t.c.year+Math.trunc(e.years),n=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,i={...t.c,year:o,month:n,day:Math.min(t.c.day,Dl(o,n))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},l=bt.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),c=pc(i);let[d,u]=Uy(c,s,t.zone);return l!==0&&(d+=l,u=t.zone.offset(d)),{ts:d,o:u}}function pn(t,e,s,o,n,i){const{setZone:l,zone:c}=s;if(t&&Object.keys(t).length!==0||e){const d=e||c,u=Ze.fromObject(t,{...s,zone:d,specificOffset:i});return l?u:u.setZone(c)}else return Ze.invalid(new uo("unparsable",`the input "${n}" can't be parsed as ${o}`))}function Oi(t,e,s=!0){return t.isValid?ys.create($t.create("en-US"),{allowZ:s,forceSimple:!0}).formatDateTimeFromString(t,e):null}function fu(t,e){const s=t.c.year>9999||t.c.year<0;let o="";return s&&t.c.year>=0&&(o+="+"),o+=Kt(t.c.year,s?6:4),e?(o+="-",o+=Kt(t.c.month),o+="-",o+=Kt(t.c.day)):(o+=Kt(t.c.month),o+=Kt(t.c.day)),o}function Gf(t,e,s,o,n,i){let l=Kt(t.c.hour);return e?(l+=":",l+=Kt(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!s)&&(l+=":")):l+=Kt(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!s)&&(l+=Kt(t.c.second),(t.c.millisecond!==0||!o)&&(l+=".",l+=Kt(t.c.millisecond,3))),n&&(t.isOffsetFixed&&t.offset===0&&!i?l+="Z":t.o<0?(l+="-",l+=Kt(Math.trunc(-t.o/60)),l+=":",l+=Kt(Math.trunc(-t.o%60))):(l+="+",l+=Kt(Math.trunc(t.o/60)),l+=":",l+=Kt(Math.trunc(t.o%60)))),i&&(l+="["+t.zone.ianaName+"]"),l}const By={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Q3={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},z3={ordinal:1,hour:0,minute:0,second:0,millisecond:0},qy=["year","month","day","hour","minute","second","millisecond"],W3=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Y3=["year","ordinal","hour","minute","second","millisecond"];function K3(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new Bv(t);return e}function Vf(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return K3(t)}}function X3(t){if(ba===void 0&&(ba=jt.now()),t.type!=="iana")return t.offset(ba);const e=t.name;let s=s0.get(e);return s===void 0&&(s=t.offset(ba),s0.set(e,s)),s}function Qf(t,e){const s=mr(e.zone,jt.defaultZone);if(!s.isValid)return Ze.invalid(ha(s));const o=$t.fromObject(e);let n,i;if(ot(t.year))n=jt.now();else{for(const d of qy)ot(t[d])&&(t[d]=By[d]);const l=dy(t)||uy(t);if(l)return Ze.invalid(l);const c=X3(s);[n,i]=gl(t,c,s)}return new Ze({ts:n,zone:s,loc:o,o:i})}function zf(t,e,s){const o=ot(s.round)?!0:s.round,n=(l,c)=>(l=K0(l,o||s.calendary?0:2,!0),e.loc.clone(s).relFormatter(s).format(l,c)),i=l=>s.calendary?e.hasSame(t,l)?0:e.startOf(l).diff(t.startOf(l),l).get(l):e.diff(t,l).get(l);if(s.unit)return n(i(s.unit),s.unit);for(const l of s.units){const c=i(l);if(Math.abs(c)>=1)return n(c,l)}return n(t>e?-0:0,s.units[s.units.length-1])}function Wf(t){let e={},s;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],s=Array.from(t).slice(0,t.length-1)):s=Array.from(t),[e,s]}let ba;const s0=new Map;class Ze{constructor(e){const s=e.zone||jt.defaultZone;let o=e.invalid||(Number.isNaN(e.ts)?new uo("invalid input"):null)||(s.isValid?null:ha(s));this.ts=ot(e.ts)?jt.now():e.ts;let n=null,i=null;if(!o)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(s))[n,i]=[e.old.c,e.old.o];else{const c=gr(e.o)&&!e.old?e.o:s.offset(this.ts);n=qi(this.ts,c),o=Number.isNaN(n.year)?new uo("invalid input"):null,n=o?null:n,i=o?null:c}this._zone=s,this.loc=e.loc||$t.create(),this.invalid=o,this.weekData=null,this.localWeekData=null,this.c=n,this.o=i,this.isLuxonDateTime=!0}static now(){return new Ze({})}static local(){const[e,s]=Wf(arguments),[o,n,i,l,c,d,u]=s;return Qf({year:o,month:n,day:i,hour:l,minute:c,second:d,millisecond:u},e)}static utc(){const[e,s]=Wf(arguments),[o,n,i,l,c,d,u]=s;return e.zone=Es.utcInstance,Qf({year:o,month:n,day:i,hour:l,minute:c,second:d,millisecond:u},e)}static fromJSDate(e,s={}){const o=$5(e)?e.valueOf():NaN;if(Number.isNaN(o))return Ze.invalid("invalid input");const n=mr(s.zone,jt.defaultZone);return n.isValid?new Ze({ts:o,zone:n,loc:$t.fromObject(s)}):Ze.invalid(ha(n))}static fromMillis(e,s={}){if(gr(e))return e<-864e13||e>V3?Ze.invalid("Timestamp out of range"):new Ze({ts:e,zone:mr(s.zone,jt.defaultZone),loc:$t.fromObject(s)});throw new hs(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,s={}){if(gr(e))return new Ze({ts:e*1e3,zone:mr(s.zone,jt.defaultZone),loc:$t.fromObject(s)});throw new hs("fromSeconds requires a numerical input")}static fromObject(e,s={}){e=e||{};const o=mr(s.zone,jt.defaultZone);if(!o.isValid)return Ze.invalid(ha(o));const n=$t.fromObject(s),i=Fl(e,Vf),{minDaysInFirstWeek:l,startOfWeek:c}=If(i,n),d=jt.now(),u=ot(s.specificOffset)?o.offset(d):s.specificOffset,m=!ot(i.ordinal),p=!ot(i.year),y=!ot(i.month)||!ot(i.day),v=p||y,S=i.weekYear||i.weekNumber;if((v||m)&&S)throw new Sn("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(y&&m)throw new Sn("Can't mix ordinal dates with month/day");const _=S||i.weekday&&!v;let C,x,$=qi(d,u);_?(C=W3,x=Q3,$=Il($,l,c)):m?(C=Y3,x=z3,$=cu($)):(C=qy,x=By);let A=!1;for(const N of C){const U=i[N];ot(U)?A?i[N]=x[N]:i[N]=$[N]:A=!0}const M=_?w5(i,l,c):m?C5(i):dy(i),P=M||uy(i);if(P)return Ze.invalid(P);const L=_?Tf(i,l,c):m?Lf(i):i,[B,k]=gl(L,u,o),I=new Ze({ts:B,zone:o,o:k,loc:n});return i.weekday&&v&&e.weekday!==I.weekday?Ze.invalid("mismatched weekday",`you can't specify both a weekday of ${i.weekday} and a date of ${I.toISO()}`):I.isValid?I:Ze.invalid(I.invalid)}static fromISO(e,s={}){const[o,n]=g3(e);return pn(o,n,s,"ISO 8601",e)}static fromRFC2822(e,s={}){const[o,n]=h3(e);return pn(o,n,s,"RFC 2822",e)}static fromHTTP(e,s={}){const[o,n]=b3(e);return pn(o,n,s,"HTTP",s)}static fromFormat(e,s,o={}){if(ot(e)||ot(s))throw new hs("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:i=null}=o,l=$t.fromOpts({locale:n,numberingSystem:i,defaultToEN:!0}),[c,d,u,m]=G3(l,e,s);return m?Ze.invalid(m):pn(c,d,o,`format ${s}`,e,u)}static fromString(e,s,o={}){return Ze.fromFormat(e,s,o)}static fromSQL(e,s={}){const[o,n]=C3(e);return pn(o,n,s,"SQL",e)}static invalid(e,s=null){if(!e)throw new hs("need to specify a reason the DateTime is invalid");const o=e instanceof uo?e:new uo(e,s);if(jt.throwOnInvalid)throw new X2(o);return new Ze({invalid:o})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,s={}){const o=Ry(e,$t.fromObject(s));return o?o.map(n=>n?n.val:null).join(""):null}static expandFormat(e,s={}){return Iy(ys.parseFormat(e),$t.fromObject(s)).map(n=>n.val).join("")}static resetCache(){ba=void 0,s0.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?mu(this).weekYear:NaN}get weekNumber(){return this.isValid?mu(this).weekNumber:NaN}get weekday(){return this.isValid?mu(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?pu(this).weekday:NaN}get localWeekNumber(){return this.isValid?pu(this).weekNumber:NaN}get localWeekYear(){return this.isValid?pu(this).weekYear:NaN}get ordinal(){return this.isValid?cu(this.c).ordinal:NaN}get monthShort(){return this.isValid?Ui.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Ui.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Ui.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Ui.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,s=6e4,o=pc(this.c),n=this.zone.offset(o-e),i=this.zone.offset(o+e),l=this.zone.offset(o-n*s),c=this.zone.offset(o-i*s);if(l===c)return[this];const d=o-l*s,u=o-c*s,m=qi(d,l),p=qi(u,c);return m.hour===p.hour&&m.minute===p.minute&&m.second===p.second&&m.millisecond===p.millisecond?[Tr(this,{ts:d}),Tr(this,{ts:u})]:[this]}get isInLeapYear(){return hi(this.year)}get daysInMonth(){return Dl(this.year,this.month)}get daysInYear(){return this.isValid?Ln(this.year):NaN}get weeksInWeekYear(){return this.isValid?Ja(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Ja(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:s,numberingSystem:o,calendar:n}=ys.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:s,numberingSystem:o,outputCalendar:n}}toUTC(e=0,s={}){return this.setZone(Es.instance(e),s)}toLocal(){return this.setZone(jt.defaultZone)}setZone(e,{keepLocalTime:s=!1,keepCalendarTime:o=!1}={}){if(e=mr(e,jt.defaultZone),e.equals(this.zone))return this;if(e.isValid){let n=this.ts;if(s||o){const i=e.offset(this.ts),l=this.toObject();[n]=gl(l,i,e)}return Tr(this,{ts:n,zone:e})}else return Ze.invalid(ha(e))}reconfigure({locale:e,numberingSystem:s,outputCalendar:o}={}){const n=this.loc.clone({locale:e,numberingSystem:s,outputCalendar:o});return Tr(this,{loc:n})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const s=Fl(e,Vf),{minDaysInFirstWeek:o,startOfWeek:n}=If(s,this.loc),i=!ot(s.weekYear)||!ot(s.weekNumber)||!ot(s.weekday),l=!ot(s.ordinal),c=!ot(s.year),d=!ot(s.month)||!ot(s.day),u=c||d,m=s.weekYear||s.weekNumber;if((u||l)&&m)throw new Sn("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&l)throw new Sn("Can't mix ordinal dates with month/day");let p;i?p=Tf({...Il(this.c,o,n),...s},o,n):ot(s.ordinal)?(p={...this.toObject(),...s},ot(s.day)&&(p.day=Math.min(Dl(p.year,p.month),p.day))):p=Lf({...cu(this.c),...s});const[y,v]=gl(p,this.o,this.zone);return Tr(this,{ts:y,o:v})}plus(e){if(!this.isValid)return this;const s=bt.fromDurationLike(e);return Tr(this,jf(this,s))}minus(e){if(!this.isValid)return this;const s=bt.fromDurationLike(e).negate();return Tr(this,jf(this,s))}startOf(e,{useLocaleWeeks:s=!1}={}){if(!this.isValid)return this;const o={},n=bt.normalizeUnit(e);switch(n){case"years":o.month=1;case"quarters":case"months":o.day=1;case"weeks":case"days":o.hour=0;case"hours":o.minute=0;case"minutes":o.second=0;case"seconds":o.millisecond=0;break}if(n==="weeks")if(s){const i=this.loc.getStartOfWeek(),{weekday:l}=this;l<i&&(o.weekNumber=this.weekNumber-1),o.weekday=i}else o.weekday=1;if(n==="quarters"){const i=Math.ceil(this.month/3);o.month=(i-1)*3+1}return this.set(o)}endOf(e,s){return this.isValid?this.plus({[e]:1}).startOf(e,s).minus(1):this}toFormat(e,s={}){return this.isValid?ys.create(this.loc.redefaultToEN(s)).formatDateTimeFromString(this,e):uu}toLocaleString(e=Ll,s={}){return this.isValid?ys.create(this.loc.clone(s),e).formatDateTime(this):uu}toLocaleParts(e={}){return this.isValid?ys.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:s=!1,suppressMilliseconds:o=!1,includeOffset:n=!0,extendedZone:i=!1}={}){if(!this.isValid)return null;const l=e==="extended";let c=fu(this,l);return c+="T",c+=Gf(this,l,s,o,n,i),c}toISODate({format:e="extended"}={}){return this.isValid?fu(this,e==="extended"):null}toISOWeekDate(){return Oi(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:s=!1,includeOffset:o=!0,includePrefix:n=!1,extendedZone:i=!1,format:l="extended"}={}){return this.isValid?(n?"T":"")+Gf(this,l==="extended",s,e,o,i):null}toRFC2822(){return Oi(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Oi(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?fu(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:s=!1,includeOffsetSpace:o=!0}={}){let n="HH:mm:ss.SSS";return(s||e)&&(o&&(n+=" "),s?n+="z":e&&(n+="ZZ")),Oi(this,n,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():uu}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const s={...this.c};return e.includeConfig&&(s.outputCalendar=this.outputCalendar,s.numberingSystem=this.loc.numberingSystem,s.locale=this.loc.locale),s}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,s="milliseconds",o={}){if(!this.isValid||!e.isValid)return bt.invalid("created by diffing an invalid DateTime");const n={locale:this.locale,numberingSystem:this.numberingSystem,...o},i=E5(s).map(bt.normalizeUnit),l=e.valueOf()>this.valueOf(),c=l?this:e,d=l?e:this,u=T3(c,d,i,n);return l?u.negate():u}diffNow(e="milliseconds",s={}){return this.diff(Ze.now(),e,s)}until(e){return this.isValid?Ht.fromDateTimes(this,e):this}hasSame(e,s,o){if(!this.isValid)return!1;const n=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(s,o)<=n&&n<=i.endOf(s,o)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const s=e.base||Ze.fromObject({},{zone:this.zone}),o=e.padding?this<s?-e.padding:e.padding:0;let n=["years","months","days","hours","minutes","seconds"],i=e.unit;return Array.isArray(e.unit)&&(n=e.unit,i=void 0),zf(s,this.plus(o),{...e,numeric:"always",units:n,unit:i})}toRelativeCalendar(e={}){return this.isValid?zf(e.base||Ze.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Ze.isDateTime))throw new hs("min requires all arguments be DateTimes");return Df(e,s=>s.valueOf(),Math.min)}static max(...e){if(!e.every(Ze.isDateTime))throw new hs("max requires all arguments be DateTimes");return Df(e,s=>s.valueOf(),Math.max)}static fromFormatExplain(e,s,o={}){const{locale:n=null,numberingSystem:i=null}=o,l=$t.fromOpts({locale:n,numberingSystem:i,defaultToEN:!0});return Fy(l,e,s)}static fromStringExplain(e,s,o={}){return Ze.fromFormatExplain(e,s,o)}static buildFormatParser(e,s={}){const{locale:o=null,numberingSystem:n=null}=s,i=$t.fromOpts({locale:o,numberingSystem:n,defaultToEN:!0});return new Dy(i,e)}static fromFormatParser(e,s,o={}){if(ot(e)||ot(s))throw new hs("fromFormatParser requires an input string and a format parser");const{locale:n=null,numberingSystem:i=null}=o,l=$t.fromOpts({locale:n,numberingSystem:i,defaultToEN:!0});if(!l.equals(s.locale))throw new hs(`fromFormatParser called with a locale of ${l}, but the format parser was created for ${s.locale}`);const{result:c,zone:d,specificOffset:u,invalidReason:m}=s.explainFromTokens(e);return m?Ze.invalid(m):pn(c,d,o,`format ${s.format}`,e,u)}static get DATE_SHORT(){return Ll}static get DATE_MED(){return qv}static get DATE_MED_WITH_WEEKDAY(){return e5}static get DATE_FULL(){return Ov}static get DATE_HUGE(){return Nv}static get TIME_SIMPLE(){return Hv}static get TIME_WITH_SECONDS(){return jv}static get TIME_WITH_SHORT_OFFSET(){return Gv}static get TIME_WITH_LONG_OFFSET(){return Vv}static get TIME_24_SIMPLE(){return Qv}static get TIME_24_WITH_SECONDS(){return zv}static get TIME_24_WITH_SHORT_OFFSET(){return Wv}static get TIME_24_WITH_LONG_OFFSET(){return Yv}static get DATETIME_SHORT(){return Kv}static get DATETIME_SHORT_WITH_SECONDS(){return Xv}static get DATETIME_MED(){return Zv}static get DATETIME_MED_WITH_SECONDS(){return Jv}static get DATETIME_MED_WITH_WEEKDAY(){return t5}static get DATETIME_FULL(){return ey}static get DATETIME_FULL_WITH_SECONDS(){return ty}static get DATETIME_HUGE(){return sy}static get DATETIME_HUGE_WITH_SECONDS(){return oy}}function ra(t){if(Ze.isDateTime(t))return t;if(t&&t.valueOf&&gr(t.valueOf()))return Ze.fromJSDate(t);if(t&&typeof t=="object")return Ze.fromObject(t);throw new hs(`Unknown datetime argument: ${t}, of type ${typeof t}`)}function Yf(){return Ze.now().toISODate()||""}function Z3(){return Ze.now().minus({days:1}).toISODate()||""}function J3(){return Ze.now().minus({days:2}).toISODate()||""}function Kf(t){return Ze.fromISO(t)}const yi=Ft("dailyReward",()=>{const t=W(0),e=W(null),s=.1,o=.05,n=30,i=R(()=>a(1+t.value*s)),l=R(()=>a(1+t.value*o)),c=R(()=>e.value?Yf()!==e.value:!0),d=R(()=>{if(!e.value)return 0;const x=Kf(e.value).plus({days:1}),$=Ze.now(),A=Math.ceil(x.diff($,"days").days);return Math.max(0,A)}),u=R(()=>e.value?Kf(e.value).plus({days:1}).startOf("day"):Ze.now()),m=()=>{const C=Ze.now(),x=u.value;return x<C?0:x.diff(C).milliseconds};return{currentStreak:t,lastClaimedDate:e,foodMultiplier:i,epMultiplier:l,isRewardAvailable:c,daysUntilReset:d,nextRewardTime:u,getMillisecondsUntilNextReward:m,getFormattedTimeRemaining:()=>{const C=m();if(C<=0)return"00:00:00";const x=Math.floor(C/1e3),$=Math.floor(x/3600),A=Math.floor(x%3600/60),M=x%60,P=$.toString().padStart(2,"0"),L=A.toString().padStart(2,"0"),B=M.toString().padStart(2,"0");return`${P}:${L}:${B}`},claimDailyReward:()=>{const C=Yf();if(e.value){const x=Z3(),$=J3();e.value===x||e.value===$?t.value=Math.min(n,t.value+1):e.value!==C&&(t.value=1)}else t.value=1;return e.value=C,!0},resetStreak:()=>{t.value=0,e.value=null},getState:()=>({currentStreak:t.value,lastClaimedDate:e.value}),loadState:C=>{C.currentStreak!==void 0&&(t.value=C.currentStreak),C.lastClaimedDate!==void 0&&(e.value=C.lastClaimedDate)}}}),Ni="idle-ant-farm-save",eC=6e4,tC=2e3,Xf=3600,Os=Ft("saveSystem",()=>{const t=vt(),e=W(!0),s=W(!0),o=W(!0),n=W(!1),i=W(100),l=W(!1),c=W(!0),d=W(Date.now()),u=W(Date.now()),m=W(null),p=W(!1),y=W(!1),v=W(!1),S=W(0),_=W(0),C=W(0),x=W(new be(0)),$=W(new be(0)),A=[],M=()=>{x.value=new be(t.food),Be(` Initial food captured: ${x.value.toString()}`);const T=ss();$.value=new be(T.honeydew),Be(` Initial honeydew captured: ${$.value.toString()}`),A.length=0;const D=t.generators;for(const X of D)(X.unlocked||X.count.gt(0))&&A.push({id:X.id,name:X.name,beforeCount:new be(X.count),afterCount:new be(X.count),generated:new be(0),selfReplicated:X.selfReplicated?new be(X.selfReplicated):new be(0),icon:X.icon});Be(` Initial generator state captured: ${A.length} generators`),A.length>0&&A[0]&&Be(" First generator:",{id:A[0].id,count:A[0].beforeCount.toString(),selfReplicated:A[0].selfReplicated.toString()})},P=W([]);let L=null;const B=()=>({gameStore:As(),generatorStore:vt(),prestigeStore:ct(),generatorUpgradeStore:Wt(),inventoryStore:ts(),adventureStore:ps(),tourStore:dc(),progressionStore:qs(),filterStore:O0(),achievementStore:Ws(),pheromoneEssenceStore:os(),pheromoneShopStore:Wr(),colonyRushStore:Za(),wikiStore:zo(),questStore:Vt(),megaAntStore:gt(),aphidFarmStore:ss(),bossStore:Ns(),collectibleStore:fi(),dailyRewardStore:yi()}),k=()=>{const T=B(),D=Date.now();return m.value||(m.value=D,Be(` First save time set: ${new Date(m.value).toLocaleString()}`)),{settings:{autoSaveEnabled:e.value,offlineProgressEnabled:s.value,autoEnableGeneratorsAfterPrestige:o.value,processAllTicksIndividually:n.value,offlineTickBatchSize:i.value,confirmMaxUpgradePurchase:l.value,confirmEvolution:c.value},lastSaveTime:D,firstSaveTime:m.value,gameStore:T.gameStore.getState(),generatorStore:T.generatorStore.getState(),prestigeStore:T.prestigeStore.getState(),generatorUpgradeStore:T.generatorUpgradeStore.getState(),inventoryStore:T.inventoryStore.getState(),adventureStore:T.adventureStore.getState(),tourStore:T.tourStore.collectState(),progressionStore:T.progressionStore.getState(),filterStore:T.filterStore.getState(),achievementStore:T.achievementStore.getState(),pheromoneEssenceStore:T.pheromoneEssenceStore.getState(),pheromoneShopStore:T.pheromoneShopStore.getState(),colonyRush:T.colonyRushStore.getState(),wikiStore:T.wikiStore.getState(),questStore:T.questStore.getState(),megaAntStore:T.megaAntStore.getState(),aphidFarmStore:T.aphidFarmStore.getState(),bossStore:T.bossStore.getState(),collectibleStore:T.collectibleStore.getState(),dailyReward:T.dailyRewardStore.getState()}},I=async T=>{if(!T)return!1;try{const D=B();return T.settings&&(e.value=T.settings.autoSaveEnabled??!0,s.value=T.settings.offlineProgressEnabled??!0,o.value=T.settings.autoEnableGeneratorsAfterPrestige??!0,n.value=T.settings.processAllTicksIndividually??!1,i.value=T.settings.offlineTickBatchSize??100,l.value=T.settings.confirmMaxUpgradePurchase??!1,c.value=T.settings.confirmEvolution??!0),T.lastSaveTime&&(d.value=T.lastSaveTime),T.firstSaveTime&&!m.value&&(m.value=T.firstSaveTime,Be(` Loaded first save time: ${new Date(m.value).toLocaleString()}`)),T.gameStore&&await Promise.resolve(D.gameStore.loadState(T.gameStore)),T.generatorStore&&await Promise.resolve(D.generatorStore.loadState(T.generatorStore)),T.prestigeStore&&await Promise.resolve(D.prestigeStore.loadState(T.prestigeStore)),T.generatorUpgradeStore&&await Promise.resolve(D.generatorUpgradeStore.loadState(T.generatorUpgradeStore)),T.inventoryStore&&await Promise.resolve(D.inventoryStore.loadState(T.inventoryStore)),T.adventureStore&&await Promise.resolve(D.adventureStore.loadState(T.adventureStore)),T.tourStore&&await Promise.resolve(D.tourStore.applyState(T.tourStore)),T.progressionStore&&await Promise.resolve(D.progressionStore.loadState(T.progressionStore)),T.filterStore&&await Promise.resolve(D.filterStore.loadState(T.filterStore)),T.achievementStore&&await Promise.resolve(D.achievementStore.loadState(T.achievementStore)),T.pheromoneEssenceStore&&await Promise.resolve(D.pheromoneEssenceStore.loadState(T.pheromoneEssenceStore)),T.pheromoneShopStore&&await Promise.resolve(D.pheromoneShopStore.loadState(T.pheromoneShopStore)),T.colonyRush&&await Promise.resolve(D.colonyRushStore.loadState(T.colonyRush)),T.wikiStore&&await Promise.resolve(D.wikiStore.loadState(T.wikiStore)),T.questStore&&await Promise.resolve(D.questStore.loadState(T.questStore)),T.megaAntStore&&await Promise.resolve(D.megaAntStore.loadState(T.megaAntStore)),T.aphidFarmStore&&await Promise.resolve(D.aphidFarmStore.loadState(T.aphidFarmStore)),T.bossStore&&await Promise.resolve(D.bossStore.loadState(T.bossStore)),T.collectibleStore&&await Promise.resolve(D.collectibleStore.loadState(T.collectibleStore)),T.dailyReward&&await Promise.resolve(D.dailyRewardStore.loadState(T.dailyReward)),Be(" Game state loaded successfully"),u.value=Date.now(),!0}catch(D){return Is("Error applying saved state:",D),!1}},N=async(T,D,X=!1)=>{if(T<=0){Be();return}Be();const ae=X?1:20;let ue=0;D.gameStore.tickDuration;const ke=D.prestigeStore.getUpgradeCount("unlockAdventure").gt(0);let ge=null;if(ke&&!X&&(Be(),ge=D.adventureStore.calculateOfflineCombatProgress(T*2),Be(`[OfflineProgress] Adventure results: ${ge.kills} kills, ${ge.totalFoodGained.toString()} food, ${ge.totalEssenceGained.toString()} essence`),ge.kills>0)){if(D.generatorStore.food=D.generatorStore.food.add(ge.totalFoodGained),D.pheromoneEssenceStore.addPheromoneEssence(ge.totalEssenceGained),D.questStore.activeQuest){const fe=ge.kills+ge.totalDoubleKills*2,E=D.adventureStore.selectedBugId;if(E){if(D.questStore.updateDefeatBugProgress(E,fe),D.bossStore.recordBugKill(E,ge.kills),ge.totalDoubleKills>0){const w=ge.totalDoubleKills*1;w>0&&D.bossStore.recordBugKill(E,w)}Be(`[OfflineProgress] Recorded ${ge.kills+ge.totalDoubleKills*1} total bug kills to bossStore`)}}else if(D.adventureStore.selectedBugId){const Pe=D.adventureStore.selectedBugId;if(D.bossStore.recordBugKill(Pe,ge.kills),ge.totalDoubleKills>0){const E=ge.totalDoubleKills*1;E>0&&D.bossStore.recordBugKill(Pe,E),Be(`[OfflineProgress] Recorded ${ge.kills+ge.totalDoubleKills*1} total bug kills to bossStore (no active quest)`)}}}for(;ue<T;){const Pe=T-ue,fe=Math.min(ae,Pe);if(D.gameStore.tick(fe,X),D.prestigeStore.getUpgradeCount("unlockMegaAnt").gt(0)){const E=D.gameStore.tickDuration,w=fe*E;D.megaAntStore.processOfflineProgress(w)}if(D.adventureStore.tick(),D.adventureStore.tick(),ue+=fe,_.value+=fe,ue%Math.max(1,Math.floor(T/10))===0||ue===T){const E=Math.floor(_.value/S.value*100);Be(`[OfflineProgress] Precise processing: ${E}% total (${_.value}/${S.value})`)}await new Promise(E=>setTimeout(E,0))}Be()},U=async(T,D)=>{if(T<=0)return Be(),Promise.resolve();if(Be(),D.prestigeStore.getUpgradeCount("unlockAdventure").gt(0)){Be();const ae=D.adventureStore.calculateOfflineCombatProgress(T*2);if(Be(`[OfflineProgress] Adventure batch results: ${ae.kills} kills, ${ae.totalFoodGained.toString()} food, ${ae.totalEssenceGained.toString()} essence`),ae.kills>0){if(D.generatorStore.food=D.generatorStore.food.add(ae.totalFoodGained),D.pheromoneEssenceStore.addPheromoneEssence(ae.totalEssenceGained),D.questStore.activeQuest){const ke=ae.kills+ae.totalDoubleKills*2,ge=D.adventureStore.selectedBugId;if(ge){if(D.questStore.updateDefeatBugProgress(ge,ke),D.bossStore.recordBugKill(ge,ae.kills),ae.totalDoubleKills>0){const Pe=ae.totalDoubleKills*1;Pe>0&&D.bossStore.recordBugKill(ge,Pe)}Be(`[OfflineProgress] Batch recorded ${ae.kills+ae.totalDoubleKills*1} total bug kills to bossStore`)}}else if(D.adventureStore.selectedBugId){const ue=D.adventureStore.selectedBugId;if(D.bossStore.recordBugKill(ue,ae.kills),ae.totalDoubleKills>0){const ge=ae.totalDoubleKills*1;ge>0&&D.bossStore.recordBugKill(ue,ge),Be(`[OfflineProgress] Batch recorded ${ae.kills+ae.totalDoubleKills*1} total bug kills to bossStore (no active quest)`)}}}try{Vt().tick()}catch(ue){console.error("Error processing quests:",ue)}}return new Promise(ae=>{const ue=i.value;let ke=0;const ge=()=>{const Pe=T-ke,fe=Math.min(ue,Pe);if(fe<=0){Be(),ae();return}if(D.gameStore.tick(fe),D.prestigeStore.getUpgradeCount("unlockMegaAnt").gt(0)){const E=D.gameStore.tickDuration,w=fe*E;D.megaAntStore.processOfflineProgress(w)}for(let E=0;E<fe;E++)D.aphidFarmStore.update();if(Be(),ke+=fe,_.value+=fe,ke%Math.max(1,Math.floor(T/10))===0||ke===T){const E=Math.floor(_.value/S.value*100);Be(`[OfflineProgress] Batch processing: ${E}% total (${_.value}/${S.value})`)}setTimeout(ge,0)};ge()})},j=(T,D=!1)=>new Promise(X=>{if(!s.value){X(null);return}const ae=D?T:(Date.now()-T)/1e3;if(Be(`Calculating offline progress for ${ae.toFixed(1)} seconds`),ae<60){X(null);return}const ue=1*24*60*60,ke=Math.min(ae,ue);ae>ue&&Be();const ge=B(),Pe=ge.gameStore.tickDuration,fe=Math.floor(ke/Pe);if(fe<=0){X(null);return}Be(),M(),p.value=!0;const E=Za();v.value=!E.isProcessingRush,setTimeout(async()=>{if(S.value=fe,_.value=0,C.value=ke,Be(),n.value)Be(),await N(fe,ge,!0);else if(ke<Xf)Be(`[OfflineProgress] Using precise tick processing for ${ke.toFixed(1)}s (< 1 hour)`),await N(fe,ge);else{Be(`[OfflineProgress] Using hybrid processing for ${ke.toFixed(1)}s (>= 1 hour)`);const w=Math.floor(Xf/Pe),F=Math.max(0,fe-w);Be(),F>0&&(Be(),await U(F,ge)),Be(),w>0&&(Be(),await N(w,ge)),Be()}ee(X)},50)}),ee=T=>{Be(),p.value=!1,y.value=!0,Be(),H();const D=t.food.sub(x.value);Be(` Food generated during offline progress: ${D.toString()}`),Be(` Food values: initial=${x.value.toString()}, final=${t.food.toString()}`);const X=ss(),ae=X.honeydew.sub($.value);Be(` Honeydew generated during offline progress: ${ae.toString()}`),Be(` Honeydew values: initial=${$.value.toString()}, final=${X.honeydew.toString()}`),Be(),T({elapsedTime:C.value,ticks:S.value,processedTicks:_.value,foodGenerated:D,honeydewGenerated:ae})},ne=()=>{try{const T=k();return localStorage.setItem(Ni,JSON.stringify(T)),d.value=T.lastSaveTime,Be("Game saved successfully"),!0}catch(T){return Is("Error saving game:",T),!1}},oe=(T=!1)=>new Promise(D=>{try{d.value=T?Date.now():d.value;const X=k();localStorage.setItem(Ni,JSON.stringify(X)),Be("Game saved successfully"),D(!0)}catch(X){Is("Error saving game:",X),D(!1)}}),O=async()=>{try{const T=localStorage.getItem(Ni);if(!T)return!1;const D=JSON.parse(T);D.firstSaveTime||(D.firstSaveTime=Date.now(),Be(` Setting missing firstSaveTime to now: ${new Date(D.firstSaveTime).toLocaleString()}`));const X=await I(D);if(X&&s.value){const ae=D.lastSaveTime||Date.now();Be(`Calculating offline progress from saved time: ${new Date(ae).toLocaleString()}`),await j(ae)}return X}catch(T){return Is("Error loading game:",T),!1}},Y=()=>{try{const T=k(),D=JSON.stringify(T);return btoa(D)}catch(T){return Is("Error exporting save:",T),null}},G=()=>{try{const T=Y();if(!T)return!1;const ae=`idle-ant-farm-save-${new Date().toISOString().split("T")[0]}.txt`,ue=new Blob([T],{type:"text/plain"}),ke=window.URL.createObjectURL(ue),ge=document.createElement("a");return ge.href=ke,ge.download=ae,document.body.appendChild(ge),ge.click(),window.URL.revokeObjectURL(ke),document.body.removeChild(ge),!0}catch(T){return Is("Error exporting save to file:",T),!1}},de=async T=>{try{const D=atob(T),X=JSON.parse(D);return await I(X)}catch(D){return Is("Error importing save:",D),!1}},re=async T=>{try{return new Promise(async D=>{const X=new FileReader;X.onload=async ae=>{var ue;if((ue=ae.target)!=null&&ue.result){const ke=ae.target.result,ge=await de(ke);D(ge)}else D(!1)},X.onerror=()=>{Is("Error reading file"),D(!1)},X.readAsText(T)})}catch(D){return Is("Error importing save from file:",D),!1}},he=()=>{try{return localStorage.removeItem(Ni),window.location.reload(),Be("Game reset successfully"),!0}catch(T){return Is("Error resetting game:",T),!1}},ve=cc(()=>{e.value&&ne()},tC),Se=()=>{L||(L=window.setInterval(()=>{e.value&&ne()},eC))},Me=()=>{L&&(clearInterval(L),L=null)},Oe=()=>{e.value=!e.value,e.value&&Se(),ve()},He=()=>{s.value=!s.value,ve()},we=()=>{o.value=!o.value,ve()},_e=()=>{n.value=!n.value,ve()},pe=()=>{l.value=!l.value,ve()},me=()=>{c.value=!c.value,ve()},le=T=>{const D=Math.max(10,Math.min(1e3,T));i.value=D,ve()},z=async T=>{if(T<=0)return!1;const D=T*60*60;return Be(),await j(D,!0),!0},K=R(()=>((Date.now()-d.value)/1e3).toFixed(0)),H=()=>{const T=t.generators;for(let D=0;D<A.length;D++){const X=A[D];if(!X)continue;const ae=T.find(ue=>ue.id===X.id);if(ae){const ue=new be(ae.count),ke=ue.sub(X.beforeCount),Pe=(ae.selfReplicated?new be(ae.selfReplicated):new be(0)).sub(X.selfReplicated);A[D]={...X,afterCount:ue,generated:ke,selfReplicated:Pe}}}Be()};return{autoSaveEnabled:e,offlineProgressEnabled:s,autoEnableGeneratorsAfterPrestige:o,processAllTicksIndividually:n,offlineTickBatchSize:i,confirmMaxUpgradePurchase:l,confirmEvolution:c,lastSaveTime:d,lastLoadTime:u,firstSaveTime:m,timeSinceLastSave:K,isCalculatingOfflineProgress:p,isCalculationComplete:y,showOfflineProgressModal:v,offlineProgressTotalTicks:S,offlineProgressTicksProcessed:_,offlineProgressElapsedTime:C,generatorStats:A,initialFoodAmount:x,initialHoneydewAmount:$,saveGame:ne,saveGameAsync:oe,loadGame:O,exportSave:Y,exportSaveToFile:G,importSave:de,importSaveFromFile:re,resetGame:he,startAutoSave:Se,stopAutoSave:Me,toggleAutoSave:Oe,debouncedSave:ve,toggleOfflineProgress:He,toggleAutoEnableGeneratorsAfterPrestige:we,toggleProcessAllTicksIndividually:_e,toggleConfirmMaxUpgradePurchase:pe,toggleConfirmEvolution:me,setOfflineTickBatchSize:le,calculateOfflineProgress:j,processRealTicks:N,simulateOfflineTime:z,captureInitialState:M,updateGeneratorStats:H,getStores:B,calculationTimeouts:P}}),As=Ft("game",()=>{const t=W(10),e=W(1),s=R(()=>{const N=ct(),U=N.getUpgradeMultiplier("cycleTimeReduction").toNumber(),j=N.getUpgradeMultiplier("cycleTimeReductionAdvanced").toNumber(),ee=N.getUpgradeMultiplier("cycleTimeReductionMaster").toNumber();return Math.max(.1,(t.value-U-j-ee)/e.value)}),o=W(0),n=W(0),i=W(0),l=W(Date.now()),c=W(!0),d=W(a(0)),u=W(a(0)),m=W(!1),p=R(()=>Math.round(o.value*100)),y=R(()=>Math.round(n.value*100)),v=R(()=>Math.round(i.value*100)),S=R(()=>(s.value*(1-o.value)).toFixed(1)),_=R(()=>(s.value/2*(1-n.value)).toFixed(1)),C=R(()=>(s.value/1.5*(1-i.value)).toFixed(1)),x=R(()=>ie(d.value,0)),$=R(()=>ie(u.value,0));function A(N=1,U=!1){d.value=d.value.add(N),u.value=u.value.add(N),vt().tick();const ee=ct();ee.updateLoopProgress(N),Wt().updateWorkerProgress(N);try{gt().update()}catch(Y){console.error("Error processing Mega Ant update:",Y)}try{ss().update()}catch(Y){console.error("Error processing Aphid Farm update:",Y)}try{const Y=Ns();Y.isBossSystemUnlocked&&Y.decrementCooldown()}catch(Y){console.error("Error processing boss cooldown:",Y)}qs().checkProgression();try{Vt().tick()}catch(Y){console.error("Error processing quests:",Y)}try{Ws().tick()}catch(Y){console.error("Error processing achievements:",Y)}ee.autoEvolveEnabled&&ee.getUpgradeCount("autoEvolve").gt(0)&&ee.canEvolve&&(ee.evolve(),console.log("Auto-Evolved!")),U||(ps().tick(),ps().tick()),Os().debouncedSave(),o.value=0,l.value=Date.now()}function M(){if(!c.value)return;const N=Date.now(),U=(N-l.value)/1e3;if(o.value+=U/s.value,ct().getUpgradeCount("unlockAdventure").gt(0)){n.value+=U/(s.value/2),n.value>=1&&(ps().tick(),n.value=0);try{const ne=Ns();ne.isBossSystemUnlocked&&ne.isBossFightActive&&(i.value+=U/(s.value/1.5),i.value>=1&&(ne.processBossCombatTick(!0),i.value=0))}catch(ne){console.error("Error processing boss combat:",ne)}}o.value>=1&&A(),l.value=N}function P(){c.value=!c.value,c.value&&(l.value=Date.now())}function L(N){e.value=N,console.log(`Game speed set to ${N}x`)}const B=()=>({totalTicks:d.value.toString(),currentEvolutionTicks:u.value.toString(),baseTickDuration:t.value,gameSpeed:e.value,showGameFinishedScreen:m.value}),k=N=>{N.totalTicks&&(d.value=a(N.totalTicks)),N.currentEvolutionTicks&&(u.value=a(N.currentEvolutionTicks)),N.baseTickDuration&&(t.value=N.baseTickDuration),N.gameSpeed&&(e.value=N.gameSpeed),typeof N.showGameFinishedScreen=="boolean"&&(m.value=N.showGameFinishedScreen)};function I(){u.value=a(0)}return{tickDuration:s,tickProgress:o,adventureTickProgress:n,bossTickProgress:i,isRunning:c,totalTicks:d,currentEvolutionTicks:u,showGameFinishedScreen:m,formattedTotalTicks:x,formattedCurrentEvolutionTicks:$,progressPercentage:p,adventureProgressPercentage:y,bossProgressPercentage:v,timeRemaining:S,adventureTimeRemaining:_,bossTimeRemaining:C,gameSpeed:e,setGameSpeed:L,tick:A,updateProgress:M,toggleRunning:P,getState:B,loadState:k,resetEvolutionTicks:I}}),Ns=Ft("boss",()=>{const t=vt(),e=os(),s=ts(),o=ps(),n=ct();cs();const i=Tt(),l=As(),c=W(new Set),d=W(null),u=W(null),m=W([]),p=30,y=W(null),v=W(0),S=10,_=W({}),C=W(null),x=W(!1),$=me=>{const le=_t.findIndex(X=>X.id===me.id),z=be.fromNumber(1).add(be.fromNumber(.5).mul(le)),K=be.min(z,be.fromNumber(100)),T=t.foodPerSecond.mul(K);return{reward:be.max(T,a("1e6")),percentage:K}},A=R(()=>n.getUpgradeCount("unlockBossChallenges").gt(0)),M=R(()=>_t),P=R(()=>{if(!d.value)return d.value===null?[]:[_t[0]];const me=_t.findIndex(le=>le.id===d.value);return me===-1?[]:_t.slice(0,me+1)}),L=R(()=>u.value&&_t.find(me=>{var le;return me.id===((le=u.value)==null?void 0:le.bossId)})||null),B=R(()=>u.value!==null),k=R(()=>v.value>0),I=R(()=>`${v.value} ticks`),N=R(()=>{if(!d.value){const z=_t[0];return we(z)}const me=_t.findIndex(z=>z.id===d.value);if(me===-1||me>=_t.length-1)return!1;const le=_t[me+1];return we(le)}),U=R(()=>({damage:o.playerDamage,maxHealth:o.playerMaxHealth,defense:o.playerDefense,regen:o.playerRegen})),j=()=>{if(c.value.size===0)d.value=_t[0].id;else{let me=-1;c.value.forEach(le=>{const z=_t.findIndex(K=>K.id===le);z>me&&(me=z)}),me<_t.length-1?d.value=_t[me+1].id:d.value=_t[_t.length-1].id}},ee=(me,le="info")=>{const z=crypto.randomUUID(),K={timestamp:Date.now()+z,message:me,type:le};m.value.push(K),m.value.length>p&&(m.value=m.value.slice(-30))},ne=me=>{const le=_t.find(T=>T.id===me);if(!le){ee(`Error: Boss with ID ${me} not found.`,"info");return}const z=_t.findIndex(T=>T.id===me),K=_t.findIndex(T=>T.id===d.value);if(!(z<=K)&&!we(le)){ee(`You haven't met the requirements to challenge ${le.name} yet. Check the requirements list.`,"info");return}if(k.value){ee(`You must wait ${I.value} before challenging a boss again.`,"info");return}u.value={bossId:me,currentHealth:new be(le.maxHealth)},y.value=new be(U.value.maxHealth),m.value=[],ee(`You challenge ${le.name}! (${ie(le.damage)} damage, ${ie(le.maxHealth)} health)`,"info"),ee(`Your stats: ${ie(U.value.damage)} damage, ${ie(U.value.maxHealth)} health, ${ie(U.value.defense)} defense`,"info")},oe=me=>{if(!u.value||!y.value)return;const le=L.value;if(!le)return;const z=y.value;if(y.value=be.min(U.value.maxHealth,y.value.add(U.value.regen)),me&&y.value.gt(z)){const T=y.value.minus(z);T.gt(0)&&ee(`You regenerate ${ie(T)} health (${ie(y.value)}/${ie(U.value.maxHealth)} HP)`,"info")}const K=o.calculateDamage(U.value.damage,le.defense);if(u.value.currentHealth=u.value.currentHealth.minus(K).clamp(0,le.maxHealth),me&&ee(`You deal ${ie(K)} damage to ${le.name} (${ie(u.value.currentHealth)}/${ie(le.maxHealth)} HP)`,"combat"),u.value.currentHealth.lte(0)){O();return}if(le.specialAbilities&&le.specialAbilities.length>0&&me&&Math.random()<.1){const T=le.specialAbilities[Math.floor(Math.random()*le.specialAbilities.length)];ee(`${le.name} uses ${T.name}!`,"combat")}const H=o.calculateDamage(le.damage,U.value.defense);y.value=y.value.minus(H).clamp(0,U.value.maxHealth),me&&ee(`${le.name} deals ${ie(H)} damage to you (${ie(y.value)}/${ie(U.value.maxHealth)} HP)`,"combat"),y.value.lte(0)&&Y()},O=()=>{if(!u.value)return;const me=u.value.bossId,le=_t.find(ae=>ae.id===me);if(!le){Is("Boss not found during defeat handling",{bossId:me});return}const z=c.value.has(me);c.value.add(me);const{reward:K,percentage:H}=$(le);t.food=t.food.add(K);const T=ie(H.mul(100),0);ee(`You gained ${ie(K)} food (${T}% of your food/sec)!`,"reward");const D=pe(le),X=e.addPheromoneEssence(D);if(ee(`You gained ${ie(X)} Pheromone Essence!`,"reward"),le.reward.guaranteedItemId){const ae=le.reward.itemChance||1;if(Math.random()<=ae){const ue=i.getItem(le.reward.guaranteedItemId);s.addItem(le.reward.guaranteedItemId,new be(1)),ee(`You found a rare ${(ue==null?void 0:ue.name)||le.reward.guaranteedItemId}!`,"reward")}}if(ee(`You have defeated ${le.name}!`,"info"),me==="boss_omega_ant"&&!x.value&&(l.showGameFinishedScreen=!0,x.value=!0,ee("Endless Mode unlocked! The colony marches on...","reward")),!z){let ae=me;c.value.forEach(ke=>{_t.findIndex(ge=>ge.id===ke)>_t.findIndex(ge=>ge.id===ae)&&(ae=ke)});const ue=_t.find(ke=>_t.findIndex(ge=>ge.id===ke.id)>_t.findIndex(ge=>ge.id===ae));ue?(d.value=ue.id,ee(`You have unlocked the next boss: ${ue.name}!`,"info")):ee("Congratulations! You've defeated all available bosses!","info")}u.value=null,y.value=null,v.value=S},Y=()=>{if(!u.value)return;const me=u.value.bossId,le=_t.find(z=>z.id===me);le&&(ee(`You have been defeated by ${le.name}!`,"info"),u.value=null,y.value=null,v.value=S)},G=me=>{if(!u.value||u.value.bossId!==me)return 100;const le=_t.find(z=>z.id===me);return le?u.value.currentHealth.div(le.maxHealth).mul(100).toNumber():100},de=()=>!y.value||!U.value.maxHealth?100:y.value.div(U.value.maxHealth).mul(100).toNumber(),re=me=>c.value.has(me),he=()=>{v.value>0&&(v.value-=1,v.value===0&&ee("Cooldown has ended! You can now challenge a boss.","info")),!u.value&&!k.value&&C.value&&(_t.find(le=>le.id===C.value)?ne(C.value):(ee(`Repeatable boss ID ${C.value} not found. Clearing setting.`,"info"),_e(null)))},ve=me=>{me.defeatedBossIds&&Array.isArray(me.defeatedBossIds)&&(c.value=new Set(me.defeatedBossIds)),typeof me.cooldownTicksRemaining=="number"&&(v.value=me.cooldownTicksRemaining),me.bugKillCounts&&typeof me.bugKillCounts=="object"&&(_.value=me.bugKillCounts),(typeof me.repeatableBossFightId=="string"||me.repeatableBossFightId===null)&&(C.value=me.repeatableBossFightId),typeof me.hasSeenGameFinishedScreen=="boolean"&&(x.value=me.hasSeenGameFinishedScreen),j()},Se=()=>({defeatedBossIds:Array.from(c.value),cooldownTicksRemaining:v.value,bugKillCounts:_.value,repeatableBossFightId:C.value,hasSeenGameFinishedScreen:x.value}),Me=(me,le=1)=>{_.value[me]||(_.value[me]=0),_.value[me]+=le},Oe=me=>_.value[me]||0,He=()=>Object.values(_.value).reduce((me,le)=>me+le,0),we=me=>!me.unlockRequirements||me.unlockRequirements.length===0?!0:me.unlockRequirements.every(le=>{switch(le.type){case"bugKills":return He()>=le.value;case"specificBugKills":return Oe(le.target)>=le.value;case"foodPerSecond":return t.foodPerSecond.gte(le.value);case"bossDeath":return re(le.target);case"none":return!0;default:return!1}}),_e=me=>{if(me===null){C.value=null,ee("Repeatable boss fight cleared.","info");return}const le=_t.find(z=>z.id===me);le&&re(me)?(C.value=me,ee(`${le.name} set as repeatable boss fight.`,"info")):ee(le?`Cannot set ${le.name} as repeatable. You must defeat it first.`:`Cannot set unknown boss ID ${me} as repeatable.`,"info")},pe=me=>{const le=_t.findIndex(X=>X.id===me.id),z=be.fromNumber(.05).add(be.fromNumber(.02).mul(le)),K=be.min(z,be.fromNumber(1)),T=e.pheromoneEssence.mul(K),D=le>5?a(10):a(1);return be.max(T.floor(),D)};return{defeatedBossIds:c,highestUnlockedBossId:d,currentFight:u,bossLogs:m,playerHealthDuringBossFight:y,cooldownTicksRemaining:v,bugKillCounts:_,repeatableBossFightId:C,hasSeenGameFinishedScreen:x,allBosses:M,unlockedAndAvailableBosses:P,currentBossData:L,isBossFightActive:B,canChallengeNextBoss:N,isBossSystemUnlocked:A,isBossCooldownActive:k,formattedCooldownTime:I,playerStats:U,initialize:j,startBossFight:ne,processBossCombatTick:oe,getBossHealthPercentage:G,getPlayerHealthPercentage:de,isBossDefeated:re,loadState:ve,getState:Se,addBossLog:ee,decrementCooldown:he,recordBugKill:Me,getBugKillCount:Oe,getTotalBugKills:He,checkBossUnlockRequirements:we,setRepeatableBoss:_e,calculateBossFoodReward:$,calculateBossEssenceReward:pe}}),ps=Ft("adventure",()=>{const t=vt(),e=Xs(),s=ts(),o=os(),n=ct(),i=O0(),l=cs(),c=Tt(),d=Vt(),u=Ns(),m=ss(),p=fi(),y=R(()=>n.getUpgradeCount("unlockAdventure").gt(0)),v=R(()=>n.getUpgradeCount("unlockAutoQuestAdvance").gt(0)),S=R(()=>{const Z=n.getUpgradeCount("doubleKill");return be.fromNumber(.01).mul(Z)}),_=R(()=>{const Z=n.getUpgradeCount("doubleKillEffect");return be.fromNumber(2).mul(Z)}),C=Z=>{let J=a(1);return n.evolutionUpgrades.filter($e=>$e.level.gt(0)&&$e.appliesTo.includes(Z)).forEach($e=>{const Ee=$e.effect($e.level);J=J.mul(Ee)}),J},x=R(()=>C("damage")),$=R(()=>C("health")),A=R(()=>C("defense")),M=R(()=>C("regen")),P=R(()=>{const Z=t.generators[0].count.mul(be.fromNumber(10)),J=t.generators[0].count,te=s.totalStats.damage.mul(J),ye=Z.plus(te),Ee=p.getBoostMultipliers().combatStats.damage||0;return ye.mul(x.value).add(Ee)}),L=R(()=>{const Z=t.generators[0].count.mul(be.fromNumber(100)),J=t.generators[0].count,te=s.totalStats.health.mul(J),ye=Z.plus(te),Ee=p.getBoostMultipliers().combatStats.health||0;return ye.mul($.value).add(Ee)}),B=R(()=>{const Z=t.generators[0].count,J=t.generators[0].count,te=s.totalStats.regen.mul(J),ye=Z.plus(te),Ee=p.getBoostMultipliers().combatStats.regen||0;return ye.mul(M.value).add(Ee)}),k=R(()=>{const Z=t.generators[0].count.mul(be.fromNumber(10)),J=t.generators[0].count,te=s.totalStats.defense.mul(J),ye=Z.plus(te),Ee=p.getBoostMultipliers().combatStats.defense||0;return ye.mul(A.value).add(Ee)}),I=W(L.value),N=W(!0),U=W(!0),j=W("safe"),ee=W([]),ne=30,oe=W(!1),O=W(!1),Y=W(!1),G=W("combat"),de=W(!1),re=W(!1),he=W(!1),ve=W("comfortable"),Se=(Z,J)=>{const te=Z.minus(J);return Z.gt(0)&&te.lte(0)?new be(1):be.max(te,new be(0))},Me=(Z,J="info")=>{const te={timestamp:Date.now(),message:Z,type:J};ee.value.push(te),ee.value.length>ne&&(ee.value=ee.value.slice(-30))},Oe=()=>{Me("You died! Returning to safe training...","info"),I.value=L.value,j.value="safe",ge("safe"),oe.value=!0},He=()=>{e.selectedBug&&(e.selectedBug.health=e.selectedBug.maxHealth,Me(`A new ${e.selectedBug.name} appears with ${ie(e.selectedBug.maxHealth)} health!`,"info"))},we=Z=>{const J=e.getBugById(Z);return J?Se(P.value,J.defense).gte(J.maxHealth):!1},_e=Z=>{const J=e.bugs.findIndex(te=>te.id===Z);return J===-1||J===e.bugs.length-1?null:e.bugs[J+1].id},pe=Z=>{const J=e.bugs.findIndex(Ne=>Ne.id===Z.id),te=be.fromNumber(.1).add(be.fromNumber(.02).mul(J)),ye=be.min(te,be.fromNumber(2)),Ee=t.foodPerSecond.mul(ye);return{reward:be.max(Ee,be.fromNumber(10)),percentage:ye}},me=Z=>{const J=e.bugs.findIndex(ye=>ye.id===Z.id),te=be.fromNumber(5).mul(be.pow(1.15,J));return J>50?te.mul(be.fromNumber(50+(J-50)*.3)):te.floor()},le=Z=>{const J=B.value.mul(Z);I.value=be.min(L.value,I.value.add(J))},z=Z=>{var ye;if(!e.selectedBug)return!1;if(oe.value)return He(),oe.value=!1,!1;if(e.isBugDead)return!1;const J=Se(P.value,e.selectedBug.defense);if(e.attackBug(J),Z&&Me(`You deal ${ie(J)} damage to ${e.selectedBug.name} (${ie(e.selectedBug.health)}/${ie(e.selectedBug.maxHealth)} HP)`,"combat"),e.isBugDead){const $e=d.activeQuest!==null,Ee=((ye=d.activeQuest)==null?void 0:ye.title)||"";return T(e.selectedBug,Z),$e&&d.activeQuest===null&&Me(`Quest completed: ${Ee}!`,"reward"),!1}const te=Se(e.selectedBug.damage,k.value);return ue(te),Z&&Me(`${e.selectedBug.name} deals ${ie(te)} damage to you (${ie(I.value)}/${ie(L.value)} HP)`,"combat"),ke.value},K=Z=>{const J=e.getRandomDrops();if(J.length===0)return;const te=J.filter($e=>!i.isItemFiltered($e.itemId)),ye=J.filter($e=>i.isItemFiltered($e.itemId));if(te.length>0&&te.forEach($e=>{s.addItem($e.itemId,be.fromNumber($e.quantity)),Z&&Me(`You found ${$e.quantity}x ${$e.itemId}!`,"reward")}),ye.length>0&&s.isAutoSalvageUnlocked&&s.isAutoSalvageEnabled){let $e=a(0);const Ee={};ye.forEach(Re=>{Ee[Re.itemId]||(Ee[Re.itemId]=0),Ee[Re.itemId]+=Re.quantity});for(const[Re,Ne]of Object.entries(Ee)){const Ge=c.getItem(Re);if(!Ge)continue;const ft=o.calculateBatchSalvageValue(Re,Ne,Ge);$e=$e.add(ft)}if($e.gt(0)){const Re=l.getPheromoneGainMultiplier(),Ne=o.addPheromoneEssence($e);if(Z)if(Re.gt(1)){const Ge=ie($e),ft=ie(Ne.sub($e));Me(`Auto-salvaged filtered items for ${Ge} + ${ft} bonus Pheromone Essence!`,"reward")}else Me(`Auto-salvaged filtered items for ${ie(Ne)} Pheromone Essence!`,"reward")}}else J.length!==te.length&&Z&&Me("Some items were filtered out based on your settings.","info")},H=(Z,J)=>{if(!Z.collectibleDrops||Z.collectibleDrops.length===0)return;const te=e.getRandomCollectibleDrops();te.length!==0&&te.forEach(ye=>{const $e=p.addCollectible(ye);if($e&&J){const Ee=p.getCollectible(ye);if(!Ee)return;$e.isNew?Me(`You found a new collectible: ${Ee.name}!`,"reward"):$e.leveledUp?Me(`You found ${Ee.name} and it leveled up to level ${$e.level.toString()}!`,"reward"):Me(`You found ${Ee.name} again! (Collection XP increased)`,"reward")}})},T=(Z,J)=>{var ft;const{reward:te,percentage:ye}=pe(Z);if(t.food=t.food.add(te),J){const et=ie(ye.mul(100),0);Me(`You defeated ${Z.name} and gained ${ie(te)} food (${et}% of your food/trip)!`,"reward")}if(m.hasBugHoneydewDropUpgrade){const et=D(Z);m.honeydew=m.honeydew.add(et),J&&Me(`Gained ${ie(et)} honeydew from bug kill upgrade!`,"reward")}u.recordBugKill(Z.id,1);const $e=me(Z),Ee=l.getPheromoneGainMultiplier(),Re=o.addPheromoneEssence($e);if(J)if(Ee.gt(1)){const et=ie($e),ze=ie(Re.sub($e));Me(`You collected ${et} + ${ze} bonus Pheromone Essence (${ie(Ee)}x multiplier)!`,"reward")}else Me(`You collected ${ie(Re)} Pheromone Essence!`,"reward");K(J),H(Z,J);let Ne=1;if(Math.random()<S.value.toNumber()){J&&Me(`DOUBLE KILL! (${ie(_.value)}x multiplier)`,"reward");const et=te.mul(_.value);t.food=t.food.add(et);const ze=$e.mul(_.value),Ke=o.addPheromoneEssence(ze);if(m.hasBugHoneydewDropUpgrade){const ce=a(1).mul(_.value);m.honeydew=m.honeydew.add(ce),J&&Me(`Double kill bonus: +${ie(ce)} honeydew!`,"reward")}const Ie=_.value.toNumber()-1;if(Ie>1&&u.recordBugKill(Z.id,Ie),J){let ce=`Double kill bonus: +${ie(et)} food and +${ie(Ke)} Pheromone Essence`;if(m.hasBugHoneydewDropUpgrade){const Ae=a(1).mul(_.value);ce+=` and +${ie(Ae)} honeydew!`}else ce+="!";Me(ce,"reward")}K(J),H(Z,J),Ne=2*_.value.toNumber()}try{if(d.activeQuest){const et=d.activeQuest.goals.filter(ze=>ze.type===Gt.KILL_BUGS);if(et.length>0)for(const ze of et){const Ke=!ze.target,Ie=ze.target&&Z.id===ze.target,ce=["bug_slayer_initiate","extreme_bug_hunter"].includes(d.activeQuest.id)||d.activeQuest.id.includes("exterminator_");if(Ke||Ie||ce){let Ae=ze.currentAmount instanceof be?ze.currentAmount:a(ze.currentAmount||0);if(Ae=Ae.add(Ne),ze.currentAmount=Ae,J){const Xe=ze.requiredAmount instanceof be?ze.requiredAmount:a(ze.requiredAmount||0);Me(Ke||ce?`Quest progress: ${ie(Ae)}/${ie(Xe)} total kills`:`Quest progress: ${ie(Ae)}/${ie(Xe)} ${Z.name} kills`,"info")}}}d.tick()}}catch(et){Is("Error updating quest progress for bug defeat:",et)}let Ge=!1;if(Y.value&&d.activeQuest&&v.value){const et=F();if(et&&et!==j.value){const ze=e.getBugById(et);ze&&(J&&Me(`Prioritizing Quest: Auto advancing to target ${ze.name}`,"info"),Pe(et),Ge=!0)}}else if(!Ge&&O.value){const et=_e(j.value);et&&et!==j.value&&we(et)&&(J&&Me(`Auto advancing to next one-hit kill bug: ${(ft=e.getBugById(et))==null?void 0:ft.name}`,"info"),Pe(et),Ge=!0)}oe.value=!0},D=Z=>{const J=e.bugs.findIndex(Re=>Re.id===Z.id),te=be.fromNumber(.1).add(be.fromNumber(.02).mul(J)),ye=be.min(te,be.fromNumber(2)),$e=be.fromNumber(10).mul(ye);return be.max($e,be.fromNumber(10))},X=(Z=1)=>{if(!y.value)return;if(le(Z),Z===1){z(!0)&&Oe();return}if(!e.selectedBug)return;if(oe.value){He(),oe.value=!1,z(!1)&&Oe();return}const J=Se(P.value,e.selectedBug.defense),te=e.selectedBug.health;if(J.lte(0)){z(!1)&&Oe();return}const ye=te.div(J).ceil(),$e=Se(e.selectedBug.damage,k.value);if(ye.lte(1)||$e.lte(0)){z(!1);return}const Ee=I.value.div($e).floor(),Re=be.min(Z,Ee).toNumber();if(ye.gt(Ee)){for(let Ge=0;Ge<Re;Ge++)z(!1);Re>=Ee.toNumber()&&Oe();return}const Ne=be.min(ye,Z).toNumber();for(let Ge=0;Ge<Ne;Ge++)if(z(!1)){Oe();break}},ae=()=>{const Z=I.value;if(I.value=I.value.plus(B.value).clamp(0,L.value),I.value.gt(Z)&&B.value.gt(0)){const J=I.value.minus(Z);J.gt(0)&&Me(`You regenerate ${ie(J)} health (${ie(I.value)}/${ie(L.value)} HP)`,"info")}},ue=Z=>{I.value=I.value.minus(Z).clamp(0,L.value)},ke=R(()=>I.value.lte(0)),ge=Z=>{var te,ye,$e;const J=e.selectedBug;if(e.selectBug(Z),(J==null?void 0:J.id)!==Z){Me(`You start fighting ${(te=e.selectedBug)==null?void 0:te.name} (${ie(((ye=e.selectedBug)==null?void 0:ye.damage)||be.fromNumber(0))} damage, ${ie((($e=e.selectedBug)==null?void 0:$e.maxHealth)||be.fromNumber(0))} health)`,"info");const Ee=t.generators[0].count.mul(be.fromNumber(10)),Re=t.generators[0].count,Ne=s.totalStats.damage.mul(Re);Ne.gt(0)&&Me(`Your equipment provides a damage boost of ${ie(Ne)} (${ie(Ee)} base + ${ie(Ne)} equipment boost)`,"info"),oe.value=!0}},Pe=Z=>{var J,te;j.value!==Z&&Me(`Switching target from ${((J=e.getBugById(j.value))==null?void 0:J.name)||"unknown"} to ${((te=e.getBugById(Z))==null?void 0:te.name)||"unknown"}`,"info"),j.value=Z,ge(Z)},fe=Z=>{Z.currentHealth&&(I.value=a(Z.currentHealth)),Z.selectedBugId&&(j.value=Z.selectedBugId,ge(Z.selectedBugId)),typeof Z.autoAdvance=="boolean"&&(O.value=Z.autoAdvance),typeof Z.autoQuestAdvance=="boolean"&&(Y.value=Z.autoQuestAdvance),Z.filters&&(typeof Z.filters.showOneHitOnly=="boolean"&&(de.value=Z.filters.showOneHitOnly),typeof Z.filters.showCanKillOnly=="boolean"&&(re.value=Z.filters.showCanKillOnly),typeof Z.filters.showAllEnemies=="boolean"&&(he.value=Z.filters.showAllEnemies),Z.filters.gridDensity&&(ve.value=Z.filters.gridDensity)),Z.activeTab&&(G.value=Z.activeTab),Me("Adventure state loaded","info")},E=()=>({currentHealth:I.value.toString(),selectedBugId:j.value,autoAdvance:O.value,autoQuestAdvance:Y.value,activeTab:G.value,filters:{showOneHitOnly:de.value,showCanKillOnly:re.value,showAllEnemies:he.value,gridDensity:ve.value}}),w=Z=>{if(!d.activeQuest)return!1;const J=d.activeQuest.goals.filter(te=>te.type===Gt.KILL_BUGS);return J.length===0?!1:J.some(te=>{const ye=!te.target,$e=te.target===Z,Ee=["bug_slayer_initiate","extreme_bug_hunter"].includes(d.activeQuest.id)||d.activeQuest.id.includes("exterminator_");return ye||$e||Ee})},F=()=>{if(!d.activeQuest)return null;const Z=d.activeQuest.goals.filter(Ee=>Ee.type===Gt.KILL_BUGS);if(Z.length===0)return null;if(["bug_slayer_initiate","extreme_bug_hunter"].includes(d.activeQuest.id)||d.activeQuest.id.includes("exterminator_")){for(let Ee=e.bugs.length-1;Ee>=0;Ee--){const Re=e.bugs[Ee];if(Re&&we(Re.id))return Re.id}return"safe"}const te=Z.filter(Ee=>{const Re=typeof Ee.currentAmount=="string"?a(Ee.currentAmount):Ee.currentAmount||a(0),Ne=typeof Ee.requiredAmount=="string"?a(Ee.requiredAmount):Ee.requiredAmount||a(0);return Re.lt(Ne)});if(te.length===0)return j.value;const ye=te.filter(Ee=>Ee.target).map(Ee=>Ee.target);if(ye.length===0)return j.value||"safe";const $e=[...e.bugs].reverse();for(const Ee of $e)if(ye.includes(Ee.id)&&we(Ee.id))return Ee.id;return ye[0]},q=Z=>{if(!y.value||!e.selectedBug)return{kills:0,totalFoodGained:new be(0),totalEssenceGained:new be(0),totalDoubleKills:0,totalHoneydewGained:new be(0)};const J=new be(I.value),te={kills:0,totalFoodGained:new be(0),totalEssenceGained:new be(0),totalDoubleKills:0,totalHoneydewGained:new be(0)},ye=e.selectedBug,$e=Se(P.value,ye.defense),Ee=Se(ye.damage,k.value);if($e.lte(0))return te;const Re=ye.maxHealth.div($e).ceil();let Ne=new be(0);if(Ee.gt(0)){const ze=Ee.mul(Re);Ne=B.value.mul(Re).sub(ze)}else Ne=B.value.mul(Re);let Ge=new be(J),ft=new be(Z);if(Ne.gte(0)||Ee.lte(0)){te.kills=Math.floor(ft.div(Re).toNumber());const ze=Ne.mul(te.kills);Ge=be.min(L.value,Ge.add(ze))}else for(;ft.gte(Re)&&Ge.gt(0);){const ze=Ge.div(Ee.mul(Re).sub(B.value.mul(Re)).neg()).floor(),Ke=be.min(ze,ft.div(Re).floor()).toNumber();if(Ke<=0||(te.kills+=Ke,ft=ft.sub(Re.mul(Ke)),Ge=Ge.add(Ne.mul(Ke)),Ge.lte(0)))break}const et=S.value.toNumber();if(te.totalDoubleKills=Math.floor(te.kills*et),te.kills>0){const{reward:ze}=pe(ye);if(te.totalFoodGained=ze.mul(te.kills),te.totalDoubleKills>0){const Ie=ze.mul(_.value).mul(te.totalDoubleKills);te.totalFoodGained=te.totalFoodGained.add(Ie)}const Ke=me(ye);if(te.totalEssenceGained=Ke.mul(te.kills),te.totalDoubleKills>0){const Ie=Ke.mul(_.value).mul(te.totalDoubleKills);te.totalEssenceGained=te.totalEssenceGained.add(Ie)}if(m.hasBugHoneydewDropUpgrade){const Ie=a(1);if(te.totalHoneydewGained=Ie.mul(te.kills),te.totalDoubleKills>0){const ce=Ie.mul(_.value).mul(te.totalDoubleKills);te.totalHoneydewGained=te.totalHoneydewGained.add(ce)}}}return I.value=Ge.gt(0)?Ge:L.value,te};return ge("safe"),{currentHealth:I,playerMaxHealth:L,playerDamage:P,playerRegen:B,playerDefense:k,isDead:ke,isInCombat:N,autoCombatEnabled:U,selectedBugId:j,logs:ee,isAdventureUnlocked:y,tick:X,takeDamage:ue,regenHealth:ae,startCombat:ge,toggleAutoCombat:Pe,loadState:fe,getState:E,autoAdvance:O,autoQuestAdvance:Y,isAutoQuestAdvanceUnlocked:v,canOneHitBug:we,willProgressQuest:w,getBestQuestTarget:F,showOneHitOnly:de,showCanKillOnly:re,showAllEnemies:he,gridDensity:ve,activeTab:G,calculateDamage:Se,addLog:Me,calculateOfflineCombatProgress:q,getStatMultiplier:C,processCollectibleDrops:H}}),Xs=Ft("bug",()=>{const t=W(y2),e=W(t.value[0]),s=W("safe"),o=ct(),n=R(()=>o.getUpgradeCount("reRollChance").div(100)),i=R(()=>e.value?e.value.health.lte(0):!1),l=R(()=>e.value?e.value.health.div(e.value.maxHealth).mul(100).toNumber():0),c=$=>{const A=t.value.find(M=>M.id===$);A&&(e.value=A,s.value=$,A.health=A.maxHealth)},d=$=>{e.value&&(e.value.health=e.value.health.minus($).clamp(0,e.value.maxHealth))},u=()=>{if(!e.value)return[];const $=[],A=ps();return e.value.drops.forEach(M=>{if(Math.random()<=M.chance){const P=Math.floor(Math.random()*(M.maxQuantity-M.minQuantity+1)+M.minQuantity);$.push({itemId:M.itemId,quantity:P})}if(n.value.gt(0)&&Math.random()<=n.value.toNumber()){const P=Math.floor(Math.random()*(M.maxQuantity-M.minQuantity+1)+M.minQuantity);$.push({itemId:M.itemId,quantity:P}),A.addLog(`Re-roll successful! Gained ${P}x ${M.itemId}!`,"reward")}}),$},m=()=>{if(!e.value||!e.value.collectibleDrops)return[];const $=[],A=ps();return e.value.collectibleDrops.forEach(M=>{Math.random()<=M.chance&&$.push(M.collectibleId),n.value.gt(0)&&Math.random()<=n.value.toNumber()&&($.push(M.collectibleId),A.addLog(`Re-roll successful! Found collectible: ${M.collectibleId}!`,"reward"))}),$},p=$=>{$.selectedBugId&&(c($.selectedBugId),$.selectedBugHealth&&(e.value.health=a($.selectedBugHealth)))},y=()=>{var $,A;return{selectedBugId:(($=e.value)==null?void 0:$.id)||null,selectedBugHealth:((A=e.value)==null?void 0:A.health.toString())||null}},v=$=>t.value.find(A=>A.id===$),S=$=>t.value.filter(A=>A.drops.some(M=>M.itemId===$)),_=$=>t.value.filter(A=>A.collectibleDrops&&A.collectibleDrops.some(M=>M.collectibleId===$)),C=($,A)=>{const M=v(A);if(!M)return 0;const P=M.drops.find(L=>L.itemId===$);return P?P.chance:0},x=($,A)=>{const M=v(A);if(!M||!M.collectibleDrops)return 0;const P=M.collectibleDrops.find(L=>L.collectibleId===$);return P?P.chance:0};return{bugs:t.value.sort(($,A)=>$.health.minus(A.health).toNumber()),selectedBug:e,selectedBugId:s,isBugDead:i,getBugHealthPercentage:l,selectBug:c,attackBug:d,getRandomDrops:u,getRandomCollectibleDrops:m,reRollChance:n,loadState:p,getState:y,getBugById:v,getBugsByItemId:S,getBugsByCollectibleId:_,getBugDropChance:C,getCollectibleDropChance:x}}),Hi=W([]);let sC=0;function zt(){const t=(s,o="info",n=3e3)=>{const i=sC++;return Hi.value.push({id:i,message:s,type:o,timeout:n}),setTimeout(()=>{e(i)},n),i},e=s=>{const o=Hi.value.findIndex(n=>n.id===s);o!==-1&&Hi.value.splice(o,1)};return{toasts:Hi,showToast:t,removeToast:e}}function o0(){const t=vt(),e=ct(),s=os(),o=cs(),n=(d,u=1)=>{const m=u>=1&&u<=5?u:1,p=Math.pow(2,m-1);switch(d){case Ut.FOOD:{const y=.5*p,v=t.foodPerSecond,S=60*p,_=v.mul(y).mul(S),C=a(1e3).mul(p);return be.max(_,C)}case Ut.PHEROMONE:{const y=s.pheromoneEssence,v=.01*p;return y.mul(v)}case Ut.EP:{let y;if(e.loopsCompleted.gt(0)){const S=e.loopsCompleted.toNumber();a(1);const _=a(S),C=_,x=_.mul(_.sub(1)).mul(.05);y=C.add(x);const $=o.getEPBoostMultiplier();y=y.mul($)}else y=a(100*p);if(y.lte(0))return a(100*p);const v=.05*p;return y.mul(v)}default:return a(0)}},i=(d,u=1)=>{const m=u>=1&&u<=5?u:1,p=Math.pow(2,m-1);switch(d){case Ut.FOOD:{const y=.5*p,v=60*p;return`${(y*100).toFixed(0)}% of food production  ${v}s`}case Ut.PHEROMONE:return`${(.01*p*100).toFixed(0)}% of current pheromone`;case Ut.EP:return`${(.05*p*100).toFixed(0)}% of potential EP gain`;default:return`Tier ${u} reward`}};return{calculateDynamicReward:n,getDynamicRewardDescription:i,formatReward:(d,u)=>{if(typeof d.value=="string"&&d.value.startsWith("tier:")){const p=parseInt(d.value.split(":")[1])||1,y=u||p;return i(d.type,y)}const m=typeof d.value=="string"?new be(d.value):d.value instanceof be?d.value:new be(d.value);switch(d.type){case Ut.ITEM:return`${d.quantity||1}x ${d.value}`;case Ut.FOOD:return`${ie(m)} Food`;case Ut.PHEROMONE:return typeof d.value=="number"?`${d.value}% of current Pheromone Essence`:`${ie(m)} Pheromone Essence`;case Ut.EP:return`${ie(m)} Evolution Points`;case Ut.MULTIPLIER:const p=d.target==="global"?"Global Production":d.target;return`${d.value}x ${p} multiplier permanently`;default:return"Unknown reward"}},getRewardValue:(d,u)=>{if(typeof d.value=="string"&&d.value.startsWith("tier:")){const m=parseInt(d.value.split(":")[1])||1,p=u||m;return n(d.type,p)}if(d.type===Ut.PHEROMONE&&typeof d.value=="number"){const m=d.value/100;return s.pheromoneEssence.mul(m)}return d.value instanceof be?d.value:(typeof d.value=="string",a(d.value))}}}var va=(t=>(t.DEFAULT="default",t.ALPHABETICAL="alphabetical",t.GOAL_TYPE="goal_type",t.REWARD_TYPE="reward_type",t.TIER="tier",t.REWARD_VALUE="reward_value",t))(va||{});function gu(t,e){for(const s of t.goals)if(!(s.type!==Gt.KILL_BUGS||!s.target)&&!(t.id==="bug_slayer_initiate"||t.id.includes("exterminator_"))&&!e.getBugById(s.target))return!1;return!0}const Vt=Ft("quest",()=>{cs();const t=vt(),e=Xs(),s=os(),o=ts(),n=ct(),{showToast:i}=zt(),{getRewardValue:l}=o0(),c=E=>!E.rewards||E.rewards.length===0?a(0):E.rewards.reduce((w,F)=>{const q=l(F,E.tier);if(F.type===Ut.MULTIPLIER){const Z=typeof F.value=="number"?a(F.value):F.value instanceof be?F.value:a(F.value.toString());return w.add(Z.mul(1e3))}return w.add(q)},a(0)),d=W("available"),u=R(()=>!0),m=W("comfortable"),p=W("tier"),y=W(null),v=W(null),S=W(""),_=W(!0),C=W(a(0)),x=W(a(0)),$=W([]),A=W(null),M=W([]),P=W([]),L=W(!0),B=W(!1),k=W(!0),I=R(()=>{let E=[...$.value];if(S.value.trim()){const w=S.value.toLowerCase().trim();E=E.filter(F=>F.title.toLowerCase().includes(w)||F.description.toLowerCase().includes(w))}switch(y.value&&(E=E.filter(w=>w.goals.some(F=>F.type===y.value))),v.value&&(E=E.filter(w=>w.rewards.some(F=>F.type===v.value))),p.value){case"alphabetical":E.sort((w,F)=>w.title.localeCompare(F.title));break;case"goal_type":E.sort((w,F)=>{const q=w.goals&&w.goals.length>0?w.goals[0].type:null,Z=F.goals&&F.goals.length>0?F.goals[0].type:null;if(q&&Z){if(q!==Z)return q.localeCompare(Z)}else{if(q)return-1;if(Z)return 1}return w.title.localeCompare(F.title)});break;case"reward_type":E.sort((w,F)=>{const q=w.rewards&&w.rewards.length>0?w.rewards[0].type:null,Z=F.rewards&&F.rewards.length>0?F.rewards[0].type:null;if(q&&Z){if(q!==Z)return q.localeCompare(Z)}else{if(q)return-1;if(Z)return 1}return w.title.localeCompare(F.title)});break;case"tier":E.sort((w,F)=>{const q=w.tier||0,Z=F.tier||0;return q!==Z?q-Z:w.title.localeCompare(F.title)});break;case"reward_value":E.sort((w,F)=>{const q=c(w);return c(F).cmp(q)});break}return E}),N=R(()=>{let E=[...M.value];if(S.value.trim()){const w=S.value.toLowerCase().trim();E=E.filter(F=>F.title.toLowerCase().includes(w)||F.description.toLowerCase().includes(w))}switch(y.value&&(E=E.filter(w=>w.goals.some(F=>F.type===y.value))),v.value&&(E=E.filter(w=>w.rewards.some(F=>F.type===v.value))),p.value){case"alphabetical":E.sort((w,F)=>w.title.localeCompare(F.title));break;case"goal_type":E.sort((w,F)=>{var q,Z,J,te;return((q=w.goals[0])==null?void 0:q.type)<((Z=F.goals[0])==null?void 0:Z.type)?-1:((J=w.goals[0])==null?void 0:J.type)>((te=F.goals[0])==null?void 0:te.type)?1:w.title.localeCompare(F.title)});break;case"reward_type":E.sort((w,F)=>{var q,Z,J,te;return((q=w.rewards[0])==null?void 0:q.type)<((Z=F.rewards[0])==null?void 0:Z.type)?-1:((J=w.rewards[0])==null?void 0:J.type)>((te=F.rewards[0])==null?void 0:te.type)?1:w.title.localeCompare(F.title)});break;case"reward_value":E.sort((w,F)=>{const q=c(w);return c(F).cmp(q)});break;case"default":default:E.reverse();break}return E}),U=()=>{y.value=null,v.value=null,S.value="",_.value=!0,p.value="tier"},j=E=>{p.value=E},ee=E=>{y.value=E},ne=E=>{v.value=E},oe=E=>{S.value=E},O=E=>{_.value=E};We(A,E=>{!E&&d.value==="inProgress"&&(d.value="available")});const Y=()=>{if(!A.value&&L.value&&P.value.length>0){const E=P.value[0],w=ge(E);w&&(k.value&&i(`Starting quest from queue: ${w.title}`,"info"),X());return}if(A.value){if(A.value.goals)for(const E of A.value.goals)(!(E.currentAmount instanceof be)&&typeof E.currentAmount!="string"||!(E.requiredAmount instanceof be)&&typeof E.requiredAmount!="string")&&(console.error("Invalid goal amounts in tick",{current:E.currentAmount,required:E.requiredAmount}),!(E.currentAmount instanceof be)&&typeof E.currentAmount!="string"&&(console.log("Fixing invalid currentAmount in goal"),E.currentAmount=a(0)),!(E.requiredAmount instanceof be)&&typeof E.requiredAmount!="string"&&(console.log("Fixing invalid requiredAmount in goal"),E.requiredAmount=a(10)));else{console.error("Quest has no goals array",A.value);return}re()}},G=E=>{if(!A.value||!A.value.goals)return;let w=!1;for(const F of A.value.goals)if(F.type===Gt.COLLECT_FOOD){const q=F.currentAmount instanceof be?F.currentAmount:a(F.currentAmount||0);F.currentAmount=q.add(E),w=!0}w&&re()},de=E=>{if(!A.value||!A.value.goals)return;let w=!1;for(const F of A.value.goals)if(F.type===Gt.COLLECT_PHEROMONE){const q=F.currentAmount instanceof be?F.currentAmount:a(F.currentAmount||0);F.currentAmount=q.add(E),w=!0}w&&re()},re=()=>{if(!A.value||!A.value.goals)return;const E=A.value.goals.every(w=>{try{const F=w.currentAmount instanceof be?w.currentAmount:a(w.currentAmount||0),q=w.requiredAmount instanceof be?w.requiredAmount:a(w.requiredAmount||0);return F.gte(q)}catch(F){return console.error("Error comparing goal amounts:",F,{current:w.currentAmount,required:w.requiredAmount}),!1}});return E&&Se(A.value),E},he=E=>{if(A.value)return console.warn("Cannot start a new quest while another is active"),!1;const w=$.value.find(Z=>Z.id===E);if(!w)return console.warn(`Quest with ID ${E} not found`),!1;if(!gu(w,e))return Pv(`Cannot start quest ${E} - one or more target bugs do not exist`),!1;if(!w.goals||w.goals.length===0)return console.warn(`Quest ${E} has no goals`),!1;for(const Z of w.goals)!(Z.requiredAmount instanceof be)&&typeof Z.requiredAmount!="string"&&(console.warn(`Quest ${E} has invalid requiredAmount in goal, fixing`,Z.requiredAmount),Z.requiredAmount=a(Z.requiredAmount||10)),Z.currentAmount instanceof be||(console.warn(`Quest ${E} has invalid currentAmount in goal, fixing`,Z.currentAmount),Z.currentAmount=a(0));console.log("Starting quest with values:",{id:w.id,title:w.title,goals:w.goals.map(Z=>({type:Z.type,requiredAmount:Z.requiredAmount.toString?Z.requiredAmount.toString():Z.requiredAmount,currentAmount:Z.currentAmount.toString()}))});for(const Z of w.goals)Z.currentAmount=a(0);w.isActive=!0;const F=w.goals.some(Z=>Z.type===Gt.COLLECT_FOOD),q=w.goals.some(Z=>Z.type===Gt.COLLECT_PHEROMONE);return F&&(C.value=new be(t.food)),q&&(x.value=new be(s.pheromoneEssence)),A.value=w,$.value=$.value.filter(Z=>Z.id!==E),!0},ve=()=>{if(!A.value)return console.warn("No active quest to cancel"),!1;const E={...A.value};E.goals&&Array.isArray(E.goals)&&(E.goals=E.goals.map(F=>({...F,currentAmount:a(0)}))),E.isActive=!1;const w=$.value.findIndex(F=>F.id===E.id);if(w===-1?$.value.push(E):$.value[w]=E,A.value=null,L.value&&P.value.length>0){const F=P.value[0],q=ge(F);q&&k.value&&i(`Starting next quest: ${q.title}`,"info"),X()}return!0},Se=E=>{const{formatReward:w}=o0();E.isCompleted=!0,E.isActive=!1;const F=[];E.rewards.forEach(Z=>{F.push(w(Z,E.tier)),Me(Z)});let q="";if(F.length===1)q=`Reward: ${F[0]}`;else if(F.length===2)q=`Rewards: ${F[0]} and ${F[1]}`;else if(F.length>2){const Z=F.pop();q=`Rewards: ${F.join(", ")} and ${Z}`}if(M.value.push({...E}),A.value=null,k.value&&i(`Quest completed: ${E.title}. ${q}`,"success",5e3),console.log(`Quest completed: ${E.title} with rewards: ${F.join(", ")}`),L.value&&P.value.length>0){const Z=P.value[0],J=ge(Z);J&&k.value&&i(`Starting next quest: ${J.title}`,"info"),X()}return!0},Me=E=>{var w,F;switch(E.type){case Ut.ITEM:if(typeof E.value=="string"&&E.quantity){const q=typeof E.quantity=="number"?a(E.quantity):a(1);o.addItem(E.value,q)}else console.error("Invalid item reward:",E);break;case Ut.EP:{try{const q=l(E,(w=A.value)==null?void 0:w.tier);n.evolutionPoints=n.evolutionPoints.add(q),console.log(`Added ${q.toString()} Evolution Points from quest reward`)}catch(q){console.error("Error processing EP reward:",q)}break}case Ut.FOOD:{try{const q=l(E,(F=A.value)==null?void 0:F.tier);t.food=t.food.add(q),console.log(`Added ${q.toString()} Food from quest reward`)}catch(q){console.error("Error processing FOOD reward:",q)}break}case Ut.PHEROMONE:{try{const q=typeof E.value=="number"?E.value/100:.02,J=s.pheromoneEssence.mul(q);s.addPheromoneEssence(J),console.log(`Added ${J.toString()} Pheromone Essence (${q*100}% of current) from quest reward`)}catch(q){console.error("Error processing PHEROMONE reward:",q)}break}case Ut.MULTIPLIER:if(typeof E.value=="number"&&typeof E.target=="string"){const q=E.value;console.log(`Applied permanent multiplier: ${q}x to ${E.target}`)}else console.error("Invalid MULTIPLIER reward:",E);break;default:console.warn(`Unhandled reward type: ${E.type}`)}},Oe=()=>{const E=G0.map(F=>({...F,goals:F.goals.map(Z=>({...Z,requiredAmount:typeof Z.requiredAmount=="string"?Z.requiredAmount:a(Z.requiredAmount||0).toString(),currentAmount:typeof Z.currentAmount=="string"?Z.currentAmount:a(Z.currentAmount||0).toString()}))})),w=E.filter(F=>gu(F,e));$.value=[...w],console.log(`Initialized ${$.value.length} quests (filtered from ${E.length} total templates)`)},He=()=>({activeTab:d.value,gridDensity:m.value,sortOption:p.value,filterQuestType:y.value,filterRewardType:v.value,filterText:S.value,activeQuest:A.value,completedQuests:M.value,foodAtQuestStart:C.value.toString(),pheromoneAtQuestStart:x.value.toString(),questQueue:P.value,autoStartNextQuest:L.value,showQuestNotifications:k.value,isQueueModalOpen:B.value}),we=E=>{var q,Z;if(console.log("Loading quest store state:",E),E.activeTab&&(d.value=E.activeTab),E.filters&&(E.filters.sortOption&&(p.value=E.filters.sortOption),E.filters.filterQuestType&&(y.value=E.filters.filterQuestType),E.filters.filterRewardType&&(v.value=E.filters.filterRewardType),E.filters.filterText&&(S.value=E.filters.filterText),typeof E.filters.showTooStrongBugs=="boolean"&&(_.value=E.filters.showTooStrongBugs),E.filters.gridDensity&&(m.value=E.filters.gridDensity)),Oe(),Array.isArray(E.questQueue)&&(P.value=E.questQueue),typeof E.autoStartNextQuest=="boolean"&&(L.value=E.autoStartNextQuest),typeof E.isQueueModalOpen=="boolean"&&(B.value=E.isQueueModalOpen),typeof E.showQuestNotifications=="boolean"&&(k.value=E.showQuestNotifications),M.value=[],E.completedQuests&&Array.isArray(E.completedQuests))try{M.value=E.completedQuests.map(J=>({...J,goals:Array.isArray(J.goals)?J.goals.map(te=>({...te,requiredAmount:typeof te.requiredAmount=="string"?te.requiredAmount:a(te.requiredAmount||0).toString(),currentAmount:typeof te.currentAmount=="string"?te.currentAmount:a(te.currentAmount||0).toString()})):[]}))}catch(J){console.error("Error loading completed quests:",J)}if(A.value=null,E.activeQuest)try{const J={...E.activeQuest,goals:Array.isArray(E.activeQuest.goals)?E.activeQuest.goals.map(te=>({...te,requiredAmount:a(te.requiredAmount||0),currentAmount:a(te.currentAmount||0)})):[]};A.value=J}catch(J){console.error("Error loading active quest:",J)}const w=M.value.map(J=>J.id),F=(q=A.value)==null?void 0:q.id;$.value=$.value.filter(J=>!w.includes(J.id)&&J.id!==F),$.value=$.value.filter(J=>gu(J,e)),E.foodAtQuestStart&&(C.value=a(E.foodAtQuestStart)),E.pheromoneAtQuestStart&&(x.value=a(E.pheromoneAtQuestStart)),console.log(`Loaded ${$.value.length} available quests, ${M.value.length} completed quests, active quest: ${((Z=A.value)==null?void 0:Z.id)||"none"}`)},_e=()=>{var E;return{activeTab:d.value,activeQuestId:((E=A.value)==null?void 0:E.id)||null,availableQuests:$.value.map(w=>({...w,goals:w.goals.map(F=>({...F,requiredAmount:F.requiredAmount.toString(),currentAmount:F.currentAmount.toString()}))})),activeQuest:A.value?{...A.value,goals:A.value.goals.map(w=>({...w,requiredAmount:w.requiredAmount.toString(),currentAmount:w.currentAmount.toString()}))}:null,completedQuests:M.value.map(w=>({...w,goals:w.goals.map(F=>({...F,requiredAmount:F.requiredAmount.toString(),currentAmount:F.currentAmount.toString()}))})),autoStartNextQuest:L.value,questQueue:P.value,filters:{sortOption:p.value,filterQuestType:y.value,filterRewardType:v.value,filterText:S.value,showTooStrongBugs:_.value,gridDensity:m.value},showQuestNotifications:k.value,foodAtQuestStart:C.value.toString(),pheromoneAtQuestStart:x.value.toString()}},pe=()=>{$.value=[],M.value=[],A.value=null,C.value=a(0),x.value=a(0),Oe(),console.log("Quests reset to initial state")},me=()=>{pe(),P.value=[],console.log("Quests reset for ascension")},le=(E,w)=>{if(console.log("Updating defeat bug progress for bugId:",E,"with quantity:",w),!A.value||!A.value.goals)return;let F=!1;for(const q of A.value.goals){if(q.type!==Gt.KILL_BUGS||q.target&&q.target!==E)continue;let Z=typeof q.currentAmount=="string"?a(q.currentAmount):q.currentAmount;Z=Z.add(w),q.currentAmount=Z.toString(),F=!0}F&&re()},z=E=>{A.value&&re()},K=E=>{if(P.value.includes(E))return i("This quest is already in the queue","warning"),!1;const w=$.value.find(F=>F.id===E);return w?(P.value.push(E),k.value&&i(`Added "${w.title}" to the quest queue`,"success"),!0):(console.error(`Quest with ID ${E} not found in available quests`),!1)},H=E=>{const w=P.value.length;if(P.value=P.value.filter(F=>F!==E),P.value.length<w){const F=$.value.find(q=>q.id===E);return F&&k.value&&i(`Removed "${F.title}" from the quest queue`,"info"),!0}return!1},T=E=>{if(!E.length)return!1;let w=0,F=0;for(const q of E){if(P.value.includes(q)){F++;continue}$.value.find(J=>J.id===q)&&(P.value.push(q),w++)}return w>0?(k.value&&i(`Added ${w} quests to the queue`,"success"),!0):(F>0?k.value&&i("All selected quests are already in the queue","warning"):k.value&&i("No quests added to queue","warning"),w>0)},D=(E,w)=>{if(E<0||E>=P.value.length||w<0||w>=P.value.length)return!1;const F=P.value[E];return P.value.splice(E,1),P.value.splice(w,0,F),!0},X=()=>{if(P.value.length===0)return!1;const E=P.value[0];return he(E)?(P.value.shift(),!0):!1},ae=()=>{P.value=[],k.value&&i("Quest queue cleared","info")},ue=()=>(L.value=!L.value,L.value),ke=()=>(k.value=!k.value,k.value),ge=E=>$.value.find(w=>w.id===E),Pe=()=>{B.value=!0},fe=()=>{B.value=!1};return Oe(),{activeTab:d,availableQuests:$,activeQuest:A,completedQuests:M,isQuestsUnlocked:u,gridDensity:m,questQueue:P,autoStartNextQuest:L,isQueueModalOpen:B,foodAtQuestStart:C,pheromoneAtQuestStart:x,sortOption:p,filterQuestType:y,filterRewardType:v,filterText:S,showTooStrongBugs:_,filteredAvailableQuests:I,filteredCompletedQuests:N,startQuest:he,cancelQuest:ve,isQuestComplete:re,completeQuest:Se,tick:Y,updateDefeatBugProgress:le,trackFoodGain:G,trackPheromoneGain:de,setQuestTypeFilter:ee,setRewardTypeFilter:ne,setSortOption:j,setTextFilter:oe,setShowTooStrongBugs:O,clearFilters:U,getSaveState:He,loadState:we,getState:_e,resetQuests:pe,resetForAscension:me,updateQuestProgress:z,addQuestToQueue:K,removeQuestFromQueue:H,reorderQuestQueue:D,startNextQuestFromQueue:X,clearQuestQueue:ae,toggleAutoStartNextQuest:ue,getAvailableQuestById:ge,openQueueModal:Pe,closeQueueModal:fe,addMultipleQuestsToQueue:T,toggleShowQuestNotifications:ke,showQuestNotifications:k}}),os=Ft("pheromoneEssence",()=>{const t=W(a(0)),e=W(a(0)),s=cs(),o=R(()=>ie(t.value,2)),n=R(()=>ie(e.value,2)),i={common:1,uncommon:3,rare:10,epic:25,legendary:75,mythic:200,divine:500},l=S=>{var C,x;let _=i[S.rarity]||1;return _=_*(1+(S.level.toNumber()-1)*.5),(C=S.maxXp)!=null&&C.gt(0)&&(_=_*(1+((x=S.xp)==null?void 0:x.div(S.maxXp).toNumber())*.2)),a(Math.round(_))};return{pheromoneEssence:t,totalCollectedEssence:e,formattedPheromoneEssence:o,formattedTotalCollectedEssence:n,calculateSalvageValue:l,calculateBatchSalvageValue:(S,_,C)=>{if(!C)return a(0);const $=(i[C.rarity]||1)*(1+(_-1)*.5);return a(Math.round($*_))},addPheromoneEssence:S=>{const _=S.mul(s.getPheromoneGainMultiplier());t.value=t.value.add(_),e.value=e.value.add(_);try{Vt().trackPheromoneGain(_)}catch(C){console.error("Error tracking pheromone gain for quests:",C)}try{Wt().updateMegacolonyProgress(_),Wt().updateAlateHatcheryProgress(_.div(1e3))}catch(C){console.error("Error updating megacolony progress:",C)}return _},spendPheromoneEssence:S=>t.value.lt(S)?!1:(t.value=t.value.sub(S),!0),salvageItem:S=>{if(!S)return{success:!1,message:"Item not found"};const _=l(S),C=s.getPheromoneGainMultiplier(),x=_.mul(C);t.value=t.value.add(x),e.value=e.value.add(x);let $=`Salvaged ${S.name} (Lvl ${S.level.toString()}) for ${ie(x)} Pheromone Essence`;if(C.gt(1)){const A=ie(_),M=ie(x.sub(_));$=`Salvaged ${S.name} (Lvl ${S.level.toString()}) for ${A} + ${M} bonus Pheromone Essence`}return{success:!0,message:$,salvageValue:x}},resetForAscension:()=>{t.value=a(0)},getState:()=>({pheromoneEssence:t.value.toString(),totalCollectedEssence:e.value.toString()}),loadState:S=>{S.pheromoneEssence&&(t.value=a(S.pheromoneEssence)),S.totalCollectedEssence&&(e.value=a(S.totalCollectedEssence))}}}),ts=Ft("inventory",()=>{const t=Tt(),e=ct();Xs();const s=W([]),o=20,n=W([]),i=10,l=R(()=>e.getUpgradeCount("equipmentSlots")),c=W(!0),d=R(()=>e.getUpgradeCount("unlockAutoSalvage").gt(0)),u=R(()=>e.getUpgradeCount("unlockSalvageAll").gt(0)),m=W("default"),p=W("none"),y=W("equipment"),v=W({equipmentStats:!1,combatStats:!1,specialModifiers:!1,productionModifiers:!1}),S=T=>{v.value[T]=!v.value[T]},_=T=>{y.value=T},C=R(()=>{const T=a(o),D=e.getUpgradeMultiplier("inventorySlots");return T.add(D)}),x=R(()=>i),$=Uv(),{indicators:A,addXpIndicator:M}=$,P=()=>{const T=Tt();n.value.forEach(D=>{if(D.item&&!s.value.some(ae=>ae.id===D.item||typeof ae.id=="string"&&typeof D.item=="string"&&ae.id.trim()===D.item.trim())){const ae=T.getItem(D.item);if(ae){const ue=a(1),ke=a(0),ge=T.calculateMaxXp(ue,ae.rarity);s.value.push({...ae,level:ue,xp:ke,maxXp:ge,isLocked:D.itemIsLocked||!1})}else console.warn(`Item with ID ${D.item} not found in item store but referenced in equipment.`)}})},L=()=>{n.value.forEach(T=>{T.item&&(Object.prototype.hasOwnProperty.call(T,"itemIsLocked")?T.itemIsLocked===void 0&&(T.itemIsLocked=!1):T.itemIsLocked=!1)})},B=()=>{const T=n.value.map(ae=>({id:ae.id!==void 0?ae.id:0,item:ae.item,locked:ae.locked,itemIsLocked:ae.itemIsLocked})),D=[],X=x.value;for(let ae=0;ae<X;ae++){const ue=T.find(Pe=>Pe.id===ae||typeof Pe.id=="string"&&parseInt(Pe.id)===ae),ke=ae>=l.value.toNumber(),ge=(ue==null?void 0:ue.item)!==null&&(ue==null?void 0:ue.item)!==void 0;D.push({id:ae,item:(ue==null?void 0:ue.item)||null,locked:ge?!1:ke,itemIsLocked:(ue==null?void 0:ue.itemIsLocked)||!1})}n.value=D,P()},k=T=>t.getItem(T),I=R(()=>{const T={damage:be.fromNumber(0),health:be.fromNumber(0),regen:be.fromNumber(0),defense:be.fromNumber(0)};return n.value.forEach(D=>{if(D.item){const X=s.value.find(ae=>ae.id===D.item);if(X){const ae=t.getItemStats(X);ae&&(ae.damage&&(T.damage=T.damage.plus(ae.damage)),ae.health&&(T.health=T.health.plus(ae.health)),ae.regen&&(T.regen=T.regen.plus(ae.regen)),ae.defense&&(T.defense=T.defense.plus(ae.defense)))}}}),T}),N=R(()=>{const T={};return n.value.forEach(D=>{if(D.item){const X=s.value.find(ae=>ae.id===D.item);if(X){const ae=t.getItemProductionModifiers(X);ae&&Object.entries(ae).forEach(([ue,ke])=>{T[ue]||(T[ue]=be.fromNumber(1)),T[ue]=T[ue].add(ke)})}}}),Object.fromEntries(Object.entries(T).filter(([D,X])=>X.gt(1)))}),U=R(()=>{const T={epBoost:be.fromNumber(1),global:be.fromNumber(1)};return n.value.forEach(D=>{if(D.item){const X=s.value.find(ae=>ae.id===D.item);if(X){const ae=t.getItemSpecialModifiers(X);ae&&Object.entries(ae).forEach(([ue,ke])=>{T[ue]||(T[ue]=be.fromNumber(1)),T[ue]=T[ue].add(ke)})}}}),T}),j=T=>{const D=s.value.findIndex(ae=>ae.id===T);if(D!==-1)return{location:"inventory",index:D};const X=n.value.findIndex(ae=>ae.item===T);return X!==-1?{location:"equipment",index:X}:null},ee=(T,D)=>{const X=Tt();let ae=!1;for(T.xp=T.xp.add(D),D.gt(0)&&M(T.id,D);T.xp.gte(T.maxXp);)T.level=T.level.add(1),ae=!0,T.xp=T.xp.sub(T.maxXp),T.maxXp=X.calculateMaxXp(T.level,T.rarity);return{leveledUp:ae,newLevel:T.level}},ne=()=>{Tt();const T=new Set;for(let D=0;D<s.value.length;D++)for(let X=D+1;X<s.value.length;X++)if(s.value[D].id===s.value[X].id){T.add(s.value[D].id);break}T.forEach(D=>{const X=s.value.filter(ge=>ge.id===D);if(X.length<=1)return;let ae=X[0];const ue=[...X];for(let ge=1;ge<X.length;ge++)X[ge].level.gt(ae.level)&&(ae=X[ge]);const ke=ue.findIndex(ge=>ge===ae);ke!==-1&&ue.splice(ke,1),ue.forEach(ge=>{let Pe=be.fromNumber(5);Pe=Pe.add(ge.level.mul(3)),ge.maxXp.gt(0)&&(Pe=Pe.add(ge.xp.div(ge.maxXp).mul(5))),ee(ae,Pe)}),s.value=s.value.filter(ge=>ge===ae||ge.id!==D)})},oe=()=>{ne()},O=(T,D=be.fromNumber(5),X=!1)=>{const ae=Tt();Xs();const ue=j(T),ke=ae.getItem(T);if(!ke)return;if(D.eq(1)){const fe={common:2,uncommon:5,rare:12,epic:30,legendary:75,mythic:180,divine:450}[ke.rarity]||5;D=a(Math.round(fe))}if(ue){let Pe;if(ue.location==="inventory")Pe=s.value[ue.index];else{const fe=n.value[ue.index].item;if(!fe)return;const E=s.value.findIndex(w=>w.id===fe);if(E===-1){const w=ae.createItem(T,be.fromNumber(1),be.fromNumber(0));if(!w)return;w.isLocked=X,s.value.push(w);return}Pe=s.value[E]}ee(Pe,D);return}const ge=ae.createItem(T);ge&&(ge.isLocked=X,s.value.push(ge),re())},Y=T=>{s.value.splice(T,1),oe()},G=T=>n.value.findIndex(D=>D.item===T),de=(T,D,X)=>{if(X<0||X>=s.value.length)return console.error("Invalid inventory index"),!1;if(D<0||D>=n.value.length)return console.error("Invalid equipment slot index"),!1;const ae=n.value[D];if(ae.locked)return console.error("Cannot equip to a locked slot"),!1;const ue=G(T);if(ue!==-1&&ue!==D)return console.error("This item is already equipped in another slot"),!1;if(ae.item&&(ae.itemIsLocked,!he(D)))return console.error("Failed to unequip current item"),!1;const ke=s.value[X].isLocked||!1;return ae.item=T,ae.itemIsLocked=ke,!0},re=()=>{s.value.sort((T,D)=>{const X={common:0,uncommon:1,rare:2,epic:3,legendary:4,mythic:5,divine:6},ae=(X[D.rarity]||0)-(X[T.rarity]||0);return ae!==0?ae:D.level.cmp(T.level)})},he=T=>{if(T<0||T>=n.value.length)return!1;const D=n.value[T];if(!D.item||D.locked)return!1;const X=D.item;return!s.value.find(ue=>ue.id===X)&&a(s.value.length).gte(C.value)?!1:(D.itemIsLocked,D.item=null,D.itemIsLocked=!1,!0)},ve=os(),Se=ve.formattedPheromoneEssence,Me=T=>{let D=1;switch(T.rarity){case"common":D=1;break;case"uncommon":D=3;break;case"rare":D=10;break;case"epic":D=25;break;case"legendary":D=75;break;case"mythic":D=200;break;case"divine":D=500;break;default:D=1}return D=D*(1+(T.level.toNumber()-1)*.5),T.maxXp.gt(0)&&(D=D*(1+T.xp.div(T.maxXp).toNumber()*.2)),a(Math.round(D))},Oe=T=>{if(T<0||T>=s.value.length)return{success:!1,message:"Item not found"};const D=s.value[T];if(D.isLocked)return{success:!1,message:"This item is locked. Unlock it first to salvage."};Me(D);const ae=os().salvageItem(D);return ae.success&&s.value.splice(T,1),ae},He=()=>{if(!u.value)return;const T=s.value.filter(X=>!X.isLocked);let D=a(0);T.forEach(X=>{const ae=Me(X);D=D.add(ae)}),D.gt(0)&&(os().addPheromoneEssence(D),s.value=s.value.filter(ae=>ae.isLocked))},we=()=>{d.value&&(c.value=!c.value)},_e=T=>{const D=n.value.find(ae=>ae.item===T);if(D&&D.itemIsLocked)return!0;const X=s.value.find(ae=>ae.id===T);return!!(X&&X.isLocked)},pe=(T,D)=>{const X=s.value.find(ae=>ae.id===T);X&&(X.isLocked=D),n.value.forEach(ae=>{ae.item===T&&(ae.itemIsLocked=D)})},me=T=>{const D=s.value[T];if(!D)return!1;const X=_e(D.id);return pe(D.id,!X),!0},le=T=>{const D=n.value[T];if(!D||D.locked||!D.item)return!1;const X=_e(D.item);return pe(D.item,!X),!0},z=()=>({inventory:s.value.map(T=>({id:T.id,level:T.level.toString(),xp:T.xp.toString(),isLocked:T.isLocked})),equipmentSlots:n.value.map(T=>({id:T.id,item:T.item,locked:T.locked,itemIsLocked:T.itemIsLocked})),maxInventorySlots:C.value.toString(),selectedInventorySort:m.value,selectedInventoryFilter:p.value,collapsedSections:v.value,activeTab:y.value}),K=T=>{const D=Tt();let X=[];if(T.inventory&&(X=T.inventory.map(ue=>{const ke=D.getItem(ue.id);if(!ke)return null;let ge=a(1);ue.mergeLevel?ge=a(a(ue.mergeLevel).mul(2)):ge=ue.level?a(ue.level):a(1);const Pe=ue.xp?a(ue.xp):a(0),fe=D.calculateMaxXp(ge,ke.rarity);return{...ke,level:ge,xp:Pe,maxXp:fe,isLocked:ue.isLocked||!1}}).filter(Boolean)),T.equipmentSlots){const ue=new Set,ke=T.equipmentSlots.map((ge,Pe)=>{if(ge.item&&ge.mergeLevel!==void 0){const E=D.getItem(ge.item);if(E){const w=a(ge.mergeLevel).mul(2),F=a(0),q=D.calculateMaxXp(w,E.rarity),Z={...E,level:w,xp:F,maxXp:q,isLocked:ge.itemIsLocked||!1};X.push(Z)}}let fe=ge.item;return fe&&ue.has(fe)?fe=null:fe&&ue.add(fe),{id:ge.id!==void 0?ge.id:Pe,item:fe,locked:ge.locked,itemIsLocked:fe&&ge.itemIsLocked||!1}});n.value=ke}B(),X.sort((ue,ke)=>ke.level.cmp(ue.level));const ae=new Map;X.forEach(ue=>{(!ae.has(ue.id)||ue.level.gt(ae.get(ue.id).level))&&ae.set(ue.id,ue)}),s.value=Array.from(ae.values()),T.selectedInventorySort&&(m.value=T.selectedInventorySort),T.selectedInventoryFilter&&(p.value=T.selectedInventoryFilter),T.collapsedSections&&(v.value=T.collapsedSections),T.activeTab&&(y.value=T.activeTab),re()},H=(T,D)=>{M(T,D)};return{inventory:s,maxInventorySlots:C,equipmentSlots:n,maxEquipmentSlots:x,unlockedEquipmentSlots:l,totalStats:I,totalProductionModifiers:N,totalSpecialModifiers:U,collapsedSections:v,toggleSection:S,addItem:O,removeItem:Y,equipItem:de,unequipItem:he,stackItems:oe,getState:z,loadState:K,getItem:k,initializeEquipmentSlots:B,pheromoneEssence:ve.pheromoneEssence,formattedPheromoneEssence:Se,salvageItem:Oe,calculateSalvageValue:Me,salvageAll:He,isSalvageAllUnlocked:u,toggleItemLock:me,toggleEquippedItemLock:le,isItemLocked:_e,migrateEquippedItemsLockStatus:L,setItemLockStatus:pe,isAutoSalvageEnabled:c,isAutoSalvageUnlocked:d,toggleAutoSalvage:we,selectedInventorySort:m,selectedInventoryFilter:p,activeTab:y,setActiveTab:_,addItemXp:ee,xpIndicators:A,...$,triggerXpIndicator:H,isItemEquipped:G}}),cs=Ft("multiplier",()=>{const t=vt(),e=ct(),s=Wt(),o=ts(),n=Ws(),i=Wr();Vt(),gt(),Tt();const l=ss(),c=fi(),d=yi(),u=()=>{const H=ts(),T=Tt(),D=[],X=e.getAllMultipliers();e.evolutionUpgrades.forEach(Pe=>{if(!Pe.level.eq(0)&&!(Pe.category!=="production"&&Pe.category!=="synergy")&&Pe.appliesTo.includes("global"))if(Pe.category==="synergy"){const fe=`${Pe.id}Bonus`;X[fe]&&X[fe].gt(1)&&D.push({id:fe,name:Pe.name,getMultiplier:()=>X[fe]||a(1),appliesTo:()=>!0,isAdditive:Pe.isAdditive})}else D.push({id:Pe.id,name:Pe.name,getMultiplier:()=>e.getUpgradeMultiplier(Pe.id),appliesTo:()=>!0,isAdditive:Pe.isAdditive})});const ue=H.totalSpecialModifiers;ue.global&&ue.global.gt(1)&&D.push({id:"item_global_multiplier",name:"Global Production Bonus",getMultiplier:()=>ue.global,appliesTo:()=>!0}),H.equipmentSlots.forEach(Pe=>{if(Pe.item){const fe=H.inventory.find(E=>E.id===Pe.item);if(fe){const E=T.getItemProductionModifiers(fe);E!=null&&E.global&&E.global.gt(1)&&D.push({id:`equipment_${Pe.id}_global_prod`,name:`${fe.name} (Lvl ${fe.level.toString()}) - Global Prod.`,getMultiplier:()=>E.global||be.fromNumber(1),appliesTo:()=>!0});const w=T.getItemSpecialModifiers(fe);w!=null&&w.global&&w.global.gt(1)&&D.push({id:`equipment_${Pe.id}_global_special`,name:`${fe.name} (Lvl ${fe.level.toString()}) - Global Special`,getMultiplier:()=>w.global||be.fromNumber(1),appliesTo:()=>!0})}}});const ke=le();ke.gt(1)&&D.push({id:"colony_mega_global_multiplier",name:"Mega Ant Colony Global Bonus",getMultiplier:()=>ke,appliesTo:()=>!0});const ge=I();return ge.gt(1)&&D.push({id:"ascension_global_multiplier",name:"Ascension Tree Global Production",getMultiplier:()=>ge,appliesTo:()=>!0}),D.push({id:"honeydew-global-boost",name:"Colony Symbiosis",getMultiplier:()=>{try{let Pe=a(1);return l.getGlobalUpgradeLevel("honeydew-global-boost")>0&&(Pe=Pe.mul(a(2).pow(l.getGlobalUpgradeLevel("honeydew-global-boost")))),l.getGlobalUpgradeLevel("honeydew-global-boost-2")>0&&(Pe=Pe.mul(a(20).pow(l.getGlobalUpgradeLevel("honeydew-global-boost-2")))),Pe}catch(Pe){return console.error("Error getting honeydew global boost:",Pe),a(1)}},appliesTo:()=>!0}),D},m=()=>{const H=[],T=e.getAllMultipliers();return e.evolutionUpgrades.forEach(X=>{X.level.eq(0)||X.isCombo||X.category!=="production"&&X.category!=="synergy"||(X.category==="synergy"&&!X.appliesTo.includes("global")?X.appliesTo.forEach(ae=>{const ue=`${X.id}_${ae}Bonus`;T[ue]&&T[ue].gt(1)&&H.push({id:ue,name:X.name,getMultiplier:()=>T[ue]||a(1),appliesTo:ke=>ke===ae,isAdditive:X.isAdditive})}):X.appliesTo&&X.appliesTo.length>0&&!X.appliesTo.includes("global")&&H.push({id:X.id,name:X.name,getMultiplier:()=>e.getUpgradeMultiplier(X.id),appliesTo:ae=>{var ue;return((ue=X.appliesTo)==null?void 0:ue.includes(ae))||!1},isAdditive:X.isAdditive}))}),H.push({id:"advancedEfficiency",name:"Advanced Efficiency",getMultiplier:()=>e.getUpgradeMultiplier("strongerSoldiers"),appliesTo:X=>{const ae=t.getGenerator(X);return ae?ae.tier>4:!1}}),H},p=()=>{const H=[];return e.evolutionUpgrades.forEach(D=>{D.level.eq(0)||D.isCombo&&(!D.effects||D.effects.length===0||D.effects.forEach(X=>{X.target!=="global"&&X.target!=="ep"?H.push({id:`${D.id}_${X.target}`,name:D.name,getMultiplier:()=>X.multiplier(D.level),appliesTo:ae=>ae===X.target,isAdditive:D.isAdditive}):X.target==="global"&&H.push({id:`${D.id}_global`,name:D.name,getMultiplier:()=>X.multiplier(D.level),appliesTo:()=>!0,isAdditive:D.isAdditive})}))}),H},y=H=>{let T=a(1);return e.evolutionUpgrades.forEach(X=>{X.level.eq(0)||X.category==="level-requirement"&&(X.appliesTo.includes("global")||X.appliesTo.includes(H))&&(T=T.mul(X.effect(X.level)))}),T},v=()=>{const H=[];return s.generatorUpgrades.filter(X=>!["Training","Expansion","Longevity","Automation","Fertility","Dominance"].some(ue=>X.id.includes(ue))).forEach(X=>{X.level.gt(0)&&H.push({id:X.id,name:X.name,getMultiplier:()=>s.getUpgradeMultiplier(X.id),appliesTo:ae=>ae===X.generatorId})}),H.push({id:"honeydew-generator-boost",name:"Honeydew Infusion",getMultiplier:X=>{if(X==="ep"||X==="pheromone")return a(1);try{return l.getGlobalUpgradeLevel("honeydew-generator-boost")>0?a(2).pow(l.getGlobalUpgradeLevel("honeydew-generator-boost")):a(1)}catch(ae){return console.error("Error getting honeydew-generator-boost:",ae),a(1)}},appliesTo:X=>X!=="ep"&&X!=="pheromone"}),H},S=()=>{const H=ts(),T=Tt(),D=[];return H.equipmentSlots.forEach(X=>{if(X.item){const ae=H.inventory.find(ue=>ue.id===X.item);if(ae){const ue=T.getItemProductionModifiers(ae);ue&&Object.entries(ue).forEach(([ke,ge])=>{ke!=="global"&&D.push({id:`equipment_${X.id}_${ke}`,name:`${ae.name} (Lvl ${ae.level.toString()})`,getMultiplier:Pe=>Pe===ke?ge:be.fromNumber(1),appliesTo:Pe=>Pe===ke})})}}}),D},_=()=>{const H=[{id:"tierBonus",name:"Tier Bonus",getMultiplier:D=>{const X=t.getGenerator(D);if(X&&X.tier>4){const ae=1+(X.tier-4)*.1;return a(ae)}return a(1)},appliesTo:D=>{const X=t.getGenerator(D);return X?X.tier>4:!1}},{id:"evolutionaryAdaptation",name:"Evolutionary Adaptation",getMultiplier:D=>{const X=e.getUpgrade("evolutionaryAdaptation");if(X&&X.level.gt(0)){const ae=e.evolutionCount;return a(1).add(ae.mul(.01))}return a(1)},appliesTo:D=>{const X=e.getUpgrade("evolutionaryAdaptation");return X?X.appliesTo.includes(D):!1}}],T=o.totalSpecialModifiers;return T.global&&T.global.gt(1)&&H.push({id:"item_global_multiplier",name:"Global Production Bonus",getMultiplier:()=>T.global,appliesTo:()=>!0}),H},C=()=>{const H=[];return n.achievementList.filter(D=>D.completed&&D.modifiers&&D.modifiers.length>0).forEach(D=>{D.modifiers&&D.modifiers.forEach(X=>{H.push({id:`achievement_${D.id}_${X.target}`,name:D.name,getMultiplier:()=>X.multiplier,appliesTo:ae=>X.target==="global"?!0:X.target==="ep"?!1:ae===X.target})})}),H},x=()=>{const H=Wr();qs();const T=ss();let D=a(1);const X=H.shopItems;for(const ae of X){const ue=H.getItemLevel(ae.id);if(ue!==0)for(const ke of ae.modifiers)ke.target==="ep"&&ue>=ke.unlockLevel&&(D=D.mul(ke.multiplier(ue)))}try{T.getGlobalUpgradeLevel("honeydew-ep-boost")>0&&(D=D.mul(a(1.5).pow(T.getGlobalUpgradeLevel("honeydew-ep-boost"))))}catch(ae){console.error("Error calculating honeydew-ep-boost:",ae)}return D},$=H=>{try{let T=a(1);const D=i.shopItems;for(const X of D){const ae=i.getItemLevel(X.id);if(ae!==0)for(const ue of X.modifiers)ue.target===H&&ae>=ue.unlockLevel&&(T=T.mul(ue.multiplier(ae)))}return T}catch(T){return console.error(`Error calculating Pheromone Shop multiplier for ${H}:`,T),a(1)}},A=()=>{try{let H=a(1);const T=i.shopItems;for(const D of T){const X=i.getItemLevel(D.id);if(X!==0)for(const ae of D.modifiers)ae.target==="global"&&X>=ae.unlockLevel&&(H=H.mul(ae.multiplier(X)))}return H}catch(H){return console.error("Error calculating Pheromone Shop Global multiplier:",H),a(1)}},M=()=>{const H=Wr();qs(),gt();const T=ss();let D=a(1);const X=H.shopItems;for(const ke of X){const ge=H.getItemLevel(ke.id);if(ge!==0){for(const Pe of ke.modifiers)if(Pe.target==="pheromone"&&ge>=Pe.unlockLevel){const fe=Pe.multiplier(ge);D=D.add(fe)}}}try{T.getGlobalUpgradeLevel("honeydew-pheromone-boost")>0&&(D=D.mul(a(1.75).pow(T.getGlobalUpgradeLevel("honeydew-pheromone-boost")))),T.getGlobalUpgradeLevel("honeydew-pheromone-boost-2")>0&&(D=D.mul(a(15).pow(T.getGlobalUpgradeLevel("honeydew-pheromone-boost-2"))))}catch(ke){console.error("Error calculating honeydew-pheromone-boost:",ke)}e.evolutionUpgrades.forEach(ke=>{ke.level.eq(0)||!ke.isCombo||!ke.effects||ke.effects.forEach(ge=>{if(ge.target==="pheromone")if(ge.isMultiplier){const Pe=ge.multiplier(ke.level);D=D.mul(Pe)}else{const Pe=ge.multiplier(ke.level);D=D.add(Pe)}})});try{Vt().completedQuests.forEach(ge=>{ge.rewards.forEach(Pe=>{Pe.type===Ut.MULTIPLIER&&Pe.target==="pheromone"&&(D=D.add(a(Pe.value)))})})}catch(ke){console.error("Error getting pheromone multipliers from quests:",ke)}D=D.mul(me()),D=D.mul(j());const ue=c.getBoostMultipliers();return ue.pheromoneGain.gt(1)&&(D=D.mul(ue.pheromoneGain)),D},P=()=>{try{let H=a(1);const T=i.shopItems;for(const X of T){const ae=i.getItemLevel(X.id);if(ae!==0)for(const ue of X.modifiers)ue.target==="food"&&ae>=ue.unlockLevel&&(H=H.mul(ue.multiplier(ae)))}e.evolutionUpgrades.forEach(X=>{X.level.eq(0)||!X.isCombo||!X.effects||X.effects.forEach(ae=>{ae.target==="food"&&(H=H.mul(ae.multiplier(X.level)))})});try{Vt().completedQuests.forEach(ae=>{ae.rewards.forEach(ue=>{ue.type===Ut.MULTIPLIER&&ue.target==="food"&&typeof ue.value=="number"&&(H=H.add(ue.value))})})}catch(X){console.error("Error getting food multipliers from quests:",X)}return H}catch(H){return console.error("Error calculating Food Production multiplier:",H),a(1)}},L=()=>{const H=[];return H.push({id:"pheromone_shop_global",name:"Pheromone Shop Global Bonus",getMultiplier:()=>A(),appliesTo:()=>!0}),H.push({id:"pheromone_shop_generator",name:"Pheromone Shop Generator Bonus",getMultiplier:T=>$(T),appliesTo:()=>!0}),H},B=()=>{const H=[];try{const T=Vt();T.completedQuests.length>0&&T.completedQuests.forEach(D=>{D.rewards.forEach((X,ae)=>{X.type===Ut.MULTIPLIER&&X.target&&typeof X.value=="number"&&H.push({id:`quest_${D.id}_reward_${ae}`,name:`${D.title} Reward`,getMultiplier:()=>a(X.value),appliesTo:ue=>X.target==="global"?!0:X.target==="food"||X.target==="pheromone"?!1:ue===X.target,isAdditive:!0})})})}catch(T){console.error("Error retrieving quest multipliers:",T)}return H},k=()=>{gt();const H=[];return H.push({id:"ascension_global_production",name:"Ascension Global Production",getMultiplier:()=>I(),appliesTo:()=>!0}),["worker","nursery","queenChamber","colony","megacolony","hivemind","antopolis","alateHatchery"].forEach(D=>{const X=N(D);X.gt(1)&&H.push({id:`ascension_${D}_multiplier`,name:`Ascension ${D.charAt(0).toUpperCase()+D.slice(1)} Boost`,getMultiplier:()=>X,appliesTo:ae=>ae===D})}),H},I=()=>{try{return gt().getGlobalProductionMultiplier()}catch(H){return console.error("Error calculating Ascension global boost:",H),a(1)}},N=H=>{try{return gt().getAscensionEffectValue(H)||a(1)}catch(T){return console.error(`Error calculating Ascension ${H} boost:`,T),a(1)}},U=()=>{try{return gt().getEpGainMultiplier()}catch(H){return console.error("Error calculating Ascension EP boost:",H),a(1)}},j=()=>{try{return gt().getPheromoneGainMultiplier()}catch(H){return console.error("Error calculating Ascension pheromone boost:",H),a(1)}},ee=()=>{try{return gt().getUpgradeCostReduction()}catch(H){return console.error("Error calculating Ascension upgrade cost reduction:",H),a(1)}},ne=()=>{const H=[],T=c.getBoostMultipliers();return T.global.gt(1)&&H.push({id:"collectibles_global",name:"Collectibles",getMultiplier:()=>T.global,appliesTo:()=>!0}),Object.keys(T.specificGenerator).length>0&&H.push({id:"collectibles_specific",name:"Collectibles (Specific)",getMultiplier:D=>T.specificGenerator[D]||be.fromNumber(1),appliesTo:D=>!!T.specificGenerator[D]}),H},oe=(H=!1)=>{let T=[];T=T.concat(u(),m(),p(),v(),S(),_(),B(),k(),L(),ne()),H||(T=T.concat(C()));const D=[{id:"dailyRewardFood",name:"Daily Login Streak",getMultiplier:X=>X==="worker"?d.foodMultiplier:a(1),appliesTo:X=>X==="worker"}];return[...T,...D,...H?[]:C()]},O=(H,T=!1)=>{const D=oe(T);let X=a(1),ae=[];for(const ke of D)if(ke.appliesTo(H)){let ge=ke.getMultiplier(H);ke.isAdditive?ge.eq(0)||(X=X.add(ge)):ge.eq(1)||(ge.lessThan(1)&&(ge=ge.add(1)),ae.push(ge))}let ue=X;for(const ke of ae)ue=ue.mul(ke);return ue},Y=(H,T=!1)=>O(H,T),G=H=>ie(H,2)+"x",de=(H,T=!1)=>{const D=Y(H,T);return G(D)},re=(H,T=!1)=>{const D=[],X=oe(T);for(const ae of X)if(ae.appliesTo(H)){const ue=ae.getMultiplier(H);ue.gt(1)&&D.push({name:ae.name,value:ue,formatted:G(ue),id:ae.id,additive:ae.isAdditive??!1})}return D.sort((ae,ue)=>ue.value.cmp(ae.value))},he=H=>{let T=a(1);const D=C();for(const X of D)X.appliesTo(H)&&(T=T.mul(X.getMultiplier(H)));return T},ve=()=>{const H=ts(),T=Tt();let D=be.fromNumber(1);return H.equipmentSlots.forEach(X=>{if(X.item){const ae=H.inventory.find(ue=>ue.id===X.item);if(ae){const ue=T.getItemSpecialModifiers(ae);ue!=null&&ue.epBoost&&(D=D.mul(ue.epBoost))}}}),D},Se=()=>{const H=e.evolutionUpgrades;let T=a(1);return H.forEach(D=>{var X,ae;D.level.eq(0)||((X=D.effects)==null||X.forEach(ue=>{ue.target==="ep"&&(T=T.mul(ue.multiplier(D.level)))}),(ae=D.appliesTo)==null||ae.forEach(ue=>{var ke;ue==="ep"&&(T=T.mul(((ke=D.effect)==null?void 0:ke.call(D,D.level))||a(1)))}))}),T},Me=()=>{let H=a(1);return n.achievementList.filter(D=>D.completed&&D.modifiers&&D.modifiers.length>0).forEach(D=>{D.modifiers&&D.modifiers.forEach(X=>{X.target==="ep"&&(H=H.mul(X.multiplier))})}),H},Oe=()=>{try{let H=a(1);H=H.add(ve()),H=H.add(Se()),H=H.add(Me()),H=H.add(He()),H=H.add(we()),H=H.add(pe());const T=c.getBoostMultipliers();T.epGain.gt(1)&&(H=H.add(T.epGain.minus(1)));try{l.getGlobalUpgradeLevel("honeydew-ep-boost")>0&&(H=H.mul(a(1.5).pow(l.getGlobalUpgradeLevel("honeydew-ep-boost")))),l.getGlobalUpgradeLevel("honeydew-ep-boost-2")>0&&(H=H.mul(a(10).pow(l.getGlobalUpgradeLevel("honeydew-ep-boost-2"))))}catch(D){console.error("Error calculating honeydew-ep-boost:",D)}try{H=H.mul(d.epMultiplier)}catch(D){console.error("Error applying daily reward EP boost:",D)}return H}catch(H){return console.error("Error calculating EP boost multiplier:",H),a(1)}},He=()=>{const H=e.evolutionCount;return a(1).add(H.div(10))},we=()=>{var H;try{const T=vt(),D=Wt(),X=ct(),ae=T.getGenerator("queenChamber");if(!ae||ae.manualPurchases.eq(0))return a(1);const ue=D.getUpgrade("queenChamberEvolution");if(!ue||ue.level.eq(0))return a(1);const ke=X.evolutionCount;if(ke.eq(0))return a(1);const Pe=(((H=ue.effect)==null?void 0:H.call(ue,ue.level))||a(0)).mul(ae.manualPurchases).mul(ke);return a(1).add(Pe)}catch(T){return console.error("Error calculating Queen Chamber EP boost:",T),a(1)}},_e=H=>{let T=a(1);e.evolutionUpgrades.forEach(ae=>{if(!ae.level.eq(0))if(ae.isCombo)ae.isCombo&&ae.effects&&ae.effects.forEach(ue=>{const ke=ue.category==="cost"||ue.category===void 0&&ue.multiplier(ae.level).lt(1);(ue.target===H||ue.target==="global")&&ke&&(T=T.mul(ue.multiplier(ae.level)))});else{if(ae.category!=="cost")return;ae.appliesTo&&ae.appliesTo.includes(H)&&(T=T.mul(e.getUpgradeMultiplier(ae.id)))}});const X=ee();return X.lt(1)&&(T=T.mul(X)),T},pe=()=>{try{const T=gt().getColonyMultiplierForTarget("ep");return a(T)}catch(H){return console.error("Error calculating colony EP boost:",H),a(1)}},me=()=>{try{const T=gt().getColonyMultiplierForTarget("pheromone");return a(T)}catch(H){return console.error("Error calculating colony pheromone boost:",H),a(1)}},le=()=>{try{const T=gt().getColonyMultiplierForTarget("global");return a(T)}catch(H){return console.error("Error calculating colony global boost:",H),a(1)}};return{getProductionMultiplier:Y,getFormattedMultiplier:de,getMultiplierBreakdown:re,formatMultiplierValue:G,getCombinedAchievementMultiplier:he,getItemEpBoost:ve,getUpgradesEpBoost:Se,getAchievementEpBoost:Me,getEPBoostMultiplier:Oe,getQueenChamberEPBoost:we,getCostMultipliers:_e,getAchievementMultipliers:C,getFoodProductionMultiplier:P,getPheromoneGainMultiplier:M,getPheromoneShopEpMultiplier:x,getPheromoneShopGlobalMultiplier:A,getPheromoneShopGeneratorMultiplier:$,getLevelRequirementMultipliers:y,loadState:H=>{},getState:()=>({foodMultiplier:P().toString(),pheromoneMultiplier:M().toString(),epMultiplier:x().toString()}),getColonyEPBoost:pe,getColonyPheromoneBoost:me,getColonyGlobalBoost:le,getAscensionGlobalBoost:I,getAscensionEPBoost:U,getAscensionPheromoneBoost:j,getAscensionUpgradeCostReduction:ee}}),Wt=Ft("generatorUpgrade",()=>{const t=W({worker:a(1),nursery:a(1),queenChamber:a(1),colony:a(1),megacolony:a(1),hivemind:a(1),antopolis:a(1),alateHatchery:a(1)}),e=W({worker:a(0),nursery:a(0),queenChamber:a(0),colony:a(0),megacolony:a(0),hivemind:a(0),antopolis:a(0),alateHatchery:a(0)}),s=W({worker:a(0),nursery:a(0),queenChamber:a(0),colony:a(0),megacolony:a(0),hivemind:a(0),antopolis:a(0),alateHatchery:a(0)}),o=W([]),n=(re,he)=>{let ve,Se;switch(re){case"worker":ve=a(5),Se=1.5;break;case"nursery":return ve=a(1e3),Se=1.1,a(ve).mul(a(2).pow(a(he).pow(2).div(2)));case"queenChamber":case"hivemind":case"antopolis":ve=a(10),Se=1.3;break;case"colony":ve=a(5),Se=1.2;break;case"megacolony":case"alateHatchery":return ve=a(1e3),Se=1.1,a(ve).mul(a(2).pow(a(he).pow(2).div(1.2)));default:ve=a(100),Se=1.5}const Me=ve.mul(he.pow(Se));try{const He=cs().getLevelRequirementMultipliers(re);return Me.mul(He)}catch(Oe){return console.error("Error applying level requirement multiplier:",Oe),Me}},i=W(b2),l=re=>i.value.filter(he=>he.generatorId===re),c=re=>i.value.find(he=>he.id===re),d=re=>{var ve;const he=c(re);return he?((ve=he==null?void 0:he.effect)==null?void 0:ve.call(he,he.level))??a(1):a(1)},u=re=>{const he=i.value.filter(Se=>Se.generatorId===re),ve={};return he.forEach(Se=>{var Me;ve[Se.id]=((Me=Se.effect)==null?void 0:Me.call(Se,Se.level))??a(1)}),ve},m=(re,he,ve=[])=>{const Se=`preset_${Date.now()}_${Math.random().toString(36).substring(2,9)}`;ve.length>0&&(o.value=o.value.map(Oe=>Oe.generatorId===he?{...Oe,isActive:!1}:Oe));const Me={id:Se,name:re,generatorId:he,upgradeIds:ve,isActive:ve.length>0,lastPurchasedIndex:-1};return o.value.push(Me),Me},p=(re,he)=>{const ve=o.value.findIndex(Se=>Se.id===re);if(ve===-1)return!1;if(he.isActive){const Se=o.value[ve].generatorId;o.value=o.value.map(Me=>Me.id!==re&&Me.generatorId===Se?{...Me,isActive:!1}:Me)}return o.value[ve]={...o.value[ve],...he},!0},y=re=>{const he=o.value.length;return o.value=o.value.filter(ve=>ve.id!==re),o.value.length<he},v=re=>o.value.filter(he=>he.generatorId===re),S=re=>o.value.find(he=>he.generatorId===re&&he.isActive)||null,_=re=>{const he=o.value.find(ve=>ve.id===re);return he?(o.value=o.value.map(ve=>ve.generatorId===he.generatorId?{...ve,isActive:ve.id===re}:ve),!0):!1},C=(re,he)=>{const Se=vt().generators.find(He=>He.id===re);if(Se!=null&&Se.count.eq(0))return;s.value[re]=s.value[re].add(he);const Me=t.value[re],Oe=n(re,Me);s.value[re].gte(Oe)&&(t.value[re]=t.value[re].add(1),s.value[re]=s.value[re].sub(Oe),e.value[re]=e.value[re].add(1))},x=re=>{C("worker",a(re))},$=re=>{C("nursery",re)},A=re=>{typeof re=="number"?C("queenChamber",a(re)):C("queenChamber",re)},M=re=>{typeof re=="number"?C("colony",a(re)):C("colony",re)},P=re=>{C("megacolony",re)},L=re=>{typeof re=="number"?C("hivemind",a(re)):C("hivemind",re)},B=re=>{typeof re=="number"?C("antopolis",a(re)):C("antopolis",re)},k=re=>{typeof re=="number"?C("alateHatchery",a(re)):C("alateHatchery",re)},I=re=>{var Oe;const he=c(re);if(!he||he.maxLevel!==null&&he.level.gte(he.maxLevel))return!1;const Se=ct().getUpgradeMultiplier("generatorUpgradeCostReduction"),Me=he.cost.mul(Se);return e.value[he.generatorId].lt(Me)?!1:(e.value[he.generatorId]=e.value[he.generatorId].sub(Me),he.level=he.level.add(1),M(1),(Oe=he.apply)==null||Oe.call(he),!0)},N=()=>({generatorLevels:Object.entries(t.value).reduce((re,[he,ve])=>(U(he)&&(re[he]=ve.toString()),re),{}),generatorPoints:Object.entries(e.value).reduce((re,[he,ve])=>(U(he)&&(re[he]=ve.toString()),re),{}),levelProgress:Object.entries(s.value).reduce((re,[he,ve])=>(U(he)&&(re[he]=ve.toString()),re),{}),upgrades:i.value.map(re=>({id:re.id,level:re.level.toString()})),presets:o.value}),U=re=>["worker","nursery","queenChamber","colony","megacolony","hivemind","antopolis","alateHatchery"].includes(re);return{generatorLevels:t,generatorPoints:e,levelProgress:s,generatorUpgrades:i,upgradePresets:o,getUpgradesForGenerator:l,getUpgrade:c,getUpgradeMultiplier:d,getMultipliersForGenerator:u,updateWorkerProgress:x,updateNurseryProgress:$,updateQueenChamberProgress:A,updateColonyProgress:M,updateMegacolonyProgress:P,updateHivemindProgress:L,updateAntopolisProgress:B,updateAlateHatcheryProgress:k,purchaseUpgrade:I,resetProgress:()=>{const re=Object.keys(t.value).filter(U);re.forEach(he=>{t.value[he]=a(1)}),re.forEach(he=>{e.value[he]=a(0)}),re.forEach(he=>{s.value[he]=a(0)}),i.value.forEach(he=>{he.level=a(0)})},formatLevel:re=>ie(t.value[re],0),formatPoints:re=>ie(e.value[re],0),formatProgressPercentage:re=>{const he=t.value[re],ve=n(re,he),Me=s.value[re].div(ve).mul(100).toNumber();return Math.min(100,Math.round(Me))},formatNextLevelRequirement:re=>{const he=t.value[re],ve=n(re,he);return ie(ve,0)},formatLevelRequirementReduction:re=>{try{const ve=cs().getLevelRequirementMultipliers(re);if(ve.gte(1))return"0%";const Se=a(1).sub(ve).mul(100);return`${ie(Se,1)}%`}catch(he){return console.error("Error formatting level requirement reduction:",he),"0%"}},getState:N,loadState:re=>{re.generatorLevels&&Object.entries(re.generatorLevels).forEach(([he,ve])=>{U(he)&&(typeof ve=="string"||typeof ve=="number")&&(t.value[he]=a(ve))}),re.generatorPoints&&Object.entries(re.generatorPoints).forEach(([he,ve])=>{U(he)&&(typeof ve=="string"||typeof ve=="number")&&(e.value[he]=a(ve))}),re.levelProgress&&Object.entries(re.levelProgress).forEach(([he,ve])=>{U(he)&&(typeof ve=="string"||typeof ve=="number")&&(s.value[he]=a(ve))}),re.upgrades&&Array.isArray(re.upgrades)&&re.upgrades.forEach(he=>{const ve=c(he.id);ve&&he.level&&(typeof he.level=="string"||typeof he.level=="number")&&(ve.level=a(he.level))}),re.presets&&Array.isArray(re.presets)&&(o.value=re.presets)},createPreset:m,updatePreset:p,deletePreset:y,getPresetsForGenerator:v,getActivePresetForGenerator:S,setActivePreset:_,updatePresetLastPurchasedIndex:(re,he)=>{const ve=o.value.findIndex(Se=>Se.id===re);return ve===-1?!1:(o.value[ve].lastPurchasedIndex=he,!0)}}});function Oy(){const t=Ws(),e=n=>{const i=t.achievementList.filter(c=>c.completed&&c.modifiers&&c.modifiers.length>0),l=[];return i.forEach(c=>{c.modifiers&&c.modifiers.forEach(d=>{(d.target===n||n!=="ep"&&d.target==="global")&&l.push({...d,achievementName:c.name,achievementId:c.id})})}),l},s=n=>{const i=e(n);return i.length===0?a(1):i.reduce((l,c)=>l.mul(c.multiplier),a(1))};return{getModifiersByTarget:e,getTotalMultiplier:s,getModifierSummary:n=>{const i=e(n);if(i.length===0)return"";const c=s(n).sub(1).mul(100);let d=n;return n==="global"?d="All generators":n==="ep"?d="Evolution points":n==="worker"?d="Workers":n==="nursery"?d="Nurseries":n==="queenChamber"?d="Queen chambers":n==="colony"?d="Colonies":n==="megacolony"?d="Megacolonies":n==="hivemind"?d="Hiveminds":n==="antopolis"?d="Antopolis":n==="alateHatchery"&&(d="Alate Hatcheries"),`${d} +${dt(c)} from ${i.length} achievement${i.length>1?"s":""}`}}}function Zr(){const t=cs(),{getTotalMultiplier:e,getModifiersByTarget:s}=Oy(),o=fi(),n=ss(),i=v=>{if(t.getCombinedAchievementMultiplier){const C=t.getCombinedAchievementMultiplier("global"),x=t.getCombinedAchievementMultiplier(v);return C.mul(x)}const S=e("global"),_=e(v);return S.mul(_)},l=v=>{const S=s("global"),_=s(v),C=[];return S.forEach(x=>{const $=x;C.push({name:`${$.achievementName||"Achievement"} (Global)`,value:x.multiplier,formatted:t.formatMultiplierValue(x.multiplier),id:`achievement_${$.achievementId||"unknown"}_global`})}),_.forEach(x=>{const $=x;C.push({name:$.achievementName||"Achievement",value:x.multiplier,formatted:t.formatMultiplierValue(x.multiplier),id:`achievement_${$.achievementId||"unknown"}_${v}`})}),C.sort((x,$)=>$.value.cmp(x.value))},c=()=>{const v=[],S=t.getPheromoneShopEpMultiplier();S.gt(1)&&v.push({name:"Pheromone Shop EP Bonus",value:S,formatted:t.formatMultiplierValue(S),id:"pheromone_shop_ep"});const _=t.getFoodProductionMultiplier();_.gt(1)&&v.push({name:"Pheromone Shop Food Production Bonus",value:_,formatted:t.formatMultiplierValue(_),id:"pheromone_shop_food"});const C=t.getPheromoneGainMultiplier();C.gt(1)&&v.push({name:"Pheromone Shop Essence Gain Bonus",value:C,formatted:t.formatMultiplierValue(C),id:"pheromone_shop_pheromone"});const x=t.getPheromoneShopGlobalMultiplier();return x.gt(1)&&v.push({name:"Pheromone Shop Global Production Bonus",value:x,formatted:t.formatMultiplierValue(x),id:"pheromone_shop_global"}),v.sort(($,A)=>A.value.cmp($.value))},d=()=>{const v=[],S=t.getItemEpBoost();S.gt(1)&&v.push({name:"Equipment EP Bonus",value:S,formatted:t.formatMultiplierValue(S),id:"item_ep_boost"});const _=t.getUpgradesEpBoost();_.gt(1)&&v.push({name:"Evolution Upgrades EP Bonus",value:_,formatted:t.formatMultiplierValue(_),id:"upgrades_ep_boost"});const C=t.getAchievementEpBoost();C.gt(1)&&v.push({name:"Achievement EP Bonus",value:C,formatted:t.formatMultiplierValue(C),id:"achievement_ep_boost"});const x=o.getBoostMultipliers();x.epGain.gt(1)&&v.push({name:"Collectibles EP Bonus",value:x.epGain,formatted:t.formatMultiplierValue(x.epGain),id:"collectible_ep_boost"});const A=ct().evolutionCount,M=a(1).add(A.div(10));M.gt(1)&&v.push({name:"Metamorphosis Count Bonus",value:M,formatted:t.formatMultiplierValue(M),id:"evolution_count_bonus"});const P=t.getQueenChamberEPBoost();P.gt(1)&&v.push({name:"Queen Chamber Bonus",value:P,formatted:t.formatMultiplierValue(P),id:"queen_chamber_ep_boost"});const L=t.getColonyEPBoost();L.gt(1)&&v.push({name:"Colony Bonus",value:L,formatted:t.formatMultiplierValue(L),id:"colony_ep_boost"});const B=t.getAscensionEPBoost();B.gt(1)&&v.push({name:"Ascension Tree Bonus",value:B,formatted:t.formatMultiplierValue(B),id:"ascension_ep_boost"});const k=t.getPheromoneShopEpMultiplier();k.gt(1)&&v.push({name:"Pheromone Shop Bonus",value:k,formatted:t.formatMultiplierValue(k),id:"pheromone_shop_ep_boost"});try{let I=a(1);if(n.getGlobalUpgradeLevel("honeydew-ep-boost")>0){const N=a(1.5).pow(n.getGlobalUpgradeLevel("honeydew-ep-boost"));I=I.mul(N)}if(n.getGlobalUpgradeLevel("honeydew-ep-boost-2")>0){const N=a(10).pow(n.getGlobalUpgradeLevel("honeydew-ep-boost-2"));I=I.mul(N)}I.gt(1)&&v.push({name:"Aphid Farm Bonus",value:I,formatted:t.formatMultiplierValue(I),id:"aphid_farm_ep_boost"})}catch(I){console.error("Error calculating Aphid Farm EP boost for breakdown:",I)}try{const N=yi().epMultiplier;N.gt(1)&&v.push({name:"Daily Login Streak Bonus",value:N,formatted:t.formatMultiplierValue(N),id:"daily_reward_ep_boost"})}catch(I){console.error("Error calculating Daily Reward EP boost for breakdown:",I)}return v.sort((I,N)=>N.value.cmp(I.value))},u=(v,S=!1)=>{const _=t.getMultiplierBreakdown(v,S),C=new Map;_.forEach($=>{C.set($.id||$.name,{...$,formatted:t.formatMultiplierValue($.value)})});const x=i(v);return x.gt(1)&&C.set("achievement_combined",{name:"Achievement Bonuses",value:x,formatted:t.formatMultiplierValue(x),id:"achievement_combined"}),Array.from(C.values()).sort(($,A)=>A.value.cmp($.value))},m=v=>{const S=t.getProductionMultiplier(v,!0),_=i(v);return S.mul(_)};return{getEnhancedMultiplierBreakdown:u,getFormattedTotalMultiplier:v=>{const S=m(v);return t.formatMultiplierValue(S)},getTotalMultiplier:m,getAchievementMultiplier:i,getAchievementMultiplierBreakdown:l,getPheromoneShopMultiplierBreakdown:c,getAscensionMultiplierBreakdown:()=>{const v=[],S=t.getAscensionEPBoost();S.gt(1)&&v.push({name:"Ascension Tree EP Gain Bonus",value:S,formatted:t.formatMultiplierValue(S),id:"ascension_ep_boost"});const _=t.getAscensionPheromoneBoost();_.gt(1)&&v.push({name:"Ascension Tree Pheromone Gain Bonus",value:_,formatted:t.formatMultiplierValue(_),id:"ascension_pheromone_boost"});const C=t.getAscensionGlobalBoost();C.gt(1)&&v.push({name:"Ascension Tree Global Production Bonus",value:C,formatted:t.formatMultiplierValue(C),id:"ascension_global_boost"});const x=t.getAscensionUpgradeCostReduction();if(x.lt(1)){const $=a(1).sub(x).mul(100);v.push({name:"Ascension Tree Upgrade Cost Reduction",value:x,formatted:`-${$.toFixed(0)}%`,id:"ascension_cost_reduction"})}return v.sort(($,A)=>$.value.lt(1)&&A.value.lt(1)?$.value.cmp(A.value):$.value.lt(1)?-1:A.value.lt(1)?1:A.value.cmp($.value))},getEPMultiplierBreakdown:d,getProductionMultiplier:t.getProductionMultiplier,getFormattedMultiplier:t.getFormattedMultiplier,getMultiplierBreakdown:t.getMultiplierBreakdown,getPheromoneShopGlobalMultiplier:t.getPheromoneShopGlobalMultiplier,getPheromoneShopGeneratorMultiplier:t.getPheromoneShopGeneratorMultiplier,getFoodProductionMultiplier:t.getFoodProductionMultiplier,getPheromoneGainMultiplier:t.getPheromoneGainMultiplier,getPheromoneShopEpMultiplier:t.getPheromoneShopEpMultiplier,formatMultiplierValue:t.formatMultiplierValue,getAscensionGlobalBoost:t.getAscensionGlobalBoost,getAscensionEPBoost:t.getAscensionEPBoost,getAscensionPheromoneBoost:t.getAscensionPheromoneBoost,getAscensionUpgradeCostReduction:t.getAscensionUpgradeCostReduction,getItemEpBoost:t.getItemEpBoost,getUpgradesEpBoost:t.getUpgradesEpBoost,getAchievementEpBoost:t.getAchievementEpBoost,getQueenChamberEPBoost:t.getQueenChamberEPBoost,getColonyEPBoost:t.getColonyEPBoost}}function Ny(){const t=Wt(),e=vt(),s=l=>{const d=t.getUpgradesForGenerator(l).filter(u=>u.maxLevel&&u.level.gte(u.maxLevel)?!1:t.generatorPoints[l].gte(u.cost));return d.sort((u,m)=>u.cost.eq(m.cost)?0:u.cost.lt(m.cost)?-1:1),d.length>0?d[0]:null},o=l=>{const c=t.getActivePresetForGenerator(l);if(!c||c.upgradeIds.length===0)return null;const u=((c.lastPurchasedIndex??-1)+1)%c.upgradeIds.length,m=c.upgradeIds[u],p=t.getUpgrade(m);return p?p.maxLevel&&p.level.gte(p.maxLevel)?(t.updatePresetLastPurchasedIndex(c.id,u),o(l)):t.generatorPoints[l].lt(p.cost)?null:{upgrade:p,index:u}:null};return{processAutoUpgrades:()=>{const l=e.generators;for(const c of l){if(!c.autoUpgradeEnabled||c.count.eq(0))continue;const d=c.id;try{const m=ct(),p=`autoUpgrade${d.charAt(0).toUpperCase()+d.slice(1)}`;if(!m.getUpgradeMultiplier(p).gt(0))continue}catch(m){console.error(`Error checking auto-upgrade for ${d}:`,m);continue}const u=t.getActivePresetForGenerator(d);if(u&&u.upgradeIds.length>0){const m=o(d);if(m){const{upgrade:p,index:y}=m;if(t.purchaseUpgrade(p.id)){t.updatePresetLastPurchasedIndex(u.id,y);continue}}}if(!u||u.upgradeIds.length===0){const m=s(d);m&&t.purchaseUpgrade(m.id)}}},findCheapestUpgrade:s,findNextPresetUpgrade:o,hasAvailableUpgrades:l=>{const c=t.getActivePresetForGenerator(l);return c&&c.upgradeIds.length>0?o(l)!==null:s(l)!==null}}}const oC=Object.freeze(Object.defineProperty({__proto__:null,useAutoUpgrade:Ny},Symbol.toStringTag,{value:"Module"})),vt=Ft("generator",()=>{const t=W([{id:"worker",name:"Worker Ant",description:"Gathers food and materials for the colony",tier:1,count:a(0),manualPurchases:a(0),selfReplicated:a(0),baseCost:a(10),costGrowth:a(1.1),initialBaseProduction:a(10),unlocked:!0,purchasable:!1,icon:"i-heroicons-bug-ant",autoPurchaseEnabled:!0,autoUpgradeEnabled:!1},{id:"nursery",name:"Nursery",description:"Produces worker ants",tier:2,count:a(0),manualPurchases:a(0),selfReplicated:a(0),baseCost:a(100),costGrowth:a(1.1),initialBaseProduction:a(1),unlocked:!1,purchasable:!1,icon:"i-heroicons-home-modern",autoPurchaseEnabled:!0,autoUpgradeEnabled:!1},{id:"queenChamber",name:"Queen Chamber",description:"Nurtures new queens",tier:3,count:a(0),manualPurchases:a(0),selfReplicated:a(0),baseCost:a(1e3),costGrowth:a(1.1),initialBaseProduction:a(1),unlocked:!1,purchasable:!1,icon:"i-heroicons-crown",autoPurchaseEnabled:!0,autoUpgradeEnabled:!1},{id:"colony",name:"Colony",description:"Expands your ant empire",tier:4,count:a(0),manualPurchases:a(0),selfReplicated:a(0),baseCost:a(1e4),costGrowth:a(1.1),initialBaseProduction:a(1),unlocked:!1,purchasable:!1,icon:"i-heroicons-building-storefront",autoPurchaseEnabled:!0,autoUpgradeEnabled:!1},{id:"megacolony",name:"Mega Colony",description:"A massive colony complex with advanced infrastructure",tier:5,count:a(0),manualPurchases:a(0),selfReplicated:a(0),baseCost:a(1e5),costGrowth:a(1.2),initialBaseProduction:a(1),unlocked:!1,purchasable:!1,icon:"i-heroicons-building-office-2",autoPurchaseEnabled:!0,autoUpgradeEnabled:!1},{id:"hivemind",name:"Hive Mind",description:"A collective consciousness that coordinates all colonies",tier:6,count:a(0),manualPurchases:a(0),selfReplicated:a(0),baseCost:a(1e6),costGrowth:a(1.2),initialBaseProduction:a(1),unlocked:!1,purchasable:!1,icon:"i-heroicons-cpu-chip",autoPurchaseEnabled:!0,autoUpgradeEnabled:!1},{id:"antopolis",name:"Antopolis",description:"An entire city-state of ants with advanced civilization",tier:7,count:a(0),manualPurchases:a(0),selfReplicated:a(0),baseCost:a(1e7),costGrowth:a(1.2),initialBaseProduction:a(1),unlocked:!1,purchasable:!1,icon:"i-heroicons-building-library",autoPurchaseEnabled:!0,autoUpgradeEnabled:!1},{id:"alateHatchery",name:"Alate Hatchery",description:"An entire city-state of ants with advanced civilization",tier:8,count:a(0),manualPurchases:a(0),selfReplicated:a(0),baseCost:a(1e8),costGrowth:a(1.3),initialBaseProduction:a(1),unlocked:!1,purchasable:!1,icon:"i-heroicons-building-library",autoPurchaseEnabled:!0,autoUpgradeEnabled:!1}]),e=W(a(10)),s=R(()=>I("worker")),o=W(0),n=5,i=G=>t.value.find(de=>de.id===G),l=R(()=>t.value.filter(G=>G.unlocked)),c=R(()=>{const de=Math.max(...t.value.filter(he=>he.unlocked).map(he=>he.tier))+1;return t.value.find(he=>he.tier===de)}),d=G=>{const de=i(G);if(!de)return a(0);let re=a(1);try{const Se=Wt();if(G==="worker")re=Se.getUpgradeMultiplier("workerTraining");else if(G==="nursery")re=Se.getUpgradeMultiplier("nurseryExpansion");else if(G==="queenChamber")re=Se.getUpgradeMultiplier("queenChamberLongevity");else if(G==="colony")re=Se.getUpgradeMultiplier("colonyExpansion");else if(G==="megacolony"||G==="hivemind"||G==="antopolis")try{re=ct().getUpgradeMultiplier("strongerSoldiers")}catch(Me){console.error("Error applying advanced generator cost reduction:",Me)}}catch(Se){console.error("Error applying cost reduction:",Se)}const he=Ev(de.tier,de.manualPurchases),ve=cs();return re=re.mul(ve.getCostMultipliers(G)),he.mul(re)},u=(G,de=1)=>{const re=i(G);if(!re||!re.unlocked&&!re.purchasable)return!1;if(G==="hivemind"){const ve=i("megacolony");if(!ve||ve.count.eq(0))return!1}else if(G==="antopolis"){const ve=i("hivemind");if(!ve||ve.count.eq(0))return!1}const he=d(G);if(e.value.gte(he)){e.value=e.value.sub(he),re.count=re.count.add(de),re.manualPurchases=re.manualPurchases.add(de),p(re.tier);try{Wt().updateQueenChamberProgress(de)}catch(Se){console.error("Error updating generator progress:",Se)}qs().checkProgression();try{Ws().updateGeneratorCounts(G,re.count)}catch(Se){console.error("Error updating achievements:",Se)}return!0}return!1},m=(G,de)=>{const re=i(G);if(re){re.count=re.count.add(de),re.count.gte(10)&&p(re.tier);try{Ws().updateGeneratorCounts(G,re.count)}catch(he){console.error("Error updating achievements:",he)}}},p=G=>{const de=t.value.find(he=>he.tier===G),re=t.value.find(he=>he.tier===G+1);de&&re&&!re.unlocked&&de.count.gte(10)&&(re.unlocked=!0)},y=G=>{const de=i(G);if(!de)return a(0);let re=de.initialBaseProduction;try{const he=Wt(),ve=`${G}Base`,Se=he.getUpgrade(ve);Se&&(G==="worker"?re=re.add(a(10).mul(Se.level)):re=re.add(Se.level))}catch(he){console.error("Error calculating base production:",he)}return re},v=G=>y(G),S=(G,de,re)=>{try{const he=`${G}Reproduction`,ve=re.getUpgradeMultiplier(he);if(ve.gt(0)&&de>0&&Math.random()<ve.toNumber()){const Me={nursery:"worker",queenChamber:"nursery",colony:"queenChamber",megacolony:"colony",hivemind:"megacolony",antopolis:"hivemind",alateHatchery:"antopolis"},Oe={worker:"nursery",nursery:"queenChamber",queenChamber:"colony",colony:"megacolony",megacolony:"hivemind",hivemind:"antopolis",antopolis:"alateHatchery"};if(G==="worker"){const _e=Oe[G],pe=i(_e);if(pe&&pe.count.gt(0)){const z=I(_e).mul(.01).floor(),K=z.gt(0)?z:a(1),H=i(G);return H&&(H.selfReplicated=H.selfReplicated.add(K)),K}const me=i(G);return me&&(me.selfReplicated=me.selfReplicated.add(1)),a(1)}const He=Oe[G];if(He){const _e=i(He);if(_e&&_e.count.gt(0)){const me=I(He).mul(.01).floor(),le=me.gt(0)?me:a(1),z=i(G);return z&&(z.selfReplicated=z.selfReplicated.add(le)),le}}const we=i(G);return we&&(we.selfReplicated=we.selfReplicated.add(1)),a(1)}}catch(he){console.error(`Error processing self-reproduction for ${G}:`,he)}return a(0)},_=(G,de,re,he,ve)=>{if(ve.lte(0)||re<=0)return;const Se={worker:"nursery",nursery:"queenChamber",queenChamber:"colony",colony:"megacolony",megacolony:"hivemind",hivemind:"antopolis"},Me=Math.floor(he*ve.toNumber());if(Me<=0)return;const Oe=Se[G];if(!Oe){const le=a(Me);de.count=de.count.add(le),de.selfReplicated=de.selfReplicated.add(le);return}const He=i(Oe);if(!He||He.count.lte(0)){const le=a(Me);de.count=de.count.add(le),de.selfReplicated=de.selfReplicated.add(le);return}const _e=I(Oe).mul(.01).floor(),me=(_e.gt(0)?_e:a(1)).mul(Me);de.count=de.count.add(me),de.selfReplicated=de.selfReplicated.add(me)},C=G=>{try{const de=ct(),re={worker:"autoWorker",nursery:"autoNursery",queenChamber:"autoQueenChamber",colony:"autoColony",megacolony:"autoMegacolony",hivemind:"autoHivemind",antopolis:"autoAntopolis",alateHatchery:"autoAlateHatchery"},he=(Se,Me)=>{if(!Se.unlocked||!Se.autoPurchaseEnabled)return;const Oe=re[Se.id];if(!Oe)return;const He=de.getUpgradeMultiplier(Oe);if(He.gt(0))if(Me){const we=Math.min(100,G*He.toNumber());for(let _e=0;_e<we;_e++)u(Se.id,1)}else for(let we=0;we<He.toNumber();we++)u(Se.id,1)},ve=G>1;for(const Se of[...t.value].reverse())he(Se,ve)}catch(de){console.error("Error applying auto-purchasing:",de)}},x=G=>{try{const de=Za();if(de.isProcessingRush)return;de.trackTick()}catch(de){console.error("Error tracking colony rush tick:",de)}},$=(G,de,re,he)=>{if(!G.unlocked||!G.count.gt(0))return;let ve=I(G.id);if(re>1&&(ve=ve.mul(re)),m(de.id,ve),re<=1){const Se=S(G.id,G.count.toNumber(),he);Se.gt(0)&&(G.count=G.count.add(Se))}else{const Se=`${G.id}Reproduction`,Me=he.getUpgradeMultiplier(Se);_(G.id,G,G.count.toNumber(),re,Me)}},A=(G,de,re,he,ve=null)=>{if(!G.unlocked||!G.count.gt(0))return;let Se=s.value;de>1&&(Se=Se.mul(de)),e.value=e.value.add(Se);try{Vt().trackFoodGain(Se)}catch(Me){console.error("Error tracking food gain for quests:",Me)}try{he.updateNurseryProgress(Se)}catch(Me){console.error("Error updating nursery progress:",Me)}if(de<=1){const Me=S("worker",G.count.toNumber(),re);Me.gt(0)&&(G.count=G.count.add(Me))}else{const Oe=re.getUpgradeMultiplier("workerReproduction");_("worker",G,G.count.toNumber(),de,Oe)}ve&&ve.updateFoodStats(e.value,Se)},M=(G=1)=>{const de=ct(),re=Wt();if(C(G),x(),o.value+=1,o.value>=n){o.value=0;try{Av(async()=>{const{useAutoUpgrade:ve}=await Promise.resolve().then(()=>oC);return{useAutoUpgrade:ve}},void 0).then(({useAutoUpgrade:ve})=>{const{processAutoUpgrades:Se}=ve();Se()}).catch(ve=>{console.error("Error processing auto-upgrades:",ve)})}catch(ve){console.error("Error importing auto-upgrade composable:",ve)}}for(let ve=t.value.length-1;ve>0;ve--){const Se=t.value[ve],Me=t.value[ve-1];p(Se.tier),$(Se,Me,G,de)}if(G===1){const ve=t.value[0];A(ve,G,de,re,Ws());return}const he=t.value[0];A(he,G,de,re)},P=G=>{const de=i(G);return de?ie(de.count,0):"0"},L=G=>{const de=i(G);return de?ie(de.manualPurchases,0):"0"},B=()=>ie(e.value,2),k=G=>{try{const{getTotalMultiplier:de}=Zr();return de(G)}catch(de){return console.error("Error calculating production multiplier:",de),a(1)}},I=G=>{const de=i(G);if(!de)return a(0);const re=v(G),he=k(G);return re.mul(he).mul(de.count.add(de.selfReplicated))},N=G=>{try{const{getFormattedTotalMultiplier:de}=Zr();return de(G)}catch(de){console.error("Error formatting production multiplier:",de);const re=k(G);return`${ie(re,2)}x`}},U=G=>{const de=i(G);return de?(de.autoPurchaseEnabled=!de.autoPurchaseEnabled,!0):!1},j=G=>{const de=i(G);return de?(de.autoUpgradeEnabled=!de.autoUpgradeEnabled,!0):!1},ee=G=>{const de=i(G);return de?ie(de.selfReplicated,0):"0"},ne=G=>{const de=i(G);return de?de.selfReplicated:a(0)},oe=()=>({food:e.value.toString(),generators:t.value.map(G=>({id:G.id,count:G.count.toString(),manualPurchases:G.manualPurchases.toString(),selfReplicated:G.selfReplicated.toString(),unlocked:G.unlocked,purchasable:G.purchasable,autoPurchaseEnabled:G.autoPurchaseEnabled,autoUpgradeEnabled:G.autoUpgradeEnabled}))}),O=G=>{G.food&&(e.value=a(G.food)),G.generators&&Array.isArray(G.generators)&&G.generators.forEach(de=>{const re=i(de.id);re&&(re.count=a(de.count),de.manualPurchases?re.manualPurchases=a(de.manualPurchases):re.manualPurchases=a(de.count),de.selfReplicated?re.selfReplicated=a(de.selfReplicated):re.selfReplicated=a(0),re.unlocked=de.unlocked,de.purchasable!==void 0?re.purchasable=de.purchasable:re.tier>=5&&de.unlocked&&(re.purchasable=!0,re.unlocked=!1),de.autoPurchaseEnabled!==void 0&&(re.autoPurchaseEnabled=de.autoPurchaseEnabled),de.autoUpgradeEnabled!==void 0&&(re.autoUpgradeEnabled=de.autoUpgradeEnabled))})},Y=R(()=>{let G=0;return Object.values(Wt().generatorPoints).forEach(de=>{G+=de.toNumber()}),G});return{generators:t,unlockedGenerators:l,nextUnlockableGenerator:c,food:e,foodPerSecond:s,totalPointsAvailable:Y,getGenerator:i,getGeneratorCost:d,buyGenerator:u,addGeneratorAuto:m,unlockNextTier:p,tick:M,formatGeneratorCount:P,formatManualPurchases:L,formatFood:B,getProductionMultiplier:k,formatProductionMultiplier:N,toggleAutoPurchase:U,toggleAutoUpgrade:j,getState:oe,loadState:O,getBaseProduction:v,getActualProduction:I,formatSelfReplicated:ee,getSelfReplicatedCount:ne,autoUpgradeCounter:o,AUTO_UPGRADE_FREQUENCY:n}}),Le=t=>dt(t.sub(1)),Hr=t=>{const e=(1-t.toNumber())*100;return e>=1e3?`-${dt(e)}`:`-${e.toFixed(0)}%`},It=t=>`${ie(t,2)}x`,Jo=t=>{if(t.eq(0))return"1/0";const e=t.pow(-1);return`1/${ie(e,0)}`},Do=t=>`${ie(t,0)}`,hu=t=>`${ie(t,1)}s`,Rt=t=>t.gt(0)?"Unlocked":"Locked",bu=t=>`-${ie(t,0)} trips`,Eo=(t,e)=>{const s=e.find(d=>d.id===t);if(!s||s.prerequisites&&s.prerequisites.length>0&&!s.prerequisites.every(u=>{const m=e.find(p=>p.id===u);return m&&m.level.gt(0)}))return!1;if(s.ascensionRequirement&&s.ascensionRequirement>0)return gt().ascensionCount>=s.ascensionRequirement;const o=e.find(d=>d.id==="unlockMegacolony"),n=e.find(d=>d.id==="unlockHivemind"),i=e.find(d=>d.id==="unlockAntopolis"),l=e.find(d=>d.id==="unlockMegaAnt"),c=e.find(d=>d.id==="unlockAlateHatchery");return e.find(d=>d.id==="unlockQueueAll"),["autoMegacolony","megacolonyEfficiency","unlockHivemind","autoUpgradeMegacolony"].includes(t)?o?o.level.gt(0):!1:["autoHivemind","hivemindEfficiency","unlockAntopolis","autoUpgradeHivemind"].includes(t)?n?n.level.gt(0):!1:["autoAntopolis","antopolisEfficiency","autoUpgradeAntopolis"].includes(t)?i?i.level.gt(0):!1:["autoAlateHatchery","alateHatcheryEfficiency","autoUpgradeAlateHatchery"].includes(t)?c?c.level.gt(0):!1:["unlockAutoFeed"].includes(t)?l?l.level.gt(0):!1:["rushCooldownReduction","rushDurationIncrease","rushMaxPerDay"].includes(t)?na("unlockColonyRush",e):t==="cycleTimeReductionAdvanced"?na("cycleTimeReduction",e):t==="unlockHivemind"?Eo("unlockMegacolony",e):t==="unlockAntopolis"?na("unlockHivemind",e):t==="unlockAlateHatchery"?na("unlockAntopolis",e):t==="unlockQueueAll"?na("unlockQuests",e):!0},na=(t,e)=>{const s=e.find(o=>o.id===t);return s?s.level.eq(s.maxLevel||a(0)):!1},Rl=(t,e,s)=>e.eq(0)?t:s?s({cost:t,level:e}):t.mul(a(1.5).pow(e)),rC=(t,e)=>e.eq(0)?t.baseCost:t.costMultiplier?t.costMultiplier({cost:t.baseCost,level:e}):t.baseCost.mul(a(1.5).pow(e)),nC=t=>{const e=new Map(t.map(s=>[s.id,s]));return t.forEach(s=>{let o=null,n;if(s.id.includes("Advanced")?o=s.id.replace("Advanced","Begin"):s.id.includes("Master")&&(o=s.id.replace("Master","Advanced")),o&&(n=e.get(o)),n&&n.maxLevel){const l=rC(n,n.maxLevel).mul(1.1);s.baseCost=l,s.cost=l}}),t},aC=()=>{const t=[{id:"foodProcessing",name:"Faster Food Processing",description:"Increases food production by 10% per level",baseCost:a(5),cost:a(5),costMultiplier:e=>a(e.cost).mul(a(1.05).pow(e.level)),level:a(0),maxLevel:a(200),effect:e=>a(1).add(e.mul(.1)),formatEffect:Le,icon:"i-heroicons-cake",position:{row:0,col:0},isUnlocked:()=>!0,category:"production",appliesTo:["worker"]},{id:"additiveFoodProcessing",name:"Additive Food Processing",description:"Increases food production multiplier by adding 10% per level",baseCost:a(5),cost:a(5),costMultiplier:e=>a(e.cost).mul(a(1.05).pow(e.level)),level:a(0),isAdditive:!0,appliesTo:["worker"],prerequisites:["foodProcessing"],isUnlocked:()=>!0,category:"production",maxLevel:a(50),effect:e=>a(1).add(e.mul(.1)),formatEffect:Le,icon:"i-heroicons-cake",position:{row:1,col:0}},{id:"foodProcessingAdvanced",name:"Advanced Food Processing",description:"Increases food production by 20% per level",baseCost:a(1e6),cost:a(1e6),costMultiplier:e=>a(e.cost).mul(a(1.4).pow(e.level)),level:a(0),maxLevel:a(50),effect:e=>a(1).add(e.mul(.2)),formatEffect:Le,icon:"i-heroicons-cake",position:{row:2,col:0},prerequisites:["additiveFoodProcessing"],isUnlocked:()=>!0,category:"production",appliesTo:["worker"]},{id:"foodProcessingExponential",name:"Exponential Food Processing",description:"Food production increases exponentially per level",baseCost:a(1e8),cost:a(1e8),costMultiplier:e=>a(e.cost).mul(a(1.4).pow(e.level)),level:a(0),maxLevel:a(5),effect:e=>a(2).pow(e),formatEffect:It,icon:"i-heroicons-cake",position:{row:3,col:0},prerequisites:["foodProcessingAdvanced"],isUnlocked:()=>!0,category:"production",appliesTo:["worker"]},{id:"doubleFood",name:"Double Food",description:"Doubles the amount of food produced per level",baseCost:a(100),cost:a(100),level:a(0),maxLevel:a(3),costMultiplier:e=>a(e.cost).mul(a(3).pow(e.level)),effect:e=>a(1).add(e.mul(1)),formatEffect:Le,icon:"i-heroicons-cake",position:{row:0,col:1},prerequisites:["foodProcessing"],isUnlocked:()=>!0,category:"production",appliesTo:["worker"]},{id:"mutatedWorkers",name:"Mutated Worker Ants",description:"Worker ants produce 20% more food per level",baseCost:a(8),cost:a(8),costMultiplier:e=>a(e.cost).mul(a(1.7).pow(e.level)),level:a(0),maxLevel:a(15),effect:e=>a(1).add(e.mul(.2)),formatEffect:Le,icon:"i-heroicons-sparkles",position:{row:1,col:1},prerequisites:["doubleFood"],isUnlocked:()=>!0,category:"production",appliesTo:["worker"]},{id:"efficientQueens",name:"Efficient Queens",description:"Queens produce 15% more nurseries per level",baseCost:a(1e3),cost:a(1e3),costMultiplier:e=>a(e.cost).mul(a(1.15).pow(e.level)),level:a(0),maxLevel:a(50),effect:e=>a(1).add(e.mul(.15)),formatEffect:Le,icon:"i-heroicons-bug-ant",position:{row:0,col:2},prerequisites:["foodProcessing"],isUnlocked:()=>!0,category:"production",appliesTo:["queenChamber"]},{id:"efficientQueensAdvanced",name:"Advanced Efficient Queens",description:"Queens produce 30% more nurseries per level",baseCost:a(1e6),cost:a(1e6),costMultiplier:e=>a(e.cost).mul(a(1.35).pow(e.level)),level:a(0),maxLevel:a(50),effect:e=>a(1).add(e.mul(.3)),formatEffect:Le,icon:"i-heroicons-bug-ant",position:{row:1,col:2},prerequisites:["efficientQueens"],isUnlocked:()=>!0,category:"production",appliesTo:["queenChamber"]},{id:"nurseryEfficiency",name:"Advanced Nursery Techniques",description:"Nurseries produce 25% more worker ants per level",baseCost:a(10),cost:a(10),costMultiplier:e=>a(e.cost).mul(a(1.35).pow(e.level)),level:a(0),maxLevel:a(50),effect:e=>a(1).add(e.mul(.25)),formatEffect:Le,icon:"i-heroicons-beaker",position:{row:2,col:2},prerequisites:["efficientQueensAdvanced"],isUnlocked:()=>!0,category:"production",appliesTo:["nursery"]},{id:"reproductionNexus",isCombo:!0,name:"Reproduction Nexus",description:"Boosts queen reproduction by 15%, nursery efficiency by 10%, and reduces all ant costs by 5% per level",baseCost:a(7500),cost:a(7500),costMultiplier:e=>a(e.cost).mul(a(1.9).pow(e.level)),level:a(0),maxLevel:a(35),effect:e=>a(1).add(e.mul(.15)),formatEffect:Le,icon:"i-heroicons-heart",position:{row:3,col:2},prerequisites:["nurseryEfficiency"],isUnlocked:()=>!0,category:"reproduction",appliesTo:["global"],effects:[{target:"queenChamber",multiplier:e=>a(1).add(e.mul(.15)),formatEffect:Le,category:"reproduction"},{target:"nursery",multiplier:e=>a(1).add(e.mul(.1)),formatEffect:Le,category:"efficiency"}]},{id:"colonyExpansion",name:"Colony Expansion Tactics",description:"Colonies produce 30% more queen chambers per level",baseCost:a(2500),cost:a(2500),costMultiplier:e=>a(e.cost).mul(a(1.65).pow(e.level)),level:a(0),maxLevel:a(50),effect:e=>a(1).add(e.mul(.3)),formatEffect:Le,icon:"i-heroicons-map",position:{row:0,col:3},prerequisites:["efficientQueensAdvanced"],isUnlocked:()=>!0,category:"production",appliesTo:["colony"]},{id:"strongerSoldiers",name:"Stronger Soldier Ants",description:"Increases overall colony efficiency by 5% per level",baseCost:a(5),cost:a(5),costMultiplier:e=>a(e.cost).mul(a(1.6).pow(e.level)),level:a(0),maxLevel:a(50),effect:e=>a(1).add(e.mul(.05)),formatEffect:Le,icon:"i-heroicons-shield-check",position:{row:0,col:4},prerequisites:["colonyExpansion"],isUnlocked:()=>!0,category:"production",appliesTo:["global"]},{id:"exponentialGrowth",name:"Exponential Growth",description:"All production increases by 2x per level",baseCost:a(1e3),cost:a(1e3),costMultiplier:e=>a(e.cost).mul(a(2).pow(a(e.level).mul(1.8))),level:a(0),maxLevel:a(16),effect:e=>a(2).pow(e),formatEffect:It,icon:"i-heroicons-chart-bar",position:{row:1,col:4},prerequisites:["doubleFood"],isUnlocked:()=>!0,category:"production",appliesTo:["global"]},{id:"compoundEvolution",name:"Compound Evolution",description:"All production increases by 2% per level, compounding with other upgrades",baseCost:a(50),cost:a(50),costMultiplier:e=>a(e.cost).mul(a(1.5).pow(e.level)),level:a(0),maxLevel:a(5),effect:e=>a(1).add(e.mul(.02)),formatEffect:Le,icon:"i-heroicons-arrow-trending-up",position:{row:2,col:4},prerequisites:["exponentialGrowth"],isUnlocked:()=>!0,category:"production",appliesTo:["global"]},{id:"megacolonyEfficiency",name:"Mega Colony Optimization",description:"Mega Colonies produce 40% more colonies per level",baseCost:a(100),cost:a(100),costMultiplier:e=>a(e.cost).mul(a(2).pow(e.level)),level:a(0),maxLevel:a(10),effect:e=>a(1).add(e.mul(.4)),formatEffect:Le,icon:"i-heroicons-building-office-2",position:{row:0,col:5},prerequisites:["colonyExpansion"],isUnlocked:()=>!1,category:"production",appliesTo:["megacolony"]},{id:"hivemindEfficiency",name:"Hive Mind Optimization",description:"Hive Minds produce 50% more mega colonies per level",baseCost:a(500),cost:a(500),costMultiplier:e=>a(e.cost).mul(a(2.2).pow(e.level)),level:a(0),maxLevel:a(10),effect:e=>a(1).add(e.mul(.5)),formatEffect:Le,icon:"i-heroicons-cpu-chip",position:{row:1,col:5},prerequisites:[],isUnlocked:()=>!1,category:"production",appliesTo:["hivemind"]},{id:"antopolisEfficiency",name:"Antopolis Optimization",description:"Antopolis produces 60% more hive minds per level",baseCost:a(2500),cost:a(2500),costMultiplier:e=>a(e.cost).mul(a(2.5).pow(e.level)),level:a(0),maxLevel:a(10),effect:e=>a(1).add(e.mul(.6)),formatEffect:Le,icon:"i-heroicons-building-library",position:{row:2,col:5},prerequisites:["hivemindEfficiency"],isUnlocked:()=>!1,category:"production",appliesTo:["antopolis"]},{id:"alateHatcheryProduction",name:"Alate Hatchery Production",description:"Alate Hatcheries produce 70% more colonies per level",baseCost:a(1e9),cost:a(1e9),costMultiplier:e=>a(e.cost).mul(a(2.7).pow(e.level)),level:a(0),maxLevel:a(10),effect:e=>a(1).add(e.mul(.7)),formatEffect:Le,icon:"i-heroicons-building-library",position:{row:3,col:5},prerequisites:["antopolisEfficiency"],isUnlocked:()=>!1,category:"production",appliesTo:["alateHatchery"]},{id:"exponentialPheromone",name:"Exponential Pheromone",description:"Pheromone production increases exponentially per level",baseCost:a(100),cost:a(100),costMultiplier:e=>a(e.cost).mul(a(1.2).pow(e.level)).pow(e.level),level:a(0),maxLevel:a(6),effect:e=>a(2).pow(e),formatEffect:It,icon:"i-heroicons-beaker",position:{row:4,col:0},prerequisites:[],isUnlocked:()=>!1,category:"production",appliesTo:["pheromone"],effects:[{target:"pheromone",multiplier:e=>a(2).pow(e),formatEffect:It,isMultiplier:!0}],isCombo:!0},{id:"pheromoneSynergyMultiplier",name:"Pheromone Synergy Multiplier",description:"Boosts pheromone production by 10% per level (multiplier) and adds 25% to the amount of pheromone produced per level",baseCost:a(5e6),cost:a(5e6),costMultiplier:e=>a(e.cost).mul(a(2).pow(e.level).mul(a(1.5))),level:a(0),maxLevel:a(10),effect:e=>a(1).add(e.mul(.1)),formatEffect:Le,icon:"i-heroicons-beaker",position:{row:5,col:0},prerequisites:["exponentialPheromone"],isUnlocked:()=>!0,category:"production",appliesTo:["pheromone"],isCombo:!0,effects:[{target:"pheromone",multiplier:e=>a(1).add(e.mul(.1)),formatEffect:Le,isMultiplier:!0},{target:"pheromone",multiplier:e=>a(1).add(e.mul(.25)),formatEffect:Le}]},{id:"pheromoneExponentialAmplifier",name:"Pheromone Exponential Amplifier",description:"Multiplies pheromone production by 2.5x per level and boosts all production by 15% per level",baseCost:a(1e12),cost:a(1e12),costMultiplier:e=>a(e.cost).mul(a(4).pow(e.level)).mul(a(1.5).pow(e.level.mul(e.level))),level:a(0),maxLevel:a(10),effect:e=>a(2.5).pow(e),formatEffect:It,icon:"i-heroicons-flask",position:{row:6,col:0},prerequisites:["pheromoneSynergyMultiplier"],isUnlocked:()=>!1,category:"production",appliesTo:["global"],effects:[{target:"pheromone",multiplier:e=>a(2.5).pow(e),formatEffect:It,isMultiplier:!0,category:"production"},{target:"global",multiplier:e=>a(1).add(e.mul(.15)),formatEffect:Le,category:"production"}],ascensionRequirement:1},{id:"exponentialEP",name:"Exponential EP",description:"EP production increases exponentially per level",baseCost:a(1e6),cost:a(1e6),costMultiplier:e=>a(e.cost).mul(a(1.8).pow(e.level)).pow(e.level.gt(1)?e.level.mul(.9):1.1),level:a(0),maxLevel:a(3),effect:e=>a(2).pow(e),formatEffect:It,icon:"i-heroicons-sparkles",position:{row:4,col:1},prerequisites:["exponentialGrowth"],isUnlocked:()=>!1,category:"production",appliesTo:["ep"],effects:[{target:"ep",multiplier:e=>a(2).pow(e),formatEffect:It,isMultiplier:!0}],isCombo:!0},{id:"multiBoost",isCombo:!0,name:"Early Multi-Tier Enhancement",description:"Boosts worker ants by 5%, nurseries by 2.5%, and EP gain by 20% per level",baseCost:a(1e4),cost:a(1e4),costMultiplier:e=>a(e.cost).mul(a(3).pow(e.level)),level:a(0),maxLevel:a(50),effect:e=>a(1).add(e.mul(.05)),formatEffect:Le,icon:"i-heroicons-bolt-solid",position:{row:4,col:2},prerequisites:[],isUnlocked:()=>!0,category:"production",appliesTo:["global"],effects:[{target:"worker",multiplier:e=>a(1).add(e.mul(.05)),formatEffect:Le,category:"production"},{target:"nursery",multiplier:e=>a(1).add(e.mul(.025)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.2)),formatEffect:Le,category:"prestige"}]},{id:"midTierBoost",isCombo:!0,name:"Mid-Tier Synergy",description:"Boosts queen chambers by 8%, colonies by 5%, and pheromone production by 15% per level",baseCost:a(25e3),cost:a(25e3),costMultiplier:e=>a(e.cost).mul(a(2.8).pow(e.level)),level:a(0),maxLevel:a(40),effect:e=>a(1).add(e.mul(.08)),formatEffect:Le,icon:"i-heroicons-cube-transparent",position:{row:5,col:2},prerequisites:["multiBoost","colonyExpansion"],isUnlocked:()=>!0,category:"production",appliesTo:["global"],effects:[{target:"queenChamber",multiplier:e=>a(1).add(e.mul(.08)),formatEffect:Le,category:"production"},{target:"colony",multiplier:e=>a(1).add(e.mul(.05)),formatEffect:Le,category:"production"},{target:"pheromone",multiplier:e=>a(1).add(e.mul(.15)),formatEffect:Le,category:"production",isMultiplier:!0}]},{id:"advancedTierBoost",isCombo:!0,name:"Advanced Tier Integration",description:"Boosts mega colonies by 10%, hive minds by 7%, and doubles EP gain per level",baseCost:a(5e6),cost:a(5e6),costMultiplier:e=>a(e.cost).mul(a(3.5).pow(e.level)),level:a(0),maxLevel:a(30),effect:e=>a(1).add(e.mul(.1)),formatEffect:Le,icon:"i-heroicons-globe-alt",position:{row:6,col:2},prerequisites:["midTierBoost"],isUnlocked:()=>!1,category:"production",appliesTo:["global"],effects:[{target:"megacolony",multiplier:e=>a(1).add(e.mul(.1)),formatEffect:Le,category:"production"},{target:"hivemind",multiplier:e=>a(1).add(e.mul(.07)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(1)),formatEffect:Le,category:"prestige"}]},{id:"resourceSynergy",isCombo:!0,name:"Resource Synergy",description:"Boosts food production by 12%, pheromone production by 10% per level",baseCost:a(1e3),cost:a(1e3),costMultiplier:e=>a(e.cost).mul(a(1.8).pow(e.level)),level:a(0),maxLevel:a(25),effect:e=>a(1).add(e.mul(.12)),formatEffect:Le,icon:"i-heroicons-archive-box",position:{row:4,col:3},prerequisites:["exponentialPheromone"],isUnlocked:()=>!0,category:"production",appliesTo:["global"],effects:[{target:"food",multiplier:e=>a(1).add(e.mul(.12)),formatEffect:Le,category:"production"},{target:"pheromone",multiplier:e=>a(1).add(e.mul(.1)),formatEffect:Le,category:"production"}]},{id:"grandSynergy",isCombo:!0,name:"Grand Colony Synergy",description:"Boosts all production by 5%, EP gain by 25%",baseCost:a(25e6),cost:a(25e6),costMultiplier:e=>a(e.cost).mul(a(4).pow(e.level)),level:a(0),maxLevel:a(20),effect:e=>a(1).add(e.mul(.05)),formatEffect:Le,icon:"i-heroicons-fire",position:{row:5,col:3},prerequisites:["resourceSynergy","exponentialGrowth"],isUnlocked:()=>!1,category:"production",appliesTo:["global"],effects:[{target:"global",multiplier:e=>a(1).add(e.mul(.05)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.25)),formatEffect:Le,category:"prestige"}]},{id:"supremeColonyNexus",isCombo:!0,name:"Supreme Colony Nexus",description:"Boosts antopolis production by 25%, hive minds by 20%, and increases EP gain by 35% per level",baseCost:a(5e14),cost:a(5e14),costMultiplier:e=>a(e.cost).mul(a(4.5).pow(e.level)).mul(a(1.5).pow(e.level.pow(2))),level:a(0),maxLevel:a(15),effect:e=>a(1).add(e.mul(.25)),formatEffect:Le,icon:"i-heroicons-building-office",position:{row:6,col:3},prerequisites:["grandSynergy","advancedTierBoost","antopolisEfficiency"],isUnlocked:()=>!1,category:"production",appliesTo:["global"],effects:[{target:"antopolis",multiplier:e=>a(1).add(e.mul(.25)),formatEffect:Le,category:"production"},{target:"hivemind",multiplier:e=>a(1).add(e.mul(.2)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.35)),formatEffect:Le,category:"prestige"}],ascensionRequirement:1},{id:"alateEvolutionaryLeap",name:"Alate Evolutionary Leap",description:"Boosts alate hatcheries by 40%, antopolis by 30%, and increases EP gain by 50% per level",baseCost:a(25e14),cost:a(25e14),costMultiplier:e=>a(e.cost).mul(a(6.5).pow(e.level)).mul(a(2.8).pow(e.level.mul(1.5))),level:a(0),maxLevel:a(8),effect:e=>a(1).add(e.mul(.4)),formatEffect:Le,icon:"i-heroicons-academic-cap",position:{row:7,col:3},prerequisites:["supremeColonyNexus"],isUnlocked:()=>!1,category:"production",appliesTo:["global"],effects:[{target:"alateHatchery",multiplier:e=>a(1).add(e.mul(.4)),formatEffect:Le,category:"production"},{target:"antopolis",multiplier:e=>a(1).add(e.mul(.3)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.5)),formatEffect:Le,category:"prestige"}],ascensionRequirement:1},{id:"cascadingEfficiencyMatrix",name:"Cascading Efficiency Matrix",description:"Each level reduces all ant costs by 8%, increases global production by 18%, and boosts pheromone production by 30%",baseCost:a(1e12),cost:a(1e12),costMultiplier:e=>a(e.cost).mul(a(3.2).pow(e.level)).mul(a(1.4).pow(e.level.pow(1.5))),level:a(0),maxLevel:a(12),effect:e=>a(1).add(e.mul(.18)),formatEffect:Le,icon:"i-heroicons-puzzle-piece",position:{row:8,col:3},prerequisites:["grandSynergy"],isUnlocked:()=>!1,category:"production",appliesTo:["global"],effects:[{target:"global",multiplier:e=>a(1).add(e.mul(.18)),formatEffect:Le,category:"production"},{target:"pheromone",multiplier:e=>a(1).add(e.mul(.3)),formatEffect:Le,category:"production"}],ascensionRequirement:1},{id:"evolutionaryConvergence",name:"Evolutionary Convergence",description:"Each level doubles EP gain, increases pheromone production by 25%, and boosts all generators by 10%",baseCost:a(1e16),cost:a(1e16),costMultiplier:e=>a(e.cost).mul(a(6).pow(e.level)).mul(a(4).pow(e.level)),level:a(0),maxLevel:a(5),effect:e=>a(2).pow(e),formatEffect:It,icon:"i-heroicons-variable",position:{row:9,col:3},prerequisites:["cascadingEfficiencyMatrix","alateEvolutionaryLeap"],isUnlocked:()=>!1,category:"production",appliesTo:["global"],effects:[{target:"ep",multiplier:e=>a(2).pow(e),formatEffect:It,category:"prestige"},{target:"pheromone",multiplier:e=>a(1).add(e.mul(.25)),formatEffect:Le,category:"production"},{target:"global",multiplier:e=>a(1).add(e.mul(.1)),formatEffect:Le,category:"production"}],ascensionRequirement:1},{id:"workerBegin",isCombo:!0,name:"Worker Optimization: Begin",description:"Increases worker ants production by 25% and EP gain by 5% per level",baseCost:a(100),cost:a(100),costMultiplier:e=>a(e.cost).mul(a(1.5).pow(e.level)).pow(1.15),level:a(0),maxLevel:a(15),effect:e=>a(1).add(e.mul(.25)),formatEffect:Le,icon:"i-heroicons-bug-ant",position:{row:10,col:0},prerequisites:[],isUnlocked:()=>!0,category:"production",appliesTo:["worker"],effects:[{target:"worker",multiplier:e=>a(1).add(e.mul(.25)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.05)),formatEffect:Le,category:"prestige"}]},{id:"workerAdvanced",isCombo:!0,name:"Worker Optimization: Advanced",description:"Increases worker ants production by 50% and EP gain by 10% per level",baseCost:a(1e4),cost:a(1e4),costMultiplier:e=>a(e.cost).mul(a(1.8).pow(e.level)).pow(1.15),level:a(0),maxLevel:a(15),effect:e=>a(1).add(e.mul(.5)),formatEffect:Le,icon:"i-heroicons-bug-ant",position:{row:11,col:0},prerequisites:["workerBegin"],isUnlocked:()=>!0,category:"production",appliesTo:["worker"],effects:[{target:"worker",multiplier:e=>a(1).add(e.mul(.5)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.1)),formatEffect:Le,category:"prestige"}]},{id:"workerMaster",isCombo:!0,name:"Worker Optimization: Master",description:"Increases worker ants production by 100% and EP gain by 20% per level",baseCost:a(5e6),cost:a(5e6),costMultiplier:e=>a(e.cost).mul(a(2.2).pow(e.level)).pow(1.15),level:a(0),maxLevel:a(10),effect:e=>a(1).add(e.mul(1)),formatEffect:Le,icon:"i-heroicons-bug-ant",position:{row:12,col:0},prerequisites:["workerAdvanced"],isUnlocked:()=>!0,category:"production",appliesTo:["worker"],effects:[{target:"worker",multiplier:e=>a(1).add(e.mul(1)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.2)),formatEffect:Le,category:"prestige"}]},{id:"nurseryBegin",isCombo:!0,name:"Nursery Optimization: Begin",description:"Increases nursery production by 20% and EP gain by 5% per level",baseCost:a(150),cost:a(150),costMultiplier:e=>a(e.cost).mul(a(1.5).pow(e.level)).pow(1.15),level:a(0),maxLevel:a(15),effect:e=>a(1).add(e.mul(.2)),formatEffect:Le,icon:"i-heroicons-home-modern",position:{row:10,col:1},prerequisites:[],isUnlocked:()=>!0,category:"production",appliesTo:["nursery"],effects:[{target:"nursery",multiplier:e=>a(1).add(e.mul(.2)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.05)),formatEffect:Le,category:"prestige"}]},{id:"nurseryAdvanced",isCombo:!0,name:"Nursery Optimization: Advanced",description:"Increases nursery production by 40% and EP gain by 10% per level",baseCost:a(15e3),cost:a(15e3),costMultiplier:e=>a(e.cost).mul(a(1.8).pow(e.level)).pow(1.15),level:a(0),maxLevel:a(15),effect:e=>a(1).add(e.mul(.4)),formatEffect:Le,icon:"i-heroicons-home-modern",position:{row:11,col:1},prerequisites:["nurseryBegin"],isUnlocked:()=>!0,category:"production",appliesTo:["nursery"],effects:[{target:"nursery",multiplier:e=>a(1).add(e.mul(.4)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.1)),formatEffect:Le,category:"prestige"}]},{id:"nurseryMaster",isCombo:!0,name:"Nursery Optimization: Master",description:"Increases nursery production by 80% and EP gain by 20% per level",baseCost:a(75e5),cost:a(75e5),costMultiplier:e=>a(e.cost).mul(a(2.2).pow(e.level)).pow(1.15),level:a(0),maxLevel:a(10),effect:e=>a(1).add(e.mul(.8)),formatEffect:Le,icon:"i-heroicons-home-modern",position:{row:12,col:1},prerequisites:["nurseryAdvanced"],isUnlocked:()=>!0,category:"production",appliesTo:["nursery"],effects:[{target:"nursery",multiplier:e=>a(1).add(e.mul(.8)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.2)),formatEffect:Le,category:"prestige"}]},{id:"queenChamberBegin",isCombo:!0,name:"Queen Chamber Optimization: Begin",description:"Increases queen chamber production by 25% and EP gain by 7% per level",baseCost:a(200),cost:a(200),costMultiplier:e=>a(e.cost).mul(a(1.5).pow(e.level)).pow(1.15),level:a(0),maxLevel:a(15),effect:e=>a(1).add(e.mul(.25)),formatEffect:Le,icon:"i-heroicons-crown",position:{row:10,col:2},prerequisites:[],isUnlocked:()=>!0,category:"production",appliesTo:["queenChamber"],effects:[{target:"queenChamber",multiplier:e=>a(1).add(e.mul(.25)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.07)),formatEffect:Le,category:"prestige"}]},{id:"queenChamberAdvanced",isCombo:!0,name:"Queen Chamber Optimization: Advanced",description:"Increases queen chamber production by 50% and EP gain by 15% per level",baseCost:a(2e4),cost:a(2e4),costMultiplier:e=>a(e.cost).mul(a(1.8).pow(e.level)).pow(1.15),level:a(0),maxLevel:a(15),effect:e=>a(1).add(e.mul(.5)),formatEffect:Le,icon:"i-heroicons-crown",position:{row:11,col:2},prerequisites:["queenChamberBegin"],isUnlocked:()=>!0,category:"production",appliesTo:["queenChamber"],effects:[{target:"queenChamber",multiplier:e=>a(1).add(e.mul(.5)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.15)),formatEffect:Le,category:"prestige"}]},{id:"queenChamberMaster",isCombo:!0,name:"Queen Chamber Optimization: Master",description:"Increases queen chamber production by 100% and EP gain by 25% per level",baseCost:a(1e7),cost:a(1e7),costMultiplier:e=>a(e.cost).mul(a(2.2).pow(e.level)).pow(1.15),level:a(0),maxLevel:a(10),effect:e=>a(1).add(e.mul(1)),formatEffect:Le,icon:"i-heroicons-crown",position:{row:12,col:2},prerequisites:["queenChamberAdvanced"],isUnlocked:()=>!0,category:"production",appliesTo:["queenChamber"],effects:[{target:"queenChamber",multiplier:e=>a(1).add(e.mul(1)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.25)),formatEffect:Le,category:"prestige"}]},{id:"colonyBegin",isCombo:!0,name:"Colony Optimization: Begin",description:"Increases colony production by 30% and EP gain by 10% per level",baseCost:a(5e3),cost:a(5e3),costMultiplier:e=>a(e.cost).mul(a(1.8).pow(e.level)).pow(1.2),level:a(0),maxLevel:a(15),effect:e=>a(1).add(e.mul(.3)),formatEffect:Le,icon:"i-heroicons-building-storefront",position:{row:10,col:3},prerequisites:[],isUnlocked:()=>!0,category:"production",appliesTo:["colony"],effects:[{target:"colony",multiplier:e=>a(1).add(e.mul(.3)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.1)),formatEffect:Le,category:"prestige"}]},{id:"colonyAdvanced",isCombo:!0,name:"Colony Optimization: Advanced",description:"Increases colony production by 60% and EP gain by 20% per level",baseCost:a(5e5),cost:a(5e5),costMultiplier:e=>a(e.cost).mul(a(2.2).pow(e.level)).pow(1.2),level:a(0),maxLevel:a(15),effect:e=>a(1).add(e.mul(.6)),formatEffect:Le,icon:"i-heroicons-building-storefront",position:{row:11,col:3},prerequisites:["colonyBegin"],isUnlocked:()=>!0,category:"production",appliesTo:["colony"],effects:[{target:"colony",multiplier:e=>a(1).add(e.mul(.6)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.2)),formatEffect:Le,category:"prestige"}]},{id:"colonyMaster",isCombo:!0,name:"Colony Optimization: Master",description:"Increases colony production by 120% and EP gain by 30% per level",baseCost:a(5e8),cost:a(5e8),costMultiplier:e=>a(e.cost).mul(a(2.8).pow(e.level)).pow(1.2),level:a(0),maxLevel:a(10),effect:e=>a(1).add(e.mul(1.2)),formatEffect:Le,icon:"i-heroicons-building-storefront",position:{row:12,col:3},prerequisites:["colonyAdvanced"],isUnlocked:()=>!0,category:"production",appliesTo:["colony"],effects:[{target:"colony",multiplier:e=>a(1).add(e.mul(1.2)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.3)),formatEffect:Le,category:"prestige"}]},{id:"megacolonyBegin",isCombo:!0,name:"Megacolony Optimization: Begin",description:"Increases megacolony production by 35% and EP gain by 15% per level",baseCost:a(5e3),cost:a(5e3),costMultiplier:e=>a(e.cost).mul(a(1.5).pow(e.level)).pow(1.15),level:a(0),maxLevel:a(15),effect:e=>a(1).add(e.mul(.35)),formatEffect:Le,icon:"i-heroicons-building-office-2",position:{row:10,col:4},prerequisites:[],isUnlocked:()=>!1,category:"production",appliesTo:["megacolony"],effects:[{target:"megacolony",multiplier:e=>a(1).add(e.mul(.35)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.15)),formatEffect:Le,category:"prestige"}]},{id:"megacolonyAdvanced",isCombo:!0,name:"Megacolony Optimization: Advanced",description:"Increases megacolony production by 70% and EP gain by 25% per level",baseCost:a(5e5),cost:a(5e5),costMultiplier:e=>a(e.cost).mul(a(1.8).pow(e.level)).pow(1.15),level:a(0),maxLevel:a(15),effect:e=>a(1).add(e.mul(.7)),formatEffect:Le,icon:"i-heroicons-building-office-2",position:{row:11,col:4},prerequisites:["megacolonyBegin"],isUnlocked:()=>!1,category:"production",appliesTo:["megacolony"],effects:[{target:"megacolony",multiplier:e=>a(1).add(e.mul(.7)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.25)),formatEffect:Le,category:"prestige"}]},{id:"megacolonyMaster",isCombo:!0,name:"Megacolony Optimization: Master",description:"Increases megacolony production by 140% and EP gain by 40% per level",baseCost:a(25e7),cost:a(25e7),costMultiplier:e=>a(e.cost).mul(a(2.2).pow(e.level)).pow(1.15),level:a(0),maxLevel:a(10),effect:e=>a(1).add(e.mul(1.4)),formatEffect:Le,icon:"i-heroicons-building-office-2",position:{row:12,col:4},prerequisites:["megacolonyAdvanced"],isUnlocked:()=>!1,category:"production",appliesTo:["megacolony"],effects:[{target:"megacolony",multiplier:e=>a(1).add(e.mul(1.4)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.4)),formatEffect:Le,category:"prestige"}]},{id:"hivemindBegin",isCombo:!0,name:"Hivemind Optimization: Begin",description:"Increases hivemind production by 40% and EP gain by 20% per level",baseCost:a(2e4),cost:a(2e4),costMultiplier:e=>a(e.cost).mul(a(1.5).pow(e.level)).pow(1.15),level:a(0),maxLevel:a(15),effect:e=>a(1).add(e.mul(.4)),formatEffect:Le,icon:"i-heroicons-cpu-chip",position:{row:10,col:5},prerequisites:[],isUnlocked:()=>!1,category:"production",appliesTo:["hivemind"],effects:[{target:"hivemind",multiplier:e=>a(1).add(e.mul(.4)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.2)),formatEffect:Le,category:"prestige"}]},{id:"hivemindAdvanced",isCombo:!0,name:"Hivemind Optimization: Advanced",description:"Increases hivemind production by 80% and EP gain by 35% per level",baseCost:a(2e6),cost:a(2e6),costMultiplier:e=>a(e.cost).mul(a(1.8).pow(e.level)).pow(1.15),level:a(0),maxLevel:a(15),effect:e=>a(1).add(e.mul(.8)),formatEffect:Le,icon:"i-heroicons-cpu-chip",position:{row:11,col:5},prerequisites:["hivemindBegin"],isUnlocked:()=>!1,category:"production",appliesTo:["hivemind"],effects:[{target:"hivemind",multiplier:e=>a(1).add(e.mul(.8)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.35)),formatEffect:Le,category:"prestige"}]},{id:"hivemindMaster",isCombo:!0,name:"Hivemind Optimization: Master",description:"Increases hivemind production by 160% and EP gain by 50% per level",baseCost:a(1e9),cost:a(1e9),costMultiplier:e=>a(e.cost).mul(a(2.2).pow(e.level)).pow(1.15),level:a(0),maxLevel:a(10),effect:e=>a(1).add(e.mul(1.6)),formatEffect:Le,icon:"i-heroicons-cpu-chip",position:{row:12,col:5},prerequisites:["hivemindAdvanced"],isUnlocked:()=>!1,category:"production",appliesTo:["hivemind"],effects:[{target:"hivemind",multiplier:e=>a(1).add(e.mul(1.6)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.5)),formatEffect:Le,category:"prestige"}]},{id:"antopolisBegin",isCombo:!0,name:"Antopolis Optimization: Begin",description:"Increases antopolis production by 45% and EP gain by 25% per level",baseCost:a(1e5),cost:a(1e5),costMultiplier:e=>a(e.cost).mul(a(1.5).pow(e.level)).pow(1.15),level:a(0),maxLevel:a(15),effect:e=>a(1).add(e.mul(.45)),formatEffect:Le,icon:"i-heroicons-building-library",position:{row:13,col:0},prerequisites:[],isUnlocked:()=>!1,category:"production",appliesTo:["antopolis"],effects:[{target:"antopolis",multiplier:e=>a(1).add(e.mul(.45)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.25)),formatEffect:Le,category:"prestige"}]},{id:"antopolisAdvanced",isCombo:!0,name:"Antopolis Optimization: Advanced",description:"Increases antopolis production by 90% and EP gain by 40% per level",baseCost:a(1e7),cost:a(1e7),costMultiplier:e=>a(e.cost).mul(a(1.8).pow(e.level)).pow(1.15),level:a(0),maxLevel:a(15),effect:e=>a(1).add(e.mul(.9)),formatEffect:Le,icon:"i-heroicons-building-library",position:{row:14,col:0},prerequisites:["antopolisBegin"],isUnlocked:()=>!1,category:"production",appliesTo:["antopolis"],effects:[{target:"antopolis",multiplier:e=>a(1).add(e.mul(.9)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.4)),formatEffect:Le,category:"prestige"}]},{id:"antopolisMaster",isCombo:!0,name:"Antopolis Optimization: Master",description:"Increases antopolis production by 180% and EP gain by 60% per level",baseCost:a(5e9),cost:a(5e9),costMultiplier:e=>a(e.cost).mul(a(2.2).pow(e.level)).pow(1.15),level:a(0),maxLevel:a(10),effect:e=>a(1).add(e.mul(1.8)),formatEffect:Le,icon:"i-heroicons-building-library",position:{row:15,col:0},prerequisites:["antopolisAdvanced"],isUnlocked:()=>!1,category:"production",appliesTo:["antopolis"],effects:[{target:"antopolis",multiplier:e=>a(1).add(e.mul(1.8)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.6)),formatEffect:Le,category:"prestige"}]},{id:"alateHatcheryBegin",isCombo:!0,name:"Alate Hatchery Optimization: Begin",description:"Increases alate hatchery production by 50% and EP gain by 30% per level",baseCost:a(5e5),cost:a(5e5),costMultiplier:e=>a(e.cost).mul(a(1.5).pow(e.level)).pow(1.15),level:a(0),maxLevel:a(15),effect:e=>a(1).add(e.mul(.5)),formatEffect:Le,icon:"i-heroicons-beaker",position:{row:13,col:1},prerequisites:[],isUnlocked:()=>!1,category:"production",appliesTo:["alateHatchery"],effects:[{target:"alateHatchery",multiplier:e=>a(1).add(e.mul(.5)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.3)),formatEffect:Le,category:"prestige"}]},{id:"alateHatcheryAdvanced",isCombo:!0,name:"Alate Hatchery Optimization: Advanced",description:"Increases alate hatchery production by 100% and EP gain by 50% per level",baseCost:a(5e7),cost:a(5e7),costMultiplier:e=>a(e.cost).mul(a(1.8).pow(e.level)).pow(1.15),level:a(0),maxLevel:a(15),effect:e=>a(1).add(e.mul(1)),formatEffect:Le,icon:"i-heroicons-beaker",position:{row:14,col:1},prerequisites:["alateHatcheryBegin"],isUnlocked:()=>!1,category:"production",appliesTo:["alateHatchery"],effects:[{target:"alateHatchery",multiplier:e=>a(1).add(e.mul(1)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.5)),formatEffect:Le,category:"prestige"}]},{id:"alateHatcheryMaster",isCombo:!0,name:"Alate Hatchery Optimization: Master",description:"Increases alate hatchery production by 200% and EP gain by 75% per level",baseCost:a(25e9),cost:a(25e9),costMultiplier:e=>a(e.cost).mul(a(2.2).pow(e.level)).pow(1.15),level:a(0),maxLevel:a(10),effect:e=>a(1).add(e.mul(2)),formatEffect:Le,icon:"i-heroicons-beaker",position:{row:15,col:1},prerequisites:["alateHatcheryAdvanced"],isUnlocked:()=>!1,category:"production",appliesTo:["alateHatchery"],effects:[{target:"alateHatchery",multiplier:e=>a(1).add(e.mul(2)),formatEffect:Le,category:"production"},{target:"ep",multiplier:e=>a(1).add(e.mul(.75)),formatEffect:Le,category:"prestige"}]}];return nC(t)},iC=()=>[{id:"workerCostDiscount",name:"Worker Cost Discount",description:"Reduces worker cost exponentially (1500^level)",baseCost:a(100),cost:a(100),costMultiplier:t=>a(t.cost).mul(a(1.4).pow(t.level)).pow(a(t.level.gt(0)?2:1)),level:a(0),maxLevel:a(25),effect:t=>a(1).div(a(1500).pow(t)),formatEffect:Jo,icon:"i-heroicons-user-group",isUnlocked:()=>!0,category:"cost",appliesTo:["worker"],position:{row:0,col:0}},{id:"nurseryCostDiscount",name:"Nursery Cost Discount",description:"Reduces nursery cost exponentially (8200^level)",baseCost:a(1e3),cost:a(1e3),costMultiplier:t=>a(t.cost).mul(a(1.4).pow(t.level)).pow(a(t.level.gt(0)?2:1)),level:a(0),maxLevel:a(25),effect:t=>a(1).div(a(8200).pow(t)),formatEffect:Jo,icon:"i-heroicons-user-group",isUnlocked:()=>!0,category:"cost",appliesTo:["nursery"],position:{row:0,col:1},prerequisites:["workerCostDiscount"]},{id:"queenChamberCostDiscount",name:"Queen Chamber Cost Discount",description:"Reduces queen chamber cost exponentially (1e6^level)",baseCost:a(1e4),cost:a(1e4),costMultiplier:t=>a(t.cost).mul(a(1.4).pow(t.level)).pow(a(t.level.gt(0)?2:1)),level:a(0),maxLevel:a(25),effect:t=>a(1).div(a(1e6).pow(t)),formatEffect:Jo,icon:"i-heroicons-user-group",isUnlocked:()=>!0,category:"cost",appliesTo:["queenChamber"],position:{row:0,col:2},prerequisites:["nurseryCostDiscount"]},{id:"colonyCostDiscount",name:"Colony Cost Discount",description:"Reduces colony cost exponentially (1e8^level)",baseCost:a(1e5),cost:a(1e5),costMultiplier:t=>a(t.cost).mul(a(1.4).pow(t.level)).pow(a(t.level.gt(0)?2:1)),level:a(0),maxLevel:a(25),effect:t=>a(1).div(a(1e8).pow(t)),formatEffect:Jo,icon:"i-heroicons-building-storefront",isUnlocked:()=>!0,category:"cost",appliesTo:["colony"],position:{row:0,col:3},prerequisites:["queenChamberCostDiscount"]},{id:"megacolonyCostDiscount",name:"Mega Colony Cost Discount",description:"Reduces mega colony cost exponentially (1e10^level)",baseCost:a(1e6),cost:a(1e6),costMultiplier:t=>a(t.cost).mul(a(1.4).pow(t.level)).pow(a(t.level.gt(0)?2:1)),level:a(0),maxLevel:a(25),effect:t=>a(1).div(a(1e10).pow(t)),formatEffect:Jo,icon:"i-heroicons-building-office-2",isUnlocked:()=>!0,category:"cost",appliesTo:["megacolony"],position:{row:1,col:0},prerequisites:["colonyCostDiscount"]},{id:"hivemindCostDiscount",name:"Hive Mind Cost Discount",description:"Reduces hive mind cost exponentially (1e12^level)",baseCost:a(1e7),cost:a(1e7),costMultiplier:t=>a(t.cost).mul(a(1.4).pow(t.level)).pow(a(t.level.gt(0)?2:1)),level:a(0),maxLevel:a(25),effect:t=>a(1).div(a(1e12).pow(t)),formatEffect:Jo,icon:"i-heroicons-cpu-chip",isUnlocked:()=>!0,category:"cost",appliesTo:["hivemind"],position:{row:1,col:1},prerequisites:["megacolonyCostDiscount"]},{id:"antopolisCostDiscount",name:"Antopolis Cost Discount",description:"Reduces antopolis cost exponentially (1e15^level)",baseCost:a(1e8),cost:a(1e8),costMultiplier:t=>a(t.cost).mul(a(1.4).pow(t.level)).pow(a(t.level.gt(0)?2:1)),level:a(0),maxLevel:a(25),effect:t=>a(1).div(a(1e15).pow(t)),formatEffect:Jo,icon:"i-heroicons-building-library",isUnlocked:()=>!0,category:"cost",appliesTo:["antopolis"],position:{row:1,col:2},prerequisites:["hivemindCostDiscount"]},{id:"alateHatcheryCostDiscount",name:"Alate Hatchery Cost Discount",description:"Reduces alate hatchery cost exponentially (1e16^level)",baseCost:a(1e9),cost:a(1e9),costMultiplier:t=>a(t.cost).mul(a(1.4).pow(t.level)).pow(a(t.level.gt(0)?2:1)),level:a(0),maxLevel:a(25),effect:t=>a(1).div(a(1e16).pow(t)),formatEffect:Jo,icon:"i-heroicons-building-library",isUnlocked:()=>!0,category:"cost",appliesTo:["alateHatchery"],position:{row:1,col:3},prerequisites:["antopolisCostDiscount"]}],lC=()=>[{id:"unlockMegacolony",name:"Mega Colony",description:"Unlocks the Mega Colony generator",baseCost:a(1e3),cost:a(1e3),level:a(0),maxLevel:a(1),effect:t=>a(t),formatEffect:Rt,icon:"i-heroicons-building-office-2",isUnlocked:()=>!0,category:"research",appliesTo:["global"],position:{row:0,col:0}},{id:"unlockHivemind",name:"Hive Mind",description:"Unlocks the Hive Mind generator",baseCost:a(1e9),cost:a(1e9),level:a(0),maxLevel:a(1),effect:t=>a(t),formatEffect:Rt,icon:"i-heroicons-cpu-chip",isUnlocked:()=>!1,category:"research",appliesTo:["global"],position:{row:1,col:0},prerequisites:["unlockMegacolony"]},{id:"unlockAntopolis",name:"Antopolis",description:"Unlocks the Antopolis generator",baseCost:a(1e12),cost:a(1e12),level:a(0),maxLevel:a(1),effect:t=>a(t),formatEffect:Rt,icon:"i-heroicons-building-library",isUnlocked:()=>!1,category:"research",appliesTo:["global"],position:{row:2,col:0},prerequisites:["unlockHivemind"]},{id:"unlockAlateHatchery",name:"Alate Hatchery",description:"Unlocks the Alate Hatchery generator",baseCost:a(1e13),cost:a(1e13),level:a(0),maxLevel:a(1),effect:t=>a(t),formatEffect:Rt,icon:"i-heroicons-building-library",isUnlocked:()=>!1,category:"research",appliesTo:["global"],position:{row:3,col:0},prerequisites:["unlockAntopolis"]},{id:"unlockAdventure",name:"Adventure Mode",description:"Unlock Adventure mode and the Inventory system",baseCost:a(50),cost:a(50),level:a(0),maxLevel:a(1),effect:t=>a(t),formatEffect:Rt,icon:"i-heroicons-bolt",isUnlocked:()=>!0,category:"research",appliesTo:["global"],position:{row:0,col:1}},{id:"unlockQuests",name:"Quests",description:"Unlock Quests",baseCost:a(1e3),cost:a(1e3),level:a(0),maxLevel:a(1),effect:t=>a(t),formatEffect:Rt,icon:"i-heroicons-question-mark-circle",isUnlocked:()=>!0,category:"research",appliesTo:["global"],position:{row:1,col:1},prerequisites:["unlockAdventure"]},{id:"unlockBossChallenges",name:"Boss Challenges",description:"Unlock sequential boss challenges with unique rewards",baseCost:a(5e4),cost:a(5e4),level:a(0),maxLevel:a(1),effect:t=>a(t),formatEffect:Rt,icon:"i-heroicons-trophy",isUnlocked:()=>!0,category:"research",appliesTo:["global"],position:{row:2,col:1},prerequisites:["unlockQuests"]}],cC=()=>[{id:"cycleTimeReduction",name:"Time Manipulation",description:"Decreases cycle time by 0.15 seconds per level",baseCost:a(50),cost:a(50),costMultiplier:t=>a(t.cost).mul(a(1.5).pow(t.level)),level:a(0),maxLevel:a(20),effect:t=>a(.15).mul(t),formatEffect:hu,icon:"i-heroicons-clock-solid",isUnlocked:()=>!0,category:"efficiency",appliesTo:["global"],position:{row:0,col:0}},{id:"cycleTimeReductionAdvanced",name:"Advanced Time Manipulation",description:"Decreases cycle time by 0.25 seconds per level",baseCost:a(1e12),cost:a(1e12),costMultiplier:t=>a(t.cost).mul(a(1.5).pow(t.level)),level:a(0),maxLevel:a(10),effect:t=>a(.25).mul(t),formatEffect:hu,icon:"i-heroicons-clock-solid",isUnlocked:()=>!1,category:"efficiency",appliesTo:["global"],position:{row:1,col:0},prerequisites:["cycleTimeReduction"]},{id:"cycleTimeReductionMaster",name:"Master Time Manipulation",description:"Decreases cycle time by 0.35 seconds per level",baseCost:a(1e18),cost:a(1e18),costMultiplier:t=>a(t.cost).mul(a(1.5).pow(t.level)),level:a(0),maxLevel:a(5),effect:t=>a(.35).mul(t),formatEffect:hu,icon:"i-heroicons-clock-solid",isUnlocked:()=>!1,category:"efficiency",appliesTo:["global"],position:{row:2,col:0},prerequisites:["cycleTimeReductionAdvanced"]},{id:"cycleFoodReduction",name:"Cycle Food Reduction",description:"Reduces the food required for each cycle by 5% per level (max 75%)",baseCost:a(50),cost:a(50),costMultiplier:t=>a(t.cost).mul(a(2).pow(t.level)),level:a(0),maxLevel:a(15),effect:t=>a(1).sub(t.mul(.05).min(.75)),formatEffect:Hr,icon:"i-heroicons-arrow-down-circle",isUnlocked:()=>!0,category:"efficiency",appliesTo:["global"],position:{row:0,col:1}},{id:"cycleTripReduction",name:"Trip Reduction",description:"Reduces the number of required trips per cycle by 5 per level",baseCost:a(100),cost:a(100),costMultiplier:t=>a(t.cost).mul(a(3).pow(t.level.mul(1.2))),level:a(0),maxLevel:a(10),effect:t=>a(5).mul(t),formatEffect:bu,icon:"i-heroicons-arrow-down-circle",isUnlocked:()=>!0,category:"efficiency",appliesTo:["cycle_trips"],position:{row:1,col:1},prerequisites:["cycleFoodReduction"]},{id:"advancedCycleTripReduction",name:"Advanced Trip Reduction",description:"Reduces the number of required trips per cycle by 10 per level and increases EP gain by 10% per level",baseCost:a(5e3),cost:a(5e3),costMultiplier:t=>a(t.cost).mul(a(4).pow(t.level)).mul(a(1.5).pow(t.level.pow(1.5))),level:a(0),maxLevel:a(8),effect:t=>a(10).mul(t),formatEffect:bu,icon:"i-heroicons-arrow-down-circle",isUnlocked:()=>!0,category:"efficiency",appliesTo:["cycle_trips","ep"],isCombo:!0,position:{row:2,col:1},prerequisites:["cycleTripReduction"],effects:[{target:"cycle_trips",multiplier:t=>a(10).mul(t),formatEffect:bu,category:"efficiency"},{target:"ep",multiplier:t=>a(1).add(t.mul(.1)),formatEffect:Le,category:"prestige"}]},{id:"generatorUpgradeCostReduction",name:"Generator Upgrade Efficiency",description:"Reduces the cost scaling of generator upgrades by 2% per level (max 40%)",baseCost:a(1e6),cost:a(1e6),costMultiplier:t=>a(t.cost).mul(a(2.5).pow(t.level)),level:a(0),maxLevel:a(20),effect:t=>a(1).sub(t.mul(.02).min(.4)),formatEffect:Hr,icon:"i-heroicons-currency-dollar-solid",isUnlocked:()=>!0,category:"efficiency",appliesTo:["generator_upgrade_cost"],position:{row:0,col:2}}],dC=()=>[{id:"autoWorker",name:"Worker Automation",description:"Automatically purchases Worker Ants each tick. Each level increases purchases per tick.",baseCost:a(5),cost:a(5),costMultiplier:t=>a(t.cost).mul(a(1.3).pow(t.level)),level:a(0),maxLevel:a(25),effect:t=>t,formatEffect:Do,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!0,category:"automation",appliesTo:["worker","global"],position:{row:0,col:0},prerequisites:[]},{id:"autoNursery",name:"Nursery Automation",description:"Automatically purchases Nurseries each tick. Each level increases purchases per tick.",baseCost:a(15),cost:a(15),costMultiplier:t=>a(t.cost).mul(a(1.35).pow(t.level)),level:a(0),maxLevel:a(25),effect:t=>t,formatEffect:Do,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!0,category:"automation",appliesTo:["nursery","global"],position:{row:1,col:0},prerequisites:["autoWorker"]},{id:"autoQueenChamber",name:"Queen Chamber Automation",description:"Automatically purchases Queen Chambers each tick. Each level increases purchases per tick.",baseCost:a(500),cost:a(500),costMultiplier:t=>a(t.cost).mul(a(1.4).pow(t.level)),level:a(0),maxLevel:a(25),effect:t=>t,formatEffect:Do,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!0,category:"automation",appliesTo:["queenChamber","global"],position:{row:2,col:0},prerequisites:["autoNursery"]},{id:"autoColony",name:"Colony Automation",description:"Automatically purchases Colonies each tick. Each level increases purchases per tick.",baseCost:a(2e5),cost:a(2e5),costMultiplier:t=>a(t.cost).mul(a(1.45).pow(t.level)),level:a(0),maxLevel:a(25),effect:t=>t,formatEffect:Do,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!0,category:"automation",appliesTo:["colony","global"],position:{row:3,col:0},prerequisites:["autoQueenChamber"]},{id:"autoMegacolony",name:"Mega Colony Automation",description:"Automatically purchases Mega Colonies each tick. Each level increases purchases per tick.",baseCost:a(2e7),cost:a(2e7),costMultiplier:t=>a(t.cost).mul(a(1.5).pow(t.level)),level:a(0),maxLevel:a(25),effect:t=>t,formatEffect:Do,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!1,category:"automation",appliesTo:["megacolony","global"],position:{row:4,col:0},prerequisites:["autoColony"]},{id:"autoHivemind",name:"Hive Mind Automation",description:"Automatically purchases Hive Minds each tick. Each level increases purchases per tick.",baseCost:a(2e8),cost:a(2e8),costMultiplier:t=>a(t.cost).mul(a(1.55).pow(t.level)),level:a(0),maxLevel:a(25),effect:t=>t,formatEffect:Do,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!1,category:"automation",appliesTo:["hivemind","global"],position:{row:5,col:0},prerequisites:["autoMegacolony"]},{id:"autoAntopolis",name:"Antopolis Automation",description:"Automatically purchases Antopolis each tick. Each level increases purchases per tick.",baseCost:a(2e9),cost:a(2e9),costMultiplier:t=>a(t.cost).mul(a(1.6).pow(t.level)),level:a(0),maxLevel:a(25),effect:t=>t,formatEffect:Do,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!1,category:"automation",appliesTo:["antopolis","global"],position:{row:6,col:0},prerequisites:["autoHivemind"]},{id:"autoAlateHatchery",name:"Alate Hatchery Automation",description:"Automatically purchases Alate Hatcheries each tick. Each level increases purchases per tick.",baseCost:a(2e8),cost:a(2e8),costMultiplier:t=>a(t.cost).mul(a(1.65).pow(t.level)),level:a(0),maxLevel:a(25),effect:t=>t,formatEffect:Do,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!1,category:"automation",appliesTo:["alateHatchery"],position:{row:7,col:1},prerequisites:["autoColony"]},{id:"bulkAutomation",name:"Bulk Automation",description:"Multiplies the effectiveness of all automation upgrades",baseCost:a(50),cost:a(50),costMultiplier:t=>a(t.cost).mul(a(2).pow(t.level)),level:a(0),maxLevel:a(10),effect:t=>a(1).add(t.mul(4)),formatEffect:It,icon:"i-heroicons-bolt",isUnlocked:()=>!0,category:"automation",appliesTo:["global"],position:{row:0,col:2},prerequisites:["autoWorker"]},{id:"unlockAutoQuestAdvance",name:"Quest Hunter Automation",description:"Enables automatic targeting of the best bug for your active quest in adventure mode",baseCost:a(25e3),cost:a(25e3),level:a(0),maxLevel:a(1),effect:t=>a(t),formatEffect:Rt,icon:"i-heroicons-clipboard-document-check",isUnlocked:()=>!0,category:"automation",appliesTo:["global"],position:{row:0,col:3},prerequisites:[]},{id:"unlockAutoSalvage",name:"Auto Salvage",description:"Automatically salvage filtered items for Pheromone Essence",baseCost:a(200),cost:a(200),level:a(0),maxLevel:a(1),effect:t=>a(t),formatEffect:Rt,icon:"i-heroicons-beaker",isUnlocked:()=>!0,category:"automation",appliesTo:["global"],position:{row:0,col:4},prerequisites:[]},{id:"unlockSalvageAll",name:"Mass Salvaging",description:"Unlock the ability to salvage all unlocked and unequipped items at once",baseCost:a(1e5),cost:a(1e5),level:a(0),maxLevel:a(1),effect:t=>a(t),formatEffect:Rt,icon:"i-heroicons-trash",isUnlocked:()=>!0,category:"automation",appliesTo:["global"],position:{row:1,col:4},prerequisites:["unlockAutoSalvage"]},{id:"unlockColonyRush",name:"Colony Rush",description:"Unlock the Colony Rush ability, allowing you to skip ahead 30 seconds of production time. Limited to 50 uses per day with a cooldown period between uses.",baseCost:a(75),cost:a(75),level:a(0),maxLevel:a(1),effect:t=>a(t),formatEffect:Rt,icon:"i-heroicons-bolt",isUnlocked:()=>!0,category:"automation",appliesTo:["global"],position:{row:0,col:5},prerequisites:[]},{id:"rushCooldownReduction",name:"Rush Efficiency",description:"Reduces the cooldown between Colony Rushes by 2 foraging trips per level.",baseCost:a(100),cost:a(100),costMultiplier:t=>a(t.cost).mul(a(1.5).pow(t.level)),level:a(0),maxLevel:a(20),effect:t=>t.mul(2),formatEffect:t=>`${t.toNumber()} foraging trips less cooldown`,icon:"i-heroicons-clock",isUnlocked:()=>!1,category:"automation",appliesTo:["global"],position:{row:1,col:5},prerequisites:["unlockColonyRush"]},{id:"rushDurationIncrease",name:"Extended Rush",description:"Increases Colony Rush duration by 10 seconds per level.",baseCost:a(150),cost:a(150),costMultiplier:t=>a(t.cost).mul(a(1.75).pow(t.level)),level:a(0),maxLevel:a(18),effect:t=>t.mul(10),formatEffect:t=>`+${t.toNumber()} seconds duration`,icon:"i-heroicons-hourglass",isUnlocked:()=>!1,category:"automation",appliesTo:["global"],position:{row:1,col:6},prerequisites:["rushCooldownReduction"]},{id:"rushMaxPerDay",name:"Rush Capacity",description:"Increases maximum Colony Rushes per day by 2 per level.",baseCost:a(125),cost:a(125),costMultiplier:t=>a(t.cost).mul(a(1.6).pow(t.level)),level:a(0),maxLevel:a(25),effect:t=>t.mul(2),formatEffect:t=>`+${t.toNumber()} max rushes per day`,icon:"i-heroicons-battery-100",isUnlocked:()=>!1,category:"automation",appliesTo:["global"],position:{row:2,col:5},prerequisites:["rushCooldownReduction"]},{id:"unlockMegaAnt",name:"Mega Ant Evolution",description:"Unlock the Mega Ant laboratory, allowing you to evolve your colony with powerful mutations.",baseCost:a(1e8),cost:a(1e8),level:a(0),maxLevel:a(1),effect:t=>a(t),formatEffect:Rt,icon:"i-heroicons-bug-ant",isUnlocked:()=>!0,category:"automation",appliesTo:["global"],position:{row:4,col:2},prerequisites:["autoMegacolony"]},{id:"unlockAutoFeed",name:"Mega Ant Auto Feed",description:"Enables automatic feeding of food and pheromone essence to the Mega Ant when digestive systems are empty.",baseCost:a(5e7),cost:a(5e7),level:a(0),maxLevel:a(1),effect:t=>a(t),formatEffect:Rt,icon:"i-heroicons-arrow-path-rounded-square",isUnlocked:()=>!1,category:"automation",appliesTo:["global"],position:{row:5,col:2},prerequisites:["unlockMegaAnt"]},{id:"autoUpgradeWorker",name:"Worker Auto Specialization",description:"Enables automatic upgrading of Worker Ant specializations based on available points, from cheapest to most expensive.",baseCost:a(150),cost:a(150),level:a(0),maxLevel:a(1),effect:t=>a(t),formatEffect:Rt,icon:"i-heroicons-arrow-path-rounded-square",isUnlocked:()=>!0,category:"automation",appliesTo:["worker"],position:{row:0,col:1},prerequisites:["autoWorker"]},{id:"autoUpgradeNursery",name:"Nursery Auto Specialization",description:"Enables automatic upgrading of Nursery specializations based on available points, from cheapest to most expensive.",baseCost:a(1500),cost:a(1500),level:a(0),maxLevel:a(1),effect:t=>a(t),formatEffect:Rt,icon:"i-heroicons-arrow-path-rounded-square",isUnlocked:()=>!0,category:"automation",appliesTo:["nursery"],position:{row:1,col:1},prerequisites:["autoNursery"]},{id:"autoUpgradeQueenChamber",name:"Queen Chamber Auto Specialization",description:"Enables automatic upgrading of Queen Chamber specializations based on available points, from cheapest to most expensive.",baseCost:a(15e3),cost:a(15e3),level:a(0),maxLevel:a(1),effect:t=>a(t),formatEffect:Rt,icon:"i-heroicons-arrow-path-rounded-square",isUnlocked:()=>!0,category:"automation",appliesTo:["queenChamber"],position:{row:2,col:1},prerequisites:["autoQueenChamber"]},{id:"autoUpgradeColony",name:"Colony Auto Specialization",description:"Enables automatic upgrading of Colony specializations based on available points, from cheapest to most expensive.",baseCost:a(15e4),cost:a(15e4),level:a(0),maxLevel:a(1),effect:t=>a(t),formatEffect:Rt,icon:"i-heroicons-arrow-path-rounded-square",isUnlocked:()=>!0,category:"automation",appliesTo:["colony"],position:{row:3,col:1},prerequisites:["autoColony"]},{id:"autoUpgradeMegacolony",name:"Mega Colony Auto Specialization",description:"Enables automatic upgrading of Mega Colony specializations based on available points, from cheapest to most expensive.",baseCost:a(15e5),cost:a(15e5),level:a(0),maxLevel:a(1),effect:t=>a(t),formatEffect:Rt,icon:"i-heroicons-arrow-path-rounded-square",isUnlocked:()=>!1,category:"automation",appliesTo:["megacolony"],position:{row:4,col:1},prerequisites:["autoMegacolony"]},{id:"autoUpgradeHivemind",name:"Hive Mind Auto Specialization",description:"Enables automatic upgrading of Hive Mind specializations based on available points, from cheapest to most expensive.",baseCost:a(15e6),cost:a(15e6),level:a(0),maxLevel:a(1),effect:t=>a(t),formatEffect:Rt,icon:"i-heroicons-arrow-path-rounded-square",isUnlocked:()=>!1,category:"automation",appliesTo:["hivemind"],position:{row:5,col:1},prerequisites:["autoHivemind"]},{id:"autoUpgradeAntopolis",name:"Antopolis Auto Specialization",description:"Enables automatic upgrading of Antopolis specializations based on available points, from cheapest to most expensive.",baseCost:a(15e7),cost:a(15e7),level:a(0),maxLevel:a(1),effect:t=>a(t),formatEffect:Rt,icon:"i-heroicons-arrow-path-rounded-square",isUnlocked:()=>!1,category:"automation",appliesTo:["antopolis"],position:{row:6,col:1},prerequisites:["autoAntopolis"]},{id:"unlockQueueAll",name:"Mass Quest Queueing",description:"Enables queueing multiple quests at once with a single click",baseCost:a(1e5),cost:a(1e5),level:a(0),maxLevel:a(1),effect:t=>a(t),formatEffect:Rt,icon:"i-heroicons-queue-list",isUnlocked:()=>!1,category:"automation",appliesTo:["global"],position:{row:1,col:3},prerequisites:["unlockAutoQuestAdvance"]},{id:"autoUpgradeAlateHatchery",name:"Alate Hatchery Auto Specialization",description:"Enables automatic upgrading of Alate Hatchery specializations based on available points, from cheapest to most expensive.",baseCost:a(1e10),cost:a(1e10),level:a(0),maxLevel:a(1),effect:t=>a(t),formatEffect:Rt,icon:"i-heroicons-arrow-path-rounded-square",isUnlocked:()=>!1,category:"automation",appliesTo:["alateHatchery"],position:{row:7,col:2},prerequisites:["autoAlateHatchery"]},{id:"autoEvolve",name:"Automated Evolution",description:"Automatically perform Evolution when the required cycles are met. Can be toggled in settings.",baseCost:a(1e18),cost:a(1e18),level:a(0),maxLevel:a(1),effect:t=>a(t),formatEffect:Rt,icon:"i-heroicons-arrow-path-rounded-square",isUnlocked:()=>!0,category:"automation",appliesTo:["global"],position:{row:6,col:2},prerequisites:["unlockMegaAnt"]}],uC=()=>[{id:"generatorSynergy",name:"Generator Synergy",description:"Each generator type boosts all others by 2% per level",baseCost:a(100),cost:a(100),costMultiplier:t=>a(t.cost).mul(a(3).pow(t.level)),level:a(0),maxLevel:a(5),effect:t=>a(1).add(t.mul(.02)),formatEffect:Le,icon:"i-heroicons-puzzle-piece",isUnlocked:()=>!0,category:"synergy",appliesTo:["global"],position:{row:0,col:0},synergyConfig:{countSource:t=>a(t.generatorStore.generators.filter(e=>e.unlocked||e.purchasable).length),percentBoostPerItem:.02}},{id:"evolutionSynergy",name:"Evolution Synergy",description:"Each evolution completed boosts production by 1% per level",baseCost:a(200),cost:a(200),costMultiplier:t=>a(t.cost).mul(a(3).pow(t.level)),level:a(0),maxLevel:a(5),effect:t=>a(1).add(t.mul(.01)),formatEffect:Le,icon:"i-heroicons-arrow-path",isUnlocked:()=>!0,category:"synergy",appliesTo:["global"],position:{row:0,col:1},synergyConfig:{countSource:t=>t.evolutionCount,percentBoostPerItem:.01}},{id:"honeyDewSynergy",name:"Honey Dew Synergy",description:"Each upgraded field boosts production by 0.25% per level",baseCost:a(300),cost:a(300),costMultiplier:t=>a(t.cost).mul(a(3).pow(t.level)),level:a(0),maxLevel:a(5),effect:t=>a(1).add(t.mul(.0025)),formatEffect:Le,icon:"i-heroicons-arrow-path",isUnlocked:()=>!0,category:"synergy",appliesTo:["global"],position:{row:0,col:2},synergyConfig:{countSource:t=>{const e=t.aphidFarmStore;if(!e||!e.fields||e.fields.length===0)return a(0);const s=e.fields.reduce((o,n)=>o+Math.max(0,n.level-1),0);return a(s)},percentBoostPerItem:.0025}},{id:"workerManualBoughtSynergy",name:"Worker Synergy",description:"Each worker ant manually bought boosts worker ant production by 1% per level",baseCost:a(400),cost:a(400),costMultiplier:t=>a(t.cost).mul(a(3).pow(t.level)),level:a(0),maxLevel:a(10),effect:t=>a(1).add(t.mul(.01)),formatEffect:Le,icon:"i-heroicons-bug-ant",isUnlocked:()=>!0,category:"synergy",appliesTo:["worker"],position:{row:1,col:0},prerequisites:["generatorSynergy"],synergyConfig:{countSource:t=>{const e=t.generatorStore.getGenerator("worker");return e?e.manualPurchases:a(0)},percentBoostPerItem:.01}},{id:"nurseryManualBoughtSynergy",name:"Nursery Synergy",description:"Each nursery manually bought boosts nursery production by 2% per level",baseCost:a(600),cost:a(600),costMultiplier:t=>a(t.cost).mul(a(3).pow(t.level)),level:a(0),maxLevel:a(10),effect:t=>a(1).add(t.mul(.02)),formatEffect:Le,icon:"i-heroicons-home-modern",isUnlocked:()=>!0,category:"synergy",appliesTo:["nursery"],position:{row:2,col:0},prerequisites:["workerManualBoughtSynergy"],synergyConfig:{countSource:t=>{const e=t.generatorStore.getGenerator("nursery");return e?e.manualPurchases:a(0)},percentBoostPerItem:.02}},{id:"queenChamberManualBoughtSynergy",name:"Queen Chamber Synergy",description:"Each queen chamber manually bought boosts queen chamber production by 3% per level",baseCost:a(800),cost:a(800),costMultiplier:t=>a(t.cost).mul(a(3).pow(t.level)),level:a(0),maxLevel:a(10),effect:t=>a(1).add(t.mul(.03)),formatEffect:Le,icon:"i-heroicons-crown",isUnlocked:()=>!0,category:"synergy",appliesTo:["queenChamber"],position:{row:3,col:0},prerequisites:["nurseryManualBoughtSynergy"],synergyConfig:{countSource:t=>{const e=t.generatorStore.getGenerator("queenChamber");return e?e.manualPurchases:a(0)},percentBoostPerItem:.03}},{id:"colonyManualBoughtSynergy",name:"Colony Synergy",description:"Each colony manually bought boosts colony production by 4% per level",baseCost:a(1200),cost:a(1200),costMultiplier:t=>a(t.cost).mul(a(3).pow(t.level)),level:a(0),maxLevel:a(10),effect:t=>a(1).add(t.mul(.04)),formatEffect:Le,icon:"i-heroicons-building-storefront",isUnlocked:()=>!0,category:"synergy",appliesTo:["colony"],position:{row:4,col:0},prerequisites:["queenChamberManualBoughtSynergy"],synergyConfig:{countSource:t=>{const e=t.generatorStore.getGenerator("colony");return e?e.manualPurchases:a(0)},percentBoostPerItem:.04}},{id:"megacolonyManualBoughtSynergy",name:"Mega Colony Synergy",description:"Each mega colony manually bought boosts mega colony production by 5% per level",baseCost:a(2e3),cost:a(2e3),costMultiplier:t=>a(t.cost).mul(a(3).pow(t.level)),level:a(0),maxLevel:a(10),effect:t=>a(1).add(t.mul(.05)),formatEffect:Le,icon:"i-heroicons-building-office-2",isUnlocked:()=>!0,category:"synergy",appliesTo:["megacolony"],position:{row:5,col:0},prerequisites:["colonyManualBoughtSynergy"],synergyConfig:{countSource:t=>{const e=t.generatorStore.getGenerator("megacolony");return e?e.manualPurchases:a(0)},percentBoostPerItem:.05}},{id:"hivemindManualBoughtSynergy",name:"Hive Mind Synergy",description:"Each hive mind manually bought boosts hive mind production by 7% per level",baseCost:a(3e3),cost:a(3e3),costMultiplier:t=>a(t.cost).mul(a(3).pow(t.level)),level:a(0),maxLevel:a(10),effect:t=>a(1).add(t.mul(.07)),formatEffect:Le,icon:"i-heroicons-cpu-chip",isUnlocked:()=>!0,category:"synergy",appliesTo:["hivemind"],position:{row:6,col:0},prerequisites:["megacolonyManualBoughtSynergy"],synergyConfig:{countSource:t=>{const e=t.generatorStore.getGenerator("hivemind");return e?e.manualPurchases:a(0)},percentBoostPerItem:.07}},{id:"antopolisManualBoughtSynergy",name:"Antopolis Synergy",description:"Each antopolis manually bought boosts antopolis production by 10% per level",baseCost:a(5e3),cost:a(5e3),costMultiplier:t=>a(t.cost).mul(a(3).pow(t.level)),level:a(0),maxLevel:a(10),effect:t=>a(1).add(t.mul(.1)),formatEffect:Le,icon:"i-heroicons-building-library",isUnlocked:()=>!0,category:"synergy",appliesTo:["antopolis"],position:{row:7,col:0},prerequisites:["hivemindManualBoughtSynergy"],synergyConfig:{countSource:t=>{const e=t.generatorStore.getGenerator("antopolis");return e?e.manualPurchases:a(0)},percentBoostPerItem:.1}},{id:"alateHatcheryManualBoughtSynergy",name:"Alate Hatchery Synergy",description:"Each alate hatchery manually bought boosts alate hatchery production by 15% per level",baseCost:a(8e3),cost:a(8e3),costMultiplier:t=>a(t.cost).mul(a(3).pow(t.level)),level:a(0),maxLevel:a(10),effect:t=>a(1).add(t.mul(.15)),formatEffect:Le,icon:"i-heroicons-building-library",isUnlocked:()=>!0,category:"synergy",appliesTo:["alateHatchery"],position:{row:8,col:0},prerequisites:["antopolisManualBoughtSynergy"],synergyConfig:{countSource:t=>{const e=t.generatorStore.getGenerator("alateHatchery");return e?e.manualPurchases:a(0)},percentBoostPerItem:.15}},{id:"safeKillWorkerSynergy",name:"Training Bug Worker Synergy",description:"Each 1000 Training Bugs killed boosts worker ant production by 0.1% per level",baseCost:a(500),cost:a(500),costMultiplier:t=>a(t.cost).mul(a(4).pow(t.level)),level:a(0),maxLevel:a(10),effect:t=>a(1).add(t.mul(.001)),formatEffect:Le,icon:"i-heroicons-bug-ant",isUnlocked:()=>!0,category:"synergy",appliesTo:["worker"],position:{row:1,col:3},prerequisites:["generatorSynergy"],synergyConfig:{countSource:t=>{const e=t.bossStore.getBugKillCount("safe");return a(Math.floor(e/1e3))},percentBoostPerItem:.001}},{id:"workerKillNurserySynergy",name:"Worker Ant Nursery Synergy",description:"Each 1000 Worker Ants killed boosts nursery production by 0.2% per level",baseCost:a(800),cost:a(800),costMultiplier:t=>a(t.cost).mul(a(4).pow(t.level)),level:a(0),maxLevel:a(10),effect:t=>a(1).add(t.mul(.002)),formatEffect:Le,icon:"i-heroicons-home-modern",isUnlocked:()=>!0,category:"synergy",appliesTo:["nursery"],position:{row:2,col:3},prerequisites:["generatorSynergy"],synergyConfig:{countSource:t=>{const e=t.bossStore.getBugKillCount("worker");return a(Math.floor(e/1e3))},percentBoostPerItem:.002}},{id:"soldierKillQueenChamberSynergy",name:"Soldier Ant Queen Chamber Synergy",description:"Each 1000 Soldier Ants killed boosts queen chamber production by 0.4% per level",baseCost:a(1e3),cost:a(1e3),costMultiplier:t=>a(t.cost).mul(a(4).pow(t.level)),level:a(0),maxLevel:a(10),effect:t=>a(1).add(t.mul(.004)),formatEffect:Le,icon:"i-heroicons-crown",isUnlocked:()=>!0,category:"synergy",appliesTo:["queenChamber"],position:{row:3,col:3},prerequisites:["generatorSynergy"],synergyConfig:{countSource:t=>{const e=t.bossStore.getBugKillCount("soldier");return a(Math.floor(e/1e3))},percentBoostPerItem:.004}},{id:"beetleKillColonySynergy",name:"Beetle Colony Synergy",description:"Each 1000 Beetles killed boosts colony production by 0.8% per level",baseCost:a(1500),cost:a(1500),costMultiplier:t=>a(t.cost).mul(a(4).pow(t.level)),level:a(0),maxLevel:a(10),effect:t=>a(1).add(t.mul(.008)),formatEffect:Le,icon:"i-heroicons-building-storefront",isUnlocked:()=>!0,category:"synergy",appliesTo:["colony"],position:{row:4,col:3},prerequisites:["generatorSynergy"],synergyConfig:{countSource:t=>{const e=t.bossStore.getBugKillCount("beetle");return a(Math.floor(e/1e3))},percentBoostPerItem:.008}},{id:"scorpionKillMegacolonySynergy",name:"Scorpion Mega Colony Synergy",description:"Each 1000 Scorpions killed boosts mega colony production by 1.6% per level",baseCost:a(2500),cost:a(2500),costMultiplier:t=>a(t.cost).mul(a(4).pow(t.level)),level:a(0),maxLevel:a(10),effect:t=>a(1).add(t.mul(.016)),formatEffect:Le,icon:"i-heroicons-building-office-2",isUnlocked:()=>!0,category:"synergy",appliesTo:["megacolony"],position:{row:5,col:3},prerequisites:["generatorSynergy"],synergyConfig:{countSource:t=>{const e=t.bossStore.getBugKillCount("scorpion");return a(Math.floor(e/1e3))},percentBoostPerItem:.016}},{id:"tarantulaKillHivemindSynergy",name:"Tarantula Hive Mind Synergy",description:"Each 1000 Tarantulas killed boosts hive mind production by 3.2% per level",baseCost:a(4e3),cost:a(4e3),costMultiplier:t=>a(t.cost).mul(a(4).pow(t.level)),level:a(0),maxLevel:a(10),effect:t=>a(1).add(t.mul(.032)),formatEffect:Le,icon:"i-heroicons-cpu-chip",isUnlocked:()=>!0,category:"synergy",appliesTo:["hivemind"],position:{row:6,col:3},prerequisites:["generatorSynergy"],synergyConfig:{countSource:t=>{const e=t.bossStore.getBugKillCount("tarantula");return a(Math.floor(e/1e3))},percentBoostPerItem:.032}},{id:"ultraBeetleKillAntopolisSynergy",name:"Ultra Beetle Antopolis Synergy",description:"Each 1000 Ultra Beetles killed boosts antopolis production by 6.4% per level",baseCost:a(6e3),cost:a(6e3),costMultiplier:t=>a(t.cost).mul(a(4).pow(t.level)),level:a(0),maxLevel:a(10),effect:t=>a(1).add(t.mul(.064)),formatEffect:Le,icon:"i-heroicons-building-library",isUnlocked:()=>!0,category:"synergy",appliesTo:["antopolis"],position:{row:7,col:3},prerequisites:["generatorSynergy"],synergyConfig:{countSource:t=>{const e=t.bossStore.getBugKillCount("ultra_beetle");return a(Math.floor(e/1e3))},percentBoostPerItem:.064}},{id:"queenWaspKillAlateHatcherySynergy",name:"Queen Wasp Alate Hatchery Synergy",description:"Each 1000 Queen Wasps killed boosts alate hatchery production by 12% per level",baseCost:a(1e4),cost:a(1e4),costMultiplier:t=>a(t.cost).mul(a(4).pow(t.level)),level:a(0),maxLevel:a(10),effect:t=>a(1).add(t.mul(.12)),formatEffect:Le,icon:"i-heroicons-building-library",isUnlocked:()=>!0,category:"synergy",appliesTo:["alateHatchery"],position:{row:8,col:3},prerequisites:["generatorSynergy"],synergyConfig:{countSource:t=>{const e=t.bossStore.getBugKillCount("queen_wasp");return a(Math.floor(e/1e3))},percentBoostPerItem:.12}}],mC=()=>[{id:"epBoost",name:"Evolution Mastery",description:"Increases Evolution Points gained per cycle by 10% per level",baseCost:a(25),cost:a(25),costMultiplier:t=>a(t.cost).mul(a(1.8).pow(t.level)),level:a(0),maxLevel:a(25),effect:t=>a(1).add(t.mul(.1)),formatEffect:Le,icon:"i-heroicons-star",isUnlocked:()=>!0,category:"prestige",appliesTo:["ep"],position:{row:0,col:0}},{id:"evolutionPower",name:"Evolution Power",description:"Each evolution completed adds 2% boost to all generators per level (scales with diminishing returns based on the square root of evolutions)",baseCost:a(500),cost:a(500),costMultiplier:t=>a(t.cost).mul(a(4).pow(t.level)),level:a(0),maxLevel:a(10),effect:t=>a(1).add(t.mul(.02)),formatEffect:Le,icon:"i-heroicons-fire",isUnlocked:()=>!0,category:"prestige",appliesTo:["global"],position:{row:1,col:1},prerequisites:["epBoost"],synergyConfig:{countSource:t=>t.evolutionCount,percentBoostPerItem:.02}},{id:"evolutionaryInsight",name:"Evolutionary Insight",description:"Each evolution completed adds 1% boost to EP gain per level (scales with diminishing returns based on the square root of evolutions)",baseCost:a(750),cost:a(750),costMultiplier:t=>a(t.cost).mul(a(4.5).pow(t.level)),level:a(0),maxLevel:a(15),effect:t=>a(1).add(t.mul(.01)),formatEffect:Le,icon:"i-heroicons-light-bulb",isUnlocked:()=>!0,category:"prestige",appliesTo:["ep"],position:{row:1,col:0},prerequisites:["epBoost"],synergyConfig:{countSource:t=>t.evolutionCount,percentBoostPerItem:.01}},{id:"workerSynergyEP",name:"Worker Ant Synergy",description:"Each manually purchased worker ant adds 0.01% boost to EP gain per level",baseCost:a(250),cost:a(250),costMultiplier:t=>a(t.cost).mul(a(2.2).pow(t.level)),level:a(0),maxLevel:a(20),effect:t=>a(1).add(t.mul(1e-4)),formatEffect:Le,icon:"i-heroicons-bug-ant",isUnlocked:()=>!0,category:"prestige",appliesTo:["ep"],position:{row:2,col:0},prerequisites:["evolutionaryInsight"],synergyConfig:{countSource:t=>{const e=t.generatorStore.getGenerator("worker");return e?e.manualPurchases:a(0)},percentBoostPerItem:1e-4}},{id:"exponentialEvolution",name:"Exponential Evolution",description:"Increases Evolution Points gained per cycle exponentially",baseCost:a(1e4),cost:a(1e4),level:a(0),maxLevel:a(3),effect:t=>a(2).pow(t),formatEffect:It,icon:"i-heroicons-star",isUnlocked:()=>!0,category:"prestige",appliesTo:["ep"],position:{row:3,col:0},prerequisites:["workerSynergyEP","doubleEvolution"]},{id:"doubleEvolution",name:"Double Evolution",description:"Doubles the amount of Evolution Points gained per cycle",baseCost:a(1e3),cost:a(1e3),costMultiplier:t=>a(t.cost).mul(a(10).pow(t.level)),level:a(0),maxLevel:a(2),effect:t=>t.gt(0)?a(2).pow(t):a(1),formatEffect:It,icon:"i-heroicons-star",isUnlocked:()=>!0,category:"prestige",appliesTo:["ep"],position:{row:2,col:1},prerequisites:["evolutionPower","evolutionaryInsight"]},{id:"prestigeAcceleration",name:"Prestige Acceleration",description:"Start with more cycles completed after evolution",baseCost:a(100),cost:a(100),costMultiplier:t=>a(t.cost).mul(a(2).pow(t.level)),level:a(0),maxLevel:a(10),effect:t=>t,formatEffect:Do,icon:"i-heroicons-rocket-launch",isUnlocked:()=>!0,category:"prestige",appliesTo:["global"],position:{row:0,col:1},prerequisites:["epBoost"]},{id:"inventorySlots",name:"Inventory Expansion",description:"Increase maximum inventory slots by 5. Each level adds more slots, but costs increase rapidly.",baseCost:a(100),cost:a(100),level:a(0),maxLevel:a(20),effect:t=>t.mul(5),formatEffect:t=>`+${t.toNumber()} slots`,isUnlocked:()=>!0,costMultiplier:({cost:t,level:e})=>t.mul(a(1.5).pow(e)),icon:"i-heroicons-squares-2x2",category:"prestige",appliesTo:["global"],position:{row:0,col:2}},{id:"equipmentSlots",name:"Equipment Mastery",description:"Unlock an additional equipment slot. Each level unlocks one more slot, up to a maximum of 10 slots.",baseCost:a(1e3),cost:a(1e3),level:a(1),maxLevel:a(10),effect:t=>t,formatEffect:t=>`${ie(t,0)} slots`,isUnlocked:()=>!0,icon:"i-heroicons-shield-check",category:"prestige",costMultiplier:t=>a(t.cost).mul(a(2).pow(a(2).pow(t.level))),appliesTo:["global"],position:{row:1,col:2},prerequisites:["inventorySlots"]},{id:"evolutionaryAdaptation",name:"Evolutionary Adaptation",description:"Each evolution cycle grants a stacking 1% bonus to food production",baseCost:a(1e3),cost:a(1e3),level:a(0),maxLevel:a(1),effect:t=>t,formatEffect:Rt,icon:"i-heroicons-arrow-trending-up",isUnlocked:()=>!0,category:"prestige",appliesTo:["worker"],position:{row:2,col:2},prerequisites:["equipmentSlots","evolutionPower"]}],pC=()=>[{id:"workerReproduction",name:"Worker Self-Replication",description:"Workers have a 1% chance per level to reproduce themselves each tick (max 5%)",baseCost:a(50),cost:a(50),costMultiplier:t=>a(t.cost).mul(a(3).pow(t.level)),level:a(0),maxLevel:a(5),effect:t=>t.mul(.01).min(.05),formatEffect:t=>`${(t.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>!0,category:"reproduction",appliesTo:["worker"],position:{row:0,col:0}},{id:"nurseryReproduction",name:"Nursery Self-Replication",description:"Nurseries have a 1% chance per level to reproduce themselves each tick (max 5%)",baseCost:a(500),cost:a(500),costMultiplier:t=>a(t.cost).mul(a(3).pow(t.level)),level:a(0),maxLevel:a(5),effect:t=>t.mul(.01).min(.05),formatEffect:t=>`${(t.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>!0,category:"reproduction",appliesTo:["nursery"],position:{row:1,col:0},prerequisites:["workerReproduction"]},{id:"queenChamberReproduction",name:"Queen Chamber Self-Replication",description:"Queen Chambers have a 1% chance per level to reproduce themselves each tick (max 5%)",baseCost:a(2500),cost:a(2500),costMultiplier:t=>a(t.cost).mul(a(3).pow(t.level)),level:a(0),maxLevel:a(5),effect:t=>t.mul(.01).min(.05),formatEffect:t=>`${(t.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>!0,category:"reproduction",appliesTo:["queenChamber"],position:{row:2,col:0},prerequisites:["nurseryReproduction"]},{id:"colonyReproduction",name:"Colony Self-Replication",description:"Colonies have a 1% chance per level to reproduce themselves each tick (max 5%)",baseCost:a(25e3),cost:a(25e3),costMultiplier:t=>a(t.cost).mul(a(3).pow(t.level)),level:a(0),maxLevel:a(5),effect:t=>t.mul(.01).min(.05),formatEffect:t=>`${(t.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>!0,category:"reproduction",appliesTo:["colony"],position:{row:3,col:0},prerequisites:["queenChamberReproduction"]},{id:"megacolonyReproduction",name:"Mega Colony Self-Replication",description:"Mega Colonies have a 1% chance per level to reproduce themselves each tick (max 5%)",baseCost:a(25e4),cost:a(25e4),costMultiplier:t=>a(t.cost).mul(a(3).pow(t.level)),level:a(0),maxLevel:a(5),effect:t=>t.mul(.01).min(.05),formatEffect:t=>`${(t.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>!1,category:"reproduction",appliesTo:["megacolony"],position:{row:4,col:0},prerequisites:["colonyReproduction"]},{id:"hivemindReproduction",name:"Hive Mind Self-Replication",description:"Hive Minds have a 1% chance per level to reproduce themselves each tick (max 5%)",baseCost:a(25e7),cost:a(25e7),costMultiplier:t=>a(t.cost).mul(a(3).pow(t.level)),level:a(0),maxLevel:a(5),effect:t=>t.mul(.01).min(.05),formatEffect:t=>`${(t.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>!1,category:"reproduction",appliesTo:["hivemind"],position:{row:5,col:0},prerequisites:["megacolonyReproduction"]},{id:"antopolisReproduction",name:"Antopolis Self-Replication",description:"Antopolis has a 1% chance per level to reproduce itself each tick (max 5%)",baseCost:a(25e8),cost:a(25e8),costMultiplier:t=>a(t.cost).mul(a(3).pow(t.level)),level:a(0),maxLevel:a(5),effect:t=>t.mul(.01).min(.05),formatEffect:t=>`${(t.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>!1,category:"reproduction",appliesTo:["antopolis"],position:{row:6,col:0},prerequisites:["hivemindReproduction"]},{id:"alateHatcheryReproduction",name:"Alate Hatchery Self-Replication",description:"Alate Hatcheries have a 1% chance per level to reproduce themselves each tick (max 5%)",baseCost:a(1e9),cost:a(1e9),costMultiplier:t=>a(t.cost).mul(a(3).pow(t.level)),level:a(0),maxLevel:a(5),effect:t=>t.mul(.01).min(.05),formatEffect:t=>`${(t.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>!1,category:"reproduction",appliesTo:["alateHatchery"],position:{row:7,col:0},prerequisites:["antopolisReproduction"]}],fC=()=>[{id:"levelUpReduction",name:"Swift Progression",description:"Reduces the requirements for all generator level-ups by 10% per level",baseCost:a(150),cost:a(150),costMultiplier:t=>a(t.cost).mul(a(1.8).pow(t.level)),level:a(0),maxLevel:a(5),effect:t=>a(1).sub(t.mul(.1)),formatEffect:Hr,icon:"i-heroicons-arrow-trending-up",isUnlocked:()=>!0,category:"level-requirement",appliesTo:["global"],position:{row:0,col:0}},{id:"workerLevelUpReduction",name:"Worker Advancement",description:"Reduces worker level-up requirements by 15% per level",baseCost:a(75),cost:a(75),costMultiplier:t=>a(t.cost).mul(a(1.5).pow(t.level)),level:a(0),maxLevel:a(3),effect:t=>a(1).sub(t.mul(.15)),formatEffect:Hr,icon:"i-heroicons-user-solid",isUnlocked:()=>!0,category:"level-requirement",appliesTo:["worker"],position:{row:1,col:0},prerequisites:["levelUpReduction"]},{id:"nurseryLevelUpReduction",name:"Nursery Advancement",description:"Reduces nursery level-up requirements by 20% per level",baseCost:a(300),cost:a(300),costMultiplier:t=>a(t.cost).mul(a(1.5).pow(t.level)),level:a(0),maxLevel:a(3),effect:t=>a(1).sub(t.mul(.2)),formatEffect:Hr,icon:"i-heroicons-home-solid",isUnlocked:()=>!0,category:"level-requirement",appliesTo:["nursery"],position:{row:1,col:1},prerequisites:["levelUpReduction"]},{id:"queenChamberLevelUpReduction",name:"Queen Chamber Advancement",description:"Reduces queen chamber level-up requirements by 20% per level",baseCost:a(500),cost:a(500),costMultiplier:t=>a(t.cost).mul(a(1.6).pow(t.level)),level:a(0),maxLevel:a(3),effect:t=>a(1).sub(t.mul(.2)),formatEffect:Hr,icon:"i-heroicons-crown-solid",isUnlocked:()=>!0,category:"level-requirement",appliesTo:["queenChamber"],position:{row:1,col:2},prerequisites:["levelUpReduction"]},{id:"advancedGeneratorLevelUpReduction",name:"Advanced Generator Advancement",description:"Reduces level-up requirements for high-tier generators by 25% per level",baseCost:a(2e3),cost:a(2e3),costMultiplier:t=>a(t.cost).mul(a(2).pow(t.level)),level:a(0),maxLevel:a(2),effect:t=>a(1).sub(t.mul(.25)),formatEffect:Hr,icon:"i-heroicons-building-office-2",isUnlocked:()=>!1,category:"level-requirement",appliesTo:["colony","megacolony","hivemind","antopolis","alateHatchery"],position:{row:2,col:1},prerequisites:["nurseryLevelUpReduction","queenChamberLevelUpReduction"]}],gC=()=>[{id:"reRollChance",name:"Re-Roll Chance",description:"Increases the chance to re-roll items from defeated bugs in adventure mode, giving you a better chance to get the items you want.",baseCost:a(1e4),cost:a(1e4),costMultiplier:t=>a(t.cost).mul(a(1.3).pow(t.level)),level:a(0),maxLevel:a(100),effect:t=>t,formatEffect:t=>`+${t.toNumber()}%`,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!0,category:"adventure",appliesTo:["global"],position:{row:0,col:0}},{id:"doubleKill",name:"Double Kill",description:"Increases the chance to get a double kill in adventure mode, giving you a better chance to get the items you want.",baseCost:a(1e4),cost:a(1e4),costMultiplier:t=>a(t.cost).mul(a(1.3).pow(t.level)),level:a(0),maxLevel:a(100),effect:t=>t,formatEffect:t=>`+${t.toNumber()}%`,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!0,category:"adventure",appliesTo:["global"],position:{row:1,col:0},prerequisites:["reRollChance"]},{id:"doubleKillEffect",name:"Double Kill Effect",description:"Increases the effect of the double kill in adventure mode, increases the quantity of bugs killed in a double kill.",baseCost:a(1e4),cost:a(1e4),costMultiplier:t=>a(t.cost).mul(a(1.6).pow(t.level).pow(1.2)),level:a(0),maxLevel:a(3),effect:t=>t,formatEffect:t=>`x${t.toNumber()}`,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!0,category:"adventure",appliesTo:["global"],position:{row:2,col:0},prerequisites:["doubleKill"]},{id:"damageMultiplier",name:"Combat Training",description:"Increases the damage your ants deal in adventure mode.",baseCost:a(15e3),cost:a(15e3),costMultiplier:t=>a(t.cost).mul(a(1.5).pow(t.level)),level:a(0),maxLevel:a(50),effect:t=>a(1).add(t.mul(.1)),formatEffect:It,icon:"i-heroicons-bolt",isUnlocked:()=>!0,category:"adventure",appliesTo:["damage"],position:{row:0,col:1}},{id:"healthMultiplier",name:"Exoskeleton Reinforcement",description:"Increases the maximum health of your ants in adventure mode.",baseCost:a(2e4),cost:a(2e4),costMultiplier:t=>a(t.cost).mul(a(1.5).pow(t.level)),level:a(0),maxLevel:a(50),effect:t=>a(1).add(t.mul(.1)),formatEffect:It,icon:"i-heroicons-heart",isUnlocked:()=>!0,category:"adventure",appliesTo:["health"],position:{row:0,col:2}},{id:"defenseMultiplier",name:"Hardened Carapace",description:"Increases the defense of your ants in adventure mode, reducing damage taken from enemies.",baseCost:a(18e3),cost:a(18e3),costMultiplier:t=>a(t.cost).mul(a(1.5).pow(t.level)),level:a(0),maxLevel:a(50),effect:t=>a(1).add(t.mul(.1)),formatEffect:It,icon:"i-heroicons-shield-check",isUnlocked:()=>!0,category:"adventure",appliesTo:["defense","global"],position:{row:0,col:3}},{id:"regenMultiplier",name:"Cellular Regeneration",description:"Increases the health regeneration of your ants in adventure mode.",baseCost:a(25e3),cost:a(25e3),costMultiplier:t=>a(t.cost).mul(a(1.5).pow(t.level)),level:a(0),maxLevel:a(50),effect:t=>a(1).add(t.mul(.1)),formatEffect:It,icon:"i-heroicons-arrow-path",isUnlocked:()=>!0,category:"adventure",appliesTo:["regen"],position:{row:0,col:4}},{id:"advancedCombatTechniques",name:"Advanced Combat Techniques",description:"Teaches your ants advanced combat techniques, significantly boosting their damage output.",baseCost:a(1e5),cost:a(1e5),costMultiplier:t=>a(t.cost).mul(a(1.8).pow(t.level)),level:a(0),maxLevel:a(30),effect:t=>a(1).add(t.mul(.15)),formatEffect:It,icon:"i-heroicons-fire",isUnlocked:()=>!0,category:"adventure",appliesTo:["damage"],position:{row:1,col:1},prerequisites:["damageMultiplier"]},{id:"chitinEvolution",name:"Chitin Evolution",description:"Evolves your ants' exoskeletons to be more robust, substantially increasing their maximum health.",baseCost:a(15e4),cost:a(15e4),costMultiplier:t=>a(t.cost).mul(a(1.8).pow(t.level)),level:a(0),maxLevel:a(30),effect:t=>a(1).add(t.mul(.15)),formatEffect:It,icon:"i-heroicons-shield",isUnlocked:()=>!0,category:"adventure",appliesTo:["health"],position:{row:1,col:2},prerequisites:["healthMultiplier"]},{id:"organizedDefense",name:"Organized Defense",description:"Your ants learn to coordinate their defensive efforts, greatly reducing damage taken in combat.",baseCost:a(125e3),cost:a(125e3),costMultiplier:t=>a(t.cost).mul(a(1.8).pow(t.level)),level:a(0),maxLevel:a(30),effect:t=>a(1).add(t.mul(.15)),formatEffect:It,icon:"i-heroicons-shield-exclamation",isUnlocked:()=>!0,category:"adventure",appliesTo:["defense"],position:{row:1,col:3},prerequisites:["defenseMultiplier"]},{id:"advancedHealing",name:"Advanced Healing",description:"Your ant colony develops advanced healing methods, significantly improving health regeneration.",baseCost:a(175e3),cost:a(175e3),costMultiplier:t=>a(t.cost).mul(a(1.8).pow(t.level)),level:a(0),maxLevel:a(30),effect:t=>a(1).add(t.mul(.15)),formatEffect:It,icon:"i-heroicons-plus-circle",isUnlocked:()=>!0,category:"adventure",appliesTo:["regen"],position:{row:1,col:4},prerequisites:["regenMultiplier"]},{id:"ultimateCombatMastery",name:"Ultimate Combat Mastery",description:"Unlock the pinnacle of ant combat prowess, maximizing damage output against all foes.",baseCost:a(1e9),cost:a(1e9),costMultiplier:t=>a(t.cost).mul(a(2).pow(t.level)),level:a(0),maxLevel:a(20),effect:t=>a(1).add(t.mul(.2)),formatEffect:It,icon:"i-heroicons-sparkles",isUnlocked:()=>!0,category:"adventure",appliesTo:["damage"],position:{row:2,col:1},prerequisites:["advancedCombatTechniques"]},{id:"bioAdaptiveArmor",name:"Bio-Adaptive Armor",description:"Develop biologically adaptive armor for your ants, drastically increasing their survivability.",baseCost:a(25e8),cost:a(25e8),costMultiplier:t=>a(t.cost).mul(a(2).pow(t.level)),level:a(0),maxLevel:a(20),effect:t=>a(1).add(t.mul(.2)),formatEffect:It,icon:"i-heroicons-shield-check-solid",isUnlocked:()=>!0,category:"adventure",appliesTo:["health"],position:{row:2,col:2},prerequisites:["chitinEvolution"]},{id:"fortifiedColonyDefense",name:"Fortified Colony Defense",description:"Establish unparalleled defensive strategies, making your colony nearly impenetrable.",baseCost:a(15e8),cost:a(15e8),costMultiplier:t=>a(t.cost).mul(a(2).pow(t.level)),level:a(0),maxLevel:a(20),effect:t=>a(1).add(t.mul(.2)),formatEffect:It,icon:"i-heroicons-academic-cap",isUnlocked:()=>!0,category:"adventure",appliesTo:["defense"],position:{row:2,col:3},prerequisites:["organizedDefense"]},{id:"rapidRegenerationSurge",name:"Rapid Regeneration Surge",description:"Achieve an unprecedented rate of health regeneration, allowing ants to recover swiftly from battles.",baseCost:a(3e9),cost:a(3e9),costMultiplier:t=>a(t.cost).mul(a(2).pow(t.level)),level:a(0),maxLevel:a(20),effect:t=>a(1).add(t.mul(.2)),formatEffect:It,icon:"i-heroicons-bolt-slash",isUnlocked:()=>!0,category:"adventure",appliesTo:["regen"],position:{row:2,col:4},prerequisites:["advancedHealing"]}],hC=()=>[{id:"honeydewBoost",name:"Enriched Honeydew",description:"Increases the base yield of all aphids.",baseCost:a(500),cost:a(500),level:a(0),maxLevel:a(20),effect:t=>a(1).add(t.mul(.1)),formatEffect:t=>`+${dt(t.sub(1))}`,icon:"mdi:leaf",isUnlocked:()=>!0,category:"aphid-farm",appliesTo:["aphidYield"],position:{row:1,col:1}},{id:"aphidGrowthAccelerator",name:"Accelerated Maturation",description:"Reduces the growth time of all aphids.",baseCost:a(750),cost:a(750),level:a(0),maxLevel:a(15),effect:t=>a(1).sub(t.mul(.05)).max(.1),formatEffect:t=>`-${dt(a(1).sub(t))}`,icon:"mdi:timer-sand",isUnlocked:()=>!0,category:"aphid-farm",appliesTo:["aphidGrowth"],position:{row:2,col:1},prerequisites:["honeydewBoost"]},{id:"fieldCostReducer",name:"Efficient Expansion",description:"Reduces the honeydew cost of purchasing new fields.",baseCost:a(1e3),cost:a(1e3),level:a(0),maxLevel:a(10),effect:t=>a(1).sub(t.mul(.08)).max(.2),formatEffect:t=>`-${dt(a(1).sub(t))}`,icon:"mdi:shovel",isUnlocked:()=>!0,category:"aphid-farm",appliesTo:["newFieldCost"],position:{row:1,col:2},prerequisites:["honeydewBoost"]}],bC=()=>{const t=[...aC(),...iC(),...lC(),...cC(),...dC(),...uC(),...mC(),...pC(),...fC(),...gC(),...hC()];return t.map(e=>{const s=e.isUnlocked;return s()===!1&&(e.isUnlocked=()=>Eo(e.id,t)),e}),t.forEach(e=>{e.level.gt(0)&&e.costMultiplier&&(e.cost=Rl(e.baseCost,e.level,e.costMultiplier))}),t},r0=bC(),ct=Ft("prestige",()=>{const t=W(a(0)),e=W(a(0)),s=W(a(0)),o=W(a(0)),n=W(a(0)),i=W(a(3)),l=W(a(1e3)),c=W(a(0)),d=W(!1),u=W(!0),m=W(!0),p=W("all"),y=W("all"),v=W(""),S=W("default"),_=W("comfortable"),C=W(!1),x=W(1),$=W("view"),A=W(!1),M=R(()=>e.value.gt(0)),P=R(()=>qs().isFeatureUnlocked.evolution),L=R(()=>{const E=e.value.toNumber();let w=3;return E<=100?w+=E*.95:E<=150?w=3+100*.95+(E-100)*1.35:E<=200?w=3+100*.95+50*1.35+(E-150)*1.95:E<=250?w=3+100*.95+50*1.35+50*1.95+(E-200)*2.55:E<=300?w=3+100*.95+50*1.35+50*1.95+50*2.55+(E-250)*3.25:w=3+100*.95+50*1.35+50*1.95+50*2.55+50*3.25+(E-300)*4.05,a(w).ceil()}),B=W(r0),k=E=>{const w=I(E);return w?w.effect(w.level):a(1)},I=E=>B.value.find(w=>w.id===E),N=E=>{const w=I(E);return w?w.level:a(0)},U=()=>B.value.filter(E=>E.appliesTo.includes("aphidYield")&&E.level.gt(0)).reduce((E,w)=>E.mul(w.effect(w.level)),a(1)),j=()=>B.value.filter(E=>E.appliesTo.includes("aphidGrowth")&&E.level.gt(0)).reduce((E,w)=>E.mul(w.effect(w.level)),a(1)),ee=()=>B.value.filter(E=>E.appliesTo.includes("newFieldCost")&&E.level.gt(0)).reduce((E,w)=>E.mul(w.effect(w.level)),a(1)),ne=E=>{const w=vt(),F=ss(),q=Ns();return B.value.filter(J=>J.category==="synergy"&&J.level.gt(0)&&J.synergyConfig).forEach(J=>{if(!J.synergyConfig)return;const te=J.synergyConfig.countSource;if(!te)return;let ye=te({generatorStore:w,evolutionCount:e.value,aphidFarmStore:F,bossStore:q});(J.id==="evolutionPower"||J.id==="evolutionaryInsight")&&(ye.gt(0)?ye=ye.sqrt():ye=a(0));const $e=J.synergyConfig.percentBoostPerItem,Ee=J.level.mul($e).mul(ye);J.appliesTo.includes("global")?E[`${J.id}Bonus`]=a(1).add(Ee):J.appliesTo.forEach(Re=>{E[`${J.id}_${Re}Bonus`]=a(1).add(Ee)})}),E},oe=()=>{const E={};vt(),B.value.forEach(F=>{F.isCombo||(E[F.id]=F.effect(F.level))}),B.value.forEach(F=>{F.isCombo&&(F.level.eq(0)||F.effects&&F.effects.forEach(q=>{const Z=`${F.id}_${q.target}`;E[Z]=q.multiplier(F.level)}))}),ne(E);const w=B.value.find(F=>F.id==="bulkAutomation");return w&&w.level.gt(0)?E.bulkAutomationMultiplier=a(1).add(w.level.mul(4)):E.bulkAutomationMultiplier=a(1),E},O=R(()=>n.value.gte(L.value)),Y=()=>{const E=fe(n.value.toNumber()),w=cs().getEPBoostMultiplier();return E.mul(w)},G=R(()=>{const E=Y(),w=n.value.toNumber()+1,F=fe(w),q=cs().getEPBoostMultiplier();return F.mul(q).sub(E).max(0)}),de=()=>{a(1);const E=n.value.toNumber();if(E<=0)return a(0);const w=a(E);a(.1);const F=w,q=w.mul(w.sub(1)).mul(.05);let Z=F.add(q);const J=cs().getEPBoostMultiplier();return Z=Z.mul(J),Z},re=({foodReset:E=!0,ticksReset:w=!0})=>{c.value=a(l.value.toString()),n.value=n.value.add(1),Wt().updateHivemindProgress(1);try{Ws().updateStats("maxLoopsInEvolution",n.value,!1)}catch(Z){console.error("Error updating loop achievements:",Z)}const F=n.value.toNumber();i.value=ge(F);const q=k("cycleFoodReduction");if(w&&(s.value=a(0)),E){Wt().updateAntopolisProgress(1);const Z=Pe(F);l.value=Z.mul(q)}},he=(E=1)=>{if(!P.value)return;s.value=s.value.add(E),o.value=o.value.add(E),s.value.gte(i.value)&&re({foodReset:!1,ticksReset:!0}),vt().food.gte(l.value)&&re({foodReset:!0,ticksReset:!1})},ve=()=>ie(t.value,2),Se=()=>ie(e.value,0),Me=()=>ie(n.value,0),Oe=()=>ie(L.value,0),He=()=>{const E=de();return ie(E,2)},we=()=>ie(G.value,2),_e=()=>ie(i.value,1),pe=()=>ie(l.value,0),me=()=>ie(o.value,0),le=()=>{d.value=!1,u.value=!0,m.value=!0,p.value="all",y.value="all",v.value="",S.value="default",_.value="comfortable"},z=()=>({evolutionPoints:t.value.toString(),evolutionCount:e.value.toString(),currentLoopTicks:s.value.toString(),currentEvolutionTicks:o.value.toString(),loopsCompleted:n.value.toString(),ticksPerLoop:i.value.toString(),foodForNextLoop:l.value.toString(),previousFoodRequirement:c.value.toString(),upgrades:B.value.map(E=>({id:E.id,level:E.level.toString()})),filters:{showMaxed:d.value,showAffordable:u.value,showUnlocked:m.value,activeTab:p.value,sidebarActiveTab:y.value,searchQuery:v.value,selectedSort:S.value,gridDensity:_.value,sidebarCollapsed:C.value},autoEvolveEnabled:A.value,zoomLevel:x.value,currentMode:$.value}),K=E=>{E.evolutionPoints&&(t.value=a(E.evolutionPoints)),E.evolutionCount&&(e.value=a(E.evolutionCount)),E.loopsCompleted&&(n.value=a(E.loopsCompleted)),E.currentLoopTicks&&(s.value=a(E.currentLoopTicks)),E.currentEvolutionTicks&&(o.value=a(E.currentEvolutionTicks)),E.ticksPerLoop&&(i.value=a(E.ticksPerLoop)),E.foodForNextLoop?l.value=a(E.foodForNextLoop):E.antsForNextLoop&&(l.value=a(E.antsForNextLoop)),E.previousFoodRequirement?c.value=a(E.previousFoodRequirement):c.value=a(0),E.upgrades&&Array.isArray(E.upgrades)&&E.upgrades.forEach(w=>{const F=B.value.find(q=>q.id===w.id);if(F){F.level=a(w.level);const q=F.costMultiplier;q?F.cost=q({cost:F.baseCost,level:F.level}):F.cost=F.baseCost.mul(a(1.5).pow(F.level))}}),E.filters&&(typeof E.filters.showMaxed=="boolean"&&(d.value=E.filters.showMaxed),typeof E.filters.showAffordable=="boolean"&&(u.value=E.filters.showAffordable),typeof E.filters.showUnlocked=="boolean"&&(m.value=E.filters.showUnlocked),typeof E.filters.activeTab=="string"&&(p.value=E.filters.activeTab),typeof E.filters.sidebarActiveTab=="string"&&(y.value=E.filters.sidebarActiveTab),typeof E.filters.searchQuery=="string"&&(v.value=E.filters.searchQuery),typeof E.filters.selectedSort=="string"&&(S.value=E.filters.selectedSort),typeof E.filters.gridDensity=="string"&&(_.value=E.filters.gridDensity),typeof E.filters.sidebarCollapsed=="boolean"&&(C.value=E.filters.sidebarCollapsed)),typeof E.autoEvolveEnabled=="boolean"&&(A.value=E.autoEvolveEnabled),typeof E.zoomLevel=="number"&&(x.value=E.zoomLevel),typeof E.currentMode=="string"&&($.value=E.currentMode)},H=()=>{if(!O.value)return!1;const E=de();t.value=t.value.add(E),e.value=e.value.add(1);try{Ws().updateEvolutionStats(t.value,E,e.value,n.value)}catch(w){console.error("Error updating achievement stats:",w)}return T(),!0},T=()=>{var $e;const E=vt(),w=Wt(),F=As(),q=Os();F.resetEvolutionTicks(),E.generators.forEach(Ee=>{if(Ee.count=a(0),Ee.manualPurchases=a(0),Ee.selfReplicated=a(0),Ee.tier>1&&Ee.tier<=4&&(Ee.unlocked=!1),Ee.tier>=5){const Re=Ee.id==="megacolony"?"unlockMegacolony":Ee.id==="hivemind"?"unlockHivemind":Ee.id==="antopolis"?"unlockAntopolis":Ee.id==="alateHatchery"?"unlockAlateHatchery":"";if(Re){const Ne=B.value.find(Ge=>Ge.id===Re);Ee.purchasable=Ne?Ne.level.gt(0):!1,Ee.unlocked=!1}else Ee.purchasable=!1,Ee.unlocked=!1}q.autoEnableGeneratorsAfterPrestige&&(Ee.autoPurchaseEnabled=!0)});const Z=a(10);E.food=Z,s.value=a(0);const J=(($e=B.value.find(Ee=>Ee.id==="prestigeAcceleration"))==null?void 0:$e.level)||a(0);n.value=J.gt(0)?new be(J.toString()):a(0);const te=k("cycleFoodReduction"),ye=a(1e3);l.value=ye.mul(te),c.value=a(0),i.value=a(3),w.resetProgress()},D=()=>{const E=vt(),w=Wt(),F=As(),q=Os(),Z=os(),J=Wr(),te=Vt(),ye=N("unlockAdventure").gt(0),$e=N("unlockQuests").gt(0),Ee=N("unlockAutoSalvage").gt(0),Re=N("unlockSalvageAll").gt(0),Ne=N("unlockMegaAnt").gt(0),Ge=N("unlockAutoQuestAdvance").gt(0),ft=N("autoWorker").gt(0),et=N("autoNursery").gt(0),ze=N("autoQueenChamber").gt(0),Ke=N("autoColony").gt(0),Ie=N("autoMegacolony").gt(0),ce=N("autoHivemind").gt(0),Ae=N("autoAntopolis").gt(0),Xe=N("autoAlateHatchery").gt(0),Ps=N("bulkAutomation").gt(0),Wo=N("cycleTimeReduction"),Xn=N("cycleTimeReductionAdvanced"),Si=N("cycleTimeReductionMaster"),Fd=N("unlockColonyRush").gt(0),Rd=N("rushCooldownReduction"),Ud=N("rushDurationIncrease"),ln=N("rushMaxPerDay"),Zn=N("equipmentSlots"),Jn=N("inventorySlots");if(t.value=a(0),o.value=a(0),e.value=a(0),F.resetEvolutionTicks(),Z.resetForAscension(),J.resetForAscension(),E.generators.forEach(Qe=>{Qe.count=a(0),Qe.manualPurchases=a(0),Qe.selfReplicated=a(0),Qe.tier>1&&Qe.tier<=4&&(Qe.unlocked=!1),Qe.tier>=5&&(Qe.purchasable=!1,Qe.unlocked=!1),q.autoEnableGeneratorsAfterPrestige&&(Qe.autoPurchaseEnabled=!0)}),B.value.forEach(Qe=>{Qe.level=a(0),Qe.cost=Qe.baseCost}),E.food=a(10),s.value=a(0),n.value=a(0),l.value=a(1e3),c.value=a(0),i.value=a(3),w.resetProgress(),ye){const Qe=I("unlockAdventure");Qe&&(Qe.level=a(1))}if($e){const Qe=I("unlockQuests");Qe&&(Qe.level=a(1))}if(Ge){const Qe=I("unlockAutoQuestAdvance");Qe&&(Qe.level=a(1))}if(Ee){const Qe=I("unlockAutoSalvage");Qe&&(Qe.level=a(1))}if(Re){const Qe=I("unlockSalvageAll");Qe&&(Qe.level=a(1))}if(ft){const Qe=I("autoWorker");Qe&&(Qe.level=a(1))}if(et){const Qe=I("autoNursery");Qe&&(Qe.level=a(1))}if(ze){const Qe=I("autoQueenChamber");Qe&&(Qe.level=a(1))}if(Ke){const Qe=I("autoColony");Qe&&(Qe.level=a(1))}if(Ie){const Qe=I("autoMegacolony");Qe&&(Qe.level=a(1))}if(ce){const Qe=I("autoHivemind");Qe&&(Qe.level=a(1))}if(Ae){const Qe=I("autoAntopolis");Qe&&(Qe.level=a(1))}if(Xe){const Qe=I("autoAlateHatchery");Qe&&(Qe.level=a(1))}if(Ps){const Qe=I("bulkAutomation");Qe&&(Qe.level=a(1))}if(Wo.gt(0)){const Qe=I("cycleTimeReduction");Qe&&(Qe.level=Wo)}if(Xn.gt(0)){const Qe=I("cycleTimeReductionAdvanced");Qe&&(Qe.level=Xn)}if(Si.gt(0)){const Qe=I("cycleTimeReductionMaster");Qe&&(Qe.level=Si)}if(Ne){const Qe=I("unlockMegaAnt");Qe&&(Qe.level=a(1))}if(Fd){const Qe=I("unlockColonyRush");Qe&&(Qe.level=a(1));const Ei=I("rushCooldownReduction");Ei&&(Ei.level=Rd);const Ai=I("rushDurationIncrease");Ai&&(Ai.level=Ud);const Bd=I("rushMaxPerDay");Bd&&(Bd.level=ln)}const $i=I("inventorySlots");$i&&($i.level=Jn);const us=I("equipmentSlots");us&&(us.level=Zn),te.resetForAscension()},X=E=>{const w=B.value.find(q=>q.id===E);if(!w||w.maxLevel&&w.level.gte(w.maxLevel)||!Eo(E,B.value)||t.value.lt(w.cost))return!1;t.value=t.value.sub(w.cost),w.level=w.level.add(1);const F=w.costMultiplier;return F?w.cost=F({cost:w.baseCost,level:w.level}):w.cost=w.baseCost.mul(a(1.5).pow(w.level)),!0},ae=E=>{const w=B.value.find(te=>te.id===E);if(!w||w.maxLevel&&w.level.gte(w.maxLevel)||!Eo(E,B.value)||t.value.lt(w.cost))return!1;let F=0,q=a(w.cost.toString()),Z=a(t.value.toString()),J=a(w.level.toString());if(w.maxLevel){const te=w.maxLevel.sub(w.level).toNumber();if(te<=0)return!1;let ye=0;for(;Z.gte(q)&&ye<te;){Z=Z.sub(q),J=J.add(1),ye++;const $e=w.costMultiplier;$e?q=$e({cost:w.baseCost,level:J}):q=w.baseCost.mul(a(1.5).pow(J))}return ye===0?!1:(t.value=Z,w.level=J,w.cost=q,!0)}for(;Z.gte(q);){Z=Z.sub(q),J=J.add(1),F++;const te=w.costMultiplier;te?q=te({cost:w.baseCost,level:J}):q=w.baseCost.mul(a(1.5).pow(J))}return F===0?!1:(t.value=Z,w.level=J,w.cost=q,!0)},ue=E=>{const w=B.value.find(te=>te.id===E);if(!w||w.maxLevel&&w.level.gte(w.maxLevel)||!Eo(E,B.value)||t.value.lt(w.cost))return 0;let F=0,q=a(w.cost.toString()),Z=a(t.value.toString()),J=a(w.level.toString());if(w.maxLevel){const te=w.maxLevel.sub(w.level).toNumber();if(te<=0)return 0;let ye=0;for(;Z.gte(q)&&ye<te;){Z=Z.sub(q),J=J.add(1),ye++;const $e=w.costMultiplier;$e?q=$e({cost:w.baseCost,level:J}):q=w.baseCost.mul(a(1.5).pow(J))}return ye}for(;Z.gte(q);){Z=Z.sub(q),J=J.add(1),F++;const te=w.costMultiplier;te?q=te({cost:w.baseCost,level:J}):q=w.baseCost.mul(a(1.5).pow(J))}return F},ke=E=>{let w=3;return E<=100?w+=E*.95:E<=150?w=3+100*.95+(E-100)*1.35:E<=200?w=3+100*.95+50*1.35+(E-150)*1.95:E<=250?w=3+100*.95+50*1.35+50*1.95+(E-200)*2.55:E<=300?w=3+100*.95+50*1.35+50*1.95+50*2.55+(E-250)*3.25:w=3+100*.95+50*1.35+50*1.95+50*2.55+50*3.25+(E-300)*4.05,a(w).ceil()},ge=E=>{const w=a(3).plus(a(E)).mul(a(1.05).pow(a(E).div(5))).ceil();let F=a(0);return B.value.forEach(q=>{if(!q.level.lte(0)){if(q.isCombo&&q.effects)q.effects.forEach(Z=>{if(Z.target==="cycle_trips"){const J=Z.multiplier(q.level);F=F.add(J)}});else if(q.appliesTo.includes("cycle_trips")){const Z=q.effect(q.level);F=F.add(Z)}}}),w.sub(F).max(0)},Pe=E=>{const w=k("cycleFoodReduction");return a(1e3).mul(a(1.5).pow(a(E).mul(2).pow(1.4))).mul(w)},fe=E=>{a(1);const w=a(E),F=w,q=w.mul(w.sub(1)).mul(.05);return F.add(q)};return{evolutionPoints:t,evolutionCount:e,currentLoopTicks:s,currentEvolutionTicks:o,loopsCompleted:n,ticksPerLoop:i,foodForNextLoop:l,previousFoodRequirement:c,hasEvolved:M,requiredLoops:L,evolutionUpgrades:B,canEvolve:O,showMaxed:d,showAffordable:u,showUnlocked:m,activeTab:p,sidebarActiveTab:y,searchQuery:v,selectedSort:S,gridDensity:_,sidebarCollapsed:C,resetFilters:le,getUpgrade:I,getUpgradeMultiplier:k,getAllMultipliers:oe,evolve:H,resetProgress:T,purchaseUpgrade:X,purchaseMaxUpgrades:ae,calculateMaxPurchasableLevels:ue,updateLoopProgress:he,formatEP:ve,formatEvolutionCount:Se,formatLoopsCompleted:Me,formatRequiredLoops:Oe,formatPotentialEPGain:He,formatPotentialEPGainForNextCycle:we,formatTicksPerLoop:_e,formatFoodForNextLoop:pe,formatCurrentEvolutionTicks:me,getState:z,loadState:K,isUpgradeUnlocked:Eo,unlockedPrestige:P,getUpgradeCount:N,resetForAscension:D,calculateRequiredLoopsForEvolution:ke,calculateTripsPerCycle:ge,calculateFoodForCycle:Pe,calculateEPGainForCycles:fe,autoEvolveEnabled:A,getAphidYieldMultiplier:U,getAphidGrowthMultiplier:j,getNewFieldCostMultiplier:ee,zoomLevel:x,currentMode:$}});function aa(){const t=ct();return{isAdventureUnlocked:R(()=>t.getUpgradeCount("unlockAdventure").gt(0))}}function Hy(t={}){const{storageKey:e="scrollPositions",debounceTime:s=100,saveOnUnmount:o=!0,scrollElementSelector:n="main"}=t,i=q0(),l=Vn(),c=W(0);let d=null,u=null;const m=W(!1),p=()=>d?d.scrollTop:0,y=()=>{if(!(!d||m.value))try{const $=JSON.parse(localStorage.getItem(e)||"{}"),A=p();$[i.path]=A,localStorage.setItem(e,JSON.stringify($)),c.value=A}catch($){console.error("Failed to save scroll position:",$)}},v=async()=>{if(d)try{m.value=!0;const A=JSON.parse(localStorage.getItem(e)||"{}")[i.path]||0;await Bt(),d.scrollTo({top:A,behavior:"auto"}),c.value=A,setTimeout(()=>{m.value=!1},50)}catch($){console.error("Failed to restore scroll position:",$),m.value=!1}},S=()=>{m.value||(u!==null&&window.clearTimeout(u),u=window.setTimeout(()=>{y()},s))},_=()=>{try{const $=JSON.parse(localStorage.getItem(e)||"{}");delete $[i.path],localStorage.setItem(e,JSON.stringify($)),c.value=0,d&&d.scrollTo({top:0})}catch($){console.error("Failed to clear scroll position:",$)}},C=()=>{try{localStorage.removeItem(e),c.value=0,d&&d.scrollTo({top:0})}catch($){console.error("Failed to clear all scroll positions:",$)}},x=()=>(d=document.querySelector(n),d?(d.addEventListener("scroll",S,{passive:!0}),!0):(console.warn(`Scrollable element not found with selector: ${n}`),!1));return tt(()=>{setTimeout(()=>{x()&&v()},50)}),fs(()=>{d&&d.removeEventListener("scroll",S),o&&!m.value&&y(),u!==null&&window.clearTimeout(u)}),l.beforeEach(($,A,M)=>{A.path!==$.path&&!m.value&&y(),M()}),We(()=>i.path,($,A)=>{$!==A&&setTimeout(()=>{v()},150)}),{scrollPosition:c,saveScrollPosition:y,restoreScrollPosition:v,clearScrollPosition:_,clearAllScrollPositions:C}}const vC=Ue({__name:"ScrollToTopButton",props:{threshold:{default:300},buttonClass:{default:"fixed bottom-4 right-4 bg-amber-600 hover:bg-amber-700 text-white rounded-full p-3 shadow-lg transition-all duration-200 z-50"},iconClass:{default:"i-heroicons-arrow-up w-5 h-5"}},setup(t){const e=t,{scrollPosition:s}=Hy(),o=W(!1);We(s,i=>{o.value=i>e.threshold});const n=()=>{const i=document.querySelector("main");i&&i.scrollTo({top:0,behavior:"smooth"})};return(i,l)=>(f(),rt(fo,{name:"fade"},{default:mt(()=>[o.value?(f(),h("button",{key:0,onClick:n,class:V([i.buttonClass,"fixed bottom-25 right-6 bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-800 text-white rounded-full p-3 shadow-lg transition-all duration-200 z-10 flex items-center justify-center transform hover:scale-105 active:scale-95"]),"aria-label":"Scroll to top"},[r("span",{class:V([i.iconClass,"w-5 h-5"])},null,2)],2)):Q("",!0)]),_:1}))}}),st=(t,e)=>{const s=t.__vccOpts||t;for(const[o,n]of e)s[o]=n;return s},wr=st(vC,[["__scopeId","data-v-0c9d09dc"]]),Zf="idle-ant-farm-animated-features";function jy(){const t=qs(),s=W((()=>{try{const c=localStorage.getItem(Zf);return c?JSON.parse(c):{}}catch(c){return console.error("Error loading animated features:",c),{}}})()),o=()=>{try{localStorage.setItem(Zf,JSON.stringify(s.value))}catch(c){console.error("Error saving animated features:",c)}},n=c=>t.isFeatureUnlocked[c]&&!s.value[c]?(s.value[c]=!0,o(),!0):!1,i=c=>{delete s.value[c],o()},l=()=>{s.value={},o()};return tt(()=>{Object.keys(t.isFeatureUnlocked).forEach(c=>{t.isFeatureUnlocked[c]&&s.value[c]===void 0&&(s.value[c]=!0)}),o()}),{shouldAnimateFeature:n,animatedFeatures:s,forceAnimateFeature:i,resetAllAnimations:l}}const yC={worker:{name:"Worker Ants",icon:"i-heroicons-bug-ant"},nursery:{name:"Nursery",icon:"i-heroicons-home-modern"},queenChamber:{name:"Queen Chamber",icon:"i-heroicons-crown"},colony:{name:"Colony",icon:"i-heroicons-building-storefront"},megacolony:{name:"Mega Colony",icon:"i-heroicons-building-office-2"},hivemind:{name:"Hive Mind",icon:"i-heroicons-cpu-chip"},antopolis:{name:"Antopolis",icon:"i-heroicons-building-library"},alateHatchery:{name:"Alate Hatchery",icon:"i-heroicons-building-library"}};function xC(t){if(!t)return"";switch(t){case"worker":return"Levels up based on foraging ticks in current evolution";case"nursery":return"Levels up based on amount of food gained";case"queenChamber":return"Levels up based on total manual purchases (auto purchases are also counted)";case"colony":return"Levels up based on amount of upgrades purchased";case"megacolony":return"Levels up based on pheromone gained";case"hivemind":return"Levels up based on amount of cycles completed in current evolution";case"antopolis":return"Levels up based on total food cycles completed in current evolution";case"alateHatchery":return"Levels up based on pheromone gained";default:return""}}function kC(t){if(!t)return"";switch(t){case"worker":return"ticks";case"nursery":return"food";case"queenChamber":return"purchases";case"colony":return"upgrades";case"megacolony":return"pheromone";case"hivemind":return"types";case"antopolis":return"levels";case"alateHatchery":return"pheromone";default:return""}}function io(){const t=W(!1);return{isClosing:t,handleClose:(o,n=250)=>{n>0?(t.value=!0,setTimeout(()=>{o(),t.value=!1},n)):o()},preventBackgroundTouchMove:o=>{const n=o.target;(n.classList.contains("modal-backdrop")||n.getAttribute("data-modal-backdrop")==="true")&&o.preventDefault()}}}const _C=Ue({__name:"GeneratorInfoDialog",props:{show:{type:Boolean}},emits:["close"],setup(t,{emit:e}){const s=t,o=e,{isClosing:n,handleClose:i,preventBackgroundTouchMove:l}=io(),c=()=>{i(()=>o("close"),250)},d=u=>{u.key==="Escape"&&s.show&&c()};return tt(()=>{window.addEventListener("keydown",d)}),fs(()=>{window.removeEventListener("keydown",d)}),We(()=>s.show,u=>{}),(u,m)=>u.show?(f(),h("div",{key:0,class:"fixed inset-0 z-50 modal-backdrop","data-modal-backdrop":"true",onClick:at(c,["self"]),onTouchmove:m[0]||(m[0]=at((...p)=>g(l)&&g(l)(...p),["self"]))},[r("div",{class:V(["absolute inset-0 bg-black/50 animate-fadeIn",{"animate-fadeOut":g(n)}])},null,2),r("div",{class:V(["fixed inset-0 flex flex-col animate-fadeIn",{"animate-fadeOut":g(n)}])},[r("div",{class:V(["w-full h-full flex flex-col bg-amber-50 dark:bg-gray-900 text-amber-900 dark:text-amber-100 font-sans animate-slideUp",{"animate-slideDown":g(n)}])},[r("header",{class:"bg-gradient-to-r from-amber-800 to-amber-700 dark:from-amber-900 dark:to-amber-800 text-amber-50 shadow-lg"},[r("div",{class:"p-2 md:p-3"},[r("div",{class:"flex items-center justify-between"},[m[2]||(m[2]=r("h1",{class:"text-lg md:text-xl font-bold tracking-tight flex items-center"},[r("span",{class:"i-heroicons-information-circle text-amber-300 dark:text-amber-400 mr-2"}),se(" About Ant Specialization ")],-1)),r("button",{onClick:c,class:"text-amber-50 hover:text-amber-300 dark:hover:text-amber-200 transition-colors p-1.5 rounded-full hover:bg-amber-900/30 dark:hover:bg-amber-950/40"},m[1]||(m[1]=[r("span",{class:"i-heroicons-x-mark text-lg"},null,-1)]))])])]),m[4]||(m[4]=qt('<main class="flex-1 overflow-y-auto p-4 pb-6 scroll-smooth" data-v-620fc169><div class="space-y-3" data-v-620fc169><div class="bg-white dark:bg-gray-800 rounded-xl shadow-md border border-amber-200 dark:border-amber-700 p-3" data-v-620fc169><p class="text-sm text-amber-800 dark:text-amber-300 mb-2 font-medium" data-v-620fc169> How Ant Specialization Works: </p><ul class="text-xs text-amber-800 dark:text-amber-300 list-disc pl-4 space-y-1" data-v-620fc169><li data-v-620fc169>Each ant type has its own specialization level that increases based on different metrics: </li><li class="ml-3" data-v-620fc169><strong data-v-620fc169>Worker Ants:</strong> Level up based on foraging trips in current evolution (50% increase per level)</li><li class="ml-3" data-v-620fc169><strong data-v-620fc169>Nurseries:</strong> Level up based on amount of food gathered (100% increase per level)</li><li class="ml-3" data-v-620fc169><strong data-v-620fc169>Queen Chambers:</strong> Level up based on total manual purchases (30% increase per level)</li><li class="ml-3" data-v-620fc169><strong data-v-620fc169>Colonies:</strong> Level up based on amount of adaptations developed (20% increase per level)</li><li data-v-620fc169>Each level-up awards 1 adaptation point for that ant type</li><li data-v-620fc169>Adaptation points can be spent on specialized traits for that ant type</li><li data-v-620fc169>Specialization levels and adaptations reset when your colony undergoes metamorphosis </li></ul></div><div class="bg-white dark:bg-gray-800 rounded-xl shadow-md border border-amber-200 dark:border-amber-700 p-3" data-v-620fc169><p class="text-sm text-amber-800 dark:text-amber-300 mb-2 font-medium" data-v-620fc169> Types of Ant Adaptations: </p><ul class="text-xs text-amber-800 dark:text-amber-300 list-disc pl-4 space-y-1" data-v-620fc169><li data-v-620fc169><strong data-v-620fc169>Efficiency Adaptations:</strong> Increase production (+20% per level)</li><li data-v-620fc169><strong data-v-620fc169>Resource Adaptations:</strong> Decrease resource requirements (-5% per level)</li><li data-v-620fc169><strong data-v-620fc169>Special Adaptations:</strong> Add a chance for ants to reproduce themselves </li></ul></div></div></main>',1)),r("footer",{class:"bg-gradient-to-r from-amber-800 to-amber-700 dark:from-amber-900 dark:to-amber-800 text-amber-50 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]"},[r("div",{class:"flex justify-end p-3"},[r("button",{onClick:c,class:"px-3 py-2 bg-amber-900/20 dark:bg-amber-950/40 hover:bg-amber-900/30 dark:hover:bg-amber-950/50 rounded-lg text-amber-50 font-medium transition-colors duration-200 flex items-center justify-center active:scale-95 border border-amber-600 dark:border-amber-700"},m[3]||(m[3]=[r("span",{class:"i-heroicons-arrow-left text-base mr-1"},null,-1),se(" Return to Dashboard ")]))])])],2)],2)],32)):Q("",!0)}}),wC=st(_C,[["__scopeId","data-v-620fc169"]]),CC=["disabled"],Jr=Ue({__name:"HoldableButton",props:{disabled:{type:Boolean},class:{},initialDelay:{},repeatInterval:{},accelerate:{type:Boolean},minInterval:{}},emits:["action"],setup(t,{emit:e}){const s=t,o=e,n=s.initialDelay??500,i=s.repeatInterval??100,l=s.accelerate??!0,c=s.minInterval??50,d=W(!1),u=W(null),m=W(null),p=W(i),y=W(0),v=$=>{s.disabled||($.preventDefault(),o("action"),d.value=!0,y.value=Date.now(),u.value=window.setTimeout(()=>{S()},n))},S=()=>{s.disabled||(m.value!==null&&clearInterval(m.value),p.value=i,m.value=window.setInterval(()=>{if(s.disabled){x();return}if(o("action"),l){const $=Date.now()-y.value;$>2e3&&(p.value=Math.max(c,i-Math.floor(($-2e3)/100)*5),p.value!==i&&m.value!==null&&(clearInterval(m.value),m.value=window.setInterval(()=>{s.disabled||o("action")},p.value)))}},p.value))},_=()=>{x()},C=()=>{x()},x=()=>{d.value=!1,u.value!==null&&(clearTimeout(u.value),u.value=null),m.value!==null&&(clearInterval(m.value),m.value=null)};return Ms(()=>{x()}),($,A)=>(f(),h("button",{class:V([s.class,"transition-all duration-150 flex items-center justify-center cursor-pointer disabled:cursor-not-allowed w-full py-2 px-2 text-xs rounded-md",d.value?"transform scale-95":"transform scale-100"]),disabled:$.disabled,onMousedown:v,onMouseup:_,onMouseleave:C,onTouchstart:at(v,["prevent"]),onTouchend:at(_,["prevent"]),onTouchcancel:at(_,["prevent"])},[mi($.$slots,"default")],42,CC))}}),SC={key:0,class:"bg-white/80 dark:bg-gray-800/80 p-3 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700 hover:border-amber-300 dark:hover:border-amber-600 transition-colors"},$C={class:"flex justify-between items-start"},EC={class:"flex items-center"},AC={class:"font-medium text-gray-900 dark:text-gray-100"},MC={class:"text-xs text-gray-600 dark:text-gray-400 mt-1"},PC={class:"text-right"},TC={class:"text-xs text-amber-700 dark:text-amber-400"},LC={class:"font-medium"},IC={key:0},DC={class:"text-xs text-amber-700 dark:text-amber-400 mt-1"},FC={class:"font-medium"},RC={class:"mt-3 flex justify-between items-center"},UC={class:"text-xs text-amber-700 dark:text-amber-400"},BC={key:0},qC={class:"font-medium"},OC={key:1,class:"text-green-600 dark:text-green-500 font-medium"},NC={key:0},HC={key:1},jC=Ue({__name:"GeneratorUpgradeItem",props:{upgradeId:{type:String,required:!0}},setup(t){const e=t,s=Wt(),o=R(()=>s.getUpgrade(e.upgradeId)),n=R(()=>!o.value||o.value.maxLevel!==null&&o.value.level.gte(o.value.maxLevel)?!1:s.generatorPoints[o.value.generatorId].gte(o.value.cost)),i=R(()=>{var u,m,p,y;if(!o.value)return"";const d=((m=(u=o.value).effect)==null?void 0:m.call(u,o.value.level))??a(1);return((y=(p=o.value).formatEffect)==null?void 0:y.call(p,d))??ie(d,2)}),l=R(()=>{var d,u,m,p,y,v;return o.value?((p=(m=o.value).formatEffect)==null?void 0:p.call(m,((u=(d=o.value).effect)==null?void 0:u.call(d,o.value.level.add(1)))??a(1)))??ie(((v=(y=o.value).effect)==null?void 0:v.call(y,o.value.level.add(1)))??a(1),2):""}),c=()=>{n.value&&o.value&&s.purchaseUpgrade(o.value.id)};return(d,u)=>o.value?(f(),h("div",SC,[r("div",$C,[r("div",null,[r("div",EC,[r("span",{class:V(o.value.icon+" text-amber-600 dark:text-amber-500 mr-2")},null,2),r("span",AC,b(o.value.name),1)]),r("div",MC,b(o.value.description),1)]),r("div",PC,[r("div",TC,[u[0]||(u[0]=se(" Level: ")),r("span",LC,b(g(ie)(o.value.level,0)),1),o.value.maxLevel!==null?(f(),h("span",IC,"/"+b(g(ie)(o.value.maxLevel,0)),1)):Q("",!0)]),r("div",DC,[u[1]||(u[1]=se(" Effect: ")),r("span",FC,b(i.value),1)])])]),r("div",RC,[r("div",UC,[o.value.maxLevel===null||o.value.level.lt(o.value.maxLevel)?(f(),h("span",BC,[u[2]||(u[2]=se(" Next: ")),r("span",qC,b(l.value),1)])):(f(),h("span",OC,"MAX LEVEL"))]),Fe(Jr,{onAction:c,disabled:!n.value,class:V(n.value?"px-3 py-1 text-xs rounded-md font-medium bg-amber-500 hover:bg-amber-600 dark:bg-amber-600 dark:hover:bg-amber-700 text-white":"px-3 py-1 text-xs rounded-md font-medium bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed"),"initial-delay":400,"repeat-interval":200,accelerate:!0},{default:mt(()=>[o.value.maxLevel===null||o.value.level.lt(o.value.maxLevel)?(f(),h("span",NC," Adapt ("+b(g(ie)(o.value.cost,0))+" pts) ",1)):(f(),h("span",HC,"Maxed"))]),_:1},8,["disabled","class"])])])):Q("",!0)}}),GC={key:0,class:"fixed inset-0 z-50"},VC={class:"bg-gradient-to-r from-amber-800 to-amber-700 dark:from-amber-900 dark:to-amber-800 text-amber-50 shadow-lg"},QC={class:"p-2 md:p-3"},zC={class:"flex items-center justify-between"},WC={class:"text-lg md:text-xl font-bold tracking-tight flex items-center opacity-0 animate-fadeIn",style:{animationDelay:"150ms",animationFillMode:"forwards"}},YC={class:"flex-1 overflow-y-auto p-4 pb-6 scroll-smooth"},KC={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md border border-amber-200 dark:border-amber-700 p-3 mb-4 opacity-0 animate-fadeIn",style:{animationDelay:"200ms",animationFillMode:"forwards"}},XC={class:"flex flex-col md:flex-row md:justify-between md:items-center gap-3"},ZC={class:"text-xl font-bold text-amber-800 dark:text-amber-300 flex items-center"},JC={class:"text-xl font-bold text-amber-800 dark:text-amber-300 flex items-center"},eS={key:0},tS={class:"text-xl font-bold text-amber-800 dark:text-amber-300 flex items-center"},sS={class:"mt-3"},oS={class:"text-sm text-amber-800 dark:text-amber-300 font-medium mb-1 flex justify-between"},rS={class:"h-2.5 bg-amber-100 dark:bg-amber-900/50 rounded-full overflow-hidden"},nS={class:"flex justify-between mt-1 text-xs text-amber-700 dark:text-amber-400"},aS={class:"mt-3 pt-3 border-t border-amber-200 dark:border-amber-700"},iS={class:"text-xs text-amber-700 dark:text-amber-400"},lS={key:0,class:"text-xs text-green-600 dark:text-green-400 mt-1"},cS={class:"flex justify-between items-center mb-3 opacity-0 animate-fadeIn",style:{animationDelay:"250ms",animationFillMode:"forwards"}},dS={key:0},uS={key:0,class:"ml-1.5 text-xs bg-green-600 px-1.5 py-0.5 rounded"},mS={key:1},pS={key:0,class:"opacity-0 animate-fadeIn space-y-4",style:{animationDelay:"300ms",animationFillMode:"forwards"}},fS={key:0,class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700 p-4"},gS={class:"text-lg font-bold text-amber-800 dark:text-amber-300 mb-3"},hS={class:"mb-4"},bS={class:"mb-4"},vS={class:"mb-4"},yS={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},xS={class:"flex items-center mb-2"},kS={class:"text-sm font-medium"},_S={class:"ml-2 text-2xs bg-amber-100 dark:bg-amber-900 text-amber-800 dark:text-amber-200 px-1.5 rounded-full"},wS={class:"flex items-center justify-between mt-1"},CS={class:"flex items-center space-x-1"},SS=["onClick","disabled"],$S={class:"w-12 h-8 flex items-center justify-center bg-white dark:bg-gray-700 border border-amber-200 dark:border-amber-700 rounded-md text-amber-900 dark:text-amber-100"},ES=["onClick","disabled"],AS={class:"flex space-x-1"},MS=["onClick","disabled"],PS=["onClick","disabled"],TS={key:0,class:"mb-3 space-y-2"},LS={class:"flex items-center justify-between"},IS={class:"text-xs text-amber-500 dark:text-amber-400"},DS={class:"bg-amber-50 dark:bg-gray-700 rounded-md p-2 border border-amber-200 dark:border-amber-700 max-h-60 overflow-y-auto"},FS=["onDragstart","onDrop"],RS={class:"flex items-center flex-1"},US={class:"ml-2 text-2xs bg-amber-100 dark:bg-amber-900 text-amber-800 dark:text-amber-200 px-1.5 rounded-full"},BS={class:"flex items-center mr-2"},qS=["onClick","disabled"],OS=["onClick","disabled"],NS=["onClick"],HS={class:"flex justify-end space-x-2"},jS=["disabled"],GS={key:1,class:"space-y-3"},VS={key:0,class:"space-y-3"},QS={class:"flex justify-between items-center"},zS={class:"flex items-center"},WS={key:0,class:"w-2 h-2 rounded-full bg-green-500 mr-2 animate-pulse"},YS={class:"font-medium text-amber-800 dark:text-amber-300"},KS={class:"flex space-x-2"},XS=["onClick"],ZS=["onClick"],JS={class:"mt-2 space-y-1"},e$={class:"text-xs text-amber-600 dark:text-amber-500 font-medium"},t$={class:"text-xs text-amber-700 dark:text-amber-400 line-clamp-2"},s$={key:0},o$={key:1},r$={class:"mt-3"},n$=["onClick"],a$={key:1,class:"text-center py-6 text-amber-600 dark:text-amber-500"},i$={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 opacity-0 animate-fadeIn",style:{animationDelay:"300ms",animationFillMode:"forwards"}},l$=Ue({__name:"GeneratorUpgradeModal",props:{show:{type:Boolean},selectedGenerator:{},generatorInfo:{}},emits:["close"],setup(t,{emit:e}){const s=t,o=e,n=Wt(),i=W(!1),l=W(!1),c=R(()=>s.selectedGenerator?n.getUpgradesForGenerator(s.selectedGenerator):[]);We(()=>s.show,_e=>{_e?l.value=!0:i.value=!1});const d=()=>{i.value=!0,setTimeout(()=>{o("close"),l.value=!1},400)},u=R(()=>xC(s.selectedGenerator)),m=R(()=>kC(s.selectedGenerator)),p=R(()=>s.selectedGenerator?n.formatLevelRequirementReduction(s.selectedGenerator):"0%"),y=W(!1),v=W(!1),S=W(!1),_=W(""),C=W(""),x=W([]),$=W(null),A=R(()=>s.selectedGenerator?n.getPresetsForGenerator(s.selectedGenerator):[]),M=R(()=>s.selectedGenerator?n.getActivePresetForGenerator(s.selectedGenerator):null),P=()=>{y.value=!y.value,y.value&&(v.value=!1,S.value=!1,_.value="",C.value="",x.value=[])},L=()=>{v.value=!0,S.value=!1,_.value="",x.value=[]},B=_e=>{v.value=!1,S.value=!0,C.value=_e.id,_.value=_e.name,x.value=[..._e.upgradeIds]},k=()=>{!s.selectedGenerator||!_.value.trim()||(n.createPreset(_.value.trim(),s.selectedGenerator,x.value),v.value=!1,_.value="",x.value=[])},I=()=>{!C.value||!_.value.trim()||(n.updatePreset(C.value,{name:_.value.trim(),upgradeIds:x.value}),S.value=!1,C.value="",_.value="",x.value=[])},N=()=>{v.value=!1,S.value=!1,C.value="",_.value="",x.value=[]},U=_e=>{confirm("Are you sure you want to delete this preset?")&&n.deletePreset(_e)},j=_e=>{n.setActivePreset(_e)},ee=_e=>x.value.filter(pe=>pe===_e).length,ne=_e=>{const pe=n.getUpgrade(_e);pe&&(pe.maxLevel!==null?ee(_e)<pe.maxLevel.toNumber()&&x.value.push(_e):x.value.push(_e))},oe=(_e,pe)=>{x.value.splice(pe,1)},O=_e=>{if(ee(_e)>0){const pe=x.value.lastIndexOf(_e);pe!==-1&&oe(_e,pe)}},Y=_e=>{x.value=x.value.filter(pe=>pe!==_e)},G=(_e,pe)=>{if(pe!==null){const me=ee(_e),le=pe-me;for(let z=0;z<le&&re(_e);z++)ne(_e)}else for(let me=0;me<10&&re(_e);me++)ne(_e)},de=(_e,pe)=>1+x.value.slice(0,pe).filter(me=>me===_e).length,re=_e=>{const pe=n.getUpgrade(_e);return pe?pe.maxLevel===null?!0:ee(_e)<pe.maxLevel.toNumber():!1},he=_e=>{const pe=n.getUpgrade(_e);return pe?pe.maxLevel===null?"":pe.maxLevel.toString():""},ve=(_e,pe)=>{$.value=`${_e}:${pe}`},Se=(_e,pe)=>{if(!$.value)return;const[me,le]=$.value.split(":"),z=parseInt(le);if(isNaN(z)||z===pe)return;const K=[...x.value],H=K.splice(z,1)[0];K.splice(pe,0,H),x.value=K,$.value=null},Me=_e=>{if(_e<=0)return;const pe=[...x.value],me=pe[_e];pe[_e]=pe[_e-1],pe[_e-1]=me,x.value=pe},Oe=_e=>{if(_e>=x.value.length-1)return;const pe=[...x.value],me=pe[_e];pe[_e]=pe[_e+1],pe[_e+1]=me,x.value=pe},He=R(()=>s.selectedGenerator?c.value.map(_e=>{const pe=ee(_e.id),me=re(_e.id),le=_e.maxLevel?_e.maxLevel.toNumber():null;return{..._e,occurrences:pe,canAdd:me,maxLevel:le}}):[]);tt(()=>{window.addEventListener("keydown",we)}),Ms(()=>{window.removeEventListener("keydown",we)});const we=_e=>{_e.key==="Escape"&&d()};return(_e,pe)=>{var me,le,z;return l.value?(f(),h("div",GC,[r("div",{class:V(["absolute inset-0 bg-black/50 animate-fadeIn",{"animate-fadeOut":i.value}])},null,2),_e.selectedGenerator?(f(),h("div",{key:0,class:V(["fixed inset-0 flex flex-col animate-fadeIn",{"animate-fadeOut":i.value}])},[r("div",{class:V(["w-full h-full flex flex-col bg-amber-50 dark:bg-gray-900 text-amber-900 dark:text-amber-100 font-sans animate-slideUp",{"animate-slideDown":i.value}])},[r("header",VC,[r("div",QC,[r("div",zC,[r("h1",WC,[r("span",{class:V([(me=_e.generatorInfo[_e.selectedGenerator])==null?void 0:me.icon,"text-amber-300 dark:text-amber-200 mr-2"])},null,2),se(" "+b((le=_e.generatorInfo[_e.selectedGenerator])==null?void 0:le.name)+" Adaptations ",1)]),r("button",{onClick:d,class:"text-amber-50 hover:text-amber-300 transition-colors p-1.5 rounded-full hover:bg-amber-900/30 dark:hover:bg-amber-950/40"},pe[4]||(pe[4]=[r("span",{class:"i-heroicons-x-mark text-lg"},null,-1)]))])])]),r("main",YC,[r("div",KC,[r("div",XC,[r("div",null,[pe[6]||(pe[6]=r("div",{class:"text-sm text-amber-800 dark:text-amber-300 font-medium"},"Current Level",-1)),r("div",ZC,[pe[5]||(pe[5]=r("span",{class:"i-heroicons-star text-amber-500 dark:text-amber-400 mr-1"},null,-1)),se(" Level "+b((z=g(n).generatorLevels[_e.selectedGenerator])==null?void 0:z.toNumber()),1)])]),r("div",null,[pe[8]||(pe[8]=r("div",{class:"text-sm text-amber-800 dark:text-amber-300 font-medium"},"Available Points",-1)),r("div",JC,[pe[7]||(pe[7]=r("span",{class:"i-heroicons-bolt text-amber-500 dark:text-amber-400 mr-1"},null,-1)),se(" "+b(g(n).formatPoints(_e.selectedGenerator))+" points ",1)])]),p.value!=="0%"?(f(),h("div",eS,[pe[10]||(pe[10]=r("div",{class:"text-sm text-amber-800 dark:text-amber-300 font-medium"},"Level Requirement Reduction",-1)),r("div",tS,[pe[9]||(pe[9]=r("span",{class:"i-heroicons-arrow-trending-down text-green-500 dark:text-green-400 mr-1"},null,-1)),se(" "+b(p.value),1)])])):Q("",!0)]),r("div",sS,[r("div",oS,[pe[11]||(pe[11]=r("span",null,"Progress to Next Level",-1)),r("span",null,b(g(n).formatProgressPercentage(_e.selectedGenerator))+"%",1)]),r("div",rS,[r("div",{class:"h-full bg-amber-500 dark:bg-amber-600 transition-all duration-300 ease-out",style:Je({width:`${g(n).formatProgressPercentage(_e.selectedGenerator)}%`})},null,4)]),r("div",nS,[r("span",null,"Current: "+b(g(ie)(g(n).levelProgress[_e.selectedGenerator]||0,0)),1),r("span",null,"Next: "+b(g(n).formatNextLevelRequirement(_e.selectedGenerator))+" "+b(m.value),1)])]),r("div",aS,[r("div",iS,b(u.value),1),p.value!=="0%"?(f(),h("div",lS," Level requirements reduced by "+b(p.value)+" from prestige upgrades. ",1)):Q("",!0)])]),r("div",cS,[pe[15]||(pe[15]=r("h4",{class:"text-base font-bold text-amber-800 dark:text-amber-300 flex items-center"},[r("span",{class:"i-heroicons-adjustments-horizontal text-amber-600 dark:text-amber-500 mr-2"}),se(" Available Adaptations ")],-1)),r("button",{onClick:P,class:"px-3 py-1.5 bg-amber-600 dark:bg-amber-700 hover:bg-amber-700 dark:hover:bg-amber-800 text-white rounded-lg flex items-center text-sm font-medium transition-colors"},[y.value?(f(),h("span",mS,pe[14]||(pe[14]=[r("span",{class:"i-heroicons-adjustments-horizontal text-base mr-1.5"},null,-1),se(" Back to Upgrades ")]))):(f(),h("span",dS,[pe[12]||(pe[12]=r("span",{class:"i-heroicons-list-bullet text-base mr-1.5"},null,-1)),pe[13]||(pe[13]=se(" Manage Presets ")),M.value?(f(),h("span",uS,"Active")):Q("",!0)]))])]),y.value?(f(),h("div",pS,[v.value||S.value?(f(),h("div",fS,[r("h3",gS,b(v.value?"Create New Preset":"Edit Preset"),1),r("div",hS,[pe[16]||(pe[16]=r("label",{for:"presetName",class:"block text-sm font-medium text-amber-700 dark:text-amber-400 mb-1"}," Preset Name ",-1)),ut(r("input",{type:"text",id:"presetName","onUpdate:modelValue":pe[0]||(pe[0]=K=>_.value=K),class:"w-full px-3 py-2 rounded-md border border-amber-200 dark:border-amber-700 bg-amber-50 dark:bg-gray-700 text-amber-900 dark:text-amber-100 focus:outline-none focus:ring-2 focus:ring-amber-500"},null,512),[[Po,_.value]])]),r("div",bS,[pe[24]||(pe[24]=r("h4",{class:"text-sm font-medium text-amber-700 dark:text-amber-400 mb-2"}," Configure your upgrade path ",-1)),r("div",vS,[pe[19]||(pe[19]=r("div",{class:"text-xs font-medium text-amber-600 dark:text-amber-500 mb-1"}," Available Upgrades (use controls to set quantity): ",-1)),r("div",yS,[(f(!0),h(Ce,null,De(He.value,K=>(f(),h("div",{key:K.id,class:"bg-white dark:bg-gray-800 p-3 rounded text-left border border-amber-100 dark:border-amber-600 transition-colors"},[r("div",xS,[r("span",{class:V(["text-amber-600 dark:text-amber-500 mr-2",K.icon])},null,2),r("span",kS,b(K.name),1),r("span",_S,b(K.occurrences)+"/"+b(K.maxLevel===null?"":K.maxLevel),1)]),r("div",wS,[r("div",CS,[r("button",{onClick:H=>O(K.id),disabled:K.occurrences<=0,class:V(["w-8 h-8 flex items-center justify-center rounded-md bg-amber-50 dark:bg-gray-700 border border-amber-200 dark:border-amber-700",K.occurrences<=0?"opacity-50 cursor-not-allowed":"hover:bg-amber-100 dark:hover:bg-gray-600"])},pe[17]||(pe[17]=[r("span",{class:"i-heroicons-minus text-base text-amber-700 dark:text-amber-400"},null,-1)]),10,SS),r("div",$S,b(K.occurrences),1),r("button",{onClick:H=>ne(K.id),disabled:!K.canAdd,class:V(["w-8 h-8 flex items-center justify-center rounded-md bg-amber-50 dark:bg-gray-700 border border-amber-200 dark:border-amber-700",K.canAdd?"hover:bg-amber-100 dark:hover:bg-gray-600":"opacity-50 cursor-not-allowed"])},pe[18]||(pe[18]=[r("span",{class:"i-heroicons-plus text-base text-amber-700 dark:text-amber-400"},null,-1)]),10,ES)]),r("div",AS,[r("button",{onClick:H=>Y(K.id),disabled:K.occurrences<=0,class:V(["px-2 py-1 text-xs rounded-md bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400",K.occurrences<=0?"opacity-50 cursor-not-allowed":"hover:bg-red-100 dark:hover:bg-red-900/40"])}," Clear ",10,MS),r("button",{onClick:H=>G(K.id,K.maxLevel),disabled:!K.canAdd,class:V(["px-2 py-1 text-xs rounded-md bg-amber-500 dark:bg-amber-600 text-white",K.canAdd?"hover:bg-amber-600 dark:hover:bg-amber-700":"opacity-50 cursor-not-allowed"])}," Max ",10,PS)])])]))),128))])]),x.value.length>0?(f(),h("div",TS,[r("div",LS,[pe[20]||(pe[20]=r("div",{class:"text-xs text-amber-600 dark:text-amber-500"}," Purchase sequence (upgrades will be purchased in this order): ",-1)),r("div",IS,b(x.value.length)+" upgrade"+b(x.value.length===1?"":"s")+" selected ",1)]),r("div",DS,[(f(!0),h(Ce,null,De(x.value,(K,H)=>{var T,D;return f(),h("div",{key:`${K}-${H}`,class:"bg-white dark:bg-gray-800 p-2 rounded mb-2 last:mb-0 border border-amber-100 dark:border-amber-600 flex justify-between items-center",draggable:"true",onDragstart:X=>ve(K,H),onDragover:pe[1]||(pe[1]=at(()=>{},["prevent"])),onDrop:X=>Se(K,H)},[r("div",RS,[r("span",{class:V(["text-amber-600 dark:text-amber-500 mr-2",(T=g(n).getUpgrade(K))==null?void 0:T.icon])},null,2),r("span",null,b((D=g(n).getUpgrade(K))==null?void 0:D.name),1),r("span",US," Level "+b(de(K,H))+"/"+b(he(K)),1)]),r("div",BS,[r("button",{onClick:X=>Me(H),disabled:H===0,class:V(["p-1.5 rounded-md text-amber-600 dark:text-amber-400",H===0?"opacity-30 cursor-not-allowed":"hover:bg-amber-100 dark:hover:bg-amber-900/40"])},pe[21]||(pe[21]=[r("span",{class:"i-heroicons-arrow-up text-base"},null,-1)]),10,qS),r("button",{onClick:X=>Oe(H),disabled:H===x.value.length-1,class:V(["p-1.5 rounded-md text-amber-600 dark:text-amber-400",H===x.value.length-1?"opacity-30 cursor-not-allowed":"hover:bg-amber-100 dark:hover:bg-amber-900/40"])},pe[22]||(pe[22]=[r("span",{class:"i-heroicons-arrow-down text-base"},null,-1)]),10,OS)]),r("button",{onClick:X=>oe(K,H),class:"text-red-500 hover:text-red-600 dark:hover:text-red-400 p-1.5 rounded-md hover:bg-red-50 dark:hover:bg-red-900/20"},pe[23]||(pe[23]=[r("span",{class:"i-heroicons-trash text-base"},null,-1)]),8,NS)],40,FS)}),128))])])):Q("",!0)]),r("div",HS,[r("button",{onClick:N,class:"px-3 py-1.5 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-md transition-colors"}," Cancel "),r("button",{onClick:pe[2]||(pe[2]=K=>v.value?k():I()),disabled:!_.value.trim(),class:V(["px-3 py-1.5 rounded-md transition-colors",_.value.trim()?"bg-amber-600 dark:bg-amber-700 hover:bg-amber-700 dark:hover:bg-amber-800 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed"])},b(v.value?"Create Preset":"Update Preset"),11,jS)])])):(f(),h("div",GS,[r("button",{onClick:L,class:"w-full bg-amber-100 dark:bg-amber-900/30 border border-dashed border-amber-300 dark:border-amber-700 rounded-lg p-3 text-amber-700 dark:text-amber-300 flex items-center justify-center hover:bg-amber-200 dark:hover:bg-amber-900/50 transition-colors"},pe[25]||(pe[25]=[r("span",{class:"i-heroicons-plus-circle text-base mr-1.5"},null,-1),se(" Create New Preset ")])),A.value.length>0?(f(),h("div",VS,[(f(!0),h(Ce,null,De(A.value,K=>(f(),h("div",{key:K.id,class:V(["bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700 p-3",{"ring-2 ring-green-500 dark:ring-green-600":K.isActive}])},[r("div",QS,[r("div",zS,[K.isActive?(f(),h("span",WS)):Q("",!0),r("h3",YS,b(K.name),1)]),r("div",KS,[r("button",{onClick:H=>B(K),class:"text-amber-600 dark:text-amber-500 hover:text-amber-700 dark:hover:text-amber-400 p-1.5 rounded-full hover:bg-amber-50 dark:hover:bg-amber-900/20"},pe[26]||(pe[26]=[r("span",{class:"i-heroicons-pencil-square text-base"},null,-1)]),8,XS),r("button",{onClick:H=>U(K.id),class:"text-red-500 hover:text-red-600 dark:hover:text-red-400 p-1.5 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20"},pe[27]||(pe[27]=[r("span",{class:"i-heroicons-trash text-base"},null,-1)]),8,ZS)])]),r("div",JS,[r("div",e$," Upgrades ("+b(K.upgradeIds.length)+"): ",1),r("div",t$,[K.upgradeIds.length===0?(f(),h("span",s$,"No upgrades selected")):(f(),h("span",o$,b(K.upgradeIds.map(H=>{var T;return(T=g(n).getUpgrade(H))==null?void 0:T.name}).join("  ")),1))])]),r("div",r$,[K.isActive?(f(),h("button",{key:1,onClick:pe[3]||(pe[3]=H=>j("none")),class:"w-full px-3 py-1.5 bg-amber-600 dark:bg-amber-700 hover:bg-amber-700 dark:hover:bg-amber-800 text-white rounded-md transition-colors text-sm flex items-center justify-center"},pe[29]||(pe[29]=[r("span",{class:"i-heroicons-pause text-base mr-1.5"},null,-1),se(" Deactivate ")]))):(f(),h("button",{key:0,onClick:H=>j(K.id),class:"w-full px-3 py-1.5 bg-green-600 dark:bg-green-700 hover:bg-green-700 dark:hover:bg-green-800 text-white rounded-md transition-colors text-sm flex items-center justify-center"},pe[28]||(pe[28]=[r("span",{class:"i-heroicons-play text-base mr-1.5"},null,-1),se(" Activate Preset ")]),8,n$))])],2))),128))])):(f(),h("div",a$,pe[30]||(pe[30]=[r("div",{class:"i-heroicons-clipboard-document-list text-4xl mx-auto mb-2 opacity-50"},null,-1),r("p",null,"No presets created yet. Create your first preset to define a custom upgrade path.",-1)])))]))])):Q("",!0),y.value?Q("",!0):(f(),h("div",i$,[(f(!0),h(Ce,null,De(c.value,K=>(f(),rt(jC,{key:K.id,upgradeId:K.id},null,8,["upgradeId"]))),128))]))]),r("footer",{class:"bg-gradient-to-r from-amber-800 to-amber-700 dark:from-amber-900 dark:to-amber-800 text-amber-50 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]"},[r("div",{class:"flex justify-end p-3"},[r("button",{onClick:d,class:"px-3 py-2 bg-amber-900/20 dark:bg-amber-950/40 hover:bg-amber-900/30 dark:hover:bg-amber-950/50 rounded-lg text-amber-50 font-medium transition-colors duration-200 flex items-center justify-center active:scale-95 border border-amber-600 dark:border-amber-700"},pe[31]||(pe[31]=[r("span",{class:"i-heroicons-arrow-left text-base mr-1"},null,-1),se(" Return to Dashboard ")]))])])],2)],2)):Q("",!0)])):Q("",!0)}}}),c$=st(l$,[["__scopeId","data-v-ddf0b1d3"]]),d$={key:0,class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden border border-gray-300 dark:border-gray-700 transition-all duration-200 opacity-75 relative"},u$={class:"absolute inset-0 bg-gray-100/85 dark:bg-gray-900/85 flex items-center justify-center z-10"},m$={class:"text-center p-3"},p$={class:"text-sm font-bold text-gray-700 dark:text-gray-300"},f$={class:"text-xs text-gray-600 dark:text-gray-400 mt-1"},g$={class:"mt-2 w-full"},h$={class:"text-xs text-gray-700 dark:text-gray-300 flex justify-between"},b$={class:"h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full mt-1 overflow-hidden"},v$={class:"flex flex-col"},y$={class:"bg-gradient-to-r from-gray-500 to-gray-400 py-1.5 px-2 flex items-center justify-between text-white"},x$={class:"flex items-center"},k$={class:"font-bold text-sm"},_$={class:"p-2 text-gray-700"},w$={class:"flex mb-1.5"},C$={class:"flex-grow pr-2"},S$={class:"text-xs mb-1"},$$={class:"text-xs text-gray-600"},E$={class:"flex justify-between"},A$=Ue({__name:"NextUnlockableGenerator",props:{generator:{}},setup(t){const e=t,s=R(()=>{if(!e.generator)return"";switch(e.generator.tier){case 1:return"food";case 2:return"worker ants";case 3:return"nurseries";case 4:return"queen chambers";default:return"colonies"}}),o=R(()=>10),n=vt(),i=R(()=>{if(!e.generator)return;const c=e.generator.tier-1;return n.unlockedGenerators.find(d=>d.tier===c)}),l=R(()=>{if(!i.value||!e.generator)return 0;const c=i.value.count.toNumber();return Math.min(100,Math.round(c/o.value*100))});return(c,d)=>{var u;return c.generator?(f(),h("div",d$,[r("div",u$,[r("div",m$,[d[1]||(d[1]=r("span",{class:"i-heroicons-lock-closed text-2xl text-gray-500 dark:text-gray-400 mb-2 inline-block"},null,-1)),r("h4",p$,"Unlock "+b(c.generator.name),1),r("p",f$," Requires "+b(o.value)+" "+b(((u=i.value)==null?void 0:u.name)||"previous tier"),1),r("div",g$,[r("div",h$,[d[0]||(d[0]=r("span",null,"Progress:",-1)),r("span",null,b(l.value)+"%",1)]),r("div",b$,[r("div",{class:"h-full bg-amber-500 transition-all duration-300 ease-out",style:Je({width:`${l.value}%`})},null,4)])])])]),r("div",v$,[r("div",y$,[r("div",x$,[r("span",{class:V([c.generator.icon,"text-xl mr-1.5 text-gray-300"])},null,2),r("h3",k$,b(c.generator.name),1)]),d[2]||(d[2]=r("div",{class:"text-xs font-medium bg-gray-600/30 px-1.5 py-0.5 rounded"}," 0 ",-1))]),r("div",_$,[r("div",w$,[r("div",C$,[r("p",S$,b(c.generator.description),1),r("div",$$,[r("div",E$,[d[3]||(d[3]=r("span",null,"Base Production:",-1)),r("span",null,b(g(n).getBaseProduction(c.generator.id).toString())+" "+b(s.value)+"/trip",1)])])])]),d[4]||(d[4]=r("button",{disabled:"",class:"w-full py-1.5 px-3 rounded text-xs font-medium bg-gray-200 text-gray-500 cursor-not-allowed"},[r("span",{class:"i-heroicons-lock-closed text-sm mr-1"}),se(" Locked ")],-1))])])])):Q("",!0)}}}),em="/assets/alateHatchery-BJC_1gpf.png",tm="/assets/antopolis-YGbSc9go.png",sm="/assets/colony-BfbQRuWE.png",om="/assets/hivemind-D3XdIbo3.png",rm="/assets/megacolony-s3ANOJ32.png",nm="/assets/nursery-CPCbpZrN.png",am="/assets/queenChamber-JbZit7nF.png",im="/assets/worker-Dgp3tcyb.png",M$={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] flex flex-col mx-auto border border-amber-200 dark:border-amber-700"},P$={class:"text-base font-bold mb-3 flex items-center text-amber-800 dark:text-amber-300 p-5 pb-2 border-b border-amber-200 dark:border-amber-700"},T$={class:"overflow-y-auto px-5 flex-grow"},L$={class:"space-y-2 mb-4"},I$={class:"text-amber-700 dark:text-amber-400"},D$={class:"font-medium text-amber-900 dark:text-amber-200"},F$={key:0,class:"text-green-600 dark:text-green-400"},R$={key:1,class:"text-yellow-600 dark:text-yellow-400"},U$={key:0,class:"mt-6 mb-4"},B$={class:"border-t border-amber-200 dark:border-amber-700 pt-4 mb-3"},q$={class:"flex items-center"},O$={class:"font-medium text-green-900 dark:text-green-200 mr-2"},N$={key:0,class:"pl-2 space-y-2 mb-4 animate-fadeIn"},H$={class:"text-green-700 dark:text-green-400 text-sm"},j$={class:"font-medium text-green-900 dark:text-green-200 text-sm"},G$={class:"border-t-2 border-amber-200 dark:border-amber-700 pt-3 flex flex-col font-bold text-amber-900 dark:text-amber-200 px-5"},V$={class:"flex justify-between items-center mb-2 text-sm"},Q$={class:"bg-amber-100 dark:bg-amber-800/50 px-2 py-0.5 rounded"},z$={class:"flex justify-between items-center mb-2 text-sm"},W$={class:"bg-yellow-100 dark:bg-yellow-900/30 px-2 py-0.5 rounded text-yellow-800 dark:text-yellow-300"},Y$={key:0,class:"flex justify-between items-center mb-2 text-sm"},K$={class:"bg-green-100 dark:bg-green-900/30 px-2 py-0.5 rounded text-green-800 dark:text-green-300"},X$={class:"flex justify-between items-center mt-1"},Z$={class:"bg-amber-200 dark:bg-amber-700 px-3 py-1 rounded-lg"},J$={class:"text-2xs text-amber-500 dark:text-amber-500 text-center mt-1"},e4={key:1,class:"flex flex-col mt-3 border-t border-amber-100 dark:border-amber-800 pt-2"},t4={class:"flex justify-between items-center"},s4={class:"text-xs bg-amber-100 dark:bg-amber-900 px-2 py-0.5 rounded"},o4={class:"text-2xs text-amber-500 dark:text-amber-500 mb-2 text-center"},r4={class:"flex justify-between items-center"},n4={class:"text-xs bg-amber-100 dark:bg-amber-900 px-2 py-0.5 rounded"},a4={class:"flex justify-between items-center"},i4={class:"text-xs bg-amber-100 dark:bg-amber-900 px-2 py-0.5 rounded"},l4={class:"flex justify-between items-center mt-1"},c4={class:"text-xs bg-amber-100 dark:bg-amber-900 px-2 py-0.5 rounded"},d4={class:"text-2xs text-amber-500 dark:text-amber-500 mb-2 text-center"},u4={class:"flex justify-between items-center font-medium"},m4={class:"text-xs bg-amber-200 dark:bg-amber-800 px-2 py-0.5 rounded"},p4={class:"mt-4 flex justify-end px-5 pb-5"},f4=Ue({__name:"MultiplierBreakdownModal",props:{show:{type:Boolean},generatorId:{},generatorName:{}},emits:["close"],setup(t,{emit:e}){const s=t,o=e,{handleClose:n,preventBackgroundTouchMove:i}=io(),l=W(!1),c=()=>{n(()=>o("close"),0)},d=O=>{O.key==="Escape"&&s.show&&c()};tt(()=>{window.addEventListener("keydown",d)}),fs(()=>{window.removeEventListener("keydown",d)}),We(()=>s.show,O=>{O&&oe()},{immediate:!1});const{getEnhancedMultiplierBreakdown:u,getFormattedTotalMultiplier:m,getAchievementMultiplier:p,getAchievementMultiplierBreakdown:y,formatMultiplierValue:v,getTotalMultiplier:S,getProductionMultiplier:_}=Zr(),C=R(()=>u(s.generatorId,!0)),x=R(()=>_(s.generatorId,!0)),$=R(()=>p(s.generatorId)),A=R(()=>{const O=C.value.filter(G=>G.additive);let Y=new be(1);return O.forEach(G=>{Y=Y.add(G.value.sub(1))}),Y});R(()=>C.value.filter(O=>!O.additive));const M=R(()=>x.value),P=R(()=>S(s.generatorId)),L=R(()=>A.value.mul(M.value).mul(p(s.generatorId))),B=R(()=>v(P.value)),k=R(()=>v(L.value)),I=R(()=>v(M.value)),N=R(()=>v(A.value)),U=R(()=>y(s.generatorId)),j=R(()=>U.value.length>0),ee=R(()=>{const O=p(s.generatorId);return Zr().formatMultiplierValue(O)}),ne=()=>{l.value=!l.value},oe=()=>{Be(`=== Multiplier Breakdown for ${s.generatorName} (${s.generatorId}) ===`),Be(`Additive Subtotal: ${A.value}`),Be(`Store Multiplier (no achievements): ${x.value}`),Be(`Achievement Multiplier: ${$.value}`),L.value;const O=x.value.mul($.value);P.value,Be(),Be(`Direct Calculation: ${O} (${x.value}  ${$.value})`),Be(),Be(),C.value.forEach(Y=>{Be(`- ${Y.name}: ${Y.value} (Additive: ${Y.additive?"Yes":"No"})`)}),j.value&&(Be(),U.value.forEach(Y=>{Be(`- ${Y.name}: ${Y.value}`)}))};return(O,Y)=>O.show?(f(),h("div",{key:0,class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm modal-backdrop","data-modal-backdrop":"true",onClick:at(c,["self"]),onTouchmove:Y[0]||(Y[0]=at((...G)=>g(i)&&g(i)(...G),["self"]))},[r("div",M$,[r("h3",P$,[Y[1]||(Y[1]=r("span",{class:"i-heroicons-chart-bar text-amber-600 dark:text-amber-400 mr-2"},null,-1)),se(" "+b(O.generatorName)+" Multiplier Breakdown ",1)]),r("div",T$,[Y[4]||(Y[4]=r("div",{class:"text-xs text-amber-700 dark:text-amber-400 mb-3 bg-amber-50/70 dark:bg-amber-900/20 p-2 rounded-lg"},[r("p",{class:"mb-1"},[r("strong",null,"How the total is calculated:")]),r("p",null,"1. Start with base value of 1"),r("p",null,[se("2. Add all "),r("span",{class:"text-green-600 dark:text-green-400"},"+"),se(" bonuses to the base")]),r("p",null,[se("3. Multiply the result by all "),r("span",{class:"text-yellow-600 dark:text-yellow-400"},""),se(" bonuses")])],-1)),r("div",L$,[(f(!0),h(Ce,null,De(C.value,(G,de)=>(f(),h("div",{key:de,class:"flex justify-between items-center py-2 px-3 rounded-lg bg-amber-50 dark:bg-amber-900/30"},[r("span",I$,b(G.name),1),r("span",D$,[G.additive?(f(),h("span",F$,"+")):(f(),h("span",R$,"")),se(" "+b(G.formatted),1)])]))),128))]),j.value?(f(),h("div",U$,[r("div",B$,[r("button",{onClick:ne,class:"flex justify-between items-center w-full py-2 px-3 rounded-lg bg-green-50 dark:bg-green-900/30 hover:bg-green-100 dark:hover:bg-green-900/50 transition-colors"},[Y[2]||(Y[2]=r("span",{class:"text-green-700 dark:text-green-400 flex items-center"},[r("span",{class:"i-heroicons-trophy mr-2"}),se(" Achievement Bonuses ")],-1)),r("div",q$,[r("span",O$,b(ee.value),1),r("span",{class:V([{"i-heroicons-chevron-down":!l.value,"i-heroicons-chevron-up":l.value},"text-green-600 dark:text-green-400"])},null,2)])])]),l.value?(f(),h("div",N$,[(f(!0),h(Ce,null,De(U.value,(G,de)=>(f(),h("div",{key:de,class:"flex justify-between items-center py-2 px-3 rounded-lg bg-green-50/50 dark:bg-green-900/20"},[r("span",H$,b(G.name),1),r("span",j$,[Y[3]||(Y[3]=r("span",{class:"text-yellow-600 dark:text-yellow-400"},"",-1)),se(" "+b(G.formatted),1)])]))),128))])):Q("",!0)])):Q("",!0)]),r("div",G$,[r("div",V$,[Y[5]||(Y[5]=r("span",{class:"font-medium"},"Additive Subtotal:",-1)),r("span",Q$,b(N.value),1)]),r("div",z$,[Y[6]||(Y[6]=r("span",{class:"font-medium flex items-center"},[r("span",{class:"text-yellow-600 dark:text-yellow-400"},""),se(" Base Multiplier (non-achievements): ")],-1)),r("span",W$,b(I.value),1)]),j.value?(f(),h("div",Y$,[Y[7]||(Y[7]=r("span",{class:"font-medium flex items-center"},[r("span",{class:"text-yellow-600 dark:text-yellow-400"},""),se(" Achievement Bonuses: ")],-1)),r("span",K$,b(ee.value),1)])):Q("",!0),r("div",X$,[Y[8]||(Y[8]=r("span",null,"Total Multiplier:",-1)),r("span",Z$,b(B.value),1)]),r("div",J$," ("+b(g(v)(x.value))+"  "+b(ee.value)+" = "+b(B.value)+") ",1),g(vr)()?(f(),h("div",e4,[Y[14]||(Y[14]=r("h4",{class:"text-xs font-medium text-amber-700 dark:text-amber-400 mb-1"},"Debug Information:",-1)),r("div",t4,[Y[9]||(Y[9]=r("span",{class:"text-xs text-amber-600 dark:text-amber-400"},"Corrected calc (Store  Achv):",-1)),r("span",s4,b(g(v)(x.value.mul($.value))),1)]),r("div",o4," ("+b(g(v)(x.value))+"  "+b(ee.value)+" = "+b(g(v)(x.value.mul($.value)))+") ",1),r("div",r4,[Y[10]||(Y[10]=r("span",{class:"text-xs text-amber-600 dark:text-amber-400"},"Breakdown sources total:",-1)),r("span",n4,b(k.value),1)]),Y[15]||(Y[15]=r("div",{class:"text-2xs text-amber-500 dark:text-amber-500 mb-2 text-center"},[r("span",{class:"text-amber-400 dark:text-amber-300"},"(Note: This doesn't match because of multiplier categorization issues)")],-1)),r("div",a4,[Y[11]||(Y[11]=r("span",{class:"text-xs text-amber-600 dark:text-amber-400"},"Store multiplier only:",-1)),r("span",i4,b(g(v)(x.value)),1)]),r("div",l4,[Y[12]||(Y[12]=r("span",{class:"text-xs text-amber-600 dark:text-amber-400"},"Direct store  achievement:",-1)),r("span",c4,b(g(v)(x.value.mul($.value))),1)]),r("div",d4," ("+b(g(v)(x.value))+"  "+b(ee.value)+" = "+b(g(v)(x.value.mul($.value)))+") ",1),r("div",u4,[Y[13]||(Y[13]=r("span",{class:"text-xs text-amber-700 dark:text-amber-300"},"getTotalMultiplier result:",-1)),r("span",m4,b(B.value),1)])])):Q("",!0)]),r("div",p4,[g(vr)()?(f(),h("button",{key:0,onClick:oe,class:"py-2 px-4 bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-800 rounded-lg text-white text-sm font-medium transition-colors mr-2"}," Debug ")):Q("",!0),r("button",{onClick:c,class:"py-2 px-4 bg-amber-600 hover:bg-amber-700 dark:bg-amber-700 dark:hover:bg-amber-800 rounded-lg text-white text-sm font-medium transition-colors"}," Close ")])])],32)):Q("",!0)}}),g4=st(f4,[["__scopeId","data-v-66b01dd8"]]),h4={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden border border-amber-200 dark:border-amber-700 transition-all duration-200"},b4={class:"flex flex-col h-full"},v4={class:"bg-gradient-to-r from-amber-600 to-amber-500 dark:from-amber-700 dark:to-amber-600 py-1.5 px-2.5 flex items-center justify-between text-white"},y4={class:"flex items-center"},x4={class:"font-bold text-xs md:text-sm"},k4={class:"text-xs font-medium bg-amber-700/30 dark:bg-amber-800/40 px-1.5 py-0.5 rounded"},_4={class:"relative px-2.5 pt-2 pb-1 text-amber-900 dark:text-amber-100 flex-grow text-xs overflow-hidden"},w4=["src"],C4={class:"relative z-10"},S4={class:"mb-1.5"},$4={class:"grid grid-cols-2 gap-x-2 gap-y-0 mb-2 -mx-1"},E4={class:"text-right font-semibold text-amber-800 dark:text-amber-200 px-1 py-0.5 rounded hover:bg-amber-50 dark:hover:bg-gray-700/50 transition-colors duration-150"},A4={class:"text-right text-amber-600 dark:text-amber-500 px-1 py-0.5 rounded hover:bg-amber-50 dark:hover:bg-gray-700/50 transition-colors duration-150"},M4={key:0},P4={key:1},T4={class:"text-right text-amber-700 dark:text-amber-400 px-1 py-0.5 rounded hover:bg-amber-50 dark:hover:bg-gray-700/50 transition-colors duration-150"},L4={class:"text-right text-amber-700 dark:text-amber-400 px-1 py-0.5 rounded hover:bg-amber-50 dark:hover:bg-gray-700/50 transition-colors duration-150"},I4={class:"text-right text-amber-700 dark:text-amber-400 px-1 py-0.5 rounded hover:bg-amber-50 dark:hover:bg-gray-700/50 transition-colors duration-150"},D4={key:0,class:"border-t border-amber-200 dark:border-amber-700 pt-1.5 mb-2"},F4={class:"flex justify-between items-center mb-1"},R4={class:"text-xs bg-amber-100 dark:bg-amber-900 text-amber-800 dark:text-amber-200 px-1.5 py-0.5 rounded-full"},U4={class:"h-1.5 bg-amber-100 dark:bg-amber-900/50 rounded-full overflow-hidden"},B4={class:"flex justify-between mt-0.5 text-2xs text-amber-700 dark:text-amber-400"},q4={key:1,class:"flex justify-between items-center mb-2 border-t border-amber-200 dark:border-amber-700 pt-1.5"},O4={key:2,class:"flex flex-col mb-2 border-t border-amber-200 dark:border-amber-700 pt-1.5"},N4={class:"flex justify-between items-center"},H4={class:"font-medium text-amber-800 dark:text-amber-300 flex items-center group relative"},j4={key:0,class:"ml-1 px-1.5 py-0.5 text-2xs bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 rounded"},G4={key:0,class:"text-2xs text-right mt-1"},V4={key:0,class:"text-purple-600 dark:text-purple-400"},Q4={key:1,class:"text-green-600 dark:text-green-400"},z4={key:2,class:"text-amber-600 dark:text-amber-500"},W4={key:1,class:"text-2xs text-amber-600 dark:text-amber-400 mt-1 text-right"},Y4={class:"px-2.5 py-2 mt-auto border-t border-amber-100 dark:border-amber-800"},K4={key:0,class:"text-xs text-red-600 dark:text-red-400 mb-1 flex items-center"},X4=Ue({__name:"GeneratorItem",props:{generator:{}},emits:["upgrade"],setup(t,{emit:e}){const s=t,o=vt(),n=ct(),i=gt();cs();const l=qs(),c=Wt(),{hasAvailableUpgrades:d}=Ny(),u=W(!1),{getTotalMultiplier:m,getFormattedTotalMultiplier:p,getEnhancedMultiplierBreakdown:y}=Zr(),v=R(()=>o.getGeneratorCost(s.generator.id)),S=R(()=>ie(v.value,2)),_=R(()=>o.food.gte(v.value)),C=R(()=>ie(s.generator.count.add(s.generator.selfReplicated),0)),x=R(()=>ie(s.generator.manualPurchases,0)),$=R(()=>s.generator.count.sub(s.generator.manualPurchases)),A=R(()=>ie($.value,0)),M=R(()=>ie(o.getBaseProduction(s.generator.id),1));R(()=>m(s.generator.id));const P=R(()=>p(s.generator.id)),L=R(()=>o.getActualProduction(s.generator.id)),B=R(()=>ie(L.value,1)),k=R(()=>s.generator.selfReplicated),I=R(()=>ie(k.value,0)),N=R(()=>{const K=`${s.generator.id}Reproduction`;return n.getUpgradeMultiplier(K).gt(0)}),U={worker:"autoWorker",nursery:"autoNursery",queenChamber:"autoQueenChamber",colony:"autoColony",megacolony:"autoMegacolony",hivemind:"autoHivemind",antopolis:"autoAntopolis"},j=R(()=>{const K=U[s.generator.id];return K?n.getUpgradeMultiplier(K).gt(0):!1}),ee=R(()=>{const K=`autoUpgrade${s.generator.id.charAt(0).toUpperCase()+s.generator.id.slice(1)}`;return n.getUpgradeMultiplier(K).gt(0)}),ne=R(()=>!s.generator.autoUpgradeEnabled||!ee.value?!1:d(s.generator.id)),oe=R(()=>c.getActivePresetForGenerator(s.generator.id)),O=R(()=>o.autoUpgradeCounter),Y=R(()=>o.AUTO_UPGRADE_FREQUENCY),G=R(()=>Math.max(0,Y.value-O.value)),de=()=>{o.toggleAutoPurchase(s.generator.id)},re=()=>{o.toggleAutoUpgrade(s.generator.id)},he=()=>{_.value&&!ve.value&&o.buyGenerator(s.generator.id)},ve=R(()=>{if(s.generator.id==="hivemind"){const K=o.getGenerator("megacolony");return!K||K.count.eq(0)}else if(s.generator.id==="antopolis"){const K=o.getGenerator("hivemind");return!K||K.count.eq(0)}return!1}),Se=R(()=>s.generator.id==="hivemind"?"Requires at least one Mega Colony":s.generator.id==="antopolis"?"Requires at least one Hive Mind":""),Me=R(()=>{switch(s.generator.tier){case 1:return"food";case 2:return"worker ants";case 3:return"nurseries";case 4:return"queen chambers";case 5:return"colonies";case 6:return"mega colonies";case 7:return"hive minds";default:return"resources"}}),Oe=R(()=>_.value&&!ve.value?"w-full py-1.5 px-2.5 rounded text-xs font-medium bg-amber-600 hover:bg-amber-700 dark:bg-amber-700 dark:hover:bg-amber-800 text-white":"w-full py-1.5 px-2.5 rounded text-xs font-medium bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed"),He=R(()=>l.isFeatureUnlocked.upgrades),we=R(()=>{var K;return((K=c.generatorLevels[s.generator.id])==null?void 0:K.toNumber())||0}),_e=R(()=>c.formatProgressPercentage(s.generator.id)),pe=R(()=>c.formatPoints(s.generator.id));W(!1);const me=()=>{le("upgrade",s.generator.id)},le=e,z=K=>{try{return new URL(Object.assign({"../assets/generators/alateHatchery.png":em,"../assets/generators/antopolis.png":tm,"../assets/generators/colony.png":sm,"../assets/generators/hivemind.png":om,"../assets/generators/megacolony.png":rm,"../assets/generators/nursery.png":nm,"../assets/generators/queenChamber.png":am,"../assets/generators/worker.png":im})[`../assets/generators/${K}.png`],import.meta.url).href}catch(H){return console.error(`Error loading image for generator ${K}:`,H),""}};return(K,H)=>(f(),h(Ce,null,[r("div",h4,[r("div",b4,[r("div",v4,[r("div",y4,[r("h3",x4,b(K.generator.name),1)]),r("div",k4,b(C.value),1)]),r("div",_4,[r("img",{src:z(K.generator.id),alt:"",class:"absolute inset-0 m-auto h-full object-contain opacity-5 dark:opacity-[0.2] pointer-events-none z-0",onError:H[0]||(H[0]=T=>T.target.style.display="none")},null,40,w4),r("div",C4,[r("p",S4,b(K.generator.description),1),r("div",$4,[H[5]||(H[5]=r("div",{class:"font-semibold text-amber-800 dark:text-amber-200 flex items-center px-1 py-0.5 rounded hover:bg-amber-50 dark:hover:bg-gray-700/50 transition-colors duration-150"},[r("span",{class:"i-heroicons-currency-dollar mr-1"}),se(" Production: ")],-1)),r("div",E4,b(B.value)+" "+b(Me.value)+"/trip",1),H[6]||(H[6]=r("div",{class:"font-medium text-amber-600 dark:text-amber-500 flex items-center px-1 py-0.5 rounded hover:bg-amber-50 dark:hover:bg-gray-700/50 transition-colors duration-150"},[r("span",{class:"i-heroicons-calculator mr-1"}),se(" Base  Multiplier: ")],-1)),r("div",A4,[se(b(M.value)+"  ",1),P.value.length>0?(f(),h("span",M4,[r("span",{class:"cursor-pointer inline-flex items-center",onClick:H[1]||(H[1]=T=>u.value=!0)},[se(b(P.value)+" ",1),H[3]||(H[3]=r("span",{class:"i-heroicons-information-circle text-xs ml-1 text-amber-500 dark:text-amber-400"},null,-1))])])):(f(),h("span",P4,b(P.value),1))]),H[7]||(H[7]=r("div",{class:"font-medium text-amber-700 dark:text-amber-400 flex items-center px-1 py-0.5 rounded hover:bg-amber-50 dark:hover:bg-gray-700/50 transition-colors duration-150"},[r("span",{class:"i-heroicons-shopping-bag mr-1"}),se(" Bought: ")],-1)),r("div",T4,b(x.value),1),H[8]||(H[8]=r("div",{class:"font-medium text-amber-700 dark:text-amber-400 flex items-center px-1 py-0.5 rounded hover:bg-amber-50 dark:hover:bg-gray-700/50 transition-colors duration-150"},[r("span",{class:"i-heroicons-sparkles mr-1"}),se(" Generated: ")],-1)),r("div",L4,b(A.value),1),N.value?(f(),h(Ce,{key:0},[H[4]||(H[4]=r("div",{class:"font-medium text-amber-700 dark:text-amber-400 flex items-center px-1 py-0.5 rounded hover:bg-amber-50 dark:hover:bg-gray-700/50 transition-colors duration-150"},[r("span",{class:"i-heroicons-document-duplicate mr-1"}),se(" Self-Replicated: ")],-1)),r("div",I4,b(I.value),1)],64)):Q("",!0)]),He.value&&K.generator.count.gt(0)||g(i).ascensionCount>0?(f(),h("div",D4,[r("div",F4,[H[9]||(H[9]=r("span",{class:"font-medium text-amber-800 dark:text-amber-300 flex items-center"},[r("span",{class:"i-heroicons-star text-amber-600 dark:text-amber-400 mr-1"}),se(" Specialization: ")],-1)),r("span",R4," Lvl "+b(we.value),1)]),r("div",U4,[r("div",{class:"h-full bg-amber-500 dark:bg-amber-600 transition-all duration-700 ease-out",style:Je({width:`${_e.value}%`})},null,4)]),r("div",B4,[r("span",null,b(pe.value)+" points",1),r("span",null,b(_e.value)+"%",1)]),r("button",{onClick:me,class:"mt-1 w-full text-xs bg-amber-600 dark:bg-amber-700 text-white px-2 py-1 rounded-md flex items-center justify-center hover:bg-amber-700 dark:hover:bg-amber-800 transition-colors"},H[10]||(H[10]=[r("span",{class:"i-heroicons-arrow-up-circle text-xs mr-1"},null,-1),se(" Upgrade Specialization ")]))])):Q("",!0),j.value?(f(),h("div",q4,[H[11]||(H[11]=r("span",{class:"font-medium text-amber-800 dark:text-amber-300"},"Auto-purchase:",-1)),r("button",{onClick:de,class:V(["w-8 h-4 rounded-full relative cursor-pointer transition-colors duration-200 ease-in-out",K.generator.autoPurchaseEnabled?"bg-green-500 dark:bg-green-600":"bg-gray-300 dark:bg-gray-600"])},[r("span",{class:V(["absolute top-0.5 left-0.5 w-3 h-3 bg-white dark:bg-gray-200 rounded-full shadow transform transition-transform duration-200 ease-in-out",K.generator.autoPurchaseEnabled?"translate-x-4":"translate-x-0"])},null,2)],2)])):Q("",!0),He.value&&K.generator.count.gt(0)&&ee.value?(f(),h("div",O4,[r("div",N4,[r("span",H4,[H[12]||(H[12]=se(" Auto-upgrade: ")),H[13]||(H[13]=r("span",{class:"i-heroicons-information-circle text-xs ml-1 text-amber-500 dark:text-amber-400 cursor-help",title:"Automatically spends specialization points on available upgrades or follows an active preset."},null,-1)),K.generator.autoUpgradeEnabled&&oe.value?(f(),h("span",j4," Preset: "+b(oe.value.name),1)):Q("",!0)]),r("button",{onClick:re,class:V(["w-8 h-4 rounded-full relative cursor-pointer transition-colors duration-200 ease-in-out",[K.generator.autoUpgradeEnabled?oe.value?"bg-purple-500 dark:bg-purple-600":ne.value?"bg-green-500 dark:bg-green-600":"bg-amber-500 dark:bg-amber-600":"bg-gray-300 dark:bg-gray-600"]])},[r("span",{class:V(["absolute top-0.5 left-0.5 w-3 h-3 bg-white dark:bg-gray-200 rounded-full shadow transform transition-transform duration-200 ease-in-out",K.generator.autoUpgradeEnabled?"translate-x-4":"translate-x-0"])},null,2)],2)]),K.generator.autoUpgradeEnabled?(f(),h("div",G4,[oe.value?(f(),h("span",V4,"Preset: "+b(oe.value.name),1)):ne.value?(f(),h("span",Q4,"Actively upgrading...")):(f(),h("span",z4,"Enabled"))])):Q("",!0),K.generator.autoUpgradeEnabled?(f(),h("div",W4," Next check: "+b(G.value)+" / "+b(Y.value)+" ticks ",1)):Q("",!0)])):Q("",!0)])]),r("div",Y4,[ve.value?(f(),h("div",K4,[H[14]||(H[14]=r("span",{class:"i-heroicons-exclamation-triangle text-xs mr-1"},null,-1)),se(" "+b(Se.value),1)])):Q("",!0),Fe(Jr,{onAction:he,disabled:!_.value||ve.value,class:V(Oe.value),"initial-delay":400,"repeat-interval":150,accelerate:!0,"min-interval":30},{default:mt(()=>[H[15]||(H[15]=r("span",{class:"i-heroicons-shopping-cart text-xs mr-1"},null,-1)),se(" Buy for "+b(S.value)+" food ",1)]),_:1},8,["disabled","class"])])])]),Fe(g4,{show:u.value,"generator-id":K.generator.id,"generator-name":K.generator.name,onClose:H[2]||(H[2]=T=>u.value=!1)},null,8,["show","generator-id","generator-name"])],64))}}),Z4={class:"text-base font-bold mb-2 flex items-center justify-between"},J4={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3"},eE=Ue({__name:"AntHierarchySection",props:{className:{}},emits:["upgrade","showInfo"],setup(t,{emit:e}){const s=e,o=vt(),n=qs(),i=R(()=>o.unlockedGenerators),l=R(()=>o.nextUnlockableGenerator),c=m=>{s("upgrade",m)},d=R(()=>n.isFeatureUnlocked.upgrades),u=()=>{s("showInfo")};return(m,p)=>{const y=X4,v=A$;return f(),h("section",{id:"generator-section",class:V(["bg-gradient-to-br from-amber-100 to-amber-50 rounded-xl p-3 shadow-md dark:from-amber-900/30 dark:to-amber-800/30 dark:text-amber-50",m.className])},[r("h2",Z4,[p[1]||(p[1]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-cog-6-tooth text-amber-700 mr-2"}),se(" Ant Hierarchy ")],-1)),g(d)?(f(),h("button",{key:0,onClick:u,class:"w-5 h-5 rounded-full bg-amber-200 hover:bg-amber-300 dark:bg-amber-800 dark:hover:bg-amber-700 flex items-center justify-center text-amber-700 dark:text-amber-300 transition-colors"},p[0]||(p[0]=[r("span",{class:"i-heroicons-question-mark-circle text-base"},null,-1)]))):Q("",!0)]),r("div",J4,[(f(!0),h(Ce,null,De(g(i),S=>(f(),rt(y,{key:S.id,generator:S,onUpgrade:c},null,8,["generator"]))),128)),g(l)?(f(),rt(v,{key:0,generator:g(l)},null,8,["generator"])):Q("",!0)])],2)}}}),tE={class:"space-y-4"},sE=Ue({__name:"IndexPage",setup(t){As(),vt(),ct();const e=qs();Wt();const{isFeatureUnlocked:s}=e,{shouldAnimateFeature:o}=jy(),n=W(!1),i=W(!1),l=W(!1),c=W(null),d=W(!1),u=v=>{c.value=v,d.value=!0},m=()=>{d.value=!1},p=W(!1),y=()=>{p.value=!p.value};return tt(()=>{o("colonyStatus")&&(n.value=!0,setTimeout(()=>{n.value=!1},1500)),o("upgrades")&&(i.value=!0,setTimeout(()=>{i.value=!1},1500)),o("upgrades")&&(l.value=!0,setTimeout(()=>{l.value=!1},1500))}),We(()=>s.colonyStatus,(v,S)=>{v&&!S&&(n.value=!0,setTimeout(()=>{n.value=!1},1500))}),We(()=>s.upgrades,(v,S)=>{v&&!S&&(i.value=!0,l.value=!0,setTimeout(()=>{i.value=!1,l.value=!1},1500))}),(v,S)=>(f(),h("div",tE,[Q("",!0),Fe(eE,{onUpgrade:u,onShowInfo:y}),Fe(wC,{show:p.value,onClose:y},null,8,["show"]),Fe(c$,{show:d.value,"selected-generator":c.value,"generator-info":g(yC),onClose:m},null,8,["show","selected-generator","generator-info"]),Fe(wr,{threshold:400})]))}});function oE(){const t=W(null),e=W(!1),s=W(!1),o=W(!0),n=()=>{(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0||document.referrer.includes("android-app://"))&&(s.value=!0)},i=()=>{const u=navigator.userAgent.toLowerCase(),m=u.indexOf("chrome")>-1&&u.indexOf("edg")===-1,p=u.indexOf("edg")>-1,y=u.indexOf("safari")>-1&&u.indexOf("chrome")===-1,v=u.indexOf("firefox")>-1,S=u.indexOf("arc")>-1,_=u.indexOf("macintosh")>-1;(s.value||S||y&&_||!m&&!p&&!y&&!v)&&(o.value=!1)},l=u=>{u.preventDefault(),t.value=u,e.value=!0},c=()=>{s.value=!0,e.value=!1,t.value=null,console.log("PWA was installed")},d=async()=>{if(!t.value){o.value&&alert('To install this app: tap the share/menu button in your browser and select "Add to Home Screen" or "Install"');return}t.value.prompt(),(await t.value.userChoice).outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),t.value=null,e.value=!1};return tt(()=>{n(),i(),window.addEventListener("beforeinstallprompt",l),window.addEventListener("appinstalled",c)}),Ms(()=>{window.removeEventListener("beforeinstallprompt",l),window.removeEventListener("appinstalled",c)}),{isInstallable:e,isInstalled:s,browserSupportsInstall:o,promptInstall:d}}const rE="0.43.1";function Gy(){return{version:rE}}function Vy(t){let e=t;return e=e.replace(/```([^`]+)```/g,(s,o)=>`<pre class="bg-amber-100 dark:bg-amber-950/40 p-4 rounded-lg overflow-x-auto my-3"><code>${o.trim()}</code></pre>`),e=e.replace(/`([^`]+)`/g,(s,o)=>`<code class="bg-amber-100 dark:bg-amber-950/40 px-1 py-0.5 rounded font-mono text-sm">${o}</code>`),e=e.replace(/^## (.+)$/gm,(s,o)=>`<h2 class="text-xl font-bold mt-6 mb-3 text-amber-800 dark:text-amber-300">${o}</h2>`),e=e.replace(/^### (.+)$/gm,(s,o)=>`<h3 class="text-lg font-bold mt-4 mb-2 text-amber-700 dark:text-amber-400">${o}</h3>`),e=e.replace(/\*\*([^*]+)\*\*/g,(s,o)=>`<strong class="font-bold">${o}</strong>`),e=e.replace(/\*([^*]+)\*/g,(s,o)=>`<em class="italic">${o}</em>`),e=e.replace(/\[([^\]]+)\]\(([^)]+)\)/g,(s,o,n)=>`<a href="${n}" class="text-amber-600 dark:text-amber-400 hover:underline" target="_blank" rel="noopener noreferrer">${o}</a>`),e=e.replace(/^\s*-\s+(.+)$/gm,(s,o)=>`<li class="mb-1">${o}</li>`),e=e.replace(/<li class="mb-1">(.+)<\/li>\n<li class="mb-1">/g,`<li class="mb-1">$1</li>
<li class="mb-1">`),e=e.replace(/(<li class="mb-1">.+<\/li>\n)+/g,s=>`<ul class="list-disc pl-6 my-3">${s}</ul>`),e=e.replace(/^([^<\n].+)$/gm,(s,o)=>`<p class="my-2">${o}</p>`),e=e.replace(/## \[(.+)\] - (.+)/g,(s,o,n)=>`<h2 class="text-xl font-bold mt-6 mb-3 text-amber-800 dark:text-amber-300">
      <span class="inline-block bg-amber-200 dark:bg-amber-800/80 text-amber-800 dark:text-amber-200 px-2 py-1 rounded mr-2">${o}</span>
      <span class="text-amber-600 dark:text-amber-400 text-base">${n}</span>
    </h2>`),e}const Jf="idle-ant-farm-last-version",eg="idle-ant-farm-announcements-enabled",ia=(t,e)=>{const s=t.split(".").map(Number),o=e.split(".").map(Number);for(let n=0;n<Math.max(s.length,o.length);n++){const i=n<s.length?s[n]:0,l=n<o.length?o[n]:0;if(i>l)return 1;if(i<l)return-1}return 0};function Qy(){const{version:t}=Gy(),e=W(!1),s=W(!0),o=W({versionRange:"",date:"",content:""}),n=W(!0),i=()=>localStorage.getItem(Jf)||"0.0.0",l=()=>{localStorage.setItem(Jf,t)},c=()=>{const _=localStorage.getItem(eg);_!==null&&(s.value=_==="true")},d=()=>{s.value=!s.value,localStorage.setItem(eg,s.value.toString())},u=R(()=>{const _=i();return ia(t,_)>0}),m=(_,C)=>{const x=`## [${C}]`,$=_.indexOf(x);if($===-1)return null;const A=_.substring($).match(/## \[[^\]]+\] - ([^\n]+)/);if(!A)return null;const M=A[1],P=_.indexOf(`

`,$)+2,L=_.indexOf("## [",P),B=L!==-1?L:_.length,k=_.substring(P,B).trim();return{version:C,date:M,content:k}},p=_=>{const C=[],x=/## \[([^\]]+)\] - ([^\n]+)/g;let $;for(;($=x.exec(_))!==null;){const A=$[1];$[2];const M=m(_,A);M&&C.push(M)}return C.sort((A,M)=>ia(M.version,A.version)),C},y=(_,C,x)=>{const $=p(_);if($.length===0)return null;const A=$.filter(L=>ia(L.version,C)>0&&ia(L.version,x)<=0);if(A.length===0)return null;A.sort((L,B)=>ia(B.version,L.version));let M="";return A.forEach(L=>{M+=`<h2 class="text-xl font-bold mt-6 mb-3 text-amber-800 dark:text-amber-300">
        <span class="inline-block bg-amber-200 dark:bg-amber-800/80 text-amber-800 dark:text-amber-200 px-2 py-1 rounded mr-2">v${L.version}</span>
        <span class="text-amber-600 dark:text-amber-400 text-base">${L.date}</span>
      </h2>
${Vy(L.content)}

`}),{versionRange:A.length===1?A[0].version:`${A[A.length-1].version} to ${A[0].version}`,date:A[0].date,content:M}},v=async()=>{try{n.value=!0;const C=await(await fetch("/CHANGELOG.md")).text(),x=i(),$=y(C,x,t);$&&(o.value=$,u.value&&s.value&&(e.value=!0))}catch(_){console.error("Failed to load changelog:",_)}finally{n.value=!1}},S=()=>{e.value=!1,l()};return c(),tt(()=>{v()}),{showAnnouncement:e,updateDetails:o,isLoading:n,hasVersionUpdate:u,closeAnnouncement:S,announcementsEnabled:s,toggleAnnouncementsEnabled:d}}const nE=Ft("darkMode",()=>{const t=W(!1);function e(){const i=localStorage.getItem("darkMode");i==="true"?t.value=!0:i==="false"?t.value=!1:t.value=window.matchMedia("(prefers-color-scheme: dark)").matches,n(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",l=>{localStorage.getItem("darkMode")===null&&o(l.matches)})}function s(){t.value=!t.value,n()}function o(i){t.value=i,n()}function n(){t.value?(document.documentElement.classList.add("dark"),localStorage.setItem("darkMode","true")):(document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode","false"))}return{isDarkMode:t,initialize:e,toggleDarkMode:s,setDarkMode:o}});function xi(){const t=nE();return tt(()=>{t.initialize()}),{isDarkMode:t.isDarkMode,toggleDarkMode:t.toggleDarkMode,setDarkMode:t.setDarkMode}}const aE={class:"flex items-center justify-between"},iE={class:"relative inline-flex items-center cursor-pointer"},lE=Ue({__name:"DarkModeToggle",setup(t){const{isDarkMode:e,toggleDarkMode:s}=xi();return(o,n)=>(f(),h("div",aE,[n[3]||(n[3]=r("div",null,[r("div",{class:"text-sm font-medium"},"Dark Mode"),r("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Toggle between light and dark theme")],-1)),r("label",iE,[ut(r("input",{"onUpdate:modelValue":n[0]||(n[0]=i=>Mt(e)?e.value=i:null),type:"checkbox",class:"sr-only peer",onChange:n[1]||(n[1]=(...i)=>g(s)&&g(s)(...i))},null,544),[[Xt,g(e)]]),n[2]||(n[2]=r("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])]))}}),cE="0.43.1",dE={class:"space-y-4"},uE={key:0,class:"bg-gradient-to-br from-green-100 to-green-50 dark:from-green-900 dark:to-green-800 rounded-xl p-3 shadow-md"},mE={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-green-200 dark:border-green-700"},pE={class:"text-xs text-green-800 dark:text-green-200"},fE={class:"text-xs font-medium mt-1"},gE={class:"mt-2 flex justify-end"},hE={key:1,class:"bg-gradient-to-br from-blue-100 to-blue-50 dark:from-blue-900 dark:to-blue-800 rounded-xl p-3 shadow-md"},bE={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-blue-200 dark:border-blue-700"},vE={key:1,class:"text-sm text-blue-800 dark:text-blue-200"},yE={class:"bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-800 dark:to-gray-700 rounded-xl p-3 shadow-md"},xE={class:"space-y-2"},kE={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},_E={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},wE={class:"flex items-center justify-between"},CE={class:"relative inline-flex items-center cursor-pointer"},SE={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},$E={class:"flex items-center justify-between"},EE={class:"relative inline-flex items-center cursor-pointer"},AE={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},ME={class:"flex items-center justify-between"},PE={class:"relative inline-flex items-center cursor-pointer"},TE={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},LE={class:"flex items-center justify-between"},IE={class:"relative inline-flex items-center cursor-pointer"},DE={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},FE={class:"flex items-center justify-between"},RE={class:"relative inline-flex items-center cursor-pointer"},UE={key:0,class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},BE={class:"space-y-2"},qE={class:"flex items-center justify-between"},OE={class:"text-sm font-medium text-blue-600 dark:text-blue-400"},NE=["value"],HE={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},jE={class:"flex items-center justify-between"},GE={class:"relative inline-flex items-center cursor-pointer"},VE=["checked"],QE={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},zE={class:"flex items-center justify-between"},WE={class:"relative inline-flex items-center cursor-pointer"},YE=["checked"],KE={key:2,class:"bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-800 dark:to-gray-700 rounded-xl p-3 shadow-md"},XE={class:"space-y-2"},ZE={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},JE={class:"flex items-center justify-between"},eA={class:"relative inline-flex items-center cursor-pointer"},tA={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},sA={class:"flex items-center justify-between"},oA={class:"relative inline-flex items-center cursor-pointer"},rA=["checked"],nA={key:0,class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},aA={class:"flex items-center justify-between"},iA={class:"relative inline-flex items-center cursor-pointer"},lA={class:"bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-800 dark:to-gray-700 rounded-xl p-3 shadow-md"},cA={class:"space-y-2"},dA={key:0,class:"bg-green-100 dark:bg-green-900 p-2 rounded-lg border border-green-200 dark:border-green-700"},uA={class:"text-xs text-green-800 dark:text-green-200 flex items-center"},mA={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},pA={class:"mb-2"},fA={key:0,class:"mt-1"},gA={key:0,class:"text-xs text-green-600 dark:text-green-400 mt-0.5"},hA={class:"grid grid-cols-2 gap-2 mb-2"},bA={class:"bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md p-1.5 mb-1 h-16 flex flex-col justify-center"},vA={key:0,class:"text-xs text-red-600 dark:text-red-400 mt-0.5"},yA={key:1,class:"text-xs text-green-600 dark:text-green-400 mt-0.5"},xA={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},kA={key:1,class:"space-y-1"},_A={class:"grid grid-cols-2 gap-2"},wA={class:"bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-800 dark:to-gray-700 rounded-xl p-3 shadow-md"},CA={key:0,class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 mb-2"},SA={key:0,class:"text-xs text-center text-purple-600 dark:text-purple-400 mt-1"},$A={class:"grid grid-cols-2 gap-2"},EA={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},AA={class:"text-sm font-medium"},MA={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},PA={class:"text-sm font-medium"},TA=Ue({__name:"SettingsPage",setup(t){const e=Os(),s=As(),o=ct(),n=Ws();gt();const i=Vt(),{announcementsEnabled:l,toggleAnnouncementsEnabled:c}=Qy(),d=Ns(),{isInstallable:u,promptInstall:m,browserSupportsInstall:p}=oE();W(1);const y=W(""),v=W(""),S=W(""),_=W(!1),C=W(!1),x=W(null),$=W(!1),A=W(!1),M=W(!1),P=W(null);We(()=>e.isCalculatingOfflineProgress,oe=>{!oe&&e.offlineProgressTotalTicks>0&&(P.value={elapsedTime:e.offlineProgressElapsedTime,ticks:e.offlineProgressTotalTicks})});const L=()=>{const oe=e.exportSave();oe&&(y.value=oe,C.value=!0,setTimeout(()=>{C.value=!1},3e3))},B=async()=>{if(S.value="",!v.value){S.value="Please enter a save string";return}try{await e.importSave(v.value)?(_.value=!0,v.value="",setTimeout(()=>{_.value=!1},3e3)):S.value="Invalid save data"}catch(oe){S.value="Error importing save",console.error(oe)}},k=async oe=>{S.value="";const O=oe.target;if(!O.files||O.files.length===0){S.value="No file selected";return}const Y=O.files[0];try{await e.importSaveFromFile(Y)?(_.value=!0,setTimeout(()=>{_.value=!1},3e3)):S.value="Invalid save data in file"}catch(G){S.value="Error importing save from file",console.error(G)}x.value&&(x.value.value="")},I=()=>{e.exportSaveToFile()},N=()=>{e.saveGame()&&($.value=!0,setTimeout(()=>{$.value=!1},3e3))},U=async()=>{await e.loadGame()&&(A.value=!0,setTimeout(()=>{A.value=!1},3e3))},j=()=>{M.value?e.resetGame():(M.value=!0,setTimeout(()=>{M.value=!1},5e3))},ee=oe=>{if(oe<60)return`${Math.floor(oe)} seconds`;if(oe<3600){const O=Math.floor(oe/60);return`${O} minute${O!==1?"s":""}`}else{const O=Math.floor(oe/3600),Y=Math.floor(oe%3600/60);return`${O} hour${O!==1?"s":""} ${Y>0?`and ${Y} minute${Y!==1?"s":""}`:""}`}};tt(()=>{}),W(0),W(0);const ne=()=>{s.showGameFinishedScreen=!0};return(oe,O)=>{const Y=wr;return f(),h(Ce,null,[r("div",dE,[P.value?(f(),h("section",uE,[O[27]||(O[27]=r("h2",{class:"text-base font-bold mb-2 flex items-center text-green-800 dark:text-green-200"},[r("span",{class:"i-heroicons-clock text-green-700 dark:text-green-300 mr-2"}),se(" Offline Progress Applied ")],-1)),r("div",mE,[r("p",pE," While you were away for "+b(ee(P.value.elapsedTime))+", your colony continued to work! ",1),r("p",fE,[O[26]||(O[26]=r("span",{class:"i-heroicons-check-circle text-green-600 dark:text-green-400 mr-1"},null,-1)),se(" "+b(P.value.ticks)+" game cycles completed ",1)])]),r("div",gE,[r("button",{onClick:O[0]||(O[0]=G=>P.value=null),class:"text-xs text-green-800 dark:text-green-200 bg-green-200 dark:bg-green-700 hover:bg-green-300 dark:hover:bg-green-600 px-2 py-1 rounded-md"}," Dismiss ")])])):Q("",!0),g(u)||g(p)?(f(),h("section",hE,[O[33]||(O[33]=r("h2",{class:"text-base font-bold mb-2 flex items-center text-blue-800 dark:text-blue-200"},[r("span",{class:"i-heroicons-device-phone-mobile text-blue-700 dark:text-blue-300 mr-2"}),se(" Install Colony App ")],-1)),r("div",bE,[O[32]||(O[32]=r("p",{class:"text-sm text-blue-800 dark:text-blue-200 mb-2"}," Install Idle Ant Farm as an app on your device for the best experience! ",-1)),g(u)?(f(),h("button",{key:0,onClick:O[1]||(O[1]=(...G)=>g(m)&&g(m)(...G)),class:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium flex items-center justify-center"},O[28]||(O[28]=[r("span",{class:"i-heroicons-arrow-down-tray text-base mr-2"},null,-1),se(" Install App ")]))):g(p)?(f(),h("div",vE,[O[30]||(O[30]=r("p",{class:"mb-2"},"To install this app on your device:",-1)),O[31]||(O[31]=r("ol",{class:"list-decimal pl-5 space-y-1"},[r("li",null,"Tap the share/menu button in your browser"),r("li",null,'Select "Add to Home Screen" or "Install"')],-1)),r("button",{onClick:O[2]||(O[2]=(...G)=>g(m)&&g(m)(...G)),class:"mt-2 w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium flex items-center justify-center"},O[29]||(O[29]=[r("span",{class:"i-heroicons-information-circle text-base mr-2"},null,-1),se(" Show Installation Help ")]))])):Q("",!0)])])):Q("",!0),r("section",yE,[O[50]||(O[50]=r("h2",{class:"text-base font-bold mb-2 flex items-center"},[r("span",{class:"i-heroicons-cog-6-tooth text-gray-700 dark:text-gray-300 mr-2"}),se(" Colony Settings ")],-1)),r("div",xE,[r("div",kE,[Fe(lE)]),r("div",_E,[r("div",wE,[O[35]||(O[35]=r("div",null,[r("div",{class:"text-sm font-medium"},"Achievement Notifications"),r("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Show popup notifications when achievements are unlocked")],-1)),r("label",CE,[ut(r("input",{type:"checkbox","onUpdate:modelValue":O[3]||(O[3]=G=>g(n).notificationsEnabled=G),class:"sr-only peer"},null,512),[[Xt,g(n).notificationsEnabled]]),O[34]||(O[34]=r("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])]),r("div",SE,[r("div",$E,[O[37]||(O[37]=r("div",null,[r("div",{class:"text-sm font-medium"},"Update Announcements"),r("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Show popup with details when the game is updated ")],-1)),r("label",EE,[ut(r("input",{type:"checkbox","onUpdate:modelValue":O[4]||(O[4]=G=>Mt(l)?l.value=G:null),onChange:O[5]||(O[5]=(...G)=>g(c)&&g(c)(...G)),class:"sr-only peer"},null,544),[[Xt,g(l)]]),O[36]||(O[36]=r("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])]),r("div",AE,[r("div",ME,[O[39]||(O[39]=r("div",null,[r("div",{class:"text-sm font-medium"},"Pheromone Trail Preservation"),r("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Automatically save your colony progress every minute ")],-1)),r("label",PE,[ut(r("input",{type:"checkbox","onUpdate:modelValue":O[6]||(O[6]=G=>g(e).autoSaveEnabled=G),class:"sr-only peer"},null,512),[[Xt,g(e).autoSaveEnabled]]),O[38]||(O[38]=r("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])]),r("div",TE,[r("div",LE,[O[41]||(O[41]=r("div",null,[r("div",{class:"text-sm font-medium"},"Hibernation Progress"),r("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Calculate colony progress while you're away")],-1)),r("label",IE,[ut(r("input",{type:"checkbox","onUpdate:modelValue":O[7]||(O[7]=G=>g(e).offlineProgressEnabled=G),class:"sr-only peer"},null,512),[[Xt,g(e).offlineProgressEnabled]]),O[40]||(O[40]=r("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])]),r("div",DE,[r("div",FE,[O[43]||(O[43]=r("div",null,[r("div",{class:"text-sm font-medium"},"Precise Hibernation Calculation"),r("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Process all offline ticks individually for maximum accuracy (slower but more precise)")],-1)),r("label",RE,[ut(r("input",{type:"checkbox","onUpdate:modelValue":O[8]||(O[8]=G=>g(e).processAllTicksIndividually=G),class:"sr-only peer"},null,512),[[Xt,g(e).processAllTicksIndividually]]),O[42]||(O[42]=r("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])]),g(e).processAllTicksIndividually?Q("",!0):(f(),h("div",UE,[r("div",BE,[r("div",qE,[O[44]||(O[44]=r("div",null,[r("div",{class:"text-sm font-medium"},"Hibernation Batch Size"),r("div",{class:"text-xs text-gray-600 dark:text-gray-400"}," Set how many ticks to process at once during offline calculation (smaller = more accurate but slower) ")],-1)),r("div",OE,b(g(e).offlineTickBatchSize),1)]),r("div",null,[r("input",{type:"range",min:"10",max:"1000",step:"10",value:g(e).offlineTickBatchSize,onInput:O[9]||(O[9]=G=>g(e).setOfflineTickBatchSize(Number(G.target.value))),class:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-600 dark:accent-blue-500"},null,40,NE),O[45]||(O[45]=r("div",{class:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1"},[r("span",null,"10 (More Accurate)"),r("span",null,"1000 (Faster)")],-1))])])])),r("div",HE,[r("div",jE,[O[47]||(O[47]=r("div",null,[r("div",{class:"text-sm font-medium"},"Quest Notifications"),r("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Show popups for quest start and completion")],-1)),r("label",GE,[r("input",{type:"checkbox",checked:g(i).showQuestNotifications,onChange:O[10]||(O[10]=(...G)=>g(i).toggleShowQuestNotifications&&g(i).toggleShowQuestNotifications(...G)),class:"sr-only peer"},null,40,VE),O[46]||(O[46]=r("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])]),r("div",QE,[r("div",zE,[O[49]||(O[49]=r("div",null,[r("div",{class:"text-sm font-medium"},"Confirm Max Upgrade Purchase"),r("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Show confirmation before purchasing max levels of evolution upgrades")],-1)),r("label",WE,[r("input",{type:"checkbox",checked:g(e).confirmMaxUpgradePurchase,onChange:O[11]||(O[11]=(...G)=>g(e).toggleConfirmMaxUpgradePurchase&&g(e).toggleConfirmMaxUpgradePurchase(...G)),class:"sr-only peer"},null,40,YE),O[48]||(O[48]=r("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])])])]),g(o).hasEvolved?(f(),h("section",KE,[O[57]||(O[57]=r("h2",{class:"text-base font-bold mb-2 flex items-center"},[r("span",{class:"i-heroicons-arrow-path text-gray-700 dark:text-gray-300 mr-2"}),se(" Evolution Settings ")],-1)),r("div",XE,[r("div",ZE,[r("div",JE,[O[52]||(O[52]=r("div",null,[r("div",{class:"text-sm font-medium"},"Auto-Enable Auto Purchases After Evolution"),r("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Automatically enable all auto-purchases after evolving")],-1)),r("label",eA,[ut(r("input",{type:"checkbox","onUpdate:modelValue":O[12]||(O[12]=G=>g(e).autoEnableGeneratorsAfterPrestige=G),class:"sr-only peer"},null,512),[[Xt,g(e).autoEnableGeneratorsAfterPrestige]]),O[51]||(O[51]=r("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])]),r("div",tA,[r("div",sA,[O[54]||(O[54]=r("div",null,[r("div",{class:"text-sm font-medium"},"Confirm Evolution"),r("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Show confirmation dialog before evolving")],-1)),r("label",oA,[r("input",{type:"checkbox",checked:g(e).confirmEvolution,onChange:O[13]||(O[13]=(...G)=>g(e).toggleConfirmEvolution&&g(e).toggleConfirmEvolution(...G)),class:"sr-only peer"},null,40,rA),O[53]||(O[53]=r("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])]),g(o).getUpgradeCount("autoEvolve").gt(0)?(f(),h("div",nA,[r("div",aA,[O[56]||(O[56]=r("div",null,[r("div",{class:"text-sm font-medium"},"Automated Evolution"),r("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Automatically evolve when requirements are met")],-1)),r("label",iA,[ut(r("input",{type:"checkbox","onUpdate:modelValue":O[14]||(O[14]=G=>g(o).autoEvolveEnabled=G),class:"sr-only peer"},null,512),[[Xt,g(o).autoEvolveEnabled]]),O[55]||(O[55]=r("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])])):Q("",!0)])])):Q("",!0),r("section",lA,[O[75]||(O[75]=r("h2",{class:"text-base font-bold mb-2 flex items-center"},[r("span",{class:"i-heroicons-document-text text-gray-700 dark:text-gray-300 mr-2"}),se(" Colony Memory Management ")],-1)),r("div",cA,[r("div",{class:"grid grid-cols-2 gap-2"},[r("button",{onClick:N,class:"py-1.5 px-3 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},O[58]||(O[58]=[r("span",{class:"i-heroicons-document-arrow-down text-base mr-1"},null,-1),se(" Save Colony ")])),r("button",{onClick:U,class:"py-1.5 px-3 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},O[59]||(O[59]=[r("span",{class:"i-heroicons-document-arrow-up text-base mr-1"},null,-1),se(" Load Colony ")]))]),$.value||A.value?(f(),h("div",dA,[r("p",uA,[O[60]||(O[60]=r("span",{class:"i-heroicons-check-circle text-green-600 dark:text-green-400 mr-1"},null,-1)),r("span",null,b($.value?"Colony saved successfully!":"Colony loaded successfully!"),1)])])):Q("",!0),r("div",mA,[O[70]||(O[70]=r("div",{class:"text-sm font-medium mb-1"},"Export/Import Colony Data",-1)),r("div",pA,[r("div",{class:"grid grid-cols-2 gap-2"},[r("button",{onClick:L,class:"py-1.5 px-3 bg-gray-600 hover:bg-gray-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},O[61]||(O[61]=[r("span",{class:"i-heroicons-arrow-down-tray text-base mr-1"},null,-1),se(" Export as Code ")])),r("button",{onClick:I,class:"py-1.5 px-3 bg-gray-600 hover:bg-gray-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},O[62]||(O[62]=[r("span",{class:"i-heroicons-document-arrow-down text-base mr-1"},null,-1),se(" Export as File ")]))]),y.value?(f(),h("div",fA,[O[63]||(O[63]=r("div",{class:"text-xs text-gray-600 dark:text-gray-400 mb-0.5"},"Copy this code to save your colony data: ",-1)),ut(r("textarea",{readonly:"",class:"w-full p-1.5 text-xs bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md h-16 font-mono dark:text-gray-200","onUpdate:modelValue":O[15]||(O[15]=G=>y.value=G)},null,512),[[Po,y.value]]),C.value?(f(),h("div",gA," Colony data exported successfully! ")):Q("",!0)])):Q("",!0)]),r("div",null,[O[69]||(O[69]=r("div",{class:"text-xs text-gray-600 dark:text-gray-400 mb-0.5"},"Import your colony data:",-1)),r("div",hA,[r("div",null,[O[65]||(O[65]=r("div",{class:"text-xs text-gray-600 dark:text-gray-400 mb-0.5"},"Paste code:",-1)),ut(r("textarea",{class:"w-full p-1.5 text-xs bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md h-16 font-mono mb-1 dark:text-gray-200","onUpdate:modelValue":O[16]||(O[16]=G=>v.value=G),placeholder:"Paste your colony data here..."},null,512),[[Po,v.value]]),r("button",{onClick:B,class:"w-full py-1.5 px-3 bg-gray-600 hover:bg-gray-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},O[64]||(O[64]=[r("span",{class:"i-heroicons-arrow-up-tray text-base mr-1"},null,-1),se(" Import from Code ")]))]),r("div",null,[O[68]||(O[68]=r("div",{class:"text-xs text-gray-600 dark:text-gray-400 mb-0.5"},"Select file:",-1)),r("div",bA,[r("input",{type:"file",ref_key:"fileInputRef",ref:x,accept:".txt",class:"text-xs w-full dark:text-gray-200 hidden",onChange:k,id:"file-import-input"},null,544),O[66]||(O[66]=r("label",{for:"file-import-input",class:"cursor-pointer bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md py-1.5 px-3 text-xs font-medium text-center flex items-center justify-center"},[r("span",{class:"i-heroicons-document-plus text-base mr-1"}),se(" Choose Save File ")],-1))]),r("button",{onClick:O[17]||(O[17]=()=>{var G;return(G=x.value)==null?void 0:G.click()}),class:"w-full py-1.5 px-3 bg-gray-600 hover:bg-gray-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},O[67]||(O[67]=[r("span",{class:"i-heroicons-folder-open text-base mr-1"},null,-1),se(" Import from File ")]))])]),S.value?(f(),h("div",vA,b(S.value),1)):Q("",!0),_.value?(f(),h("div",yA," Colony data imported successfully! ")):Q("",!0)])]),r("div",xA,[O[73]||(O[73]=r("div",{class:"text-sm font-medium mb-1"},"Reset Colony",-1)),O[74]||(O[74]=r("p",{class:"text-xs text-gray-600 dark:text-gray-400 mb-2"}," This will completely reset your colony progress. This action cannot be undone. ",-1)),M.value?(f(),h("div",kA,[O[72]||(O[72]=r("p",{class:"text-xs text-red-600 dark:text-red-400 font-medium"},"Are you sure you want to reset your colony? ",-1)),r("div",_A,[r("button",{onClick:O[19]||(O[19]=G=>M.value=!1),class:"py-1.5 px-3 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md text-xs font-medium"}," Cancel "),r("button",{onClick:O[20]||(O[20]=G=>j()),class:"py-1.5 px-3 bg-red-600 hover:bg-red-700 text-white rounded-md text-xs font-medium"}," Yes, Reset ")])])):(f(),h("button",{key:0,onClick:O[18]||(O[18]=G=>M.value=!0),class:"w-full py-1.5 px-3 bg-red-600 hover:bg-red-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},O[71]||(O[71]=[r("span",{class:"i-heroicons-trash text-base mr-1"},null,-1),se(" Reset Colony ")])))])])]),Q("",!0),O[89]||(O[89]=qt('<section class="bg-gradient-to-br from-amber-100 to-amber-50 dark:from-amber-900 dark:to-amber-800 rounded-xl p-3 shadow-md"><h2 class="text-base font-bold mb-2 flex items-center text-amber-800 dark:text-amber-200"><span class="i-heroicons-heart text-amber-700 dark:text-amber-300 mr-2"></span> Support the Developer </h2><div class="bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"><p class="text-sm text-amber-800 dark:text-amber-200 mb-2"> Hi there! I&#39;m the sleep-deprived developer behind Idle Ant Farm. This game will always be free - no ads, no pay-to-win, and no colony surveillance operations! </p><p class="text-xs text-amber-700 dark:text-amber-300 mb-2"> Turns out, coffee is the secret ingredient to both ant pheromones AND game development. If you&#39;re enjoying watching these digital ants march across your screen, consider fueling my next 3AM coding session! </p><p class="text-xs text-amber-700 dark:text-amber-300 mb-3"> No pressure though - the ants will keep marching either way. Your enjoyment is the real motivation! </p><a href="https://buymeacoffee.com/idleantfarm" target="_blank" rel="noopener noreferrer" class="w-full flex items-center justify-center py-2 px-4 bg-amber-600 hover:bg-amber-700 text-white rounded-md text-sm font-medium transition-colors"><span class="i-heroicons-coffee text-base mr-2"></span> Feed the Developer  </a><p class="text-xs text-center text-amber-700 dark:text-amber-300 mt-2"> *Coffee not actually used to feed real ants. That would be weird. </p></div></section><section class="bg-gradient-to-br from-indigo-100 to-indigo-50 dark:from-indigo-900 dark:to-indigo-800 rounded-xl p-3 shadow-md"><h2 class="text-base font-bold mb-2 flex items-center text-indigo-800 dark:text-indigo-200"><span class="i-heroicons-chat-bubble-left-right text-indigo-700 dark:text-indigo-300 mr-2"></span> Join the Colony </h2><div class="bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-indigo-200 dark:border-indigo-700"><p class="text-sm text-indigo-800 dark:text-indigo-200 mb-2"> Connect with other ant enthusiasts! Join our Discord community to share strategies, report bugs, and chat about all things ant-related. </p><a href="https://discord.gg/cHyAFTx9kj" target="_blank" rel="noopener noreferrer" class="w-full flex items-center justify-center py-2 px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-md text-sm font-medium transition-colors"><span class="i-heroicons-chat-bubble-left-right text-base mr-2"></span> Join Discord Server </a></div></section>',2)),r("section",wA,[O[88]||(O[88]=r("h2",{class:"text-base font-bold mb-2 flex items-center"},[r("span",{class:"i-heroicons-information-circle text-gray-700 dark:text-gray-300 mr-2"}),se(" Game Information ")],-1)),g(vr)()||g(d).isBossDefeated("boss_omega_ant")?(f(),h("div",CA,[r("button",{onClick:ne,class:"w-full py-1.5 px-3 bg-amber-600 hover:bg-amber-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},O[85]||(O[85]=[r("span",{class:"i-heroicons-sparkles text-base mr-1"},null,-1),se(" View Game Completion Screen ")])),g(vr)()?(f(),h("p",SA,"(Visible in Debug Mode)")):Q("",!0)])):Q("",!0),r("div",$A,[r("div",EA,[O[86]||(O[86]=r("div",{class:"text-xs text-gray-800 dark:text-gray-400"},"Game Version:",-1)),r("div",AA,"v"+b(g(cE)),1)]),r("div",MA,[O[87]||(O[87]=r("div",{class:"text-xs text-gray-800 dark:text-gray-400"},"Total Ticks:",-1)),r("div",PA,b(g(s).formattedTotalTicks),1)])])])]),Fe(Y,{threshold:400})],64)}}}),hl=["production","efficiency","automation","research","synergy","prestige","reproduction","cost","level-requirement","adventure","aphid-farm"],LA=()=>[...hl],IA=()=>["all",...LA()],tg=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],jo=(()=>{if(typeof document>"u")return!1;const t=tg[0],e={};for(const s of tg)if((s==null?void 0:s[1])in document){for(const[n,i]of s.entries())e[t[n]]=i;return e}return!1})(),sg={change:jo.fullscreenchange,error:jo.fullscreenerror};let js={request(t=document.documentElement,e){return new Promise((s,o)=>{const n=()=>{js.off("change",n),s()};js.on("change",n);const i=t[jo.requestFullscreen](e);i instanceof Promise&&i.then(n).catch(o)})},exit(){return new Promise((t,e)=>{if(!js.isFullscreen){t();return}const s=()=>{js.off("change",s),t()};js.on("change",s);const o=document[jo.exitFullscreen]();o instanceof Promise&&o.then(s).catch(e)})},toggle(t,e){return js.isFullscreen?js.exit():js.request(t,e)},onchange(t){js.on("change",t)},onerror(t){js.on("error",t)},on(t,e){const s=sg[t];s&&document.addEventListener(s,e,!1)},off(t,e){const s=sg[t];s&&document.removeEventListener(s,e,!1)},raw:jo};Object.defineProperties(js,{isFullscreen:{get:()=>!!document[jo.fullscreenElement]},element:{enumerable:!0,get:()=>document[jo.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[jo.fullscreenEnabled]}});jo||(js={isEnabled:!1});const ns=js,fn={food:{icon:{light:"text-amber-600",dark:"text-amber-300"},text:{light:"text-amber-900",dark:"text-amber-100"},background:{light:"bg-amber-100/70",dark:"bg-amber-800/70"}},worker:{icon:{light:"text-red-600",dark:"text-red-300"},text:{light:"text-red-900",dark:"text-red-100"},background:{light:"bg-red-100/70",dark:"bg-red-800/70"}},honeydew:{icon:{light:"text-green-600",dark:"text-green-300"},text:{light:"text-green-900",dark:"text-green-100"},background:{light:"bg-green-100/70",dark:"bg-green-800/70"}},time:{icon:{light:"text-slate-600",dark:"text-slate-300"},text:{light:"text-slate-900",dark:"text-slate-100"},background:{light:"bg-slate-100/70",dark:"bg-slate-800/70"}},evolutionPoints:{icon:{light:"text-blue-600",dark:"text-blue-300"},text:{light:"text-blue-900",dark:"text-blue-100"},background:{light:"bg-blue-100/70",dark:"bg-blue-800/70"}},pheromoneEssence:{icon:{light:"text-indigo-600",dark:"text-indigo-300"},text:{light:"text-indigo-900",dark:"text-indigo-100"},background:{light:"bg-indigo-100/70",dark:"bg-indigo-800/70"}},ascension:{icon:{light:"text-purple-600",dark:"text-purple-300"},text:{light:"text-purple-900",dark:"text-purple-100"},background:{light:"bg-purple-100/70",dark:"bg-purple-800/70"}},default:{icon:{light:"text-gray-600",dark:"text-gray-300"},text:{light:"text-gray-900",dark:"text-gray-100"},background:{light:"bg-gray-100/70",dark:"bg-gray-800/70"}}};function Cr(){const{isDarkMode:t}=xi(),e=(l="default")=>R(()=>{const c=fn[l]||fn.default;return t?c.icon.dark:c.icon.light}),s=(l="default")=>R(()=>{const c=fn[l]||fn.default;return t?c.text.dark:c.text.light}),o=(l="default")=>R(()=>{const c=fn[l]||fn.default;return t?c.background.dark:c.background.light}),n=(l="default")=>R(()=>{if(t)switch(l){case"evolutionPoints":return"border-blue-400";case"food":return"border-red-400";case"worker":return"border-amber-400";case"honeydew":return"border-green-400";case"time":return"border-gray-400";case"pheromoneEssence":return"border-indigo-400";case"ascension":return"border-purple-400";default:return"border-amber-400"}else switch(l){case"evolutionPoints":return"border-blue-500";case"food":return"border-red-500";case"worker":return"border-amber-500";case"honeydew":return"border-green-500";case"time":return"border-gray-500";case"pheromoneEssence":return"border-indigo-500";case"ascension":return"border-purple-500";default:return"border-amber-500"}});return{getIconColor:e,getTextColor:s,getBackgroundColor:o,getBorderColor:n,getCurrencyClasses:(l="default")=>{const c=e(l),d=s(l),u=o(l),m=n(l);return{icon:c.value,text:d.value,background:u.value,border:m.value}}}}const DA={class:"relative"},FA={class:"relative"},RA=["aria-expanded","aria-activedescendant"],UA={class:"px-3 py-1 border-b border-gray-200 dark:border-gray-700 text-xs flex justify-between items-center text-gray-500 dark:text-gray-400"},BA={class:"py-1"},qA=["id","onClick","aria-selected"],OA={class:"flex items-center"},NA=["innerHTML"],HA={class:"flex justify-between mt-1 text-xs"},jA={class:"text-gray-500 dark:text-gray-400 capitalize"},GA={class:"flex items-center justify-center text-gray-500 dark:text-gray-400 py-3 px-3"},VA={class:"text-sm"},QA={class:"font-medium"},zA=Ue({__name:"PrestigeUpgradeSearch",emits:["select"],setup(t,{emit:e}){const s=e,o=Bs("componentRootRef",W(null)),n=ct(),i=W(""),l=W(!1),c=W(null),d=W(0),u=W(document.documentElement.classList.contains("dark")||window.matchMedia("(prefers-color-scheme: dark)").matches),m=W(ns.isEnabled&&ns.isFullscreen),p=_r({position:"fixed",top:"0px",left:"0px",width:"300px",maxHeight:"300px",zIndex:"999999",backgroundColor:u.value?"#1e293b":"#f9fafb",color:u.value?"#e2e8f0":"#1f2937",border:u.value?"1px solid #475569":"1px solid #e5e7eb",borderRadius:"0.375rem",boxShadow:u.value?"0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2)":"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",overflow:"auto",transition:"top 0.1s, bottom 0.1s, max-height 0.1s"}),y=R(()=>m.value&&o.value?o.value:document.body),v=R(()=>n.evolutionUpgrades),S=R(()=>{if(!i.value.trim())return[];const ee=i.value.toLowerCase().trim();return v.value.filter(ne=>ne.name.toLowerCase().includes(ee)||ne.description.toLowerCase().includes(ee)||ne.category.toLowerCase().includes(ee)).slice(0,10)});We(S,()=>{d.value=0});const _=()=>{m.value=ns.isEnabled&&ns.isFullscreen,l.value&&Bt(()=>{C()})},C=()=>{if(!c.value)return;const ee=c.value.getBoundingClientRect(),ne=window.innerHeight,oe=ne-ee.bottom-10,O=Math.max(100,Math.min(300,oe));if(m.value&&o.value){const Y=o.value.getBoundingClientRect(),G=ee.bottom-Y.top,de=ee.left-Y.left;if(p.position="absolute",p.top=`${G+5}px`,p.left=`${de}px`,p.width=`${ee.width}px`,p.maxHeight=`${O}px`,G+5+O>Y.height){const re=ee.top-Y.top-10;re>G+5+O-Y.height&&re>100&&(p.top="auto",p.bottom=`${Y.height-(ee.top-Y.top)+5}px`,p.maxHeight=`${Math.min(300,re)}px`)}}else if(p.position="fixed",p.top=`${ee.bottom+5}px`,p.left=`${ee.left}px`,p.width=`${ee.width}px`,p.maxHeight=`${O}px`,ee.bottom+5+O>ne){const Y=ee.top-10;Y>oe&&Y>100&&(p.top="auto",p.bottom=`${ne-ee.top+5}px`,p.maxHeight=`${Math.min(300,Y)}px`)}},x=()=>{if(!c.value)return;let ee=c.value.parentElement;const ne=[];for(;ee;){const oe=window.getComputedStyle(ee),O=oe.overflow+oe.overflowY+oe.overflowX;(O.includes("scroll")||O.includes("auto"))&&(ne.push(ee),ee.addEventListener("scroll",C,{passive:!0})),ee=ee.parentElement}return ne};let $=null;We(l,ee=>{ee?Bt(()=>{C(),$=x(),window.addEventListener("scroll",C,{passive:!0}),window.addEventListener("resize",C,{passive:!0})}):($&&($.forEach(ne=>{ne.removeEventListener("scroll",C)}),$=null),window.removeEventListener("scroll",C),window.removeEventListener("resize",C))});const A=cc(()=>{i.value.trim().length>0&&(l.value=!0)},200),M=ee=>{i.value=ee.target.value,A()},P=()=>{i.value.trim()&&S.value.length>0&&(l.value=!0)},L=ee=>{s("select",ee),i.value=ee.name,l.value=!1},B=ee=>{l.value&&c.value&&!c.value.contains(ee.target)&&!ee.target.closest(".upgrade-search-dropdown")&&(l.value=!1)},k=ee=>{if(!(!l.value||S.value.length===0))switch(ee.key){case"ArrowDown":ee.preventDefault(),d.value=(d.value+1)%S.value.length;break;case"ArrowUp":ee.preventDefault(),d.value=(d.value-1+S.value.length)%S.value.length;break;case"Enter":ee.preventDefault(),S.value[d.value]&&L(S.value[d.value]);break;case"Escape":ee.preventDefault(),l.value=!1;break}},I=()=>{i.value="",l.value=!1};tt(()=>{document.addEventListener("click",B),ns.isEnabled&&ns.on("change",_),Bt(()=>{C()});const ee=new MutationObserver(O=>{O.forEach(Y=>{Y.attributeName==="class"&&(u.value=document.documentElement.classList.contains("dark")||window.matchMedia("(prefers-color-scheme: dark)").matches,j())})});ee.observe(document.documentElement,{attributes:!0});const ne=window.matchMedia("(prefers-color-scheme: dark)"),oe=O=>{u.value=document.documentElement.classList.contains("dark")||O.matches,j()};ne.addEventListener("change",oe),fs(()=>{ee.disconnect(),ne.removeEventListener("change",oe),ns.isEnabled&&ns.off("change",_)})}),fs(()=>{document.removeEventListener("click",B),$&&$.forEach(ee=>{ee.removeEventListener("scroll",C)}),window.removeEventListener("scroll",C),window.removeEventListener("resize",C)});const N=ee=>{const ne=ee.level,oe=ee.maxLevel;return ne.gt(0)?oe&&ne.gte(oe)?`Max level ${ie(ne,0)}`:`Level ${ie(ne,0)}${oe?`/${ie(oe,0)}`:""}`:"Not purchased"},U=(ee,ne)=>{if(!ne.trim())return ee;const oe=new RegExp(`(${ne.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return ee.replace(oe,'<span class="bg-yellow-200 dark:bg-yellow-800">$1</span>')},j=()=>{p.backgroundColor=u.value?"#1e293b":"#f9fafb",p.color=u.value?"#e2e8f0":"#1f2937",p.border=u.value?"1px solid #475569":"1px solid #e5e7eb",p.boxShadow=u.value?"0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2)":"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"};return(ee,ne)=>(f(),h("div",DA,[r("div",FA,[ut(r("input",{ref_key:"searchInputRef",ref:c,type:"text","onUpdate:modelValue":ne[0]||(ne[0]=oe=>i.value=oe),onInput:M,onFocus:P,onKeydown:k,placeholder:"Search upgrades...","aria-label":"Search upgrades",autocomplete:"off","aria-autocomplete":"list","aria-expanded":l.value,"aria-activedescendant":l.value&&S.value.length>0?`upgrade-result-${d.value}`:void 0,class:"w-full px-3 py-1.5 pl-7 pr-7 text-sm rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 placeholder-gray-400 dark:placeholder-gray-500"},null,40,RA),[[Po,i.value]]),ne[2]||(ne[2]=r("span",{class:"absolute inset-y-0 left-0 flex items-center pl-2 text-gray-500 dark:text-gray-400"},[r("span",{class:"i-mdi-magnify w-3.5 h-3.5"})],-1)),i.value?(f(),h("button",{key:0,onClick:I,class:"absolute inset-y-0 right-0 flex items-center pr-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200","aria-label":"Clear search"},ne[1]||(ne[1]=[r("span",{class:"i-mdi-close-circle w-3.5 h-3.5"},null,-1)]))):Q("",!0)]),(f(),rt(kb,{to:y.value},[l.value&&S.value.length>0?(f(),h("div",{key:0,class:"upgrade-search-dropdown",role:"listbox","aria-label":"Search results",style:Je(p)},[r("div",UA,[r("span",null,b(S.value.length)+" "+b(S.value.length===1?"result":"results"),1),ne[3]||(ne[3]=r("div",{class:"flex items-center gap-1"},[r("span",{class:"i-mdi-keyboard text-xs"}),r("span",{class:"text-xs"}," to navigate, Enter to select")],-1))]),r("ul",BA,[(f(!0),h(Ce,null,De(S.value,(oe,O)=>(f(),h("li",{key:oe.id,id:`upgrade-result-${O}`,onClick:Y=>L(oe),class:V(["px-3 py-2 cursor-pointer flex flex-col hover:bg-gray-100 dark:hover:bg-gray-700 border-l-2",d.value===O?"bg-gray-100 dark:bg-gray-700 border-l-blue-500 dark:border-l-blue-400":"border-l-transparent"]),role:"option","aria-selected":d.value===O},[r("div",OA,[r("span",{class:V([oe.icon,"mr-2 text-base flex-shrink-0"])},null,2),r("span",{class:"font-medium text-gray-800 dark:text-gray-200",innerHTML:U(oe.name,i.value)},null,8,NA)]),r("div",HA,[r("span",jA," Category: "+b(oe.category),1),r("span",{class:V({"text-emerald-600 dark:text-emerald-400":oe.level.gt(0),"text-gray-500 dark:text-gray-400":oe.level.eq(0)})},b(N(oe)),3)])],10,qA))),128))])],4)):l.value&&i.value&&S.value.length===0?(f(),h("div",{key:1,class:"upgrade-search-dropdown",style:Je(p)},[r("div",GA,[ne[6]||(ne[6]=r("span",{class:"i-mdi-magnify-remove w-5 h-5 mr-2 opacity-70"},null,-1)),r("p",VA,[ne[4]||(ne[4]=se('No upgrades found matching "')),r("span",QA,b(i.value),1),ne[5]||(ne[5]=se('"'))])])],4)):Q("",!0)],8,["to"]))]))}}),WA={class:"prestige-upgrade-sidepanel relative h-full select-none"},YA=["aria-label"],KA={class:"p-3 space-y-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-slate-900"},XA={class:"relative"},ZA=["value"],JA=["value"],eM={class:"flex flex-col gap-1"},tM={class:"flex items-center text-xs text-gray-700 dark:text-gray-300"},sM={class:"flex items-center text-xs text-gray-700 dark:text-gray-300"},oM={class:"flex items-center text-xs text-gray-700 dark:text-gray-300"},rM={class:"flex-1 overflow-y-auto upgrade-list"},nM={key:0,class:"p-4 text-center text-gray-500 dark:text-gray-400 text-sm"},aM={key:1,class:"py-1"},iM={class:"w-full px-3 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700 border-l-2 border-l-transparent focus-within:bg-gray-100 dark:focus-within:bg-gray-700 focus-within:border-l-blue-500 dark:focus-within:border-l-blue-400 transition-colors"},lM={class:"flex justify-between items-start"},cM=["onClick"],dM={class:"flex items-center"},uM={class:"font-medium text-gray-800 dark:text-gray-200 text-sm truncate flex items-center"},mM={class:"text-xs text-gray-500 dark:text-gray-400 capitalize flex items-center"},pM={class:"flex flex-col gap-1"},fM=["onClick","disabled"],gM=["onClick"],hM={key:0,class:"mt-1 flex justify-between items-center"},bM={class:"mt-2 text-xs space-y-2 bg-gray-50 dark:bg-gray-800/50 p-2 rounded-md"},vM={class:"text-gray-600 dark:text-gray-400"},yM={class:"space-y-1"},xM={key:0,class:"flex items-center"},kM={class:"text-green-600 dark:text-green-400 font-medium"},_M={key:1},wM={class:"mr-1 text-gray-600 dark:text-gray-400"},CM={class:"text-green-600 dark:text-green-400 font-medium"},SM={key:2,class:"flex items-center"},$M={class:"text-blue-600 dark:text-blue-400 font-medium"},EM={key:3},AM={class:"mr-1 text-gray-600 dark:text-gray-400"},MM={class:"text-blue-600 dark:text-blue-400 font-medium"},PM={key:0},TM={class:"flex flex-wrap gap-1"},LM={key:1},IM={class:"text-gray-600 dark:text-gray-400"},DM={class:"px-3 py-2 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-slate-900 text-xs text-gray-500 dark:text-gray-400"},FM=Ue({__name:"PrestigeUpgradeSidepanel",emits:["select-upgrade"],setup(t,{emit:e}){const s=e,o=ct(),{getTextColor:n}=Cr(),{showToast:i}=zt(),l=R({get:()=>!o.sidebarCollapsed,set:oe=>o.sidebarCollapsed=!oe}),c=[{id:"default",label:"Default"},{id:"name",label:"Name"},{id:"category",label:"Category"},{id:"cost",label:"Cost"},{id:"level",label:"Level"}],d=R({get:()=>o.selectedSort,set:oe=>o.selectedSort=oe}),u=R({get:()=>o.sidebarActiveTab,set:oe=>o.sidebarActiveTab=oe}),m=R({get:()=>o.showUnlocked,set:oe=>o.showUnlocked=oe}),p=R({get:()=>o.showAffordable,set:oe=>o.showAffordable=oe}),y=R({get:()=>o.showMaxed,set:oe=>o.showMaxed=oe}),v=R({get:()=>o.searchQuery,set:oe=>o.searchQuery=oe}),S=R(()=>{const oe=new Set;return o.evolutionUpgrades.forEach(O=>{oe.add(O.category)}),Array.from(oe)}),_=R(()=>{let oe=[...o.evolutionUpgrades];if(u.value!=="all"&&(oe=oe.filter(O=>O.category===u.value)),m.value&&(oe=oe.filter(O=>Eo(O.id,o.evolutionUpgrades))),p.value&&(oe=oe.filter(O=>o.evolutionPoints.gte(O.cost))),y.value&&(oe=oe.filter(O=>!O.maxLevel||O.level.lt(O.maxLevel))),v.value){const O=v.value.toLowerCase();oe=oe.filter(Y=>Y.name.toLowerCase().includes(O)||Y.description.toLowerCase().includes(O))}switch(d.value){case"name":oe.sort((O,Y)=>O.name.localeCompare(Y.name));break;case"category":oe.sort((O,Y)=>O.category.localeCompare(Y.category));break;case"cost":oe.sort((O,Y)=>O.cost.lt(Y.cost)?-1:O.cost.gt(Y.cost)?1:0);break;case"level":oe.sort((O,Y)=>O.level.lt(Y.level)?-1:O.level.gt(Y.level)?1:0);break}return oe}),C=oe=>{s("select-upgrade",oe),l.value=!1},x=()=>{l.value=!l.value},$=()=>{o.resetFilters()},A=oe=>{const O=o.evolutionUpgrades.find(Y=>Y.id===oe);return!(!O||!Eo(oe,o.evolutionUpgrades)||o.evolutionPoints.lt(O.cost)||O.maxLevel&&O.level.gte(O.maxLevel))},M=(oe,O)=>{if(O.stopPropagation(),!A(oe.id))return;o.purchaseUpgrade(oe.id)?i(`Purchased ${oe.name} for ${ie(oe.cost)} EP`,"success"):i("Failed to purchase upgrade","error")},P=(oe,O)=>{if(O.stopPropagation(),!A(oe.id))return;if(o.purchaseMaxUpgrades(oe.id))i(`Purchased max levels of ${oe.name}`,"success");else{const G=o.getUpgrade(oe.id);G!=null&&G.maxLevel&&G.level.gte(G.maxLevel)?i(`${oe.name} is already at max level`,"info"):o.evolutionPoints.lt((G==null?void 0:G.cost)??new be(1/0))?i(`Not enough EP to purchase ${oe.name}`,"warning"):i("Could not purchase max levels","error")}},L=oe=>o.calculateMaxPurchasableLevels(oe),B=oe=>oe.level.eq(0)?"Not purchased":oe.maxLevel&&oe.level.gte(oe.maxLevel)?`Max level (${ie(oe.level,0)})`:`Level ${ie(oe.level,0)}${oe.maxLevel?`/${ie(oe.maxLevel,0)}`:""}`,k=oe=>oe.level.gt(0)?oe.maxLevel&&oe.level.gte(oe.maxLevel)?"text-purple-600 dark:text-purple-400":"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400",I=oe=>o.evolutionPoints.gte(oe.cost),N=oe=>o.getUpgradeCount(oe.id).gt(0)&&oe.maxLevel&&oe.level.gte(oe.maxLevel)?"bg-emerald-500 text-white cursor-not-allowed opacity-50 text-xs":A(oe.id)?"bg-amber-500 hover:bg-amber-600 dark:bg-amber-600 dark:hover:bg-amber-500 text-white text-xs hover:shadow-sm":"bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed opacity-50 text-xs",U=oe=>oe.isAdditive===!0,j=oe=>oe.isMultiplier===!1,ee=oe=>U(oe)?"+":"",ne=oe=>oe?"text-green-600 dark:text-green-400":"text-yellow-600 dark:text-yellow-400";return(oe,O)=>(f(),h("div",WA,[r("button",{onClick:x,class:"absolute z-20 -right-8 top-4 bg-slate-700 dark:bg-slate-800 hover:bg-slate-600 dark:hover:bg-slate-700 text-white p-1 rounded-r-md shadow-md","aria-label":l.value?"Close upgrade list":"Open upgrade list"},[r("span",{class:V([l.value?"i-mdi-chevron-left":"i-mdi-chevron-right","w-5 h-5"])},null,2)],8,YA),r("div",{class:V(["h-full flex flex-col overflow-hidden transition-all duration-300 bg-white dark:bg-slate-800 border-r border-gray-200 dark:border-gray-700 shadow-md",[l.value?"w-full":"w-0"]])},[r("div",{class:"p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-slate-900 flex justify-between items-center"},[O[6]||(O[6]=r("h3",{class:"font-medium text-gray-800 dark:text-gray-200"},"Upgrade List",-1)),r("button",{onClick:$,class:"text-blue-500 dark:text-blue-400 text-sm hover:underline"}," Reset ")]),r("div",KA,[r("div",XA,[ut(r("input",{"onUpdate:modelValue":O[0]||(O[0]=Y=>v.value=Y),type:"text",placeholder:"Search upgrades...",class:"w-full px-3 py-1.5 pl-7 text-sm rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400"},null,512),[[Po,v.value]]),O[7]||(O[7]=r("span",{class:"absolute inset-y-0 left-0 flex items-center pl-2 text-gray-500 dark:text-gray-400"},[r("span",{class:"i-mdi-magnify w-3.5 h-3.5"})],-1))]),r("div",null,[O[8]||(O[8]=r("label",{for:"sort-select",class:"block text-xs text-gray-600 dark:text-gray-400 mb-1"},"Sort by",-1)),ut(r("select",{id:"sort-select","onUpdate:modelValue":O[1]||(O[1]=Y=>d.value=Y),class:"w-full px-3 py-1.5 text-sm rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400"},[(f(),h(Ce,null,De(c,Y=>r("option",{key:Y.id,value:Y.id},b(Y.label),9,ZA)),64))],512),[[Tl,d.value]])]),r("div",null,[O[10]||(O[10]=r("label",{for:"category-select",class:"block text-xs text-gray-600 dark:text-gray-400 mb-1"},"Category",-1)),ut(r("select",{id:"category-select","onUpdate:modelValue":O[2]||(O[2]=Y=>u.value=Y),class:"w-full px-3 py-1.5 text-sm rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400"},[O[9]||(O[9]=r("option",{value:"all"},"All Categories",-1)),(f(!0),h(Ce,null,De(S.value,Y=>(f(),h("option",{key:Y,value:Y},b(Y.charAt(0).toUpperCase()+Y.slice(1)),9,JA))),128))],512),[[Tl,u.value]])]),r("div",eM,[r("label",tM,[ut(r("input",{type:"checkbox","onUpdate:modelValue":O[3]||(O[3]=Y=>m.value=Y),class:"rounded text-blue-500 focus:ring-blue-500 mr-1.5"},null,512),[[Xt,m.value]]),O[11]||(O[11]=se(" Show unlocked only "))]),r("label",sM,[ut(r("input",{type:"checkbox","onUpdate:modelValue":O[4]||(O[4]=Y=>p.value=Y),class:"rounded text-blue-500 focus:ring-blue-500 mr-1.5"},null,512),[[Xt,p.value]]),O[12]||(O[12]=se(" Show affordable only "))]),r("label",oM,[ut(r("input",{type:"checkbox","onUpdate:modelValue":O[5]||(O[5]=Y=>y.value=Y),class:"rounded text-blue-500 focus:ring-blue-500 mr-1.5"},null,512),[[Xt,y.value]]),O[13]||(O[13]=se(" Hide maxed upgrades "))])])]),r("div",rM,[_.value.length===0?(f(),h("div",nM," No upgrades match your filters ")):(f(),h("div",aM,[(f(!0),h(Ce,null,De(_.value,Y=>(f(),h("div",{key:Y.id,class:"border-b border-gray-100 dark:border-gray-700 last:border-0"},[r("div",iM,[r("div",lM,[r("div",{class:"flex-1 cursor-pointer",onClick:G=>C(Y)},[r("div",dM,[r("span",{class:V([Y.icon,"mr-2 text-base flex-shrink-0"])},null,2),r("div",null,[r("div",uM,[se(b(Y.name)+" ",1),r("span",{class:V([ne(U(Y)),"ml-1 text-xs font-bold"])},b(ee(Y)),3)]),r("div",mM,[se(b(Y.category)+"  ",1),r("span",{class:V([k(Y),"ml-1"])},b(B(Y)),3)])])])],8,cM),r("div",pM,[!Y.maxLevel||Y.level.lt(Y.maxLevel)?(f(),h("button",{key:0,onClick:G=>M(Y,G),disabled:!A(Y.id),class:V(["px-2 py-0.5 rounded text-xs font-medium transition-colors focus:outline-none",N(Y)])}," Buy ",10,fM)):Q("",!0),A(Y.id)&&(!Y.maxLevel||Y.level.lt(Y.maxLevel))?(f(),h("button",{key:1,onClick:G=>P(Y,G),class:"px-2 py-0.5 rounded text-xs font-medium transition-colors focus:outline-none bg-amber-600 hover:bg-amber-700 dark:bg-amber-700 dark:hover:bg-amber-600 text-white hover:shadow-sm"}," Max ("+b(L(Y.id))+") ",9,gM)):Q("",!0)])]),!Y.maxLevel||Y.level.lt(Y.maxLevel)?(f(),h("div",hM,[O[14]||(O[14]=r("span",{class:"text-xs text-gray-500 dark:text-gray-400"},"Cost:",-1)),r("span",{class:V([I(Y)?g(n)("evolutionPoints"):"text-red-500 dark:text-red-400","text-xs font-medium"])},b(g(ie)(Y.cost,0))+" EP ",3)])):Q("",!0),r("div",bM,[r("div",vM,b(Y.description),1),r("div",yM,[Y.level.gt(0)&&!Y.isCombo?(f(),h("div",xM,[O[15]||(O[15]=r("span",{class:"text-gray-600 dark:text-gray-400 mr-1"},"Current:",-1)),r("span",{class:V([ne(U(Y)),"mr-1 font-semibold"])},b(ee(Y)),3),r("span",kM,b(Y.formatEffect(Y.effect(Y.level))),1)])):Q("",!0),Y.isCombo&&Y.effects&&Y.effects.length>0&&Y.level.gt(0)?(f(),h("div",_M,[O[16]||(O[16]=r("div",{class:"text-gray-600 dark:text-gray-400 mb-1"},"Current effects:",-1)),(f(!0),h(Ce,null,De(Y.effects,(G,de)=>(f(),h("div",{key:de,class:"ml-2 flex items-center"},[r("span",{class:V([ne(j(G)),"mr-1 font-semibold"])},b(j(G)?"+":""),3),r("span",wM,b(G.target==="global"?"Global":G.target.charAt(0).toUpperCase()+G.target.slice(1))+": ",1),r("span",CM,b(G.formatEffect?G.formatEffect(G.multiplier(Y.level)):Y.formatEffect(G.multiplier(Y.level))),1)]))),128))])):Q("",!0),(!Y.maxLevel||Y.level.lt(Y.maxLevel))&&!Y.isCombo?(f(),h("div",SM,[O[17]||(O[17]=r("span",{class:"text-gray-600 dark:text-gray-400 mr-1"},"Next:",-1)),r("span",{class:V([ne(U(Y)),"mr-1 font-semibold"])},b(ee(Y)),3),r("span",$M,b(Y.formatEffect(Y.effect(Y.level.add(1)))),1)])):Q("",!0),Y.isCombo&&Y.effects&&Y.effects.length>0&&(!Y.maxLevel||Y.level.lt(Y.maxLevel))?(f(),h("div",EM,[O[18]||(O[18]=r("div",{class:"text-gray-600 dark:text-gray-400 mb-1"},"Next level effects:",-1)),(f(!0),h(Ce,null,De(Y.effects,(G,de)=>(f(),h("div",{key:de,class:"ml-2 flex items-center"},[r("span",{class:V([ne(j(G)),"mr-1 font-semibold"])},b(j(G)?"+":""),3),r("span",AM,b(G.target==="global"?"Global":G.target.charAt(0).toUpperCase()+G.target.slice(1))+": ",1),r("span",MM,b(G.formatEffect?G.formatEffect(G.multiplier(Y.level.add(1))):Y.formatEffect(G.multiplier(Y.level.add(1)))),1)]))),128))])):Q("",!0)]),Y.prerequisites&&Y.prerequisites.length>0?(f(),h("div",PM,[O[19]||(O[19]=r("div",{class:"text-gray-600 dark:text-gray-400 mb-1"},"Prerequisites:",-1)),r("div",TM,[(f(!0),h(Ce,null,De(Y.prerequisites,G=>{var de;return f(),h("span",{key:G,class:V(["px-1 py-0.5 rounded-full text-xs",g(o).getUpgradeCount(G).gt(0)?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-800 dark:text-emerald-300":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"])},b(((de=g(o).getUpgrade(G))==null?void 0:de.name)||G),3)}),128))])])):Q("",!0),Y.ascensionRequirement&&Y.ascensionRequirement>0?(f(),h("div",LM,[r("div",IM," Requires "+b(Y.ascensionRequirement)+" Ascension"+b(Y.ascensionRequirement>1?"s":""),1)])):Q("",!0)])])]))),128))]))]),r("div",DM,b(_.value.length)+" upgrade"+b(_.value.length!==1?"s":"")+" found ",1)],2)]))}}),RM=st(FM,[["__scopeId","data-v-5f0703a1"]]),UM={class:"flex items-center mb-2"},BM={class:"font-bold text-gray-800 dark:text-gray-100"},qM={key:0,class:"ml-2 text-xs font-medium px-1.5 py-0.5 rounded bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300"},OM={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},NM={key:0,class:"text-xs mb-1"},HM={class:"text-green-600 dark:text-green-400"},jM={key:1,class:"text-xs mb-1"},GM={class:"mr-1"},VM={class:"text-green-600 dark:text-green-400"},QM={key:2,class:"text-xs"},zM={key:0},WM={class:"text-blue-600 dark:text-blue-400"},YM={key:1},KM={class:"mr-1"},XM={class:"text-blue-600 dark:text-blue-400"},ZM={key:3,class:"mt-2 text-xs"},JM={class:"mt-2 flex items-center gap-1"},eP={key:0,class:"text-xs font-medium px-1.5 py-0.5 rounded-full bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300"},tP={key:1,class:"text-xs font-medium px-1.5 py-0.5 rounded-full bg-purple-100 dark:bg-purple-900/40 text-purple-700 dark:text-purple-300"},sP={key:2,class:"text-xs font-medium px-1.5 py-0.5 rounded-full bg-amber-100 dark:bg-amber-900/40 text-amber-700 dark:text-amber-300"},oP=Ue({__name:"PrestigeUpgradeTooltip",props:{upgrade:{},anchorEl:{},scrollContainer:{}},setup(t){const e=t,s=ct(),o=gt(),n=W(null),i=W({top:0,left:0}),l=W("top"),c=R(()=>{if(!e.upgrade)return!1;const v=e.upgrade;s.getUpgradeCount(v.id).gt(0);const S=v.prerequisites?v.prerequisites.every(A=>s.getUpgradeCount(A).gt(0)):!0,_=s.evolutionPoints.gte(v.cost),C=v.maxLevel&&v.level.gte(v.maxLevel),$=(v.ascensionRequirement||0)<=o.ascensionCount;return S&&_&&!C&&$}),d=v=>`${ie(v)} EP`,u=()=>{if(!e.anchorEl)return;if(!n.value){Bt(()=>{e.anchorEl&&n.value&&e.scrollContainer&&u()});return}if(!e.scrollContainer)return;const v=e.anchorEl.getBoundingClientRect(),S=n.value.getBoundingClientRect(),_=e.scrollContainer.getBoundingClientRect(),C=e.scrollContainer;if(S.width===0||S.height===0){Bt(()=>{e.upgrade&&e.anchorEl&&u()});return}const x=10,$=v.top-_.top+C.scrollTop,A=v.left-_.left+C.scrollLeft,M=A+v.width,P=$+v.height,L=C.scrollWidth,B=C.scrollHeight,k=C.scrollTop,I=C.scrollLeft,N=k+_.height,U=I+_.width,j=$-k,ee=U-M,ne=N-P,oe=A-I,O=[{dir:"right",space:ee,needed:S.width},{dir:"left",space:oe,needed:S.width},{dir:"bottom",space:ne,needed:S.height},{dir:"top",space:j,needed:S.height}];let Y="bottom",G=-1/0;for(const Se of O)Se.space>=Se.needed+x&&Se.space>G&&(G=Se.space,Y=Se.dir);if(G===-1/0){const Se=O.find(Me=>Me.space>=Me.needed+x);Se&&(Y=Se.dir)}l.value=Y,console.log("Tooltip updatePosition: Determined Placement",l.value);let de=0,re=0;switch(l.value){case"right":de=$+v.height/2-S.height/2,re=M+x;break;case"left":de=$+v.height/2-S.height/2,re=A-S.width-x;break;case"bottom":de=P+x,re=A+v.width/2-S.width/2;break;case"top":default:de=$-S.height-x,re=A+v.width/2-S.width/2;break}const he=Math.max(x,Math.min(re,L-S.width-x)),ve=Math.max(x,Math.min(de,B-S.height-x));i.value={top:ve,left:he}};We(()=>[e.upgrade,e.anchorEl],async([v,S])=>{v&&S&&(await Bt(),u())},{immediate:!0,deep:!0}),tt(async()=>{console.log("Tooltip Mounted: Initial state",{upgrade:e.upgrade,anchorEl:e.anchorEl}),e.upgrade&&e.anchorEl&&(console.log("Tooltip Mounted: Upgrade and Anchor valid, updating position..."),await Bt(),u())});const m=v=>v.isAdditive===!0?"+":"",p=v=>v?"text-green-600 dark:text-green-400":"text-yellow-600 dark:text-yellow-400",y=v=>v.isMultiplier===!1;return(v,S)=>(f(),rt(fo,{name:"tooltip-fade"},{default:mt(()=>[v.upgrade?(f(),h("div",{key:0,ref_key:"tooltipRef",ref:n,class:V(["absolute z-50 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 p-3 max-w-xs tooltip-panel",`tooltip-${l.value}`]),style:Je({top:`${i.value.top}px`,left:`${i.value.left}px`})},[S[5]||(S[5]=r("div",{class:"tooltip-arrow"},null,-1)),r("div",UM,[r("span",{class:V([v.upgrade.icon,"mr-2 text-lg flex-shrink-0"])},null,2),r("h5",BM,b(v.upgrade.name),1),v.upgrade.level.gt(0)?(f(),h("span",qM," Level "+b(g(ie)(v.upgrade.level,0))+b(v.upgrade.maxLevel?`/${g(ie)(v.upgrade.maxLevel,0)}`:""),1)):Q("",!0)]),r("p",OM,b(v.upgrade.description),1),v.upgrade.level.gt(0)&&!v.upgrade.isCombo?(f(),h("div",NM,[S[0]||(S[0]=r("span",{class:"font-semibold"},"Current Effect:",-1)),r("span",{class:V([p(v.upgrade.isAdditive===!0),"mx-1 font-bold"])},b(m(v.upgrade)),3),r("span",HM,b(v.upgrade.formatEffect(v.upgrade.effect(v.upgrade.level))),1)])):Q("",!0),v.upgrade.isCombo&&v.upgrade.effects&&v.upgrade.effects.length>0&&v.upgrade.level.gt(0)?(f(),h("div",jM,[S[1]||(S[1]=r("div",{class:"font-semibold"},"Current Effects:",-1)),(f(!0),h(Ce,null,De(v.upgrade.effects,(_,C)=>(f(),h("div",{key:C,class:"ml-2 flex items-center"},[r("span",{class:V([p(y(_)),"mr-1 font-bold"])},b(y(_)?"+":""),3),r("span",GM,b(_.target==="global"?"Global":_.target.charAt(0).toUpperCase()+_.target.slice(1))+":",1),r("span",VM,b(_.formatEffect?_.formatEffect(_.multiplier(v.upgrade.level)):v.upgrade.formatEffect(_.multiplier(v.upgrade.level))),1)]))),128))])):Q("",!0),!v.upgrade.maxLevel||v.upgrade.level.lt(v.upgrade.maxLevel)?(f(),h("div",QM,[v.upgrade.isCombo?Q("",!0):(f(),h("div",zM,[S[2]||(S[2]=r("span",{class:"font-semibold"},"Next Level:",-1)),r("span",{class:V([p(v.upgrade.isAdditive===!0),"mx-1 font-bold"])},b(m(v.upgrade)),3),r("span",WM,b(v.upgrade.formatEffect(v.upgrade.effect(v.upgrade.level.add(1)))),1)])),v.upgrade.isCombo&&v.upgrade.effects?(f(),h("div",YM,[S[3]||(S[3]=r("div",{class:"font-semibold"},"Next Level:",-1)),(f(!0),h(Ce,null,De(v.upgrade.effects,(_,C)=>(f(),h("div",{key:`next-${C}`,class:"ml-2 flex items-center"},[r("span",{class:V([p(y(_)),"mr-1 font-bold"])},b(y(_)?"+":""),3),r("span",KM,b(_.target==="global"?"Global":_.target.charAt(0).toUpperCase()+_.target.slice(1))+":",1),r("span",XM,b(_.formatEffect?_.formatEffect(_.multiplier(v.upgrade.level.add(1))):v.upgrade.formatEffect(_.multiplier(v.upgrade.level.add(1)))),1)]))),128))])):Q("",!0)])):Q("",!0),!v.upgrade.maxLevel||v.upgrade.level.lt(v.upgrade.maxLevel)?(f(),h("div",ZM,[S[4]||(S[4]=r("span",{class:"font-semibold"},"Cost:",-1)),r("span",{class:V(c.value?"text-amber-600 dark:text-amber-400":"text-gray-600 dark:text-gray-400")},b(d(v.upgrade.cost)),3)])):Q("",!0),r("div",JM,[v.upgrade.level.gt(0)?(f(),h("span",eP," Purchased ")):Q("",!0),v.upgrade.maxLevel&&v.upgrade.level.gte(v.upgrade.maxLevel)?(f(),h("span",tP," Max Level ")):c.value?(f(),h("span",sP," Affordable ")):Q("",!0)])],6)):Q("",!0)]),_:1}))}}),rP=st(oP,[["__scopeId","data-v-ec5fff55"]]),nP={class:"flex flex-col gap-2 p-2"},aP={class:"flex flex-col sm:flex-row gap-2 items-stretch sm:items-center justify-between w-full"},iP={class:"bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm rounded-md shadow-md p-1 flex gap-1 border border-gray-200 dark:border-gray-700 flex-wrap"},lP=["onClick","aria-current"],cP={class:"bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm rounded-md shadow-md p-1.5 px-2 flex items-center border border-gray-200 dark:border-gray-700 self-end sm:self-auto"},dP={class:"flex gap-2 items-center flex-wrap justify-end"},uP={class:"bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm rounded-md shadow-md p-1 flex gap-1 border border-gray-200 dark:border-gray-700"},mP={class:"bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm rounded-md shadow-md p-1 flex gap-1 border border-gray-200 dark:border-gray-700"},pP={class:"text-xs ml-1"},fP={key:0,class:"bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm rounded-md shadow-md p-1 flex border border-gray-200 dark:border-gray-700"},gP=["aria-label","title"],hP={key:0,class:"i-mdi-fullscreen w-4 h-4"},bP={key:1,class:"i-mdi-fullscreen-exit w-4 h-4"},vP={class:"w-full relative",style:{"z-index":"1"}},yP={class:"bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm rounded-md shadow-md p-1.5 border border-gray-200 dark:border-gray-700 w-full sm:max-w-md"},xP={class:"relative flex"},kP=["id"],_P={class:"relative z-10 min-w-max min-h-max"},wP={key:0,class:"text-center text-gray-500 dark:text-gray-400 italic py-4"},CP=["data-id","onClick","onMouseenter","onKeyup","aria-label","aria-describedby","tabindex"],SP=["title"],$P={class:"text-[10px] sm:text-xs font-semibold text-center overflow-hidden text-ellipsis leading-tight line-clamp-2 min-h-[1.8rem] px-1"},EP=["title"],AP={key:2,class:"absolute -top-2 -right-2 bg-emerald-600 dark:bg-emerald-500 text-white dark:text-gray-900 rounded-full w-5 h-5 sm:w-6 sm:h-6 flex items-center justify-center shadow-md opacity-80"},MP=["title"],PP={key:4,class:"absolute -top-2 -right-2 rounded-full w-5 h-5 sm:w-6 sm:h-6 flex items-center justify-center shadow-md bg-emerald-500 dark:bg-emerald-400 text-white dark:text-gray-900",title:"Purchased"},TP=["id"],LP=["id"],IP={key:1,class:"w-20 h-20 sm:w-24 sm:h-24 opacity-0 flex-shrink-0"},DP=["aria-labelledby","aria-describedby"],FP={class:"flex flex-col sm:flex-row items-start justify-between gap-3 sm:gap-4"},RP={class:"flex-grow pr-6"},UP={class:"flex items-center mb-2"},BP=["id"],qP={key:0,class:"ml-3 text-xs font-medium px-1.5 py-0.5 rounded bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300"},OP=["id"],NP={class:"space-y-1.5"},HP={key:0,class:"text-sm"},jP={class:"text-green-600 dark:text-green-400"},GP={key:1,class:"text-sm"},VP={class:"mr-1"},QP={class:"text-green-600 dark:text-green-400"},zP={key:2,class:"text-sm"},WP={class:"text-blue-600 dark:text-blue-400"},YP={key:3,class:"text-sm"},KP={class:"mr-1"},XP={class:"text-blue-600 dark:text-blue-400"},ZP={class:"text-left sm:text-right flex-shrink-0 w-full sm:w-auto space-y-2 mt-3 sm:mt-0"},JP={class:"text-sm font-semibold"},eT={key:0,class:"text-amber-600 dark:text-amber-400"},tT={key:1,class:"text-emerald-600 dark:text-emerald-400"},sT={class:"flex flex-col sm:flex-row sm:justify-end gap-2"},oT=["disabled"],rT={key:0,class:"mt-4 pt-3 border-t border-gray-200 dark:border-gray-700/50"},nT={class:"flex flex-wrap gap-1"},aT={key:1,class:"mt-4 pt-3 border-t border-gray-200 dark:border-gray-700/50"},iT={class:"flex items-center"},lT={key:2,class:"mt-3 text-sm text-red-600 dark:text-red-400"},cT={key:0},dT={key:1},uT={key:2},mT=Ue({__name:"PrestigeUpgradeTree",props:yk({upgrades:{},availableCategories:{}},{category:{required:!0},categoryModifiers:{}}),emits:["update:category"],setup(t){const e=t,s=Nk(t,"category"),o=ct(),n=gt(),{showToast:i}=zt(),{getCurrencyClasses:l}=Cr(),c=W(null),d=W(null),u=W(window.innerWidth<640);let m=null;const p=W(null),y=W(null),v=W(new Map),S=W(null),_=R({get:()=>o.currentMode,set:fe=>o.currentMode=fe}),C=W(ns.isFullscreen),x=R({get:()=>o.zoomLevel,set:fe=>o.zoomLevel=fe}),$=W(!1),A=W(null),M=W(null),P=W(!1),L=W(null),B=R(()=>l("evolutionPoints"));R(()=>{const fe=new Map;return e.upgrades.forEach(E=>{var w;if(E.category===s.value&&E.position){const F=E.position.row;fe.has(F)||fe.set(F,[]),(w=fe.get(F))==null||w.push(E)}}),fe.forEach(E=>{E.sort((w,F)=>{var q,Z;return(((q=w.position)==null?void 0:q.col)??0)-(((Z=F.position)==null?void 0:Z.col)??0)})}),Array.from(fe.entries()).sort(([E],[w])=>E-w)});const k=R(()=>{const fe=new Map;e.upgrades.forEach(w=>{var F;if(w.category===s.value&&w.position){const q=w.position.row,Z=w.position.col;fe.has(q)||fe.set(q,new Map),(F=fe.get(q))==null||F.set(Z,w)}});const E=new Map;return fe.forEach((w,F)=>{const q=Array.from(w.keys()),Z=Math.min(...q),J=Math.max(...q),te=[];for(let ye=Z;ye<=J;ye++){const $e=w.get(ye)||null;te.push({upgrade:$e,col:ye})}E.set(F,te)}),Array.from(E.entries()).sort(([w],[F])=>w-F)}),I=R(()=>o.evolutionUpgrades),N=R(()=>{if(!d.value)return"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700";const fe=d.value.id,E=o.getUpgradeCount(fe).gt(0),w=Me(fe);return E?"bg-emerald-50 dark:bg-emerald-900/50 border-emerald-400 dark:border-emerald-500":w?"bg-amber-50 dark:bg-amber-900/50 border-amber-400 dark:border-amber-500":"bg-gray-100 dark:bg-gray-800/80 border-gray-300 dark:border-gray-600 opacity-95"}),U=()=>{ns.isEnabled&&c.value?ns.toggle(c.value).catch(fe=>{console.error("Failed to toggle fullscreen:",fe),i("Could not enter fullscreen mode.","error")}):ns.isEnabled?c.value||console.warn("Component root ref not available for fullscreen toggle."):i("Fullscreen is not supported by your browser or is disabled.","warning")},j=()=>{x.value=Math.min(x.value+.25,3),oe()},ee=()=>{x.value=Math.max(x.value-.25,.5),oe()},ne=()=>{x.value=1,oe()},oe=()=>{if(!p.value)return;const fe=p.value.querySelector(".min-w-max");if(fe){if(x.value>1){const E=x.value;p.value.style.setProperty("--zoom-scale",E.toString()),fe.classList.add("zoomed")}else p.value.style.setProperty("--zoom-scale",x.value.toString()),fe.classList.remove("zoomed");fe.style.transform=`scale(${x.value})`,setTimeout(()=>{we()},300)}},O=()=>{C.value=ns.isFullscreen},Y=fe=>{switch(_.value){case"view":he(fe);break;case"buy":Me(fe.id)?de(fe):i("Cannot purchase this upgrade.","warning");break;case"max":Me(fe.id)?re(fe):i("Cannot purchase max levels of this upgrade.","warning");break}},G=fe=>{_.value=fe},de=fe=>{if(!Me(fe.id))return;o.purchaseUpgrade(fe.id)?i(`Purchased ${fe.name} for ${ie(fe.cost)} EP`,"success"):i("Failed to purchase upgrade","error")},re=fe=>{if(!Me(fe.id))return;if(o.purchaseMaxUpgrades(fe.id))i(`Purchased max levels of ${fe.name}`,"success");else{const w=o.getUpgrade(fe.id);w!=null&&w.maxLevel&&w.level.gte(w.maxLevel)?i(`${fe.name} is already at max level`,"info"):o.evolutionPoints.lt((w==null?void 0:w.cost)??1/0)?i(`Not enough EP to purchase ${fe.name}`,"warning"):Se(fe.id)?i("Could not purchase max levels","error"):i(`Prerequisites not met for ${fe.name}`,"warning")}},he=fe=>{document.activeElement instanceof HTMLElement&&document.activeElement.classList.contains("prestige-node")?S.value=document.activeElement:S.value=null,d.value=fe},ve=()=>{d.value=null,Bt(()=>{S.value&&S.value.focus()})},Se=fe=>{const E=o.getUpgrade(fe);return!(E!=null&&E.prerequisites)||E.prerequisites.length===0?!0:E.prerequisites.every(w=>o.getUpgradeCount(w).gt(0))},Me=fe=>{const E=I.value.find(w=>w.id===fe);return!(!E||!Eo(fe,I.value)||o.evolutionPoints.lt(E.cost)||E.maxLevel&&E.level.gte(E.maxLevel))},Oe=fe=>{const E=fe.id,w=o.getUpgradeCount(E).gt(0),F=Me(E),q=Se(E),Z=fe.maxLevel&&fe.level.gte(fe.maxLevel),J=fe.ascensionRequirement||0,te=J>0,ye=te?n.ascensionCount>=J:!0;let $e="border-2 ",Ee="",Re="transition-all ";return w?Z?(Ee="bg-emerald-100 dark:bg-emerald-900 border-emerald-300 dark:border-emerald-700 shadow-md shadow-emerald-400/20 dark:shadow-emerald-600/20 opacity-90 ",Re+="cursor-not-allowed"):F?(Ee="bg-emerald-50 dark:bg-emerald-900/70 border-emerald-400 dark:border-emerald-500 shadow-lg shadow-emerald-400/30 dark:shadow-emerald-500/30 ",Ee+="ring-1 ring-amber-500 ring-offset-1 ring-offset-emerald-50 dark:ring-offset-emerald-900/70 ",Re+="cursor-pointer hover:shadow-xl hover:shadow-emerald-400/40 dark:hover:shadow-emerald-500/40 hover:scale-105"):(Ee="bg-emerald-50 dark:bg-emerald-900/60 border-emerald-400 dark:border-emerald-600 shadow-md shadow-emerald-400/25 dark:shadow-emerald-500/25 ",Re+="cursor-pointer hover:shadow-lg hover:shadow-emerald-400/35 dark:hover:shadow-emerald-500/35 hover:scale-105"):F?(Ee="bg-amber-50 dark:bg-amber-900/50 border-amber-400 dark:border-amber-500 shadow-md shadow-amber-400/30 dark:shadow-amber-300/30 ",Re+="cursor-pointer hover:shadow-lg hover:shadow-amber-400/40 dark:hover:shadow-amber-300/40 hover:scale-105"):q&&ye?(Ee="bg-gray-100 dark:bg-gray-800/80 border-gray-300 dark:border-gray-600 opacity-90 ",Re+="cursor-not-allowed"):te&&!ye?(Ee="bg-gray-100 dark:bg-gray-900/60 border-purple-300 dark:border-purple-700 opacity-70 filter grayscale ",Ee+="ring-1 ring-purple-400/30 dark:ring-purple-500/30 ",Re+="cursor-not-allowed"):(Ee="bg-gray-100 dark:bg-gray-900/60 border-gray-200 dark:border-gray-700 opacity-60 filter grayscale ",Re+="cursor-not-allowed"),$e+Ee+Re},He=fe=>o.getUpgradeCount(fe.id).gt(0)?"bg-emerald-500 text-white cursor-not-allowed font-bold":Me(fe.id)?"bg-amber-500 hover:bg-amber-600 dark:bg-amber-600 dark:hover:bg-amber-500 text-white font-bold hover:shadow-md":"bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed",we=cc(()=>{u.value=window.innerWidth<640,_e()},150),_e=async()=>{var $e;if(m=($e=c.value)==null?void 0:$e.querySelector(`#connections-svg-${s.value}`),!m)return;m.innerHTML="",await Bt();const fe=p.value;if(!fe){console.warn("Tree scroll container ref not found for drawing connections.");return}const E=fe.querySelectorAll(".prestige-node")??[];if(E.length===0)return;const w=new Map;let F=0,q=0;const Z=[],J=fe.getBoundingClientRect(),te=fe.scrollTop,ye=fe.scrollLeft;if(E.forEach(Ee=>{const Ne=Ee.getBoundingClientRect();Z.push(Ne),F=Math.max(F,Ne.right-J.left+ye),q=Math.max(q,Ne.bottom-J.top+te)}),F>0&&q>0)m.style.width=`${F+20}px`,m.style.height=`${q+20}px`;else{m.style.width="0px",m.style.height="0px";return}E.forEach((Ee,Re)=>{const Ne=Ee.getAttribute("data-id");if(Ne){const Ge=Z[Re];if(Ge.width>0&&Ge.height>0){const ft=Ge.left-J.left+ye+Ge.width/2,et=Ge.top-J.top+te+Ge.height/2;w.set(Ne,new DOMRect(ft,et,Ge.width,Ge.height))}}}),e.upgrades.forEach(Ee=>{var Ne;if(Ee.category!==s.value)return;const Re=w.get(Ee.id);Re&&((Ne=Ee.prerequisites)==null||Ne.forEach(Ge=>{const ft=I.value.find(ze=>ze.id===Ge),et=w.get(Ge);if(ft&&et){if(![et.x,et.y,Re.x,Re.y].every(Wo=>Number.isFinite(Wo))){console.warn(`Invalid coordinates for connection ${Ge} -> ${Ee.id}, skipping.`);return}const Ke=document.createElementNS("http://www.w3.org/2000/svg","line");Ke.setAttribute("x1",et.x.toString()),Ke.setAttribute("y1",et.y.toString()),Ke.setAttribute("x2",Re.x.toString()),Ke.setAttribute("y2",Re.y.toString());const Ie=o.getUpgradeCount(Ge).gt(0),ce=o.getUpgradeCount(Ee.id).gt(0),Ae=Se(Ee.id),Xe=u.value?"1.5px":"3px",Ps=u.value?"1px":"2px";Ie&&ce?(Ke.setAttribute("class","stroke-emerald-500 dark:stroke-emerald-400"),Ke.setAttribute("stroke-width",Xe)):Ie&&Ae?(Ke.setAttribute("class","stroke-amber-400 dark:stroke-amber-300"),Ke.setAttribute("stroke-width",Xe),Ke.setAttribute("stroke-dasharray",u.value?"3,3":"5,5")):(Ke.setAttribute("class","stroke-gray-300 dark:stroke-gray-600 opacity-60"),Ke.setAttribute("stroke-width",Ps)),m==null||m.appendChild(Ke)}}))})},pe=()=>{u.value=window.innerWidth<640,u.value&&P.value&&(P.value=!1,A.value=null,M.value=null),we()},me=async fe=>{var w;fe.category!==s.value&&(s.value=fe.category,await Bt(),await new Promise(F=>setTimeout(F,150))),await Bt();const E=Array.from(((w=p.value)==null?void 0:w.querySelectorAll(".prestige-node"))||[]).find(F=>F.dataset.id===fe.id);if(E){v.value.has(fe.id)||v.value.set(fe.id,E),E.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),E.classList.add("pulse-highlight");const F=fe.id;le.has(F)&&clearTimeout(le.get(F));const q=setTimeout(()=>{E.classList.remove("pulse-highlight"),le.delete(F)},4e3);le.set(F,q),E.focus(),i(`Found: ${fe.name}`,"success")}else i(`Could not locate upgrade: ${fe.name}`,"warning"),console.warn(`Upgrade button not found for ID: ${fe.id} in category ${fe.category}`)},le=new Map,z=fe=>{me(fe),setTimeout(()=>{he(fe)},300)};tt(async()=>{var fe;await Bt(),p.value?(we(),oe()):console.warn(`Tree container ref not found on mount for category: ${s.value}`),window.addEventListener("resize",pe),We(()=>o.evolutionPoints,we),We(()=>k.value,we,{deep:!0}),We(()=>x.value,oe),v.value=new Map,(fe=p.value)==null||fe.querySelectorAll(".prestige-node").forEach(E=>{const w=E,F=w.dataset.id;F&&v.value.set(F,w)}),We(d,(E,w)=>{Bt(()=>{E&&y.value?(T2(y,ve,{ignore:[S.value]}),y.value.focus()):!E&&w&&y.value})},{immediate:!1}),ns.isEnabled&&ns.on("change",O)}),We(s,()=>{Bt(()=>{var fe;v.value=new Map,(fe=p.value)==null||fe.querySelectorAll(".prestige-node").forEach(E=>{const w=E,F=w.dataset.id;F&&v.value.set(F,w)}),we(),d.value=null})},{immediate:!1}),fs(()=>{window.removeEventListener("resize",pe),S.value=null,ns.isEnabled&&ns.off("change",O),L.value!==null&&(clearTimeout(L.value),L.value=null)});const K=fe=>`${ie(fe)} EP`,H=fe=>fe.prerequisites?fe.prerequisites.map(E=>{var w;return((w=I.value.find(F=>F.id===E))==null?void 0:w.name)||E}):[],T=(fe,E)=>{fe?v.value.set(E,fe):v.value.delete(E)};Aa("componentRootRef",c);const D=fe=>fe.isAdditive===!0,X=fe=>fe.isMultiplier===!1,ae=fe=>D(fe)?"+":"",ue=fe=>fe?"text-green-600 dark:text-green-400":"text-yellow-600 dark:text-yellow-400",ke=(fe,E)=>{if(u.value)return;L.value!==null&&clearTimeout(L.value);const w=E.currentTarget;console.log("NodeMouseEnter: Target element",w),L.value=window.setTimeout(()=>{A.value=fe,M.value=w,console.log("NodeMouseEnter Timeout: Setting hoveredElement",M.value),P.value=!0,L.value=null},300)},ge=()=>{L.value!==null&&(clearTimeout(L.value),L.value=null),setTimeout(()=>{P.value=!1,A.value=null,M.value=null},100)},Pe=()=>{P.value=!1,A.value=null,M.value=null};return(fe,E)=>(f(),h("div",{ref_key:"componentRootRef",ref:c,class:"relative w-full min-h-[80vh] border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800/50 shadow-inner"},[r("div",nP,[r("div",aP,[r("div",iP,[(f(!0),h(Ce,null,De(fe.availableCategories,w=>(f(),h("button",{key:`quick-${w}`,onClick:F=>s.value=w,class:V(["px-2 py-1 rounded text-xs font-medium transition-colors focus:outline-none focus:ring-1 focus:ring-offset-1 dark:focus:ring-offset-gray-800 focus:ring-blue-500 capitalize",s.value===w?"bg-blue-100 dark:bg-blue-900/60 text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700/50"]),"aria-current":s.value===w?"page":void 0},b(w),11,lP))),128))]),r("div",cP,[r("span",{class:V([B.value.icon,"i-heroicons-sparkles mr-1 w-4 h-4"])},null,2),r("span",{class:V([B.value.text,"text-xs font-semibold whitespace-nowrap"])},b(g(ie)(g(o).evolutionPoints))+" EP ",3)])]),r("div",dP,[r("div",uP,[r("button",{onClick:E[0]||(E[0]=w=>G("view")),class:V(["p-1.5 rounded transition-colors focus:outline-none focus:ring-2 focus:ring-offset-1 dark:focus:ring-offset-gray-800 focus:ring-blue-500",_.value==="view"?"bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700/50"]),"aria-label":"Set mode to View Details",title:"View Details (Click to open panel)"},E[8]||(E[8]=[r("span",{class:"i-mdi-information-outline w-4 h-4"},null,-1)]),2),r("button",{onClick:E[1]||(E[1]=w=>G("buy")),class:V(["p-1.5 rounded transition-colors focus:outline-none focus:ring-2 focus:ring-offset-1 dark:focus:ring-offset-gray-800 focus:ring-emerald-500",_.value==="buy"?"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700/50"]),"aria-label":"Set mode to Buy Single",title:"Buy Single (Click to purchase one level)"},E[9]||(E[9]=[r("span",{class:"i-mdi-cart-plus w-4 h-4"},null,-1)]),2),r("button",{onClick:E[2]||(E[2]=w=>G("max")),class:V(["p-1.5 rounded transition-colors focus:outline-none focus:ring-2 focus:ring-offset-1 dark:focus:ring-offset-gray-800 focus:ring-amber-500",_.value==="max"?"bg-amber-100 dark:bg-amber-900/50 text-amber-700 dark:text-amber-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700/50"]),"aria-label":"Set mode to Buy Max",title:"Buy Max (Click to purchase max affordable levels)"},E[10]||(E[10]=[r("span",{class:"i-mdi-cart-arrow-down w-4 h-4"},null,-1)]),2)]),r("div",mP,[r("button",{onClick:j,class:"p-1.5 rounded transition-colors focus:outline-none focus:ring-2 focus:ring-offset-1 dark:focus:ring-offset-gray-800 focus:ring-indigo-500 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700/50","aria-label":"Zoom In",title:"Zoom In (+25%)"},E[11]||(E[11]=[r("span",{class:"i-mdi-magnify-plus-outline w-4 h-4"},null,-1)])),r("button",{onClick:ne,class:"p-1.5 rounded transition-colors focus:outline-none focus:ring-2 focus:ring-offset-1 dark:focus:ring-offset-gray-800 focus:ring-indigo-500 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700/50","aria-label":"Reset Zoom",title:"Reset Zoom (100%)"},[E[12]||(E[12]=r("span",{class:"i-mdi-magnify-scan w-4 h-4"},null,-1)),r("span",pP,b(Math.round(x.value*100))+"%",1)]),r("button",{onClick:ee,class:"p-1.5 rounded transition-colors focus:outline-none focus:ring-2 focus:ring-offset-1 dark:focus:ring-offset-gray-800 focus:ring-indigo-500 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700/50","aria-label":"Zoom Out",title:"Zoom Out (-25%)"},E[13]||(E[13]=[r("span",{class:"i-mdi-magnify-minus-outline w-4 h-4"},null,-1)]))]),g(ns).isEnabled?(f(),h("div",fP,[r("button",{onClick:U,class:"p-1.5 rounded text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-1 dark:focus:ring-offset-gray-800 focus:ring-indigo-500","aria-label":C.value?"Exit Fullscreen":"Enter Fullscreen",title:C.value?"Exit Fullscreen":"Enter Fullscreen"},[C.value?(f(),h("span",bP)):(f(),h("span",hP))],8,gP)])):Q("",!0)]),r("div",vP,[r("div",yP,[Fe(zA,{onSelect:me})])])]),r("div",xP,[Fe(RM,{collapsed:$.value,"onUpdate:collapsed":E[3]||(E[3]=w=>$.value=w),onSelectUpgrade:z},null,8,["collapsed"]),r("div",{ref_key:"treeContainerRef",ref:p,class:"relative flex-1 overflow-auto rounded-lg p-2 sm:p-4 tree-scroll-container",onScroll:E[4]||(E[4]=(...w)=>g(we)&&g(we)(...w)),onClick:at(ve,["self"]),style:{"max-height":"80vh","--zoom-scale":"1"}},[(f(),h("svg",{id:`connections-svg-${s.value}`,class:"absolute inset-0 pointer-events-none z-0"},null,8,kP)),r("div",_P,[k.value.length===0?(f(),h("p",wP," No upgrades found with position data for the '"+b(s.value)+"' category. ",1)):Q("",!0),(f(!0),h(Ce,null,De(k.value,([w,F])=>(f(),h("div",{key:`${s.value}-row-${w}`,class:"flex flex-row justify-center items-center my-8 gap-12"},[(f(!0),h(Ce,null,De(F,({upgrade:q,col:Z},J)=>(f(),h(Ce,{key:`${s.value}-row-${w}-col-${Z}`},[q?(f(),h("button",{key:0,ref_for:!0,ref:te=>T(te,q.id),class:"prestige-node relative z-10","data-id":q.id,onClick:te=>{Y(q),Pe()},onMouseenter:te=>ke(q,te),onMouseleave:ge,onKeyup:Ya(te=>Y(q),["enter"]),"aria-label":`${q.name}. ${g(o).getUpgradeCount(q.id).gt(0)?q.maxLevel&&q.level.gte(q.maxLevel)?"Purchased (Max Level)":"Purchased":Me(q.id)?"Available for purchase":"Locked"}`,"aria-describedby":`${q.id}-cost ${q.id}-prereqs`,tabindex:Me(q.id)||g(o).getUpgradeCount(q.id).gt(0)&&(!q.maxLevel||q.level.lt(q.maxLevel))?0:-1},[r("div",{class:V(["w-20 h-20 sm:w-24 sm:h-24 rounded-lg flex flex-col items-center justify-center p-1 sm:p-2 transition-all focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 relative",[Oe(q)]])},[r("div",{class:V(["absolute top-1 right-1 text-[10px] font-bold px-1 rounded-full",ue(D(q))])},b(ae(q)),3),r("div",{class:V(["absolute top-1 left-1 text-[9px] sm:text-[10px] px-1 rounded-sm bg-black/10 dark:bg-white/10 shadow-sm",q.level.gt(0)?"text-emerald-700 dark:text-emerald-300 font-medium":"text-gray-600 dark:text-gray-400"])}," Lvl "+b(g(ie)(q.level,0))+b(q.maxLevel?`/${g(ie)(q.maxLevel,0)}`:""),3),q.ascensionRequirement&&q.ascensionRequirement>0?(f(),h("div",{key:0,class:V(["absolute top-6 right-1 text-[8px] sm:text-[9px] px-1 rounded-sm bg-black/10 dark:bg-white/10 shadow-sm flex items-center",g(n).ascensionCount>=(q.ascensionRequirement||0)?"text-purple-700 dark:text-purple-300 font-medium":"text-red-600 dark:text-red-400"]),title:`Requires ${q.ascensionRequirement} Ascension${q.ascensionRequirement>1?"s":""}`},[E[14]||(E[14]=r("span",{class:"i-mdi-arrow-up-bold-circle-outline w-3 h-3 mr-0.5"},null,-1)),r("span",null,b(q.ascensionRequirement),1)],10,SP)):Q("",!0),r("div",{class:V([q.icon,"text-xl sm:text-2xl mb-0.5 sm:mb-1 flex-shrink-0"])},null,2),r("div",$P,b(q.name),1),q.level.gt(0)?(f(),h("div",{key:1,class:"absolute bottom-1 left-1/2 -translate-x-1/2 text-[8px] sm:text-[9px] px-1 rounded-sm bg-gray-200/90 dark:bg-gray-900/80 text-gray-800 dark:text-gray-200 font-semibold shadow-sm whitespace-nowrap",title:`Current effect: ${q.formatEffect(q.effect(q.level))}`},b(q.formatEffect(q.effect(q.level))),9,EP)):Q("",!0),q.maxLevel&&q.level.gte(q.maxLevel)?(f(),h("div",AP,E[15]||(E[15]=[r("span",{class:"i-mdi-check-all text-xs sm:text-sm",title:"Max Level Reached"},null,-1)]))):Me(q.id)?(f(),h("div",{key:3,class:"absolute -top-2 -right-2 rounded-full w-5 h-5 sm:w-6 sm:h-6 flex items-center justify-center shadow-md bg-amber-500 dark:bg-amber-400 text-white dark:text-gray-900 animate-pulse",title:g(o).getUpgradeCount(q.id).gt(0)?"Next level affordable":"Affordable"},E[16]||(E[16]=[r("span",{class:"i-mdi-plus text-xs sm:text-sm"},null,-1)]),8,MP)):g(o).getUpgradeCount(q.id).gt(0)?(f(),h("div",PP,E[17]||(E[17]=[r("span",{class:"i-mdi-check text-xs sm:text-sm"},null,-1)]))):Q("",!0),!q.maxLevel||q.level.lt(q.maxLevel)?(f(),h("div",{key:5,class:V(["absolute -bottom-3 -right-2 rounded-full text-[9px] sm:text-[10px] px-1 font-bold shadow-md",{"bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-300":Me(q.id),"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300":g(o).getUpgradeCount(q.id).gt(0)&&!Me(q.id),"bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200":g(o).getUpgradeCount(q.id).lte(0)&&!Me(q.id)}])},[se(b(g(ie)(q.cost))+" ",1),r("span",{id:`${q.id}-cost`,class:"sr-only"}," Cost: "+b(K(q.cost))+". ",9,TP)],2)):Q("",!0),r("span",{id:`${q.id}-prereqs`,class:"sr-only"},b(q.prerequisites&&q.prerequisites.length>0?`Requires: ${H(q).join(", ")}.`:"No prerequisites."),9,LP)],2)],40,CP)):(f(),h("div",IP))],64))),128))]))),128))]),!u.value&&P.value?(f(),rt(rP,{key:0,upgrade:A.value,"anchor-el":M.value,"scroll-container":p.value},null,8,["upgrade","anchor-el","scroll-container"])):Q("",!0)],544)]),Fe(fo,{name:"fade"},{default:mt(()=>[d.value?(f(),h("div",{key:0,class:"fixed inset-0 z-30 flex items-center justify-center p-4 bg-black/50 dark:bg-black/60 backdrop-blur-sm",onClick:ve},[r("div",{ref_key:"detailsPanelRef",ref:y,role:"dialog","aria-modal":"true","aria-labelledby":`details-title-${d.value.id}`,"aria-describedby":`details-desc-${d.value.id}`,tabindex:"-1",class:V(["relative rounded-lg shadow-xl p-4 sm:p-6 w-full max-w-2xl max-h-[60vh] overflow-y-auto z-40 border-2 focus:outline-none focus:ring-2 focus:ring-emerald-500",N.value]),onClick:E[7]||(E[7]=at(()=>{},["stop"])),onKeydown:Ya(ve,["esc"])},[r("button",{onClick:ve,class:"absolute top-2 right-2 p-1 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 dark:focus:ring-offset-gray-800","aria-label":"Close details"},E[18]||(E[18]=[r("span",{class:"i-mdi-close w-5 h-5"},null,-1)])),r("div",FP,[r("div",RP,[r("div",UP,[r("span",{class:V([d.value.icon,"mr-2 text-xl sm:text-2xl flex-shrink-0"])},null,2),r("h4",{id:`details-title-${d.value.id}`,class:"text-lg sm:text-xl font-bold text-gray-800 dark:text-gray-100"},b(d.value.name),9,BP),d.value.level.gt(0)?(f(),h("span",qP," Level "+b(g(ie)(d.value.level,0))+b(d.value.maxLevel?`/${g(ie)(d.value.maxLevel,0)}`:""),1)):Q("",!0)]),r("p",{id:`details-desc-${d.value.id}`,class:"text-gray-600 dark:text-gray-400 text-sm sm:text-base mb-3 sm:mb-4"},b(d.value.description),9,OP),r("div",NP,[d.value.level.gt(0)&&!d.value.isCombo?(f(),h("div",HP,[E[19]||(E[19]=r("span",{class:"font-semibold"},"Current Effect:",-1)),r("span",{class:V([ue(D(d.value)),"mx-1 font-bold"])},b(ae(d.value)),3),r("span",jP,b(d.value.formatEffect(d.value.effect(d.value.level))),1)])):Q("",!0),d.value.isCombo&&d.value.effects&&d.value.effects.length>0&&d.value.level.gt(0)?(f(),h("div",GP,[E[20]||(E[20]=r("div",{class:"font-semibold mb-1"},"Current Effects:",-1)),(f(!0),h(Ce,null,De(d.value.effects,(w,F)=>(f(),h("div",{key:F,class:"ml-2 flex items-center"},[r("span",{class:V([ue(X(w)),"mr-1 font-bold"])},b(X(w)?"+":""),3),r("span",VP,b(w.target==="global"?"Global Production":w.target.charAt(0).toUpperCase()+w.target.slice(1))+":",1),r("span",QP,b(w.formatEffect?w.formatEffect(w.multiplier(d.value.level)):d.value.formatEffect(w.multiplier(d.value.level))),1)]))),128))])):Q("",!0),(!d.value.maxLevel||d.value.level.lt(d.value.maxLevel))&&!d.value.isCombo?(f(),h("div",zP,[E[21]||(E[21]=r("span",{class:"font-semibold"},"Next Level Effect:",-1)),r("span",{class:V([ue(D(d.value)),"mx-1 font-bold"])},b(ae(d.value)),3),r("span",WP,b(d.value.formatEffect(d.value.effect(d.value.level.add(1)))),1)])):Q("",!0),d.value.isCombo&&d.value.effects&&d.value.effects.length>0&&(!d.value.maxLevel||d.value.level.lt(d.value.maxLevel))?(f(),h("div",YP,[E[22]||(E[22]=r("div",{class:"font-semibold mb-1"},"Next Level Effects:",-1)),(f(!0),h(Ce,null,De(d.value.effects,(w,F)=>(f(),h("div",{key:F,class:"ml-2 flex items-center"},[r("span",{class:V([ue(X(w)),"mr-1 font-bold"])},b(X(w)?"+":""),3),r("span",KP,b(w.target==="global"?"Global Production":w.target.charAt(0).toUpperCase()+w.target.slice(1))+":",1),r("span",XP,b(w.formatEffect?w.formatEffect(w.multiplier(d.value.level.add(1))):d.value.formatEffect(w.multiplier(d.value.level.add(1)))),1)]))),128))])):Q("",!0)])]),r("div",ZP,[r("div",JP,[!d.value.maxLevel||d.value.level.lt(d.value.maxLevel)?(f(),h("span",eT," Cost: "+b(K(d.value.cost)),1)):(f(),h("span",tT," Max Level Reached "))]),r("div",sT,[(!d.value.maxLevel||d.value.level.lt(d.value.maxLevel))&&Me(d.value.id)?(f(),h("button",{key:0,onClick:E[5]||(E[5]=at(w=>re(d.value),["stop"])),class:V(["px-3 py-1.5 rounded text-sm font-semibold transition-colors w-full sm:w-auto text-center focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 dark:focus:ring-offset-gray-800",He(d.value)]),title:"Purchase maximum affordable levels"}," Buy Max ("+b(g(o).calculateMaxPurchasableLevels(d.value.id))+") ",3)):Q("",!0),r("button",{onClick:E[6]||(E[6]=at(w=>de(d.value),["stop"])),class:V(["px-3 py-1.5 rounded text-sm font-semibold transition-colors w-full sm:w-auto text-center focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 dark:focus:ring-offset-gray-800",He(d.value)]),disabled:d.value===null?!0:!Me(d.value.id)||d.value.maxLevel!=null&&d.value.level.gte(d.value.maxLevel)},b(g(o).getUpgradeCount(d.value.id).gt(0)&&(!d.value.maxLevel||d.value.level.lt(d.value.maxLevel))?"Buy Next":g(o).getUpgradeCount(d.value.id).gt(0)?"Purchased":"Purchase"),11,oT)])])]),d.value.prerequisites&&d.value.prerequisites.length>0?(f(),h("div",rT,[E[23]||(E[23]=r("h5",{class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1"},"Prerequisites:",-1)),r("div",nT,[(f(!0),h(Ce,null,De(H(d.value),w=>{var F;return f(),h("span",{key:w,class:V(["text-xs px-1.5 py-0.5 rounded-full",g(o).getUpgradeCount(((F=I.value.find(q=>q.name===w))==null?void 0:F.id)||"").gt(0)?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-800 dark:text-emerald-300":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"])},b(w),3)}),128))])])):Q("",!0),d.value.ascensionRequirement&&d.value.ascensionRequirement>0?(f(),h("div",aT,[E[25]||(E[25]=r("h5",{class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1"},"Ascension Requirement:",-1)),r("div",iT,[E[24]||(E[24]=r("span",{class:"i-mdi-arrow-up-bold-circle text-purple-500 dark:text-purple-400 mr-1"},null,-1)),r("span",{class:V(["text-xs px-1.5 py-0.5 rounded-full",g(n).ascensionCount>=(d.value.ascensionRequirement||0)?"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"])},b(d.value.ascensionRequirement)+" Ascension"+b(d.value.ascensionRequirement>1?"s":""),3)])])):Q("",!0),!g(o).getUpgradeCount(d.value.id).gt(0)&&!Me(d.value.id)?(f(),h("div",lT,[d.value.ascensionRequirement&&d.value.ascensionRequirement>0&&g(n).ascensionCount<(d.value.ascensionRequirement||0)?(f(),h("span",cT," Requires "+b(d.value.ascensionRequirement)+" Ascension"+b(d.value.ascensionRequirement>1?"s":"")+". ",1)):Se(d.value.id)?g(o).evolutionPoints.lt(d.value.cost)?(f(),h("span",uT,"Not enough Evolution Points.")):Q("",!0):(f(),h("span",dT,"Prerequisites not met."))])):Q("",!0)],42,DP)])):Q("",!0)]),_:1})],512))}}),pT=st(mT,[["__scopeId","data-v-8e41a698"]]),fT={class:"overflow-y-auto px-5 flex-grow"},gT={class:"space-y-2 mb-4"},hT={class:"text-blue-700 dark:text-blue-400"},bT={class:"font-medium text-blue-900 dark:text-blue-200"},vT={key:0,class:"text-yellow-600 dark:text-yellow-400"},yT={key:1,class:"text-green-600 dark:text-green-400"},xT={key:0,class:"py-2 px-3 rounded-lg bg-gray-50 dark:bg-gray-700 text-center text-gray-500 dark:text-gray-400"},kT={class:"border-t-2 border-blue-200 dark:border-blue-700 pt-3 flex flex-col font-bold text-blue-900 dark:text-blue-200 px-5"},_T={class:"flex justify-between items-center mb-2 text-sm"},wT={class:"bg-blue-100 dark:bg-blue-800/50 px-2 py-0.5 rounded"},CT={class:"font-medium flex items-center"},ST={class:"bg-yellow-100 dark:bg-yellow-900/30 px-2 py-0.5 rounded text-yellow-800 dark:text-yellow-300"},$T={class:"flex justify-between items-center mt-1"},ET={class:"bg-blue-200 dark:bg-blue-700 px-3 py-1 rounded-lg"},AT=Ue({__name:"EPMultiplierBreakdownModal",props:{show:{type:Boolean}},emits:["close"],setup(t,{emit:e}){const s=t,o=e,{isClosing:n,handleClose:i,preventBackgroundTouchMove:l}=io(),c=cs(),{getEPMultiplierBreakdown:d}=Zr(),u=x=>ie(x,2)+"x",m=R(()=>d()),p=R(()=>{const x=m.value.filter(A=>A.id!=="aphid_farm_ep_boost"&&A.id!=="daily_reward_ep_boost");let $=new be(1);return x.forEach(A=>{$=$.add(A.value.sub(1))}),$}),y=R(()=>m.value.filter(x=>x.id==="aphid_farm_ep_boost"||x.id==="daily_reward_ep_boost")),v=R(()=>c.getEPBoostMultiplier()),S=R(()=>u(v.value)),_=()=>{i(()=>o("close"),0)},C=x=>{x.key==="Escape"&&s.show&&_()};return tt(()=>{window.addEventListener("keydown",C)}),fs(()=>{window.removeEventListener("keydown",C)}),(x,$)=>x.show?(f(),h("div",{key:0,class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onTouchmove:$[1]||($[1]=(...A)=>g(l)&&g(l)(...A)),onClick:at(_,["self"])},[r("div",{class:V(["bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-blue-200 dark:border-blue-700 max-w-md w-full mx-auto overflow-hidden max-h-[90vh] flex flex-col",{"opacity-0 scale-95":g(n)}]),onTouchmove:$[0]||($[0]=at(()=>{},["stop"]))},[$[6]||($[6]=r("div",{class:"bg-blue-100 dark:bg-blue-900/30 p-4 border-b border-blue-200 dark:border-blue-700"},[r("h3",{class:"text-base font-bold flex items-center text-blue-800 dark:text-blue-300"},[r("span",{class:"i-heroicons-sparkles text-blue-600 dark:text-blue-400 mr-2"}),se(" EP Multiplier Breakdown ")])],-1)),r("div",fT,[$[2]||($[2]=r("div",{class:"text-xs text-blue-700 dark:text-blue-400 mb-3 bg-blue-50 dark:bg-blue-900/20 p-2 rounded-lg"},[r("p",{class:"mb-1"},[r("strong",null,"How the total is calculated:")]),r("p",null,"1. Start with base value of 1"),r("p",null,[se("2. Add all "),r("span",{class:"text-green-600 dark:text-green-400"},"+"),se(" bonuses together")]),r("p",null,[se("3. Multiply the result by all "),r("span",{class:"text-yellow-600 dark:text-yellow-400"},""),se(" bonuses")])],-1)),r("div",gT,[(f(!0),h(Ce,null,De(m.value,(A,M)=>(f(),h("div",{key:M,class:"flex justify-between items-center py-2 px-3 rounded-lg bg-blue-50 dark:bg-blue-900/30"},[r("span",hT,b(A.name),1),r("span",bT,[A.id==="aphid_farm_ep_boost"||A.id==="daily_reward_ep_boost"?(f(),h("span",vT,"")):(f(),h("span",yT,"+")),se(" "+b(A.formatted),1)])]))),128)),m.value.length===0?(f(),h("div",xT," No active EP multipliers ")):Q("",!0)])]),r("div",kT,[r("div",_T,[$[3]||($[3]=r("span",{class:"font-medium"},"Additive Subtotal:",-1)),r("span",wT,b(u(p.value)),1)]),(f(!0),h(Ce,null,De(y.value,(A,M)=>(f(),h("div",{key:M,class:"flex justify-between items-center mb-2 text-sm"},[r("span",CT,[$[4]||($[4]=r("span",{class:"text-yellow-600 dark:text-yellow-400"},"",-1)),se(" "+b(A.name)+": ",1)]),r("span",ST,b(A.formatted),1)]))),128)),r("div",$T,[$[5]||($[5]=r("span",null,"Total Multiplier:",-1)),r("span",ET,b(S.value),1)])]),r("div",{class:"mt-4 flex justify-end px-5 pb-5"},[r("button",{onClick:_,class:"py-2 px-4 bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 rounded-lg text-white text-sm font-medium transition-colors"}," Close ")])],34)],32)):Q("",!0)}}),MT=st(AT,[["__scopeId","data-v-3c149154"]]),PT={class:"bg-gradient-to-br from-purple-200 to-purple-100 dark:from-purple-900/40 dark:to-purple-800/40 rounded-xl p-2 sm:p-4 shadow-md border border-purple-300/50 dark:border-purple-700/50 dark:text-purple-100"},TT={class:"flex flex-col space-y-2 sm:space-y-3"},LT={class:"flex items-center justify-between"},IT={class:"text-sm sm:text-base font-bold flex items-center text-purple-800 dark:text-purple-200"},DT={class:"grid grid-cols-1 sm:grid-cols-6 gap-2 sm:gap-3"},FT={class:"sm:col-span-4 grid grid-cols-2 gap-2"},RT={class:"flex justify-between items-center"},UT={class:"sm:col-span-2 flex sm:flex-col space-x-2 sm:space-x-0 sm:space-y-2"},BT={key:0,class:"bg-blue-100/90 dark:bg-blue-900/80 p-1.5 sm:p-2 rounded-lg shadow-sm border border-blue-300 dark:border-blue-700 flex-grow space-y-0.5"},qT={class:"text-2xs sm:text-xs text-blue-800 dark:text-blue-200 font-medium"},OT={class:"text-2xs sm:text-xs text-blue-800 dark:text-blue-200 font-medium"},NT={class:"text-2xs sm:text-xs text-blue-800 dark:text-blue-200 font-medium"},HT=["disabled"],jT={class:"text-2xs sm:text-sm"},GT=["disabled"],VT={key:0,class:"text-2xs sm:text-sm"},QT={key:1,class:"text-2xs sm:text-xs"},zT={key:0,class:"bg-blue-50 dark:bg-blue-900/30 p-2 sm:p-3 rounded-lg text-2xs sm:text-xs text-blue-800 dark:text-blue-300 border border-blue-200 dark:border-blue-800"},WT={class:"grid grid-cols-1 sm:grid-cols-3 gap-2"},YT={class:"list-disc pl-4 mt-1 space-y-0.5"},KT=Ue({__name:"EvolutionStatusSection",props:{showAboutEvolution:{type:Boolean}},emits:["toggleAboutEvolution","confirmEvolution"],setup(t,{emit:e}){const s=e,o=ct(),n=vt(),i=cs();Wt();const{width:l}=j0(),{getEPMultiplierBreakdown:c}=Zr(),d=W(!1),u=R(()=>l.value<640),m=R(()=>o.canEvolve),p=R(()=>o.ticksPerLoop.eq(0)?100:Math.round(o.currentLoopTicks.div(o.ticksPerLoop).mul(100).clamp(0,100).toNumber())),y=R(()=>o.foodForNextLoop.eq(0)?100:Math.round(n.food.div(o.foodForNextLoop).mul(100).clamp(0,100).toNumber())),v=R(()=>ie(o.requiredLoops,1)),S=R(()=>ie(o.currentLoopTicks,0)),_=R(()=>ie(o.ticksPerLoop,1)),C=R(()=>ie(n.food,0)),x=R(()=>ie(o.foodForNextLoop,0)),$=R(()=>i.getEPBoostMultiplier()),A=N=>ie(N.sub(1).mul(100),2)+"%",M=R(()=>!o.hasEvolved),{getCurrencyClasses:P}=Cr(),L=P("evolutionPoints"),B=()=>{if(!o.hasEvolved)return;let N=!0;for(;N;){N=!1;let U=null,j=new be(1/0);for(const ee of o.evolutionUpgrades)ee.maxLevel&&ee.level.gte(ee.maxLevel)||Eo(ee.id,o.evolutionUpgrades)&&(o.evolutionPoints.lt(ee.cost)||ee.cost.lt(j)&&(U=ee,j=ee.cost));U&&(o.purchaseUpgrade(U.id),N=!0)}},k=R(()=>[{label:u.value?"Evo Points":"Evolution Points",value:o.formatEP(),icon:"i-heroicons-sparkles",colorType:"evolutionPoints"},{label:u.value?"Meta":"Metamorphosis",value:o.formatEvolutionCount(),icon:"i-heroicons-arrow-path",colorType:"default"},{label:u.value?"Cycles":"Foraging Cycles",value:o.formatLoopsCompleted(),icon:"i-heroicons-arrow-path",colorType:"default"},{label:u.value?"Evo Req":"Evolution Requirement",value:`${v.value} Cycles`,icon:"i-heroicons-sparkles",colorType:"default"}]),I=Ue({props:{label:{type:String,required:!0},percentage:{type:Number,required:!0},current:{type:String,required:!0},target:{type:String,required:!0}},setup(N){return()=>Ds("div",{class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},[Ds("div",{class:"flex justify-between items-center mb-0.5 sm:mb-1"},[Ds("div",{class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},N.label),Ds("div",{class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300"},[Ds("span",{},`${N.percentage}%`),Ds("span",{class:"ml-1 text-purple-500 dark:text-purple-400"},`(${N.current}/${N.target})`)])]),Ds("div",{class:"h-1.5 sm:h-2 bg-purple-100 dark:bg-purple-900/50 rounded-full overflow-hidden"},[Ds("div",{class:"h-full bg-purple-600 dark:bg-purple-500 transition-all duration-300 ease-out",style:{width:`${N.percentage}%`}})])])}});return(N,U)=>(f(),h(Ce,null,[r("section",PT,[r("div",TT,[r("div",LT,[r("h2",IT,[U[4]||(U[4]=r("span",{class:"i-heroicons-sparkles text-purple-700 dark:text-purple-400 mr-1 sm:mr-2"},null,-1)),r("span",null,b(u.value?"Meta Status":"Metamorphosis Status"),1)]),r("button",{onClick:U[0]||(U[0]=j=>s("toggleAboutEvolution")),class:"w-5 h-5 sm:w-6 sm:h-6 rounded-full bg-purple-300 dark:bg-purple-700 hover:bg-purple-400 dark:hover:bg-purple-600 flex items-center justify-center text-purple-800 dark:text-purple-200 transition-colors"},U[5]||(U[5]=[r("span",{class:"i-heroicons-question-mark-circle text-sm sm:text-base"},null,-1)]))]),r("div",DT,[r("div",FT,[(f(!0),h(Ce,null,De(k.value,(j,ee)=>(f(),h("div",{key:ee,class:V(["p-1.5 sm:p-2 rounded-lg shadow-sm border",j.colorType==="evolutionPoints"?"bg-blue-100/90 dark:bg-blue-900/80 border-blue-300 dark:border-blue-700":"bg-white/90 dark:bg-gray-800/90 border-purple-300 dark:border-purple-700"])},[r("div",RT,[r("div",{class:V(["text-2xs sm:text-xs font-medium",j.colorType==="evolutionPoints"?"text-blue-800 dark:text-blue-200":"text-purple-800 dark:text-purple-300"])},b(j.label),3),r("div",{class:V(["text-xs sm:text-sm font-bold flex items-center min-w-[4rem] justify-end",[j.colorType==="evolutionPoints"?g(L).text:"text-purple-700 dark:text-purple-400"]])},[r("span",{class:V([j.icon,"mr-0.5 sm:mr-1 text-2xs sm:text-xs",j.colorType==="evolutionPoints"?g(L).icon:"text-purple-600 dark:text-purple-400"])},null,2),se(" "+b(j.value),1)],2)])],2))),128)),Fe(g(I),{label:u.value?"Trip Prog to Next Cycle":"Trip Progress towards Next Cycle",percentage:p.value,current:S.value,target:_.value},null,8,["label","percentage","current","target"]),Fe(g(I),{label:u.value?"Food Prog to Next Cycle":"Food Progress towards Next Cycle",percentage:y.value,current:C.value,target:x.value},null,8,["label","percentage","current","target"])]),r("div",UT,[m.value?(f(),h("div",BT,[r("div",null,[r("div",qT,b(u.value?"Potential":"Potential Gain"),1),r("div",{class:V(["text-xs sm:text-sm font-bold flex items-center min-w-[5rem] justify-end",g(L).text])},[r("span",{class:V(["i-heroicons-sparkles mr-0.5 sm:mr-1 text-2xs sm:text-xs",g(L).icon])},null,2),se(" +"+b(g(o).formatPotentialEPGain())+" EP ",1)],2)]),r("div",null,[r("div",OT,b(u.value?"Next Cycle:":"Gain Next Cycle:"),1),r("div",{class:V(["text-2xs sm:text-xs font-semibold flex items-center min-w-[5rem] justify-end",g(L).text])},[r("span",{class:V(["i-heroicons-sparkles mr-0.5 sm:mr-1 text-3xs sm:text-2xs",g(L).icon])},null,2),se(" +"+b(g(o).formatPotentialEPGainForNextCycle())+" EP ",1)],2)]),r("div",NT,[U[7]||(U[7]=se(" Total: ")),r("span",{class:"cursor-pointer inline-flex items-center",onClick:U[1]||(U[1]=j=>d.value=!0)},[se(" +"+b(A($.value))+" bonus ",1),U[6]||(U[6]=r("span",{class:"i-heroicons-information-circle text-xs ml-1 text-blue-500 dark:text-blue-400"},null,-1))])])])):Q("",!0),g(o).hasEvolved?(f(),h("button",{key:1,onClick:B,title:"Automatically purchases the cheapest available upgrades until all Evolution Points are spent",class:"relative py-1.5 sm:py-2 px-2 sm:px-3 rounded-lg text-white font-bold transition-colors duration-200 flex items-center justify-center flex-grow bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 shadow-md group",disabled:!g(o).evolutionPoints.gt(0)},[U[8]||(U[8]=r("span",{class:"i-heroicons-shopping-cart text-sm sm:text-base mr-1 sm:mr-1.5"},null,-1)),r("span",jT,b(u.value?"Buy Max":"Buy Max Upgrades"),1),U[9]||(U[9]=r("div",{class:"absolute invisible group-hover:visible opacity-0 group-hover:opacity-100 transition-opacity bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-1.5 bg-gray-800 text-white text-xs rounded-lg shadow-lg z-10 w-48 whitespace-normal text-center after:content-[''] after:absolute after:left-1/2 after:top-full after:-ml-1.5 after:-mt-1 after:border-t-4 after:border-l-4 after:border-r-4 after:border-t-gray-800 after:border-l-transparent after:border-r-transparent"}," Automatically purchases the cheapest available upgrades until all Evolution Points are spent ",-1))],8,HT)):Q("",!0),r("button",{onClick:U[2]||(U[2]=j=>s("confirmEvolution")),class:V(["py-1.5 sm:py-2 px-2 sm:px-3 rounded-lg text-white font-bold transition-colors duration-200 flex items-center justify-center flex-grow min-h-[2.5rem]",m.value?"bg-gradient-to-r from-blue-700 to-blue-600 hover:from-blue-800 hover:to-blue-700 dark:from-blue-800 dark:to-blue-700 dark:hover:from-blue-900 dark:hover:to-blue-800 shadow-lg":"bg-gray-300 dark:bg-gray-700 cursor-not-allowed"]),disabled:!m.value},[U[10]||(U[10]=r("span",{class:"i-heroicons-sparkles text-sm sm:text-base mr-1 sm:mr-1.5"},null,-1)),m.value?(f(),h("span",VT,b(u.value?"Transform":"Metamorphose"),1)):(f(),h("span",QT," Need "+b(v.value)+" Cycles ",1))],10,GT)])]),M.value?(f(),h("div",zT,[r("div",WT,[r("div",null,[U[15]||(U[15]=r("p",{class:"font-medium mb-1"},"Foraging Cycles",-1)),r("p",null,[U[11]||(U[11]=se("You need ")),r("strong",null,b(v.value)+" cycles",1),U[12]||(U[12]=se(" to evolve. Complete cycles by:"))]),r("ul",YT,[r("li",null,[r("strong",null,b(_.value),1),U[13]||(U[13]=se(" foraging trips, or"))]),r("li",null,[r("strong",null,b(x.value),1),U[14]||(U[14]=se(" food"))])])]),U[16]||(U[16]=r("div",null,[r("p",{class:"font-medium mb-1"},"Trip Progress"),r("p",null,"Ants make foraging trips over time. Upgrades can increase speed and simultaneous trips.")],-1)),U[17]||(U[17]=r("div",null,[r("p",{class:"font-medium mb-1"},"Food Progress"),r("p",null,"Collecting enough food instantly completes a cycle - useful as you progress.")],-1))])])):Q("",!0)])]),Fe(MT,{show:d.value,onClose:U[3]||(U[3]=j=>d.value=!1)},null,8,["show"])],64))}}),XT={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full mx-auto border border-purple-200 dark:border-purple-700 overflow-hidden"},ZT={class:"p-4"},JT={class:"text-center mb-5"},e6={class:"text-xl font-bold text-purple-600 dark:text-purple-400 mb-1"},t6={class:"flex space-x-3"},s6=Ue({__name:"EvolutionConfirmationDialog",props:{show:{type:Boolean}},emits:["confirm","cancel"],setup(t,{emit:e}){const s=e,o=ct();cs();const n=R(()=>o.formatPotentialEPGain());return(i,l)=>i.show?(f(),h("div",{key:0,class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",onKeydown:l[2]||(l[2]=Ya(c=>s("cancel"),["esc"])),onClick:l[3]||(l[3]=at(c=>s("cancel"),["self"]))},[r("div",XT,[l[7]||(l[7]=r("div",{class:"bg-purple-100 dark:bg-purple-900/30 p-4 border-b border-purple-200 dark:border-purple-700"},[r("h3",{class:"text-base font-bold flex items-center text-purple-800 dark:text-purple-300"},[r("span",{class:"i-heroicons-sparkles text-purple-600 dark:text-purple-400 mr-2"}),se(" Confirm Metamorphosis ")])],-1)),r("div",ZT,[r("div",JT,[r("div",e6," +"+b(n.value)+" EP ",1),l[4]||(l[4]=r("p",{class:"text-sm text-gray-700 dark:text-gray-300"}," Your colony will evolve, resetting progress but keeping evolutionary adaptations. ",-1))]),l[6]||(l[6]=r("div",{class:"flex items-start mb-4 p-2 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-900/30 text-amber-800 dark:text-amber-300"},[r("span",{class:"i-heroicons-exclamation-triangle mr-2 text-amber-500 dark:text-amber-400 flex-shrink-0 mt-0.5"}),r("p",{class:"text-xs"}," This will reset your colony's food, ants, and progress. Your evolution points and upgrades will be preserved. ")],-1)),r("div",t6,[r("button",{onClick:l[0]||(l[0]=c=>s("cancel")),class:"flex-1 py-2 px-4 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 text-sm font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"}," Cancel "),r("button",{onClick:l[1]||(l[1]=c=>s("confirm")),class:"flex-1 py-2 px-4 bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-800 rounded-lg text-white text-sm font-medium transition-colors flex items-center justify-center"},l[5]||(l[5]=[r("span",{class:"i-heroicons-sparkles mr-1.5"},null,-1),se(" Metamorphose ")]))])])])],32)):Q("",!0)}}),o6=st(s6,[["__scopeId","data-v-4a717996"]]),r6=Ue({__name:"AboutEvolutionDialog",props:{show:{type:Boolean}},emits:["close"],setup(t,{emit:e}){const s=t,o=e,{handleClose:n,preventBackgroundTouchMove:i}=io(),l=()=>{n(()=>o("close"),0)},c=d=>{d.key==="Escape"&&s.show&&l()};return tt(()=>{window.addEventListener("keydown",c)}),fs(()=>{window.removeEventListener("keydown",c)}),(d,u)=>d.show?(f(),h("div",{key:0,class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm modal-backdrop","data-modal-backdrop":"true",onClick:at(l,["self"]),onTouchmove:u[0]||(u[0]=at((...m)=>g(i)&&g(i)(...m),["self"]))},[r("div",{class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-2xl w-full p-5 mx-auto max-h-[80vh] overflow-y-auto border border-purple-200 dark:border-purple-700"},[r("div",{class:"flex justify-between items-center mb-3 pb-2 border-b border-purple-200 dark:border-purple-700"},[u[2]||(u[2]=r("h3",{class:"text-base font-bold flex items-center text-purple-800 dark:text-purple-300"},[r("span",{class:"i-heroicons-information-circle text-purple-600 dark:text-purple-400 mr-2"}),se(" About Metamorphosis ")],-1)),r("button",{onClick:l,class:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700"},u[1]||(u[1]=[r("span",{class:"i-heroicons-x-mark text-lg"},null,-1)]))]),u[3]||(u[3]=qt('<div class="space-y-4 text-gray-700 dark:text-gray-300 text-sm"><p><strong>Metamorphosis</strong> is your colony&#39;s method of evolution, allowing you to transform your ants into more advanced forms and gain powerful permanent bonuses. </p><div class="bg-purple-50 dark:bg-purple-900/30 p-3 rounded-lg border border-purple-100 dark:border-purple-800"><h4 class="font-semibold text-purple-700 dark:text-purple-400 mb-2">Metamorphosis Process:</h4><ul class="list-disc pl-5 space-y-1"><li>Evolving resets most of your progress, including resources, structures, adaptations, and more.</li><li>You&#39;ll keep all EP (Evolution Points) and the bonuses they provide.</li><li>You&#39;ll gain EP based on your progress in the current evolution.</li><li>Each evolution unlocks new technologies, ant types, and game mechanics.</li></ul></div><div class="bg-green-50 dark:bg-green-900/30 p-3 rounded-lg border border-green-100 dark:border-green-800"><h4 class="font-semibold text-green-700 dark:text-green-400 mb-2">What You Keep:</h4><ul class="list-disc pl-5 space-y-1"><li>Evolution Points (EP) and all bonuses from them</li><li>Unlocked achievements</li><li>Pheromone Essence</li></ul></div><div class="bg-red-50 dark:bg-red-900/30 p-3 rounded-lg border border-red-100 dark:border-red-800"><h4 class="font-semibold text-red-700 dark:text-red-400 mb-2">What Resets:</h4><ul class="list-disc pl-5 space-y-1"><li>All resources (food, minerals, etc.)</li><li>Purchased structures and their levels</li><li>Adaptations and specialization levels</li><li>Colony level and title</li><li>Research and technology</li></ul></div><p> For the optimal evolution, focus on maximizing food production, colony level, and unlocking adaptations to earn more EP. Remember that early evolutions may feel slower, but each evolution makes subsequent ones faster and more rewarding. </p></div>',1))])],32)):Q("",!0)}}),n6={class:"flex flex-col gap-4 lg:gap-6 relative"},a6={class:"min-w-0 space-y-4 lg:space-y-6 pb-20 lg:pb-6 max-w-screen-2xl mx-auto w-full"},i6={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md border border-gray-200/50 dark:border-gray-700/50 overflow-hidden"},l6={class:"p-4"},c6={key:1,class:"p-8 text-center text-gray-500 dark:text-gray-400"},d6=Ue({__name:"UpgradesPage",setup(t){const e=ct(),s=Os(),o=R(()=>e.evolutionUpgrades),n=R({get:()=>e.activeTab,set:v=>{e.activeTab=v}}),i=R(()=>IA().filter(v=>v!=="all")),l=W(!1),c=W(!1),d=()=>{e.canEvolve&&(s.confirmEvolution?l.value=!0:e.evolve())},u=()=>{e.canEvolve&&(e.evolve(),l.value=!1)},m=()=>{l.value=!1},p=()=>{c.value=!c.value};tt(()=>{(n.value==="all"||!i.value.includes(n.value))&&(n.value=i.value[0])});const y=R(()=>n.value==="all"?[]:o.value.filter(v=>v.category===n.value&&v.position));return(v,S)=>(f(),h("div",n6,[r("main",a6,[Fe(KT,{showAboutEvolution:c.value,onToggleAboutEvolution:p,onConfirmEvolution:d},null,8,["showAboutEvolution"]),r("div",i6,[r("div",l6,[n.value&&n.value!=="all"?(f(),rt(pT,{key:0,category:n.value,"onUpdate:category":S[0]||(S[0]=_=>n.value=_),upgrades:y.value,"available-categories":i.value},null,8,["category","upgrades","available-categories"])):(f(),h("div",c6," Loading category or no category selected... "))])]),Fe(o6,{show:l.value,onConfirm:u,onCancel:m},null,8,["show"]),Fe(r6,{show:c.value,onClose:p},null,8,["show"]),Fe(wr,{threshold:400})])]))}}),u6=st(d6,[["__scopeId","data-v-64056088"]]),m6=Ue({__name:"PheromoneMultiplierInfo",setup(t){const e=cs(),{getCurrencyClasses:s}=Cr(),o=s("pheromoneEssence"),n=R(()=>e.getPheromoneGainMultiplier()),i=R(()=>dt(n.value)),l=R(()=>n.value.gt(1));return(c,d)=>l.value?(f(),h("div",{key:0,class:V(["flex items-center px-3 py-2 rounded-lg",g(o).background])},[r("span",{class:V(["i-heroicons-arrow-trending-up mr-2",g(o).icon])},null,2),r("div",null,[r("div",{class:V(["text-sm",g(o).text])},"Essence Gain Multiplier",2),r("div",{class:V(["text-md font-bold",g(o).text])},b(i.value),3)])],2)):Q("",!0)}}),p6={class:"space-y-4"},f6={class:"bg-gradient-to-br from-indigo-100 to-indigo-50 dark:from-indigo-900/40 dark:to-indigo-800/30 rounded-xl p-3 md:p-4 shadow-md"},g6={class:"flex flex-col sm:flex-row gap-2 sm:items-center sm:justify-between mb-3"},h6={class:"flex items-center"},b6={class:"flex items-center justify-between mt-1 sm:mt-0"},v6={class:"flex items-center"},y6={class:"mb-3"},x6={class:"flex flex-wrap gap-2 mb-3"},k6=["value"],_6=["value"],w6={key:0,class:"i-heroicons-arrow-up-20-solid"},C6={key:1,class:"i-heroicons-arrow-down-20-solid"},S6={class:"flex items-center"},$6={class:"space-y-3 sm:space-y-4"},E6={class:"flex flex-col overflow-hidden"},A6={class:"flex flex-col md:flex-row md:justify-between md:items-start mb-1 md:mb-2"},M6={class:"pr-1"},P6={class:"text-left md:text-right mt-1 md:mt-0 flex md:block justify-between items-center"},T6={key:0,class:"mt-2 md:mt-4 bg-gray-50 dark:bg-gray-700/30 p-2 md:p-3 rounded-lg border border-gray-200 dark:border-gray-700"},L6={class:"flex items-center"},I6={class:"text-xs md:text-sm text-blue-600 dark:text-blue-400"},D6={class:"space-y-1 md:space-y-2 mt-2 md:mt-3"},F6={class:"flex items-center overflow-hidden"},R6={key:0,class:"i-heroicons-check-circle text-green-500 dark:text-green-400 flex-shrink-0 mr-1 md:mr-2"},U6={key:1,class:"i-heroicons-lock-closed text-gray-400 dark:text-gray-500 flex-shrink-0 mr-1 md:mr-2"},B6={key:3,class:"text-gray-500 dark:text-gray-400 truncate"},q6={class:"text-xs ml-1 hidden md:inline"},O6={key:0,class:"font-medium text-green-600 dark:text-green-400 flex-shrink-0 ml-1"},N6={class:"flex flex-col justify-center gap-1 md:gap-2 h-full"},H6=["disabled","onClick"],j6={key:0},G6={key:1},V6={key:2},Q6={key:3},z6=["onClick","disabled","title"],W6={key:0,class:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 bg-gray-800 dark:bg-gray-900 text-white text-xs rounded px-2 py-1 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10 shadow-lg"},Y6={class:"text-xs text-gray-300"},K6={class:"flex items-start"},X6=Ue({__name:"PheromoneShopTab",setup(t){const e=os(),s=Wr(),{getCurrencyClasses:o}=Cr(),n=o("pheromoneEssence"),i=W({}),l=W({count:0,visible:!1,totalLevels:0}),c=[{value:"unlocked",label:"Unlocked Status"},{value:"level",label:"Current Level"},{value:"maxLevel",label:"Max Level"},{value:"price",label:"Price"},{value:"baseCost",label:"Base Cost"},{value:"name",label:"Name"}],d=R(()=>s.sortPreference.by),u=R(()=>s.sortPreference.direction),m=R(()=>s.hideMaxedItems);function p(I){if(I===d.value)s.setSortPreference(I,u.value==="asc"?"desc":"asc");else{const N=I==="name"?"asc":"desc";s.setSortPreference(I,N)}}function y(I){s.upgradeItem(I)}function v(I){const N=s.maxBuyItem(I);return N>0&&(i.value[I]={count:N,visible:!0},setTimeout(()=>{i.value[I]&&(i.value[I].visible=!1)},2e3)),N}function S(){let I=0,N=0,U=!0;for(;U;){const j=s.shopItems.filter(oe=>s.isItemUnlocked(oe.id)&&s.getItemLevel(oe.id)<oe.maxLevel).map(oe=>({id:oe.id,cost:s.getNextLevelCost(oe.id)})).filter(oe=>e.pheromoneEssence.gte(oe.cost));if(j.length===0){U=!1;continue}let ee=j[0];for(const oe of j)oe.cost.lt(ee.cost)&&(ee=oe);s.upgradeItem(ee.id)?(I++,N++):U=!1,I>1e3&&(U=!1)}return I>0&&(l.value={count:I,visible:!0,totalLevels:N},setTimeout(()=>{l.value.visible=!1},2e3)),I}function _(I){return`+${(I instanceof be?I:new be(String(I))).sub(1).mul(100).toFixed(1)}%`}function C(I){const N=s.getNextLevelCost(I);return e.pheromoneEssence.gte(N)}function x(I){const N=s.shopItems.find(oe=>oe.id===I),U=N&&s.getItemLevel(I)>=N.maxLevel,j=C(I),ee=N&&s.isItemUnlocked(I),ne="mt-4 w-full py-2 px-4 text-white rounded-lg transition-colors duration-200 flex items-center justify-center";return ee?U?`${ne} opacity-50 cursor-not-allowed ${n.background.replace("bg-","bg-indigo-")}`:j?`${ne} ${n.background.replace("bg-","bg-indigo-600 hover:bg-indigo-700")}`:`${ne} opacity-50 cursor-not-allowed bg-red-600`:`${ne} opacity-50 cursor-not-allowed bg-gray-500`}function $(I){const N=s.shopItems.find(ee=>ee.id===I),U=N&&s.getItemLevel(I)>=N.maxLevel;return!!(!(N&&s.isItemUnlocked(I))||U||!C(I))}const A=R(()=>s.getAllShopItemsWithStatus),M=R(()=>s.shopItems.filter(I=>{const N=s.getItemLevel(I.id);return s.isItemUnlocked(I.id)&&N>=I.maxLevel}).length);function P(){s.toggleHideMaxedItems()}function L(I){return s.calculateMaxBuyLevels(I)}function B(I){const N=L(I);return N<=0?"Cannot purchase any levels":`Buy ${N} levels`}function k(I){const N=L(I),U=s.calculateMaxBuyCost(I);return{levels:N,cost:ie(U)}}return(I,N)=>(f(),h("div",p6,[r("div",f6,[r("div",g6,[r("div",h6,[r("span",{class:V(["i-heroicons-beaker mr-2",g(n).icon])},null,2),N[2]||(N[2]=r("h2",{class:"text-lg font-bold"},"Pheromone Essence Shop",-1))]),r("div",b6,[r("div",v6,[r("span",{class:V(["i-heroicons-flask text-lg mr-1.5",g(n).icon])},null,2),r("span",{class:V(["text-sm font-medium",g(n).text])},b(g(e).formattedPheromoneEssence),3)]),r("button",{onClick:S,class:"ml-2 flex items-center justify-center py-1 px-2.5 bg-indigo-600 hover:bg-indigo-700 text-white text-sm rounded-lg transition-colors duration-200 relative"},[N[5]||(N[5]=r("span",{class:"i-heroicons-arrow-path mr-1"},null,-1)),N[6]||(N[6]=se(" Max All ")),l.value.visible?(f(),h("div",{key:0,class:V(["absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 z-10 text-center text-xs font-medium text-green-600 dark:text-green-400 bg-green-100 dark:bg-gray-800 py-1 px-2 rounded-md transition-opacity duration-300 shadow-lg",l.value.visible?"opacity-100":"opacity-0"])},[N[3]||(N[3]=r("span",{class:"i-heroicons-plus-circle mr-1"},null,-1)),se(" +"+b(l.value.totalLevels)+" levels! ",1),N[4]||(N[4]=r("div",{class:"absolute w-0 h-0 left-1/2 top-full -translate-x-1/2 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-green-100 dark:border-t-gray-800"},null,-1))],2)):Q("",!0)])])]),r("div",y6,[r("div",{class:V(["p-2 rounded-lg",[g(n).background.replace("/70","/30")]])},[Fe(m6)],2)]),r("div",x6,[r("div",{class:V(["flex items-center p-2 rounded-lg flex-1 min-w-[140px] sm:min-w-0 sm:max-w-[220px]",g(n).background.replace("/70","/30")])},[r("span",{class:V(["i-heroicons-arrow-up-down text-sm mr-1",g(n).icon])},null,2),r("select",{value:d.value,onChange:N[0]||(N[0]=U=>p(U.target.value)),class:"bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white text-xs rounded-md px-1.5 py-1 flex-1 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500"},[(f(),h(Ce,null,De(c,U=>r("option",{key:U.value,value:U.value},b(U.label),9,_6)),64))],40,k6),r("button",{onClick:N[1]||(N[1]=U=>p(d.value)),class:"ml-1 px-1.5 py-1 text-xs rounded-md bg-indigo-100 dark:bg-indigo-900/30 hover:bg-indigo-200 dark:hover:bg-indigo-800/50 text-indigo-700 dark:text-indigo-300 transition-colors"},[u.value==="asc"?(f(),h("span",w6)):(f(),h("span",C6))])],2),r("div",{class:V(["flex items-center justify-between p-2 rounded-lg flex-1",g(n).background.replace("/70","/30")])},[r("div",S6,[r("span",{class:V(["i-heroicons-eye-slash mr-1.5 text-sm",g(n).icon])},null,2),r("span",{class:V(["text-xs sm:text-sm",g(n).text])},"Hide maxed",2),m.value&&M.value>0?(f(),h("span",{key:0,class:V(["ml-1.5 text-xs px-1.5 py-0.5 rounded-full",[g(n).background.replace("/70",""),g(n).text]])},b(M.value),3)):Q("",!0)]),r("button",{onClick:P,class:V(["relative inline-flex items-center h-5 sm:h-6 rounded-full w-10 sm:w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",m.value?"bg-indigo-600":"bg-gray-300 dark:bg-gray-600"])},[r("span",{class:V(["inline-block w-3.5 sm:w-4 h-3.5 sm:h-4 transform bg-white rounded-full transition-transform",m.value?"translate-x-5 sm:translate-x-6":"translate-x-1"])},null,2)],2)],2)]),r("div",$6,[(f(!0),h(Ce,null,De(A.value,U=>{var j,ee;return f(),h("div",{key:U.id,class:V(["bg-white dark:bg-gray-800 rounded-lg p-3 md:p-4 shadow-sm border grid grid-cols-[2fr_1fr] md:grid-cols-[3fr_1fr] gap-2 md:gap-4",U.unlocked?"border-indigo-200 dark:border-indigo-800":"border-gray-300 dark:border-gray-700 border-dashed"])},[r("div",E6,[r("div",A6,[r("div",M6,[r("h3",{class:V(["text-base md:text-lg font-semibold truncate",g(n).text])},b(U.name),3),r("p",{class:V(["text-xs md:text-sm line-clamp-2 md:line-clamp-none",g(n).text])},b(U.description),3)]),r("div",P6,[r("div",{class:V(["text-xs md:text-sm",g(n).text])}," Level "+b(g(s).getItemLevel(U.id))+"/"+b(U.maxLevel),3),r("div",{class:V(["text-xs",C(U.id)?g(n).text:"text-red-500 dark:text-red-300"])}," Next: "+b(g(ie)(g(s).getNextLevelCost(U.id)))+" Essence ",3)])]),U.unlocked?Q("",!0):(f(),h("div",T6,[r("div",L6,[N[7]||(N[7]=r("span",{class:"i-heroicons-information-circle text-blue-500 dark:text-blue-400 mr-1 md:mr-2"},null,-1)),r("div",I6," To unlock: "+b(g(s).getUnlockRequirementText(U.id)),1)])])),r("div",D6,[(f(!0),h(Ce,null,De(U.modifiers,(ne,oe)=>(f(),h("div",{key:ne.target,class:V(["flex items-center justify-between text-xs md:text-sm py-1 px-1.5 md:px-2 rounded-md",g(s).getItemLevel(U.id)>=ne.unlockLevel?"bg-green-50 dark:bg-green-900/20 border border-green-100 dark:border-green-800/50":"bg-gray-50 dark:bg-gray-700/30 border border-gray-100 dark:border-gray-700/50"])},[r("div",F6,[g(s).getItemLevel(U.id)>=ne.unlockLevel?(f(),h("span",R6)):(f(),h("span",U6)),g(s).getItemLevel(U.id)>=ne.unlockLevel?(f(),h("span",{key:2,class:V([g(n).text,"truncate"])},b(ne.description),3)):(f(),h("span",B6,[N[8]||(N[8]=se(" Mystery enhancement ")),r("span",q6,"(Unlocks at level "+b(ne.unlockLevel)+")",1)]))]),g(s).getItemLevel(U.id)>=ne.unlockLevel?(f(),h("div",O6,b(_(g(s).getCurrentModifierValue(U.id,oe))),1)):Q("",!0)],2))),128))]),(j=i.value[U.id])!=null&&j.visible?(f(),h("div",{key:1,class:V(["mt-1 md:mt-2 text-center text-xs md:text-sm font-medium text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/20 py-0.5 md:py-1 px-2 rounded-md transition-opacity duration-300",(ee=i.value[U.id])!=null&&ee.visible?"opacity-100":"opacity-0"])},[N[9]||(N[9]=r("span",{class:"i-heroicons-plus-circle mr-1"},null,-1)),se(" Purchased "+b(i.value[U.id].count)+" levels! ",1)],2)):Q("",!0)]),r("div",N6,[r("button",{class:V([x(U.id),"flex items-center justify-center py-1.5 md:py-2 flex-1 text-sm md:text-base"]),disabled:$(U.id),onClick:ne=>y(U.id)},[N[10]||(N[10]=r("span",{class:"i-heroicons-arrow-up-circle mr-1 md:mr-2"},null,-1)),g(s).getItemLevel(U.id)>=U.maxLevel?(f(),h("span",j6,"Max")):U.unlocked?C(U.id)?(f(),h("span",Q6,"Upgrade")):(f(),h("span",V6,"Can't Afford")):(f(),h("span",G6,"Unlock"))],10,H6),r("button",{onClick:ne=>v(U.id),disabled:$(U.id),class:V([x(U.id),"flex items-center justify-center py-1.5 md:py-2 relative group flex-1 text-sm md:text-base"]),title:B(U.id)},[N[12]||(N[12]=r("span",{class:"i-heroicons-arrow-path mr-1"},null,-1)),N[13]||(N[13]=se(" Max ")),L(U.id)>0&&!$(U.id)?(f(),h("div",W6,[se(" Buy "+b(k(U.id).levels)+" levels ",1),r("div",Y6,"Cost: "+b(k(U.id).cost)+" Essence",1),N[11]||(N[11]=r("div",{class:"absolute w-0 h-0 left-1/2 top-full -translate-x-1/2 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-800 dark:border-t-gray-900"},null,-1))])):Q("",!0)],10,z6)])],2)}),128))]),r("div",{class:V(["mt-3 md:mt-4 text-xs md:text-sm p-2 md:p-3 rounded-lg",[g(n).text,g(n).background.replace("/70","/30")]])},[r("div",K6,[r("span",{class:V(["i-heroicons-information-circle mt-0.5 mr-1.5 md:mr-2",g(n).icon])},null,2),N[14]||(N[14]=r("div",null,[r("p",{class:"mb-1"},"Pheromone Essence is collected from defeated enemies in the Adventure mode."),r("p",null,"Higher-level enemies provide more essence. Defeat tougher bugs to collect more!"),r("p",{class:"mt-1 text-blue-600 dark:text-blue-400"},"Upgrade existing items to discover new pheromone enhancements!")],-1))])],2)])]))}}),Z6=()=>{const t=Vt(),e=ps(),s=Xs(),o=W(!1),n=W(t.filterText),i=W(t.showTooStrongBugs);(!t.sortOption||t.sortOption===va.DEFAULT)&&t.setSortOption(va.REWARD_VALUE),We(()=>n.value,S=>{t.setTextFilter(S)}),We(()=>t.filterText,S=>{n.value=S}),We(()=>i.value,S=>{t.setShowTooStrongBugs(S)}),We(()=>t.showTooStrongBugs,S=>{i.value=S});const l=S=>{t.setQuestTypeFilter(S)},c=S=>{t.setRewardTypeFilter(S)},d=S=>{t.setSortOption(S)},u=()=>{n.value="",t.clearFilters(),i.value=!0,t.setSortOption(va.REWARD_VALUE)},m=S=>{const _=s.getBugById(S);if(!_)return!1;const C=e.calculateDamage(e.playerDamage,_.defense);return C.lte(0)?!1:_.maxHealth.div(C).ceil().lte(10)},p=R(()=>i.value?t.filteredAvailableQuests:t.filteredAvailableQuests.filter(S=>{const _=S.goals.filter(x=>x.type===Gt.KILL_BUGS);return _.length===0||["bug_slayer_initiate","extreme_bug_hunter"].includes(S.id)||S.id.includes("exterminator_")?!0:_.every(x=>x.target?m(x.target):!0)})),y=R(()=>!!(t.filterQuestType||t.filterRewardType||t.filterText||!i.value)),v=R(()=>{let S=0;return t.filterQuestType&&S++,t.filterRewardType&&S++,t.filterText&&S++,i.value||S++,S});return{isFilterPanelOpen:o,searchQuery:n,showTooStrongBugs:i,sortOption:R(()=>t.sortOption),filterQuestType:R(()=>t.filterQuestType),filterRewardType:R(()=>t.filterRewardType),hasActiveFilters:y,activeFilterCount:v,filteredQuestsByStrength:p,setQuestTypeFilter:l,setRewardTypeFilter:c,setSortOption:d,clearAllFilters:u,canDefeatBug:m,QuestType:Gt,RewardType:Ut,QuestSortOption:va}};function zy(){const t=Vt(),e=W(null),s=R(()=>t.questQueue.map(x=>t.getAvailableQuestById(x)).filter(x=>x!==void 0)),o=R(()=>t.questQueue.length),n=R(()=>o.value===0),i=R(()=>t.isQueueModalOpen),l=()=>{t.openQueueModal()},c=()=>{t.closeQueueModal(),e.value=null},d=x=>t.addQuestToQueue(x),u=x=>t.addMultipleQuestsToQueue(x),m=x=>t.removeQuestFromQueue(x),p=()=>t.startNextQuestFromQueue(),y=()=>{t.clearQuestQueue()},v=()=>t.toggleAutoStartNextQuest(),S=x=>{e.value=x},_=()=>{e.value=null},C=x=>{e.value!==null&&(t.reorderQuestQueue(e.value,x),e.value=null)};return{isQueueModalOpen:i,queuedQuests:s,queueLength:o,isQueueEmpty:n,openQueueModal:l,closeQueueModal:c,addToQueue:d,addAllToQueue:u,removeFromQueue:m,startNextQuest:p,clearQueue:y,toggleAutoStart:v,autoStartEnabled:R(()=>t.autoStartNextQuest),onDragStart:S,onDragEnd:_,onDrop:C,draggedItemIndex:e}}function J6(){const t=W(!1),e=W(null),s=W(null),o=W(0),n=W(0);return{isDragging:t,draggedItemId:e,draggedItemIndex:s,touchStartX:o,touchStartY:n,startDrag:(d,u,m)=>{t.value=!0,e.value=d,s.value=u,m instanceof MouseEvent?(o.value=m.clientX,n.value=m.clientY):m.touches&&m.touches.length>0&&(o.value=m.touches[0].clientX,n.value=m.touches[0].clientY,m.preventDefault())},endDrag:()=>{t.value=!1,e.value=null,s.value=null},isDraggedOver:(d,u)=>{const m=d.getBoundingClientRect();let p,y;if(u instanceof MouseEvent)p=u.clientX,y=u.clientY;else if(u.touches&&u.touches.length>0)p=u.touches[0].clientX,y=u.touches[0].clientY;else return!1;return p>=m.left&&p<=m.right&&y>=m.top&&y<=m.bottom}}}const e8={class:"p-6 overflow-y-auto max-h-[60vh]"},t8={class:"mb-4 flex items-center justify-between bg-blue-50 dark:bg-blue-900/20 p-3 rounded-md"},s8={class:"relative inline-flex items-center cursor-pointer"},o8=["checked"],r8={key:0,class:"text-center py-8"},n8={key:1,class:"space-y-3"},a8={class:"text-lg font-medium text-gray-700 dark:text-gray-300 mb-3"},i8={class:"space-y-3"},l8=["draggable","onDragstart","onDrop","onTouchstart"],c8={class:"flex items-center p-3"},d8={key:0,class:"flex-shrink-0 cursor-move px-2 text-gray-400"},u8={key:1,class:"flex-shrink-0 flex flex-col px-1.5"},m8=["onClick","disabled"],p8=["onClick","disabled"],f8={class:"w-6 h-6 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-xs text-blue-700 dark:text-blue-300 mr-3"},g8={class:"flex-grow min-w-0"},h8={class:"font-medium text-gray-800 dark:text-gray-200 truncate"},b8={class:"text-xs text-gray-500 dark:text-gray-400 truncate"},v8={class:"ml-3"},y8={key:0,class:"px-2 py-1 rounded-full text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"},x8={key:1,class:"px-2 py-1 rounded-full text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"},k8=["onClick"],_8={class:"flex justify-end mt-4"},w8=Ue({__name:"QuestQueueModal",setup(t){const{isQueueModalOpen:e,queuedQuests:s,queueLength:o,isQueueEmpty:n,closeQueueModal:i,removeFromQueue:l,clearQueue:c,toggleAutoStart:d,autoStartEnabled:u,onDragStart:m,onDragEnd:p,onDrop:y,draggedItemIndex:v}=zy(),{isClosing:S,handleClose:_,preventBackgroundTouchMove:C}=io(),x=J6(),$=Iv("(max-width: 767px)"),A=ee=>{switch(ee){case Gt.KILL_BUGS:return"Kill Bugs";case Gt.COLLECT_FOOD:return"Collect Food";case Gt.COLLECT_PHEROMONE:return"Collect Pheromone";default:return"Unknown"}},M=ee=>{if(ee==null)return"0";try{return ie(a(ee),2)}catch(ne){return console.error("Error formatting value:",ee,ne),"0"}},P=ee=>{if(!ee.goals||ee.goals.length===0)return"No requirements";if(ee.goals.length===1){const ne=ee.goals[0];switch(ne.type){case Gt.KILL_BUGS:return`Kill ${M(ne.requiredAmount)} ${ne.target||"bugs"}`;case Gt.COLLECT_FOOD:return`Collect ${M(ne.requiredAmount)} food`;case Gt.COLLECT_PHEROMONE:return`Collect ${M(ne.requiredAmount)} pheromone essence`;default:return"Unknown requirement"}}return`Complete ${ee.goals.length} objectives`},L=(ee,ne,oe)=>{ne.touches&&ne.touches.length>0&&(x.startDrag(oe,ee,ne),m(ee))},B=ee=>{x.isDragging.value&&ee.preventDefault()},k=ee=>{if(x.isDragging.value&&x.draggedItemIndex.value!==null){const ne=document.querySelectorAll(".quest-queue-item");for(let oe=0;oe<ne.length;oe++)if(x.isDraggedOver(ne[oe],ee)){y(oe);break}x.endDrag(),p()}},I=()=>{_(i)},N=ee=>{ee.key==="Escape"&&e.value&&I()};tt(()=>{window.addEventListener("keydown",N)}),fs(()=>{window.removeEventListener("keydown",N)});const U=ee=>{ee>0&&(m(ee),y(ee-1),p())},j=ee=>{ee<s.value.length-1&&(m(ee),y(ee+1),p())};return(ee,ne)=>(f(),rt(fo,{name:"fade"},{default:mt(()=>[g(e)?(f(),h("div",{key:0,class:"fixed inset-0 bg-black/30 dark:bg-black/60 z-50 backdrop-blur-sm flex items-center justify-center p-4 modal-backdrop","data-modal-backdrop":"true",onClick:at(I,["self"]),onTouchmove:ne[7]||(ne[7]=at((...oe)=>g(C)&&g(C)(...oe),["self"]))},[r("div",{class:V(["relative bg-white dark:bg-slate-900 rounded-lg shadow-lg max-w-3xl w-full max-h-[calc(100vh-2rem)] overflow-hidden",{"opacity-75":g(S)}])},[r("div",{class:"px-6 py-4 border-b border-blue-200 dark:border-blue-700 flex items-center"},[ne[9]||(ne[9]=r("div",{class:"flex-grow"},[r("h2",{class:"text-xl font-bold text-blue-800 dark:text-blue-300"}," Quest Queue "),r("div",{class:"text-sm text-blue-600 dark:text-blue-400 mt-1"}," Manage your upcoming quests ")],-1)),r("button",{class:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors","aria-label":"Close modal",onClick:I},ne[8]||(ne[8]=[r("svg",{class:"w-5 h-5 text-slate-500 dark:text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),r("div",e8,[r("div",t8,[ne[11]||(ne[11]=r("div",null,[r("h3",{class:"font-medium text-blue-800 dark:text-blue-300"},"Auto-start next quest"),r("p",{class:"text-sm text-blue-600 dark:text-blue-400"}," Automatically start the next quest in queue when the current one completes ")],-1)),r("label",s8,[r("input",{type:"checkbox",checked:g(u),onChange:ne[0]||(ne[0]=(...oe)=>g(d)&&g(d)(...oe)),class:"sr-only peer"},null,40,o8),ne[10]||(ne[10]=r("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])]),g(n)?(f(),h("div",r8,ne[12]||(ne[12]=[r("div",{class:"i-heroicons-queue-list text-blue-400 dark:text-blue-500 w-12 h-12 mx-auto mb-3"},null,-1),r("h3",{class:"text-lg font-medium text-gray-700 dark:text-gray-300 mb-2"},"No quests in queue",-1),r("p",{class:"text-gray-500 dark:text-gray-400"}," Add quests to the queue from the available quests tab ",-1)]))):(f(),h("div",n8,[r("h3",a8," Queued quests ("+b(g(o))+") ",1),r("ul",i8,[(f(!0),h(Ce,null,De(g(s),(oe,O)=>(f(),h("li",{key:O,class:V(["quest-queue-item bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",{"opacity-50":g(v)===O}]),draggable:!g($),onDragstart:Y=>!g($)&&g(m)(O),onDragend:ne[1]||(ne[1]=Y=>!g($)&&g(p)),onDragover:ne[2]||(ne[2]=at(()=>{},["prevent"])),onDragenter:ne[3]||(ne[3]=at(()=>{},["prevent"])),onDrop:Y=>!g($)&&g(y)(O),onTouchstart:Y=>!g($)&&L(O,Y,oe.id),onTouchmove:ne[4]||(ne[4]=Y=>!g($)&&B(Y)),onTouchend:ne[5]||(ne[5]=Y=>!g($)&&k(Y))},[r("div",c8,[g($)?(f(),h("div",u8,[r("button",{class:V(["text-gray-400 hover:text-blue-500 p-0.5",{"opacity-30 cursor-not-allowed":O===0}]),onClick:at(Y=>U(O),["stop"]),disabled:O===0},ne[14]||(ne[14]=[r("div",{class:"i-heroicons-chevron-up w-4 h-4"},null,-1)]),10,m8),r("button",{class:V(["text-gray-400 hover:text-blue-500 p-0.5",{"opacity-30 cursor-not-allowed":O===g(s).length-1}]),onClick:at(Y=>j(O),["stop"]),disabled:O===g(s).length-1},ne[15]||(ne[15]=[r("div",{class:"i-heroicons-chevron-down w-4 h-4"},null,-1)]),10,p8)])):(f(),h("div",d8,ne[13]||(ne[13]=[r("div",{class:"i-heroicons-bars-3 w-5 h-5"},null,-1)]))),r("div",f8,b(O+1),1),r("div",g8,[r("h4",h8,b(oe.title),1),r("p",b8,b(P(oe)),1)]),r("div",v8,[oe.goals&&oe.goals.length===1?(f(),h("span",y8,b(A(oe.goals[0].type)),1)):(f(),h("span",x8,b(oe.goals.length)+" Goals ",1))]),r("button",{onClick:Y=>g(l)(oe.id),class:"ml-2 p-1.5 rounded-full text-gray-500 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20"},ne[16]||(ne[16]=[r("div",{class:"i-heroicons-trash w-4 h-4"},null,-1)]),8,k8)])],42,l8))),128))]),r("div",_8,[r("button",{onClick:ne[6]||(ne[6]=(...oe)=>g(c)&&g(c)(...oe)),class:"px-3 py-1.5 bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:hover:bg-red-800/50 text-red-700 dark:text-red-300 text-sm rounded-md transition-colors flex items-center"},ne[17]||(ne[17]=[r("span",{class:"i-heroicons-trash mr-1"},null,-1),se(" Clear Queue ")]))])]))]),r("div",{class:"px-6 py-4 border-t border-blue-200 dark:border-blue-700 flex justify-end"},[r("button",{class:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors font-medium",onClick:I}," Close ")])],2)],32)):Q("",!0)]),_:1}))}}),C8=st(w8,[["__scopeId","data-v-86bb6094"]]),S8={class:"space-y-4"},$8={key:0,class:"space-y-3"},E8={class:"bg-gradient-to-br from-amber-50 to-amber-100/50 dark:from-amber-900/30 dark:to-amber-800/20 rounded-lg shadow-lg p-4 border border-amber-200/50 dark:border-amber-700/30"},A8={class:"flex items-center mb-2"},M8={class:"text-xl font-bold text-amber-800 dark:text-amber-300"},P8={class:"text-amber-700 dark:text-amber-400 mb-4"},T8={class:"mb-4"},L8={class:"flex justify-between text-sm mb-1"},I8={class:"text-amber-700 dark:text-amber-400 font-medium"},D8={class:"w-full bg-amber-200 dark:bg-amber-700/50 rounded-full h-3"},F8={key:0,class:"space-y-4"},R8={class:"flex justify-between text-sm"},U8={class:"text-amber-700 dark:text-amber-400"},B8={class:"text-amber-700 dark:text-amber-400"},q8={class:"w-full bg-amber-200 dark:bg-amber-700/50 rounded-full h-2.5"},O8={class:"mt-6 bg-amber-50/50 dark:bg-amber-900/20 p-3 rounded-md border border-amber-200/30 dark:border-amber-700/30"},N8={class:"space-y-2"},H8={class:"w-5 h-5 mr-2 rounded-full bg-amber-200 dark:bg-amber-700/50 flex items-center justify-center text-xs text-amber-700 dark:text-amber-300"},j8={class:"mb-4"},G8={class:"flex border-b border-gray-200 dark:border-gray-700"},V8={class:"flex flex-wrap gap-2 mt-3 justify-between"},Q8={key:0,class:"ml-1 w-5 h-5 flex items-center justify-center rounded-full bg-indigo-200 dark:bg-indigo-800 text-indigo-800 dark:text-indigo-300 text-xs"},z8={class:"flex gap-2"},W8={key:0,class:"ml-1 w-5 h-5 flex items-center justify-center rounded-full bg-blue-200 dark:bg-blue-800 text-blue-800 dark:text-blue-300 text-xs"},Y8=["title"],K8={class:"flex gap-1 items-center"},X8={class:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-0.5"},Z8={key:1,class:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-lg border border-gray-200 dark:border-gray-700 mb-4"},J8={class:"flex flex-col gap-4"},eL={class:"w-full"},tL={class:"relative rounded-md shadow-sm"},sL={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},oL={class:"w-full"},rL=["value"],nL=["value"],aL=["value"],iL=["value"],lL={class:"w-full"},cL=["value"],dL=["value"],uL=["value"],mL=["value"],pL=["value"],fL=["value"],gL={class:"w-full"},hL={class:"inline-flex items-center text-sm"},bL={class:"w-full"},vL=["value"],yL=["value"],xL=["value"],kL=["value"],_L=["value"],wL=["value"],CL=["value"],SL={class:"flex justify-end mt-2"},$L={key:2,class:"space-y-3"},EL={key:0,class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-700/50"},AL={class:"text-blue-700 dark:text-blue-400"},ML={key:1,class:"space-y-4"},PL={class:"text-lg font-semibold mb-2 flex items-center"},TL={class:"ml-2 px-2 py-0.5 rounded-full text-xs bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-300"},LL={key:0,class:"ml-2 text-sm text-gray-500 dark:text-gray-400"},IL={class:"bg-blue-50 dark:bg-blue-900/20 px-4 py-2 border-b border-blue-100 dark:border-blue-800 flex justify-between items-center"},DL={class:"flex items-center"},FL={class:"font-semibold text-blue-800 dark:text-blue-300"},RL={key:0,class:"px-2 py-0.5 rounded-full text-xs bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-300"},UL={key:1,class:"px-2 py-0.5 rounded-full text-xs bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-300"},BL={class:"p-4 space-y-3"},qL={key:0,class:"text-gray-700 dark:text-gray-300 text-sm"},OL={class:"bg-gray-50 dark:bg-gray-700/50 rounded-md p-2 text-sm space-y-2"},NL={key:0,class:"flex justify-between items-center"},HL={class:"text-gray-700 dark:text-gray-300"},jL={key:1},GL={class:"space-y-1 pl-5"},VL={class:"flex items-start"},QL={class:"w-4 h-4 mr-1.5 mt-0.5 rounded-full bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center text-xs text-blue-600 dark:text-blue-400 flex-shrink-0"},zL={key:1,class:"text-sm text-gray-600 dark:text-gray-400"},WL={key:2,class:"space-y-1"},YL={class:"ml-4 space-y-2"},KL={class:"w-4 h-4 mr-2 rounded-full bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center text-xs text-blue-600 dark:text-blue-400"},XL={class:"text-gray-600 dark:text-gray-400"},ZL={class:"flex gap-2 mt-2"},JL=["onClick","disabled"],eI={key:0,class:"i-heroicons-play mr-1"},tI={key:1,class:"i-heroicons-clock mr-1"},sI=["onClick","disabled"],oI={key:3,class:"space-y-3"},rI={key:0,class:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200 dark:border-green-700/50"},nI={class:"text-green-700 dark:text-green-400"},aI={key:1,class:"space-y-4"},iI={class:"text-lg font-semibold mb-2 flex items-center"},lI={class:"ml-2 px-2 py-0.5 rounded-full text-xs bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-300"},cI={key:0,class:"ml-2 text-sm text-gray-500 dark:text-gray-400"},dI={class:"bg-green-50 dark:bg-green-900/20 px-4 py-2 border-b border-green-100 dark:border-green-800 flex justify-between items-center"},uI={class:"flex items-center"},mI={class:"font-semibold text-green-800 dark:text-green-300"},pI={class:"flex items-center"},fI={key:0,class:"px-2 py-0.5 rounded-full text-xs bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-300 mr-2"},gI={key:1,class:"px-2 py-0.5 rounded-full text-xs bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-300 mr-2"},hI={class:"p-4 space-y-3"},bI={key:0,class:"text-gray-700 dark:text-gray-300 text-sm"},vI={class:"bg-green-50 dark:bg-green-900/20 rounded-md p-2 text-sm space-y-2"},yI={key:0,class:"mt-1 pl-5"},xI={class:"space-y-1"},kI={class:"flex items-start"},_I={key:1,class:"text-sm text-gray-600 dark:text-gray-400"},wI={key:2,class:"space-y-1"},CI={class:"ml-4 space-y-2"},SI={class:"w-4 h-4 mr-2 rounded-full bg-green-100 dark:bg-green-900/50 flex items-center justify-center text-xs text-green-600 dark:text-green-400"},$I={class:"text-gray-600 dark:text-gray-400"},EI={key:4,class:"mt-8 border-t pt-4 border-gray-200 dark:border-gray-700"},AI={class:"flex gap-2"},Wy=Ue({__name:"QuestTabContent",setup(t){const e=Vt();os();const{showToast:s}=zt(),o=ct(),{getRewardValue:n,formatReward:i}=o0(),{isFilterPanelOpen:l,searchQuery:c,sortOption:d,filterQuestType:u,filterRewardType:m,hasActiveFilters:p,activeFilterCount:y,setQuestTypeFilter:v,setRewardTypeFilter:S,setSortOption:_,clearAllFilters:C,QuestType:x,RewardType:$,QuestSortOption:A,showTooStrongBugs:M,filteredQuestsByStrength:P}=Z6(),{queueLength:L,isQueueEmpty:B,openQueueModal:k,addToQueue:I,addAllToQueue:N}=zy(),U=me=>{if(!me.goals||me.goals.length===0)return!1;for(const le of me.goals)le.type===x.KILL_BUGS&&le.target;return!0},j=R(()=>P.value.filter(me=>U(me))),ee=me=>{e.activeTab=me},ne=me=>{e.startQuest(me)},oe=me=>{const z=me.target.value||null;v(z)},O=me=>{const z=me.target.value||null;S(z)},Y=me=>{const z=me.target.value;_(z)},G=me=>{switch(me){case x.KILL_BUGS:return"Kill Bugs";case x.COLLECT_FOOD:return"Collect Food";case x.COLLECT_PHEROMONE:return"Collect Pheromone";default:return"Unknown"}},de=me=>{if(!me.goals||me.goals.length===0)return"No requirements";if(me.goals.length===1){const le=me.goals[0];switch(le.type){case x.KILL_BUGS:return`Kill ${ve(le.requiredAmount)} ${le.target||"bugs"}`;case x.COLLECT_FOOD:return`Collect ${ve(le.requiredAmount)} food`;case x.COLLECT_PHEROMONE:return`Collect ${ve(le.requiredAmount)} pheromone essence`;default:return"Unknown requirement"}}return`Complete ${me.goals.length} objectives`},re=me=>{if((!(me.requiredAmount instanceof be)||!(me.currentAmount instanceof be))&&(Pv("Invalid goal amounts - not Decimal instances",{current:me.currentAmount,required:me.requiredAmount}),me.currentAmount=a(me.currentAmount||0),me.requiredAmount=a(me.requiredAmount||0)),me.requiredAmount.eq(0))return 100;try{const le=me.currentAmount.div(me.requiredAmount);return Math.min(100,Math.floor(le.toNumber()*100))}catch(le){return console.error("Error calculating goal progress percentage:",le),0}},he=me=>{if(!me.goals||me.goals.length===0)return 0;const z=me.goals.map(K=>re(K)).reduce((K,H)=>K+H,0);return Math.floor(z/me.goals.length)},ve=me=>ie(new be(me),2),Se=W(null),Me=W(null);We(()=>e.activeQuest,(me,le)=>{le&&(Se.value=le.id,Me.value=le.title),le&&!me&&Se.value&&e.completedQuests.some(K=>K.id===Se.value)&&console.log("Quest completed!",Se.value),Se.value=(me==null?void 0:me.id)||null,Me.value=(me==null?void 0:me.title)||null},{immediate:!0});const Oe=R(()=>e.gridDensity==="compact"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4":"space-y-4"),He=R(()=>o.getUpgradeCount("unlockQueueAll").gt(0)),we=()=>{if(He.value){const me=j.value.map(le=>le.id);N(me)}else s('Unlock "Mass Quest Queueing" in the Evolution tab to queue all quests at once',"info")},_e=me=>!me.rewards||me.rewards.length===0?a(0):me.rewards.reduce((le,z)=>{const K=n(z,me.tier);return le.add(K)},a(0)),pe=me=>{const le=_e(me);return le.gte(1e6)?"High Value":le.gte(1e5)?"Medium Value":"Low Value"};return(me,le)=>(f(),h(Ce,null,[r("div",S8,[g(e).activeQuest?(f(),h("div",$8,[le[15]||(le[15]=qt('<div class="flex items-center justify-between"><h3 class="text-lg font-semibold flex items-center"><span class="i-heroicons-play text-amber-600 dark:text-amber-400 mr-2"></span> Active Quest </h3><span class="px-2.5 py-1 rounded-full text-xs bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-300 flex items-center"><span class="i-heroicons-clock-solid mr-1"></span> In Progress </span></div>',1)),r("div",E8,[r("div",A8,[r("h3",M8,b(g(e).activeQuest.title),1),g(e).activeQuest.tier?(f(),h("span",{key:0,class:V(["ml-2 px-2 py-0.5 text-xs rounded-full",{"bg-green-100 dark:bg-green-900/40 text-green-800 dark:text-green-300":g(e).activeQuest.tier===1,"bg-blue-100 dark:bg-blue-900/40 text-blue-800 dark:text-blue-300":g(e).activeQuest.tier===2,"bg-purple-100 dark:bg-purple-900/40 text-purple-800 dark:text-purple-300":g(e).activeQuest.tier===3,"bg-amber-100 dark:bg-amber-900/40 text-amber-800 dark:text-amber-300":g(e).activeQuest.tier===4,"bg-red-100 dark:bg-red-900/40 text-red-800 dark:text-red-300":g(e).activeQuest.tier===5}])}," Tier "+b(g(e).activeQuest.tier),3)):Q("",!0),r("span",{class:V(["ml-2 px-1.5 py-0.5 text-xs rounded-full",{"bg-gray-100 dark:bg-gray-900/40 text-gray-800 dark:text-gray-300":pe(g(e).activeQuest)==="Low Value","bg-yellow-100 dark:bg-yellow-900/40 text-yellow-800 dark:text-yellow-300":pe(g(e).activeQuest)==="Medium Value","bg-emerald-100 dark:bg-emerald-900/40 text-emerald-800 dark:text-emerald-300":pe(g(e).activeQuest)==="High Value"}])},b(pe(g(e).activeQuest)),3)]),r("p",P8,b(g(e).activeQuest.description),1),r("div",T8,[r("div",L8,[le[11]||(le[11]=r("span",{class:"text-amber-700 dark:text-amber-400 font-medium"},"Overall Progress",-1)),r("span",I8,b(he(g(e).activeQuest))+"%",1)]),r("div",D8,[r("div",{class:"h-3 rounded-full bg-amber-500 dark:bg-amber-500",style:Je({width:`${he(g(e).activeQuest)}%`})},null,4)])]),g(e).activeQuest.goals?(f(),h("div",F8,[(f(!0),h(Ce,null,De(g(e).activeQuest.goals,(z,K)=>(f(),h("div",{key:K,class:"space-y-2"},[r("div",R8,[r("span",U8,[le[12]||(le[12]=r("span",{class:"i-heroicons-flag mr-1 inline-block"},null,-1)),se(" "+b(z.description||G(z.type)+" Progress"),1)]),r("span",B8,b(ve(z.currentAmount))+" / "+b(ve(z.requiredAmount)),1)]),r("div",q8,[r("div",{class:V(["h-2.5 rounded-full",{"bg-blue-600 dark:bg-blue-500":z.type===g(x).COLLECT_FOOD,"bg-green-600 dark:bg-green-500":z.type===g(x).COLLECT_PHEROMONE,"bg-red-600 dark:bg-red-500":z.type===g(x).KILL_BUGS,"bg-amber-600 dark:bg-amber-500":z.type!==g(x).COLLECT_FOOD&&z.type!==g(x).COLLECT_PHEROMONE&&z.type!==g(x).KILL_BUGS}]),style:Je({width:`${re(z)}%`})},null,6)])]))),128))])):Q("",!0),r("div",O8,[le[13]||(le[13]=r("h4",{class:"text-lg font-semibold text-amber-800 dark:text-amber-300 mb-2"},"Rewards:",-1)),r("ul",N8,[(f(!0),h(Ce,null,De(g(e).activeQuest.rewards,(z,K)=>(f(),h("li",{key:K,class:"flex items-center text-amber-700 dark:text-amber-400"},[r("span",H8,b(K+1),1),se(" "+b(g(i)(z,g(e).activeQuest.tier)),1)]))),128))])]),r("button",{onClick:le[0]||(le[0]=z=>g(e).cancelQuest()),class:"mt-4 px-4 py-2 bg-red-100 hover:bg-red-200 dark:bg-red-900/50 dark:hover:bg-red-800/70 text-red-700 dark:text-red-300 rounded focus:outline-none transition-colors duration-200 flex items-center justify-center"},le[14]||(le[14]=[r("span",{class:"i-heroicons-x-mark mr-1"},null,-1),se(" Abandon Quest ")]))]),le[16]||(le[16]=r("div",{class:"border-t border-gray-200 dark:border-gray-700 my-4"},null,-1))])):Q("",!0),r("div",j8,[r("div",G8,[r("button",{onClick:le[1]||(le[1]=z=>ee("available")),class:V(["px-4 py-2 text-sm font-medium rounded-t-lg transition-colors duration-200",g(e).activeTab==="available"?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 border-b-2 border-blue-500":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800/50"])},le[17]||(le[17]=[r("span",{class:"i-heroicons-clipboard-document-check mr-1 inline-block"},null,-1),se(" Available ")]),2),r("button",{onClick:le[2]||(le[2]=z=>ee("completed")),class:V(["px-4 py-2 text-sm font-medium rounded-t-lg transition-colors duration-200",g(e).activeTab==="completed"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200 border-b-2 border-green-500":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800/50"])},le[18]||(le[18]=[r("span",{class:"i-heroicons-check-badge mr-1 inline-block"},null,-1),se(" Completed ")]),2)]),r("div",V8,[r("button",{onClick:le[3]||(le[3]=z=>l.value=!g(l)),class:V(["px-3 py-1.5 text-sm rounded-md transition-colors flex items-center",[g(p)?"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"]])},[le[19]||(le[19]=r("span",{class:"i-heroicons-funnel mr-1"},null,-1)),le[20]||(le[20]=r("span",null,"Filters",-1)),g(p)?(f(),h("span",Q8,b(g(y)),1)):Q("",!0)],2),r("div",z8,[r("button",{onClick:le[4]||(le[4]=(...z)=>g(k)&&g(k)(...z)),class:V(["px-3 py-1.5 text-sm rounded-md transition-colors flex items-center",[g(B)?"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300":"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300"]])},[le[21]||(le[21]=r("span",{class:"i-heroicons-queue-list mr-1"},null,-1)),le[22]||(le[22]=r("span",null,"Queue",-1)),g(B)?Q("",!0):(f(),h("span",W8,b(g(L)),1))],2),g(e).activeTab==="available"&&j.value.length>0?(f(),h("button",{key:0,onClick:we,class:V(["px-3 py-1.5 text-sm rounded-md transition-colors flex items-center",[He.value?"bg-green-100 hover:bg-green-200 dark:bg-green-900/30 dark:hover:bg-green-800/50 text-green-800 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 opacity-75 cursor-not-allowed"]]),title:He.value?"Queue all filtered quests":"Unlock Mass Quest Queueing in the Evolution tab"},[le[23]||(le[23]=r("span",{class:"i-heroicons-plus-circle mr-1"},null,-1)),r("span",null,"Queue All Filtered ("+b(j.value.length)+")",1)],10,Y8)):Q("",!0)]),r("div",K8,[le[26]||(le[26]=r("span",{class:"text-xs text-gray-600 dark:text-gray-400"},"Layout:",-1)),r("div",X8,[r("button",{onClick:le[5]||(le[5]=z=>g(e).gridDensity="compact"),class:V(["px-2 py-1 text-xs rounded-md transition-colors",g(e).gridDensity==="compact"?"bg-white dark:bg-gray-600 text-gray-800 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white"]),title:"Compact View"},le[24]||(le[24]=[r("div",{class:"i-heroicons-table-cells-solid w-3.5 h-3.5"},null,-1)]),2),r("button",{onClick:le[6]||(le[6]=z=>g(e).gridDensity="comfortable"),class:V(["px-2 py-1 text-xs rounded-md transition-colors",g(e).gridDensity==="comfortable"?"bg-white dark:bg-gray-600 text-gray-800 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white"]),title:"Comfortable View"},le[25]||(le[25]=[r("div",{class:"i-heroicons-squares-2x2-solid w-3.5 h-3.5"},null,-1)]),2)])])])]),g(l)?(f(),h("div",Z8,[r("div",J8,[r("div",eL,[le[28]||(le[28]=r("label",{for:"searchQuests",class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Search",-1)),r("div",tL,[le[27]||(le[27]=r("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[r("span",{class:"i-heroicons-magnifying-glass text-gray-400 dark:text-gray-500"})],-1)),ut(r("input",{id:"searchQuests","onUpdate:modelValue":le[7]||(le[7]=z=>Mt(c)?c.value=z:null),type:"text",class:"block w-full py-1.5 pl-10 pr-3 text-sm placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-500 dark:focus:border-blue-500 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Search quests..."},null,512),[[Po,g(c)]])])]),r("div",sL,[r("div",oL,[le[30]||(le[30]=r("label",{for:"questTypeFilter",class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Quest Type",-1)),r("select",{id:"questTypeFilter",value:g(u),onChange:oe,class:"block w-full py-1.5 px-3 text-sm rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-500 dark:focus:border-blue-500"},[le[29]||(le[29]=r("option",{value:""},"All Types",-1)),r("option",{value:g(x).KILL_BUGS},b(G(g(x).KILL_BUGS)),9,nL),r("option",{value:g(x).COLLECT_FOOD},b(G(g(x).COLLECT_FOOD)),9,aL),r("option",{value:g(x).COLLECT_PHEROMONE},b(G(g(x).COLLECT_PHEROMONE)),9,iL)],40,rL)]),r("div",lL,[le[32]||(le[32]=r("label",{for:"rewardTypeFilter",class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Reward Type",-1)),r("select",{id:"rewardTypeFilter",value:g(m),onChange:O,class:"block w-full py-1.5 px-3 text-sm rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-500 dark:focus:border-blue-500"},[le[31]||(le[31]=r("option",{value:""},"All Rewards",-1)),r("option",{value:g($).FOOD},"Food",8,dL),r("option",{value:g($).PHEROMONE},"Pheromone Essence",8,uL),r("option",{value:g($).EP},"Evolution Points",8,mL),r("option",{value:g($).ITEM},"Items",8,pL),r("option",{value:g($).MULTIPLIER},"Multipliers",8,fL)],40,cL)]),r("div",gL,[r("label",hL,[ut(r("input",{type:"checkbox","onUpdate:modelValue":le[8]||(le[8]=z=>Mt(M)?M.value=z:null),class:"rounded text-blue-600 focus:ring-blue-500 h-4 w-4 border-gray-300 dark:border-gray-600"},null,512),[[Xt,g(M)]]),le[33]||(le[33]=r("span",{class:"ml-2 text-gray-700 dark:text-gray-300"},"Show Too Strong Bug Quests",-1))]),le[34]||(le[34]=r("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"}," If unchecked, only shows quests with bug targets you can defeat ",-1))]),r("div",bL,[le[35]||(le[35]=r("label",{for:"sortOption",class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Sort By",-1)),r("select",{id:"sortOption",value:g(d),onChange:Y,class:"block w-full py-1.5 px-3 text-sm rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-500 dark:focus:border-blue-500"},[r("option",{value:g(A).DEFAULT},"Default",8,yL),r("option",{value:g(A).ALPHABETICAL},"Alphabetical (A-Z)",8,xL),r("option",{value:g(A).GOAL_TYPE},"Goal Type",8,kL),r("option",{value:g(A).REWARD_TYPE},"Reward Type",8,_L),r("option",{value:g(A).TIER},"Tier",8,wL),r("option",{value:g(A).REWARD_VALUE},"Reward Value (Best First)",8,CL)],40,vL)])]),r("div",SL,[r("button",{onClick:le[9]||(le[9]=(...z)=>g(C)&&g(C)(...z)),class:"px-3 py-1.5 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 text-sm rounded-md transition-colors flex items-center"},le[36]||(le[36]=[r("span",{class:"i-heroicons-backspace mr-1"},null,-1),se(" Clear All Filters ")]))])])])):Q("",!0),g(e).activeTab==="available"?(f(),h("div",$L,[j.value.length===0?(f(),h("div",EL,[le[37]||(le[37]=r("h3",{class:"text-lg font-semibold text-blue-800 dark:text-blue-300 mb-2"},"Available Quests",-1)),r("p",AL,b(g(p)?"No available quests match your current filters. Try adjusting your filters or check back later!":"There are no available quests at the moment. Check back later!"),1)])):(f(),h("div",ML,[r("h3",PL,[le[38]||(le[38]=r("span",{class:"i-heroicons-clipboard-document-list text-blue-600 dark:text-blue-400 mr-2"},null,-1)),le[39]||(le[39]=se(" Available Quests ")),r("span",TL,b(j.value.length),1),g(p)?(f(),h("span",LL," (filtered from "+b(g(e).availableQuests.length)+") ",1)):Q("",!0)]),r("div",{class:V(Oe.value)},[(f(!0),h(Ce,null,De(j.value,z=>(f(),h("div",{key:z.id,class:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 overflow-hidden h-full"},[r("div",IL,[r("div",DL,[le[40]||(le[40]=r("span",{class:"i-heroicons-clipboard-document-list text-blue-600 dark:text-blue-400 mr-2"},null,-1)),r("h4",FL,b(z.title),1),z.tier?(f(),h("span",{key:0,class:V(["ml-2 px-1.5 py-0.5 text-xs rounded-full",{"bg-green-100 dark:bg-green-900/40 text-green-800 dark:text-green-300":z.tier===1,"bg-blue-100 dark:bg-blue-900/40 text-blue-800 dark:text-blue-300":z.tier===2,"bg-purple-100 dark:bg-purple-900/40 text-purple-800 dark:text-purple-300":z.tier===3,"bg-amber-100 dark:bg-amber-900/40 text-amber-800 dark:text-amber-300":z.tier===4,"bg-red-100 dark:bg-red-900/40 text-red-800 dark:text-red-300":z.tier===5}])}," Tier "+b(z.tier),3)):Q("",!0),r("span",{class:V(["ml-2 px-1.5 py-0.5 text-xs rounded-full",{"bg-gray-100 dark:bg-gray-900/40 text-gray-800 dark:text-gray-300":pe(z)==="Low Value","bg-yellow-100 dark:bg-yellow-900/40 text-yellow-800 dark:text-yellow-300":pe(z)==="Medium Value","bg-emerald-100 dark:bg-emerald-900/40 text-emerald-800 dark:text-emerald-300":pe(z)==="High Value"}])},b(pe(z)),3)]),z.goals&&z.goals.length===1?(f(),h("span",RL,b(G(z.goals[0].type)),1)):(f(),h("span",UL,b(z.goals.length)+" Goals ",1))]),r("div",BL,[g(e).gridDensity!=="compact"?(f(),h("p",qL,b(z.description),1)):Q("",!0),r("div",OL,[z.goals&&z.goals.length===1?(f(),h("div",NL,[r("span",HL,[le[41]||(le[41]=r("span",{class:"i-heroicons-flag mr-1 inline-block"},null,-1)),se(" Goal: "+b(de(z)),1)])])):z.goals&&z.goals.length>1?(f(),h("div",jL,[le[42]||(le[42]=r("div",{class:"flex items-center mb-1"},[r("span",{class:"i-heroicons-flag mr-1 inline-block text-gray-700 dark:text-gray-300"}),r("span",{class:"text-gray-700 dark:text-gray-300 font-medium"},"Multiple Goals:")],-1)),r("ul",GL,[(f(!0),h(Ce,null,De(z.goals,(K,H)=>(f(),h("li",{key:H,class:"text-gray-600 dark:text-gray-400"},[r("span",VL,[r("span",QL,b(H+1),1),r("span",null,b(K.description||(K.type===g(x).KILL_BUGS?`Defeat ${ve(K.requiredAmount)} ${K.target||"bugs"}`:K.type===g(x).COLLECT_FOOD?`Collect ${ve(K.requiredAmount)} food`:`Collect ${ve(K.requiredAmount)} pheromone essence`)),1)])]))),128))])])):Q("",!0)]),g(e).gridDensity==="compact"?(f(),h("div",zL,[le[43]||(le[43]=r("span",{class:"font-medium"},"Rewards:",-1)),se(" "+b(z.rewards.length)+" item(s) ",1)])):(f(),h("div",WL,[le[44]||(le[44]=r("h5",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Rewards:",-1)),r("ul",YL,[(f(!0),h(Ce,null,De(z.rewards,(K,H)=>(f(),h("li",{key:H,class:"flex items-center text-sm"},[r("span",KL,b(H+1),1),r("span",XL,b(g(i)(K,z.tier)),1)]))),128))])])),r("div",ZL,[r("button",{onClick:K=>ne(z.id),class:V(["flex-1 py-1.5 text-white rounded-md transition-colors duration-200 flex items-center justify-center",g(e).activeQuest!==null?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"]),disabled:g(e).activeQuest!==null},[g(e).activeQuest===null?(f(),h("span",eI)):(f(),h("span",tI)),se(" "+b(g(e).activeQuest===null?"Start Quest":"Complete Active Quest First"),1)],10,JL),r("button",{onClick:K=>g(I)(z.id),class:V(["px-3 py-1.5 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-md transition-colors flex items-center justify-center",{"opacity-50 cursor-not-allowed":g(e).questQueue.includes(z.id)}]),disabled:g(e).questQueue.includes(z.id)},[le[45]||(le[45]=r("span",{class:"i-heroicons-queue-list mr-1"},null,-1)),se(" "+b(g(e).questQueue.includes(z.id)?"In Queue":"Queue"),1)],10,sI)])])]))),128))],2)]))])):g(e).activeTab==="completed"?(f(),h("div",oI,[g(e).filteredCompletedQuests.length===0?(f(),h("div",rI,[le[46]||(le[46]=r("h3",{class:"text-lg font-semibold text-green-800 dark:text-green-300 mb-2"},"Completed Quests",-1)),r("p",nI,b(g(p)?"No completed quests match your current filters. Try adjusting your filters or complete some quests to see them here!":"You haven't completed any quests yet. Start some quests and finish them to see them here!"),1)])):(f(),h("div",aI,[r("h3",iI,[le[47]||(le[47]=r("span",{class:"i-heroicons-check-badge text-green-600 dark:text-green-400 mr-2"},null,-1)),le[48]||(le[48]=se(" Completed Quests ")),r("span",lI,b(g(e).filteredCompletedQuests.length),1),g(p)?(f(),h("span",cI," (filtered from "+b(g(e).completedQuests.length)+") ",1)):Q("",!0)]),r("div",{class:V(Oe.value)},[(f(!0),h(Ce,null,De(g(e).filteredCompletedQuests,z=>(f(),h("div",{key:z.id,class:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 overflow-hidden h-full"},[r("div",dI,[r("div",uI,[le[49]||(le[49]=r("span",{class:"i-heroicons-check-badge text-green-600 dark:text-green-400 mr-2"},null,-1)),r("h4",mI,b(z.title),1),z.tier?(f(),h("span",{key:0,class:V(["ml-2 px-1.5 py-0.5 text-xs rounded-full",{"bg-green-100 dark:bg-green-900/40 text-green-800 dark:text-green-300":z.tier===1,"bg-blue-100 dark:bg-blue-900/40 text-blue-800 dark:text-blue-300":z.tier===2,"bg-purple-100 dark:bg-purple-900/40 text-purple-800 dark:text-purple-300":z.tier===3,"bg-amber-100 dark:bg-amber-900/40 text-amber-800 dark:text-amber-300":z.tier===4,"bg-red-100 dark:bg-red-900/40 text-red-800 dark:text-red-300":z.tier===5}])}," Tier "+b(z.tier),3)):Q("",!0),r("span",{class:V(["ml-2 px-1.5 py-0.5 text-xs rounded-full",{"bg-gray-100 dark:bg-gray-900/40 text-gray-800 dark:text-gray-300":pe(z)==="Low Value","bg-yellow-100 dark:bg-yellow-900/40 text-yellow-800 dark:text-yellow-300":pe(z)==="Medium Value","bg-emerald-100 dark:bg-emerald-900/40 text-emerald-800 dark:text-emerald-300":pe(z)==="High Value"}])},b(pe(z)),3)]),r("div",pI,[z.goals&&z.goals.length===1?(f(),h("span",fI,b(G(z.goals[0].type)),1)):(f(),h("span",gI,b(z.goals.length)+" Goals ",1)),le[50]||(le[50]=r("span",{class:"i-heroicons-check-circle text-green-500 dark:text-green-400"},null,-1))])]),r("div",hI,[g(e).gridDensity!=="compact"?(f(),h("p",bI,b(z.description),1)):Q("",!0),r("div",vI,[le[52]||(le[52]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-check-circle text-green-600 dark:text-green-400 mr-1"}),r("span",{class:"text-green-700 dark:text-green-300"},"Completed")],-1)),z.goals&&z.goals.length>1&&g(e).gridDensity!=="compact"?(f(),h("div",yI,[r("ul",xI,[(f(!0),h(Ce,null,De(z.goals,(K,H)=>(f(),h("li",{key:H,class:"text-gray-600 dark:text-gray-400 text-xs"},[r("span",kI,[le[51]||(le[51]=r("span",{class:"w-3.5 h-3.5 mr-1 mt-0.5 rounded-full bg-green-100 dark:bg-green-900/50 flex items-center justify-center text-xs text-green-600 dark:text-green-400 flex-shrink-0"},"  ",-1)),r("span",null,b(K.description||(K.type===g(x).KILL_BUGS?`Defeated ${ve(K.requiredAmount)} ${K.target||"bugs"}`:K.type===g(x).COLLECT_FOOD?`Collected ${ve(K.requiredAmount)} food`:`Collected ${ve(K.requiredAmount)} pheromone essence`)),1)])]))),128))])])):Q("",!0)]),g(e).gridDensity==="compact"?(f(),h("div",_I,[le[53]||(le[53]=r("span",{class:"font-medium"},"Rewards:",-1)),se(" "+b(z.rewards.length)+" item(s) ",1)])):(f(),h("div",wI,[le[54]||(le[54]=r("h5",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Rewards:",-1)),r("ul",CI,[(f(!0),h(Ce,null,De(z.rewards,(K,H)=>(f(),h("li",{key:H,class:"flex items-center text-sm"},[r("span",SI,b(H+1),1),r("span",$I,b(g(i)(K,z.tier)),1)]))),128))])]))])]))),128))],2)]))])):Q("",!0),g(vr)()?(f(),h("div",EI,[le[55]||(le[55]=r("h3",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2"},"Development Tools",-1)),r("div",AI,[r("button",{onClick:le[10]||(le[10]=z=>g(e).resetQuests()),class:"px-3 py-1 bg-red-100 hover:bg-red-200 dark:bg-red-900/40 dark:hover:bg-red-800/60 text-red-800 dark:text-red-300 text-xs rounded-md transition-colors"}," Reset All Quests ")])])):Q("",!0),Fe(wr,{threshold:400})]),Fe(C8)],64))}}),MI={class:"overflow-y-auto flex-grow min-h-0 touch-auto"},PI={key:0,class:"bg-teal-50 dark:bg-teal-900/20 p-3 rounded-lg mb-4 border border-teal-200 dark:border-teal-700"},TI={class:"flex items-start"},LI={class:"text-sm text-teal-600 dark:text-teal-400"},II={class:"font-bold"},DI={class:"font-bold"},FI={class:"mt-2 flex justify-between items-center"},RI={class:"text-xs text-teal-600 dark:text-teal-400"},UI={class:"w-32 bg-gray-200 dark:bg-gray-700 rounded-full h-2"},BI={class:"flex justify-between items-center mt-2"},qI={class:"flex items-center space-x-2"},OI={class:"w-32 bg-gray-200 dark:bg-gray-700 rounded-full h-2.5"},NI={class:"bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg mb-4"},HI={class:"flex justify-between mb-2"},jI={class:"font-bold text-purple-800 dark:text-purple-300"},GI={class:"flex justify-between"},VI={class:"font-bold text-purple-800 dark:text-purple-300"},QI={class:"flex justify-between mb-2"},zI={class:"font-bold text-purple-800 dark:text-purple-300"},WI={class:"flex justify-between"},YI={class:"font-bold text-purple-800 dark:text-purple-300"},KI={class:"bg-indigo-50 dark:bg-indigo-900/20 p-3 rounded-lg mb-4"},XI={class:"flex justify-between mb-2"},ZI={class:"font-bold text-indigo-800 dark:text-indigo-300"},JI={class:"flex justify-between"},e7={class:"font-bold text-indigo-800 dark:text-indigo-300"},t7={class:"mt-3 bg-indigo-100 dark:bg-indigo-800/30 p-2 rounded"},s7={class:"text-sm text-indigo-700 dark:text-indigo-300"},o7={class:"flex justify-between"},r7={class:"flex justify-between"},n7={class:"flex justify-between font-semibold mt-1 pt-1 border-t border-indigo-200 dark:border-indigo-700/30"},a7={key:1,class:"bg-amber-50 dark:bg-amber-900/20 p-3 rounded-lg mb-4 border border-amber-300 dark:border-amber-700"},i7={class:"flex items-start"},l7={class:"text-sm text-amber-600 dark:text-amber-400"},c7={class:"flex-shrink-0 flex justify-between gap-3 mt-4"},d7=["disabled"],u7={key:0,class:"inline-block animate-pulse"},m7={key:1},p7=Ue({__name:"AscensionConfirmationModal",props:{isClosing:{type:Boolean},isAscending:{type:Boolean},isAscensionRecommended:{type:Boolean},formattedAscensionMultiplier:{},formattedNextAscensionMultiplier:{}},emits:["close","ascend"],setup(t,{emit:e}){const s=gt(),{questCompletionPercentage:o,canAscend:n,ascensionLockExplanation:i}=V0(),l=e,c=a(3),d=R(()=>s.level.toNumber()),u=R(()=>s.calculateBonusPoints(d.value)),m=R(()=>s.getNextMilestone(d.value)),p=R(()=>m.value?m.value.level-d.value:null),y=R(()=>c.add(u.value)),v=_=>typeof _=="number"?_.toString():ie(_),S=_=>{var C;_.target&&((C=_.target.dataset)==null?void 0:C.modalBackdrop)==="true"&&_.preventDefault()};return(_,C)=>(f(),h("div",{class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-2 sm:p-4",onTouchmove:S,"data-modal-backdrop":"true"},[r("div",{class:V(["bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 max-w-md w-full mx-auto my-4 shadow-xl border border-purple-200 dark:border-purple-700 max-h-[90vh] flex flex-col transition-all duration-250 overflow-hidden",{"opacity-0 scale-95":_.isClosing}]),onTouchmove:C[2]||(C[2]=at(()=>{},["stop"]))},[C[21]||(C[21]=qt('<div class="flex-shrink-0"><div class="text-center mb-4"><span class="inline-block p-3 bg-purple-100 dark:bg-purple-900/30 rounded-full text-purple-600 dark:text-purple-400"><span class="i-heroicons-arrow-up-circle text-2xl"></span></span></div><h3 class="text-xl font-bold text-center text-purple-800 dark:text-purple-300 mb-2">Ascension Confirmation</h3><p class="text-gray-600 dark:text-gray-300 mb-4 text-center"> Ascending will reset your <span class="font-bold text-purple-600 dark:text-purple-400">Mega Ant levels and experience, Evolution Points, and colony progress</span>, but <span class="font-bold text-purple-600 dark:text-purple-400">all Mega Ant upgrades and Adventure features will be preserved</span>. This allows you to progress faster in subsequent runs. </p></div>',1)),r("div",MI,[m.value?(f(),h("div",PI,[r("div",TI,[C[7]||(C[7]=r("span",{class:"i-heroicons-arrow-trending-up text-teal-500 mt-0.5 mr-2 flex-shrink-0"},null,-1)),r("div",null,[C[6]||(C[6]=r("h4",{class:"font-semibold text-teal-700 dark:text-teal-300 mb-1"},"Next Bonus Milestone",-1)),r("p",LI,[C[3]||(C[3]=se(" Push to level ")),r("span",II,b(m.value.level),1),C[4]||(C[4]=se(" for an additional ")),r("span",DI,"+"+b(m.value.pointsIncrease)+" Ascension Points",1),C[5]||(C[5]=se("! "))]),r("div",FI,[r("span",RI,b(p.value)+" level"+b(p.value===1?"":"s")+" to go",1),r("div",UI,[r("div",{class:"h-2 rounded-full bg-teal-500 dark:bg-teal-600",style:Je({width:`${Math.min(100,d.value/m.value.level*100)}%`})},null,4)])])])])])):Q("",!0),r("div",{class:V(["bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg mb-4",{"border border-red-300 dark:border-red-700":!g(n)}])},[r("h4",{class:V(["font-semibold",g(n)?"text-blue-800 dark:text-blue-300":"text-red-600 dark:text-red-400"])}," Quest Requirement ",2),r("div",BI,[r("span",{class:V(g(n)?"text-blue-700 dark:text-blue-300":"text-red-600 dark:text-red-400")}," Quest Completion: ",2),r("div",qI,[r("div",OI,[r("div",{class:V(["h-2.5 rounded-full",g(n)?"bg-blue-600 dark:bg-blue-500":"bg-amber-500 dark:bg-amber-600"]),style:Je({width:`${Math.min(g(o),100)}%`})},null,6)]),r("span",{class:V(["text-sm font-medium",g(n)?"text-blue-700 dark:text-blue-300":"text-amber-600 dark:text-amber-400"])},b(Math.floor(g(o)))+"% ",3)])]),r("p",{class:V(["text-sm mt-2",g(n)?"text-blue-600 dark:text-blue-400":"text-red-500 dark:text-red-400"])},b(g(n)?"Requirement met!":g(i)),3)],2),r("div",NI,[r("div",HI,[C[8]||(C[8]=r("span",{class:"text-purple-700 dark:text-purple-300"},"Current Ascension:",-1)),r("span",jI,b(g(s).ascensionCount),1)]),r("div",GI,[C[9]||(C[9]=r("span",{class:"text-purple-700 dark:text-purple-300"},"After Ascension:",-1)),r("span",VI,b(g(s).ascensionCount+1),1)]),C[12]||(C[12]=r("div",{class:"border-t border-purple-200 dark:border-purple-700/30 my-2"},null,-1)),r("div",QI,[C[10]||(C[10]=r("span",{class:"text-purple-700 dark:text-purple-300"},"Current Bonus:",-1)),r("span",zI,b(_.formattedAscensionMultiplier)+"x",1)]),r("div",WI,[C[11]||(C[11]=r("span",{class:"text-purple-700 dark:text-purple-300"},"Next Bonus:",-1)),r("span",YI,b(_.formattedNextAscensionMultiplier)+"x",1)])]),r("div",KI,[C[17]||(C[17]=r("h4",{class:"font-semibold text-indigo-800 dark:text-indigo-300 mb-2"},"Ascension Points",-1)),r("div",XI,[C[13]||(C[13]=r("span",{class:"text-indigo-700 dark:text-indigo-300"},"Current Total:",-1)),r("span",ZI,b(v(g(s).ascensionPoints))+" AP",1)]),r("div",JI,[C[14]||(C[14]=r("span",{class:"text-indigo-700 dark:text-indigo-300"},"You'll gain:",-1)),r("span",e7,b(v(y.value))+" AP",1)]),r("div",t7,[r("div",s7,[r("div",o7,[C[15]||(C[15]=r("span",null,"Base:",-1)),r("span",null,b(v(g(c)))+" AP",1)]),r("div",r7,[r("span",null,"Bonus (Lvl "+b(d.value)+"):",1),r("span",null,b(v(u.value))+" AP",1)]),r("div",n7,[C[16]||(C[16]=r("span",null,"Total:",-1)),r("span",null,b(v(y.value))+" AP",1)])])])]),C[20]||(C[20]=qt('<div class="bg-green-50 dark:bg-green-900/20 p-3 rounded-lg mb-4"><h4 class="font-semibold text-green-800 dark:text-green-300 mb-2">Benefits of Ascension:</h4><ul class="text-sm text-green-700 dark:text-green-400 space-y-2"><li class="flex items-start"><span class="i-heroicons-check-circle mt-0.5 mr-1.5 text-green-600 dark:text-green-500"></span><span>Keep all your Mega Ant and Colony upgrades</span></li><li class="flex items-start"><span class="i-heroicons-check-circle mt-0.5 mr-1.5 text-green-600 dark:text-green-500"></span><span>Keep all Time Manipulation upgrades</span></li><li class="flex items-start"><span class="i-heroicons-check-circle mt-0.5 mr-1.5 text-green-600 dark:text-green-500"></span><span>Keep all Aphid Farm progress and upgrades</span></li><li class="flex items-start"><span class="i-heroicons-check-circle mt-0.5 mr-1.5 text-green-600 dark:text-green-500"></span><span>Retain all Collectibles and their levels</span></li><li class="flex items-start"><span class="i-heroicons-check-circle mt-0.5 mr-1.5 text-green-600 dark:text-green-500"></span><span>Gain +0.5x multiplier per ascension level</span></li><li class="flex items-start"><span class="i-heroicons-check-circle mt-0.5 mr-1.5 text-green-600 dark:text-green-500"></span><span>Earn Ascension Points to spend on powerful upgrades</span></li><li class="flex items-start"><span class="i-heroicons-check-circle mt-0.5 mr-1.5 text-green-600 dark:text-green-500"></span><span>Retain all Adventure-related features and upgrades</span></li><li class="flex items-start"><span class="i-heroicons-check-circle mt-0.5 mr-1.5 text-green-600 dark:text-green-500"></span><span>Progress much faster on subsequent runs</span></li></ul><div class="mt-3 border-t border-green-200 dark:border-green-700/30 pt-2"><h4 class="font-semibold text-amber-700 dark:text-amber-400 mb-2">What gets reset:</h4><ul class="text-sm text-amber-700 dark:text-amber-400 space-y-2"><li class="flex items-start"><span class="i-heroicons-arrow-path mt-0.5 mr-1.5 text-amber-600 dark:text-amber-500"></span><span>Evolution Points and most Prestige Upgrades</span></li><li class="flex items-start"><span class="i-heroicons-arrow-path mt-0.5 mr-1.5 text-amber-600 dark:text-amber-500"></span><span>All food production and generator counts</span></li><li class="flex items-start"><span class="i-heroicons-arrow-path mt-0.5 mr-1.5 text-amber-600 dark:text-amber-500"></span><span>Mega Ant and Colony levels</span></li></ul></div></div>',1)),_.isAscensionRecommended?Q("",!0):(f(),h("div",a7,[r("div",i7,[C[19]||(C[19]=r("span",{class:"i-heroicons-exclamation-triangle text-amber-500 mt-0.5 mr-2"},null,-1)),r("div",null,[C[18]||(C[18]=r("h4",{class:"font-semibold text-amber-700 dark:text-amber-300 mb-1"},"Early Ascension Warning",-1)),r("p",l7," You have only reached level "+b(g(s).level.toString())+". It's recommended to reach at least level 20 before ascending to maximize benefits. ",1)])])]))]),r("div",c7,[r("button",{onClick:C[0]||(C[0]=x=>l("close")),class:"flex-1 py-2.5 px-4 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2"}," Cancel "),r("button",{onClick:C[1]||(C[1]=x=>l("ascend")),disabled:_.isAscending||!g(n),class:V(["flex-1 py-2.5 px-4 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50",g(n)?"bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-600 text-white focus:ring-purple-500":"bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed"])},[_.isAscending?(f(),h("span",u7,"Ascending...")):(f(),h("span",m7,b(g(n)?"Confirm Ascension":"Cannot Ascend Yet"),1))],10,d7)])],34)],32))}}),f7={class:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4"},g7={class:"bg-amber-50 dark:bg-amber-900/20 rounded-lg p-3 overflow-y-auto max-h-40 scrollbar-hide digestion-log"},h7={key:0,class:"text-center text-gray-500 dark:text-gray-400 italic py-2"},b7={key:1,class:"space-y-2"},v7={class:"flex justify-between"},y7={class:"text-amber-800 dark:text-amber-300 font-medium"},x7={class:"text-gray-500 dark:text-gray-400"},k7={class:"text-green-600 dark:text-green-400"},_7={class:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3 overflow-y-auto max-h-40 scrollbar-hide digestion-log"},w7={key:0,class:"text-center text-gray-500 dark:text-gray-400 italic py-2"},C7={key:1,class:"space-y-2"},S7={class:"flex justify-between"},$7={class:"text-purple-800 dark:text-purple-300 font-medium"},E7={class:"text-gray-500 dark:text-gray-400"},A7={class:"text-purple-600 dark:text-purple-400"},M7=Ue({__name:"DigestionLogs",props:{formatDigestionAmount:{type:Function},formatTimestamp:{type:Function},formatXpGained:{type:Function}},setup(t){const e=gt();return(s,o)=>(f(),h("div",f7,[r("div",null,[o[0]||(o[0]=r("h4",{class:"font-medium text-amber-700 dark:text-amber-300 mb-2"},"Crop Digestion Log",-1)),r("div",g7,[g(e).decayLogs.length===0?(f(),h("div",h7," No crop digestion events yet ")):(f(),h("div",b7,[(f(!0),h(Ce,null,De([...g(e).decayLogs].reverse(),(n,i)=>(f(),h("div",{key:i,class:"text-xs border-b border-amber-100 dark:border-amber-800/30 pb-1 last:border-0"},[r("div",v7,[r("span",y7," Digested "+b(s.formatDigestionAmount(n.amount))+" food ",1),r("span",x7,b(s.formatTimestamp(n.timestamp)),1)]),r("div",k7," Gained "+b(s.formatXpGained(n.xpGained))+" Mega Ant XP ",1)]))),128))]))])]),r("div",null,[o[1]||(o[1]=r("h4",{class:"font-medium text-purple-700 dark:text-purple-300 mb-2"},"True Stomach Digestion Log",-1)),r("div",_7,[g(e).pheromoneDecayLogs.length===0?(f(),h("div",w7," No essence digestion events yet ")):(f(),h("div",C7,[(f(!0),h(Ce,null,De([...g(e).pheromoneDecayLogs].reverse(),(n,i)=>(f(),h("div",{key:i,class:"text-xs border-b border-purple-100 dark:border-purple-800/30 pb-1 last:border-0"},[r("div",S7,[r("span",$7," Digested "+b(s.formatDigestionAmount(n.amount))+" essence ",1),r("span",E7,b(s.formatTimestamp(n.timestamp)),1)]),r("div",A7," Gained "+b(s.formatXpGained(n.xpGained))+" Colony XP ",1)]))),128))]))])])]))}}),P7=st(M7,[["__scopeId","data-v-8eb0a0e0"]]),T7={class:"lg:hidden"},L7={class:"mb-4 border-b border-gray-200 dark:border-gray-700"},I7={class:"flex items-center gap-1 overflow-x-auto scrollbar-hide"},D7={key:0},F7={class:"bg-gradient-to-br from-emerald-100/50 to-emerald-50/50 dark:from-emerald-900/20 dark:to-emerald-800/10 rounded-xl p-4 shadow-md border border-emerald-200/50 dark:border-emerald-700/50 mb-4"},R7={class:"flex items-center mb-4 p-2 bg-emerald-100/80 dark:bg-emerald-900/30 rounded-lg border border-emerald-200 dark:border-emerald-800"},U7={class:"text-sm font-medium text-emerald-800 dark:text-emerald-300"},B7={class:"font-bold"},q7={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3"},O7={class:"font-bold text-emerald-700 dark:text-emerald-400 mb-1"},N7={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},H7={class:"mb-3 space-y-2"},j7={class:"flex justify-between items-center text-xs bg-amber-50 dark:bg-amber-900/20 p-1.5 rounded"},G7={class:"font-medium text-amber-700 dark:text-amber-300"},V7={class:"flex justify-between items-center text-xs bg-purple-50 dark:bg-purple-900/20 p-1.5 rounded"},Q7={class:"font-medium text-purple-700 dark:text-purple-300"},z7={class:"flex justify-between items-center text-xs bg-amber-50 dark:bg-amber-900/20 p-1.5 rounded"},W7={class:"font-medium text-amber-700 dark:text-amber-300"},Y7={class:"flex justify-between items-center text-xs bg-purple-50 dark:bg-purple-900/20 p-1.5 rounded"},K7={class:"font-medium text-purple-700 dark:text-purple-300"},X7={class:"flex justify-between items-center text-xs bg-amber-50 dark:bg-amber-900/20 p-1.5 rounded"},Z7={class:"font-medium text-amber-700 dark:text-amber-300"},J7={class:"flex justify-between items-center text-xs bg-purple-50 dark:bg-purple-900/20 p-1.5 rounded"},eD={class:"font-medium text-purple-700 dark:text-purple-300"},tD={key:0,class:"mb-2"},sD={class:"text-xs text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/20 p-1.5 rounded flex items-center"},oD={key:0,class:"ml-1"},rD={key:1,class:"ml-1"},nD={key:2,class:"ml-1"},aD={key:0,class:"i-heroicons-check-badge mr-1"},iD={key:1,class:"i-heroicons-sparkles mr-1"},lD={key:1},cD={class:"bg-gradient-to-br from-purple-100/50 to-purple-50/50 dark:from-purple-900/20 dark:to-purple-800/10 rounded-xl p-4 shadow-md border border-purple-200/50 dark:border-purple-700/50 mb-4"},dD={class:"flex items-center mb-4 p-2 bg-purple-100/80 dark:bg-purple-900/30 rounded-lg border border-purple-200 dark:border-purple-800"},uD={class:"text-sm font-medium text-purple-800 dark:text-purple-300"},mD={class:"font-bold"},pD={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3"},fD={class:"font-bold text-purple-700 dark:text-purple-400 mb-1"},gD={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},hD={class:"flex items-center justify-between text-xs bg-purple-50 dark:bg-purple-900/20 p-2 rounded mb-2"},bD={class:"font-medium text-purple-700 dark:text-purple-300 bg-purple-100 dark:bg-purple-800/40 px-2 py-0.5 rounded"},vD={class:"mb-2"},yD={class:"text-xs inline-block bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded"},xD={key:0,class:"text-blue-600 dark:text-blue-400 flex items-center"},kD={key:1,class:"text-pink-600 dark:text-pink-400 flex items-center"},_D={key:2,class:"text-teal-600 dark:text-teal-400 flex items-center"},wD={key:0,class:"mb-2"},CD={class:"text-xs text-purple-600 dark:text-purple-400 bg-purple-50 dark:bg-purple-900/20 p-1.5 rounded flex items-center"},SD={key:0,class:"ml-1"},$D={key:1,class:"ml-1"},ED={key:2,class:"ml-1"},AD={key:0,class:"i-heroicons-check-badge mr-1"},MD={key:1,class:"i-heroicons-sparkles mr-1"},PD=Ue({__name:"MobileUpgradeTabView",props:{activeTab:{},formattedEffectiveStomachCapacity:{},formattedEffectivePheromoneStomachCapacity:{},formattedDecayEfficiencyMultiplier:{},formattedPheromoneEfficiencyMultiplier:{},formatUpgradeImprovement:{type:Function},buttonClass:{type:Function},upgradeButtonText:{type:Function},colonyButtonClass:{type:Function},colonyUpgradeButtonText:{type:Function},purchaseUpgrade:{type:Function},purchaseColonyUpgrade:{type:Function}},emits:["update:activeTab"],setup(t,{emit:e}){const s=gt(),o=t,n=e;return(i,l)=>(f(),h("div",T7,[r("div",L7,[r("div",I7,[mi(i.$slots,"default",{},void 0,!0),i.$slots.default?Q("",!0):(f(),h(Ce,{key:0},[r("button",{onClick:l[0]||(l[0]=c=>n("update:activeTab","megaAnt")),class:V(["flex-1 py-2 px-4 text-sm font-medium transition-colors rounded-t-lg",o.activeTab==="megaAnt"?"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300 border-b-2 border-amber-500":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"])},l[2]||(l[2]=[r("span",{class:"i-mdi-bug mr-1"},null,-1),se(" Mega Ant ")]),2),r("button",{onClick:l[1]||(l[1]=c=>n("update:activeTab","colony")),class:V(["flex-1 py-2 px-4 text-sm font-medium transition-colors rounded-t-lg",o.activeTab==="colony"?"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300 border-b-2 border-amber-500":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"])},l[3]||(l[3]=[r("span",{class:"i-mdi-antenna mr-1"},null,-1),se(" Colony ")]),2)],64))])]),o.activeTab==="megaAnt"?(f(),h("div",D7,[r("div",F7,[l[15]||(l[15]=qt('<h2 class="text-lg font-bold text-emerald-700 dark:text-emerald-300 mb-2 flex items-center" data-v-917cffc4><span class="i-heroicons-arrow-trending-up mr-2" data-v-917cffc4></span> Mega Ant Upgrades <span class="ml-2 text-xs bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 px-2 py-0.5 rounded-full" data-v-917cffc4> Uses Mega Ant Levels </span></h2><div class="text-sm text-emerald-600 dark:text-emerald-400 mb-4 bg-emerald-100/50 dark:bg-emerald-900/30 p-3 rounded-lg border border-emerald-200 dark:border-emerald-700/50" data-v-917cffc4><p class="flex items-start" data-v-917cffc4><span class="i-heroicons-light-bulb text-emerald-500 mr-2 mt-0.5" data-v-917cffc4></span><span data-v-917cffc4><span class="font-semibold" data-v-917cffc4>Mega Ant upgrades affect both digestive systems.</span> Every purchase increases capacity, speed, or efficiency for both crop and true stomach. </span></p></div>',2)),r("div",R7,[l[6]||(l[6]=r("span",{class:"i-heroicons-star text-amber-500 mr-2"},null,-1)),r("span",U7,[l[4]||(l[4]=se(" Available Points: ")),r("span",B7,b(g(s).availableLevels),1),l[5]||(l[5]=r("span",{class:"text-xs ml-1"},"(Each Mega Ant level provides 1 upgrade point)",-1))])]),r("div",q7,[(f(!0),h(Ce,null,De(g(s).upgrades,c=>(f(),h("div",{key:c.id,class:"relative bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-emerald-200 dark:border-emerald-800 p-3 transition-all hover:shadow-md upgrade-card"},[r("div",{class:V(["absolute top-2 right-2 text-xs font-medium px-1.5 py-0.5 rounded-full",g(s).isUpgradeMaxed(c.id)?"bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-300":"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-800 dark:text-emerald-300"])},b(c.level)+b(c.maxLevel?"/"+c.maxLevel:""),3),r("h3",O7,b(c.name),1),r("p",N7,b(c.description),1),r("div",H7,[c.id===g(as).STOMACH_CAPACITY?(f(),h(Ce,{key:0},[r("div",j7,[l[7]||(l[7]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-arrow-path-rounded-square text-amber-500 mr-1"}),r("span",{class:"text-amber-600 dark:text-amber-400"},"Crop:")],-1)),r("span",G7,b(o.formattedEffectiveStomachCapacity)+" units",1)]),r("div",V7,[l[8]||(l[8]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-beaker text-purple-500 mr-1"}),r("span",{class:"text-purple-600 dark:text-purple-400"},"True Stomach:")],-1)),r("span",Q7,b(o.formattedEffectivePheromoneStomachCapacity)+" units",1)])],64)):c.id===g(as).DECAY_RATE?(f(),h(Ce,{key:1},[r("div",z7,[l[9]||(l[9]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-arrow-path-rounded-square text-amber-500 mr-1"}),r("span",{class:"text-amber-600 dark:text-amber-400"},"Crop:")],-1)),r("span",W7,b(g(s).effectiveDecayRate.toFixed(2))+"/sec",1)]),r("div",Y7,[l[10]||(l[10]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-beaker text-purple-500 mr-1"}),r("span",{class:"text-purple-600 dark:text-purple-400"},"True Stomach:")],-1)),r("span",K7,b(g(s).effectivePheromoneDecayRate.toFixed(2))+"/sec",1)])],64)):c.id===g(as).EFFICIENCY?(f(),h(Ce,{key:2},[r("div",X7,[l[11]||(l[11]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-arrow-path-rounded-square text-amber-500 mr-1"}),r("span",{class:"text-amber-600 dark:text-amber-400"},"Mega Ant XP:")],-1)),r("span",Z7,b(o.formattedDecayEfficiencyMultiplier)+"x",1)]),r("div",J7,[l[12]||(l[12]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-beaker text-purple-500 mr-1"}),r("span",{class:"text-purple-600 dark:text-purple-400"},"Colony XP:")],-1)),r("span",eD,b(o.formattedPheromoneEfficiencyMultiplier)+"x",1)])],64)):Q("",!0)]),g(s).isUpgradeMaxed(c.id)?Q("",!0):(f(),h("div",tD,[r("div",sD,[l[13]||(l[13]=r("span",{class:"i-heroicons-arrow-up text-emerald-500 mr-1"},null,-1)),l[14]||(l[14]=r("span",{class:"font-medium"},"Next level:",-1)),c.id===g(as).STOMACH_CAPACITY?(f(),h("span",oD,"+"+b(o.formatUpgradeImprovement(c.id,25))+" crop, +"+b(o.formatUpgradeImprovement(c.id,15))+" true stomach",1)):c.id===g(as).DECAY_RATE?(f(),h("span",rD,"+"+b(o.formatUpgradeImprovement(c.id,.2))+" & +"+b(o.formatUpgradeImprovement(c.id,.15))+" digest speed",1)):c.id===g(as).EFFICIENCY?(f(),h("span",nD,"+"+b(o.formatUpgradeImprovement(c.id,.25))+"x XP for both systems",1)):Q("",!0)])])),Fe(Jr,{onAction:d=>o.purchaseUpgrade(c.id),class:V(o.buttonClass(c.id)),disabled:!g(s).canUpgrade(c.id)},{default:mt(()=>[g(s).isUpgradeMaxed(c.id)?(f(),h("span",aD)):(f(),h("span",iD)),se(" "+b(o.upgradeButtonText(c.id)),1)]),_:2},1032,["onAction","class","disabled"])]))),128))])])])):Q("",!0),o.activeTab==="colony"?(f(),h("div",lD,[r("div",cD,[l[26]||(l[26]=qt('<h2 class="text-lg font-bold text-purple-700 dark:text-purple-300 mb-2 flex items-center" data-v-917cffc4><span class="i-heroicons-cube-transparent mr-2" data-v-917cffc4></span> Colony Upgrades <span class="ml-2 text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 px-2 py-0.5 rounded-full" data-v-917cffc4> Uses Colony Levels </span></h2><div class="text-sm text-purple-600 dark:text-purple-400 mb-4 bg-purple-100/50 dark:bg-purple-900/30 p-3 rounded-lg border border-purple-200 dark:border-purple-700/50" data-v-917cffc4><p class="flex items-start" data-v-917cffc4><span class="i-heroicons-light-bulb text-purple-500 mr-2 mt-0.5" data-v-917cffc4></span><span data-v-917cffc4><span class="font-semibold" data-v-917cffc4>Colony upgrades affect your entire ant farm.</span> Each upgrade provides global bonuses that become stronger with each evolution level. </span></p></div>',2)),r("div",dD,[l[18]||(l[18]=r("span",{class:"i-heroicons-star text-purple-500 mr-2"},null,-1)),r("span",uD,[l[16]||(l[16]=se(" Available Points: ")),r("span",mD,b(g(s).availableColonyLevels),1),l[17]||(l[17]=r("span",{class:"text-xs ml-1"},"(Each Colony level provides 1 upgrade point)",-1))])]),r("div",pD,[(f(!0),h(Ce,null,De(g(s).colonyUpgrades,c=>(f(),h("div",{key:c.id,class:"relative bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-purple-200 dark:border-purple-800 p-3 transition-all hover:shadow-md upgrade-card"},[r("div",{class:V(["absolute top-2 right-2 text-xs font-medium px-1.5 py-0.5 rounded-full",g(s).isColonyUpgradeMaxed(c.id)?"bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-300":"bg-purple-100 dark:bg-purple-900/50 text-purple-800 dark:text-purple-300"])},b(c.level)+b(c.maxLevel?"/"+c.maxLevel:""),3),r("h3",fD,b(c.name),1),r("p",gD,b(c.description),1),r("div",hD,[l[19]||(l[19]=r("span",{class:"text-purple-600 dark:text-purple-400"},"Current Effect:",-1)),r("span",bD,b(g(s).getFormattedColonyEffect(c.id)),1)]),r("div",vD,[r("div",yD,[c.id===g(Rs).EP_BOOST?(f(),h("span",xD,l[20]||(l[20]=[r("span",{class:"i-heroicons-sparkles mr-1"},null,-1),se(" Affects: Evolution Points ")]))):c.id===g(Rs).PHEROMONE_BOOST?(f(),h("span",kD,l[21]||(l[21]=[r("span",{class:"i-heroicons-beaker mr-1"},null,-1),se(" Affects: Pheromone Essence ")]))):c.id===g(Rs).GLOBAL_PRODUCTION?(f(),h("span",_D,l[22]||(l[22]=[r("span",{class:"i-heroicons-globe-alt mr-1"},null,-1),se(" Affects: All Production ")]))):Q("",!0)])]),g(s).isColonyUpgradeMaxed(c.id)?Q("",!0):(f(),h("div",wD,[r("div",CD,[l[23]||(l[23]=r("span",{class:"i-heroicons-arrow-up text-purple-500 mr-1"},null,-1)),l[24]||(l[24]=r("span",{class:"font-medium"},"Next level:",-1)),c.id===g(Rs).EP_BOOST?(f(),h("span",SD,"+"+b(o.formatUpgradeImprovement(c.id,c.getMultiplier(c.level+1)-c.getMultiplier(c.level)))+" EP gain",1)):c.id===g(Rs).PHEROMONE_BOOST?(f(),h("span",$D,"+"+b(o.formatUpgradeImprovement(c.id,c.getMultiplier(c.level+1)-c.getMultiplier(c.level)))+" pheromone gain",1)):c.id===g(Rs).GLOBAL_PRODUCTION?(f(),h("span",ED,"+"+b(o.formatUpgradeImprovement(c.id,c.getMultiplier(c.level+1)-c.getMultiplier(c.level)))+" global production",1)):Q("",!0)])])),l[25]||(l[25]=r("div",{class:"mb-2 text-xs text-gray-500 dark:text-gray-400 flex items-center"},[r("span",{class:"i-heroicons-information-circle mr-1"}),r("span",null,"Improves by +10% per evolution level")],-1)),Fe(Jr,{onAction:d=>o.purchaseColonyUpgrade(c.id),class:V(o.colonyButtonClass(c.id)),disabled:!g(s).canColonyUpgrade(c.id)},{default:mt(()=>[g(s).isColonyUpgradeMaxed(c.id)?(f(),h("span",AD)):(f(),h("span",MD)),se(" "+b(o.colonyUpgradeButtonText(c.id)),1)]),_:2},1032,["onAction","class","disabled"])]))),128))])])])):Q("",!0)]))}}),TD=st(PD,[["__scopeId","data-v-917cffc4"]]),LD={class:"hidden lg:grid lg:grid-cols-2 gap-4"},ID={class:"bg-gradient-to-br from-emerald-100/50 to-emerald-50/50 dark:from-emerald-900/20 dark:to-emerald-800/10 rounded-xl p-4 shadow-md border border-emerald-200/50 dark:border-emerald-700/50"},DD={class:"flex items-center mb-4 p-2 bg-emerald-100/80 dark:bg-emerald-900/30 rounded-lg border border-emerald-200 dark:border-emerald-800"},FD={class:"text-sm font-medium text-emerald-800 dark:text-emerald-300"},RD={class:"font-bold"},UD={class:"grid grid-cols-1 xl:grid-cols-2 gap-3"},BD={class:"font-bold text-emerald-700 dark:text-emerald-400 mb-1"},qD={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},OD={class:"mb-3 space-y-2"},ND={class:"flex justify-between items-center text-xs bg-amber-50 dark:bg-amber-900/20 p-1.5 rounded"},HD={class:"font-medium text-amber-700 dark:text-amber-300"},jD={class:"flex justify-between items-center text-xs bg-purple-50 dark:bg-purple-900/20 p-1.5 rounded"},GD={class:"font-medium text-purple-700 dark:text-purple-300"},VD={class:"flex justify-between items-center text-xs bg-amber-50 dark:bg-amber-900/20 p-1.5 rounded"},QD={class:"font-medium text-amber-700 dark:text-amber-300"},zD={class:"flex justify-between items-center text-xs bg-purple-50 dark:bg-purple-900/20 p-1.5 rounded"},WD={class:"font-medium text-purple-700 dark:text-purple-300"},YD={class:"flex justify-between items-center text-xs bg-amber-50 dark:bg-amber-900/20 p-1.5 rounded"},KD={class:"font-medium text-amber-700 dark:text-amber-300"},XD={class:"flex justify-between items-center text-xs bg-purple-50 dark:bg-purple-900/20 p-1.5 rounded"},ZD={class:"font-medium text-purple-700 dark:text-purple-300"},JD={key:0,class:"mb-2"},eF={class:"text-xs text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/20 p-1.5 rounded flex items-center"},tF={key:0,class:"ml-1"},sF={key:1,class:"ml-1"},oF={key:2,class:"ml-1"},rF={key:0,class:"i-heroicons-check-badge mr-1"},nF={key:1,class:"i-heroicons-sparkles mr-1"},aF={class:"bg-gradient-to-br from-purple-100/50 to-purple-50/50 dark:from-purple-900/20 dark:to-purple-800/10 rounded-xl p-4 shadow-md border border-purple-200/50 dark:border-purple-700/50"},iF={class:"flex items-center mb-4 p-2 bg-purple-100/80 dark:bg-purple-900/30 rounded-lg border border-purple-200 dark:border-purple-800"},lF={class:"text-sm font-medium text-purple-800 dark:text-purple-300"},cF={class:"font-bold"},dF={class:"grid grid-cols-1 xl:grid-cols-2 gap-3"},uF={class:"font-bold text-purple-700 dark:text-purple-400 mb-1"},mF={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},pF={class:"flex items-center justify-between text-xs bg-purple-50 dark:bg-purple-900/20 p-2 rounded mb-2"},fF={class:"font-medium text-purple-700 dark:text-purple-300 bg-purple-100 dark:bg-purple-800/40 px-2 py-0.5 rounded"},gF={class:"mb-2"},hF={class:"text-xs inline-block bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded"},bF={key:0,class:"text-blue-600 dark:text-blue-400 flex items-center"},vF={key:1,class:"text-pink-600 dark:text-pink-400 flex items-center"},yF={key:2,class:"text-teal-600 dark:text-teal-400 flex items-center"},xF={key:0,class:"mb-2"},kF={class:"text-xs text-purple-600 dark:text-purple-400 bg-purple-50 dark:bg-purple-900/20 p-1.5 rounded flex items-center"},_F={key:0,class:"ml-1"},wF={key:1,class:"ml-1"},CF={key:2,class:"ml-1"},SF={key:0,class:"i-heroicons-check-badge mr-1"},$F={key:1,class:"i-heroicons-sparkles mr-1"},EF=Ue({__name:"DesktopUpgradeLayout",props:{formattedEffectiveStomachCapacity:{},formattedEffectivePheromoneStomachCapacity:{},formattedDecayEfficiencyMultiplier:{},formattedPheromoneEfficiencyMultiplier:{},formatUpgradeImprovement:{type:Function},buttonClass:{type:Function},upgradeButtonText:{type:Function},colonyButtonClass:{type:Function},colonyUpgradeButtonText:{type:Function},purchaseUpgrade:{type:Function},purchaseColonyUpgrade:{type:Function}},setup(t){const e=gt();return(s,o)=>(f(),h("div",LD,[r("div",ID,[o[11]||(o[11]=qt('<h2 class="text-lg font-bold text-emerald-700 dark:text-emerald-300 mb-2 flex items-center"><span class="i-heroicons-arrow-trending-up mr-2"></span> Mega Ant Upgrades <span class="ml-2 text-xs bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 px-2 py-0.5 rounded-full"> Uses Mega Ant Levels </span></h2><div class="text-sm text-emerald-600 dark:text-emerald-400 mb-4 bg-emerald-100/50 dark:bg-emerald-900/30 p-3 rounded-lg border border-emerald-200 dark:border-emerald-700/50"><p class="flex items-start"><span class="i-heroicons-light-bulb text-emerald-500 mr-2 mt-0.5"></span><span><span class="font-semibold">Mega Ant upgrades affect both digestive systems.</span> Every purchase increases capacity, speed, or efficiency for both crop and true stomach. </span></p></div>',2)),r("div",DD,[o[2]||(o[2]=r("span",{class:"i-heroicons-star text-amber-500 mr-2"},null,-1)),r("span",FD,[o[0]||(o[0]=se(" Available Points: ")),r("span",RD,b(g(e).availableLevels),1),o[1]||(o[1]=r("span",{class:"text-xs ml-1"},"(Each Mega Ant level provides 1 upgrade point)",-1))])]),r("div",UD,[(f(!0),h(Ce,null,De(g(e).upgrades,n=>(f(),h("div",{key:n.id,class:"relative bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-emerald-200 dark:border-emerald-800 p-3 transition-all hover:shadow-md upgrade-card"},[r("div",{class:V(["absolute top-2 right-2 text-xs font-medium px-1.5 py-0.5 rounded-full",g(e).isUpgradeMaxed(n.id)?"bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-300":"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-800 dark:text-emerald-300"])},b(n.level)+b(n.maxLevel?"/"+n.maxLevel:""),3),r("h3",BD,b(n.name),1),r("p",qD,b(n.description),1),r("div",OD,[n.id===g(as).STOMACH_CAPACITY?(f(),h(Ce,{key:0},[r("div",ND,[o[3]||(o[3]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-arrow-path-rounded-square text-amber-500 mr-1"}),r("span",{class:"text-amber-600 dark:text-amber-400"},"Crop:")],-1)),r("span",HD,b(s.formattedEffectiveStomachCapacity)+" units",1)]),r("div",jD,[o[4]||(o[4]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-beaker text-purple-500 mr-1"}),r("span",{class:"text-purple-600 dark:text-purple-400"},"True Stomach:")],-1)),r("span",GD,b(s.formattedEffectivePheromoneStomachCapacity)+" units",1)])],64)):n.id===g(as).DECAY_RATE?(f(),h(Ce,{key:1},[r("div",VD,[o[5]||(o[5]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-arrow-path-rounded-square text-amber-500 mr-1"}),r("span",{class:"text-amber-600 dark:text-amber-400"},"Crop:")],-1)),r("span",QD,b(g(e).effectiveDecayRate.toFixed(2))+"/sec",1)]),r("div",zD,[o[6]||(o[6]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-beaker text-purple-500 mr-1"}),r("span",{class:"text-purple-600 dark:text-purple-400"},"True Stomach:")],-1)),r("span",WD,b(g(e).effectivePheromoneDecayRate.toFixed(2))+"/sec",1)])],64)):n.id===g(as).EFFICIENCY?(f(),h(Ce,{key:2},[r("div",YD,[o[7]||(o[7]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-arrow-path-rounded-square text-amber-500 mr-1"}),r("span",{class:"text-amber-600 dark:text-amber-400"},"Mega Ant XP:")],-1)),r("span",KD,b(s.formattedDecayEfficiencyMultiplier)+"x",1)]),r("div",XD,[o[8]||(o[8]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-beaker text-purple-500 mr-1"}),r("span",{class:"text-purple-600 dark:text-purple-400"},"Colony XP:")],-1)),r("span",ZD,b(s.formattedPheromoneEfficiencyMultiplier)+"x",1)])],64)):Q("",!0)]),g(e).isUpgradeMaxed(n.id)?Q("",!0):(f(),h("div",JD,[r("div",eF,[o[9]||(o[9]=r("span",{class:"i-heroicons-arrow-up text-emerald-500 mr-1"},null,-1)),o[10]||(o[10]=r("span",{class:"font-medium"},"Next level:",-1)),n.id===g(as).STOMACH_CAPACITY?(f(),h("span",tF,"+"+b(s.formatUpgradeImprovement(n.id,25))+" crop, +"+b(s.formatUpgradeImprovement(n.id,15))+" true stomach",1)):n.id===g(as).DECAY_RATE?(f(),h("span",sF,"+"+b(s.formatUpgradeImprovement(n.id,.2))+" & +"+b(s.formatUpgradeImprovement(n.id,.15))+" digest speed",1)):n.id===g(as).EFFICIENCY?(f(),h("span",oF,"+"+b(s.formatUpgradeImprovement(n.id,.25))+"x XP for both systems",1)):Q("",!0)])])),Fe(Jr,{onAction:i=>s.purchaseUpgrade(n.id),class:V(s.buttonClass(n.id)),disabled:!g(e).canUpgrade(n.id)},{default:mt(()=>[g(e).isUpgradeMaxed(n.id)?(f(),h("span",rF)):(f(),h("span",nF)),se(" "+b(s.upgradeButtonText(n.id)),1)]),_:2},1032,["onAction","class","disabled"])]))),128))])]),r("div",aF,[o[22]||(o[22]=qt('<h2 class="text-lg font-bold text-purple-700 dark:text-purple-300 mb-2 flex items-center"><span class="i-heroicons-cube-transparent mr-2"></span> Colony Upgrades <span class="ml-2 text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 px-2 py-0.5 rounded-full"> Uses Colony Levels </span></h2><div class="text-sm text-purple-600 dark:text-purple-400 mb-4 bg-purple-100/50 dark:bg-purple-900/30 p-3 rounded-lg border border-purple-200 dark:border-purple-700/50"><p class="flex items-start"><span class="i-heroicons-light-bulb text-purple-500 mr-2 mt-0.5"></span><span><span class="font-semibold">Colony upgrades affect your entire ant farm.</span> Each upgrade provides global bonuses that become stronger with each evolution level. </span></p></div>',2)),r("div",iF,[o[14]||(o[14]=r("span",{class:"i-heroicons-star text-purple-500 mr-2"},null,-1)),r("span",lF,[o[12]||(o[12]=se(" Available Points: ")),r("span",cF,b(g(e).availableColonyLevels),1),o[13]||(o[13]=r("span",{class:"text-xs ml-1"},"(Each Colony level provides 1 upgrade point)",-1))])]),r("div",dF,[(f(!0),h(Ce,null,De(g(e).colonyUpgrades,n=>(f(),h("div",{key:n.id,class:"relative bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-purple-200 dark:border-purple-800 p-3 transition-all hover:shadow-md upgrade-card"},[r("div",{class:V(["absolute top-2 right-2 text-xs font-medium px-1.5 py-0.5 rounded-full",g(e).isColonyUpgradeMaxed(n.id)?"bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-300":"bg-purple-100 dark:bg-purple-900/50 text-purple-800 dark:text-purple-300"])},b(n.level)+b(n.maxLevel?"/"+n.maxLevel:""),3),r("h3",uF,b(n.name),1),r("p",mF,b(n.description),1),r("div",pF,[o[15]||(o[15]=r("span",{class:"text-purple-600 dark:text-purple-400"},"Current Effect:",-1)),r("span",fF,b(g(e).getFormattedColonyEffect(n.id)),1)]),r("div",gF,[r("div",hF,[n.id===g(Rs).EP_BOOST?(f(),h("span",bF,o[16]||(o[16]=[r("span",{class:"i-heroicons-sparkles mr-1"},null,-1),se(" Affects: Evolution Points ")]))):n.id===g(Rs).PHEROMONE_BOOST?(f(),h("span",vF,o[17]||(o[17]=[r("span",{class:"i-heroicons-beaker mr-1"},null,-1),se(" Affects: Pheromone Essence ")]))):n.id===g(Rs).GLOBAL_PRODUCTION?(f(),h("span",yF,o[18]||(o[18]=[r("span",{class:"i-heroicons-globe-alt mr-1"},null,-1),se(" Affects: All Production ")]))):Q("",!0)])]),g(e).isColonyUpgradeMaxed(n.id)?Q("",!0):(f(),h("div",xF,[r("div",kF,[o[19]||(o[19]=r("span",{class:"i-heroicons-arrow-up text-purple-500 mr-1"},null,-1)),o[20]||(o[20]=r("span",{class:"font-medium"},"Next level:",-1)),n.id===g(Rs).EP_BOOST?(f(),h("span",_F,"+"+b(s.formatUpgradeImprovement(n.id,n.getMultiplier(n.level+1)-n.getMultiplier(n.level)))+" EP gain",1)):n.id===g(Rs).PHEROMONE_BOOST?(f(),h("span",wF,"+"+b(s.formatUpgradeImprovement(n.id,n.getMultiplier(n.level+1)-n.getMultiplier(n.level)))+" pheromone gain",1)):n.id===g(Rs).GLOBAL_PRODUCTION?(f(),h("span",CF,"+"+b(s.formatUpgradeImprovement(n.id,n.getMultiplier(n.level+1)-n.getMultiplier(n.level)))+" global production",1)):Q("",!0)])])),o[21]||(o[21]=r("div",{class:"mb-2 text-xs text-gray-500 dark:text-gray-400 flex items-center"},[r("span",{class:"i-heroicons-information-circle mr-1"}),r("span",null,"Improves by +10% per evolution level")],-1)),Fe(Jr,{onAction:i=>s.purchaseColonyUpgrade(n.id),class:V(s.colonyButtonClass(n.id)),disabled:!g(e).canColonyUpgrade(n.id)},{default:mt(()=>[g(e).isColonyUpgradeMaxed(n.id)?(f(),h("span",SF)):(f(),h("span",$F)),se(" "+b(s.colonyUpgradeButtonText(n.id)),1)]),_:2},1032,["onAction","class","disabled"])]))),128))])])]))}}),AF={class:"mb-4"},MF={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},PF={class:"bg-amber-50 dark:bg-amber-900/20 p-3 rounded-lg border border-amber-200 dark:border-amber-700/50 mb-2"},TF={class:"flex justify-between text-xs text-amber-700 dark:text-amber-300 mb-1"},LF={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 overflow-hidden"},IF={class:"flex justify-between mt-1 items-center"},DF={class:"text-xs text-gray-500 dark:text-gray-400 flex items-center"},FF={class:"bg-amber-50 dark:bg-amber-900/20 rounded-lg p-3 border border-amber-200 dark:border-amber-700/50"},RF={class:"flex items-center justify-between"},UF={class:"text-gray-600 dark:text-gray-300"},BF=["disabled"],qF={key:0,class:"inline-block animate-pulse"},OF={key:1},NF={key:2},HF={class:"mt-3"},jF={key:0,class:"flex items-center justify-between bg-amber-100/70 dark:bg-amber-900/30 p-2 rounded border border-amber-200/80 dark:border-amber-800/30"},GF={key:0,class:"text-xs text-amber-600 dark:text-amber-400 flex items-center mt-0.5"},VF={key:1,class:"relative"},QF={key:0,class:"absolute z-20 text-xs w-full max-w-xs bg-white dark:bg-gray-800 rounded-lg shadow-lg p-3 border border-amber-200 dark:border-amber-800 sm:right-0 sm:top-full sm:mt-2 left-0 top-full mt-2"},zF={class:"bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg border border-purple-200 dark:border-purple-700/50 mb-2"},WF={class:"flex justify-between text-xs text-purple-700 dark:text-purple-300 mb-1"},YF={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 overflow-hidden"},KF={class:"flex justify-between mt-1 items-center"},XF={class:"text-xs text-gray-500 dark:text-gray-400 flex items-center"},ZF={class:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3 border border-purple-200 dark:border-purple-700/50"},JF={class:"flex items-center justify-between"},eR={class:"text-gray-600 dark:text-gray-300"},tR=["disabled"],sR={key:0,class:"inline-block animate-pulse"},oR={key:1},rR={key:2},nR={class:"mt-3"},aR={key:0,class:"flex items-center justify-between bg-purple-100/70 dark:bg-purple-900/30 p-2 rounded border border-purple-200/80 dark:border-purple-800/30"},iR={key:0,class:"text-xs text-purple-600 dark:text-purple-400 flex items-center mt-0.5"},lR={key:1,class:"relative"},cR={key:0,class:"absolute z-20 text-xs w-full max-w-xs bg-white dark:bg-gray-800 rounded-lg shadow-lg p-3 border border-purple-200 dark:border-purple-800 sm:right-0 sm:top-full sm:mt-2 left-0 top-full mt-2"},dR=Ue({__name:"DigestiveSystems",props:{formattedStomachContent:{},formattedEffectiveStomachCapacity:{},formattedPheromoneStomachContent:{},formattedEffectivePheromoneStomachCapacity:{},formattedDecayRate:{},formattedPheromoneDecayRate:{},isFeeding:{type:Boolean},isFeedingPheromone:{type:Boolean},feedingResult:{},feedingPheromoneResult:{},feedAllToMegaAnt:{type:Function},feedPheromoneToMegaAnt:{type:Function}},setup(t){const e=gt(),s=vt(),o=os(),n=W(!1),i=W(!1),l=()=>{n.value=!n.value,i.value=!1},c=()=>{i.value=!i.value,n.value=!1},d=R(()=>{const u=e.AUTO_FEED_INTERVAL,m=e.autoFeedTickCounter;return u-m});return(u,m)=>(f(),h("div",AF,[m[28]||(m[28]=r("h3",{class:"font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center"},[r("span",{class:"i-heroicons-beaker text-indigo-500 mr-2"}),se(" Digestive Systems "),r("span",{class:"ml-2 text-xs bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 px-2 py-0.5 rounded-full"},"Auto-digests over time")],-1)),r("div",MF,[r("div",null,[r("div",PF,[m[6]||(m[6]=r("h4",{class:"font-medium text-amber-700 dark:text-amber-300 mb-1 flex items-center"},[r("span",{class:"i-heroicons-arrow-path-rounded-square text-amber-600 dark:text-amber-400 mr-1"}),se(" Crop System "),r("span",{class:"ml-2 text-xs bg-amber-100/70 dark:bg-amber-800/30 text-amber-700 dark:text-amber-300 px-1.5 py-0.5 rounded-full"}," Mega Ant XP ")],-1)),r("div",TF,[m[4]||(m[4]=r("span",null,"Food Storage",-1)),r("span",null,b(u.formattedStomachContent)+" / "+b(u.formattedEffectiveStomachCapacity),1)]),r("div",LF,[r("div",{class:V(["h-2.5 rounded-full transition-all duration-300",[g(e).stomachFillPercentage<50?"bg-amber-300":g(e).stomachFillPercentage<80?"bg-amber-400":g(e).stomachFillPercentage<95?"bg-amber-500":"bg-amber-600"]]),style:Je(`width: ${g(e).stomachFillPercentage}%`)},null,6)]),r("div",IF,[r("span",DF,[m[5]||(m[5]=r("span",{class:"i-heroicons-clock text-amber-500 mr-1"},null,-1)),se(" "+b(u.formattedDecayRate)+" units/min ",1)]),r("span",{class:V(["text-xs px-2 py-0.5 rounded",{"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300":g(e).isStomachFull,"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":!g(e).isStomachFull&&g(e).stomachContent.gt(0),"text-gray-500 dark:text-gray-400":g(e).stomachContent.lte(0)}])},b(g(e).isStomachFull?" Full":g(e).stomachContent.gt(0)?" Digesting":"Empty"),3)])]),r("div",FF,[m[14]||(m[14]=r("h4",{class:"font-medium text-amber-700 dark:text-amber-300 mb-2 flex items-center"},[r("span",{class:"i-heroicons-arrow-path-rounded-square mr-1"}),se(" Feed Crop (Food) ")],-1)),r("div",RF,[r("span",UF,"Available Food: "+b(g(ie)(g(s).food)),1),r("button",{onClick:m[0]||(m[0]=(...p)=>u.feedAllToMegaAnt&&u.feedAllToMegaAnt(...p)),disabled:u.isFeeding||g(s).food.lte(0)||g(e).isStomachFull,class:"px-3 sm:px-4 py-2 bg-amber-600 hover:bg-amber-700 dark:bg-amber-700 dark:hover:bg-amber-600 text-white rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 disabled:opacity-50 flex items-center"},[m[7]||(m[7]=r("span",{class:"i-heroicons-arrow-down-tray mr-1"},null,-1)),u.isFeeding?(f(),h("span",qF,"Feeding...")):g(e).isStomachFull?(f(),h("span",OF,"Crop Full")):(f(),h("span",NF,"Feed All"))],8,BF)]),u.feedingResult?(f(),h("p",{key:0,class:V(["mt-2 text-sm",u.feedingResult.includes("error")?"text-red-500":"text-amber-600 dark:text-amber-400"])},b(u.feedingResult),3)):Q("",!0),r("div",HF,[g(e).isAutoFeedUnlocked?(f(),h("div",jF,[r("div",null,[m[9]||(m[9]=r("span",{class:"text-sm text-amber-700 dark:text-amber-300 flex items-center"},[r("span",{class:"i-heroicons-arrow-path mr-1"}),se(" Auto Feed (1% of food every 10 ticks) ")],-1)),m[10]||(m[10]=r("p",{class:"text-xs text-amber-600 dark:text-amber-400 mt-0.5"},[r("span",{class:"i-heroicons-information-circle mr-1"}),se(" Only feeds when crop is completely empty ")],-1)),g(e).autoFeedEnabled?(f(),h("span",GF,[m[8]||(m[8]=r("span",{class:"i-heroicons-clock-solid mr-1"},null,-1)),se(" "+b(d.value)+" ticks until next auto feed ",1)])):Q("",!0)]),r("button",{onClick:m[1]||(m[1]=(...p)=>g(e).toggleAutoFeed&&g(e).toggleAutoFeed(...p)),class:V(["relative inline-flex items-center h-5 rounded-full w-9 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500",g(e).autoFeedEnabled?"bg-amber-600":"bg-gray-300 dark:bg-gray-600"])},[r("span",{class:V(["inline-block w-4 h-4 transform bg-white rounded-full transition-transform",g(e).autoFeedEnabled?"translate-x-5":"translate-x-1"])},null,2)],2)])):(f(),h("div",VF,[r("div",{onClick:l,class:"flex items-center justify-between bg-gray-100/70 dark:bg-gray-900/30 p-2 rounded border border-gray-300 dark:border-gray-700 opacity-75 cursor-pointer"},m[11]||(m[11]=[qt('<div><span class="text-sm text-gray-500 dark:text-gray-400 flex items-center"><span class="i-heroicons-lock-closed mr-1"></span> Auto Feed (1% of food every 10 ticks) </span><p class="text-xs text-gray-500 dark:text-gray-400 mt-0.5"><span class="i-heroicons-information-circle mr-1"></span> Requires prestige upgrade </p></div><div class="relative inline-flex items-center h-5 rounded-full w-9 bg-gray-300 dark:bg-gray-600"><span class="inline-block w-4 h-4 transform bg-white rounded-full translate-x-1"></span></div>',2)])),n.value?(f(),h("div",QF,[r("button",{onClick:l,class:"absolute right-2 top-2 text-gray-400 hover:text-gray-500"},m[12]||(m[12]=[r("span",{class:"i-heroicons-x-mark w-4 h-4"},null,-1)])),m[13]||(m[13]=qt('<p class="font-medium text-amber-700 dark:text-amber-400 mb-1">Feature Locked</p><p class="text-gray-600 dark:text-gray-300"> Purchase the <span class="font-medium">Mega Ant Auto Feed</span> evolution upgrade to unlock automatic feeding when stomachs are empty. </p><p class="mt-1 text-sm font-medium text-gray-500 dark:text-gray-400"> Cost: 50M Evolution Points </p><div class="absolute w-3 h-3 bg-white dark:bg-gray-800 transform rotate-45 sm:right-4 sm:-mt-4 sm:top-0 left-4 -mt-4 top-0"></div>',4))])):Q("",!0)]))]),m[15]||(m[15]=qt('<div class="mt-2 text-xs text-gray-600 dark:text-gray-400 bg-amber-100/50 dark:bg-amber-900/30 p-2 rounded border border-amber-200/50 dark:border-amber-800/30"><p class="mb-1"><span class="font-semibold">How it works:</span> Feeding generates Mega Ant XP based on food magnitude</p><p class="flex items-center"><span class="i-heroicons-light-bulb text-amber-500 mr-1"></span><span>Example: 1e100 food = <span class="font-semibold">100 XP</span> (based on exponent)</span></p></div>',1))])]),r("div",null,[r("div",zF,[m[18]||(m[18]=r("h4",{class:"font-medium text-purple-700 dark:text-purple-300 mb-1 flex items-center"},[r("span",{class:"i-heroicons-beaker text-purple-600 dark:text-purple-400 mr-1"}),se(" True Stomach "),r("span",{class:"ml-2 text-xs bg-purple-100/70 dark:bg-purple-800/30 text-purple-700 dark:text-purple-300 px-1.5 py-0.5 rounded-full"}," Colony XP ")],-1)),r("div",WF,[m[16]||(m[16]=r("span",null,"Pheromone Storage",-1)),r("span",null,b(u.formattedPheromoneStomachContent)+" / "+b(u.formattedEffectivePheromoneStomachCapacity),1)]),r("div",YF,[r("div",{class:V(["h-2.5 rounded-full transition-all duration-300",[g(e).pheromoneStomachFillPercentage<50?"bg-purple-300":g(e).pheromoneStomachFillPercentage<80?"bg-purple-400":g(e).pheromoneStomachFillPercentage<95?"bg-purple-500":"bg-purple-600"]]),style:Je(`width: ${g(e).pheromoneStomachFillPercentage}%`)},null,6)]),r("div",KF,[r("span",XF,[m[17]||(m[17]=r("span",{class:"i-heroicons-clock text-purple-500 mr-1"},null,-1)),se(" "+b(u.formattedPheromoneDecayRate)+" units/min ",1)]),r("span",{class:V(["text-xs px-2 py-0.5 rounded",{"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300":g(e).isPheromoneStomachFull,"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":!g(e).isPheromoneStomachFull&&g(e).pheromoneStomachContent.gt(0),"text-gray-500 dark:text-gray-400":g(e).pheromoneStomachContent.lte(0)}])},b(g(e).isPheromoneStomachFull?" Full":g(e).pheromoneStomachContent.gt(0)?" Digesting":"Empty"),3)])]),r("div",ZF,[m[26]||(m[26]=r("h4",{class:"font-medium text-purple-700 dark:text-purple-300 mb-2 flex items-center"},[r("span",{class:"i-heroicons-beaker mr-1"}),se(" Feed True Stomach (Essence) ")],-1)),r("div",JF,[r("span",eR,"Pheromone Essence: "+b(g(o).formattedPheromoneEssence),1),r("button",{onClick:m[2]||(m[2]=(...p)=>u.feedPheromoneToMegaAnt&&u.feedPheromoneToMegaAnt(...p)),disabled:u.isFeedingPheromone||g(o).pheromoneEssence.lte(0)||g(e).isPheromoneStomachFull,class:"px-3 sm:px-4 py-2 bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-600 text-white rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 flex items-center"},[m[19]||(m[19]=r("span",{class:"i-heroicons-arrow-down-tray mr-1"},null,-1)),u.isFeedingPheromone?(f(),h("span",sR,"Feeding...")):g(e).isPheromoneStomachFull?(f(),h("span",oR,"Stomach Full")):(f(),h("span",rR,"Feed All"))],8,tR)]),u.feedingPheromoneResult?(f(),h("p",{key:0,class:V(["mt-2 text-sm",u.feedingPheromoneResult.includes("error")?"text-red-500":"text-purple-600 dark:text-purple-400"])},b(u.feedingPheromoneResult),3)):Q("",!0),r("div",nR,[g(e).isAutoFeedUnlocked?(f(),h("div",aR,[r("div",null,[m[21]||(m[21]=r("span",{class:"text-sm text-purple-700 dark:text-purple-300 flex items-center"},[r("span",{class:"i-heroicons-arrow-path mr-1"}),se(" Auto Feed (1% of essence every 10 ticks) ")],-1)),m[22]||(m[22]=r("p",{class:"text-xs text-purple-600 dark:text-purple-400 mt-0.5"},[r("span",{class:"i-heroicons-information-circle mr-1"}),se(" Only feeds when stomach is completely empty ")],-1)),g(e).autoFeedPheromoneEnabled?(f(),h("span",iR,[m[20]||(m[20]=r("span",{class:"i-heroicons-clock-solid mr-1"},null,-1)),se(" "+b(d.value)+" ticks until next auto feed ",1)])):Q("",!0)]),r("button",{onClick:m[3]||(m[3]=(...p)=>g(e).toggleAutoFeedPheromone&&g(e).toggleAutoFeedPheromone(...p)),class:V(["relative inline-flex items-center h-5 rounded-full w-9 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",g(e).autoFeedPheromoneEnabled?"bg-purple-600":"bg-gray-300 dark:bg-gray-600"])},[r("span",{class:V(["inline-block w-4 h-4 transform bg-white rounded-full transition-transform",g(e).autoFeedPheromoneEnabled?"translate-x-5":"translate-x-1"])},null,2)],2)])):(f(),h("div",lR,[r("div",{onClick:c,class:"flex items-center justify-between bg-gray-100/70 dark:bg-gray-900/30 p-2 rounded border border-gray-300 dark:border-gray-700 opacity-75 cursor-pointer"},m[23]||(m[23]=[qt('<div><span class="text-sm text-gray-500 dark:text-gray-400 flex items-center"><span class="i-heroicons-lock-closed mr-1"></span> Auto Feed (1% of essence every 10 ticks) </span><p class="text-xs text-gray-500 dark:text-gray-400 mt-0.5"><span class="i-heroicons-information-circle mr-1"></span> Requires prestige upgrade </p></div><div class="relative inline-flex items-center h-5 rounded-full w-9 bg-gray-300 dark:bg-gray-600"><span class="inline-block w-4 h-4 transform bg-white rounded-full translate-x-1"></span></div>',2)])),i.value?(f(),h("div",cR,[r("button",{onClick:c,class:"absolute right-2 top-2 text-gray-400 hover:text-gray-500"},m[24]||(m[24]=[r("span",{class:"i-heroicons-x-mark w-4 h-4"},null,-1)])),m[25]||(m[25]=qt('<p class="font-medium text-purple-700 dark:text-purple-400 mb-1">Feature Locked</p><p class="text-gray-600 dark:text-gray-300"> Purchase the <span class="font-medium">Mega Ant Auto Feed</span> evolution upgrade to unlock automatic feeding when stomachs are empty. </p><p class="mt-1 text-sm font-medium text-gray-500 dark:text-gray-400"> Cost: 50M Evolution Points </p><div class="absolute w-3 h-3 bg-white dark:bg-gray-800 transform rotate-45 sm:right-4 sm:-mt-4 sm:top-0 left-4 -mt-4 top-0"></div>',4))])):Q("",!0)]))]),m[27]||(m[27]=qt('<div class="mt-2 text-xs text-gray-600 dark:text-gray-400 bg-purple-100/50 dark:bg-purple-900/30 p-2 rounded border border-purple-200/50 dark:border-purple-800/30"><p class="mb-1"><span class="font-semibold">How it works:</span> Feeding generates Colony XP based on essence magnitude</p><p class="flex items-center"><span class="i-heroicons-light-bulb text-purple-500 mr-1"></span><span>Example: 1e50 essence = <span class="font-semibold">100 XP</span> (essence is 2x more effective)</span></p></div>',1))])])]),m[29]||(m[29]=r("div",{class:"mt-2 bg-blue-50 dark:bg-blue-900/20 p-2 rounded text-xs text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-800/50"},[r("div",{class:"flex items-start"},[r("span",{class:"i-heroicons-information-circle text-blue-500 mr-1.5 mt-0.5"}),r("p",null,"Both systems work independently and automatically digest content over time. Upgrades affect both systems simultaneously.")])],-1))]))}}),uR={key:0,class:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-3 sm:p-4 shadow-md border border-blue-200 dark:border-blue-800/50"},mR={class:"flex items-start"},pR={class:"mt-2 flex justify-end"},fR={key:1,class:"flex justify-end mb-2"},gR=Ue({__name:"TutorialSection",setup(t){const e=gt(),s=R({get:()=>e.showHelpSection,set:o=>e.toggleHelpSection(o)});return(o,n)=>(f(),h(Ce,null,[s.value?(f(),h("div",uR,[r("div",mR,[n[3]||(n[3]=r("span",{class:"i-heroicons-information-circle text-blue-500 text-xl mr-3 mt-0.5"},null,-1)),r("div",null,[n[2]||(n[2]=qt('<h3 class="font-semibold text-blue-700 dark:text-blue-300 mb-2">How The Mega Ant System Works</h3><div class="space-y-3 text-sm text-blue-700 dark:text-blue-300"><p>Your Mega Ant has two digestive systems that work in parallel:</p><div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-2"><div class="bg-amber-50 dark:bg-amber-900/20 p-3 rounded-lg"><h4 class="font-medium text-amber-700 dark:text-amber-300 flex items-center gap-1 mb-1"><span class="i-heroicons-arrow-path-rounded-square"></span>Crop System </h4><ol class="list-decimal list-inside space-y-1 pl-1 text-xs"><li>Feed <b>regular food</b> to your Mega Ant&#39;s crop</li><li>Food is digested automatically over time</li><li>Digestion grants <b>Mega Ant XP</b></li><li>Mega Ant levels unlock <b>upgrade points</b></li></ol></div><div class="bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg"><h4 class="font-medium text-purple-700 dark:text-purple-300 flex items-center gap-1 mb-1"><span class="i-heroicons-beaker"></span>True Stomach System </h4><ol class="list-decimal list-inside space-y-1 pl-1 text-xs"><li>Feed <b>pheromone essence</b> to the true stomach</li><li>Essence is digested automatically over time</li><li>Digestion grants <b>Colony XP</b></li><li>Colony levels unlock <b>colony upgrade points</b></li></ol></div></div><p class="pt-1"> <b>Important:</b> The amount of XP gained is based on the <b>size</b> of what you feed, not the quantity. Feeding 1e100 food provides 100 XP potential.</p><p> <b>Ascension:</b> Reset your progress to gain a permanent multiplier to all XP gains. Your Mega Ant upgrades are preserved!</p></div>',2)),r("div",pR,[r("button",{class:"text-xs text-blue-600 dark:text-blue-400 hover:underline",onClick:n[0]||(n[0]=i=>s.value=!1)}," Hide This Guide ")])])])])):Q("",!0),s.value?Q("",!0):(f(),h("div",fR,[r("button",{class:"text-xs bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-800/30 px-3 py-1.5 rounded-full flex items-center",onClick:n[1]||(n[1]=i=>s.value=!0)},n[4]||(n[4]=[r("span",{class:"i-heroicons-information-circle mr-1"},null,-1),se(" Show Guide ")]))]))],64))}}),hR={class:"flex justify-between items-center mb-4"},bR={class:"relative tooltip-container group"},vR={class:"flex items-center"},yR={key:0,class:"ml-2 bg-purple-800 text-purple-100 px-2 py-0.5 rounded-full text-xs"},xR={class:"mt-1 font-medium text-purple-600 dark:text-purple-400"},kR={class:"text-gray-600 dark:text-gray-300"},_R=Ue({__name:"MegaAntHeader",props:{formattedAscensionMultiplier:{}},emits:["showAscensionModal"],setup(t){const e=gt(),{canAscend:s,ascensionLockExplanation:o}=V0(),n=W(!1),i=()=>{n.value=!n.value},l=c=>{c.target.closest(".tooltip-container")||(n.value=!1)};return tt(()=>{document.addEventListener("click",l)}),Ms(()=>{document.removeEventListener("click",l)}),(c,d)=>(f(),h(Ce,null,[r("div",hR,[d[7]||(d[7]=r("h2",{class:"text-base sm:text-lg font-semibold text-green-800 dark:text-green-200 flex items-center"},[r("span",{class:"i-heroicons-bug-ant text-green-600 dark:text-green-400 mr-2"}),se(" Mega Ant Evolution ")],-1)),r("div",bR,[r("div",vR,[r("button",{onClick:d[0]||(d[0]=u=>g(s)?c.$emit("showAscensionModal"):null),class:V(["px-2 py-1 sm:px-4 sm:py-2 text-sm rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 flex items-center",g(s)?"bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-600 text-white":"bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed"])},[r("span",{class:V([g(s)?"i-heroicons-arrow-up-circle":"i-heroicons-lock-closed","mr-1"])},null,2),d[1]||(d[1]=r("span",null,"Ascend",-1)),g(e).ascensionCount>0?(f(),h("span",yR,b(g(e).ascensionCount),1)):Q("",!0)],2),r("button",{onClick:at(i,["stop"]),class:"ml-1 p-2 text-purple-600 dark:text-purple-400 hover:bg-purple-100 dark:hover:bg-purple-900/30 rounded-full focus:outline-none","aria-label":"Ascension info"},d[2]||(d[2]=[r("span",{class:"i-heroicons-information-circle text-sm"},null,-1)]))]),r("div",{class:V(["absolute right-0 top-full mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-3 border border-purple-200 dark:border-purple-700 z-10 text-xs transition-opacity duration-200",n.value?"block opacity-100":"hidden sm:group-hover:block opacity-0 sm:group-hover:opacity-100"])},[g(s)?(f(),h(Ce,{key:0},[d[3]||(d[3]=r("p",{class:"font-medium text-purple-700 dark:text-purple-300 mb-1"},"Ascension Reset",-1)),d[4]||(d[4]=r("p",{class:"text-gray-600 dark:text-gray-300"},[se("Reset your progress but "),r("span",{class:"font-semibold"},"keep all upgrades"),se(" to gain a permanent multiplier to XP gains.")],-1)),r("p",xR,"Current bonus: "+b(c.formattedAscensionMultiplier)+"x",1)],64)):(f(),h(Ce,{key:1},[d[5]||(d[5]=r("p",{class:"font-medium text-red-500 dark:text-red-400 mb-1"},"Ascension Locked",-1)),r("p",kR,b(g(o)),1),d[6]||(d[6]=r("p",{class:"mt-1 text-sm font-medium text-gray-500 dark:text-gray-400"},"Complete quests to unlock this feature",-1))],64))],2)])]),d[8]||(d[8]=r("p",{class:"text-green-700 dark:text-green-300 mb-4 flex items-start"},[r("span",{class:"i-heroicons-information-circle text-green-500 mr-2 mt-0.5"}),r("span",null,"Your colony's ultimate evolution. Feed your Mega Ant to grow its power and upgrade both digestive systems to enhance your entire ant farm.")],-1))],64))}}),wR="/assets/Mega-ant-GPeYD705.png",CR={class:"flex justify-center"},SR={class:"relative"},$R={class:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-green-300/70 to-transparent dark:from-green-800/70 py-1 text-center"},ER={class:"text-green-900 dark:text-green-100 font-semibold text-sm"},AR={key:0,class:"absolute top-0 right-0 transform translate-x-2 -translate-y-2 bg-purple-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm border-2 border-white dark:border-gray-800 shadow-lg z-10"},MR=Ue({__name:"MegaAntImage",props:{isFeeding:{type:Boolean},isFeedingPheromone:{type:Boolean}},setup(t){const e=gt();return(s,o)=>(f(),h("div",CR,[r("div",SR,[r("div",{class:V(["relative w-32 h-32 sm:w-40 sm:h-40 overflow-hidden rounded-full bg-gradient-to-b from-green-200 to-green-300 dark:from-green-900 dark:to-green-800 border-4 border-green-300 dark:border-green-700 shadow-lg transition-all duration-300",{"feeding-animation":s.isFeeding||s.isFeedingPheromone,"digesting-animation":g(e).stomachContent.gt(0)||g(e).pheromoneStomachContent.gt(0)}])},[r("img",{src:wR,alt:"Mega Ant",class:V(["w-full h-full object-contain",{"animate-pulse":s.isFeeding||s.isFeedingPheromone}])},null,2),r("div",$R,[r("span",ER,"Level "+b(g(e).level.toString()),1)])],2),g(e).ascensionCount>0?(f(),h("div",AR,b(g(e).ascensionCount),1)):Q("",!0)])]))}}),PR=st(MR,[["__scopeId","data-v-bebc8eeb"]]),TR={class:"flex flex-col justify-center col-span-2"},LR={class:"flex justify-between mb-1"},IR={class:"text-green-700 dark:text-green-300"},DR={class:"flex justify-between mb-1"},FR={class:"text-purple-700 dark:text-purple-300"},RR={class:"flex justify-between mb-1"},UR={class:"text-green-700 dark:text-green-300"},BR={class:"flex justify-between mb-1"},qR={class:"text-purple-700 dark:text-purple-300"},OR={key:0,class:"flex justify-between mb-1"},NR={class:"text-purple-700 dark:text-purple-300"},HR={class:"flex justify-between mb-1"},jR={class:"text-amber-700 dark:text-amber-300"},GR={class:"flex justify-between mb-1"},VR={class:"text-amber-700 dark:text-amber-300"},QR={class:"flex justify-between mb-1"},zR={class:"text-purple-700 dark:text-purple-300"},WR={class:"flex justify-between mb-1"},YR={class:"text-purple-700 dark:text-purple-300"},KR=Ue({__name:"MegaAntStats",props:{formattedAscensionMultiplier:{},formattedEffectiveStomachCapacity:{},formattedDecayRate:{},formattedEffectivePheromoneStomachCapacity:{},formattedPheromoneDecayRate:{}},setup(t){const e=gt();return(s,o)=>(f(),h("div",TR,[r("div",LR,[o[0]||(o[0]=r("span",{class:"text-green-800 dark:text-green-200 font-semibold"},"Mega Ant Level:",-1)),r("span",IR,b(g(e).level.toString()),1)]),r("div",DR,[o[1]||(o[1]=r("span",{class:"text-green-800 dark:text-green-200 font-semibold"},"Colony Level:",-1)),r("span",FR,b(g(e).colonyLevel.toString()),1)]),r("div",RR,[o[2]||(o[2]=r("span",{class:"text-green-800 dark:text-green-200 font-semibold"},"Available Upgrade Points:",-1)),r("span",UR,b(g(e).availableLevels),1)]),r("div",BR,[o[3]||(o[3]=r("span",{class:"text-green-800 dark:text-green-200 font-semibold"},"Ascension Level:",-1)),r("span",qR,b(g(e).ascensionCount),1)]),g(e).ascensionCount>0?(f(),h("div",OR,[o[4]||(o[4]=r("span",{class:"text-green-800 dark:text-green-200 font-semibold"},"Ascension Bonus:",-1)),r("span",NR,b(s.formattedAscensionMultiplier)+"x",1)])):Q("",!0),r("div",HR,[o[5]||(o[5]=r("span",{class:"text-green-800 dark:text-green-200 font-semibold"},"Crop Capacity:",-1)),r("span",jR,b(s.formattedEffectiveStomachCapacity),1)]),r("div",GR,[o[6]||(o[6]=r("span",{class:"text-green-800 dark:text-green-200 font-semibold"},"Crop Digestion Rate:",-1)),r("span",VR,b(s.formattedDecayRate)+" units/min",1)]),r("div",QR,[o[7]||(o[7]=r("span",{class:"text-green-800 dark:text-green-200 font-semibold"},"True Stomach Capacity:",-1)),r("span",zR,b(s.formattedEffectivePheromoneStomachCapacity),1)]),r("div",WR,[o[8]||(o[8]=r("span",{class:"text-green-800 dark:text-green-200 font-semibold"},"True Stomach Digestion:",-1)),r("span",YR,b(s.formattedPheromoneDecayRate)+" units/min",1)])]))}}),XR={class:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4"},ZR={class:"flex justify-between text-xs text-green-700 dark:text-green-300 mb-1"},JR={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5"},eU={class:"flex justify-between text-xs text-purple-700 dark:text-purple-300 mb-1"},tU={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5"},sU=Ue({__name:"ExperienceProgressBars",props:{formattedExperience:{},formattedExperienceForNextLevel:{},formattedColonyExperience:{},formattedColonyExperienceForNextLevel:{}},setup(t){const e=gt();return(s,o)=>(f(),h("div",XR,[r("div",null,[r("div",ZR,[o[0]||(o[0]=r("span",null,"Mega Ant Experience",-1)),r("span",null,b(s.formattedExperience)+" / "+b(s.formattedExperienceForNextLevel),1)]),r("div",JR,[r("div",{class:"bg-green-500 h-2.5 rounded-full",style:Je(`width: ${g(e).levelProgress}%`)},null,4)]),o[1]||(o[1]=r("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"}," Gained from crop digestion ",-1))]),r("div",null,[r("div",eU,[o[2]||(o[2]=r("span",null,"Colony Experience",-1)),r("span",null,b(s.formattedColonyExperience)+" / "+b(s.formattedColonyExperienceForNextLevel),1)]),r("div",tU,[r("div",{class:"bg-purple-500 h-2.5 rounded-full",style:Je(`width: ${g(e).colonyLevelProgress}%`)},null,4)]),o[3]||(o[3]=r("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"}," Gained from true stomach digestion ",-1))])]))}}),oU={class:"flex flex-wrap gap-2"},rU={class:"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-200 px-2 py-1 rounded-full text-xs sm:text-sm"},nU={class:"bg-purple-100 dark:bg-purple-900/50 text-purple-800 dark:text-purple-200 px-2 py-1 rounded-full text-xs sm:text-sm"},aU={key:0,class:"bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-200 px-2 py-1 rounded-full text-xs sm:text-sm flex items-center"},iU=Ue({__name:"LevelBadges",setup(t){const e=gt();return(s,o)=>(f(),h("div",oU,[r("span",rU," Level "+b(g(e).level.toString()),1),r("span",nU," Colony Lvl "+b(g(e).colonyLevel.toString()),1),g(e).ascensionCount>0?(f(),h("span",aU,[o[0]||(o[0]=r("span",{class:"i-heroicons-arrow-up-circle mr-1"},null,-1)),se(" Ascension "+b(g(e).ascensionCount),1)])):Q("",!0)]))}}),lU={class:"bg-white dark:bg-gray-800 rounded-lg p-3 shadow border border-purple-200 dark:border-purple-700"},cU={class:"flex items-center justify-between"},dU=["disabled"],uU={class:"px-4 py-1 bg-purple-50 dark:bg-purple-900/20 text-purple-800 dark:text-purple-200 font-medium rounded"},mU=["disabled"],pU=Ue({__name:"AscensionRequirementSettings",setup(t){const e=()=>{Vs.value<100&&(Vs.value+=5)},s=()=>{Vs.value>5&&(Vs.value-=5)},o=R(()=>`${Vs.value}%`);return(n,i)=>(f(),h("div",lU,[i[2]||(i[2]=r("div",{class:"flex items-center justify-between mb-2"},[r("h3",{class:"text-sm font-semibold text-purple-700 dark:text-purple-300"},"Ascension Requirement"),r("span",{class:"text-xs px-2 py-1 rounded-full bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300"},"Debug Mode")],-1)),r("div",cU,[r("button",{onClick:s,disabled:g(Vs)<=5,class:"w-8 h-8 flex items-center justify-center bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-lg hover:bg-purple-200 dark:hover:bg-purple-900/50 disabled:opacity-50 disabled:cursor-not-allowed"},i[0]||(i[0]=[r("span",{class:"i-heroicons-minus text-lg"},null,-1)]),8,dU),r("div",uU,b(o.value),1),r("button",{onClick:e,disabled:g(Vs)>=100,class:"w-8 h-8 flex items-center justify-center bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-lg hover:bg-purple-200 dark:hover:bg-purple-900/50 disabled:opacity-50 disabled:cursor-not-allowed"},i[1]||(i[1]=[r("span",{class:"i-heroicons-plus text-lg"},null,-1)]),8,mU)]),i[3]||(i[3]=r("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-2"}," Quests required to unlock ascension (only shown in debug mode) ",-1))]))}}),fU={class:"bg-white dark:bg-gray-800 rounded-xl p-2 sm:p-4 shadow-lg border border-gray-200 dark:border-gray-700 relative"},gU={class:"flex items-center justify-between mb-3 sm:mb-4"},hU={class:"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300 px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold whitespace-nowrap"},bU={class:"flex flex-wrap gap-1 sm:gap-2 mb-3 sm:mb-4"},vU={class:"relative w-full overflow-auto",style:{"min-height":"350px"}},yU={class:"relative z-10"},xU=["data-id","onClick"],kU={class:"text-[10px] sm:text-xs font-semibold text-center overflow-hidden text-ellipsis leading-tight"},_U={key:0,class:"absolute -top-2 -right-2 bg-emerald-500 dark:bg-emerald-400 text-white dark:text-gray-900 rounded-full w-6 h-6 flex items-center justify-center shadow-md"},wU={key:1,class:"absolute -top-2 -right-2 bg-amber-500 dark:bg-amber-400 text-white dark:text-gray-900 rounded-full w-6 h-6 flex items-center justify-center shadow-md animate-pulse"},CU={key:2,class:"absolute -top-2 -right-2 bg-gray-300 dark:bg-gray-500 text-gray-700 dark:text-gray-900 rounded-full text-[10px] px-1 font-bold shadow-md"},SU={key:0,class:"mt-4 sm:mt-6 bg-gray-50 dark:bg-gray-900/30 p-3 sm:p-4 rounded-lg border border-gray-200 dark:border-gray-700"},$U={class:"flex flex-col sm:flex-row items-start justify-between gap-2 sm:gap-4"},EU={class:"flex-grow"},AU={class:"text-gray-600 dark:text-gray-400 text-xs sm:text-sm mb-2 sm:mb-3"},MU={class:"text-left sm:text-right flex-shrink-0 w-full sm:w-auto"},PU={class:"text-xs sm:text-sm font-semibold text-amber-600 dark:text-amber-400 mb-1"},TU=["disabled"],LU={key:0,class:"mt-2 sm:mt-3"},IU={class:"flex items-center mb-1 sm:mb-2"},DU={class:"font-semibold text-xs sm:text-sm"},FU={class:"space-y-1 sm:space-y-1.5"},RU={key:0,class:"i-mdi-multiplication text-blue-500 dark:text-blue-400 mr-1.5 sm:mr-2 flex-shrink-0 mt-0.5 text-sm sm:text-base"},UU={key:1,class:"i-mdi-plus text-green-500 dark:text-green-400 mr-1.5 sm:mr-2 flex-shrink-0 mt-0.5 text-sm sm:text-base"},BU={key:2,class:"i-mdi-check-circle text-emerald-500 dark:text-emerald-400 mr-1.5 sm:mr-2 flex-shrink-0 mt-0.5 text-sm sm:text-base"},qU={class:"font-medium"},OU={key:1,class:"mt-2 sm:mt-3"},NU={class:"flex flex-wrap gap-1 sm:gap-2"},HU={key:2,class:"mt-2 sm:mt-3 bg-emerald-100 dark:bg-emerald-900/30 p-1.5 sm:p-2 rounded-lg text-xs sm:text-sm text-emerald-800 dark:text-emerald-300 flex items-center"},jU=Ue({__name:"AscensionTreeView",setup(t){const e=gt(),{showToast:s}=zt(),o=R(()=>e.getAscensionUpgrades()),n=R(()=>{const B=new Map;return o.value.forEach(k=>{if(k.category&&!B.has(k.category)){const I=k.category.charAt(0).toUpperCase()+k.category.slice(1);B.set(k.category,I)}}),B}),i=R(()=>e.ascensionPoints),l=B=>{if(!B)return"bg-gray-100 dark:bg-gray-800";switch(B){case"core":return"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300 border-yellow-300 dark:border-yellow-800";case"megaAnt":return"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 border-green-300 dark:border-green-800";case"colony":return"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300 border-purple-300 dark:border-purple-800";case"resource":return"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 border-blue-300 dark:border-blue-800";case"qol":return"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300 border-amber-300 dark:border-amber-800";default:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-300 border-gray-300 dark:border-gray-700"}},c=B=>{if(!B)return"i-mdi-star";switch(B){case"core":return"i-mdi-radioactive text-yellow-600 dark:text-yellow-500";case"megaAnt":return"i-mdi-bug text-green-600 dark:text-green-500";case"colony":return"i-mdi-antenna text-purple-600 dark:text-purple-500";case"resource":return"i-mdi-database text-blue-600 dark:text-blue-500";case"qol":return"i-mdi-star text-amber-600 dark:text-amber-500";default:return"i-mdi-star text-gray-600 dark:text-gray-500"}},d=B=>e.hasAscensionUpgrade(B.id)?"border-4 border-emerald-500 dark:border-emerald-400 bg-emerald-50 dark:bg-emerald-900/40 shadow-emerald-500/30 dark:shadow-emerald-400/30 shadow-lg":e.canPurchaseAscensionUpgrade(B.id)?"border-4 border-amber-400 dark:border-amber-300 bg-amber-50 dark:bg-amber-900/40 shadow-amber-400/30 dark:shadow-amber-300/30 shadow-md cursor-pointer hover:shadow-lg hover:shadow-amber-400/40 dark:hover:shadow-amber-300/40 transition-all hover:scale-105":e.areAscensionPrerequisitesMet(B.id)?"border-4 border-gray-300 dark:border-gray-500 bg-gray-50 dark:bg-gray-800 opacity-90 cursor-not-allowed":"border-4 border-gray-200 dark:border-gray-700 bg-gray-100 dark:bg-gray-900 opacity-50 filter grayscale cursor-not-allowed",u=B=>e.hasAscensionUpgrade(B.id)?"bg-emerald-500 text-white cursor-not-allowed font-bold":e.canPurchaseAscensionUpgrade(B.id)?"bg-amber-500 hover:bg-amber-600 dark:bg-amber-600 dark:hover:bg-amber-500 text-white font-bold hover:shadow-md":"bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed",m=B=>{if(!e.canPurchaseAscensionUpgrade(B.id))return;e.purchaseAscensionUpgrade(B.id)?s(`Purchased ${B.name} for ${B.cost} Ascension Points`,"success"):s("Failed to purchase upgrade","error")},p=W(null),y=B=>{p.value=B},v=R(()=>{const B=new Map;return o.value.forEach(k=>{var N,U;const I=((N=k.position)==null?void 0:N.row)||0;B.has(I)||B.set(I,[]),(U=B.get(I))==null||U.push(k)}),B.forEach(k=>{k.sort((I,N)=>{var U,j;return(((U=I.position)==null?void 0:U.col)||0)-(((j=N.position)==null?void 0:j.col)||0)})}),Array.from(B.entries()).sort(([k],[I])=>k-I)});let S=null;const _=W(window.innerWidth<640),C=cc(()=>{_.value=window.innerWidth<640,x()},150);tt(async()=>{await Bt(),S=document.getElementById("connections-svg"),S?x():console.warn("SVG container not found on mount."),window.addEventListener("resize",C)}),fs(()=>{window.removeEventListener("resize",C)});const x=async()=>{if(!S){console.warn("Attempted to draw connections but SVG container is null.");return}if(S.innerHTML="",_.value)return;await Bt();const B=document.querySelectorAll(".ascension-node"),k=new Map,I=S.getBoundingClientRect();if(I.width===0||I.height===0){console.warn("SVG container has zero dimensions, skipping connection drawing.");return}B.forEach(N=>{const U=N.getAttribute("data-id");if(U){const j=N.getBoundingClientRect();j.width>0&&j.height>0?k.set(U,new DOMRect(j.left-I.left+j.width/2,j.top-I.top+j.height/2,j.width,j.height)):console.warn(`Node ${U} has zero dimensions, skipping.`)}}),o.value.forEach(N=>{const U=k.get(N.id);U&&N.prerequisites.forEach(j=>{const ee=k.get(j);if(!ee)return;const ne=[ee.x,ee.y,U.x,U.y];if(!ne.every(re=>Number.isFinite(re))){console.warn(`Invalid coordinates for connection ${j} -> ${N.id}: [${ne.join(", ")}], skipping.`);return}const oe=ee.x,O=ee.y,Y=U.x,G=U.y,de=document.createElementNS("http://www.w3.org/2000/svg","line");de.setAttribute("x1",oe.toString()),de.setAttribute("y1",O.toString()),de.setAttribute("x2",Y.toString()),de.setAttribute("y2",G.toString()),e.hasAscensionUpgrade(j)&&e.hasAscensionUpgrade(N.id)?de.setAttribute("class","stroke-emerald-500 dark:stroke-emerald-400 stroke-[3px]"):e.hasAscensionUpgrade(j)?de.setAttribute("class","stroke-amber-400 dark:stroke-amber-300 stroke-[3px] stroke-dashed"):de.setAttribute("class","stroke-gray-300 dark:stroke-gray-600 stroke-[2px] opacity-60"),de.setAttribute("stroke-width","3"),S==null||S.appendChild(de)})})},$=B=>`${B} AP`,A=B=>{const k=new Set;return B.effects.forEach(I=>{I.category&&k.add(I.category)}),Array.from(k)},M=B=>B?B.replace(/([A-Z])/g," $1").replace(/^./,k=>k.toUpperCase()):"Miscellaneous",P=B=>({megaAntXpGain:"Mega Ant XP Gain",baseStomachCapacity:"Stomach Capacity",decayRate:"Food Digestion Rate",megaAntEfficiency:"Food XP Efficiency",pheromoneStomachCapacity:"Pheromone Stomach Capacity",pheromoneDecayRate:"Pheromone Digestion Rate",pheromoneEfficiency:"Pheromone XP Efficiency",colonyXpGain:"Colony XP Gain",colonyUpgradePower:"Colony Upgrade Power",colonyEfficiency:"Colony Efficiency",epGain:"Evolution Point Gain",pheromoneGain:"Pheromone Essence Gain",globalProduction:"Global Production",worker:"Worker Ant Production",nursery:"Nursery Production",queenChamber:"Queen Chamber Production",colony:"Colony Production",megacolony:"Mega Colony Production",hivemind:"Hivemind Production",antopolis:"Antopolis Production",alateHatchery:"Alate Hatchery Production",upgradeCostReduction:"Upgrade Cost Reduction",offlineProgressRate:"Offline Progress Rate",unlockAscensionTree:"Ascension Tree"})[B]||B.replace(/([A-Z])/g," $1").replace(/^./,I=>I.toUpperCase()),L=(B,k)=>B.effects.filter(I=>I.category===k);return(B,k)=>(f(),h("div",fU,[r("div",gU,[k[1]||(k[1]=r("h3",{class:"text-base sm:text-lg font-bold text-amber-600 dark:text-amber-400"},"Ascension Tree",-1)),r("div",hU,b(g(ie)(i.value))+" AP ",1)]),r("div",bU,[(f(!0),h(Ce,null,De(n.value,([I,N])=>(f(),h("div",{key:I,class:V(["flex items-center px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full text-[10px] sm:text-xs font-medium",l(I)])},[r("span",{class:V([c(I),"mr-1 text-xs sm:text-sm"])},null,2),se(" "+b(N),1)],2))),128))]),r("div",vU,[k[4]||(k[4]=r("svg",{id:"connections-svg",class:"absolute inset-0 w-full h-full pointer-events-none z-0"},null,-1)),r("div",yU,[(f(!0),h(Ce,null,De(v.value,([I,N])=>(f(),h("div",{key:I,class:"flex flex-col sm:flex-row sm:justify-center items-center my-6 sm:my-8 gap-6 sm:gap-12"},[(f(!0),h(Ce,null,De(N,U=>(f(),h("div",{key:U.id,class:"ascension-node relative z-10","data-id":U.id,onClick:j=>y(U)},[r("div",{class:V(["w-16 h-16 sm:w-20 sm:h-20 rounded-lg flex flex-col items-center justify-center p-1 sm:p-2 cursor-pointer transition-all",[l(U.category),d(U)]])},[r("div",{class:V([U.icon||c(U.category),"text-xl sm:text-2xl mb-0.5 sm:mb-1"])},null,2),r("div",kU,b(U.name),1),g(e).hasAscensionUpgrade(U.id)?(f(),h("div",_U,k[2]||(k[2]=[r("span",{class:"i-mdi-check text-sm"},null,-1)]))):g(e).canPurchaseAscensionUpgrade(U.id)?(f(),h("div",wU,k[3]||(k[3]=[r("span",{class:"i-mdi-plus text-sm"},null,-1)]))):g(e).areAscensionPrerequisitesMet(U.id)?(f(),h("div",CU,b(U.cost)+"AP ",1)):Q("",!0)],2)],8,xU))),128))]))),128))])]),p.value?(f(),h("div",SU,[r("div",$U,[r("div",EU,[r("h4",{class:V(["text-base sm:text-lg font-bold mb-1 sm:mb-0",l(p.value.category)])},[r("span",{class:V([p.value.icon||c(p.value.category),"mr-1 sm:mr-2"])},null,2),se(" "+b(p.value.name),1)],2),r("p",AU,b(p.value.description),1)]),r("div",MU,[r("div",PU," Cost: "+b($(p.value.cost)),1),r("button",{onClick:k[0]||(k[0]=I=>m(p.value)),class:V(["px-2 sm:px-3 py-1 rounded text-xs sm:text-sm font-semibold transition-colors w-full sm:w-auto",u(p.value)]),disabled:!g(e).canPurchaseAscensionUpgrade(p.value.id)||g(e).hasAscensionUpgrade(p.value.id)},b(g(e).hasAscensionUpgrade(p.value.id)?"Purchased":"Purchase"),11,TU)])]),p.value.effects.length>0?(f(),h("div",LU,[k[5]||(k[5]=r("h5",{class:"text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1 sm:mb-2"},"Effects:",-1)),(f(!0),h(Ce,null,De(A(p.value),I=>(f(),h("div",{key:I,class:V(["mb-2 sm:mb-3 p-1.5 sm:p-2 rounded-lg",l(I)])},[r("div",IU,[r("span",{class:V([c(I),"mr-1.5 sm:mr-2 text-sm sm:text-base"])},null,2),r("span",DU,b(M(I))+" Effects",1)]),r("ul",FU,[(f(!0),h(Ce,null,De(L(p.value,I),(N,U)=>(f(),h("li",{key:U,class:"flex items-start text-xs sm:text-sm p-1 sm:p-1.5 bg-white/60 dark:bg-gray-800/60 rounded"},[N.effectMethod==="multiplicative_increase"?(f(),h("span",RU)):N.effectMethod==="additive"?(f(),h("span",UU)):(f(),h("span",BU)),r("div",null,[r("div",qU,b(P(N.target)),1),r("div",null,b(N.formatEffect(N.value)),1)])]))),128))])],2))),128))])):Q("",!0),p.value.prerequisites.length>0?(f(),h("div",OU,[k[6]||(k[6]=r("h5",{class:"text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1 sm:mb-2"},"Prerequisites:",-1)),r("div",NU,[(f(!0),h(Ce,null,De(p.value.prerequisites,I=>{var N;return f(),h("div",{key:I,class:V(["text-[10px] sm:text-xs px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full",g(e).hasAscensionUpgrade(I)?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-800 dark:text-emerald-300":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"])},b(((N=o.value.find(U=>U.id===I))==null?void 0:N.name)||I),3)}),128))])])):Q("",!0),g(e).hasAscensionUpgrade(p.value.id)?(f(),h("div",HU,k[7]||(k[7]=[r("span",{class:"i-mdi-check-circle text-base sm:text-lg mr-1 sm:mr-2"},null,-1),r("span",null,"This upgrade is active and its effects are currently applied.",-1)]))):Q("",!0)])):Q("",!0)]))}}),og=st(jU,[["__scopeId","data-v-78f1f7b7"]]),GU={class:"space-y-4"},VU={key:0,class:"mb-4"},QU={class:"bg-green-50 dark:bg-green-900/20 rounded-xl p-3 sm:p-4 shadow-md border border-green-200 dark:border-green-800/50"},zU={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},WU={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-3 sm:p-4 mb-4"},YU={class:"flex flex-col sm:flex-row sm:items-center justify-between mb-2 gap-2"},KU=["onClick"],XU={key:0,class:"pt-4"},ZU={key:1,class:"mt-6"},JU=Ue({__name:"MegaAntTab",setup(t){const e=Vn(),s=gt(),o=vt(),n=os(),{showToast:i}=zt(),{isClosing:l,handleClose:c}=io(),{canAscend:d,ascensionLockExplanation:u}=V0(),m=W(!1),p=W(null);R({get:()=>s.showHelpSection,set:H=>s.toggleHelpSection(H)});const y=W(!1),v=W(!1),S=R(()=>s.level.gte(20)||s.ascensionCount>0),_=W(!1),C=W(null),x=R(()=>ie(s.stomachContent,1)),$=R(()=>ie(s.pheromoneStomachContent,1)),A=R(()=>a(s.effectiveDecayRate).mul(60).toFixed(1)),M=R(()=>a(s.effectivePheromoneDecayRate).mul(60).toFixed(1)),P=R(()=>ie(s.effectiveStomachCapacity)),L=R(()=>ie(s.effectivePheromoneStomachCapacity)),B=R(()=>s.decayEfficiencyMultiplier.toFixed(2)),k=R(()=>s.pheromoneEfficiencyMultiplier.toFixed(2)),I=R(()=>s.ascensionMultiplier.toFixed(2)),N=R(()=>s.ascensionMultiplier.add(a(.25)).toFixed(2)),U=R(()=>ie(s.experience)),j=R(()=>ie(s.experienceForNextLevel)),ee=R(()=>ie(s.colonyExperience)),ne=R(()=>ie(s.colonyExperienceForNextLevel)),oe=H=>ie(H,1),O=H=>ie(H,1),Y=H=>{const T=Date.now(),D=Math.floor((T-H)/1e3);return D<60?`${D}s ago`:D<3600?`${Math.floor(D/60)}m ago`:`${Math.floor(D/3600)}h ago`},G=(H,T)=>Object.values(as).includes(H)?s.formatUpgradeImprovement(H,T):Object.values(Rs).includes(H)?s.formatColonyUpgradeImprovement(H,T):"",de=H=>{s.purchaseUpgrade(H)},re=H=>{s.purchaseColonyUpgrade(H)},he=H=>{const T=H;return s.isUpgradeMaxed(T)?"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300 cursor-not-allowed":s.canUpgrade(T)?"bg-emerald-500 hover:bg-emerald-600 dark:bg-emerald-600 dark:hover:bg-emerald-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed"},ve=H=>{const T=H;return s.isColonyUpgradeMaxed(T)?"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300 cursor-not-allowed":s.canColonyUpgrade(T)?"bg-purple-500 hover:bg-purple-600 dark:bg-purple-600 dark:hover:bg-purple-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed"},Se=H=>{const T=H;return s.isUpgradeMaxed(T)?"Maxed":"Upgrade (1 level)"},Me=H=>{const T=H;return s.isColonyUpgradeMaxed(T)?"Maxed":"Upgrade (1 level)"},Oe=()=>{try{if(o.food.lte(0)){p.value="No food available to feed",setTimeout(()=>{p.value=null},3e3);return}if(s.isStomachFull){p.value="Crop is full, wait for digestion",setTimeout(()=>{p.value=null},3e3);return}m.value=!0;const H=new be(o.food.toString()),T=a(Math.max(1,Math.floor(Math.log10(parseFloat(H.toString()))))),{xpValue:D,foodConsumed:X}=s.feedAnt(H);o.food=o.food.sub(X),p.value=`Fed ${ie(X)} food to the Mega Ant, potential XP: ${ie(D)}`,setTimeout(()=>{p.value=null},3e3)}catch(H){console.error("Error feeding Mega Ant:",H),p.value="An error occurred",setTimeout(()=>{p.value=null},3e3)}finally{m.value=!1}},He=()=>{try{if(n.pheromoneEssence.lte(0)){C.value="No pheromone essence available to feed",setTimeout(()=>{C.value=null},3e3);return}if(s.isPheromoneStomachFull){C.value="True stomach is full, wait for digestion",setTimeout(()=>{C.value=null},3e3);return}_.value=!0;const H=new be(n.pheromoneEssence.toString()),{xpValue:T,essenceConsumed:D}=s.feedAntPheromone(H);n.pheromoneEssence=n.pheromoneEssence.sub(D),C.value=`Fed ${ie(D)} pheromone essence to the Mega Ant, potential XP: ${ie(T)}`,setTimeout(()=>{C.value=null},3e3)}catch(H){console.error("Error feeding pheromone essence to Mega Ant:",H),C.value="An error occurred",setTimeout(()=>{C.value=null},3e3)}finally{_.value=!1}},we=()=>{if(!d.value){i(u.value,"error"),_e();return}v.value=!0;try{console.log("Starting ascension process...");const H=s.ascend();H!==!1?(i(`Ascension ${H.ascensionCount} complete! Gained ${ie(H.pointsGained)} Ascension Points.`,"success"),setTimeout(()=>{i("Evolution Points and colony progress were reset, but your Mega Ant upgrades remain!","info")},2e3),setTimeout(()=>{const T=s.ascensionMultiplier.sub(a(1)).mul(100).toFixed(0);i(`You now have +${T}% XP gain from Ascension level ${H.ascensionCount}`,"info")},4e3),y.value=!1,console.log("Ascension complete:",H.ascensionCount,"Points gained:",ie(H.pointsGained))):i("Ascension failed due to quest requirements","error")}catch(H){console.error("Error during ascension:",H),i("An error occurred during ascension","error")}finally{v.value=!1}e.push("/")},_e=()=>{c(()=>{y.value=!1})},pe=W("megaAnt"),me=[{id:"megaAnt",label:"Mega Ant",icon:"i-mdi-bug"},{id:"colony",label:"Colony",icon:"i-mdi-antenna"},{id:"ascension",label:"Ascension",icon:"i-mdi-star"}],le=vr(),z=W(!1);tt(()=>{K(),window.addEventListener("resize",K)}),Ms(()=>{window.removeEventListener("resize",K)});const K=()=>{z.value=window.innerWidth<768};return(H,T)=>(f(),h(Ce,null,[r("div",GU,[Fe(gR),g(le)?(f(),h("div",VU,[Fe(pU)])):Q("",!0),r("div",QU,[Fe(_R,{formattedAscensionMultiplier:I.value,onShowAscensionModal:T[0]||(T[0]=D=>y.value=!0)},null,8,["formattedAscensionMultiplier"]),r("div",zU,[Fe(PR,{isFeeding:m.value,isFeedingPheromone:_.value},null,8,["isFeeding","isFeedingPheromone"]),Fe(KR,{formattedAscensionMultiplier:I.value,formattedEffectiveStomachCapacity:P.value,formattedDecayRate:A.value,formattedEffectivePheromoneStomachCapacity:L.value,formattedPheromoneDecayRate:M.value},null,8,["formattedAscensionMultiplier","formattedEffectiveStomachCapacity","formattedDecayRate","formattedEffectivePheromoneStomachCapacity","formattedPheromoneDecayRate"])]),r("div",WU,[r("div",YU,[T[2]||(T[2]=r("h3",{class:"font-bold text-green-800 dark:text-green-200"},"Your Mega Ant",-1)),Fe(iU)]),Fe(sU,{formattedExperience:U.value,formattedExperienceForNextLevel:j.value,formattedColonyExperience:ee.value,formattedColonyExperienceForNextLevel:ne.value},null,8,["formattedExperience","formattedExperienceForNextLevel","formattedColonyExperience","formattedColonyExperienceForNextLevel"]),Fe(dR,{formattedStomachContent:x.value,formattedEffectiveStomachCapacity:P.value,formattedPheromoneStomachContent:$.value,formattedEffectivePheromoneStomachCapacity:L.value,formattedDecayRate:A.value,formattedPheromoneDecayRate:M.value,isFeeding:m.value,isFeedingPheromone:_.value,feedingResult:p.value,feedingPheromoneResult:C.value,feedAllToMegaAnt:Oe,feedPheromoneToMegaAnt:He},null,8,["formattedStomachContent","formattedEffectiveStomachCapacity","formattedPheromoneStomachContent","formattedEffectivePheromoneStomachCapacity","formattedDecayRate","formattedPheromoneDecayRate","isFeeding","isFeedingPheromone","feedingResult","feedingPheromoneResult"]),Fe(P7,{formatDigestionAmount:oe,formatTimestamp:Y,formatXpGained:O}),Fe(TD,{activeTab:pe.value,"onUpdate:activeTab":T[1]||(T[1]=D=>pe.value=D),formattedEffectiveStomachCapacity:P.value,formattedEffectivePheromoneStomachCapacity:L.value,formattedDecayEfficiencyMultiplier:B.value,formattedPheromoneEfficiencyMultiplier:k.value,formatUpgradeImprovement:G,buttonClass:he,upgradeButtonText:Se,colonyButtonClass:ve,colonyUpgradeButtonText:Me,purchaseUpgrade:de,purchaseColonyUpgrade:re},{default:mt(()=>[(f(),h(Ce,null,De(me,D=>r("button",{key:D.id,onClick:X=>pe.value=D.id,class:V(["flex-1 py-2 px-4 text-sm font-medium transition-colors rounded-t-lg",pe.value===D.id?"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300 border-b-2 border-amber-500":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"])},[r("span",{class:V([D.icon,"mr-1"])},null,2),se(" "+b(D.label),1)],10,KU)),64))]),_:1},8,["activeTab","formattedEffectiveStomachCapacity","formattedEffectivePheromoneStomachCapacity","formattedDecayEfficiencyMultiplier","formattedPheromoneEfficiencyMultiplier"]),pe.value==="ascension"?(f(),h("div",XU,[Fe(og)])):Q("",!0),Fe(EF,{formattedEffectiveStomachCapacity:P.value,formattedEffectivePheromoneStomachCapacity:L.value,formattedDecayEfficiencyMultiplier:B.value,formattedPheromoneEfficiencyMultiplier:k.value,formatUpgradeImprovement:G,buttonClass:he,upgradeButtonText:Se,colonyButtonClass:ve,colonyUpgradeButtonText:Me,purchaseUpgrade:de,purchaseColonyUpgrade:re},null,8,["formattedEffectiveStomachCapacity","formattedEffectivePheromoneStomachCapacity","formattedDecayEfficiencyMultiplier","formattedPheromoneEfficiencyMultiplier"]),z.value?Q("",!0):(f(),h("div",ZU,[Fe(og)]))])])]),y.value?(f(),rt(p7,{key:0,isClosing:g(l),isAscending:v.value,isAscensionRecommended:S.value,formattedAscensionMultiplier:I.value,formattedNextAscensionMultiplier:N.value,onClose:_e,onAscend:we},null,8,["isClosing","isAscending","isAscensionRecommended","formattedAscensionMultiplier","formattedNextAscensionMultiplier"])):Q("",!0)],64))}}),e9=st(JU,[["__scopeId","data-v-9a5fa255"]]),t9={class:"bg-gradient-to-br from-red-100 to-red-50 dark:from-red-900/40 dark:to-red-800/30 rounded-xl p-3 shadow-md"},s9={class:"flex items-center justify-between mb-2"},o9={class:"text-xs bg-red-900/30 dark:bg-red-950/50 px-2 py-0.5 rounded-full whitespace-nowrap"},r9={class:"w-full h-2 bg-red-900/30 dark:bg-red-950/50 rounded-full overflow-hidden"},n9={class:"text-xs text-red-600 dark:text-red-400 mt-1"},a9=Ue({__name:"AdventureProgressBar",setup(t){const e=As();return(s,o)=>(f(),h("div",t9,[r("div",s9,[o[0]||(o[0]=r("h2",{class:"text-base font-bold flex items-center"},[r("span",{class:"i-heroicons-clock text-red-700 dark:text-red-500 mr-2"}),se(" Adventure Progress ")],-1)),r("span",o9,b(g(e).adventureTimeRemaining)+"s ",1)]),r("div",r9,[r("div",{class:"h-full bg-gradient-to-r from-red-600 to-red-500 dark:from-red-500 dark:to-red-400 transition-all duration-100 ease-linear",style:Je({width:`${g(e).adventureProgressPercentage}%`})},null,4)]),r("div",n9,b(g(e).adventureProgressPercentage)+"% ",1)]))}}),lm="/assets/ant_legion_commander-C5cKxXcU.png",cm="/assets/ant_queen_guardian-I7ddOW1u.png",dm="/assets/ant_scout_master-qaafyEy9.png",um="/assets/ant_tactician-C-GWp6T6.png",mm="/assets/ant_training_master-DhI7Ty-N.png",pm="/assets/apocalyptic_termites-C-SwTaRu.png",fm="/assets/army_ant-BMrIvFIN.png",gm="/assets/beetle-DFb7nM7X.png",hm="/assets/cockroach-Cub6YCf-.png",bm="/assets/colossal_cockroach-BhWt9zbG.png",vm="/assets/endless_ant_swarms-CyPswJ6S.png",ym="/assets/fire_ant-CNsMjxeh.png",xm="/assets/galactic_moth-D9hG3_XU.png",km="/assets/giant_firefly-Dkpiolxv.png",_m="/assets/giant_moth-BIUE9a9k.png",wm="/assets/giant_stag_beetle-BUEGxrHm.png",Cm="/assets/grasshopper-x_AIOsQP.png",Sm="/assets/housefly-CSRtOeq8.png",$m="/assets/ladybug-DL6Y_zcL.png",Em="/assets/mosquito-Dp9dA8Y1.png",Am="/assets/mutant_fly-CJ0cMboN.png",Mm="/assets/quantum_beetle--T5ffHWC.png",Pm="/assets/queen_wasp-DesT5ckY.png",Tm="/assets/radioactive_spider-D_F9GcKn.png",Lm="/assets/safe-3YavcRxt.png",Im="/assets/scorpion-D22Gkv9_.png",Dm="/assets/soldier-BsKI4Heo.png",Fm="/assets/stag_beetle_swarm-_rP6jdjp.png",Rm="/assets/swarm_lord-diHnktQ9.png",Um="/assets/tarantula-Cv5WKZZQ.png",Bm="/assets/termite-HzWLYfUy.png",qm="/assets/ultra_beetle-BKBsMMxN.png",Om="/assets/wasp-LxnO7bdh.png",Nm="/assets/worker-ChD_3XO8.png";function Hm(){return{analyzeImage:e=>new Promise(s=>{const o=new Image;o.crossOrigin="Anonymous",o.onload=()=>{const n=document.createElement("canvas"),i=n.getContext("2d");if(!i){s({dominantColor:"#ffffff",backgroundColor:"#f3f4f6",borderColor:"#e5e7eb"});return}n.width=32,n.height=32,i.drawImage(o,0,0,n.width,n.height);const c=i.getImageData(0,0,n.width,n.height).data;let d=0,u=0,m=0,p=0;for(let _=0;_<c.length;_+=16)d+=c[_],u+=c[_+1],m+=c[_+2],p++;d=Math.round(d/p),u=Math.round(u/p),m=Math.round(m/p);const y=(.299*d+.587*u+.114*m)/255,v=y>.5?"#f3f4f6":"#1f2937",S=y>.5?"#e5e7eb":"#374151";console.log("dominantColor",`rgb(${d}, ${u}, ${m})`),console.log("backgroundColor",v),console.log("borderColor",S),console.log("luminance",y),s({dominantColor:`rgb(${d}, ${u}, ${m})`,backgroundColor:v,borderColor:S})},o.onerror=()=>{s({dominantColor:"#ffffff",backgroundColor:"#f3f4f6",borderColor:"#e5e7eb"})},o.src=e})}}const i9={class:"flex flex-col items-center mb-4"},l9={class:"relative w-24 h-24 mb-2"},c9={class:"relative z-10 w-full h-full"},d9=["src","alt"],u9={key:1,class:"i-heroicons-bug-ant text-amber-700 dark:text-amber-500 text-4xl absolute inset-0 flex items-center justify-center"},m9={class:"flex flex-col items-center gap-2"},p9={class:"text-base font-bold text-amber-800 dark:text-amber-200"},f9={class:"flex items-center gap-2"},g9={key:0,class:"text-xs bg-amber-100 dark:bg-amber-900/50 px-2 py-0.5 rounded-full text-amber-800 dark:text-amber-300 font-medium flex items-center"},h9={class:"text-xs bg-amber-200 dark:bg-amber-900/50 px-2 py-0.5 rounded-full text-amber-800 dark:text-amber-300 font-medium"},b9={class:"w-full h-2.5 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden mb-3"},v9={key:0,class:"mb-3 bg-amber-100 dark:bg-amber-900/30 rounded-md p-2 text-xs"},y9={class:"flex items-center justify-between mb-1"},x9={class:"flex items-center"},k9={class:"font-medium text-amber-800 dark:text-amber-300"},_9={class:"text-amber-700 dark:text-amber-400"},w9={key:0,class:"w-full h-1.5 bg-amber-200 dark:bg-amber-800 rounded-full overflow-hidden"},C9={class:"grid grid-cols-2 gap-2 mb-2"},S9={class:"space-y-1"},$9={class:"bg-amber-100/70 dark:bg-amber-900/30 p-1.5 rounded text-xs flex justify-between"},E9={class:"font-medium text-amber-800 dark:text-amber-300"},A9={class:"bg-amber-100/70 dark:bg-amber-900/30 p-1.5 rounded text-xs flex justify-between"},M9={class:"font-medium text-amber-800 dark:text-amber-300"},P9={class:"bg-amber-100/70 dark:bg-amber-900/30 p-1.5 rounded text-xs flex justify-between"},T9={class:"font-medium text-amber-800 dark:text-amber-300"},L9={class:"space-y-1"},I9={class:"bg-amber-100/70 dark:bg-amber-900/30 p-1.5 rounded text-xs flex justify-between"},D9={class:"font-medium text-amber-800 dark:text-amber-300"},F9={class:"bg-amber-100/70 dark:bg-amber-900/30 p-1.5 rounded text-xs flex justify-between"},R9={class:"font-medium text-amber-800 dark:text-amber-300"},U9={class:"bg-amber-100/70 dark:bg-amber-900/30 p-1.5 rounded text-xs flex justify-between"},B9={class:"font-medium text-amber-800 dark:text-amber-300"},q9={class:"bg-amber-100/70 dark:bg-amber-900/30 p-2 rounded text-xs space-y-1 mb-3"},O9={class:"flex justify-between"},N9={class:"font-medium text-amber-800 dark:text-amber-300"},H9={class:"flex justify-between"},j9={class:"font-medium text-amber-800 dark:text-amber-300"},G9={class:"flex justify-between"},V9={class:"font-medium text-amber-800 dark:text-amber-300"},Q9=Ue({__name:"CombatStatusCard",props:{bug:{}},setup(t){const e=t,s=Xs(),o=ps(),n=Vt(),{analyzeImage:i}=Hm(),l=W("#f3f4f6"),c=W("#e5e7eb"),d=R(()=>!n.activeQuest||!e.bug?!1:n.activeQuest.goals&&n.activeQuest.goals.length>0?n.activeQuest.goals.some(A=>A.type===Gt.KILL_BUGS&&(!A.target||A.target===e.bug.id)):!1),u=R(()=>{if(!d.value||!n.activeQuest)return null;const A=n.activeQuest.goals.find(M=>M.type===Gt.KILL_BUGS&&(!M.target||M.target===e.bug.id));return A?{title:n.activeQuest.title,currentAmount:A.currentAmount,requiredAmount:A.requiredAmount,progress:A.currentAmount instanceof be&&A.requiredAmount instanceof be?`${ie(A.currentAmount)}/${ie(A.requiredAmount)}`:`${A.currentAmount}/${A.requiredAmount}`}:null}),m=R(()=>e.bug?e.bug.health.div(e.bug.maxHealth).mul(100).toNumber():0),p=R(()=>o.calculateDamage(o.playerDamage,e.bug.defense)),y=R(()=>o.calculateDamage(e.bug.damage,o.playerDefense)),v=R(()=>e.bug.health.div(p.value).ceil()),S=R(()=>o.playerMaxHealth.div(y.value).floor()),_=R(()=>{const A=s.bugs.findIndex(P=>P.id===e.bug.id),M=be.fromNumber(10).mul(be.pow(1.2,A));return A>50?M.mul(be.fromNumber(50+(A-50)*.5)):M}),C=R(()=>{const A=s.bugs.findIndex(P=>P.id===e.bug.id),M=be.fromNumber(5).mul(be.pow(1.15,A));return A>50?M.mul(be.fromNumber(50+(A-50)*.3)).floor():M.floor()}),x=(A,M)=>{try{if(A instanceof be&&M instanceof be)return Math.min(100,A.div(M).toNumber()*100);if(typeof A=="string"&&typeof M=="string"){const P=new be(A),L=new be(M);return Math.min(100,P.div(L).toNumber()*100)}else{const P=A instanceof be?A:new be(A),L=M instanceof be?M:new be(M);return Math.min(100,P.div(L).toNumber()*100)}}catch(P){return console.error("Error calculating progress percentage:",P),0}},$=R(()=>{try{return new URL(Object.assign({"../../assets/bugs/ant_legion_commander.png":lm,"../../assets/bugs/ant_queen_guardian.png":cm,"../../assets/bugs/ant_scout_master.png":dm,"../../assets/bugs/ant_tactician.png":um,"../../assets/bugs/ant_training_master.png":mm,"../../assets/bugs/apocalyptic_termites.png":pm,"../../assets/bugs/army_ant.png":fm,"../../assets/bugs/beetle.png":gm,"../../assets/bugs/cockroach.png":hm,"../../assets/bugs/colossal_cockroach.png":bm,"../../assets/bugs/endless_ant_swarms.png":vm,"../../assets/bugs/fire_ant.png":ym,"../../assets/bugs/galactic_moth.png":xm,"../../assets/bugs/giant_firefly.png":km,"../../assets/bugs/giant_moth.png":_m,"../../assets/bugs/giant_stag_beetle.png":wm,"../../assets/bugs/grasshopper.png":Cm,"../../assets/bugs/housefly.png":Sm,"../../assets/bugs/ladybug.png":$m,"../../assets/bugs/mosquito.png":Em,"../../assets/bugs/mutant_fly.png":Am,"../../assets/bugs/quantum_beetle.png":Mm,"../../assets/bugs/queen_wasp.png":Pm,"../../assets/bugs/radioactive_spider.png":Tm,"../../assets/bugs/safe.png":Lm,"../../assets/bugs/scorpion.png":Im,"../../assets/bugs/soldier.png":Dm,"../../assets/bugs/stag_beetle_swarm.png":Fm,"../../assets/bugs/swarm_lord.png":Rm,"../../assets/bugs/tarantula.png":Um,"../../assets/bugs/termite.png":Bm,"../../assets/bugs/ultra_beetle.png":qm,"../../assets/bugs/wasp.png":Om,"../../assets/bugs/worker.png":Nm})[`../../assets/bugs/${e.bug.id}.png`],import.meta.url).href}catch{return null}});return tt(async()=>{if($.value){const A=await i($.value);l.value=A.backgroundColor,c.value=A.borderColor}}),We(()=>e.bug.id,async A=>{if($.value){const M=await i($.value);l.value=M.backgroundColor,c.value=M.borderColor}}),(A,M)=>(f(),h("div",{class:V(["bg-gradient-to-br rounded-xl p-3 shadow-md border h-full transition-all duration-200",[d.value?"from-amber-100/80 to-amber-50/80 dark:from-amber-900/30 dark:to-amber-800/20 border-2 border-amber-400 dark:border-amber-600":"from-amber-100 to-amber-50 dark:from-amber-900/40 dark:to-amber-800/30 border-2 border-amber-300 dark:border-amber-700"]])},[r("div",i9,[r("div",l9,[r("div",{class:"absolute inset-0 rounded-full shadow-md border-2",style:Je({backgroundColor:l.value,borderColor:c.value})},null,4),r("div",c9,[$.value?(f(),h("img",{key:0,src:$.value,alt:A.bug.name,class:"w-full h-full object-contain p-1"},null,8,d9)):(f(),h("span",u9))])]),r("div",m9,[r("h2",p9,b(A.bug.name),1),r("div",f9,[d.value?(f(),h("span",g9,M[0]||(M[0]=[r("span",{class:"i-heroicons-clipboard-document-check mr-1"},null,-1),se(" Quest Target ")]))):Q("",!0),r("span",h9,b(Math.round(m.value))+"% HP ",1)])])]),r("div",b9,[r("div",{class:"h-full bg-amber-500 dark:bg-amber-600 rounded-full transition-all duration-200",style:Je(`width: ${m.value}%`)},null,4)]),d.value&&u.value?(f(),h("div",v9,[r("div",y9,[r("div",x9,[M[1]||(M[1]=r("span",{class:"i-heroicons-flag text-amber-600 dark:text-amber-400 mr-1"},null,-1)),r("span",k9,b(u.value.title),1)]),r("span",_9,b(u.value.progress),1)]),u.value.currentAmount&&u.value.requiredAmount?(f(),h("div",w9,[r("div",{class:"h-full bg-amber-500 dark:bg-amber-600 rounded-full",style:Je(`width: ${x(u.value.currentAmount,u.value.requiredAmount)}%`)},null,4)])):Q("",!0)])):Q("",!0),r("div",C9,[r("div",S9,[M[5]||(M[5]=r("h3",{class:"text-sm font-semibold text-amber-800 dark:text-amber-300 mb-1"},"Combat Stats",-1)),r("div",$9,[M[2]||(M[2]=r("span",{class:"text-amber-700 dark:text-amber-400"},"Health:",-1)),r("span",E9,b(g(ie)(A.bug.health))+" / "+b(g(ie)(A.bug.maxHealth)),1)]),r("div",A9,[M[3]||(M[3]=r("span",{class:"text-amber-700 dark:text-amber-400"},"Damage:",-1)),r("span",M9,b(g(ie)(A.bug.damage)),1)]),r("div",P9,[M[4]||(M[4]=r("span",{class:"text-amber-700 dark:text-amber-400"},"Defense:",-1)),r("span",T9,b(g(ie)(A.bug.defense)),1)])]),r("div",L9,[M[9]||(M[9]=r("h3",{class:"text-sm font-semibold text-amber-800 dark:text-amber-300 mb-1"},"Rewards",-1)),r("div",I9,[M[6]||(M[6]=r("span",{class:"text-amber-700 dark:text-amber-400"},"Food:",-1)),r("span",D9,b(g(ie)(_.value)),1)]),r("div",F9,[M[7]||(M[7]=r("span",{class:"text-amber-700 dark:text-amber-400"},"Essence:",-1)),r("span",R9,b(g(ie)(C.value)),1)]),r("div",U9,[M[8]||(M[8]=r("span",{class:"text-amber-700 dark:text-amber-400"},"Time to Kill:",-1)),r("span",B9,b(g(ie)(v.value))+" hits",1)])])]),r("div",q9,[r("div",O9,[M[10]||(M[10]=r("span",{class:"text-amber-700 dark:text-amber-400"},"You deal:",-1)),r("span",N9,b(g(ie)(p.value))+" per hit",1)]),r("div",H9,[M[11]||(M[11]=r("span",{class:"text-amber-700 dark:text-amber-400"},"You take:",-1)),r("span",j9,b(g(ie)(y.value))+" per hit",1)]),r("div",G9,[M[12]||(M[12]=r("span",{class:"text-amber-700 dark:text-amber-400"},"You survive:",-1)),r("span",V9,b(g(ie)(S.value))+" hits",1)])]),M[13]||(M[13]=r("div",{class:"text-center text-xs text-amber-700 dark:text-amber-400"}," To change enemies, select a different bug from the Adventure Map below. ",-1))],2))}}),z9={class:"bg-gradient-to-br from-red-100 to-red-50 dark:from-red-900/40 dark:to-red-800/30 rounded-xl p-3 shadow-md h-full"},W9={class:"flex flex-col items-center mb-4"},Y9={class:"relative w-24 h-24 mb-2"},K9={class:"relative z-10 w-full h-full"},X9=["src"],Z9={key:1,class:"i-heroicons-user-circle text-red-700 dark:text-red-500 text-4xl absolute inset-0 flex items-center justify-center"},J9={class:"flex items-center gap-2"},eB={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-red-200 dark:border-red-700 mb-2"},tB={class:"text-xs text-red-700 dark:text-red-400 font-medium flex justify-between"},sB={class:"flex items-center gap-1"},oB={key:0,class:"text-2xs bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-300 px-1 py-0.5 rounded"},rB={class:"h-2 bg-red-100 dark:bg-red-900/50 rounded-full mt-1 overflow-hidden"},nB={class:"text-xs text-red-600 dark:text-red-400 mt-1"},aB={class:"grid grid-cols-3 gap-2 mb-2"},iB={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-red-200 dark:border-red-700"},lB={class:"flex flex-col"},cB={class:"text-sm font-bold flex items-center"},dB={key:0,class:"mt-0.5"},uB={class:"text-2xs bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-300 px-1 py-0.5 rounded"},mB={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-red-200 dark:border-red-700"},pB={class:"flex flex-col"},fB={class:"text-sm font-bold flex items-center"},gB={key:0,class:"mt-0.5"},hB={class:"text-2xs bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-300 px-1 py-0.5 rounded"},bB={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-red-200 dark:border-red-700"},vB={class:"flex flex-col"},yB={class:"text-sm font-bold flex items-center"},xB={key:0,class:"mt-0.5"},kB={class:"text-2xs bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-300 px-1 py-0.5 rounded"},_B={class:"flex flex-col gap-2"},wB={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-red-200 dark:border-red-700 flex items-center"},CB={class:"flex items-center gap-2 text-xs text-red-700 dark:text-red-400 cursor-pointer"},SB={key:0,class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-red-200 dark:border-red-700 flex items-center"},$B={class:"flex items-center gap-2 text-xs text-red-700 dark:text-red-400 cursor-pointer"},EB={key:1,class:"relative tooltip-container"},AB={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-gray-300 dark:border-gray-700 flex items-center opacity-75"},MB={class:"ml-auto flex items-center"},PB={class:"mt-1 text-sm font-medium text-gray-500 dark:text-gray-400"},TB=Ue({__name:"PlayerStatsCard",setup(t){const e=ps(),s=Vt(),o=ct(),{analyzeImage:n}=Hm(),i=W("#f3f4f6"),l=W("#e5e7eb"),c=W(!1),d=()=>{c.value=!c.value},u=B=>{B.target.closest(".tooltip-container")||(c.value=!1)};tt(async()=>{if(document.addEventListener("click",u),C.value){const B=await n(C.value);i.value=B.backgroundColor,l.value=B.borderColor}}),Ms(()=>{document.removeEventListener("click",u)});const m=R(()=>ie(e.currentHealth)),p=R(()=>ie(e.playerMaxHealth)),y=R(()=>ie(e.playerDamage)),v=R(()=>ie(e.playerRegen)),S=R(()=>ie(e.playerDefense)),_=R(()=>e.playerMaxHealth.eq(0)?0:e.currentHealth.div(e.playerMaxHealth).mul(100).toNumber()),C=R(()=>{try{return new URL("/assets/player-CETUAJX7.png",import.meta.url).href}catch{return null}});R(()=>s.activeQuest?s.activeQuest.goals.some(B=>B.type==="kill_bugs"):!1);const x=R(()=>{const B=o.getUpgrade("unlockAutoQuestAdvance");return B?ie(B.cost):"250"}),$=R(()=>{const B=e.getStatMultiplier("damage");return L(B)}),A=R(()=>{const B=e.getStatMultiplier("health");return L(B)}),M=R(()=>{const B=e.getStatMultiplier("defense");return L(B)}),P=R(()=>{const B=e.getStatMultiplier("regen");return L(B)});function L(B){if(!B||B.eq(1))return null;const k=B.minus(1);return`+${dt(k)}`}return(B,k)=>(f(),h("section",z9,[r("div",W9,[r("div",Y9,[r("div",{class:"absolute inset-0 rounded-full shadow-md border-2",style:Je({backgroundColor:i.value,borderColor:l.value})},null,4),r("div",K9,[C.value?(f(),h("img",{key:0,src:C.value,alt:"Player",class:"w-full h-full object-contain p-1"},null,8,X9)):(f(),h("span",Z9))])]),r("div",J9,[k[2]||(k[2]=r("h2",{class:"text-base font-bold text-red-800 dark:text-red-200"},"Player Stats",-1)),r("span",{class:V(["text-xs px-2 py-0.5 rounded-full",g(e).isDead?"bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300":"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300"])},b(g(e).isDead?"Dead":"Alive"),3)])]),r("div",eB,[r("div",tB,[r("span",sB,[k[3]||(k[3]=se(" Health ")),A.value?(f(),h("span",oB,b(A.value),1)):Q("",!0)]),r("span",null,b(Math.round(_.value))+"%",1)]),r("div",rB,[r("div",{class:"h-full bg-gradient-to-r from-red-600 to-red-500 dark:from-red-500 dark:to-red-400 transition-all duration-300 ease-out",style:Je({width:`${_.value}%`})},null,4)]),r("div",nB,b(m.value)+" / "+b(p.value),1)]),r("div",aB,[r("div",iB,[k[5]||(k[5]=r("div",{class:"text-xs text-red-700 dark:text-red-400 font-medium"},"Attack",-1)),r("div",lB,[r("div",cB,[k[4]||(k[4]=r("span",{class:"i-heroicons-bolt text-red-600 dark:text-red-500 mr-1 text-xs"},null,-1)),se(" "+b(y.value),1)]),$.value?(f(),h("div",dB,[r("span",uB,b($.value),1)])):Q("",!0)])]),r("div",mB,[k[7]||(k[7]=r("div",{class:"text-xs text-red-700 dark:text-red-400 font-medium"},"Defense",-1)),r("div",pB,[r("div",fB,[k[6]||(k[6]=r("span",{class:"i-heroicons-shield-check text-red-600 dark:text-red-500 mr-1 text-xs"},null,-1)),se(" "+b(S.value),1)]),M.value?(f(),h("div",gB,[r("span",hB,b(M.value),1)])):Q("",!0)])]),r("div",bB,[k[9]||(k[9]=r("div",{class:"text-xs text-red-700 dark:text-red-400 font-medium"},"Regen",-1)),r("div",vB,[r("div",yB,[k[8]||(k[8]=r("span",{class:"i-heroicons-arrow-path text-red-600 dark:text-red-500 mr-1 text-xs"},null,-1)),se(" "+b(v.value),1)]),P.value?(f(),h("div",xB,[r("span",kB,b(P.value),1)])):Q("",!0)])])]),r("div",_B,[r("div",wB,[r("label",CB,[ut(r("input",{type:"checkbox","onUpdate:modelValue":k[0]||(k[0]=I=>g(e).autoAdvance=I),class:"rounded border-red-300 text-red-600 focus:ring-red-500 dark:border-red-700 dark:bg-red-900/30"},null,512),[[Xt,g(e).autoAdvance]]),k[10]||(k[10]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-rocket-launch text-red-600 dark:text-red-400 mr-1.5"}),r("span",{class:"font-medium"},"Auto Advance (One Hit Kills)")],-1))]),k[11]||(k[11]=r("div",{class:"ml-auto text-xs text-red-600 dark:text-red-400 opacity-80"},[r("span",{class:"i-heroicons-arrow-right-circle"})],-1))]),g(e).isAutoQuestAdvanceUnlocked?(f(),h("div",SB,[r("label",$B,[ut(r("input",{type:"checkbox","onUpdate:modelValue":k[1]||(k[1]=I=>g(e).autoQuestAdvance=I),class:"rounded border-red-300 text-red-600 focus:ring-red-500 dark:border-red-700 dark:bg-red-900/30"},null,512),[[Xt,g(e).autoQuestAdvance]]),k[12]||(k[12]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-clipboard-document-check text-red-600 dark:text-red-400 mr-1.5"}),r("span",{class:"font-medium"},"Auto Quest Advance")],-1))]),k[13]||(k[13]=r("div",{class:"ml-auto text-xs text-red-600 dark:text-red-400 opacity-80"},[r("span",{class:"i-heroicons-document-magnifying-glass"})],-1))])):g(e).isAutoQuestAdvanceUnlocked?Q("",!0):(f(),h("div",EB,[r("div",AB,[k[16]||(k[16]=r("div",{class:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400"},[r("span",{class:"i-heroicons-lock-closed text-gray-500 dark:text-gray-400 mr-1.5"}),r("span",{class:"font-medium"},"Auto Quest Advance")],-1)),r("div",MB,[k[15]||(k[15]=r("span",{class:"text-xs text-gray-400 dark:text-gray-500 opacity-80 mr-1"},[r("span",{class:"i-heroicons-document-magnifying-glass"})],-1)),r("button",{onClick:at(d,["stop"]),class:"p-1.5 text-gray-400 dark:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full focus:outline-none","aria-label":"Feature info"},k[14]||(k[14]=[r("span",{class:"i-heroicons-information-circle text-xs"},null,-1)]))])]),r("div",{class:V(["absolute right-0 top-full mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-3 border border-red-200 dark:border-red-700 z-10 text-xs transition-opacity duration-200",c.value?"block opacity-100":"hidden sm:group-hover:block opacity-0 sm:group-hover:opacity-100"])},[k[17]||(k[17]=r("p",{class:"font-medium text-red-700 dark:text-red-400 mb-1"},"Feature Locked",-1)),k[18]||(k[18]=r("p",{class:"text-gray-600 dark:text-gray-300"},[se(" Purchase the "),r("span",{class:"font-medium"},"Quest Hunter Automation"),se(" evolution upgrade to unlock auto targeting for quest bugs. ")],-1)),r("p",PB," Cost: "+b(x.value)+" Evolution Points ",1)],2)]))])]))}}),LB=st(TB,[["__scopeId","data-v-e073f0ce"]]),IB={class:"bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-800 dark:to-gray-700 rounded-xl p-3 shadow-md"},DB={class:"flex items-center justify-between mb-2"},FB={key:0,class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 h-36 sm:h-48 overflow-y-auto"},RB={key:0,class:"text-xs text-gray-600 dark:text-gray-400"},UB={key:1,class:"space-y-1"},BB={class:"text-gray-500 dark:text-gray-400 mr-1"},qB={key:1,class:"mt-2 text-xs text-gray-600 dark:text-gray-400 flex items-center bg-gray-50 dark:bg-gray-800 p-2 rounded-lg border border-gray-200 dark:border-gray-600"},OB=Ue({__name:"CombatLogCard",setup(t){const e=ps(),s=W(!0),o=()=>{s.value=!s.value},n=R(()=>[...e.logs].slice(-10).reverse()),i=l=>l.toLowerCase().includes("collectible");return(l,c)=>(f(),h("section",IB,[r("div",DB,[c[0]||(c[0]=r("h2",{class:"text-base font-bold flex items-center"},[r("span",{class:"i-heroicons-document-text text-gray-700 dark:text-gray-300 mr-2"}),se(" Combat Log ")],-1)),r("button",{onClick:o,class:"md:hidden text-gray-600 dark:text-gray-400 p-1 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700"},[r("span",{class:V(s.value?"i-heroicons-chevron-up":"i-heroicons-chevron-down")},null,2)])]),s.value?(f(),h("div",FB,[g(e).logs.length===0?(f(),h("div",RB,c[1]||(c[1]=[r("p",{class:"mb-1"}," Adventure mode initialized",-1),r("p",{class:"mb-1"}," Select an enemy to begin combat",-1),r("p",{class:"mb-1"}," Combat is turn-based: you attack, then the enemy attacks",-1)]))):(f(),h("div",UB,[(f(!0),h(Ce,null,De(n.value,d=>(f(),h("div",{key:d.timestamp+d.message,class:"text-xs"},[r("span",BB,b(new Date(d.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})),1),r("span",{class:V({"text-gray-600 dark:text-gray-300":d.type==="info","text-red-600 dark:text-red-400":d.type==="combat","text-green-600 dark:text-green-400":d.type==="reward"&&!i(d.message),"text-purple-600 dark:text-purple-400":i(d.message)})},b(d.message),3)]))),128))]))])):Q("",!0),s.value?(f(),h("div",qB,c[2]||(c[2]=[r("span",{class:"i-heroicons-information-circle text-gray-600 dark:text-gray-400 mr-1 inline-block flex-shrink-0"},null,-1),r("span",null,"Combat is turn-based. Your damage scales with your ant count!",-1)]))):Q("",!0)]))}}),NB={class:"flex items-center justify-between gap-1 mb-1.5"},HB={class:"flex items-center"},jB={class:"relative w-8 h-8 mr-2"},GB=["src","alt"],VB={key:1,class:"i-heroicons-bug-ant text-blue-600 dark:text-blue-400 text-xl"},QB={key:2,class:"absolute -bottom-1 -right-1 bg-purple-100 dark:bg-purple-900/70 rounded-full p-0.5 border border-purple-300 dark:border-purple-600 shadow-sm"},zB=["src","alt"],WB={class:"font-medium text-blue-700 dark:text-blue-300 text-sm"},YB={class:"text-xs text-gray-600 dark:text-gray-400 flex items-center"},KB={key:0,class:"ml-1 text-xs bg-green-100 dark:bg-green-900/50 px-1 py-0 rounded-full text-green-700 dark:text-green-400"},XB={key:1,class:"ml-1 text-xs bg-amber-100 dark:bg-amber-900/50 px-1.5 py-0.5 rounded-full text-amber-700 dark:text-amber-400 font-medium flex items-center"},ZB={key:2,class:"ml-1 text-xs bg-purple-100 dark:bg-purple-900/50 px-1.5 py-0.5 rounded-full text-purple-700 dark:text-purple-400 font-medium flex items-center"},JB={key:0,class:"mb-1.5 bg-purple-50/80 dark:bg-purple-900/30 rounded-md p-1.5 text-xs"},eq={class:"flex items-center justify-between"},tq={class:"flex items-center"},sq=["src","alt"],oq={class:"font-medium text-purple-800 dark:text-purple-300"},rq={class:"flex flex-col items-end"},nq={class:"text-purple-700 dark:text-purple-400"},aq={class:"text-purple-800 dark:text-purple-300 font-medium"},iq={key:1,class:"mb-1.5 bg-amber-100 dark:bg-amber-900/30 rounded-md p-1.5 text-xs"},lq={class:"flex items-center justify-between"},cq={class:"flex items-center"},dq={class:"font-medium text-amber-800 dark:text-amber-300"},uq={class:"text-amber-700 dark:text-amber-400"},mq={key:2,class:"grid grid-cols-4 gap-1 text-xs"},pq={class:"col-span-2 flex justify-between bg-blue-50/50 dark:bg-blue-900/30 px-2 py-1 rounded"},fq={class:"font-medium text-blue-700 dark:text-blue-300"},gq={class:"col-span-2 flex justify-between bg-blue-50/50 dark:bg-blue-900/30 px-2 py-1 rounded"},hq={class:"font-medium text-blue-700 dark:text-blue-300"},bq={class:"col-span-2 flex justify-between bg-amber-50/50 dark:bg-amber-900/30 px-2 py-1 rounded"},vq={class:"font-medium text-amber-700 dark:text-amber-300"},yq={class:"col-span-2 flex justify-between bg-amber-50/50 dark:bg-amber-900/30 px-2 py-1 rounded"},xq={class:"font-medium text-amber-700 dark:text-amber-300"},kq={key:3},_q={class:"grid grid-cols-2 gap-1.5 text-xs"},wq={class:"flex justify-between bg-blue-50/50 dark:bg-blue-900/30 px-2 py-1 rounded"},Cq={class:"font-medium text-blue-700 dark:text-blue-300"},Sq={class:"flex justify-between bg-blue-50/50 dark:bg-blue-900/30 px-2 py-1 rounded"},$q={class:"font-medium text-blue-700 dark:text-blue-300"},Eq={class:"flex justify-between bg-blue-50/50 dark:bg-blue-900/30 px-2 py-1 rounded"},Aq={class:"font-medium text-blue-700 dark:text-blue-300"},Mq={class:"flex justify-between bg-blue-50/50 dark:bg-blue-900/30 px-2 py-1 rounded"},Pq={class:"font-medium text-blue-700 dark:text-blue-300"},Tq={class:"mt-1.5 grid grid-cols-2 gap-1.5 text-xs"},Lq={class:"flex justify-between bg-amber-50/50 dark:bg-amber-900/30 px-2 py-1 rounded"},Iq={class:"font-medium text-amber-700 dark:text-amber-300"},Dq={class:"flex justify-between bg-amber-50/50 dark:bg-amber-900/30 px-2 py-1 rounded"},Fq={class:"font-medium text-amber-700 dark:text-amber-300"},Rq={key:0},Uq={key:1},Bq={key:2},qq={key:3},Oq={class:"text-blue-700 dark:text-blue-300 font-medium"},Nq=Ue({__name:"BugCard",props:{bug:{}},emits:["showDropTable"],setup(t,{emit:e}){const s=t,o=e,n=ps(),i=Xs(),l=Vt(),c=Ns(),d=ct(),u=U=>{const j=i.bugs.findIndex(Y=>Y.id===U.id),ee=be.fromNumber(10).mul(be.pow(1.2,j)),ne=j>50?ee.mul(be.fromNumber(50+(j-50)*.5)):ee,oe=be.fromNumber(5).mul(be.pow(1.15,j)),O=j>50?oe.mul(be.fromNumber(50+(j-50)*.3)):oe;return{food:ne,essence:O.floor()}},m=R(()=>n.selectedBugId===s.bug.id&&n.isInCombat),p=()=>{o("showDropTable",s.bug)},y=()=>{n.toggleAutoCombat(s.bug.id)},v=R(()=>ie(s.bug.maxHealth.div(n.calculateDamage(n.playerDamage,s.bug.defense))));R(()=>ie(n.calculateDamage(s.bug.damage,n.playerDefense))),R(()=>ie(n.playerMaxHealth.div(n.calculateDamage(s.bug.damage,n.playerDefense))));const S=R(()=>n.gridDensity==="compact"),_=R(()=>{if(n.canOneHitBug(s.bug.id))return"oneHit";const U=s.bug.maxHealth.div(n.calculateDamage(n.playerDamage,s.bug.defense)),j=n.playerMaxHealth.div(n.calculateDamage(s.bug.damage,n.playerDefense));return j.gt(U.mul(1.2))?"safe":j.gt(U)?"risky":"dangerous"}),C=R(()=>{const U=u(s.bug).essence;return U.gte(1e3)?`${ie(U.div(1e3))}K`:ie(U)}),x=R(()=>!l.activeQuest||!s.bug?!1:l.activeQuest.goals&&l.activeQuest.goals.length>0?l.activeQuest.goals.some(U=>U.type===Gt.KILL_BUGS&&(!U.target||U.target===s.bug.id)):!1),$=R(()=>{if(!x.value||!l.activeQuest)return null;const U=l.activeQuest.goals.find(j=>j.type===Gt.KILL_BUGS&&(!j.target||j.target===s.bug.id));return U?{title:l.activeQuest.title,progress:`${U.currentAmount instanceof be?U.currentAmount.toString():U.currentAmount}/${U.requiredAmount instanceof be?U.requiredAmount.toString():U.requiredAmount}`}:null}),A=R(()=>{try{return new URL(Object.assign({"../../assets/bugs/ant_legion_commander.png":lm,"../../assets/bugs/ant_queen_guardian.png":cm,"../../assets/bugs/ant_scout_master.png":dm,"../../assets/bugs/ant_tactician.png":um,"../../assets/bugs/ant_training_master.png":mm,"../../assets/bugs/apocalyptic_termites.png":pm,"../../assets/bugs/army_ant.png":fm,"../../assets/bugs/beetle.png":gm,"../../assets/bugs/cockroach.png":hm,"../../assets/bugs/colossal_cockroach.png":bm,"../../assets/bugs/endless_ant_swarms.png":vm,"../../assets/bugs/fire_ant.png":ym,"../../assets/bugs/galactic_moth.png":xm,"../../assets/bugs/giant_firefly.png":km,"../../assets/bugs/giant_moth.png":_m,"../../assets/bugs/giant_stag_beetle.png":wm,"../../assets/bugs/grasshopper.png":Cm,"../../assets/bugs/housefly.png":Sm,"../../assets/bugs/ladybug.png":$m,"../../assets/bugs/mosquito.png":Em,"../../assets/bugs/mutant_fly.png":Am,"../../assets/bugs/quantum_beetle.png":Mm,"../../assets/bugs/queen_wasp.png":Pm,"../../assets/bugs/radioactive_spider.png":Tm,"../../assets/bugs/safe.png":Lm,"../../assets/bugs/scorpion.png":Im,"../../assets/bugs/soldier.png":Dm,"../../assets/bugs/stag_beetle_swarm.png":Fm,"../../assets/bugs/swarm_lord.png":Rm,"../../assets/bugs/tarantula.png":Um,"../../assets/bugs/termite.png":Bm,"../../assets/bugs/ultra_beetle.png":qm,"../../assets/bugs/wasp.png":Om,"../../assets/bugs/worker.png":Nm})[`../../assets/bugs/${s.bug.id}.png`],import.meta.url).href}catch{return null}}),M=R(()=>c.getBugKillCount(s.bug.id)),P={safe:{upgradeId:"safeKillWorkerSynergy",generatorId:"worker"},worker:{upgradeId:"workerKillNurserySynergy",generatorId:"nursery"},soldier:{upgradeId:"soldierKillQueenChamberSynergy",generatorId:"queenChamber"},beetle:{upgradeId:"beetleKillColonySynergy",generatorId:"colony"},scorpion:{upgradeId:"scorpionKillMegacolonySynergy",generatorId:"megacolony"},tarantula:{upgradeId:"tarantulaKillHivemindSynergy",generatorId:"hivemind"},ultra_beetle:{upgradeId:"ultraBeetleKillAntopolisSynergy",generatorId:"antopolis"},queen_wasp:{upgradeId:"queenWaspKillAlateHatcherySynergy",generatorId:"alateHatchery"}},L=R(()=>{const U=P[s.bug.id];return U?d.getUpgradeCount(U.upgradeId).gt(0):!1}),B=R(()=>{const U=P[s.bug.id];return(U==null?void 0:U.generatorId)||null}),k=U=>{if(!U)return"";try{return new URL(Object.assign({"../../assets/generators/alateHatchery.png":em,"../../assets/generators/antopolis.png":tm,"../../assets/generators/colony.png":sm,"../../assets/generators/hivemind.png":om,"../../assets/generators/megacolony.png":rm,"../../assets/generators/nursery.png":nm,"../../assets/generators/queenChamber.png":am,"../../assets/generators/worker.png":im})[`../../assets/generators/${U}.png`],import.meta.url).href}catch{return""}},I=R(()=>{const U=P[s.bug.id];if(!U)return null;const j=d.getUpgradeCount(U.upgradeId);if(j.eq(0))return null;let ee=0;switch(U.generatorId){case"worker":ee=.1;break;case"nursery":ee=.2;break;case"queenChamber":ee=.4;break;case"colony":ee=.8;break;case"megacolony":ee=1.6;break;case"hivemind":ee=3.2;break;case"antopolis":ee=6.4;break;case"alateHatchery":ee=12;break;default:ee=0}return`${(ee*j.toNumber()).toFixed(1)}%`}),N=R(()=>{const U=P[s.bug.id];if(!U)return null;const j=d.getUpgradeCount(U.upgradeId);if(j.eq(0))return null;const ee=M.value,ne=Math.floor(ee/1e3);let oe=0;switch(U.generatorId){case"worker":oe=.1;break;case"nursery":oe=.2;break;case"queenChamber":oe=.4;break;case"colony":oe=.8;break;case"megacolony":oe=1.6;break;case"hivemind":oe=3.2;break;case"antopolis":oe=6.4;break;case"alateHatchery":oe=12;break;default:oe=0}return(1+j.toNumber()*oe*ne/100).toFixed(2)+"x"});return(U,j)=>(f(),h("div",{class:V(["bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border h-full transition-all duration-200",[x.value?"border-2 border-amber-400 dark:border-amber-600 shadow-md":L.value?"border-2 border-purple-300 dark:border-purple-700 shadow-md":"border border-blue-200 dark:border-blue-700",x.value?"bg-amber-50/80 dark:bg-amber-900/20":L.value?"bg-purple-50/80 dark:bg-purple-900/20":"bg-white/80 dark:bg-gray-800/80"]])},[r("div",NB,[r("div",HB,[r("div",jB,[A.value?(f(),h("img",{key:0,src:A.value,alt:U.bug.name,class:"w-full h-full object-contain"},null,8,GB)):(f(),h("span",VB)),L.value&&B.value?(f(),h("div",QB,[r("img",{src:k(B.value),alt:B.value,class:"w-3.5 h-3.5 object-contain",onError:j[0]||(j[0]=ee=>ee.target.style.display="none")},null,40,zB)])):Q("",!0)]),r("div",null,[r("span",WB,b(U.bug.name),1),r("div",YB,[j[2]||(j[2]=r("span",{class:"i-heroicons-trophy mr-0.5"},null,-1)),r("span",null,"Kills: "+b(M.value.toLocaleString()),1)])]),m.value?(f(),h("span",KB," Active ")):Q("",!0),x.value?(f(),h("span",XB,j[3]||(j[3]=[r("span",{class:"i-heroicons-clipboard-document-check mr-0.5 inline-block"},null,-1),se(" Quest ")]))):Q("",!0),L.value&&I.value?(f(),h("span",ZB,[j[4]||(j[4]=r("span",{class:"i-heroicons-sparkles mr-0.5 inline-block"},null,-1)),se(" +"+b(I.value),1)])):Q("",!0)]),r("div",{class:"flex items-center space-x-1"},[r("button",{onClick:p,class:"p-1 rounded-full hover:bg-blue-100 dark:hover:bg-blue-800/50 transition-colors"},j[5]||(j[5]=[r("span",{class:"i-heroicons-information-circle text-blue-600 dark:text-blue-400 text-sm"},null,-1)])),r("button",{onClick:y,class:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 px-2 py-1 rounded-lg text-white text-xs font-medium transition-colors duration-200"}," Fight ")])]),L.value&&B.value?(f(),h("div",JB,[r("div",eq,[r("div",tq,[r("img",{src:k(B.value),alt:B.value,class:"w-4 h-4 object-contain mr-1.5",onError:j[1]||(j[1]=ee=>ee.target.style.display="none")},null,40,sq),r("span",oq,b(B.value.charAt(0).toUpperCase()+B.value.slice(1))+" Synergy ",1)]),r("div",rq,[r("span",nq," +"+b(I.value)+"/1K kills ",1),r("span",aq,b(N.value)+" multiplier ",1)])])])):Q("",!0),x.value&&$.value?(f(),h("div",iq,[r("div",lq,[r("div",cq,[j[6]||(j[6]=r("span",{class:"i-heroicons-flag text-amber-600 dark:text-amber-400 mr-1"},null,-1)),r("span",dq,b($.value.title),1)]),r("span",uq,b($.value.progress),1)])])):Q("",!0),S.value?(f(),h("div",mq,[r("div",pq,[j[7]||(j[7]=r("span",{class:"text-blue-500 dark:text-blue-400 flex items-center"},[r("span",{class:"i-heroicons-heart mr-1"}),se(" HP: ")],-1)),r("span",fq,b(g(ie)(U.bug.maxHealth)),1)]),r("div",gq,[j[8]||(j[8]=r("span",{class:"text-blue-500 dark:text-blue-400 flex items-center"},[r("span",{class:"i-heroicons-bolt mr-1"}),se(" DMG: ")],-1)),r("span",hq,b(g(ie)(U.bug.damage)),1)]),r("div",bq,[j[9]||(j[9]=r("span",{class:"text-amber-600 dark:text-amber-400 flex items-center"},[r("span",{class:"i-heroicons-clock mr-1"}),se(" TTK: ")],-1)),r("span",vq,b(v.value),1)]),r("div",yq,[j[10]||(j[10]=r("span",{class:"text-amber-600 dark:text-amber-400 flex items-center"},[r("span",{class:"i-heroicons-trophy mr-1"}),se(" Kills: ")],-1)),r("span",xq,b(M.value.toLocaleString()),1)])])):(f(),h("div",kq,[r("div",_q,[r("div",wq,[j[11]||(j[11]=r("span",{class:"text-blue-500 dark:text-blue-400 flex items-center"},[r("span",{class:"i-heroicons-heart mr-1"}),se(" HP: ")],-1)),r("span",Cq,b(g(ie)(U.bug.maxHealth)),1)]),r("div",Sq,[j[12]||(j[12]=r("span",{class:"text-blue-500 dark:text-blue-400 flex items-center"},[r("span",{class:"i-heroicons-bolt mr-1"}),se(" DMG: ")],-1)),r("span",$q,b(g(ie)(U.bug.damage)),1)]),r("div",Eq,[j[13]||(j[13]=r("span",{class:"text-blue-500 dark:text-blue-400 flex items-center"},[r("span",{class:"i-heroicons-shield-check mr-1"}),se(" DEF: ")],-1)),r("span",Aq,b(g(ie)(U.bug.defense)),1)]),r("div",Mq,[j[14]||(j[14]=r("span",{class:"text-blue-500 dark:text-blue-400 flex items-center"},[r("span",{class:"i-heroicons-trophy mr-1"}),se(" Kills: ")],-1)),r("span",Pq,b(M.value.toLocaleString()),1)])]),r("div",Tq,[r("div",Lq,[j[15]||(j[15]=r("span",{class:"text-amber-600 dark:text-amber-400 flex items-center"},[r("span",{class:"i-heroicons-cake mr-1"}),se(" Food: ")],-1)),r("span",Iq,b(g(ie)(u(U.bug).food)),1)]),r("div",Dq,[j[16]||(j[16]=r("span",{class:"text-amber-600 dark:text-amber-400 flex items-center"},[r("span",{class:"i-heroicons-flask mr-1"}),se(" Essence: ")],-1)),r("span",Fq,b(C.value),1)])])])),S.value?Q("",!0):(f(),h("div",{key:4,class:V(["flex justify-between mt-1.5 text-xs",{"mt-1":x.value&&$.value}])},[r("div",{class:V(["flex items-center",{"text-green-600 dark:text-green-400":_.value==="oneHit"||_.value==="safe","text-yellow-600 dark:text-yellow-400":_.value==="risky","text-red-600 dark:text-red-400":_.value==="dangerous"}])},[r("span",{class:V([{"i-heroicons-bolt":_.value==="oneHit","i-heroicons-check-circle":_.value==="safe","i-heroicons-exclamation-triangle":_.value==="risky","i-heroicons-x-circle":_.value==="dangerous"},"mr-1"])},null,2),_.value==="oneHit"?(f(),h("span",Rq,"One Hit Kill")):_.value==="safe"?(f(),h("span",Uq,"Safe to Fight")):_.value==="risky"?(f(),h("span",Bq,"Risky")):(f(),h("span",qq,"Too Strong"))],2),r("div",null,[r("span",Oq,b(v.value),1),j[17]||(j[17]=r("span",{class:"text-blue-500 dark:text-blue-400"}," hits",-1))])],2))],2))}}),Hq={class:"bg-gradient-to-br from-blue-100 to-blue-50 dark:from-blue-900/40 dark:to-blue-800/30 rounded-xl p-3 shadow-md relative"},jq={class:"sticky top-[-20px] z-10 bg-gradient-to-br from-blue-100 to-blue-50 dark:from-blue-900/40 dark:to-blue-800/30 -mx-3 -mt-3 px-3 pt-3 pb-2"},Gq={class:"flex flex-col gap-2"},Vq={class:"flex items-center justify-between"},Qq={class:"flex items-center gap-2"},zq={class:"text-xs bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 px-2 py-0.5 rounded-full"},Wq={class:"flex flex-wrap items-center gap-2 text-xs bg-blue-50/50 dark:bg-blue-900/30 p-1.5 rounded-lg"},Yq={class:"flex items-center gap-2 sm:gap-3"},Kq={class:"flex items-center gap-1"},Xq={class:"flex items-center gap-1 ml-auto mr-2"},Zq={class:"flex bg-blue-100/50 dark:bg-blue-800/30 rounded-lg p-0.5"},Jq={class:"mt-2 rounded-lg"},eO=Ue({__name:"AdventureMapSection",emits:["showDropTable"],setup(t,{emit:e}){const s=ps(),o=Xs(),n=e,i=m=>{s.gridDensity=m},l=R(()=>{let m=o.bugs;return s.showOneHitOnly&&(m=m.filter(p=>s.canOneHitBug(p.id))),m}),c=R(()=>s.gridDensity==="compact"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"),d=m=>{n("showDropTable",m)},u=m=>{if(s.selectedBugId===m.id&&s.isInCombat)return"selected";if(s.canOneHitBug(m.id))return"oneHit";const p=m.maxHealth.div(s.calculateDamage(s.playerDamage,m.defense)),y=s.playerMaxHealth.div(s.calculateDamage(m.damage,s.playerDefense));return y.gt(p.mul(1.2))?"safe":y.gt(p)?"risky":"dangerous"};return(m,p)=>(f(),h("section",Hq,[r("div",jq,[r("div",Gq,[r("div",Vq,[p[3]||(p[3]=r("h2",{class:"text-base font-bold flex items-center"},[r("span",{class:"i-heroicons-map text-blue-700 dark:text-blue-500 mr-2"}),se(" Adventure Map ")],-1)),r("div",Qq,[r("span",zq,b(l.value.length)+" Bugs ",1)])]),r("div",Wq,[r("div",Yq,[r("label",Kq,[ut(r("input",{type:"checkbox","onUpdate:modelValue":p[0]||(p[0]=y=>g(s).showOneHitOnly=y),class:"rounded border-blue-300 text-blue-600 focus:ring-blue-500 dark:border-blue-700 dark:bg-blue-900/30 h-3 w-3"},null,512),[[Xt,g(s).showOneHitOnly]]),p[4]||(p[4]=r("span",{class:"whitespace-nowrap text-blue-700 dark:text-blue-400"},"One Hit Only",-1))])]),r("div",Xq,[p[7]||(p[7]=r("span",{class:"text-blue-700 dark:text-blue-400 whitespace-nowrap"},"Density:",-1)),r("div",Zq,[r("button",{onClick:p[1]||(p[1]=y=>i("compact")),class:V(["px-1.5 py-0.5 text-xs rounded-md transition-colors",g(s).gridDensity==="compact"?"bg-white dark:bg-blue-700/50 text-blue-700 dark:text-blue-300 shadow-sm":"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300"])},p[5]||(p[5]=[r("div",{class:"i-heroicons-table-cells-solid w-3 h-3"},null,-1)]),2),r("button",{onClick:p[2]||(p[2]=y=>i("comfortable")),class:V(["px-1.5 py-0.5 text-xs rounded-md transition-colors",g(s).gridDensity==="comfortable"?"bg-white dark:bg-blue-700/50 text-blue-700 dark:text-blue-300 shadow-sm":"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300"])},p[6]||(p[6]=[r("div",{class:"i-heroicons-squares-2x2-solid w-3 h-3"},null,-1)]),2)])]),p[8]||(p[8]=qt('<div class="flex items-center space-x-2 text-xs"><span class="inline-block h-2 w-2 rounded-full bg-green-400 dark:bg-green-500"></span><span class="text-blue-700 dark:text-blue-400 mr-2">Safe</span><span class="inline-block h-2 w-2 rounded-full bg-yellow-400 dark:bg-yellow-500"></span><span class="text-blue-700 dark:text-blue-400 mr-2">Risky</span><span class="inline-block h-2 w-2 rounded-full bg-red-400 dark:bg-red-500"></span><span class="text-blue-700 dark:text-blue-400">Dangerous</span></div>',1))])])]),r("div",Jq,[r("div",{class:V(["grid gap-2",c.value])},[(f(!0),h(Ce,null,De(l.value,y=>(f(),h("div",{key:y.id,class:V({"border-green-400 dark:border-green-500 border-2":u(y)==="selected","border-l-4 border-l-green-400 dark:border-l-green-500":u(y)==="oneHit"&&u(y)!=="selected","border-l-4 border-l-green-300 dark:border-l-green-400":u(y)==="safe"&&u(y)!=="selected"&&u(y)!=="oneHit","border-l-4 border-l-yellow-400 dark:border-l-yellow-500":u(y)==="risky"&&u(y)!=="selected","border-l-4 border-l-red-400 dark:border-l-red-500":u(y)==="dangerous"&&u(y)!=="selected"})},[Fe(Nq,{bug:y,onShowDropTable:d},null,8,["bug"])],2))),128))],2)])]))}}),tO={class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm"},sO={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md p-4 sm:p-5 mx-auto border border-blue-200 dark:border-blue-700 max-h-[90vh] overflow-y-auto"},oO={class:"flex items-center justify-between pb-2 border-b border-blue-200 dark:border-blue-700"},rO={class:"text-base font-bold flex items-center text-blue-800 dark:text-blue-300"},nO={class:"space-y-3 mt-3"},aO={class:"text-sm text-gray-700 dark:text-gray-300"},iO={class:"space-y-2"},lO={class:"flex items-center space-x-2"},cO={class:"text-xs text-gray-500"},dO={class:"text-sm text-gray-600 dark:text-gray-400"},uO=Ue({__name:"DropTableModal",props:{bug:{}},emits:["close"],setup(t,{emit:e}){const s=e,o=Tt(),n=()=>{s("close")};return(i,l)=>(f(),h("div",tO,[r("div",sO,[r("div",oO,[r("h3",rO,[l[0]||(l[0]=r("span",{class:"i-heroicons-bug-ant text-blue-600 dark:text-blue-400 mr-2"},null,-1)),se(" "+b(i.bug.name)+" Drop Table ",1)]),r("button",{onClick:n,class:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700"},l[1]||(l[1]=[r("span",{class:"i-heroicons-x-mark text-gray-600 dark:text-gray-400 text-lg"},null,-1)]))]),r("div",nO,[r("div",aO,b(i.bug.description),1),r("div",iO,[(f(!0),h(Ce,null,De(i.bug.drops,c=>{var d,u;return f(),h("div",{key:c.itemId,class:"flex items-center justify-between p-2 rounded-lg bg-gray-50 dark:bg-gray-700/50"},[r("div",lO,[r("span",{class:V(["text-sm font-medium",g(o).getRarityColor(((d=g(o).getItem(c.itemId))==null?void 0:d.rarity)||"common")])},b((u=g(o).getItem(c.itemId))==null?void 0:u.name),3),r("span",cO,b((c.chance*100).toFixed(1))+"% ",1)]),r("div",dO,b(c.minQuantity)+"-"+b(c.maxQuantity)+"x ",1)])}),128))])]),r("div",{class:"flex justify-end mt-4"},[r("button",{onClick:n,class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 rounded-lg text-white text-sm font-medium transition-colors"}," Close ")])])]))}}),mO={class:"space-y-4 px-2 sm:px-0 pb-14"},pO={key:0,class:"space-y-3"},fO={class:"grid grid-cols-1 lg:grid-cols-2 gap-3"},gO={key:1,class:"bg-gradient-to-br from-amber-100/50 to-amber-50/50 dark:from-amber-900/20 dark:to-amber-800/10 rounded-xl p-3 shadow-md border border-amber-200/50 dark:border-amber-700/50 flex items-center justify-center"},hO={key:1},bO={key:2},vO={key:3},yO=Ue({__name:"AdventurePage",setup(t){os();const e=ps(),s=Xs();Vt();const o=ct(),n=gt(),i=q0();Vn();const l=R(()=>n.isUnlocked),c=R(()=>o.getUpgradeCount("unlockQuests").gt(0));We(()=>i.query.tab,y=>{y?(y==="megaAnt"&&l.value||y==="quests"&&c.value||y==="shop")&&(e.activeTab=y.toString()):e.activeTab="combat"},{immediate:!0}),We(l,y=>{!y&&e.activeTab==="megaAnt"&&(e.activeTab="combat")});const d=W(!1),u=W(null),m=y=>{u.value=y,d.value=!0},p=()=>{d.value=!1};return(y,v)=>(f(),h("div",mO,[v[1]||(v[1]=r("h1",{class:"text-xl font-bold mb-2 flex items-center"},[r("span",{class:"i-heroicons-shield-exclamation text-red-700 dark:text-red-500 mr-2"}),se(" Adventure ")],-1)),g(e).activeTab==="combat"?(f(),h("div",pO,[Fe(a9),r("div",fO,[Fe(LB),g(e).isInCombat&&g(s).selectedBug?(f(),rt(Q9,{key:0,bug:g(s).selectedBug},null,8,["bug"])):(f(),h("div",gO,v[0]||(v[0]=[r("div",{class:"text-center text-amber-600 dark:text-amber-400"},[r("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-4xl mb-2 block mx-auto opacity-50"}),r("p",{class:"text-sm"},"Select an enemy from the Adventure Map to begin combat")],-1)])))]),Fe(OB),Fe(eO,{onShowDropTable:m})])):g(e).activeTab==="shop"?(f(),h("div",hO,[Fe(X6)])):g(e).activeTab==="quests"&&c.value?(f(),h("div",bO,[Fe(Wy)])):g(e).activeTab==="megaAnt"&&l.value?(f(),h("div",vO,[Fe(e9)])):Q("",!0),d.value?(f(),rt(uO,{key:4,bug:u.value,onClose:p},null,8,["bug"])):Q("",!0),Fe(wr,{threshold:400})]))}}),xO=st(yO,[["__scopeId","data-v-6bf5bdc9"]]),hc="/assets/ascension_matrix-CoN9n1uW.png",bc="/assets/beetle_shell_shield-CkMnlHMj.png",vc="/assets/boss_chitinous_blade-Dof7X7Ta.png",yc="/assets/boss_cosmic_nucleus-MFUXtweF.png",xc="/assets/boss_divine_mandible-CYybHHv5.png",kc="/assets/boss_hivemind_helm-DxByhshK.png",_c="/assets/boss_hivemind_synapse-DqZO7Bsf.png",wc="/assets/boss_mandible_gauntlets-B5Ib9rTm.png",Cc="/assets/boss_nebula_stinger-D4RiYZP2.png",Sc="/assets/boss_omega_particle-DuJ-ahhx.png",$c="/assets/boss_pheromone_catalyst-B2AnQPaS.png",Ec="/assets/boss_primordial_chitin_plate-CjOyeIyJ.png",Ac="/assets/boss_quantum_core-BNTULQkm.png",Mc="/assets/boss_quantum_stinger-2mW7VIjN.png",Pc="/assets/boss_reality_fragment-BIGT-vUU.png",Tc="/assets/boss_reality_thread-CEqo-FdP.png",Lc="/assets/boss_royal_carapace-DcP_7h71.png",Ic="/assets/boss_star_eater_mandible-oJTgdpN5.png",Dc="/assets/boss_temporal_chitin-eIl3sapL.png",Fc="/assets/boss_void_essence_core-BoorhM_9.png",Rc="/assets/chronos_shell-CF1lzknA.png",Uc="/assets/common_ant_training_kit-_I25gBxY.png",Bc="/assets/cosmic_duality-LYEYNYXs.png",qc="/assets/divine_ant_queen_crown-B462cbDz.png",Oc="/assets/divine_eternity_weave-2WzVmSfK.png",Nc="/assets/divine_genesis_claw-CphuEaUY.png",Hc="/assets/divine_infinity_shard-D4jff25o.png",jc="/assets/divine_transcendence_core-TRy3ecQZ.png",Gc="/assets/divine_universal_amplifier-CTNDTlbl.png",Vc="/assets/emperor_toxin-DmYfV7RF.png",Qc="/assets/entropy_fangs-C7rZaLH8.png",zc="/assets/epic_ant_commander_armor-Bm9ym17V.png",Wc="/assets/eternity_weave-BYkKvb4u.png",Yc="/assets/evolution_crystal-BLwDZgkg.png",Kc="/assets/exoskeleton_plate-CUBmN4bI.png",Xc="/assets/foraging_tools-DbUGMudY.png",Zc="/assets/genesis_claw-BJBL49XH.png",Jc="/assets/hive_amplifier-CqzHvUQb.png",ed="/assets/infinity_shard-QCN3WUtU.png",td="/assets/infinity_shard_old-CZj_8o-k.png",sd="/assets/leaf_cloak-DWu42wbY.png",od="/assets/mandible_crusher-CSnVrg4A.png",rd="/assets/mandible_crusher_old-B_Ej9ubt.png",nd="/assets/mythic_ascension_matrix-B6_7w-nJ.png",ad="/assets/mythic_catalyst-xr4hGSg2.png",id="/assets/mythic_swarm_controller-Dyrl22g8.png",ld="/assets/omnipotent_catalyst-8fZU37bQ.png",cd="/assets/pebble_hammer-CaaQ5vxJ.png",dd="/assets/quantum_mandibles-vYBS0gSo.png",ud="/assets/rare_ant_tactician_helm-CiRpsvfW.png",md="/assets/reinforced_mandibles-oWAuE2B_.png",pd="/assets/resin_helmet-TysTayCe.png",fd="/assets/thorn_spear-BYkzWEJK.png",gd="/assets/thorn_spear_old-BYFyHiZU.png",hd="/assets/training_armor-Dd4ibfLv.png",bd="/assets/training_sword-CiJgDKdh.png",vd="/assets/training_sword_old-BlfmoiLU.png",yd="/assets/transcendence_core-T4iBTQo9.png",xd="/assets/uncommon_ant_scout_gear-D_E_CVEx.png",kd="/assets/universal_amplifier-Dnecy8Bq.png",_d="/assets/venom_dagger-Cs9jj4en.png",wd="/assets/void_reaver-DWs_Zt5Z.png",Cd="/assets/wooden_shield-DZPRatFv.png",Sd="/assets/wooden_shield_old-BoeyM07b.png",$d="/assets/worker_armor-CtLFF-MT.png",Ed="/assets/worker_armor_old-DmglZfoY.png",Ad="/assets/worker_sword-Ch44J_MB.png",kO={class:"space-y-4"},_O={class:"bg-white/90 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg p-4 shadow-md border border-amber-200 dark:border-amber-700"},wO={class:"text-base font-bold text-amber-700 dark:text-amber-400 flex items-center mb-3"},CO={class:"ml-2 text-xs text-amber-600 dark:text-amber-400 font-normal"},SO={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 mb-4"},$O=["onClick"],EO={key:0,class:"absolute inset-0 flex flex-col items-center justify-center bg-amber-900/80 p-2 text-center"},AO={class:"absolute inset-0 flex items-center justify-center"},MO=["src","alt"],PO={key:1,class:"i-heroicons-cube text-amber-700 dark:text-amber-500 text-4xl opacity-50"},TO={class:"relative h-full flex flex-col"},LO={class:"flex justify-between p-1"},IO={key:0,class:"bg-amber-200/90 dark:bg-amber-900/90 text-amber-900 dark:text-amber-200 rounded-md px-1.5 py-0.5 text-xs font-medium shadow-md"},DO={key:1,class:"bg-yellow-200/90 dark:bg-yellow-900/90 text-yellow-900 dark:text-yellow-200 rounded-md px-1.5 py-0.5 text-xs font-medium ml-auto shadow-md"},FO={key:0,class:"px-1"},RO={class:"w-full bg-gray-200/70 dark:bg-gray-200/70 rounded-full h-1.5 mt-0.5"},UO={class:"flex-1 flex items-center justify-center p-2 text-center"},BO={key:2,class:"absolute inset-0 flex flex-col items-center justify-center text-amber-600 dark:text-amber-400"},qO={class:"flex justify-center"},OO={class:"bg-white/90 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg p-4 shadow-md border border-amber-200 dark:border-amber-700"},NO={class:"grid grid-cols-1 sm:grid-cols-3 gap-3 animate-fadeIn"},HO={class:"bg-gradient-to-br from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 p-3 rounded-lg shadow-sm backdrop-blur-sm"},jO={class:"text-lg font-bold text-amber-600 dark:text-amber-500"},GO={key:0,class:"text-xs text-amber-500 dark:text-amber-400 mt-1"},VO={class:"bg-gradient-to-br from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 p-3 rounded-lg shadow-sm backdrop-blur-sm"},QO={class:"text-lg font-bold text-amber-600 dark:text-amber-500"},zO={key:0,class:"text-xs text-amber-500 dark:text-amber-400 mt-1"},WO={class:"bg-gradient-to-br from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 p-3 rounded-lg shadow-sm backdrop-blur-sm"},YO={class:"text-lg font-bold text-amber-600 dark:text-amber-500"},KO={key:0,class:"text-xs text-amber-500 dark:text-amber-400 mt-1"},XO={key:0,class:"bg-white/90 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg p-4 shadow-md border border-amber-200 dark:border-amber-700"},ZO={class:"grid grid-cols-2 gap-3 animate-fadeIn"},JO={class:"bg-gradient-to-br from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 p-3 rounded-lg shadow-sm backdrop-blur-sm"},eN={class:"text-lg font-bold text-amber-600 dark:text-amber-500"},tN={class:"text-xs text-amber-500 dark:text-amber-400 mt-1"},sN={class:"bg-gradient-to-br from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 p-3 rounded-lg shadow-sm backdrop-blur-sm"},oN={class:"text-lg font-bold text-amber-600 dark:text-amber-500"},rN={class:"flex text-xs text-amber-500 dark:text-amber-400 mt-1"},nN={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mt-1"},aN={class:"ml-1 whitespace-nowrap"},iN={class:"bg-gradient-to-br from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 p-3 rounded-lg shadow-sm backdrop-blur-sm"},lN={class:"text-lg font-bold text-amber-600 dark:text-amber-500"},cN={class:"bg-gradient-to-br from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 p-3 rounded-lg shadow-sm backdrop-blur-sm"},dN={class:"text-lg font-bold text-amber-600 dark:text-amber-500"},uN={key:1,class:"bg-white/90 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg p-4 shadow-md border border-amber-200 dark:border-amber-700"},mN={class:"grid grid-cols-1 sm:grid-cols-2 gap-3 animate-fadeIn"},pN={key:0,class:"bg-gradient-to-br from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 p-3 rounded-lg shadow-sm backdrop-blur-sm"},fN={class:"text-lg font-bold text-amber-600 dark:text-amber-500"},gN={key:1,class:"bg-gradient-to-br from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 p-3 rounded-lg shadow-sm backdrop-blur-sm"},hN={class:"text-lg font-bold text-amber-600 dark:text-amber-500"},bN={key:0,class:"bg-gradient-to-br from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 p-3 rounded-lg shadow-sm backdrop-blur-sm"},vN={class:"text-xs font-medium text-amber-700 dark:text-amber-400 mb-1 capitalize"},yN={class:"text-lg font-bold text-amber-600 dark:text-amber-500"},xN={key:2,class:"bg-white/90 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg p-4 shadow-md border border-amber-200 dark:border-amber-700"},kN={class:"grid grid-cols-1 sm:grid-cols-2 gap-3 animate-fadeIn"},_N={class:"text-xs font-medium text-amber-700 dark:text-amber-400 mb-1 capitalize"},wN={class:"text-lg font-bold text-amber-600 dark:text-amber-500"},CN={key:3,class:"bg-white/90 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg p-4 shadow-md border-l-4 border border-amber-200 border-l-amber-500 dark:border-amber-700 dark:border-l-amber-500"},SN={class:"flex items-start space-x-3"},$N={class:"text-sm text-amber-600 dark:text-amber-300"},EN=Ue({__name:"EquipmentSection",props:{onSlotClick:{type:Function}},setup(t){const e=ts(),s=Tt(),o=vt(),n=ps(),i=R(()=>o.generators[0].count),l=R(()=>v(i.value)),c=R(()=>e.totalStats.damage.mul(i.value)),d=R(()=>e.totalStats.health.mul(i.value)),u=R(()=>e.totalStats.regen.mul(i.value)),m=R(()=>n.playerDamage),p=R(()=>n.playerMaxHealth),y=R(()=>n.playerRegen),v=B=>ie(B,0),S=R(()=>i.value.gt(0)),_=B=>s.getItem(B),C=B=>ie(B.sub(1).mul(100),2)+"%",x=R(()=>{const B=e.totalSpecialModifiers;return Object.keys(B).some(k=>B[k].gt(1))}),$=B=>ie(B.sub(1).mul(100),2)+"%",A=B=>{e.toggleSection(B)},M=B=>{try{return new URL(Object.assign({"../assets/items/ascension_matrix.png":hc,"../assets/items/beetle_shell_shield.png":bc,"../assets/items/boss_chitinous_blade.png":vc,"../assets/items/boss_cosmic_nucleus.png":yc,"../assets/items/boss_divine_mandible.png":xc,"../assets/items/boss_hivemind_helm.png":kc,"../assets/items/boss_hivemind_synapse.png":_c,"../assets/items/boss_mandible_gauntlets.png":wc,"../assets/items/boss_nebula_stinger.png":Cc,"../assets/items/boss_omega_particle.png":Sc,"../assets/items/boss_pheromone_catalyst.png":$c,"../assets/items/boss_primordial_chitin_plate.png":Ec,"../assets/items/boss_quantum_core.png":Ac,"../assets/items/boss_quantum_stinger.png":Mc,"../assets/items/boss_reality_fragment.png":Pc,"../assets/items/boss_reality_thread.png":Tc,"../assets/items/boss_royal_carapace.png":Lc,"../assets/items/boss_star_eater_mandible.png":Ic,"../assets/items/boss_temporal_chitin.png":Dc,"../assets/items/boss_void_essence_core.png":Fc,"../assets/items/chronos_shell.png":Rc,"../assets/items/common_ant_training_kit.png":Uc,"../assets/items/cosmic_duality.png":Bc,"../assets/items/divine_ant_queen_crown.png":qc,"../assets/items/divine_eternity_weave.png":Oc,"../assets/items/divine_genesis_claw.png":Nc,"../assets/items/divine_infinity_shard.png":Hc,"../assets/items/divine_transcendence_core.png":jc,"../assets/items/divine_universal_amplifier.png":Gc,"../assets/items/emperor_toxin.png":Vc,"../assets/items/entropy_fangs.png":Qc,"../assets/items/epic_ant_commander_armor.png":zc,"../assets/items/eternity_weave.png":Wc,"../assets/items/evolution_crystal.png":Yc,"../assets/items/exoskeleton_plate.png":Kc,"../assets/items/foraging_tools.png":Xc,"../assets/items/genesis_claw.png":Zc,"../assets/items/hive_amplifier.png":Jc,"../assets/items/infinity_shard.png":ed,"../assets/items/infinity_shard_old.png":td,"../assets/items/leaf_cloak.png":sd,"../assets/items/mandible_crusher.png":od,"../assets/items/mandible_crusher_old.png":rd,"../assets/items/mythic_ascension_matrix.png":nd,"../assets/items/mythic_catalyst.png":ad,"../assets/items/mythic_swarm_controller.png":id,"../assets/items/omnipotent_catalyst.png":ld,"../assets/items/pebble_hammer.png":cd,"../assets/items/quantum_mandibles.png":dd,"../assets/items/rare_ant_tactician_helm.png":ud,"../assets/items/reinforced_mandibles.png":md,"../assets/items/resin_helmet.png":pd,"../assets/items/thorn_spear.png":fd,"../assets/items/thorn_spear_old.png":gd,"../assets/items/training_armor.png":hd,"../assets/items/training_sword.png":bd,"../assets/items/training_sword_old.png":vd,"../assets/items/transcendence_core.png":yd,"../assets/items/uncommon_ant_scout_gear.png":xd,"../assets/items/universal_amplifier.png":kd,"../assets/items/venom_dagger.png":_d,"../assets/items/void_reaver.png":wd,"../assets/items/wooden_shield.png":Cd,"../assets/items/wooden_shield_old.png":Sd,"../assets/items/worker_armor.png":$d,"../assets/items/worker_armor_old.png":Ed,"../assets/items/worker_sword.png":Ad})[`../assets/items/${B}.png`],import.meta.url).href}catch{return}},P=B=>{const k=e.inventory.find(I=>I.id===B);return k||s.getItem(B)},L=B=>{const k=P(B);return k?k.name:""};return(B,k)=>{var I,N;return f(),h("section",kO,[r("div",_O,[r("h3",wO,[k[5]||(k[5]=r("span",{class:"i-heroicons-shield-check text-amber-700 dark:text-amber-500 mr-2"},null,-1)),k[6]||(k[6]=se(" Equipment Slots ")),r("div",CO," ("+b(g(e).unlockedEquipmentSlots)+"/"+b(g(e).maxEquipmentSlots)+" slots unlocked) ",1)]),r("div",SO,[(f(!0),h(Ce,null,De(g(e).equipmentSlots,(U,j)=>{var ee,ne,oe,O,Y,G,de,re;return f(),h("div",{key:j,class:V(["relative aspect-square overflow-hidden transition-all duration-200 border-4 rounded-lg",{"border-amber-700/30 dark:border-amber-800/60 bg-amber-900/10 border-dashed":U.locked,"border-amber-500 hover:border-amber-400 bg-amber-100/40 dark:bg-amber-900/30 hover:scale-105 border-solid":!U.locked&&!U.item,"border-amber-500 hover:border-amber-400 hover:scale-105 transform border-solid":U.item}]),style:Je([{"image-rendering":"pixelated","box-shadow":"inset 0 0 8px rgba(0,0,0,0.2), 0 2px 4px rgba(0,0,0,0.2)"},U.locked?"":"border-top-color: #f0d4a0; border-left-color: #f0d4a0; border-right-color: #c2924e; border-bottom-color: #c2924e;"]),onClick:he=>B.onSlotClick(U,j)},[U.locked?(f(),h("div",EO,k[7]||(k[7]=[r("div",{class:"i-heroicons-lock-closed text-2xl text-amber-500 mb-1"},null,-1),r("div",{class:"text-xs text-amber-400"},"Locked Slot",-1),r("div",{class:"text-[10px] text-amber-500 mt-1"},"Unlock via Evolution",-1)]))):U.item?(f(),h("div",{key:1,class:V(["relative h-full",g(s).getRarityBackground(((ee=_(U.item))==null?void 0:ee.rarity)||"common")])},[r("div",AO,[M(U.item)?(f(),h("img",{key:0,src:M(U.item),alt:(ne=_(U.item))==null?void 0:ne.name,class:"w-full h-full object-contain p-2 opacity-70"},null,8,MO)):(f(),h("span",PO))]),r("div",TO,[r("div",LO,[(oe=P(U.item))!=null&&oe.level?(f(),h("div",IO," Lvl "+b((O=P(U.item))==null?void 0:O.level.toString()),1)):Q("",!0),U.itemIsLocked?(f(),h("div",DO,k[8]||(k[8]=[r("span",{class:"i-heroicons-lock-closed"},null,-1)]))):Q("",!0)]),(Y=P(U.item))!=null&&Y.level?(f(),h("div",FO,[r("div",RO,[r("div",{class:"bg-amber-500 dark:bg-amber-600 h-1.5 rounded-full",style:Je(`width: ${(de=P(U.item))==null?void 0:de.xp.div(((G=P(U.item))==null?void 0:G.maxXp)||1).mul(100).toNumber()}%`)},null,4)])])):Q("",!0),r("div",UO,[r("div",{class:V(["text-base font-bold line-clamp-2",g(s).getRarityColor(((re=_(U.item))==null?void 0:re.rarity)||"common")]),style:{"text-shadow":"1px 1px 2px rgba(0,0,0,0.5)"}},b(L(U.item)),3)]),k[9]||(k[9]=r("div",{class:"bg-amber-900/70 py-1 text-[10px] text-center text-amber-200 border-t border-amber-600/50"}," Click to unequip ",-1))])],2)):(f(),h("div",BO,k[10]||(k[10]=[r("div",{class:"i-heroicons-plus text-2xl mb-1 animate-pulse"},null,-1),r("div",{class:"text-xs text-center font-medium"},"Empty Slot",-1),r("div",{class:"text-[10px] text-amber-500 dark:text-amber-500 mt-1"},"Click to browse items",-1)])))],14,$O)}),128))]),r("div",qO,[r("button",{onClick:k[0]||(k[0]=U=>g(e).initializeEquipmentSlots()),class:"bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white px-4 py-2 rounded-lg shadow-md transition-colors flex items-center"},k[11]||(k[11]=[r("span",{class:"i-heroicons-refresh mr-2"},null,-1),se(" Refresh Equipment Slots ")]))])]),r("div",OO,[r("div",{onClick:k[1]||(k[1]=U=>A("equipmentStats")),class:"flex justify-between items-center cursor-pointer mb-3 p-1 hover:bg-amber-100/70 dark:hover:bg-amber-800/30 rounded transition-colors"},[k[12]||(k[12]=r("h3",{class:"text-base font-bold text-amber-700 dark:text-amber-400 flex items-center"},[r("span",{class:"i-heroicons-chart-bar mr-2"}),se(" Equipment Stats ")],-1)),r("span",{class:V(g(e).collapsedSections.equipmentStats?"i-heroicons-chevron-down":"i-heroicons-chevron-up text-amber-600 dark:text-amber-400")},null,2)]),ut(r("div",NO,[r("div",HO,[k[13]||(k[13]=r("div",{class:"text-xs font-medium text-amber-700 dark:text-amber-400 mb-1 flex items-center"},[r("span",{class:"i-heroicons-bolt mr-1"}),se(" Damage ")],-1)),r("div",jO," +"+b(v(g(e).totalStats.damage)),1),S.value?(f(),h("div",GO," Boosted: +"+b(v(c.value)),1)):Q("",!0)]),r("div",VO,[k[14]||(k[14]=r("div",{class:"text-xs font-medium text-amber-700 dark:text-amber-400 mb-1 flex items-center"},[r("span",{class:"i-heroicons-heart mr-1"}),se(" Health ")],-1)),r("div",QO," +"+b(v(g(e).totalStats.health)),1),S.value?(f(),h("div",zO," Boosted: +"+b(v(d.value)),1)):Q("",!0)]),r("div",WO,[k[15]||(k[15]=r("div",{class:"text-xs font-medium text-amber-700 dark:text-amber-400 mb-1 flex items-center"},[r("span",{class:"i-heroicons-arrow-path mr-1"}),se(" Regen ")],-1)),r("div",YO," +"+b(v(g(e).totalStats.regen)),1),S.value?(f(),h("div",KO," Boosted: +"+b(v(u.value)),1)):Q("",!0)])],512),[[Cn,!g(e).collapsedSections.equipmentStats]])]),S.value?(f(),h("div",XO,[r("div",{onClick:k[2]||(k[2]=U=>A("combatStats")),class:"flex justify-between items-center cursor-pointer mb-3 p-1 hover:bg-amber-100/70 dark:hover:bg-amber-800/30 rounded transition-colors"},[k[16]||(k[16]=r("h3",{class:"text-base font-bold text-amber-700 dark:text-amber-400 flex items-center"},[r("span",{class:"i-heroicons-fire mr-2"}),se(" Total Combat Stats ")],-1)),r("span",{class:V(g(e).collapsedSections.combatStats?"i-heroicons-chevron-down":"i-heroicons-chevron-up text-amber-600 dark:text-amber-400")},null,2)]),ut(r("div",ZO,[r("div",JO,[k[17]||(k[17]=r("div",{class:"text-xs font-medium text-amber-700 dark:text-amber-400 mb-1 flex items-center"},[r("span",{class:"i-heroicons-bolt mr-1"}),se(" Total Damage ")],-1)),r("div",eN,b(v(m.value)),1),r("div",tN,b(v(i.value))+" worker ants ",1)]),r("div",sN,[k[18]||(k[18]=r("div",{class:"text-xs font-medium text-amber-700 dark:text-amber-400 mb-1 flex items-center"},[r("span",{class:"i-heroicons-heart mr-1"}),se(" Total Health ")],-1)),r("div",oN,b(v(p.value)),1),r("div",rN,[r("div",nN,[r("div",{class:"bg-amber-500 dark:bg-amber-600 h-2 rounded-full",style:Je(`width: ${g(n).currentHealth.div(p.value).mul(100).toNumber()}%`)},null,4)]),r("span",aN,b(v(g(n).currentHealth))+"/"+b(v(p.value)),1)])]),r("div",iN,[k[19]||(k[19]=r("div",{class:"text-xs font-medium text-amber-700 dark:text-amber-400 mb-1 flex items-center"},[r("span",{class:"i-heroicons-arrow-path mr-1"}),se(" Total Regen ")],-1)),r("div",lN,b(v(y.value)),1),k[20]||(k[20]=r("div",{class:"text-xs text-amber-500 dark:text-amber-400 mt-1"}," per second ",-1))]),r("div",cN,[k[21]||(k[21]=r("div",{class:"text-xs font-medium text-amber-700 dark:text-amber-400 mb-1 flex items-center"},[r("span",{class:"i-heroicons-shield-check mr-1"}),se(" Defense ")],-1)),r("div",dN,b(v(g(n).playerDefense)),1),k[22]||(k[22]=r("div",{class:"text-xs text-amber-500 dark:text-amber-400 mt-1"}," damage reduction ",-1))])],512),[[Cn,!g(e).collapsedSections.combatStats]])])):Q("",!0),x.value?(f(),h("div",uN,[r("div",{onClick:k[3]||(k[3]=U=>A("specialModifiers")),class:"flex justify-between items-center cursor-pointer mb-3 p-1 hover:bg-amber-100/70 dark:hover:bg-amber-800/30 rounded transition-colors"},[k[23]||(k[23]=r("h3",{class:"text-base font-bold text-amber-700 dark:text-amber-400 flex items-center"},[r("span",{class:"i-heroicons-sparkles mr-2"}),se(" Special Bonuses ")],-1)),r("span",{class:V(g(e).collapsedSections.specialModifiers?"i-heroicons-chevron-down":"i-heroicons-chevron-up text-amber-600 dark:text-amber-400")},null,2)]),ut(r("div",mN,[(I=g(e).totalSpecialModifiers.epBoost)!=null&&I.gt(1)?(f(),h("div",pN,[k[24]||(k[24]=r("div",{class:"text-xs font-medium text-amber-700 dark:text-amber-400 mb-1 flex items-center"},[r("span",{class:"i-heroicons-sparkles text-amber-600 dark:text-amber-400 mr-1"}),se(" Evolution Points ")],-1)),r("div",fN," +"+b(C(g(e).totalSpecialModifiers.epBoost)),1),k[25]||(k[25]=r("div",{class:"text-xs text-amber-500 dark:text-amber-400 mt-1"}," Bonus to EP gain ",-1))])):Q("",!0),(N=g(e).totalSpecialModifiers.global)!=null&&N.gt(1)?(f(),h("div",gN,[k[26]||(k[26]=r("div",{class:"text-xs font-medium text-amber-700 dark:text-amber-400 mb-1 flex items-center"},[r("span",{class:"i-heroicons-globe-alt text-amber-600 dark:text-amber-400 mr-1"}),se(" Global Production ")],-1)),r("div",hN," +"+b(C(g(e).totalSpecialModifiers.global)),1),k[27]||(k[27]=r("div",{class:"text-xs text-amber-500 dark:text-amber-400 mt-1"}," All production increased ",-1))])):Q("",!0),(f(!0),h(Ce,null,De(g(e).totalSpecialModifiers,(U,j)=>(f(),h(Ce,{key:j},[j!=="epBoost"&&j!=="global"&&U.gt(1)?(f(),h("div",bN,[r("div",vN,b(j.replace(/([A-Z])/g," $1").trim()),1),r("div",yN," +"+b(C(U)),1)])):Q("",!0)],64))),128))],512),[[Cn,!g(e).collapsedSections.specialModifiers]])])):Q("",!0),Object.keys(g(e).totalProductionModifiers).length>0?(f(),h("div",xN,[r("div",{onClick:k[4]||(k[4]=U=>A("productionModifiers")),class:"flex justify-between items-center cursor-pointer mb-3 p-1 hover:bg-amber-100/70 dark:hover:bg-amber-800/30 rounded transition-colors"},[k[28]||(k[28]=r("h3",{class:"text-base font-bold text-amber-700 dark:text-amber-400 flex items-center"},[r("span",{class:"i-heroicons-arrow-trending-up mr-2"}),se(" Production Bonuses ")],-1)),r("span",{class:V(g(e).collapsedSections.productionModifiers?"i-heroicons-chevron-down":"i-heroicons-chevron-up text-amber-600 dark:text-amber-400")},null,2)]),ut(r("div",kN,[(f(!0),h(Ce,null,De(g(e).totalProductionModifiers,(U,j)=>(f(),h("div",{key:j,class:"bg-gradient-to-br from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 p-3 rounded-lg shadow-sm backdrop-blur-sm"},[r("div",_N,b(j),1),r("div",wN," +"+b($(U)),1)]))),128))],512),[[Cn,!g(e).collapsedSections.productionModifiers]])])):Q("",!0),S.value?(f(),h("div",CN,[r("div",SN,[k[30]||(k[30]=r("span",{class:"i-heroicons-information-circle text-xl text-amber-600 dark:text-amber-400 mt-0.5 shrink-0"},null,-1)),r("div",null,[k[29]||(k[29]=r("h4",{class:"font-medium text-amber-700 dark:text-amber-400 mb-1"},"Equipment Boost",-1)),r("p",$N," Your equipment stats are boosted by your worker ants! Each stat is multiplied by your worker ant count (currently "+b(l.value)+"), giving you a significant combat advantage. ",1)])])])):Q("",!0)])}}}),rg=st(EN,[["__scopeId","data-v-0d0d6e3b"]]),AN={class:"p-3 sm:p-5 border-b border-amber-200 dark:border-amber-700 bg-white/95 dark:bg-gray-800/95 sticky top-0 z-10"},MN={class:"mt-4 p-3 bg-amber-50/80 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800"},PN={class:"flex items-start justify-between"},TN={class:"text-xs text-amber-700 dark:text-amber-400 mt-1"},LN={key:0,class:"flex items-center"},IN={class:"relative inline-flex items-center cursor-pointer"},DN={class:"ml-2 text-xs font-medium text-gray-700 dark:text-gray-300"},FN={key:1},RN={class:"mt-3 sm:mt-4"},UN={class:"relative"},BN={class:"p-3 sm:p-5"},qN={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-4"},ON={class:"flex items-start justify-between"},NN={class:"flex-1 min-w-0 mr-3"},HN={class:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 line-clamp-2"},jN={class:"shrink-0 flex items-center"},GN={class:"relative inline-flex items-center cursor-pointer"},VN=["checked","onChange"],QN={class:"ml-2 text-xs font-medium text-gray-700 dark:text-gray-300"},zN={key:0,class:"py-6 text-center text-gray-500 dark:text-gray-400"},WN=Ue({__name:"ItemFilterModal",props:{isOpen:{type:Boolean}},emits:["close"],setup(t,{emit:e}){const s=t,o=e,n=O0(),i=ts();ct();const l=Tt(),c=W(""),d=Vn(),{isClosing:u,handleClose:m,preventBackgroundTouchMove:p}=io(),y=()=>{m(()=>o("close"),250)},v=$=>{$.key==="Escape"&&s.isOpen&&y()};tt(()=>{window.addEventListener("keydown",v)}),fs(()=>{window.removeEventListener("keydown",v)});const S=R(()=>{const $=n.getAllAvailableItems();return(c.value?$.filter(M=>M.name.toLowerCase().includes(c.value.toLowerCase())||M.description.toLowerCase().includes(c.value.toLowerCase())):$).reduce((M,P)=>(M[P.rarity]||(M[P.rarity]=[]),M[P.rarity].push(P),M),{})}),_=["common","uncommon","rare","epic","legendary","mythic","divine"],C=R(()=>i.isAutoSalvageUnlocked),x=R({get:()=>i.isAutoSalvageEnabled,set:$=>{$!==i.isAutoSalvageEnabled&&i.toggleAutoSalvage()}});return R(()=>Object.values(S.value).some($=>$.some(A=>n.isItemFiltered(A.id)))),($,A)=>$.isOpen?(f(),h("div",{key:0,class:"fixed inset-0 bg-black/60 flex items-start justify-center z-50 p-2 sm:p-4 backdrop-blur-sm overflow-y-auto overscroll-contain modal-backdrop","data-modal-backdrop":"true",onClick:at(y,["self"]),onTouchmove:A[3]||(A[3]=at((...M)=>g(p)&&g(p)(...M),["self"]))},[r("div",{class:V(["bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm rounded-xl shadow-lg w-full max-w-4xl mx-auto my-4 border border-amber-200 dark:border-amber-800",{"animate-fadeOut":g(u)}])},[r("div",AN,[r("div",{class:"flex justify-between items-start"},[A[5]||(A[5]=r("h3",{class:"text-lg font-bold flex items-center text-amber-800 dark:text-amber-300"},[r("span",{class:"i-heroicons-funnel text-amber-600 dark:text-amber-400 mr-2"}),se(" Item Filter Settings ")],-1)),r("button",{onClick:y,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors"},A[4]||(A[4]=[r("span",{class:"i-heroicons-x-mark text-xl"},null,-1)]))]),A[9]||(A[9]=r("p",{class:"text-sm text-gray-700 dark:text-gray-300 mt-3 leading-relaxed hidden sm:block"},' Configure which items your colony should collect. Items marked as "Filtered" will be automatically discarded when dropped. This is useful for preventing your inventory from filling up with lower-tier items as you progress. ',-1)),A[10]||(A[10]=r("p",{class:"text-sm text-gray-700 dark:text-gray-300 mt-3 leading-relaxed sm:hidden"}," Configure which items to collect or filter out. ",-1)),r("div",MN,[r("div",PN,[r("div",null,[A[6]||(A[6]=r("h4",{class:"text-sm font-semibold text-amber-800 dark:text-amber-300 flex items-center"},[r("span",{class:"i-heroicons-beaker text-amber-600 dark:text-amber-400 mr-2"}),se(" Auto-Salvage Filtered Items ")],-1)),r("p",TN,b(C.value?"Automatically convert filtered items to Pheromone Essence":"Purchase Auto-Salvage upgrade to convert filtered items to Pheromone Essence"),1)]),C.value?(f(),h("div",LN,[r("label",IN,[ut(r("input",{type:"checkbox","onUpdate:modelValue":A[0]||(A[0]=M=>x.value=M),class:"sr-only peer"},null,512),[[Xt,x.value]]),A[7]||(A[7]=r("div",{class:"w-11 h-6 bg-gray-300 dark:bg-gray-600 peer-focus:ring-2 peer-focus:ring-amber-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"},null,-1)),r("span",DN,b(x.value?"Enabled":"Disabled"),1)])])):(f(),h("div",FN,[r("button",{onClick:A[1]||(A[1]=M=>g(d).push("/upgrades")),class:"px-3 py-1 bg-amber-600 hover:bg-amber-700 text-white rounded-lg text-xs font-medium transition-colors flex items-center"}," Purchase Upgrade ")]))])]),r("div",RN,[r("div",UN,[A[8]||(A[8]=r("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3"},[r("span",{class:"i-heroicons-magnifying-glass text-gray-400"})],-1)),ut(r("input",{"onUpdate:modelValue":A[2]||(A[2]=M=>c.value=M),type:"text",placeholder:"Search items...",class:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 text-gray-900 dark:text-gray-100"},null,512),[[Po,c.value]])])])]),r("div",BN,[(f(),h(Ce,null,De(_,M=>{var P;return ut(r("div",{key:M},[r("h3",{class:V(["text-base sm:text-lg font-semibold mb-2 capitalize",g(l).getRarityColor(M)])},b(M),3),r("div",qN,[(f(!0),h(Ce,null,De(S.value[M],L=>(f(),h("div",{key:L.id,class:V(["rounded-lg p-3 flex flex-col border border-gray-200 dark:border-gray-600",g(l).getRarityBackground(L.rarity)])},[r("div",ON,[r("div",NN,[r("h4",{class:V(["font-semibold truncate",g(l).getRarityColor(L.rarity)])},b(L.name),3),r("p",HN,b(L.description),1)]),r("div",jN,[r("label",GN,[r("input",{type:"checkbox",checked:!g(n).isItemFiltered(L.id),onChange:B=>g(n).toggleItemFilter(L.id),class:"sr-only peer"},null,40,VN),A[11]||(A[11]=r("div",{class:"w-11 h-6 bg-gray-300 dark:bg-gray-600 peer-focus:ring-2 peer-focus:ring-amber-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"},null,-1)),r("span",QN,b(g(n).isItemFiltered(L.id)?"Filtered":"Collect"),1)])])])],2))),128))])]),[[Cn,(P=S.value[M])==null?void 0:P.length]])}),64)),Object.keys(S.value).length===0||Object.values(S.value).every(M=>M.length===0)?(f(),h("div",zN,A[12]||(A[12]=[r("div",{class:"i-heroicons-magnifying-glass text-3xl mx-auto mb-2"},null,-1),r("p",null,"No items match your search query.",-1)]))):Q("",!0)])],2)],32)):Q("",!0)}}),YN=st(WN,[["__scopeId","data-v-7f36d718"]]),ji=t=>{let e=0;return t.stats&&(t.stats.damage&&(e+=t.stats.damage.toNumber()),t.stats.health&&(e+=t.stats.health.toNumber()*.5),t.stats.defense&&(e+=t.stats.defense.toNumber()*.8),t.stats.regen&&(e+=t.stats.regen.toNumber()*2)),t.productionModifiers&&Object.values(t.productionModifiers).forEach(s=>{e+=(s.toNumber()-1)*10}),t.specialModifiers&&(t.specialModifiers.epBoost&&(e+=(t.specialModifiers.epBoost.toNumber()-1)*20),t.specialModifiers.global&&(e+=(t.specialModifiers.global.toNumber()-1)*15)),e},Gi={common:0,uncommon:1,rare:2,epic:3,legendary:4,mythic:5,divine:6},KN=[{id:"default",label:"Default",compareFn:()=>0},{id:"rarity-asc",label:"Rarity (Low to High)",compareFn:(t,e)=>Gi[t.rarity]-Gi[e.rarity]},{id:"rarity-desc",label:"Rarity (High to Low)",compareFn:(t,e)=>Gi[e.rarity]-Gi[t.rarity]},{id:"power-asc",label:"Power (Low to High)",compareFn:(t,e)=>{const s=ji(t),o=ji(e);return s-o}},{id:"power-desc",label:"Power (High to Low)",compareFn:(t,e)=>{const s=ji(t);return ji(e)-s}},{id:"name-asc",label:"Name (A to Z)",compareFn:(t,e)=>t.name.localeCompare(e.name)},{id:"name-desc",label:"Name (Z to A)",compareFn:(t,e)=>e.name.localeCompare(t.name)},{id:"quantity-asc",label:"Quantity (Low to High)",compareFn:(t,e)=>{var n,i;const s=((n=t.quantity)==null?void 0:n.toNumber())||1,o=((i=e.quantity)==null?void 0:i.toNumber())||1;return s-o}},{id:"quantity-desc",label:"Quantity (High to Low)",compareFn:(t,e)=>{var n,i;const s=((n=t.quantity)==null?void 0:n.toNumber())||1;return(((i=e.quantity)==null?void 0:i.toNumber())||1)-s}}],XN=[{id:"none",label:"Show All Items",filterFn:()=>!0},{id:"damage",label:"Damage",filterFn:t=>{var e;return!!((e=t.stats)!=null&&e.damage&&t.stats.damage.gt(0))}},{id:"health",label:"Health",filterFn:t=>{var e;return!!((e=t.stats)!=null&&e.health&&t.stats.health.gt(0))}},{id:"defense",label:"Defense",filterFn:t=>{var e;return!!((e=t.stats)!=null&&e.defense&&t.stats.defense.gt(0))}},{id:"regen",label:"Regeneration",filterFn:t=>{var e;return!!((e=t.stats)!=null&&e.regen&&t.stats.regen.gt(0))}},{id:"epBoost",label:"EP Boost",filterFn:t=>{var e;return!!((e=t.specialModifiers)!=null&&e.epBoost&&t.specialModifiers.epBoost.gt(1))}},{id:"global",label:"Global Multiplier",filterFn:t=>{var e;return!!((e=t.specialModifiers)!=null&&e.global&&t.specialModifiers.global.gt(1))}},{id:"worker",label:"Worker Production",filterFn:t=>{var e;return!!((e=t.productionModifiers)!=null&&e.worker&&t.productionModifiers.worker.gt(1))}},{id:"queen",label:"Queen Production",filterFn:t=>{var e;return!!((e=t.productionModifiers)!=null&&e.queen&&t.productionModifiers.queen.gt(1))}},{id:"nursery",label:"Nursery Production",filterFn:t=>{var e;return!!((e=t.productionModifiers)!=null&&e.nursery&&t.productionModifiers.nursery.gt(1))}},{id:"farm",label:"Farm Production",filterFn:t=>{var e;return!!((e=t.productionModifiers)!=null&&e.farm&&t.productionModifiers.farm.gt(1))}}],ZN=()=>{Tt();const t=KN,e=W(t[0].id),s=XN,o=W(s[0].id),n=R(()=>{const u=t.find(m=>m.id===e.value);return u?u.compareFn:(console.warn(`Sort option "${e.value}" not found, using default.`),t[0].compareFn)}),i=R(()=>{const u=s.find(m=>m.id===o.value);return u?u.filterFn:(console.warn(`Filter option "${o.value}" not found, using default.`),s[0].filterFn)});return{sortOptions:t,selectedSort:e,filterOptions:s,selectedFilter:o,getCurrentSortFunction:n,getCurrentFilterFunction:i,filterAndSortItems:u=>{const m=i.value,p=u.filter(m),y=n.value;return[...p].sort(y)},hiddenItemsCount:u=>{if(o.value==="none")return 0;const m=i.value;return u.length-u.filter(m).length},resetSortAndFilter:()=>{e.value=t[0].id,o.value=s[0].id}}},JN={class:"relative w-full"},eH=["value"],tH=["value"],ng=Ue({__name:"InventorySortDropdown",props:{selectedSort:{},sortOptions:{}},emits:["update:selectedSort"],setup(t,{emit:e}){const s=e,o=n=>{const i=n.target;s("update:selectedSort",i.value)};return(n,i)=>(f(),h("div",JN,[r("select",{class:"w-full bg-amber-50 dark:bg-amber-800 text-amber-900 dark:text-amber-100 rounded-lg px-3 py-1.5 text-sm appearance-none pr-8 border border-amber-300 dark:border-amber-700",value:n.selectedSort,onChange:o},[(f(!0),h(Ce,null,De(n.sortOptions,l=>(f(),h("option",{key:l.id,value:l.id},b(l.label),9,tH))),128))],40,eH),i[0]||(i[0]=r("div",{class:"absolute right-2 top-1/2 transform -translate-y-1/2 pointer-events-none"},[r("span",{class:"i-heroicons-chevron-down text-amber-700 dark:text-amber-300"})],-1))]))}}),sH={class:"relative w-full"},oH=["value"],rH=["value"],ag=Ue({__name:"InventoryFilterDropdown",props:{selectedFilter:{},filterOptions:{}},emits:["update:selectedFilter"],setup(t,{emit:e}){const s=e,o=n=>{const i=n.target;s("update:selectedFilter",i.value)};return(n,i)=>(f(),h("div",sH,[r("select",{class:"w-full bg-amber-50 dark:bg-amber-800 text-amber-900 dark:text-amber-100 rounded-lg px-3 py-1.5 text-sm appearance-none pr-8 border border-amber-300 dark:border-amber-700",value:n.selectedFilter,onChange:o},[(f(!0),h(Ce,null,De(n.filterOptions,l=>(f(),h("option",{key:l.id,value:l.id},b(l.label),9,rH))),128))],40,oH),i[0]||(i[0]=r("div",{class:"absolute right-2 top-1/2 transform -translate-y-1/2 pointer-events-none"},[r("span",{class:"i-heroicons-funnel text-amber-700 dark:text-amber-300"})],-1))]))}});function ki(){const t=ss(),e=R(()=>t.honeydew),s=R(()=>ie(e.value));return{honeydew:e,formattedHoneydew:s,formatHoneydew:(i,l=2)=>ie(i,l),canAffordHoneydew:i=>e.value.gte(i)}}const nH={class:"flex items-center justify-center"},aH={class:"px-1.5 py-0.5 bg-gradient-to-r from-yellow-400 to-amber-500 text-yellow-900 rounded-full shadow-md flex items-center"},iH=Ue({__name:"XpIndicator",props:{indicator:{}},setup(t){const e=t,s=R(()=>`+${ie(e.indicator.amount,0)}`),o=R(()=>{const m=e.indicator.amount.toNumber();return m>=100?1*1.25:m>=50?1*1.15:m>=20?1*1.05:1}),n=W(null),i=W(1),l=W(0),c=W(0),d=W(.6);return tt(()=>{c.value=Math.random()*20-10,setTimeout(()=>{d.value=.85},50),setTimeout(()=>{l.value=-15-Math.random()*10},100),setTimeout(()=>{i.value=.9},1e3),setTimeout(()=>{i.value=.5},1500),setTimeout(()=>{i.value=0},1800)}),(u,m)=>(f(),h("div",{ref_key:"indicatorEl",ref:n,class:V(["absolute pointer-events-none z-10 font-bold",{"text-2xs":o.value===1,"text-xs":o.value>1&&o.value<1.2,"text-sm":o.value>=1.2}]),style:Je({opacity:i.value,transform:`translate(${c.value}px, ${l.value}px) scale(${d.value})`,transition:"opacity 0.3s ease, transform 1.5s ease, scale 0.2s ease-out"})},[r("div",nH,[r("div",aH,[m[0]||(m[0]=r("span",{class:"i-heroicons-sparkles text-yellow-700 mr-0.5 text-xs"},null,-1)),r("span",null,b(s.value)+" XP",1)])])],6))}}),lH={class:"space-y-4"},cH={class:"bg-white/90 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg p-4 shadow-md border border-amber-200 dark:border-amber-700"},dH={class:"sm:hidden"},uH={class:"flex justify-between items-center mb-4"},mH={class:"flex items-center"},pH={class:"flex space-x-2"},fH={class:"flex items-center bg-gradient-to-r from-green-50/80 to-green-100/80 dark:from-green-900/60 dark:to-green-800/60 px-3 py-1.5 rounded-lg relative group backdrop-blur-sm"},gH={class:"text-sm font-medium text-green-800 dark:text-green-300"},hH={class:"flex items-center bg-gradient-to-r from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 px-3 py-1.5 rounded-lg relative group backdrop-blur-sm"},bH={class:"text-sm font-medium text-amber-800 dark:text-amber-300"},vH={class:"text-xs font-medium text-amber-700 dark:text-amber-400 ml-2"},yH={key:0,class:"rounded-lg p-3 mb-3 bg-amber-50/90 dark:bg-amber-800/60 animate-fadeIn backdrop-blur-sm"},xH={class:"grid grid-cols-1 gap-2"},kH={key:0,class:"ml-1 w-2 h-2 bg-green-400 rounded-full animate-pulse"},_H={class:"w-full"},wH={class:"w-full"},CH={class:"hidden sm:block"},SH={class:"flex justify-between items-center mb-4"},$H={class:"flex items-center space-x-4"},EH={class:"flex space-x-3"},AH={class:"flex items-center bg-gradient-to-r from-green-50/80 to-green-100/80 dark:from-green-900/60 dark:to-green-800/60 px-3 py-1.5 rounded-lg relative group backdrop-blur-sm"},MH={class:"text-sm font-medium text-green-800 dark:text-green-300"},PH={class:"flex items-center bg-gradient-to-r from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 px-3 py-1.5 rounded-lg relative group backdrop-blur-sm"},TH={class:"text-sm font-medium text-amber-800 dark:text-amber-300"},LH={class:"text-sm font-medium text-amber-700 dark:text-amber-400"},IH={class:"flex items-center gap-2"},DH={class:"relative"},FH={key:0,class:"absolute top-full right-0 mt-1 w-48 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm rounded-lg shadow-lg border border-amber-200 dark:border-amber-800 animate-fadeIn z-10"},RH={class:"p-2 grid gap-1"},UH={key:0,class:"w-2 h-2 bg-green-400 rounded-full animate-pulse"},BH={class:"flex space-x-2"},qH={key:0,class:"mb-4 text-sm bg-gradient-to-r from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 py-2 px-3 rounded-lg flex items-center justify-between backdrop-blur-sm"},OH={class:"text-amber-700 dark:text-amber-400"},NH={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-5 3xl:grid-cols-8 gap-3"},HH=["onClick"],jH={class:"absolute inset-0 flex items-center justify-center"},GH=["src","alt"],VH={key:1,class:"i-heroicons-cube text-amber-700 dark:text-amber-500 text-4xl opacity-50"},QH={class:"absolute top-0 left-0 inset-0 overflow-visible pointer-events-none"},zH={class:"relative h-full flex flex-col"},WH={class:"flex justify-between p-1"},YH={class:"bg-amber-200/90 dark:bg-amber-900/90 text-amber-900 dark:text-amber-200 rounded-md px-1 py-0.5 text-2xs font-medium shadow-md"},KH={key:0,class:"bg-yellow-200/90 dark:bg-yellow-900/90 text-yellow-900 dark:text-yellow-200 rounded-md px-1 py-0.5 text-2xs font-medium ml-auto shadow-md"},XH={key:1,class:"bg-green-200/90 dark:bg-green-900/90 text-green-900 dark:text-green-200 rounded-md px-1 py-0.5 text-2xs font-medium ml-auto shadow-md"},ZH={class:"px-1"},JH={class:"w-full bg-gray-200/70 dark:bg-gray-200/70 rounded-full h-1.5 mt-0.5"},ej={class:"mt-auto flex items-center justify-center p-2 text-center"},tj={key:0},sj={key:1},oj={class:"mt-6 flex justify-end space-x-3"},rj=["disabled"],nj={key:0,class:"i-heroicons-arrow-path animate-spin mr-2"},aj={key:2},ij=Ue({__name:"InventorySection",props:{onItemClick:Function,isItemEquipped:Function},setup(t){const e=t,s=ts(),o=Tt(),n=os(),{formattedHoneydew:i}=ki(),{isClosing:l,handleClose:c,preventBackgroundTouchMove:d}=io(),u=W(!1),m=W(!1),p=W(!1),y=W(!1),v=W(null),S=W(!1),{sortOptions:_,selectedSort:C,filterOptions:x,selectedFilter:$,filterAndSortItems:A,hiddenItemsCount:M}=ZN();C.value=s.selectedInventorySort,$.value=s.selectedInventoryFilter||"none",We(C,ee=>{s.selectedInventorySort=ee}),We($,ee=>{s.selectedInventoryFilter=ee});const P=R(()=>A(s.inventory)),L=R(()=>M(s.inventory)),B=ee=>`${ee.name}`,k=()=>{y.value=!0,m.value=!1,p.value=!1},I=async()=>{S.value=!0,v.value=null;try{s.salvageAll(),v.value={success:!0,message:"Successfully salvaged unlocked items for Pheromone Essence"},await new Promise(ee=>setTimeout(ee,2e3)),c(()=>y.value=!1)}catch(ee){v.value={success:!1,message:`Error: ${ee}`}}S.value=!1},N=()=>{c(()=>{y.value=!1,v.value=null})},U=ee=>{try{return new URL(Object.assign({"../assets/items/ascension_matrix.png":hc,"../assets/items/beetle_shell_shield.png":bc,"../assets/items/boss_chitinous_blade.png":vc,"../assets/items/boss_cosmic_nucleus.png":yc,"../assets/items/boss_divine_mandible.png":xc,"../assets/items/boss_hivemind_helm.png":kc,"../assets/items/boss_hivemind_synapse.png":_c,"../assets/items/boss_mandible_gauntlets.png":wc,"../assets/items/boss_nebula_stinger.png":Cc,"../assets/items/boss_omega_particle.png":Sc,"../assets/items/boss_pheromone_catalyst.png":$c,"../assets/items/boss_primordial_chitin_plate.png":Ec,"../assets/items/boss_quantum_core.png":Ac,"../assets/items/boss_quantum_stinger.png":Mc,"../assets/items/boss_reality_fragment.png":Pc,"../assets/items/boss_reality_thread.png":Tc,"../assets/items/boss_royal_carapace.png":Lc,"../assets/items/boss_star_eater_mandible.png":Ic,"../assets/items/boss_temporal_chitin.png":Dc,"../assets/items/boss_void_essence_core.png":Fc,"../assets/items/chronos_shell.png":Rc,"../assets/items/common_ant_training_kit.png":Uc,"../assets/items/cosmic_duality.png":Bc,"../assets/items/divine_ant_queen_crown.png":qc,"../assets/items/divine_eternity_weave.png":Oc,"../assets/items/divine_genesis_claw.png":Nc,"../assets/items/divine_infinity_shard.png":Hc,"../assets/items/divine_transcendence_core.png":jc,"../assets/items/divine_universal_amplifier.png":Gc,"../assets/items/emperor_toxin.png":Vc,"../assets/items/entropy_fangs.png":Qc,"../assets/items/epic_ant_commander_armor.png":zc,"../assets/items/eternity_weave.png":Wc,"../assets/items/evolution_crystal.png":Yc,"../assets/items/exoskeleton_plate.png":Kc,"../assets/items/foraging_tools.png":Xc,"../assets/items/genesis_claw.png":Zc,"../assets/items/hive_amplifier.png":Jc,"../assets/items/infinity_shard.png":ed,"../assets/items/infinity_shard_old.png":td,"../assets/items/leaf_cloak.png":sd,"../assets/items/mandible_crusher.png":od,"../assets/items/mandible_crusher_old.png":rd,"../assets/items/mythic_ascension_matrix.png":nd,"../assets/items/mythic_catalyst.png":ad,"../assets/items/mythic_swarm_controller.png":id,"../assets/items/omnipotent_catalyst.png":ld,"../assets/items/pebble_hammer.png":cd,"../assets/items/quantum_mandibles.png":dd,"../assets/items/rare_ant_tactician_helm.png":ud,"../assets/items/reinforced_mandibles.png":md,"../assets/items/resin_helmet.png":pd,"../assets/items/thorn_spear.png":fd,"../assets/items/thorn_spear_old.png":gd,"../assets/items/training_armor.png":hd,"../assets/items/training_sword.png":bd,"../assets/items/training_sword_old.png":vd,"../assets/items/transcendence_core.png":yd,"../assets/items/uncommon_ant_scout_gear.png":xd,"../assets/items/universal_amplifier.png":kd,"../assets/items/venom_dagger.png":_d,"../assets/items/void_reaver.png":wd,"../assets/items/wooden_shield.png":Cd,"../assets/items/wooden_shield_old.png":Sd,"../assets/items/worker_armor.png":$d,"../assets/items/worker_armor_old.png":Ed,"../assets/items/worker_sword.png":Ad})[`../assets/items/${ee}.png`],import.meta.url).href}catch{return}},j=W({});return(ee,ne)=>(f(),h("section",lH,[r("div",cH,[r("div",dH,[r("div",uH,[r("div",mH,[r("div",pH,[r("div",fH,[ne[14]||(ne[14]=r("span",{class:"i-heroicons-droplet text-green-600 dark:text-green-400 mr-1"},null,-1)),r("span",gH,b(g(i)),1)]),r("div",hH,[ne[15]||(ne[15]=r("span",{class:"i-heroicons-beaker text-amber-600 dark:text-amber-400 mr-1"},null,-1)),r("span",bH,b(g(n).formattedPheromoneEssence),1)])]),r("div",vH,[r("span",null,b(g(s).inventory.length)+"/"+b(g(s).maxInventorySlots.toNumber()),1)])]),r("button",{onClick:ne[0]||(ne[0]=oe=>m.value=!m.value),class:"px-3 py-1.5 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 rounded-lg text-sm text-white flex items-center transition-all"},ne[16]||(ne[16]=[r("span",{class:"i-heroicons-ellipsis-horizontal text-white mr-1"},null,-1),se(" Actions ")]))]),m.value?(f(),h("div",yH,[r("div",xH,[g(s).isSalvageAllUnlocked?(f(),h("button",{key:0,onClick:k,class:"px-3 py-2 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 rounded-lg text-sm text-white flex items-center justify-between transition-all"},ne[17]||(ne[17]=[r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-beaker text-white mr-1"}),se(" Salvage All ")],-1)]))):Q("",!0),g(s).isAutoSalvageUnlocked?(f(),h("button",{key:1,onClick:ne[1]||(ne[1]=oe=>g(s).toggleAutoSalvage()),class:V(["px-3 py-2 rounded-lg text-sm flex items-center justify-between transition-all",g(s).isAutoSalvageEnabled?"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white":"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white"])},[ne[18]||(ne[18]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-beaker text-white mr-1"}),se(" Auto Salvage ")],-1)),g(s).isAutoSalvageEnabled?(f(),h("span",kH)):Q("",!0)],2)):Q("",!0),r("div",_H,[Fe(ng,{selectedSort:g(C),sortOptions:g(_),"onUpdate:selectedSort":ne[2]||(ne[2]=oe=>C.value=oe)},null,8,["selectedSort","sortOptions"])]),r("div",wH,[Fe(ag,{selectedFilter:g($),filterOptions:g(x),"onUpdate:selectedFilter":ne[3]||(ne[3]=oe=>$.value=oe)},null,8,["selectedFilter","filterOptions"])]),r("button",{onClick:ne[4]||(ne[4]=oe=>{u.value=!0,m.value=!1}),class:"px-3 py-2 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 rounded-lg text-sm text-white flex items-center justify-between transition-all"},ne[19]||(ne[19]=[r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-funnel text-white mr-1"}),se(" Filter Items ")],-1)]))])])):Q("",!0)]),r("div",CH,[r("div",SH,[r("div",$H,[r("div",EH,[r("div",AH,[ne[20]||(ne[20]=r("span",{class:"i-heroicons-droplet text-green-600 dark:text-green-400 mr-1"},null,-1)),r("span",MH,b(g(i))+" Honeydew ",1)]),r("div",PH,[ne[21]||(ne[21]=r("span",{class:"i-heroicons-beaker text-amber-600 dark:text-amber-400 mr-1"},null,-1)),r("span",TH,b(g(n).formattedPheromoneEssence)+" Essence ",1)])]),r("div",LH,[r("span",null,b(g(s).inventory.length)+"/"+b(g(s).maxInventorySlots.toNumber()),1),ne[22]||(ne[22]=se(" slots used "))])]),r("div",IH,[r("div",DH,[r("button",{onClick:ne[5]||(ne[5]=oe=>p.value=!p.value),class:"px-3 py-1.5 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 rounded-lg text-sm text-white flex items-center transition-all"},ne[23]||(ne[23]=[r("span",{class:"i-heroicons-bars-3 text-white mr-1"},null,-1),se(" Actions "),r("span",{class:"i-heroicons-chevron-down text-white ml-1"},null,-1)])),p.value?(f(),h("div",FH,[r("div",RH,[g(s).isSalvageAllUnlocked?(f(),h("button",{key:0,onClick:k,class:"w-full px-3 py-2 hover:bg-amber-100/70 dark:hover:bg-amber-900/30 rounded-lg text-left text-sm text-amber-800 dark:text-amber-300 flex items-center justify-between"},ne[24]||(ne[24]=[r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-beaker text-amber-600 dark:text-amber-400 mr-2"}),se(" Salvage All ")],-1)]))):Q("",!0),g(s).isAutoSalvageUnlocked?(f(),h("button",{key:1,onClick:ne[6]||(ne[6]=oe=>{g(s).toggleAutoSalvage(),p.value=!1}),class:"w-full px-3 py-2 hover:bg-amber-100/70 dark:hover:bg-amber-900/30 rounded-lg text-left text-sm text-amber-800 dark:text-amber-300 flex items-center justify-between"},[ne[25]||(ne[25]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-beaker text-amber-600 dark:text-amber-400 mr-2"}),se(" Auto Salvage ")],-1)),g(s).isAutoSalvageEnabled?(f(),h("span",UH)):Q("",!0)])):Q("",!0),r("button",{onClick:ne[7]||(ne[7]=oe=>{u.value=!0,p.value=!1}),class:"w-full px-3 py-2 hover:bg-amber-100/70 dark:hover:bg-amber-900/30 rounded-lg text-left text-sm text-amber-800 dark:text-amber-300 flex items-center"},ne[26]||(ne[26]=[r("span",{class:"i-heroicons-funnel text-amber-600 dark:text-amber-400 mr-2"},null,-1),se(" Filter Items ")]))])])):Q("",!0)]),r("div",BH,[Fe(ng,{selectedSort:g(C),sortOptions:g(_),"onUpdate:selectedSort":ne[8]||(ne[8]=oe=>C.value=oe)},null,8,["selectedSort","sortOptions"]),Fe(ag,{selectedFilter:g($),filterOptions:g(x),"onUpdate:selectedFilter":ne[9]||(ne[9]=oe=>$.value=oe)},null,8,["selectedFilter","filterOptions"])])])])]),L.value>0?(f(),h("div",qH,[r("span",OH,[ne[27]||(ne[27]=r("span",{class:"i-heroicons-eye-slash mr-1"},null,-1)),se(" "+b(L.value)+" item"+b(L.value>1?"s":"")+" hidden by filter ",1)]),r("button",{onClick:ne[10]||(ne[10]=oe=>$.value="none"),class:"text-xs bg-amber-600 hover:bg-amber-700 text-white px-2 py-0.5 rounded-md flex items-center transition-colors"},ne[28]||(ne[28]=[r("span",{class:"i-heroicons-x-mark text-white mr-1 text-xs"},null,-1),se(" Clear Filter ")]))])):Q("",!0),r("div",NH,[(f(!0),h(Ce,null,De(P.value,(oe,O)=>(f(),h("div",{key:O,class:V(["relative aspect-square overflow-visible cursor-pointer transition-all duration-200 border-4 rounded-lg hover:scale-105 transform",g(o).getRarityBackground(oe.rarity)]),style:{"image-rendering":"pixelated","box-shadow":"inset 0 0 8px rgba(0,0,0,0.2), 0 2px 4px rgba(0,0,0,0.2)","border-top-color":"#f0d4a0","border-left-color":"#f0d4a0","border-right-color":"#c2924e","border-bottom-color":"#c2924e"},onClick:Y=>e.onItemClick&&e.onItemClick(oe),ref_for:!0,ref:Y=>{Y&&(j.value[oe.id]=Y)}},[r("div",jH,[U(oe.id)?(f(),h("img",{key:0,src:U(oe.id),alt:oe.name,class:"w-full h-full object-contain p-2 opacity-70"},null,8,GH)):(f(),h("span",VH))]),r("div",QH,[(f(!0),h(Ce,null,De(g(s).getItemIndicators(oe.id),Y=>(f(),rt(iH,{key:Y.id,indicator:Y,class:"absolute top-2 left-2 transform -translate-x-1/2 -translate-y-1/2"},null,8,["indicator"]))),128))]),r("div",zH,[r("div",WH,[r("div",YH," Lvl "+b(oe.level.toString()),1),oe.isLocked?(f(),h("div",KH,ne[29]||(ne[29]=[r("span",{class:"i-heroicons-lock-closed"},null,-1)]))):Q("",!0),e.isItemEquipped&&e.isItemEquipped(oe.id)?(f(),h("div",XH,ne[30]||(ne[30]=[r("span",{class:"i-heroicons-check"},null,-1)]))):Q("",!0)]),r("div",ZH,[r("div",JH,[r("div",{class:"bg-amber-500 dark:bg-amber-600 h-1.5 rounded-full",style:Je(`width: ${oe.xp.div(oe.maxXp).mul(100).toNumber()}%`)},null,4)])]),r("div",ej,[r("div",{class:V(["text-base font-bold line-clamp-2 sm:text-xs md:text-sm lg:text-sm",g(o).getRarityColor(oe.rarity)])},b(B(oe)),3)])])],10,HH))),128)),(f(!0),h(Ce,null,De(g(s).maxInventorySlots.toNumber()-g(s).inventory.length,oe=>(f(),h("div",{key:`empty-${oe}`,class:"relative aspect-square border-4 rounded-lg border-amber-300 dark:border-amber-700/50 bg-amber-100/40 dark:bg-amber-900/30 border-dashed",style:{"image-rendering":"pixelated","box-shadow":"inset 0 0 8px rgba(0,0,0,0.1), 0 2px 4px rgba(0,0,0,0.1)","border-top-color":"#f0d4a0","border-left-color":"#f0d4a0","border-right-color":"#c2924e","border-bottom-color":"#c2924e"}},ne[31]||(ne[31]=[r("div",{class:"absolute inset-0 flex items-center justify-center text-amber-400 dark:text-amber-500/60"},[r("div",{class:"i-heroicons-plus text-2xl animate-pulse"})],-1)])))),128))])]),Fe(YN,{"is-open":u.value,onClose:ne[11]||(ne[11]=oe=>u.value=!1)},null,8,["is-open"]),y.value?(f(),h("div",{key:0,class:"fixed inset-0 bg-black/60 flex items-start justify-center z-50 p-4 backdrop-blur-sm modal-backdrop overflow-y-auto","data-modal-backdrop":"true",onClick:ne[12]||(ne[12]=at(oe=>{g(c)(()=>{y.value=!1,v.value=null})},["self"])),onTouchmove:ne[13]||(ne[13]=at((...oe)=>g(d)&&g(d)(...oe),["self"]))},[r("div",{class:V(["bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm p-6 rounded-xl shadow-lg max-w-md w-full mx-auto mt-20 my-4",{"animate-fadeOut":g(l)}])},[r("div",{class:"flex justify-between items-center mb-4"},[ne[33]||(ne[33]=r("h2",{class:"text-xl font-bold text-gray-800 dark:text-gray-200"},"Salvage All Items",-1)),r("button",{onClick:N,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors"},ne[32]||(ne[32]=[r("span",{class:"i-heroicons-x-mark text-xl"},null,-1)]))]),g(s).isSalvageAllUnlocked?v.value?(f(),h("div",aj,[r("div",{class:V(["p-4 mb-4 rounded-lg text-sm",v.value.success?"bg-green-100/80 text-green-800 dark:bg-green-900/40 dark:text-green-400 backdrop-blur-sm":"bg-red-100/80 text-red-800 dark:bg-red-900/40 dark:text-red-400 backdrop-blur-sm"])},b(v.value.message),3),r("div",{class:"mt-6 flex justify-end"},[r("button",{onClick:N,class:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors"}," Close ")])])):(f(),h("div",sj,[ne[37]||(ne[37]=r("p",{class:"text-gray-600 dark:text-gray-400 mb-4"}," This will salvage all unlocked items that are not equipped. Locked items will be preserved. ",-1)),r("div",oj,[r("button",{onClick:N,class:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors"}," Cancel "),r("button",{onClick:I,disabled:S.value,class:"px-4 py-2 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white rounded-lg text-sm font-medium transition-colors flex items-center"},[S.value?(f(),h("span",nj)):Q("",!0),ne[35]||(ne[35]=r("span",{class:"i-heroicons-beaker mr-1"},null,-1)),ne[36]||(ne[36]=se(" Confirm Salvage "))],8,rj)])])):(f(),h("div",tj,[ne[34]||(ne[34]=qt('<div class="p-4 mb-4 rounded-lg bg-amber-100/80 text-amber-800 dark:bg-amber-900/40 dark:text-amber-400 backdrop-blur-sm" data-v-0513be9d><div class="flex items-start" data-v-0513be9d><span class="i-heroicons-exclamation-triangle mr-2 mt-0.5" data-v-0513be9d></span><div data-v-0513be9d><p class="font-medium" data-v-0513be9d>Upgrade Required</p><p class="text-sm mt-1" data-v-0513be9d> You need to purchase the &quot;Mass Salvaging&quot; upgrade from the prestige shop to use this feature. </p></div></div></div>',1)),r("div",{class:"mt-6 flex justify-end"},[r("button",{onClick:N,class:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors"}," Close ")])]))],2)],32)):Q("",!0)]))}}),ig=st(ij,[["__scopeId","data-v-0513be9d"]]);function lj(){const t=ts(),e=ss(),s=W(!1),o=W(null),n=(c,d=a(1))=>{const m={common:1,uncommon:2,rare:4,epic:8,legendary:16,mythic:32,divine:64}[c.rarity]||1,p=a(1).add(c.level.mul(.1));return a(10).mul(m).mul(p).mul(d).ceil()};return{isLeveling:s,levelingResult:o,calculateHoneydewCost:n,canAffordLevelUp:(c,d=a(1))=>{const u=n(c,d);return e.honeydew.gte(u)},levelUpWithHoneydew:async(c,d=a(1))=>{s.value=!0,o.value=null;try{const u=n(c,d);if(e.honeydew.lt(u))return o.value={success:!1,message:"Not enough honeydew"},!1;e.honeydew=e.honeydew.sub(u);const m=t.addItemXp(c,d);return o.value={success:!0,message:m.leveledUp?`Level up! Item is now level ${m.newLevel.toString()}`:"Added XP to item",leveledUp:m.leveledUp},!0}catch{return o.value={success:!1,message:"An error occurred"},!1}finally{s.value=!1}}}}const cj={key:0,class:"mt-4"},dj={class:"space-y-2"},uj={class:"font-medium"},mj={class:"text-amber-700 dark:text-amber-300"},Yy=Ue({__name:"BugsWhoDropItem",props:{item:{}},setup(t){const e=Xs(),s=Tt();As();const o=l=>e.getBugsByItemId(l),n=(l,c)=>dt(e.getBugDropChance(l,c)),i=l=>s.getRarityColor(l);return(l,c)=>o(l.item.id).length>0?(f(),h("div",cj,[r("h3",{class:V(["font-medium mb-2",i(l.item.rarity)])},"Bugs that drop this item",2),r("div",dj,[(f(!0),h(Ce,null,De(o(l.item.id),d=>(f(),h("div",{key:d.id,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},[r("div",uj,b(d.name),1),r("div",mj,b(n(l.item.id,d.id)),1)]))),128))])])):Q("",!0)}}),pj={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full mx-auto border border-purple-200 dark:border-purple-700 flex flex-col max-h-[90vh]"},fj={class:"p-5 border-b border-gray-200 dark:border-gray-700 sticky top-0 bg-white dark:bg-gray-800 z-10 rounded-t-xl"},gj={class:"flex justify-between items-start"},hj={class:"flex items-center gap-3"},bj=["src","alt"],vj={key:0,class:"i-heroicons-lock-closed text-amber-500 ml-1"},yj={class:"p-5 overflow-y-auto overflow-x-hidden flex-grow"},xj={key:2,class:"p-3 mb-4 rounded-lg bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"},kj={class:"mb-4"},_j={class:"flex justify-between items-center mb-1"},wj={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},Cj={class:"text-xs text-gray-500 dark:text-gray-400"},Sj={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"},$j={class:"flex justify-end mt-1"},Ej={class:"text-xs text-gray-600 dark:text-gray-400"},Aj={class:"font-medium"},Mj={key:3,class:"mt-2 mb-3"},Pj={class:"flex justify-between items-center mb-1"},Tj={class:"text-xs text-amber-600 dark:text-amber-400 font-medium"},Lj={class:"relative h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},Ij={key:4,class:"mb-4 p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg"},Dj={class:"flex items-center justify-between mb-2"},Fj={class:"grid grid-cols-2 sm:grid-cols-3 gap-1"},Rj=["onClick"],Uj={class:"col-span-2 grid grid-cols-2 gap-1"},Bj=["disabled"],qj={class:"flex items-center justify-center"},Oj={key:0,class:"i-heroicons-check-circle ml-1 text-white"},Nj={class:"absolute bottom-full left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs rounded p-1 mb-1 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity z-20"},Hj={key:0,class:"text-red-400 mt-1"},jj={class:"flex items-center justify-center"},Gj={key:0,class:"i-heroicons-check-circle ml-1 text-white"},Vj={class:"absolute bottom-full left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs rounded p-1 mb-1 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity z-20"},Qj={class:"flex justify-between items-center text-sm mb-3"},zj={class:"font-medium text-amber-700 dark:text-amber-400 flex items-center"},Wj={class:"text-xs text-gray-500 dark:text-gray-400 mb-3 flex justify-between items-center"},Yj={key:0,class:"text-xs text-gray-600 dark:text-gray-400 mb-3"},Kj={class:"flex justify-between"},Xj={class:"font-medium"},Zj={key:1,class:"mb-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3"},Jj={class:"text-sm font-medium text-purple-700 dark:text-purple-400 mb-2 flex items-center justify-between"},eG={class:"flex items-center"},tG={key:0},sG={key:1},oG={key:0,class:"text-xs text-gray-600 dark:text-gray-400"},rG={key:0,class:"mb-3"},nG={class:"grid grid-cols-2 gap-x-2 gap-y-1"},aG={key:0,class:"text-xs text-red-600 dark:text-red-400 flex items-center"},iG={key:1,class:"text-xs text-green-600 dark:text-green-400 flex items-center"},lG={key:2,class:"text-xs text-blue-600 dark:text-blue-400 flex items-center"},cG={key:3,class:"text-xs text-purple-600 dark:text-purple-400 flex items-center"},dG={key:1,class:"mb-3"},uG={class:"grid grid-cols-2 gap-x-2 gap-y-1"},mG={key:0,class:"text-xs text-red-600 dark:text-red-400 flex items-center"},pG={key:1,class:"text-xs text-green-600 dark:text-green-400 flex items-center"},fG={key:2,class:"text-xs text-blue-600 dark:text-blue-400 flex items-center"},gG={key:3,class:"text-xs text-purple-600 dark:text-purple-400 flex items-center"},hG={key:2,class:"mb-3"},bG={class:"grid grid-cols-1 gap-1"},vG={key:3,class:"mb-3"},yG={class:"grid grid-cols-1 gap-1"},xG={key:4,class:"mb-3"},kG={class:"grid grid-cols-1 gap-1"},_G={key:5,class:"mb-3"},wG={class:"grid grid-cols-1 gap-1"},CG=["disabled"],SG={key:0,class:"i-heroicons-arrow-path animate-spin mr-2"},$G={class:"space-y-4"},EG={class:"text-sm text-gray-600 dark:text-gray-400"},AG={key:0,class:"space-y-2"},MG={class:"grid grid-cols-2 gap-2"},PG={key:0,class:"text-sm text-red-600 dark:text-red-400"},TG={key:1,class:"text-sm text-green-600 dark:text-green-400"},LG={key:2,class:"text-sm text-blue-600 dark:text-blue-400"},IG={key:3,class:"text-sm text-purple-600 dark:text-purple-400"},DG={key:1,class:"space-y-2"},FG={class:"grid grid-cols-1 gap-1"},RG={key:2,class:"space-y-2"},UG={class:"grid grid-cols-1 gap-1"},BG={class:"space-y-2"},qG={class:"text-sm text-gray-600 dark:text-gray-400"},OG={class:"mt-2 p-2 rounded-lg bg-amber-50 dark:bg-amber-900/20"},NG={class:"text-amber-700 dark:text-amber-400 flex items-center"},HG={class:"font-semibold"},jG={class:"p-5 border-t border-gray-200 dark:border-gray-700 sticky bottom-0 bg-white dark:bg-gray-800 z-10 rounded-b-xl"},GG={key:0,class:"flex flex-col gap-3"},VG={class:"flex gap-3"},QG=["disabled"],zG={key:0,class:"i-heroicons-lock-closed mr-1"},WG={key:1,class:"i-heroicons-lock-open mr-1"},YG={class:"flex gap-3"},KG={class:"flex gap-3"},XG={key:1,class:"flex flex-col gap-3"},ZG={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},JG={class:"flex gap-3"},eV=["disabled"],tV={key:0,class:"i-heroicons-arrow-path animate-spin mr-2"},sV=Ue({__name:"ItemModal",props:{item:{},isItemEquipped:{type:Function},onEquipAction:{type:Function},onClose:{type:Function}},setup(t){const e=t,s=Tt(),o=ts(),n=W(!1),i=W(null),l=W(!1),{handleClose:c,preventBackgroundTouchMove:d}=io(),{formattedHoneydew:u}=ki(),{isLeveling:m,levelingResult:p,calculateHoneydewCost:y,canAffordLevelUp:v,levelUpWithHoneydew:S}=lj(),_=W(!1),C=W(a(1)),x=[{value:a(1),label:"1 XP"},{value:a(5),label:"5 XP"},{value:a(10),label:"10 XP"},{value:a(50),label:"50 XP"},{value:a(100),label:"100 XP"}],$=R(()=>{const te=ss().honeydew;let ye=a(1),$e=y(e.item,ye);if(te.lt($e))return a(0);let Ee=a(1),Re=te;for(;Ee.lt(Re);){const Ne=Ee.add(Re).div(2).floor();$e=y(e.item,Ne),$e.lte(te)?Ee=Ne.add(1):Re=Ne}return Ee.sub(1).max(1)});R(()=>!x.some(J=>J.value.eq(C.value)));const A=R(()=>{const J=y(e.item,X.value),te=ss();return J.lte(te.honeydew)}),M=()=>{const J=X.value;if(J.lte(0))return;const te=y(e.item,J),ye=ss();if(te.gt(ye.honeydew)){L();return}C.value=J},P=R(()=>C.value.eq(X.value)),L=()=>{const J=$.value;J.lte(0)||(C.value=J)},B=R(()=>y(e.item,C.value)),k=R(()=>ie(B.value)),I=R(()=>v(e.item,C.value)),N=async()=>{await S(e.item,C.value)},U=()=>{_.value=!_.value,_.value&&(p.value=null)},j=J=>{J.key==="Escape"&&c(e.onClose,0)};tt(()=>{window.addEventListener("keydown",j)}),fs(()=>{window.removeEventListener("keydown",j)});const ee=()=>{e.onEquipAction(e.item)},ne=()=>{if(we(e.item.id)){i.value={success:!1,message:"This item is locked. Unlock it first to salvage."};return}n.value=!0},oe=async()=>{l.value=!0,i.value=null;const J=o.inventory.findIndex(te=>te.id===e.item.id);if(J!==-1){const te=o.salvageItem(J);i.value=te,te.success&&(await new Promise(ye=>setTimeout(ye,1500)),e.onClose())}else i.value={success:!1,message:"Item not found in inventory"};n.value=!1,l.value=!1},O=()=>{n.value=!1},Y=R(()=>s.getFormattedItemName(e.item)),G=R(()=>o.calculateSalvageValue(e.item)),de=R(()=>!e.item.maxXp||e.item.maxXp.eq(0)?"0%":s.formatXpProgress(e.item.xp,e.item.maxXp)),re=R(()=>!e.item.maxXp||e.item.maxXp.eq(0)?0:Math.min(100,e.item.xp.div(e.item.maxXp).mul(100).toNumber())),he=R(()=>be.fromNumber(o.inventory.length).gte(o.maxInventorySlots)),ve=R(()=>e.isItemEquipped(e.item.id)&&he.value),Se=R(()=>s.getItemStats(e.item)),Me=R(()=>s.getItemProductionModifiers(e.item)),Oe=R(()=>s.getItemSpecialModifiers(e.item)),He=()=>{const J=o.isItemLocked(e.item.id);o.setItemLockStatus(e.item.id,!J),e.item.isLocked=!J},we=J=>(o.migrateEquippedItemsLockStatus(),o.isItemLocked(J)),_e=R(()=>ie(e.item.level,0)),pe=R(()=>ie(e.item.xp,0)),me=R(()=>ie(e.item.maxXp,0)),le=R(()=>ie(G.value,0)),z=R(()=>C.value.eq($.value)),K=R(()=>ie($.value,0)),H=R(()=>{const J=e.item.xp.add(C.value);return e.item.maxXp.eq(0)?0:J.gte(e.item.maxXp)?100:Math.min(100,J.div(e.item.maxXp).mul(100).toNumber())}),T=R(()=>{if(!I.value)return 0;let J=C.value,te=new be(e.item.xp),ye=new be(e.item.maxXp),$e=new be(e.item.level),Ee=0;for(;J.gt(0);){const Re=ye.sub(te);if(J.gte(Re)?(Ee++,$e=$e.add(1),J=J.sub(Re),te=a(0),ye=s.calculateMaxXp($e,e.item.rarity)):(te=te.add(J),J=a(0)),Ee>100)break}return Ee}),D=R(()=>T.value===0?"":`+${T.value} level${T.value>1?"s":""}`),X=R(()=>e.item.maxXp.sub(e.item.xp)),ae=R(()=>ie(X.value,0)),ue=R(()=>{if(T.value>0)return a(0);const J=X.value.sub(C.value);return J.lt(0)?a(0):J}),ke=R(()=>ie(ue.value,0)),ge=R(()=>{const J={...e.item,level:e.item.level.add(1)},te=s.getItemStats(e.item),ye=s.getItemStats(J);if(!te||!ye)return null;const $e={};return Object.keys(ye).forEach(Ee=>{const Re=te[Ee]||a(0),Ne=ye[Ee]||a(0);$e[Ee]=Ne.sub(Re)}),{current:te,next:ye,diff:$e}}),Pe=R(()=>{const J={...e.item,level:e.item.level.add(1)},te=s.getItemProductionModifiers(e.item),ye=s.getItemProductionModifiers(J);if(!te||!ye)return null;const $e={};return Object.keys(ye).forEach(Ee=>{const Re=te[Ee]||a(1),Ne=ye[Ee]||a(1);$e[Ee]=Ne.sub(Re).mul(100)}),{current:te,next:ye,diff:$e}}),fe=R(()=>{const J={...e.item,level:e.item.level.add(1)},te=s.getItemSpecialModifiers(e.item),ye=s.getItemSpecialModifiers(J);if(!te||!ye)return null;const $e={};return Object.keys(ye).forEach(Ee=>{const Re=te[Ee]||a(1),Ne=ye[Ee]||a(1);$e[Ee]=Ne.sub(Re).mul(100)}),{current:te,next:ye,diff:$e}}),E=R(()=>P.value||I.value&&T.value>0),w=R(()=>{if(T.value<=1)return null;const J=e.item.level.add(T.value),te={...e.item,level:J},ye=s.getItemStats(e.item),$e=s.getItemStats(te),Ee=s.getItemProductionModifiers(e.item),Re=s.getItemProductionModifiers(te),Ne=s.getItemSpecialModifiers(e.item),Ge=s.getItemSpecialModifiers(te),ft={},et={},ze={};return ye&&$e&&Object.keys($e).forEach(Ke=>{const Ie=ye[Ke]||a(0),ce=$e[Ke]||a(0);ft[Ke]=ce.sub(Ie)}),Ee&&Re&&Object.keys(Re).forEach(Ke=>{const Ie=Ee[Ke]||a(1),ce=Re[Ke]||a(1);et[Ke]=ce.sub(Ie).mul(100)}),Ne&&Ge&&Object.keys(Ge).forEach(Ke=>{const Ie=Ne[Ke]||a(1),ce=Ge[Ke]||a(1);ze[Ke]=ce.sub(Ie).mul(100)}),{levels:T.value,finalLevel:J,stats:{current:ye,final:$e,diff:ft},prodMods:{current:Ee,final:Re,diff:et},specialMods:{current:Ne,final:Ge,diff:ze}}}),F=W(!1),q=()=>{F.value=!F.value},Z=J=>{try{return new URL(Object.assign({"../assets/items/ascension_matrix.png":hc,"../assets/items/beetle_shell_shield.png":bc,"../assets/items/boss_chitinous_blade.png":vc,"../assets/items/boss_cosmic_nucleus.png":yc,"../assets/items/boss_divine_mandible.png":xc,"../assets/items/boss_hivemind_helm.png":kc,"../assets/items/boss_hivemind_synapse.png":_c,"../assets/items/boss_mandible_gauntlets.png":wc,"../assets/items/boss_nebula_stinger.png":Cc,"../assets/items/boss_omega_particle.png":Sc,"../assets/items/boss_pheromone_catalyst.png":$c,"../assets/items/boss_primordial_chitin_plate.png":Ec,"../assets/items/boss_quantum_core.png":Ac,"../assets/items/boss_quantum_stinger.png":Mc,"../assets/items/boss_reality_fragment.png":Pc,"../assets/items/boss_reality_thread.png":Tc,"../assets/items/boss_royal_carapace.png":Lc,"../assets/items/boss_star_eater_mandible.png":Ic,"../assets/items/boss_temporal_chitin.png":Dc,"../assets/items/boss_void_essence_core.png":Fc,"../assets/items/chronos_shell.png":Rc,"../assets/items/common_ant_training_kit.png":Uc,"../assets/items/cosmic_duality.png":Bc,"../assets/items/divine_ant_queen_crown.png":qc,"../assets/items/divine_eternity_weave.png":Oc,"../assets/items/divine_genesis_claw.png":Nc,"../assets/items/divine_infinity_shard.png":Hc,"../assets/items/divine_transcendence_core.png":jc,"../assets/items/divine_universal_amplifier.png":Gc,"../assets/items/emperor_toxin.png":Vc,"../assets/items/entropy_fangs.png":Qc,"../assets/items/epic_ant_commander_armor.png":zc,"../assets/items/eternity_weave.png":Wc,"../assets/items/evolution_crystal.png":Yc,"../assets/items/exoskeleton_plate.png":Kc,"../assets/items/foraging_tools.png":Xc,"../assets/items/genesis_claw.png":Zc,"../assets/items/hive_amplifier.png":Jc,"../assets/items/infinity_shard.png":ed,"../assets/items/infinity_shard_old.png":td,"../assets/items/leaf_cloak.png":sd,"../assets/items/mandible_crusher.png":od,"../assets/items/mandible_crusher_old.png":rd,"../assets/items/mythic_ascension_matrix.png":nd,"../assets/items/mythic_catalyst.png":ad,"../assets/items/mythic_swarm_controller.png":id,"../assets/items/omnipotent_catalyst.png":ld,"../assets/items/pebble_hammer.png":cd,"../assets/items/quantum_mandibles.png":dd,"../assets/items/rare_ant_tactician_helm.png":ud,"../assets/items/reinforced_mandibles.png":md,"../assets/items/resin_helmet.png":pd,"../assets/items/thorn_spear.png":fd,"../assets/items/thorn_spear_old.png":gd,"../assets/items/training_armor.png":hd,"../assets/items/training_sword.png":bd,"../assets/items/training_sword_old.png":vd,"../assets/items/transcendence_core.png":yd,"../assets/items/uncommon_ant_scout_gear.png":xd,"../assets/items/universal_amplifier.png":kd,"../assets/items/venom_dagger.png":_d,"../assets/items/void_reaver.png":wd,"../assets/items/wooden_shield.png":Cd,"../assets/items/wooden_shield_old.png":Sd,"../assets/items/worker_armor.png":$d,"../assets/items/worker_armor_old.png":Ed,"../assets/items/worker_sword.png":Ad})[`../assets/items/${J}.png`],import.meta.url).href}catch{return}};return(J,te)=>(f(),h("div",{class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm overflow-hidden modal-backdrop","data-modal-backdrop":"true",onClick:te[1]||(te[1]=at(ye=>g(c)(J.onClose,0),["self"])),onTouchmove:te[2]||(te[2]=at((...ye)=>g(d)&&g(d)(...ye),["self"]))},[r("div",pj,[r("div",fj,[r("div",gj,[r("div",hj,[r("div",{class:V(["w-12 h-12 flex-shrink-0 flex items-center justify-center rounded-lg",g(s).getRarityBackground(J.item.rarity)])},[Z(J.item.id)?(f(),h("img",{key:0,src:Z(J.item.id),alt:J.item.name,class:"w-10 h-10 object-contain",style:{"image-rendering":"pixelated"}},null,8,bj)):(f(),h("span",{key:1,class:V(["i-heroicons-photo text-2xl",g(s).getRarityColor(J.item.rarity)])},null,2))],2),r("div",null,[r("h3",{class:V(["text-lg font-bold",g(s).getRarityColor(J.item.rarity)])},[se(b(Y.value)+" ",1),we(J.item.id)?(f(),h("span",vj)):Q("",!0)],2)])]),r("button",{onClick:te[0]||(te[0]=ye=>g(c)(J.onClose,0)),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors ml-4"},te[3]||(te[3]=[r("span",{class:"i-heroicons-x-mark text-xl"},null,-1)]))])]),r("div",yj,[i.value?(f(),h("div",{key:0,class:V(["p-3 mb-4 rounded-lg text-sm",i.value.success?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"])},b(i.value.message),3)):Q("",!0),g(p)?(f(),h("div",{key:1,class:V(["p-3 mb-4 rounded-lg text-sm",g(p).success?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"])},b(g(p).message),3)):Q("",!0),ve.value?(f(),h("div",xj,te[4]||(te[4]=[r("div",{class:"flex items-start"},[r("span",{class:"i-heroicons-exclamation-triangle mr-2 mt-0.5"}),r("div",null,[r("p",{class:"font-medium"},"Warning: Inventory Full"),r("p",{class:"text-xs mt-1"},"You cannot unequip this item because your inventory is full. Free up space first. ")])],-1)]))):Q("",!0),r("div",kj,[r("div",_j,[r("div",wj," Level "+b(_e.value),1),r("div",Cj,b(pe.value)+" / "+b(me.value)+" XP ("+b(de.value)+") ",1)]),r("div",Sj,[r("div",{class:"bg-purple-600 h-2 rounded-full",style:Je({width:re.value+"%"})},null,4)]),r("div",$j,[r("div",Ej,[te[5]||(te[5]=se(" Till next level: ")),r("span",Aj,b(ae.value)+" XP",1)])])]),I.value?(f(),h("div",Mj,[r("div",Pj,[te[6]||(te[6]=r("div",{class:"text-xs text-gray-600 dark:text-gray-400"}," Projected progress: ",-1)),r("div",Tj,b(D.value),1)]),r("div",Lj,[r("div",{class:"absolute left-0 top-0 h-full bg-purple-600 rounded-full",style:Je({width:re.value+"%"})},null,4),r("div",{class:"absolute left-0 top-0 h-full bg-amber-500 rounded-full opacity-60",style:Je({width:H.value+"%",clipPath:re.value>0?`inset(0 0 0 ${re.value}%)`:"none"})},null,4)])])):Q("",!0),_.value?(f(),h("div",Ij,[te[36]||(te[36]=r("div",{class:"text-sm font-medium text-amber-700 dark:text-amber-400 mb-2"},"Level up with Honeydew",-1)),r("div",Dj,[te[11]||(te[11]=r("div",{class:"text-xs text-gray-600 dark:text-gray-400"}," Select XP amount: ",-1)),r("div",Fj,[(f(!0),h(Ce,null,De(x.slice(0,4),ye=>(f(),h("button",{key:ye.label,onClick:$e=>C.value=ye.value,class:V(["px-2 py-1 text-xs rounded",C.value.eq(ye.value)?"bg-amber-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"])},b(ye.label),11,Rj))),128)),r("div",Uj,[r("button",{onClick:M,disabled:!A.value,class:V(["px-2 py-1 text-xs rounded group relative truncate",P.value?"bg-amber-600 text-white":A.value?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 opacity-70 cursor-not-allowed"])},[r("span",qj,[te[7]||(te[7]=r("span",{class:"i-heroicons-arrow-up-circle mr-1"},null,-1)),te[8]||(te[8]=se(" Level Up ")),P.value?(f(),h("span",Oj)):Q("",!0)]),r("div",Nj,[se(b(ae.value)+" XP (Exact amount to level up) ",1),A.value?Q("",!0):(f(),h("div",Hj,"Not enough honeydew"))])],10,Bj),r("button",{onClick:L,class:V(["px-2 py-1 text-xs rounded group relative",z.value?"bg-amber-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"])},[r("span",jj,[te[9]||(te[9]=r("span",{class:"i-heroicons-beaker-solid mr-1"},null,-1)),te[10]||(te[10]=se(" Max XP ")),z.value?(f(),h("span",Gj)):Q("",!0)]),r("div",Vj,b(K.value)+" XP (All available honeydew) ",1)],2)])])]),r("div",Qj,[te[13]||(te[13]=r("div",{class:"text-gray-600 dark:text-gray-400"},"Cost:",-1)),r("div",zj,[te[12]||(te[12]=r("span",{class:"i-heroicons-beaker-solid mr-1"},null,-1)),se(" "+b(k.value)+" Honeydew ",1)])]),r("div",Wj,[te[14]||(te[14]=r("span",null,"Your honeydew:",-1)),r("span",null,b(g(u)),1)]),I.value&&T.value===0?(f(),h("div",Yj,[r("div",Kj,[te[15]||(te[15]=r("span",null,"After applying:",-1)),r("span",Xj,b(ke.value)+" XP till next level",1)])])):Q("",!0),E.value?(f(),h("div",Zj,[r("div",Jj,[r("div",eG,[te[16]||(te[16]=r("span",{class:"i-heroicons-arrow-trending-up mr-1"},null,-1)),w.value?(f(),h("span",tG," Level Up Preview (+"+b(w.value.levels)+" levels) ",1)):(f(),h("span",sG," Level Up Preview "))]),w.value?(f(),h("div",oG," To level "+b(g(ie)(w.value.finalLevel,0)),1)):Q("",!0)]),!w.value&&ge.value&&Object.keys(ge.value.diff).length>0?(f(),h("div",rG,[te[21]||(te[21]=r("div",{class:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Stats:",-1)),r("div",nG,[ge.value.diff.damage?(f(),h("div",aG,[te[17]||(te[17]=r("span",{class:"i-heroicons-plus-small mr-0.5"},null,-1)),se(" Damage: +"+b(g(ie)(ge.value.diff.damage,1)),1)])):Q("",!0),ge.value.diff.health?(f(),h("div",iG,[te[18]||(te[18]=r("span",{class:"i-heroicons-plus-small mr-0.5"},null,-1)),se(" Health: +"+b(g(ie)(ge.value.diff.health,1)),1)])):Q("",!0),ge.value.diff.defense?(f(),h("div",lG,[te[19]||(te[19]=r("span",{class:"i-heroicons-plus-small mr-0.5"},null,-1)),se(" Defense: +"+b(g(ie)(ge.value.diff.defense,1)),1)])):Q("",!0),ge.value.diff.regen?(f(),h("div",cG,[te[20]||(te[20]=r("span",{class:"i-heroicons-plus-small mr-0.5"},null,-1)),se(" Regen: +"+b(g(ie)(ge.value.diff.regen,1)),1)])):Q("",!0)])])):Q("",!0),w.value&&w.value.stats.diff&&Object.keys(w.value.stats.diff).length>0?(f(),h("div",dG,[te[26]||(te[26]=r("div",{class:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Stats:",-1)),r("div",uG,[w.value.stats.diff.damage?(f(),h("div",mG,[te[22]||(te[22]=r("span",{class:"i-heroicons-plus-small mr-0.5"},null,-1)),se(" Damage: +"+b(g(ie)(w.value.stats.diff.damage,1)),1)])):Q("",!0),w.value.stats.diff.health?(f(),h("div",pG,[te[23]||(te[23]=r("span",{class:"i-heroicons-plus-small mr-0.5"},null,-1)),se(" Health: +"+b(g(ie)(w.value.stats.diff.health,1)),1)])):Q("",!0),w.value.stats.diff.defense?(f(),h("div",fG,[te[24]||(te[24]=r("span",{class:"i-heroicons-plus-small mr-0.5"},null,-1)),se(" Defense: +"+b(g(ie)(w.value.stats.diff.defense,1)),1)])):Q("",!0),w.value.stats.diff.regen?(f(),h("div",gG,[te[25]||(te[25]=r("span",{class:"i-heroicons-plus-small mr-0.5"},null,-1)),se(" Regen: +"+b(g(ie)(w.value.stats.diff.regen,1)),1)])):Q("",!0)])])):Q("",!0),!w.value&&Pe.value&&Object.keys(Pe.value.diff).length>0?(f(),h("div",hG,[te[28]||(te[28]=r("div",{class:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Production Modifiers:",-1)),r("div",bG,[(f(!0),h(Ce,null,De(Object.entries(Pe.value.diff),([ye,$e])=>(f(),h("div",{key:ye,class:"text-xs text-amber-600 dark:text-amber-400 flex items-center"},[te[27]||(te[27]=r("span",{class:"i-heroicons-plus-small mr-0.5"},null,-1)),se(" "+b(ye.charAt(0).toUpperCase()+ye.slice(1))+": +"+b(g(ie)($e,1))+"% increase ",1)]))),128))])])):Q("",!0),w.value&&w.value.prodMods.diff&&Object.keys(w.value.prodMods.diff).length>0?(f(),h("div",vG,[te[30]||(te[30]=r("div",{class:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Production Modifiers:",-1)),r("div",yG,[(f(!0),h(Ce,null,De(Object.entries(w.value.prodMods.diff),([ye,$e])=>(f(),h("div",{key:ye,class:"text-xs text-amber-600 dark:text-amber-400 flex items-center"},[te[29]||(te[29]=r("span",{class:"i-heroicons-plus-small mr-0.5"},null,-1)),se(" "+b(ye.charAt(0).toUpperCase()+ye.slice(1))+": +"+b(g(ie)($e,1))+"% increase ",1)]))),128))])])):Q("",!0),!w.value&&fe.value&&Object.keys(fe.value.diff).length>0?(f(),h("div",xG,[te[32]||(te[32]=r("div",{class:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Special Modifiers:",-1)),r("div",kG,[(f(!0),h(Ce,null,De(Object.entries(fe.value.diff),([ye,$e])=>(f(),h("div",{key:ye,class:"text-xs text-indigo-600 dark:text-indigo-400 flex items-center"},[te[31]||(te[31]=r("span",{class:"i-heroicons-plus-small mr-0.5"},null,-1)),se(" "+b(ye==="epBoost"?"EP Gain":ye)+": +"+b(g(ie)($e,1))+"% increase ",1)]))),128))])])):Q("",!0),w.value&&w.value.specialMods.diff&&Object.keys(w.value.specialMods.diff).length>0?(f(),h("div",_G,[te[34]||(te[34]=r("div",{class:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Special Modifiers:",-1)),r("div",wG,[(f(!0),h(Ce,null,De(Object.entries(w.value.specialMods.diff),([ye,$e])=>(f(),h("div",{key:ye,class:"text-xs text-indigo-600 dark:text-indigo-400 flex items-center"},[te[33]||(te[33]=r("span",{class:"i-heroicons-plus-small mr-0.5"},null,-1)),se(" "+b(ye==="epBoost"?"EP Gain":ye)+": +"+b(g(ie)($e,1))+"% increase ",1)]))),128))])])):Q("",!0)])):Q("",!0),r("button",{onClick:N,disabled:!I.value||g(m),class:V(["w-full py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center",I.value&&!g(m)?"bg-amber-600 hover:bg-amber-700 text-white":"bg-gray-400 text-white cursor-not-allowed"])},[g(m)?(f(),h("span",SG)):Q("",!0),te[35]||(te[35]=se(" Apply Honeydew "))],10,CG)])):Q("",!0),F.value?(f(),rt(Yy,{key:5,item:J.item,class:"mt-4"},null,8,["item"])):Q("",!0),r("div",$G,[r("p",EG,b(J.item.description),1),Se.value?(f(),h("div",AG,[te[37]||(te[37]=r("h4",{class:"font-semibold text-sm text-gray-700 dark:text-gray-300"},"Stats:",-1)),r("div",MG,[Se.value.damage?(f(),h("div",PG," Damage: +"+b(g(ie)(Se.value.damage,1)),1)):Q("",!0),Se.value.health?(f(),h("div",TG," Health: +"+b(g(ie)(Se.value.health,1)),1)):Q("",!0),Se.value.defense?(f(),h("div",LG," Defense: +"+b(g(ie)(Se.value.defense,1)),1)):Q("",!0),Se.value.regen?(f(),h("div",IG," Regen: +"+b(g(ie)(Se.value.regen,1)),1)):Q("",!0)])])):Q("",!0),Me.value?(f(),h("div",DG,[te[38]||(te[38]=r("h4",{class:"font-semibold text-sm text-gray-700 dark:text-gray-300"},"Production Modifiers:",-1)),r("div",FG,[(f(!0),h(Ce,null,De(Object.entries(Me.value),([ye,$e])=>(f(),h("div",{key:ye,class:"text-sm text-amber-600 dark:text-amber-400"},b(ye.charAt(0).toUpperCase()+ye.slice(1))+": "+b($e.minus(1).mul(100).toFixed(1))+"% increase ",1))),128))])])):Q("",!0),Oe.value?(f(),h("div",RG,[te[39]||(te[39]=r("h4",{class:"font-semibold text-sm text-gray-700 dark:text-gray-300"},"Special Modifiers:",-1)),r("div",UG,[(f(!0),h(Ce,null,De(Object.entries(Oe.value),([ye,$e])=>(f(),h("div",{key:ye,class:"text-sm text-indigo-600 dark:text-indigo-400"},b(ye==="epBoost"?"EP Gain":ye)+": "+b($e.minus(1).mul(100).toFixed(1))+"% increase ",1))),128))])])):Q("",!0),r("div",BG,[te[44]||(te[44]=r("h4",{class:"font-semibold text-sm text-gray-700 dark:text-gray-300"},"Salvage Information:",-1)),r("div",qG,[te[43]||(te[43]=r("p",null,"Salvaging this item will yield:",-1)),r("div",OG,[r("p",NG,[te[40]||(te[40]=r("span",{class:"i-heroicons-beaker mr-1"},null,-1)),r("span",HG,b(le.value),1),te[41]||(te[41]=r("span",{class:"ml-1"},"Pheromone Essence",-1))]),te[42]||(te[42]=r("p",{class:"text-xs mt-1 text-gray-500 dark:text-gray-400"}," Higher rarity items and levels yield more essence ",-1))])])])])]),r("div",jG,[n.value?Q("",!0):(f(),h("div",GG,[r("div",VG,[r("button",{onClick:ee,class:V(["flex-1 px-4 py-2 text-white rounded-lg text-sm font-medium transition-colors",[J.isItemEquipped(J.item.id)&&!ve.value?"bg-purple-600 hover:bg-purple-700":J.isItemEquipped(J.item.id)&&ve.value?"bg-gray-400 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700"]]),disabled:ve.value},b(J.isItemEquipped(J.item.id)?"Unequip":"Equip"),11,QG),r("button",{onClick:He,class:V(["px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center",we(J.item.id)?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"])},[we(J.item.id)?(f(),h("span",zG)):(f(),h("span",WG)),se(" "+b(we(J.item.id)?"Unlock":"Lock"),1)],2),r("button",{onClick:ne,class:V(["px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-lg text-sm font-medium transition-colors flex items-center",we(J.item.id)?"opacity-50 cursor-not-allowed":""])},te[45]||(te[45]=[r("span",{class:"i-heroicons-beaker mr-1"},null,-1),se(" Salvage ")]),2)]),r("div",YG,[r("button",{onClick:U,class:"flex-1 px-4 py-2 bg-amber-600 hover:bg-amber-700 text-amber-900 dark:text-amber-100 rounded-lg text-sm font-medium transition-colors flex items-center justify-center"},[te[46]||(te[46]=r("span",{class:"i-heroicons-beaker-solid mr-1"},null,-1)),se(" "+b(_.value?"Hide Leveling":"Level with Honeydew"),1)]),r("div",KG,[r("button",{onClick:q,class:"flex-1 px-4 py-2 bg-sky-600 hover:bg-sky-700 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center"},[te[47]||(te[47]=r("span",{class:"i-heroicons-bug-ant mr-1"},null,-1)),se(" "+b(F.value?"Hide Bug Drops":"Show Bug Drops"),1)])])])])),n.value?(f(),h("div",XG,[r("p",ZG," Salvage "+b(J.item.name)+" (Level "+b(_e.value)+") for "+b(le.value)+" Pheromone Essence? ",1),r("div",JG,[r("button",{onClick:O,class:"flex-1 px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors"}," Cancel "),r("button",{onClick:oe,disabled:l.value,class:V(["flex-1 px-4 py-2 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center",l.value?"bg-amber-400":"bg-amber-600 hover:bg-amber-700"])},[l.value?(f(),h("span",tV)):Q("",!0),te[48]||(te[48]=se(" Confirm Salvage "))],10,eV)])])):Q("",!0)])])],32))}}),oV={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-5 mx-auto border border-purple-200 dark:border-purple-700"},rV={class:"space-y-3"},nV={class:"bg-purple-50 dark:bg-purple-900/30 p-3 rounded-lg border border-purple-200 dark:border-purple-700"},aV={class:"text-sm font-bold text-purple-600 dark:text-purple-500"},iV={class:"flex justify-end mt-4"},lV=Ue({__name:"LockedSlotModal",props:{onClose:{type:Function}},setup(t){const e=ts();return(s,o)=>(f(),h("div",{class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",onKeydown:o[1]||(o[1]=Ya((...n)=>s.onClose&&s.onClose(...n),["esc"])),onClick:o[2]||(o[2]=(...n)=>s.onClose&&s.onClose(...n))},[r("div",oV,[o[6]||(o[6]=r("h3",{class:"text-base font-bold mb-3 flex items-center text-purple-800 dark:text-purple-300 pb-2 border-b border-purple-200 dark:border-purple-700"},[r("span",{class:"i-heroicons-lock-closed text-purple-600 dark:text-purple-400 mr-2"}),se(" Locked Equipment Slot ")],-1)),r("div",rV,[o[4]||(o[4]=r("div",{class:"text-sm text-gray-700 dark:text-gray-300"},' This equipment slot is currently locked. You can unlock additional equipment slots through the prestige upgrade "Equipment Mastery". ',-1)),r("div",nV,[o[3]||(o[3]=r("div",{class:"text-xs text-purple-700 dark:text-purple-400 font-medium mb-1"},"Current Progress",-1)),r("div",aV,b(g(e).unlockedEquipmentSlots)+"/"+b(g(e).maxEquipmentSlots)+" slots unlocked ",1)]),o[5]||(o[5]=r("div",{class:"text-xs text-gray-500 dark:text-gray-400"}," Tip: Each level of Equipment Mastery unlocks one additional slot, up to a maximum of 10 bonus slots. ",-1))]),r("div",iV,[r("button",{onClick:o[0]||(o[0]=(...n)=>s.onClose&&s.onClose(...n)),class:"py-2 px-4 bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-800 rounded-lg text-white text-sm font-medium transition-colors"}," Close ")])])],32))}}),cV={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-5 mx-auto border border-purple-200 dark:border-purple-700"},dV={class:"space-y-4"},uV={class:"text-sm text-gray-700 dark:text-gray-300"},mV={class:"font-medium text-purple-600 dark:text-purple-400"},pV={key:0,class:"p-3 bg-red-100 dark:bg-red-900/30 rounded-lg border border-red-200 dark:border-red-800"},fV={class:"grid grid-cols-2 gap-2"},gV=["onClick"],hV={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},bV={class:"text-xs text-gray-500 dark:text-gray-400"},vV=Ue({__name:"SlotSelectionModal",props:{item:{},onClose:{type:Function},onSlotSelect:{type:Function}},setup(t){const e=t,s=ts(),o=Tt(),{handleClose:n,preventBackgroundTouchMove:i}=io(),l=()=>{n(e.onClose,0)},c=y=>{y.key==="Escape"&&l()};tt(()=>{window.addEventListener("keydown",c)}),fs(()=>{window.removeEventListener("keydown",c)});const d=R(()=>be.fromNumber(s.inventory.length).gte(s.maxInventorySlots)),u=y=>s.inventory.find(S=>S.id===y)||o.getItem(y),m=y=>{const v=u(y);return v?o.getFormattedItemName(v):""},p=s.equipmentSlots.filter(y=>!y.locked);return(y,v)=>(f(),h("div",{class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm modal-backdrop","data-modal-backdrop":"true",onClick:at(l,["self"]),onTouchmove:v[0]||(v[0]=at((...S)=>g(i)&&g(i)(...S),["self"]))},[r("div",cV,[v[5]||(v[5]=r("h3",{class:"text-base font-bold mb-3 flex items-center text-purple-800 dark:text-purple-300 pb-2 border-b border-purple-200 dark:border-purple-700"},[r("span",{class:"i-heroicons-squares-2x2 text-purple-600 dark:text-purple-400 mr-2"}),se(" Select Slot to Replace ")],-1)),r("div",dV,[r("div",uV,[v[1]||(v[1]=se(" All equipment slots are occupied. Select which item you want to replace with ")),r("span",mV,b(e.item.name)+" (Lvl "+b(e.item.level.toString())+")",1),v[2]||(v[2]=se(". "))]),d.value?(f(),h("div",pV,v[3]||(v[3]=[qt('<div class="flex items-start"><span class="i-heroicons-exclamation-triangle text-red-600 dark:text-red-400 mr-2 mt-0.5"></span><div class="flex-1"><p class="text-sm font-medium text-red-800 dark:text-red-400">Inventory Full Warning</p><p class="text-xs text-red-700 dark:text-red-300 mt-1"> Your inventory is full! If you replace an equipped item, it may be discarded as there&#39;s no space to store it. Consider freeing up space first. </p></div></div>',1)]))):Q("",!0),r("div",fV,[(f(!0),h(Ce,null,De(g(p),(S,_)=>{var C;return f(),h("button",{key:_,onClick:x=>y.onSlotSelect(g(s).equipmentSlots.indexOf(S)),class:V(["relative p-3 rounded-lg border-2 border-gray-200 dark:border-gray-700 hover:border-purple-500 dark:hover:border-purple-400 transition-colors text-left",{"border-red-300 dark:border-red-700":d.value}])},[r("div",hV,b(m(S.item)),1),r("div",bV,b((C=u(S.item))==null?void 0:C.type),1),v[4]||(v[4]=r("div",{class:"text-[10px] text-gray-400 dark:text-gray-500 mt-1"}," Click to replace ",-1))],10,gV)}),128))]),r("div",{class:"flex justify-end space-x-3 mt-4"},[r("button",{onClick:l,class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 text-sm font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"}," Cancel ")])])])],32))}}),yV={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-5 mx-auto border border-purple-200 dark:border-purple-700"},xV={class:"space-y-4"},kV={class:"grid grid-cols-2 gap-2 max-h-[60vh] overflow-y-auto p-1"},_V=["onClick"],wV={class:"text-xs text-gray-500 dark:text-gray-400"},CV={class:"absolute top-1 right-1 flex space-x-1"},SV={class:"bg-purple-200/90 dark:bg-purple-900/90 text-purple-900 dark:text-purple-200 rounded-md px-1.5 py-0.5 text-xs font-medium"},$V={class:"flex justify-end space-x-3 mt-4"},EV=Ue({__name:"ItemSelectionModal",props:{onClose:{type:Function},onItemSelect:{type:Function}},setup(t){const e=ts(),s=Tt(),o=e.inventory.filter(i=>i.type==="equipment"),n=i=>s.getFormattedItemName(i);return(i,l)=>(f(),h("div",{class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",onKeydown:l[1]||(l[1]=Ya((...c)=>i.onClose&&i.onClose(...c),["esc"])),onClick:l[2]||(l[2]=(...c)=>i.onClose&&i.onClose(...c))},[r("div",yV,[l[4]||(l[4]=r("h3",{class:"text-base font-bold mb-3 flex items-center text-purple-800 dark:text-purple-300 pb-2 border-b border-purple-200 dark:border-purple-700"},[r("span",{class:"i-heroicons-squares-2x2 text-purple-600 dark:text-purple-400 mr-2"}),se(" Select Item to Equip ")],-1)),r("div",xV,[l[3]||(l[3]=r("div",{class:"text-sm text-gray-700 dark:text-gray-300"}," Select an item from your inventory to equip in this slot. ",-1)),r("div",kV,[(f(!0),h(Ce,null,De(g(o),c=>(f(),h("button",{key:c.id,onClick:d=>i.onItemSelect(c),class:V(["relative p-3 rounded-lg border-2 border-gray-200 dark:border-gray-700 hover:border-purple-500 dark:hover:border-purple-400 transition-colors text-left",g(s).getRarityBackground(c.rarity)])},[r("div",{class:V(["text-sm font-medium",g(s).getRarityColor(c.rarity)])},b(n(c)),3),r("div",wV,b(c.type),1),r("div",CV,[r("div",SV," Lvl "+b(c.level.toString()),1)])],10,_V))),128))]),r("div",$V,[r("button",{onClick:l[0]||(l[0]=(...c)=>i.onClose&&i.onClose(...c)),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 text-sm font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"}," Cancel ")])])])],32))}}),AV={class:"space-y-4 pb-14"},MV={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},PV={class:"bg-white/90 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl shadow-md border border-amber-200 dark:border-amber-700 overflow-hidden"},TV={class:"p-4"},LV={class:"bg-white/90 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl shadow-md border border-amber-200 dark:border-amber-700 overflow-hidden"},IV={class:"text-lg font-semibold text-amber-800 dark:text-amber-400 p-4 border-b border-amber-200 dark:border-amber-700"},DV={key:0,class:"ml-2 px-2 py-0.5 text-sm rounded-full bg-purple-900/50 text-purple-300"},FV={class:"p-4"},RV={key:1,class:"bg-white/90 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl shadow-md border border-amber-200 dark:border-amber-700 overflow-hidden"},UV={key:0,class:"p-4"},BV={key:1,class:"p-4"},qV=Ue({__name:"InventoryPage",setup(t){const e=ts(),s=Tt(),{showToast:o}=zt(),{width:n}=j0(),i=R(()=>n.value<768),l=W(null),c=W(!1),d=W(!1),u=W(!1),m=W(null);tt(()=>{i.value||e.setActiveTab("inventory")});const p=A=>{l.value=A},y=()=>{l.value=null},v=(A,M)=>{if(A.locked){c.value=!0;return}if(A.item){const P=e.inventory.find(L=>L.id===A.item);if(P)p(P);else{const L=s.getItem(A.item);L&&p({...L,level:be.fromNumber(1),xp:be.fromNumber(0),maxXp:s.calculateMaxXp(be.fromNumber(1),L.rarity)})}}else m.value=M,u.value=!0},S=A=>{p(A)},_=A=>{if($(A.id)){const M=e.equipmentSlots.findIndex(P=>P.item===A.id);if(M!==-1&&!e.unequipItem(M)){o("Inventory is full! Free up space to unequip items.","error",5e3);return}}else{const M=e.equipmentSlots.findIndex(P=>!P.locked&&!P.item);if(M!==-1){const P=e.inventory.findIndex(L=>L.id===A.id);if(P!==-1&&!e.equipItem(A.id,M,P)){o("Cannot equip item! Inventory is full and item in slot cannot be unequipped.","error",5e3);return}}else{d.value=!0;return}}y()},C=A=>{if(l.value){const M=e.inventory.findIndex(P=>P.id===l.value.id);if(M!==-1){if(!e.equipItem(l.value.id,A,M)){o("Cannot equip item! Inventory is full and item in slot cannot be unequipped.","error",5e3);return}d.value=!1,y()}}},x=A=>{if(m.value!==null){const M=e.inventory.findIndex(P=>P.id===A.id);if(M!==-1){if(!e.equipItem(A.id,m.value,M)){o("Cannot equip item! Inventory is full and item in slot cannot be unequipped.","error",5e3);return}u.value=!1,m.value=null}}},$=A=>e.equipmentSlots.some(M=>M.item===A);return(A,M)=>(f(),h("div",AV,[M[2]||(M[2]=r("h1",{class:"text-xl font-bold mb-2 flex items-center text-amber-800 dark:text-amber-400"},[r("span",{class:"i-heroicons-squares-2x2 text-amber-700 dark:text-amber-500 mr-2"}),se(" Inventory ")],-1)),i.value?(f(),h("div",RV,[g(e).activeTab==="equipment"?(f(),h("div",UV,[Fe(rg,{"on-slot-click":v})])):g(e).activeTab==="inventory"?(f(),h("div",BV,[Fe(ig,{"on-item-click":S,"is-item-equipped":$})])):Q("",!0)])):(f(),h("div",MV,[r("div",PV,[M[0]||(M[0]=r("h2",{class:"text-lg font-semibold text-amber-800 dark:text-amber-400 p-4 border-b border-amber-200 dark:border-amber-700"}," Equipment ",-1)),r("div",TV,[Fe(rg,{"on-slot-click":v})])]),r("div",LV,[r("h2",IV,[M[1]||(M[1]=se(" Inventory ")),g(e).inventory.length>0?(f(),h("span",DV,b(g(e).inventory.length),1)):Q("",!0)]),r("div",FV,[Fe(ig,{"on-item-click":S,"is-item-equipped":$})])])])),c.value?(f(),rt(lV,{key:2,"on-close":()=>c.value=!1},null,8,["on-close"])):Q("",!0),l.value?(f(),rt(sV,{key:3,item:l.value,"is-item-equipped":$,"on-equip-action":_,"on-close":y},null,8,["item"])):Q("",!0),d.value&&l.value?(f(),rt(vV,{key:4,item:l.value,"on-close":()=>d.value=!1,"on-slot-select":C},null,8,["item","on-close"])):Q("",!0),u.value?(f(),rt(EV,{key:5,"on-close":()=>{u.value=!1,m.value=null},"on-item-select":x},null,8,["on-close"])):Q("",!0),Fe(wr,{threshold:400})]))}}),OV=st(qV,[["__scopeId","data-v-552a8cca"]]),NV={key:0,class:"bg-white dark:bg-gray-800 rounded-xl shadow-md border border-gray-200/50 dark:border-gray-700/50 p-4"},HV={class:"space-y-2"},jV={class:"text-sm text-amber-700 dark:text-amber-400"},GV={class:"text-sm font-medium text-green-600 dark:text-green-400"},VV=Ue({__name:"AchievementModifiersPanel",setup(t){const{getTotalMultiplier:e}=Oy(),s=Ws(),o=R(()=>{const c=new Set;return s.achievementList.filter(u=>u.completed&&u.modifiers&&u.modifiers.length>0).forEach(u=>{u.modifiers&&u.modifiers.forEach(m=>{c.add(m.target)})}),Array.from(c).sort((u,m)=>u==="global"?-1:m==="global"||u==="ep"?1:m==="ep"?-1:u.localeCompare(m))}),n=R(()=>o.value.length>0),i=c=>({global:"All Generators",worker:"Workers",nursery:"Nurseries",queenChamber:"Queen Chambers",colony:"Colonies",megacolony:"Megacolonies",hivemind:"Hiveminds",antopolis:"Antopolis",alateHatchery:"Alate Hatchery",ep:"Evolution Points"})[c]||c,l=c=>{const u=e(c).sub(1);return`+${dt(u)}`};return(c,d)=>n.value?(f(),h("div",NV,[d[0]||(d[0]=r("div",{class:"flex items-center gap-2 mb-3"},[r("span",{class:"i-heroicons-trophy text-amber-500 text-lg"}),r("h3",{class:"text-amber-800 dark:text-amber-300 font-medium"},"Achievement Bonuses")],-1)),r("div",HV,[(f(!0),h(Ce,null,De(o.value,u=>(f(),h("div",{key:u,class:"flex items-center justify-between"},[r("div",jV,b(i(u)),1),r("div",GV,b(l(u)),1)]))),128))]),d[1]||(d[1]=r("div",{class:"mt-3 text-xs text-amber-600 dark:text-amber-500 opacity-80"}," Complete more achievements to earn additional bonuses! ",-1))])):Q("",!0)}}),QV={class:"space-y-4"},zV={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-4 border border-gray-200/50 dark:border-gray-700/50"},WV={class:"flex items-center justify-between"},YV={class:"flex flex-col items-center gap-3"},KV={class:"text-center"},XV={class:"text-sm text-amber-700 dark:text-amber-400"},ZV={class:"w-32 h-2 mt-1 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},JV={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden border border-gray-200/50 dark:border-gray-700/50"},eQ={class:"flex overflow-x-auto scrollbar-hide"},tQ=["onClick"],sQ={class:"flex items-center gap-2"},oQ={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md border border-gray-200/50 dark:border-gray-700/50 divide-y divide-gray-100 dark:divide-gray-700"},rQ={key:0,class:"p-8 text-center text-amber-700 dark:text-amber-400"},nQ={class:"flex items-center gap-4"},aQ={class:"flex-1 min-w-0"},iQ={class:"flex items-baseline justify-between"},lQ={key:0,class:"ml-2 flex-shrink-0 text-xs text-amber-500 dark:text-amber-400"},cQ={class:"mt-1 text-sm text-amber-600 dark:text-amber-400"},dQ={key:0,class:"mt-1 text-sm text-green-600 dark:text-green-400 flex items-center gap-1"},uQ={key:0},mQ={class:"mt-2 flex items-center"},pQ={class:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},fQ={class:"ml-2 text-xs text-amber-700 dark:text-amber-400 whitespace-nowrap"},gQ=Ue({__name:"AchievementsPage",setup(t){xi();const e=Ws(),s=e.categories,{totalAchievements:o,completedAchievements:n,completionPercentage:i}=e,l=W("general"),c=v=>{l.value=v},d=R(()=>e.getAchievementsByCategory(l.value).filter(v=>!v.hiddenUntilCompleted||v.completed)),u=v=>v?new Date(v).toLocaleDateString():"",m=v=>{if(v.completed)return 100;const S=v.currentValue,_=v.requirement;if(_.eq(0))return 0;const C=S.div(_).mul(100).toNumber();return Math.min(Math.floor(C),99)},p=v=>dt(v.multiplier.sub(1)),y=v=>!!v.modifiers&&v.modifiers.length>0;return(v,S)=>(f(),h("div",QV,[r("div",zV,[r("div",WV,[S[1]||(S[1]=r("div",null,[r("h1",{class:"text-2xl font-bold text-amber-800 dark:text-amber-300"},"Achievements"),r("p",{class:"text-amber-700 dark:text-amber-400 text-sm"}," Complete tasks to earn rewards and recognition ")],-1)),r("div",YV,[S[0]||(S[0]=r("span",{class:"i-heroicons-trophy text-3xl text-amber-500"},null,-1)),r("div",KV,[r("div",XV,b(g(n))+" / "+b(g(o))+" completed ",1),r("div",ZV,[r("div",{class:"h-full bg-amber-500 dark:bg-amber-600 rounded-full",style:Je({width:`${g(i)}%`})},null,4)])])])])]),Fe(VV),r("div",JV,[r("div",eQ,[(f(!0),h(Ce,null,De(g(s),_=>(f(),h("button",{key:_.id,onClick:C=>c(_.id),class:V(["px-4 py-3 whitespace-nowrap transition-colors duration-200",[l.value===_.id?"text-amber-800 dark:text-amber-300 font-medium border-b-2 border-amber-500":"text-amber-600 dark:text-amber-400 hover:text-amber-800 dark:hover:text-amber-300 hover:bg-amber-50 dark:hover:bg-amber-900/20"]])},[r("div",sQ,[r("span",{class:V([_.icon])},null,2),se(" "+b(_.name),1)])],10,tQ))),128))])]),r("div",oQ,[d.value.length===0?(f(),h("div",rQ,S[2]||(S[2]=[r("div",{class:"flex flex-col items-center space-y-3"},[r("span",{class:"i-heroicons-trophy text-5xl opacity-30"}),r("h3",{class:"text-lg font-medium"},"No Achievements Found"),r("p",{class:"max-w-md text-sm opacity-80"}," There are no achievements in this category yet, or they're all hidden until completed. ")],-1)]))):Q("",!0),(f(!0),h(Ce,null,De(d.value,_=>(f(),h("div",{key:_.id,class:"p-4 hover:bg-amber-50/50 dark:hover:bg-amber-900/10 transition-colors duration-200"},[r("div",nQ,[r("div",{class:V(["flex-shrink-0",[_.completed?"text-amber-500":"text-gray-400 dark:text-gray-500"]])},[r("div",{class:V(["w-10 h-10 rounded-full border-2 flex items-center justify-center",[_.completed?"border-amber-500 bg-amber-100 dark:bg-amber-900/30":"border-gray-300 dark:border-gray-600"]])},[r("span",{class:V([_.icon,"text-xl"])},null,2)],2)],2),r("div",aQ,[r("div",iQ,[r("h3",{class:V(["text-md font-medium truncate",[_.completed?"text-amber-800 dark:text-amber-300":"text-gray-700 dark:text-gray-300"]])},b(_.name),3),_.completed?(f(),h("div",lQ,b(u(_.completionDate)),1)):Q("",!0)]),r("p",cQ,b(_.description),1),_.completed&&y(_)?(f(),h("div",dQ,[S[3]||(S[3]=r("span",{class:"i-heroicons-arrow-trending-up"},null,-1)),(f(!0),h(Ce,null,De(_.modifiers,(C,x)=>(f(),h("span",{key:x},[se(b(p(C))+" ",1),x<_.modifiers.length-1?(f(),h("span",uQ,", ")):Q("",!0)]))),128))])):Q("",!0),r("div",mQ,[r("div",pQ,[r("div",{class:V(["h-full rounded-full",[_.completed?"bg-amber-500 dark:bg-amber-600":"bg-amber-300 dark:bg-amber-800"]]),style:Je({width:`${m(_)}%`})},null,6)]),r("div",fQ,b(g(ie)(_.currentValue.gt(_.requirement)?_.requirement:_.currentValue,0))+" / "+b(g(ie)(_.requirement,0)),1)])])])]))),128))])]))}}),hQ=st(gQ,[["__scopeId","data-v-a215928e"]]),bQ={class:"max-w-3xl mx-auto px-2 sm:px-0"},vQ={class:"mb-6"},yQ={class:"text-amber-700 dark:text-amber-400"},xQ={class:"font-medium bg-amber-100 dark:bg-amber-800/50 px-2 py-0.5 rounded"},kQ={key:0,class:"flex flex-col items-center justify-center py-8"},_Q={key:1,class:"bg-red-100 dark:bg-red-900/20 border border-red-300 dark:border-red-700 rounded-lg p-4 my-4"},wQ={class:"flex items-start"},CQ={class:"text-red-700 dark:text-red-400 text-sm mt-1"},SQ={key:2,class:"bg-amber-50 dark:bg-amber-950/10 border border-amber-200 dark:border-amber-800/30 rounded-lg p-4 md:p-6 shadow-sm"},$Q=["innerHTML"],EQ=Ue({__name:"ChangelogPage",setup(t){const e=W(""),s=W(!0),o=W(!1),n=W(""),{version:i}=Gy(),l=R(()=>e.value?Vy(e.value):"");return tt(async()=>{try{const c=await fetch("/CHANGELOG.md");if(!c.ok)throw new Error(`Failed to fetch changelog: ${c.status} ${c.statusText}`);e.value=await c.text(),s.value=!1}catch(c){s.value=!1,o.value=!0,n.value=c instanceof Error?c.message:"An unknown error occurred",console.error("Error loading changelog:",c)}}),(c,d)=>(f(),h("div",bQ,[r("header",vQ,[d[1]||(d[1]=r("h1",{class:"text-2xl font-bold text-amber-900 dark:text-amber-200"},"Changelog",-1)),r("p",yQ,[d[0]||(d[0]=se(" Current version: ")),r("span",xQ,b(g(i)),1)])]),s.value?(f(),h("div",kQ,d[2]||(d[2]=[r("div",{class:"h-8 w-8 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"},null,-1),r("span",{class:"mt-3 text-amber-700 dark:text-amber-400"},"Loading changelog...",-1)]))):o.value?(f(),h("div",_Q,[r("div",wQ,[d[5]||(d[5]=r("span",{class:"i-heroicons-exclamation-triangle text-red-600 dark:text-red-400 mr-3 text-xl"},null,-1)),r("div",null,[d[3]||(d[3]=r("p",{class:"font-medium text-red-800 dark:text-red-300"},"Failed to load changelog",-1)),r("p",CQ,b(n.value),1),d[4]||(d[4]=r("p",{class:"text-red-700 dark:text-red-400 text-sm mt-2"}," Please try refreshing the page or check if the CHANGELOG.md file exists. ",-1))])])])):(f(),h("div",SQ,[r("div",{class:"prose prose-amber dark:prose-invert prose-sm md:prose-base max-w-none",innerHTML:l.value},null,8,$Q)]))]))}}),AQ={class:"mb-4"},MQ={class:"flex items-center gap-2 mb-2"},PQ={class:"text-sm"},TQ=["value","min","max","step"],LQ={class:"min-w-[3ch] text-center"},IQ={class:"flex flex-wrap gap-2"},DQ=["onClick"],Md=Ue({__name:"WikiLevelSelector",props:{modelValue:{},min:{},max:{},step:{},presets:{},color:{},label:{}},emits:["update:modelValue"],setup(t,{emit:e}){const s=t,o=e,n=s.min??5,i=s.max??1e3,l=s.step??5,c=s.presets??[10,25,50,100,250,500,1e3],d=s.color??"amber",u=s.label??"Max Preview Level:",m=R(()=>s.modelValue>=1e3?`${Math.floor(s.modelValue/1e3)}k`:s.modelValue.toString()),p=v=>{const S=s.modelValue===v;return d==="emerald"?["px-2 py-1 text-xs rounded-md transition-colors font-medium",S?"bg-emerald-600 dark:bg-emerald-500 text-white shadow-sm":"bg-emerald-100 dark:bg-emerald-800/50 text-emerald-800 dark:text-emerald-200 hover:bg-emerald-200 dark:hover:bg-emerald-700/70 border border-emerald-200 dark:border-emerald-700"]:["px-2 py-1 text-xs rounded-md transition-colors",S?`bg-${d}-500 text-white`:`bg-${d}-200 dark:bg-${d}-900/30 hover:bg-${d}-300 dark:hover:bg-${d}-800/50`]},y=v=>{o("update:modelValue",v)};return(v,S)=>(f(),h("div",AQ,[r("div",MQ,[r("label",PQ,b(g(u)),1),r("input",{type:"range",value:v.modelValue,onInput:S[0]||(S[0]=_=>y(Number(_.target.value))),min:g(n),max:g(i),step:g(l),class:V(`accent-${g(d)}-500 flex-grow`)},null,42,TQ),r("span",LQ,b(m.value),1)]),r("div",IQ,[(f(!0),h(Ce,null,De(g(c),_=>(f(),h("button",{key:_,onClick:C=>y(_),class:V(p(_))},b(_>=1e3?`${_/1e3}k`:_),11,DQ))),128))])]))}});function FQ(){const t=W({});return{tableRefs:t,registerTableRef:(n,i)=>{i instanceof Element?t.value[n]=i:t.value[n]=null},scrollTableToLevel:(n,i,l)=>{if(!n)return;const c=n.querySelector("tbody");if(!c)return;const d=c.querySelectorAll("tr");if(!d.length)return;const u=Math.min(i-1,d.length-1);d[u]&&d[u].scrollIntoView({behavior:"smooth",block:"center"})},getScrollPoints:n=>{if(n<=20)return[1,Math.ceil(n/2),n];if(n<=50)return[1,10,25,n];if(n<=100)return[1,25,50,75,n];{const i=[1],l=Math.ceil(n/5);for(let c=1;c<=4;c++)i.push(c*l);return i.push(n),i}}}}const RQ={class:"flex gap-2"},UQ={class:"overflow-x-auto max-h-60 overflow-y-auto border border-amber-200 dark:border-amber-800 rounded flex-grow"},BQ={class:"flex flex-col md:w-12 gap-1"},qQ=["onClick"],n0=Ue({__name:"WikiLevelTable",props:{itemId:{},maxLevel:{},tableHeaders:{},color:{}},setup(t){const e=t,{tableRefs:s,registerTableRef:o,scrollTableToLevel:n,getScrollPoints:i}=FQ(),l=e.color??"amber";return(c,d)=>(f(),h("div",RQ,[r("div",UQ,[r("table",{class:"w-full text-sm",ref:u=>g(o)(c.itemId,u)},[r("thead",{class:V(`bg-amber-200 dark:bg-${g(l)}-900/40 sticky top-0`)},[r("tr",null,[(f(!0),h(Ce,null,De(c.tableHeaders,(u,m)=>(f(),h("th",{key:m,class:V(["p-2",m===c.tableHeaders.length-1?"text-right":"text-left"])},b(u),3))),128))])],2),r("tbody",null,[mi(c.$slots,"default")])],512)]),r("div",BQ,[(f(!0),h(Ce,null,De(g(i)(c.maxLevel),u=>(f(),h("button",{key:u,onClick:m=>g(n)(g(s)[c.itemId],u,c.maxLevel),class:V(["text-xs p-1 rounded",`bg-${g(l)}-200 dark:bg-${g(l)}-900/40 hover:bg-${g(l)}-300 dark:hover:bg-${g(l)}-800/60 text-${g(l)}-900 dark:text-${g(l)}-100`])},b(u===1?"Top":u===c.maxLevel?"Max":u),11,qQ))),128))])]))}}),OQ={class:"mb-4"},NQ=["value","placeholder"],sn=Ue({__name:"WikiSearchInput",props:{modelValue:{},placeholder:{}},emits:["update:modelValue"],setup(t,{emit:e}){const s=t,o=e,n=s.placeholder??"Search...",i=l=>{o("update:modelValue",l)};return(l,c)=>(f(),h("div",OQ,[r("input",{type:"text",value:l.modelValue,onInput:c[0]||(c[0]=d=>i(d.target.value)),placeholder:g(n),class:"w-full p-2 rounded-lg bg-amber-100 dark:bg-amber-900/20 text-amber-900 dark:text-amber-100 border border-amber-300 dark:border-amber-700"},null,40,NQ)]))}});/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function _i(t){return t+.5|0}const pr=(t,e,s)=>Math.max(Math.min(t,s),e);function ya(t){return pr(_i(t*2.55),0,255)}function hr(t){return pr(_i(t*255),0,255)}function Bo(t){return pr(_i(t/2.55)/100,0,1)}function lg(t){return pr(_i(t*100),0,100)}const eo={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},a0=[..."0123456789ABCDEF"],HQ=t=>a0[t&15],jQ=t=>a0[(t&240)>>4]+a0[t&15],Vi=t=>(t&240)>>4===(t&15),GQ=t=>Vi(t.r)&&Vi(t.g)&&Vi(t.b)&&Vi(t.a);function VQ(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&eo[t[1]]*17,g:255&eo[t[2]]*17,b:255&eo[t[3]]*17,a:e===5?eo[t[4]]*17:255}:(e===7||e===9)&&(s={r:eo[t[1]]<<4|eo[t[2]],g:eo[t[3]]<<4|eo[t[4]],b:eo[t[5]]<<4|eo[t[6]],a:e===9?eo[t[7]]<<4|eo[t[8]]:255})),s}const QQ=(t,e)=>t<255?e(t):"";function zQ(t){var e=GQ(t)?HQ:jQ;return t?"#"+e(t.r)+e(t.g)+e(t.b)+QQ(t.a,e):void 0}const WQ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ky(t,e,s){const o=e*Math.min(s,1-s),n=(i,l=(i+t/30)%12)=>s-o*Math.max(Math.min(l-3,9-l,1),-1);return[n(0),n(8),n(4)]}function YQ(t,e,s){const o=(n,i=(n+t/60)%6)=>s-s*e*Math.max(Math.min(i,4-i,1),0);return[o(5),o(3),o(1)]}function KQ(t,e,s){const o=Ky(t,1,.5);let n;for(e+s>1&&(n=1/(e+s),e*=n,s*=n),n=0;n<3;n++)o[n]*=1-e-s,o[n]+=e;return o}function XQ(t,e,s,o,n){return t===n?(e-s)/o+(e<s?6:0):e===n?(s-t)/o+2:(t-e)/o+4}function jm(t){const s=t.r/255,o=t.g/255,n=t.b/255,i=Math.max(s,o,n),l=Math.min(s,o,n),c=(i+l)/2;let d,u,m;return i!==l&&(m=i-l,u=c>.5?m/(2-i-l):m/(i+l),d=XQ(s,o,n,m,i),d=d*60+.5),[d|0,u||0,c]}function Gm(t,e,s,o){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,o)).map(hr)}function Vm(t,e,s){return Gm(Ky,t,e,s)}function ZQ(t,e,s){return Gm(KQ,t,e,s)}function JQ(t,e,s){return Gm(YQ,t,e,s)}function Xy(t){return(t%360+360)%360}function ez(t){const e=WQ.exec(t);let s=255,o;if(!e)return;e[5]!==o&&(s=e[6]?ya(+e[5]):hr(+e[5]));const n=Xy(+e[2]),i=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?o=ZQ(n,i,l):e[1]==="hsv"?o=JQ(n,i,l):o=Vm(n,i,l),{r:o[0],g:o[1],b:o[2],a:s}}function tz(t,e){var s=jm(t);s[0]=Xy(s[0]+e),s=Vm(s),t.r=s[0],t.g=s[1],t.b=s[2]}function sz(t){if(!t)return;const e=jm(t),s=e[0],o=lg(e[1]),n=lg(e[2]);return t.a<255?`hsla(${s}, ${o}%, ${n}%, ${Bo(t.a)})`:`hsl(${s}, ${o}%, ${n}%)`}const cg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},dg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function oz(){const t={},e=Object.keys(dg),s=Object.keys(cg);let o,n,i,l,c;for(o=0;o<e.length;o++){for(l=c=e[o],n=0;n<s.length;n++)i=s[n],c=c.replace(i,cg[i]);i=parseInt(dg[l],16),t[c]=[i>>16&255,i>>8&255,i&255]}return t}let Qi;function rz(t){Qi||(Qi=oz(),Qi.transparent=[0,0,0,0]);const e=Qi[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const nz=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function az(t){const e=nz.exec(t);let s=255,o,n,i;if(e){if(e[7]!==o){const l=+e[7];s=e[8]?ya(l):pr(l*255,0,255)}return o=+e[1],n=+e[3],i=+e[5],o=255&(e[2]?ya(o):pr(o,0,255)),n=255&(e[4]?ya(n):pr(n,0,255)),i=255&(e[6]?ya(i):pr(i,0,255)),{r:o,g:n,b:i,a:s}}}function iz(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Bo(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const vu=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,gn=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function lz(t,e,s){const o=gn(Bo(t.r)),n=gn(Bo(t.g)),i=gn(Bo(t.b));return{r:hr(vu(o+s*(gn(Bo(e.r))-o))),g:hr(vu(n+s*(gn(Bo(e.g))-n))),b:hr(vu(i+s*(gn(Bo(e.b))-i))),a:t.a+s*(e.a-t.a)}}function zi(t,e,s){if(t){let o=jm(t);o[e]=Math.max(0,Math.min(o[e]+o[e]*s,e===0?360:1)),o=Vm(o),t.r=o[0],t.g=o[1],t.b=o[2]}}function Zy(t,e){return t&&Object.assign(e||{},t)}function ug(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=hr(t[3]))):(e=Zy(t,{r:0,g:0,b:0,a:1}),e.a=hr(e.a)),e}function cz(t){return t.charAt(0)==="r"?az(t):ez(t)}class ei{constructor(e){if(e instanceof ei)return e;const s=typeof e;let o;s==="object"?o=ug(e):s==="string"&&(o=VQ(e)||rz(e)||cz(e)),this._rgb=o,this._valid=!!o}get valid(){return this._valid}get rgb(){var e=Zy(this._rgb);return e&&(e.a=Bo(e.a)),e}set rgb(e){this._rgb=ug(e)}rgbString(){return this._valid?iz(this._rgb):void 0}hexString(){return this._valid?zQ(this._rgb):void 0}hslString(){return this._valid?sz(this._rgb):void 0}mix(e,s){if(e){const o=this.rgb,n=e.rgb;let i;const l=s===i?.5:s,c=2*l-1,d=o.a-n.a,u=((c*d===-1?c:(c+d)/(1+c*d))+1)/2;i=1-u,o.r=255&u*o.r+i*n.r+.5,o.g=255&u*o.g+i*n.g+.5,o.b=255&u*o.b+i*n.b+.5,o.a=l*o.a+(1-l)*n.a,this.rgb=o}return this}interpolate(e,s){return e&&(this._rgb=lz(this._rgb,e._rgb,s)),this}clone(){return new ei(this.rgb)}alpha(e){return this._rgb.a=hr(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=_i(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return zi(this._rgb,2,e),this}darken(e){return zi(this._rgb,2,-e),this}saturate(e){return zi(this._rgb,1,e),this}desaturate(e){return zi(this._rgb,1,-e),this}rotate(e){return tz(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Io(){}const dz=(()=>{let t=0;return()=>t++})();function Lt(t){return t==null}function ls(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function kt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function xs(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Gs(t,e){return xs(t)?t:e}function ht(t,e){return typeof t>"u"?e:t}const uz=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Dt(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function Et(t,e,s,o){let n,i,l;if(ls(t))for(i=t.length,n=0;n<i;n++)e.call(s,t[n],n);else if(kt(t))for(l=Object.keys(t),i=l.length,n=0;n<i;n++)e.call(s,t[l[n]],l[n])}function Ul(t,e){let s,o,n,i;if(!t||!e||t.length!==e.length)return!1;for(s=0,o=t.length;s<o;++s)if(n=t[s],i=e[s],n.datasetIndex!==i.datasetIndex||n.index!==i.index)return!1;return!0}function Bl(t){if(ls(t))return t.map(Bl);if(kt(t)){const e=Object.create(null),s=Object.keys(t),o=s.length;let n=0;for(;n<o;++n)e[s[n]]=Bl(t[s[n]]);return e}return t}function Jy(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function mz(t,e,s,o){if(!Jy(t))return;const n=e[t],i=s[t];kt(n)&&kt(i)?ti(n,i,o):e[t]=Bl(i)}function ti(t,e,s){const o=ls(e)?e:[e],n=o.length;if(!kt(t))return t;s=s||{};const i=s.merger||mz;let l;for(let c=0;c<n;++c){if(l=o[c],!kt(l))continue;const d=Object.keys(l);for(let u=0,m=d.length;u<m;++u)i(d[u],t,l,s)}return t}function Da(t,e){return ti(t,e,{merger:pz})}function pz(t,e,s){if(!Jy(t))return;const o=e[t],n=s[t];kt(o)&&kt(n)?Da(o,n):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Bl(n))}const mg={"":t=>t,x:t=>t.x,y:t=>t.y};function fz(t){const e=t.split("."),s=[];let o="";for(const n of e)o+=n,o.endsWith("\\")?o=o.slice(0,-1)+".":(s.push(o),o="");return s}function gz(t){const e=fz(t);return s=>{for(const o of e){if(o==="")break;s=s&&s[o]}return s}}function ql(t,e){return(mg[e]||(mg[e]=gz(e)))(t)}function Qm(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ol=t=>typeof t<"u",yr=t=>typeof t=="function",pg=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function hz(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ds=Math.PI,Mo=2*ds,bz=Mo+ds,Nl=Number.POSITIVE_INFINITY,vz=ds/180,mo=ds/2,Lr=ds/4,fg=ds*2/3,fr=Math.log10,On=Math.sign;function Fa(t,e,s){return Math.abs(t-e)<s}function gg(t){const e=Math.round(t);t=Fa(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(fr(t))),o=t/s;return(o<=1?1:o<=2?2:o<=5?5:10)*s}function yz(t){const e=[],s=Math.sqrt(t);let o;for(o=1;o<s;o++)t%o===0&&(e.push(o),e.push(t/o));return s===(s|0)&&e.push(s),e.sort((n,i)=>n-i).pop(),e}function xz(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function si(t){return!xz(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function kz(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function e1(t,e,s){let o,n,i;for(o=0,n=t.length;o<n;o++)i=t[o][s],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Gr(t){return t*(ds/180)}function _z(t){return t*(180/ds)}function hg(t){if(!xs(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function wz(t,e){const s=e.x-t.x,o=e.y-t.y,n=Math.sqrt(s*s+o*o);let i=Math.atan2(o,s);return i<-.5*ds&&(i+=Mo),{angle:i,distance:n}}function i0(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Cz(t,e){return(t-e+bz)%Mo-ds}function rr(t){return(t%Mo+Mo)%Mo}function t1(t,e,s,o){const n=rr(t),i=rr(e),l=rr(s),c=rr(i-n),d=rr(l-n),u=rr(n-i),m=rr(n-l);return n===i||n===l||o&&i===l||c>d&&u<m}function oo(t,e,s){return Math.max(e,Math.min(s,t))}function Sz(t){return oo(t,-32768,32767)}function xa(t,e,s,o=1e-6){return t>=Math.min(e,s)-o&&t<=Math.max(e,s)+o}function zm(t,e,s){s=s||(l=>t[l]<e);let o=t.length-1,n=0,i;for(;o-n>1;)i=n+o>>1,s(i)?n=i:o=i;return{lo:n,hi:o}}const Vr=(t,e,s,o)=>zm(t,s,o?n=>{const i=t[n][e];return i<s||i===s&&t[n+1][e]===s}:n=>t[n][e]<s),$z=(t,e,s)=>zm(t,s,o=>t[o][e]>=s);function Ez(t,e,s){let o=0,n=t.length;for(;o<n&&t[o]<e;)o++;for(;n>o&&t[n-1]>s;)n--;return o>0||n<t.length?t.slice(o,n):t}const s1=["push","pop","shift","splice","unshift"];function Az(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),s1.forEach(s=>{const o="_onData"+Qm(s),n=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...i){const l=n.apply(this,i);return t._chartjs.listeners.forEach(c=>{typeof c[o]=="function"&&c[o](...i)}),l}})})}function bg(t,e){const s=t._chartjs;if(!s)return;const o=s.listeners,n=o.indexOf(e);n!==-1&&o.splice(n,1),!(o.length>0)&&(s1.forEach(i=>{delete t[i]}),delete t._chartjs)}function Mz(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const o1=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function r1(t,e){let s=[],o=!1;return function(...n){s=n,o||(o=!0,o1.call(window,()=>{o=!1,t.apply(e,s)}))}}function Pz(t,e){let s;return function(...o){return e?(clearTimeout(s),s=setTimeout(t,e,o)):t.apply(this,o),e}}const Wm=t=>t==="start"?"left":t==="end"?"right":"center",gs=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,Tz=(t,e,s,o)=>t===(o?"left":"right")?s:t==="center"?(e+s)/2:e;function Lz(t,e,s){const o=e.length;let n=0,i=o;if(t._sorted){const{iScale:l,vScale:c,_parsed:d}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,m=l.axis,{min:p,max:y,minDefined:v,maxDefined:S}=l.getUserBounds();if(v){if(n=Math.min(Vr(d,m,p).lo,s?o:Vr(e,m,l.getPixelForValue(p)).lo),u){const _=d.slice(0,n+1).reverse().findIndex(C=>!Lt(C[c.axis]));n-=Math.max(0,_)}n=oo(n,0,o-1)}if(S){let _=Math.max(Vr(d,l.axis,y,!0).hi+1,s?0:Vr(e,m,l.getPixelForValue(y),!0).hi+1);if(u){const C=d.slice(_-1).findIndex(x=>!Lt(x[c.axis]));_+=Math.max(0,C)}i=oo(_,n,o)-n}else i=o-n}return{start:n,count:i}}function Iz(t){const{xScale:e,yScale:s,_scaleRanges:o}=t,n={xmin:e.min,xmax:e.max,ymin:s.min,ymax:s.max};if(!o)return t._scaleRanges=n,!0;const i=o.xmin!==e.min||o.xmax!==e.max||o.ymin!==s.min||o.ymax!==s.max;return Object.assign(o,n),i}const Wi=t=>t===0||t===1,vg=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Mo/s)),yg=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*Mo/s)+1,Ra={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*mo)+1,easeOutSine:t=>Math.sin(t*mo),easeInOutSine:t=>-.5*(Math.cos(ds*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Wi(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Wi(t)?t:vg(t,.075,.3),easeOutElastic:t=>Wi(t)?t:yg(t,.075,.3),easeInOutElastic(t){return Wi(t)?t:t<.5?.5*vg(t*2,.1125,.45):.5+.5*yg(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Ra.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Ra.easeInBounce(t*2)*.5:Ra.easeOutBounce(t*2-1)*.5+.5};function Ym(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function xg(t){return Ym(t)?t:new ei(t)}function yu(t){return Ym(t)?t:new ei(t).saturate(.5).darken(.1).hexString()}const Dz=["x","y","borderWidth","radius","tension"],Fz=["color","borderColor","backgroundColor"];function Rz(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Fz},numbers:{type:"number",properties:Dz}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Uz(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const kg=new Map;function Bz(t,e){e=e||{};const s=t+JSON.stringify(e);let o=kg.get(s);return o||(o=new Intl.NumberFormat(t,e),kg.set(s,o)),o}function Km(t,e,s){return Bz(e,s).format(t)}const n1={values(t){return ls(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const o=this.chart.options.locale;let n,i=t;if(s.length>1){const u=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(u<1e-4||u>1e15)&&(n="scientific"),i=qz(t,s)}const l=fr(Math.abs(i)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),d={notation:n,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(d,this.options.ticks.format),Km(t,o,d)},logarithmic(t,e,s){if(t===0)return"0";const o=s[e].significand||t/Math.pow(10,Math.floor(fr(t)));return[1,2,3,5,10,15].includes(o)||e>.8*s.length?n1.numeric.call(this,t,e,s):""}};function qz(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var Xm={formatters:n1};function Oz(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Xm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const en=Object.create(null),l0=Object.create(null);function Ua(t,e){if(!e)return t;const s=e.split(".");for(let o=0,n=s.length;o<n;++o){const i=s[o];t=t[i]||(t[i]=Object.create(null))}return t}function xu(t,e,s){return typeof e=="string"?ti(Ua(t,e),s):ti(Ua(t,""),e)}class Nz{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=o=>o.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(o,n)=>yu(n.backgroundColor),this.hoverBorderColor=(o,n)=>yu(n.borderColor),this.hoverColor=(o,n)=>yu(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return xu(this,e,s)}get(e){return Ua(this,e)}describe(e,s){return xu(l0,e,s)}override(e,s){return xu(en,e,s)}route(e,s,o,n){const i=Ua(this,e),l=Ua(this,o),c="_"+s;Object.defineProperties(i,{[c]:{value:i[s],writable:!0},[s]:{enumerable:!0,get(){const d=this[c],u=l[n];return kt(d)?Object.assign({},u,d):ht(d,u)},set(d){this[c]=d}}})}apply(e){e.forEach(s=>s(this))}}var Yt=new Nz({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Rz,Uz,Oz]);function Hz(t){return!t||Lt(t.size)||Lt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function _g(t,e,s,o,n){let i=e[n];return i||(i=e[n]=t.measureText(n).width,s.push(n)),i>o&&(o=i),o}function Ir(t,e,s){const o=t.currentDevicePixelRatio,n=s!==0?Math.max(s/2,.5):0;return Math.round((e-n)*o)/o+n}function wg(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function c0(t,e,s,o){a1(t,e,s,o,null)}function a1(t,e,s,o,n){let i,l,c,d,u,m,p,y;const v=e.pointStyle,S=e.rotation,_=e.radius;let C=(S||0)*vz;if(v&&typeof v=="object"&&(i=v.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(s,o),t.rotate(C),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),t.restore();return}if(!(isNaN(_)||_<=0)){switch(t.beginPath(),v){default:n?t.ellipse(s,o,n/2,_,0,0,Mo):t.arc(s,o,_,0,Mo),t.closePath();break;case"triangle":m=n?n/2:_,t.moveTo(s+Math.sin(C)*m,o-Math.cos(C)*_),C+=fg,t.lineTo(s+Math.sin(C)*m,o-Math.cos(C)*_),C+=fg,t.lineTo(s+Math.sin(C)*m,o-Math.cos(C)*_),t.closePath();break;case"rectRounded":u=_*.516,d=_-u,l=Math.cos(C+Lr)*d,p=Math.cos(C+Lr)*(n?n/2-u:d),c=Math.sin(C+Lr)*d,y=Math.sin(C+Lr)*(n?n/2-u:d),t.arc(s-p,o-c,u,C-ds,C-mo),t.arc(s+y,o-l,u,C-mo,C),t.arc(s+p,o+c,u,C,C+mo),t.arc(s-y,o+l,u,C+mo,C+ds),t.closePath();break;case"rect":if(!S){d=Math.SQRT1_2*_,m=n?n/2:d,t.rect(s-m,o-d,2*m,2*d);break}C+=Lr;case"rectRot":p=Math.cos(C)*(n?n/2:_),l=Math.cos(C)*_,c=Math.sin(C)*_,y=Math.sin(C)*(n?n/2:_),t.moveTo(s-p,o-c),t.lineTo(s+y,o-l),t.lineTo(s+p,o+c),t.lineTo(s-y,o+l),t.closePath();break;case"crossRot":C+=Lr;case"cross":p=Math.cos(C)*(n?n/2:_),l=Math.cos(C)*_,c=Math.sin(C)*_,y=Math.sin(C)*(n?n/2:_),t.moveTo(s-p,o-c),t.lineTo(s+p,o+c),t.moveTo(s+y,o-l),t.lineTo(s-y,o+l);break;case"star":p=Math.cos(C)*(n?n/2:_),l=Math.cos(C)*_,c=Math.sin(C)*_,y=Math.sin(C)*(n?n/2:_),t.moveTo(s-p,o-c),t.lineTo(s+p,o+c),t.moveTo(s+y,o-l),t.lineTo(s-y,o+l),C+=Lr,p=Math.cos(C)*(n?n/2:_),l=Math.cos(C)*_,c=Math.sin(C)*_,y=Math.sin(C)*(n?n/2:_),t.moveTo(s-p,o-c),t.lineTo(s+p,o+c),t.moveTo(s+y,o-l),t.lineTo(s-y,o+l);break;case"line":l=n?n/2:Math.cos(C)*_,c=Math.sin(C)*_,t.moveTo(s-l,o-c),t.lineTo(s+l,o+c);break;case"dash":t.moveTo(s,o),t.lineTo(s+Math.cos(C)*(n?n/2:_),o+Math.sin(C)*_);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function oi(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function Zm(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Jm(t){t.restore()}function jz(t,e,s,o,n){if(!e)return t.lineTo(s.x,s.y);if(n==="middle"){const i=(e.x+s.x)/2;t.lineTo(i,e.y),t.lineTo(i,s.y)}else n==="after"!=!!o?t.lineTo(e.x,s.y):t.lineTo(s.x,e.y);t.lineTo(s.x,s.y)}function Gz(t,e,s,o){if(!e)return t.lineTo(s.x,s.y);t.bezierCurveTo(o?e.cp1x:e.cp2x,o?e.cp1y:e.cp2y,o?s.cp2x:s.cp1x,o?s.cp2y:s.cp1y,s.x,s.y)}function Vz(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Lt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Qz(t,e,s,o,n){if(n.strikethrough||n.underline){const i=t.measureText(o),l=e-i.actualBoundingBoxLeft,c=e+i.actualBoundingBoxRight,d=s-i.actualBoundingBoxAscent,u=s+i.actualBoundingBoxDescent,m=n.strikethrough?(d+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=n.decorationWidth||2,t.moveTo(l,m),t.lineTo(c,m),t.stroke()}}function zz(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function ri(t,e,s,o,n,i={}){const l=ls(e)?e:[e],c=i.strokeWidth>0&&i.strokeColor!=="";let d,u;for(t.save(),t.font=n.string,Vz(t,i),d=0;d<l.length;++d)u=l[d],i.backdrop&&zz(t,i.backdrop),c&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Lt(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,s,o,i.maxWidth)),t.fillText(u,s,o,i.maxWidth),Qz(t,s,o,u,i),o+=Number(n.lineHeight);t.restore()}function d0(t,e){const{x:s,y:o,w:n,h:i,radius:l}=e;t.arc(s+l.topLeft,o+l.topLeft,l.topLeft,1.5*ds,ds,!0),t.lineTo(s,o+i-l.bottomLeft),t.arc(s+l.bottomLeft,o+i-l.bottomLeft,l.bottomLeft,ds,mo,!0),t.lineTo(s+n-l.bottomRight,o+i),t.arc(s+n-l.bottomRight,o+i-l.bottomRight,l.bottomRight,mo,0,!0),t.lineTo(s+n,o+l.topRight),t.arc(s+n-l.topRight,o+l.topRight,l.topRight,0,-mo,!0),t.lineTo(s+l.topLeft,o)}const Wz=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Yz=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Kz(t,e){const s=(""+t).match(Wz);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const Xz=t=>+t||0;function i1(t,e){const s={},o=kt(e),n=o?Object.keys(e):e,i=kt(t)?o?l=>ht(t[l],t[e[l]]):l=>t[l]:()=>t;for(const l of n)s[l]=Xz(i(l));return s}function Zz(t){return i1(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ba(t){return i1(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ao(t){const e=Zz(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ks(t,e){t=t||{},e=e||Yt.font;let s=ht(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let o=ht(t.style,e.style);o&&!(""+o).match(Yz)&&(console.warn('Invalid font style specified: "'+o+'"'),o=void 0);const n={family:ht(t.family,e.family),lineHeight:Kz(ht(t.lineHeight,e.lineHeight),s),size:s,style:o,weight:ht(t.weight,e.weight),string:""};return n.string=Hz(n),n}function Yi(t,e,s,o){let n,i,l;for(n=0,i=t.length;n<i;++n)if(l=t[n],l!==void 0&&l!==void 0)return l}function Jz(t,e,s){const{min:o,max:n}=t,i=uz(e,(n-o)/2),l=(c,d)=>s&&c===0?0:c+d;return{min:l(o,-Math.abs(i)),max:l(n,i)}}function on(t,e){return Object.assign(Object.create(t),e)}function ep(t,e=[""],s,o,n=()=>t[0]){const i=s||t;typeof o>"u"&&(o=u1("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:o,_getTarget:n,override:c=>ep([c,...t],e,i,o)};return new Proxy(l,{deleteProperty(c,d){return delete c[d],delete c._keys,delete t[0][d],!0},get(c,d){return c1(c,d,()=>iW(d,e,t,c))},getOwnPropertyDescriptor(c,d){return Reflect.getOwnPropertyDescriptor(c._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(c,d){return Sg(c).includes(d)},ownKeys(c){return Sg(c)},set(c,d,u){const m=c._storage||(c._storage=n());return c[d]=m[d]=u,delete c._keys,!0}})}function Nn(t,e,s,o){const n={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:l1(t,o),setContext:i=>Nn(t,i,s,o),override:i=>Nn(t.override(i),e,s,o)};return new Proxy(n,{deleteProperty(i,l){return delete i[l],delete t[l],!0},get(i,l,c){return c1(i,l,()=>tW(i,l,c))},getOwnPropertyDescriptor(i,l){return i._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(i,l,c){return t[l]=c,delete i[l],!0}})}function l1(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:o=e.indexable,_allKeys:n=e.allKeys}=t;return{allKeys:n,scriptable:s,indexable:o,isScriptable:yr(s)?s:()=>s,isIndexable:yr(o)?o:()=>o}}const eW=(t,e)=>t?t+Qm(e):e,tp=(t,e)=>kt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function c1(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const o=s();return t[e]=o,o}function tW(t,e,s){const{_proxy:o,_context:n,_subProxy:i,_descriptors:l}=t;let c=o[e];return yr(c)&&l.isScriptable(e)&&(c=sW(e,c,t,s)),ls(c)&&c.length&&(c=oW(e,c,t,l.isIndexable)),tp(e,c)&&(c=Nn(c,n,i&&i[e],l)),c}function sW(t,e,s,o){const{_proxy:n,_context:i,_subProxy:l,_stack:c}=s;if(c.has(t))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t);c.add(t);let d=e(i,l||o);return c.delete(t),tp(t,d)&&(d=sp(n._scopes,n,t,d)),d}function oW(t,e,s,o){const{_proxy:n,_context:i,_subProxy:l,_descriptors:c}=s;if(typeof i.index<"u"&&o(t))return e[i.index%e.length];if(kt(e[0])){const d=e,u=n._scopes.filter(m=>m!==d);e=[];for(const m of d){const p=sp(u,n,t,m);e.push(Nn(p,i,l&&l[t],c))}}return e}function d1(t,e,s){return yr(t)?t(e,s):t}const rW=(t,e)=>t===!0?e:typeof t=="string"?ql(e,t):void 0;function nW(t,e,s,o,n){for(const i of e){const l=rW(s,i);if(l){t.add(l);const c=d1(l._fallback,s,n);if(typeof c<"u"&&c!==s&&c!==o)return c}else if(l===!1&&typeof o<"u"&&s!==o)return null}return!1}function sp(t,e,s,o){const n=e._rootScopes,i=d1(e._fallback,s,o),l=[...t,...n],c=new Set;c.add(o);let d=Cg(c,l,s,i||s,o);return d===null||typeof i<"u"&&i!==s&&(d=Cg(c,l,i,d,o),d===null)?!1:ep(Array.from(c),[""],n,i,()=>aW(e,s,o))}function Cg(t,e,s,o,n){for(;s;)s=nW(t,e,s,o,n);return s}function aW(t,e,s){const o=t._getTarget();e in o||(o[e]={});const n=o[e];return ls(n)&&kt(s)?s:n||{}}function iW(t,e,s,o){let n;for(const i of e)if(n=u1(eW(i,t),s),typeof n<"u")return tp(t,n)?sp(s,o,t,n):n}function u1(t,e){for(const s of e){if(!s)continue;const o=s[t];if(typeof o<"u")return o}}function Sg(t){let e=t._keys;return e||(e=t._keys=lW(t._scopes)),e}function lW(t){const e=new Set;for(const s of t)for(const o of Object.keys(s).filter(n=>!n.startsWith("_")))e.add(o);return Array.from(e)}const cW=Number.EPSILON||1e-14,Hn=(t,e)=>e<t.length&&!t[e].skip&&t[e],m1=t=>t==="x"?"y":"x";function dW(t,e,s,o){const n=t.skip?e:t,i=e,l=s.skip?e:s,c=i0(i,n),d=i0(l,i);let u=c/(c+d),m=d/(c+d);u=isNaN(u)?0:u,m=isNaN(m)?0:m;const p=o*u,y=o*m;return{previous:{x:i.x-p*(l.x-n.x),y:i.y-p*(l.y-n.y)},next:{x:i.x+y*(l.x-n.x),y:i.y+y*(l.y-n.y)}}}function uW(t,e,s){const o=t.length;let n,i,l,c,d,u=Hn(t,0);for(let m=0;m<o-1;++m)if(d=u,u=Hn(t,m+1),!(!d||!u)){if(Fa(e[m],0,cW)){s[m]=s[m+1]=0;continue}n=s[m]/e[m],i=s[m+1]/e[m],c=Math.pow(n,2)+Math.pow(i,2),!(c<=9)&&(l=3/Math.sqrt(c),s[m]=n*l*e[m],s[m+1]=i*l*e[m])}}function mW(t,e,s="x"){const o=m1(s),n=t.length;let i,l,c,d=Hn(t,0);for(let u=0;u<n;++u){if(l=c,c=d,d=Hn(t,u+1),!c)continue;const m=c[s],p=c[o];l&&(i=(m-l[s])/3,c[`cp1${s}`]=m-i,c[`cp1${o}`]=p-i*e[u]),d&&(i=(d[s]-m)/3,c[`cp2${s}`]=m+i,c[`cp2${o}`]=p+i*e[u])}}function pW(t,e="x"){const s=m1(e),o=t.length,n=Array(o).fill(0),i=Array(o);let l,c,d,u=Hn(t,0);for(l=0;l<o;++l)if(c=d,d=u,u=Hn(t,l+1),!!d){if(u){const m=u[e]-d[e];n[l]=m!==0?(u[s]-d[s])/m:0}i[l]=c?u?On(n[l-1])!==On(n[l])?0:(n[l-1]+n[l])/2:n[l-1]:n[l]}uW(t,n,i),mW(t,i,e)}function Ki(t,e,s){return Math.max(Math.min(t,s),e)}function fW(t,e){let s,o,n,i,l,c=oi(t[0],e);for(s=0,o=t.length;s<o;++s)l=i,i=c,c=s<o-1&&oi(t[s+1],e),i&&(n=t[s],l&&(n.cp1x=Ki(n.cp1x,e.left,e.right),n.cp1y=Ki(n.cp1y,e.top,e.bottom)),c&&(n.cp2x=Ki(n.cp2x,e.left,e.right),n.cp2y=Ki(n.cp2y,e.top,e.bottom)))}function gW(t,e,s,o,n){let i,l,c,d;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")pW(t,n);else{let u=o?t[t.length-1]:t[0];for(i=0,l=t.length;i<l;++i)c=t[i],d=dW(u,c,t[Math.min(i+1,l-(o?0:1))%l],e.tension),c.cp1x=d.previous.x,c.cp1y=d.previous.y,c.cp2x=d.next.x,c.cp2y=d.next.y,u=c}e.capBezierPoints&&fW(t,s)}function op(){return typeof window<"u"&&typeof document<"u"}function rp(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Hl(t,e,s){let o;return typeof t=="string"?(o=parseInt(t,10),t.indexOf("%")!==-1&&(o=o/100*e.parentNode[s])):o=t,o}const Pd=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function hW(t,e){return Pd(t).getPropertyValue(e)}const bW=["top","right","bottom","left"];function Yr(t,e,s){const o={};s=s?"-"+s:"";for(let n=0;n<4;n++){const i=bW[n];o[i]=parseFloat(t[e+"-"+i+s])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}const vW=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function yW(t,e){const s=t.touches,o=s&&s.length?s[0]:t,{offsetX:n,offsetY:i}=o;let l=!1,c,d;if(vW(n,i,t.target))c=n,d=i;else{const u=e.getBoundingClientRect();c=o.clientX-u.left,d=o.clientY-u.top,l=!0}return{x:c,y:d,box:l}}function Br(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:o}=e,n=Pd(s),i=n.boxSizing==="border-box",l=Yr(n,"padding"),c=Yr(n,"border","width"),{x:d,y:u,box:m}=yW(t,s),p=l.left+(m&&c.left),y=l.top+(m&&c.top);let{width:v,height:S}=e;return i&&(v-=l.width+c.width,S-=l.height+c.height),{x:Math.round((d-p)/v*s.width/o),y:Math.round((u-y)/S*s.height/o)}}function xW(t,e,s){let o,n;if(e===void 0||s===void 0){const i=t&&rp(t);if(!i)e=t.clientWidth,s=t.clientHeight;else{const l=i.getBoundingClientRect(),c=Pd(i),d=Yr(c,"border","width"),u=Yr(c,"padding");e=l.width-u.width-d.width,s=l.height-u.height-d.height,o=Hl(c.maxWidth,i,"clientWidth"),n=Hl(c.maxHeight,i,"clientHeight")}}return{width:e,height:s,maxWidth:o||Nl,maxHeight:n||Nl}}const Xi=t=>Math.round(t*10)/10;function kW(t,e,s,o){const n=Pd(t),i=Yr(n,"margin"),l=Hl(n.maxWidth,t,"clientWidth")||Nl,c=Hl(n.maxHeight,t,"clientHeight")||Nl,d=xW(t,e,s);let{width:u,height:m}=d;if(n.boxSizing==="content-box"){const y=Yr(n,"border","width"),v=Yr(n,"padding");u-=v.width+y.width,m-=v.height+y.height}return u=Math.max(0,u-i.width),m=Math.max(0,o?u/o:m-i.height),u=Xi(Math.min(u,l,d.maxWidth)),m=Xi(Math.min(m,c,d.maxHeight)),u&&!m&&(m=Xi(u/2)),(e!==void 0||s!==void 0)&&o&&d.height&&m>d.height&&(m=d.height,u=Xi(Math.floor(m*o))),{width:u,height:m}}function $g(t,e,s){const o=e||1,n=Math.floor(t.height*o),i=Math.floor(t.width*o);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const l=t.canvas;return l.style&&(s||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==o||l.height!==n||l.width!==i?(t.currentDevicePixelRatio=o,l.height=n,l.width=i,t.ctx.setTransform(o,0,0,o,0,0),!0):!1}const _W=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};op()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Eg(t,e){const s=hW(t,e),o=s&&s.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function qr(t,e,s,o){return{x:t.x+s*(e.x-t.x),y:t.y+s*(e.y-t.y)}}function wW(t,e,s,o){return{x:t.x+s*(e.x-t.x),y:o==="middle"?s<.5?t.y:e.y:o==="after"?s<1?t.y:e.y:s>0?e.y:t.y}}function CW(t,e,s,o){const n={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},l=qr(t,n,s),c=qr(n,i,s),d=qr(i,e,s),u=qr(l,c,s),m=qr(c,d,s);return qr(u,m,s)}const SW=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,o){return s-o},leftForLtr(s,o){return s-o}}},$W=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Dn(t,e,s){return t?SW(e,s):$W()}function p1(t,e){let s,o;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,o=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=o)}function f1(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function g1(t){return t==="angle"?{between:t1,compare:Cz,normalize:rr}:{between:xa,compare:(e,s)=>e-s,normalize:e=>e}}function Ag({start:t,end:e,count:s,loop:o,style:n}){return{start:t%s,end:e%s,loop:o&&(e-t+1)%s===0,style:n}}function EW(t,e,s){const{property:o,start:n,end:i}=s,{between:l,normalize:c}=g1(o),d=e.length;let{start:u,end:m,loop:p}=t,y,v;if(p){for(u+=d,m+=d,y=0,v=d;y<v&&l(c(e[u%d][o]),n,i);++y)u--,m--;u%=d,m%=d}return m<u&&(m+=d),{start:u,end:m,loop:p,style:t.style}}function AW(t,e,s){if(!s)return[t];const{property:o,start:n,end:i}=s,l=e.length,{compare:c,between:d,normalize:u}=g1(o),{start:m,end:p,loop:y,style:v}=EW(t,e,s),S=[];let _=!1,C=null,x,$,A;const M=()=>d(n,A,x)&&c(n,A)!==0,P=()=>c(i,x)===0||d(i,A,x),L=()=>_||M(),B=()=>!_||P();for(let k=m,I=m;k<=p;++k)$=e[k%l],!$.skip&&(x=u($[o]),x!==A&&(_=d(x,n,i),C===null&&L()&&(C=c(x,n)===0?k:I),C!==null&&B()&&(S.push(Ag({start:C,end:k,loop:y,count:l,style:v})),C=null),I=k,A=x));return C!==null&&S.push(Ag({start:C,end:p,loop:y,count:l,style:v})),S}function MW(t,e){const s=[],o=t.segments;for(let n=0;n<o.length;n++){const i=AW(o[n],t.points,e);i.length&&s.push(...i)}return s}function PW(t,e,s,o){let n=0,i=e-1;if(s&&!o)for(;n<e&&!t[n].skip;)n++;for(;n<e&&t[n].skip;)n++;for(n%=e,s&&(i+=n);i>n&&t[i%e].skip;)i--;return i%=e,{start:n,end:i}}function TW(t,e,s,o){const n=t.length,i=[];let l=e,c=t[e],d;for(d=e+1;d<=s;++d){const u=t[d%n];u.skip||u.stop?c.skip||(o=!1,i.push({start:e%n,end:(d-1)%n,loop:o}),e=l=u.stop?d:null):(l=d,c.skip&&(e=d)),c=u}return l!==null&&i.push({start:e%n,end:l%n,loop:o}),i}function LW(t,e){const s=t.points,o=t.options.spanGaps,n=s.length;if(!n)return[];const i=!!t._loop,{start:l,end:c}=PW(s,n,i,o);if(o===!0)return Mg(t,[{start:l,end:c,loop:i}],s,e);const d=c<l?c+n:c,u=!!t._fullLoop&&l===0&&c===n-1;return Mg(t,TW(s,l,d,u),s,e)}function Mg(t,e,s,o){return!o||!o.setContext||!s?e:IW(t,e,s,o)}function IW(t,e,s,o){const n=t._chart.getContext(),i=Pg(t.options),{_datasetIndex:l,options:{spanGaps:c}}=t,d=s.length,u=[];let m=i,p=e[0].start,y=p;function v(S,_,C,x){const $=c?-1:1;if(S!==_){for(S+=d;s[S%d].skip;)S-=$;for(;s[_%d].skip;)_+=$;S%d!==_%d&&(u.push({start:S%d,end:_%d,loop:C,style:x}),m=x,p=_%d)}}for(const S of e){p=c?p:S.start;let _=s[p%d],C;for(y=p+1;y<=S.end;y++){const x=s[y%d];C=Pg(o.setContext(on(n,{type:"segment",p0:_,p1:x,p0DataIndex:(y-1)%d,p1DataIndex:y%d,datasetIndex:l}))),DW(C,m)&&v(p,y-1,S.loop,m),_=x,m=C}p<y-1&&v(p,y-1,S.loop,m)}return u}function Pg(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function DW(t,e){if(!e)return!1;const s=[],o=function(n,i){return Ym(i)?(s.includes(i)||s.push(i),s.indexOf(i)):i};return JSON.stringify(t,o)!==JSON.stringify(e,o)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class FW{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,o,n){const i=s.listeners[n],l=s.duration;i.forEach(c=>c({chart:e,initial:s.initial,numSteps:l,currentStep:Math.min(o-s.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=o1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((o,n)=>{if(!o.running||!o.items.length)return;const i=o.items;let l=i.length-1,c=!1,d;for(;l>=0;--l)d=i[l],d._active?(d._total>o.duration&&(o.duration=d._total),d.tick(e),c=!0):(i[l]=i[i.length-1],i.pop());c&&(n.draw(),this._notify(n,o,e,"progress")),i.length||(o.running=!1,this._notify(n,o,e,"complete"),o.initial=!1),s+=i.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let o=s.get(e);return o||(o={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,o)),o}listen(e,s,o){this._getAnims(e).listeners[s].push(o)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((o,n)=>Math.max(o,n._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const o=s.items;let n=o.length-1;for(;n>=0;--n)o[n].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Fo=new FW;const Tg="transparent",RW={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const o=xg(t||Tg),n=o.valid&&xg(e||Tg);return n&&n.valid?n.mix(o,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class UW{constructor(e,s,o,n){const i=s[o];n=Yi([e.to,n,i,e.from]);const l=Yi([e.from,i,n]);this._active=!0,this._fn=e.fn||RW[e.type||typeof l],this._easing=Ra[e.easing]||Ra.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=o,this._from=l,this._to=n,this._promises=void 0}active(){return this._active}update(e,s,o){if(this._active){this._notify(!1);const n=this._target[this._prop],i=o-this._start,l=this._duration-i;this._start=o,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Yi([e.to,s,n,e.from]),this._from=Yi([e.from,n,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,o=this._duration,n=this._prop,i=this._from,l=this._loop,c=this._to;let d;if(this._active=i!==c&&(l||s<o),!this._active){this._target[n]=c,this._notify(!0);return}if(s<0){this._target[n]=i;return}d=s/o%2,d=l&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[n]=this._fn(i,c,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,o)=>{e.push({res:s,rej:o})})}_notify(e){const s=e?"res":"rej",o=this._promises||[];for(let n=0;n<o.length;n++)o[n][s]()}}class h1{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!kt(e))return;const s=Object.keys(Yt.animation),o=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const i=e[n];if(!kt(i))return;const l={};for(const c of s)l[c]=i[c];(ls(i.properties)&&i.properties||[n]).forEach(c=>{(c===n||!o.has(c))&&o.set(c,l)})})}_animateOptions(e,s){const o=s.options,n=qW(e,o);if(!n)return[];const i=this._createAnimations(n,o);return o.$shared&&BW(e.options.$animations,o).then(()=>{e.options=o},()=>{}),i}_createAnimations(e,s){const o=this._properties,n=[],i=e.$animations||(e.$animations={}),l=Object.keys(s),c=Date.now();let d;for(d=l.length-1;d>=0;--d){const u=l[d];if(u.charAt(0)==="$")continue;if(u==="options"){n.push(...this._animateOptions(e,s));continue}const m=s[u];let p=i[u];const y=o.get(u);if(p)if(y&&p.active()){p.update(y,m,c);continue}else p.cancel();if(!y||!y.duration){e[u]=m;continue}i[u]=p=new UW(y,e,u,m),n.push(p)}return n}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const o=this._createAnimations(e,s);if(o.length)return Fo.add(this._chart,o),!0}}function BW(t,e){const s=[],o=Object.keys(e);for(let n=0;n<o.length;n++){const i=t[o[n]];i&&i.active()&&s.push(i.wait())}return Promise.all(s)}function qW(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function Lg(t,e){const s=t&&t.options||{},o=s.reverse,n=s.min===void 0?e:0,i=s.max===void 0?e:0;return{start:o?i:n,end:o?n:i}}function OW(t,e,s){if(s===!1)return!1;const o=Lg(t,s),n=Lg(e,s);return{top:n.end,right:o.end,bottom:n.start,left:o.start}}function NW(t){let e,s,o,n;return kt(t)?(e=t.top,s=t.right,o=t.bottom,n=t.left):e=s=o=n=t,{top:e,right:s,bottom:o,left:n,disabled:t===!1}}function b1(t,e){const s=[],o=t._getSortedDatasetMetas(e);let n,i;for(n=0,i=o.length;n<i;++n)s.push(o[n].index);return s}function Ig(t,e,s,o={}){const n=t.keys,i=o.mode==="single";let l,c,d,u;if(e===null)return;let m=!1;for(l=0,c=n.length;l<c;++l){if(d=+n[l],d===s){if(m=!0,o.all)continue;break}u=t.values[d],xs(u)&&(i||e===0||On(e)===On(u))&&(e+=u)}return!m&&!o.all?0:e}function HW(t,e){const{iScale:s,vScale:o}=e,n=s.axis==="x"?"x":"y",i=o.axis==="x"?"x":"y",l=Object.keys(t),c=new Array(l.length);let d,u,m;for(d=0,u=l.length;d<u;++d)m=l[d],c[d]={[n]:m,[i]:t[m]};return c}function ku(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function jW(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function GW(t){const{min:e,max:s,minDefined:o,maxDefined:n}=t.getUserBounds();return{min:o?e:Number.NEGATIVE_INFINITY,max:n?s:Number.POSITIVE_INFINITY}}function VW(t,e,s){const o=t[e]||(t[e]={});return o[s]||(o[s]={})}function Dg(t,e,s,o){for(const n of e.getMatchingVisibleMetas(o).reverse()){const i=t[n.index];if(s&&i>0||!s&&i<0)return n.index}return null}function Fg(t,e){const{chart:s,_cachedMeta:o}=t,n=s._stacks||(s._stacks={}),{iScale:i,vScale:l,index:c}=o,d=i.axis,u=l.axis,m=jW(i,l,o),p=e.length;let y;for(let v=0;v<p;++v){const S=e[v],{[d]:_,[u]:C}=S,x=S._stacks||(S._stacks={});y=x[u]=VW(n,m,_),y[c]=C,y._top=Dg(y,l,!0,o.type),y._bottom=Dg(y,l,!1,o.type);const $=y._visualValues||(y._visualValues={});$[c]=C}}function _u(t,e){const s=t.scales;return Object.keys(s).filter(o=>s[o].axis===e).shift()}function QW(t,e){return on(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function zW(t,e,s){return on(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function la(t,e){const s=t.controller.index,o=t.vScale&&t.vScale.axis;if(o){e=e||t._parsed;for(const n of e){const i=n._stacks;if(!i||i[o]===void 0||i[o][s]===void 0)return;delete i[o][s],i[o]._visualValues!==void 0&&i[o]._visualValues[s]!==void 0&&delete i[o]._visualValues[s]}}}const wu=t=>t==="reset"||t==="none",Rg=(t,e)=>e?t:Object.assign({},t),WW=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:b1(s,!0),values:null};class qa{constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ku(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&la(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,o=this.getDataset(),n=(p,y,v,S)=>p==="x"?y:p==="r"?S:v,i=s.xAxisID=ht(o.xAxisID,_u(e,"x")),l=s.yAxisID=ht(o.yAxisID,_u(e,"y")),c=s.rAxisID=ht(o.rAxisID,_u(e,"r")),d=s.indexAxis,u=s.iAxisID=n(d,i,l,c),m=s.vAxisID=n(d,l,i,c);s.xScale=this.getScaleForId(i),s.yScale=this.getScaleForId(l),s.rScale=this.getScaleForId(c),s.iScale=this.getScaleForId(u),s.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&bg(this._data,this),e._stacked&&la(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),o=this._data;if(kt(s)){const n=this._cachedMeta;this._data=HW(s,n)}else if(o!==s){if(o){bg(o,this);const n=this._cachedMeta;la(n),n._parsed=[]}s&&Object.isExtensible(s)&&Az(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,o=this.getDataset();let n=!1;this._dataCheck();const i=s._stacked;s._stacked=ku(s.vScale,s),s.stack!==o.stack&&(n=!0,la(s),s.stack=o.stack),this._resyncElements(e),(n||i!==s._stacked)&&(Fg(this,s._parsed),s._stacked=ku(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),o=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:o,_data:n}=this,{iScale:i,_stacked:l}=o,c=i.axis;let d=e===0&&s===n.length?!0:o._sorted,u=e>0&&o._parsed[e-1],m,p,y;if(this._parsing===!1)o._parsed=n,o._sorted=!0,y=n;else{ls(n[e])?y=this.parseArrayData(o,n,e,s):kt(n[e])?y=this.parseObjectData(o,n,e,s):y=this.parsePrimitiveData(o,n,e,s);const v=()=>p[c]===null||u&&p[c]<u[c];for(m=0;m<s;++m)o._parsed[m+e]=p=y[m],d&&(v()&&(d=!1),u=p);o._sorted=d}l&&Fg(this,y)}parsePrimitiveData(e,s,o,n){const{iScale:i,vScale:l}=e,c=i.axis,d=l.axis,u=i.getLabels(),m=i===l,p=new Array(n);let y,v,S;for(y=0,v=n;y<v;++y)S=y+o,p[y]={[c]:m||i.parse(u[S],S),[d]:l.parse(s[S],S)};return p}parseArrayData(e,s,o,n){const{xScale:i,yScale:l}=e,c=new Array(n);let d,u,m,p;for(d=0,u=n;d<u;++d)m=d+o,p=s[m],c[d]={x:i.parse(p[0],m),y:l.parse(p[1],m)};return c}parseObjectData(e,s,o,n){const{xScale:i,yScale:l}=e,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,u=new Array(n);let m,p,y,v;for(m=0,p=n;m<p;++m)y=m+o,v=s[y],u[m]={x:i.parse(ql(v,c),y),y:l.parse(ql(v,d),y)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,o){const n=this.chart,i=this._cachedMeta,l=s[e.axis],c={keys:b1(n,!0),values:s._stacks[e.axis]._visualValues};return Ig(c,l,i.index,{mode:o})}updateRangeFromParsed(e,s,o,n){const i=o[s.axis];let l=i===null?NaN:i;const c=n&&o._stacks[s.axis];n&&c&&(n.values=c,l=Ig(n,i,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,s){const o=this._cachedMeta,n=o._parsed,i=o._sorted&&e===o.iScale,l=n.length,c=this._getOtherScale(e),d=WW(s,o,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:p}=GW(c);let y,v;function S(){v=n[y];const _=v[c.axis];return!xs(v[e.axis])||m>_||p<_}for(y=0;y<l&&!(!S()&&(this.updateRangeFromParsed(u,e,v,d),i));++y);if(i){for(y=l-1;y>=0;--y)if(!S()){this.updateRangeFromParsed(u,e,v,d);break}}return u}getAllParsedValues(e){const s=this._cachedMeta._parsed,o=[];let n,i,l;for(n=0,i=s.length;n<i;++n)l=s[n][e.axis],xs(l)&&o.push(l);return o}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,o=s.iScale,n=s.vScale,i=this.getParsed(e);return{label:o?""+o.getLabelForValue(i[o.axis]):"",value:n?""+n.getLabelForValue(i[n.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=NW(ht(this.options.clip,OW(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,o=this._cachedMeta,n=o.data||[],i=s.chartArea,l=[],c=this._drawStart||0,d=this._drawCount||n.length-c,u=this.options.drawActiveElementsOnTop;let m;for(o.dataset&&o.dataset.draw(e,i,c,d),m=c;m<c+d;++m){const p=n[m];p.hidden||(p.active&&u?l.push(p):p.draw(e,i))}for(m=0;m<l.length;++m)l[m].draw(e,i)}getStyle(e,s){const o=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(e||0,o)}getContext(e,s,o){const n=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];i=l.$context||(l.$context=zW(this.getContext(),e,l)),i.parsed=this.getParsed(e),i.raw=n.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=QW(this.chart.getContext(),this.index)),i.dataset=n,i.index=i.datasetIndex=this.index;return i.active=!!s,i.mode=o,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",o){const n=s==="active",i=this._cachedDataOpts,l=e+"-"+s,c=i[l],d=this.enableOptionSharing&&Ol(o);if(c)return Rg(c,d);const u=this.chart.config,m=u.datasetElementScopeKeys(this._type,e),p=n?[`${e}Hover`,"hover",e,""]:[e,""],y=u.getOptionScopes(this.getDataset(),m),v=Object.keys(Yt.elements[e]),S=()=>this.getContext(o,n,s),_=u.resolveNamedOptions(y,v,S,p);return _.$shared&&(_.$shared=d,i[l]=Object.freeze(Rg(_,d))),_}_resolveAnimations(e,s,o){const n=this.chart,i=this._cachedDataOpts,l=`animation-${s}`,c=i[l];if(c)return c;let d;if(n.options.animation!==!1){const m=this.chart.config,p=m.datasetAnimationScopeKeys(this._type,s),y=m.getOptionScopes(this.getDataset(),p);d=m.createResolver(y,this.getContext(e,o,s))}const u=new h1(n,d&&d.animations);return d&&d._cacheable&&(i[l]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||wu(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const o=this.resolveDataElementOptions(e,s),n=this._sharedOptions,i=this.getSharedOptions(o),l=this.includeOptions(s,i)||i!==n;return this.updateSharedOptions(i,s,o),{sharedOptions:i,includeOptions:l}}updateElement(e,s,o,n){wu(n)?Object.assign(e,o):this._resolveAnimations(s,n).update(e,o)}updateSharedOptions(e,s,o){e&&!wu(s)&&this._resolveAnimations(void 0,s).update(e,o)}_setStyle(e,s,o,n){e.active=n;const i=this.getStyle(s,n);this._resolveAnimations(s,o,n).update(e,{options:!n&&this.getSharedOptions(i)||i})}removeHoverStyle(e,s,o){this._setStyle(e,o,"active",!1)}setHoverStyle(e,s,o){this._setStyle(e,o,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,o=this._cachedMeta.data;for(const[c,d,u]of this._syncList)this[c](d,u);this._syncList=[];const n=o.length,i=s.length,l=Math.min(i,n);l&&this.parse(0,l),i>n?this._insertElements(n,i-n,e):i<n&&this._removeElements(i,n-i)}_insertElements(e,s,o=!0){const n=this._cachedMeta,i=n.data,l=e+s;let c;const d=u=>{for(u.length+=s,c=u.length-1;c>=l;c--)u[c]=u[c-s]};for(d(i),c=e;c<l;++c)i[c]=new this.dataElementType;this._parsing&&d(n._parsed),this.parse(e,s),o&&this.updateElements(i,e,s,"reset")}updateElements(e,s,o,n){}_removeElements(e,s){const o=this._cachedMeta;if(this._parsing){const n=o._parsed.splice(e,s);o._stacked&&la(o,n)}o.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,o,n]=e;this[s](o,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const o=arguments.length-2;o&&this._sync(["_insertElements",e,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}lt(qa,"defaults",{}),lt(qa,"datasetElementType",null),lt(qa,"dataElementType",null);class bl extends qa{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const s=this._cachedMeta,{dataset:o,data:n=[],_dataset:i}=s,l=this.chart._animationsDisabled;let{start:c,count:d}=Lz(s,n,l);this._drawStart=c,this._drawCount=d,Iz(s)&&(c=0,d=n.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!i._decimated,o.points=n;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(o,void 0,{animated:!l,options:u},e),this.updateElements(n,c,d,e)}updateElements(e,s,o,n){const i=n==="reset",{iScale:l,vScale:c,_stacked:d,_dataset:u}=this._cachedMeta,{sharedOptions:m,includeOptions:p}=this._getSharedOptions(s,n),y=l.axis,v=c.axis,{spanGaps:S,segment:_}=this.options,C=si(S)?S:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||i||n==="none",$=s+o,A=e.length;let M=s>0&&this.getParsed(s-1);for(let P=0;P<A;++P){const L=e[P],B=x?L:{};if(P<s||P>=$){B.skip=!0;continue}const k=this.getParsed(P),I=Lt(k[v]),N=B[y]=l.getPixelForValue(k[y],P),U=B[v]=i||I?c.getBasePixel():c.getPixelForValue(d?this.applyStack(c,k,d):k[v],P);B.skip=isNaN(N)||isNaN(U)||I,B.stop=P>0&&Math.abs(k[y]-M[y])>C,_&&(B.parsed=k,B.raw=u.data[P]),p&&(B.options=m||this.resolveDataElementOptions(P,L.active?"active":n)),x||this.updateElement(L,P,B,n),M=k}}getMaxOverflow(){const e=this._cachedMeta,s=e.dataset,o=s.options&&s.options.borderWidth||0,n=e.data||[];if(!n.length)return o;const i=n[0].size(this.resolveDataElementOptions(0)),l=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(o,i,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}lt(bl,"id","line"),lt(bl,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),lt(bl,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Dr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class np{constructor(e){lt(this,"options");this.options=e||{}}static override(e){Object.assign(np.prototype,e)}init(){}formats(){return Dr()}parse(){return Dr()}format(){return Dr()}add(){return Dr()}diff(){return Dr()}startOf(){return Dr()}endOf(){return Dr()}}var YW={_date:np};function KW(t,e,s,o){const{controller:n,data:i,_sorted:l}=t,c=n._cachedMeta.iScale,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&l&&i.length){const u=c._reversePixels?$z:Vr;if(o){if(n._sharedOptions){const m=i[0],p=typeof m.getRange=="function"&&m.getRange(e);if(p){const y=u(i,e,s-p),v=u(i,e,s+p);return{lo:y.lo,hi:v.hi}}}}else{const m=u(i,e,s);if(d){const{vScale:p}=n._cachedMeta,{_parsed:y}=t,v=y.slice(0,m.lo+1).reverse().findIndex(_=>!Lt(_[p.axis]));m.lo-=Math.max(0,v);const S=y.slice(m.hi).findIndex(_=>!Lt(_[p.axis]));m.hi+=Math.max(0,S)}return m}}return{lo:0,hi:i.length-1}}function Td(t,e,s,o,n){const i=t.getSortedVisibleDatasetMetas(),l=s[e];for(let c=0,d=i.length;c<d;++c){const{index:u,data:m}=i[c],{lo:p,hi:y}=KW(i[c],e,l,n);for(let v=p;v<=y;++v){const S=m[v];S.skip||o(S,u,v)}}}function XW(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(o,n){const i=e?Math.abs(o.x-n.x):0,l=s?Math.abs(o.y-n.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(l,2))}}function Cu(t,e,s,o,n){const i=[];return!n&&!t.isPointInArea(e)||Td(t,s,e,function(c,d,u){!n&&!oi(c,t.chartArea,0)||c.inRange(e.x,e.y,o)&&i.push({element:c,datasetIndex:d,index:u})},!0),i}function ZW(t,e,s,o){let n=[];function i(l,c,d){const{startAngle:u,endAngle:m}=l.getProps(["startAngle","endAngle"],o),{angle:p}=wz(l,{x:e.x,y:e.y});t1(p,u,m)&&n.push({element:l,datasetIndex:c,index:d})}return Td(t,s,e,i),n}function JW(t,e,s,o,n,i){let l=[];const c=XW(s);let d=Number.POSITIVE_INFINITY;function u(m,p,y){const v=m.inRange(e.x,e.y,n);if(o&&!v)return;const S=m.getCenterPoint(n);if(!(!!i||t.isPointInArea(S))&&!v)return;const C=c(e,S);C<d?(l=[{element:m,datasetIndex:p,index:y}],d=C):C===d&&l.push({element:m,datasetIndex:p,index:y})}return Td(t,s,e,u),l}function Su(t,e,s,o,n,i){return!i&&!t.isPointInArea(e)?[]:s==="r"&&!o?ZW(t,e,s,n):JW(t,e,s,o,n,i)}function Ug(t,e,s,o,n){const i=[],l=s==="x"?"inXRange":"inYRange";let c=!1;return Td(t,s,e,(d,u,m)=>{d[l]&&d[l](e[s],n)&&(i.push({element:d,datasetIndex:u,index:m}),c=c||d.inRange(e.x,e.y,n))}),o&&!c?[]:i}var eY={modes:{index(t,e,s,o){const n=Br(e,t),i=s.axis||"x",l=s.includeInvisible||!1,c=s.intersect?Cu(t,n,i,o,l):Su(t,n,i,!1,o,l),d=[];return c.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const m=c[0].index,p=u.data[m];p&&!p.skip&&d.push({element:p,datasetIndex:u.index,index:m})}),d):[]},dataset(t,e,s,o){const n=Br(e,t),i=s.axis||"xy",l=s.includeInvisible||!1;let c=s.intersect?Cu(t,n,i,o,l):Su(t,n,i,!1,o,l);if(c.length>0){const d=c[0].datasetIndex,u=t.getDatasetMeta(d).data;c=[];for(let m=0;m<u.length;++m)c.push({element:u[m],datasetIndex:d,index:m})}return c},point(t,e,s,o){const n=Br(e,t),i=s.axis||"xy",l=s.includeInvisible||!1;return Cu(t,n,i,o,l)},nearest(t,e,s,o){const n=Br(e,t),i=s.axis||"xy",l=s.includeInvisible||!1;return Su(t,n,i,s.intersect,o,l)},x(t,e,s,o){const n=Br(e,t);return Ug(t,n,"x",s.intersect,o)},y(t,e,s,o){const n=Br(e,t);return Ug(t,n,"y",s.intersect,o)}}};const v1=["left","top","right","bottom"];function ca(t,e){return t.filter(s=>s.pos===e)}function Bg(t,e){return t.filter(s=>v1.indexOf(s.pos)===-1&&s.box.axis===e)}function da(t,e){return t.sort((s,o)=>{const n=e?o:s,i=e?s:o;return n.weight===i.weight?n.index-i.index:n.weight-i.weight})}function tY(t){const e=[];let s,o,n,i,l,c;for(s=0,o=(t||[]).length;s<o;++s)n=t[s],{position:i,options:{stack:l,stackWeight:c=1}}=n,e.push({index:s,box:n,pos:i,horizontal:n.isHorizontal(),weight:n.weight,stack:l&&i+l,stackWeight:c});return e}function sY(t){const e={};for(const s of t){const{stack:o,pos:n,stackWeight:i}=s;if(!o||!v1.includes(n))continue;const l=e[o]||(e[o]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=i}return e}function oY(t,e){const s=sY(t),{vBoxMaxWidth:o,hBoxMaxHeight:n}=e;let i,l,c;for(i=0,l=t.length;i<l;++i){c=t[i];const{fullSize:d}=c.box,u=s[c.stack],m=u&&c.stackWeight/u.weight;c.horizontal?(c.width=m?m*o:d&&e.availableWidth,c.height=n):(c.width=o,c.height=m?m*n:d&&e.availableHeight)}return s}function rY(t){const e=tY(t),s=da(e.filter(u=>u.box.fullSize),!0),o=da(ca(e,"left"),!0),n=da(ca(e,"right")),i=da(ca(e,"top"),!0),l=da(ca(e,"bottom")),c=Bg(e,"x"),d=Bg(e,"y");return{fullSize:s,leftAndTop:o.concat(i),rightAndBottom:n.concat(d).concat(l).concat(c),chartArea:ca(e,"chartArea"),vertical:o.concat(n).concat(d),horizontal:i.concat(l).concat(c)}}function qg(t,e,s,o){return Math.max(t[s],e[s])+Math.max(t[o],e[o])}function y1(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function nY(t,e,s,o){const{pos:n,box:i}=s,l=t.maxPadding;if(!kt(n)){s.size&&(t[n]-=s.size);const p=o[s.stack]||{size:0,count:1};p.size=Math.max(p.size,s.horizontal?i.height:i.width),s.size=p.size/p.count,t[n]+=s.size}i.getPadding&&y1(l,i.getPadding());const c=Math.max(0,e.outerWidth-qg(l,t,"left","right")),d=Math.max(0,e.outerHeight-qg(l,t,"top","bottom")),u=c!==t.w,m=d!==t.h;return t.w=c,t.h=d,s.horizontal?{same:u,other:m}:{same:m,other:u}}function aY(t){const e=t.maxPadding;function s(o){const n=Math.max(e[o]-t[o],0);return t[o]+=n,n}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function iY(t,e){const s=e.maxPadding;function o(n){const i={left:0,top:0,right:0,bottom:0};return n.forEach(l=>{i[l]=Math.max(e[l],s[l])}),i}return o(t?["left","right"]:["top","bottom"])}function ka(t,e,s,o){const n=[];let i,l,c,d,u,m;for(i=0,l=t.length,u=0;i<l;++i){c=t[i],d=c.box,d.update(c.width||e.w,c.height||e.h,iY(c.horizontal,e));const{same:p,other:y}=nY(e,s,c,o);u|=p&&n.length,m=m||y,d.fullSize||n.push(c)}return u&&ka(n,e,s,o)||m}function Zi(t,e,s,o,n){t.top=s,t.left=e,t.right=e+o,t.bottom=s+n,t.width=o,t.height=n}function Og(t,e,s,o){const n=s.padding;let{x:i,y:l}=e;for(const c of t){const d=c.box,u=o[c.stack]||{placed:0,weight:1},m=c.stackWeight/u.weight||1;if(c.horizontal){const p=e.w*m,y=u.size||d.height;Ol(u.start)&&(l=u.start),d.fullSize?Zi(d,n.left,l,s.outerWidth-n.right-n.left,y):Zi(d,e.left+u.placed,l,p,y),u.start=l,u.placed+=p,l=d.bottom}else{const p=e.h*m,y=u.size||d.width;Ol(u.start)&&(i=u.start),d.fullSize?Zi(d,i,n.top,y,s.outerHeight-n.bottom-n.top):Zi(d,i,e.top+u.placed,y,p),u.start=i,u.placed+=p,i=d.right}}e.x=i,e.y=l}var ro={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,o){if(!t)return;const n=ao(t.options.layout.padding),i=Math.max(e-n.width,0),l=Math.max(s-n.height,0),c=rY(t.boxes),d=c.vertical,u=c.horizontal;Et(t.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const m=d.reduce((_,C)=>C.box.options&&C.box.options.display===!1?_:_+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:s,padding:n,availableWidth:i,availableHeight:l,vBoxMaxWidth:i/2/m,hBoxMaxHeight:l/2}),y=Object.assign({},n);y1(y,ao(o));const v=Object.assign({maxPadding:y,w:i,h:l,x:n.left,y:n.top},n),S=oY(d.concat(u),p);ka(c.fullSize,v,p,S),ka(d,v,p,S),ka(u,v,p,S)&&ka(d,v,p,S),aY(v),Og(c.leftAndTop,v,p,S),v.x+=v.w,v.y+=v.h,Og(c.rightAndBottom,v,p,S),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},Et(c.chartArea,_=>{const C=_.box;Object.assign(C,t.chartArea),C.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class x1{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,o){}removeEventListener(e,s,o){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,o,n){return s=Math.max(0,s||e.width),o=o||e.height,{width:s,height:Math.max(0,n?Math.floor(s/n):o)}}isAttached(e){return!0}updateConfig(e){}}class lY extends x1{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const vl="$chartjs",cY={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ng=t=>t===null||t==="";function dY(t,e){const s=t.style,o=t.getAttribute("height"),n=t.getAttribute("width");if(t[vl]={initial:{height:o,width:n,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",Ng(n)){const i=Eg(t,"width");i!==void 0&&(t.width=i)}if(Ng(o))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Eg(t,"height");i!==void 0&&(t.height=i)}return t}const k1=_W?{passive:!0}:!1;function uY(t,e,s){t&&t.addEventListener(e,s,k1)}function mY(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,k1)}function pY(t,e){const s=cY[t.type]||t.type,{x:o,y:n}=Br(t,e);return{type:s,chart:e,native:t,x:o!==void 0?o:null,y:n!==void 0?n:null}}function jl(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function fY(t,e,s){const o=t.canvas,n=new MutationObserver(i=>{let l=!1;for(const c of i)l=l||jl(c.addedNodes,o),l=l&&!jl(c.removedNodes,o);l&&s()});return n.observe(document,{childList:!0,subtree:!0}),n}function gY(t,e,s){const o=t.canvas,n=new MutationObserver(i=>{let l=!1;for(const c of i)l=l||jl(c.removedNodes,o),l=l&&!jl(c.addedNodes,o);l&&s()});return n.observe(document,{childList:!0,subtree:!0}),n}const ni=new Map;let Hg=0;function _1(){const t=window.devicePixelRatio;t!==Hg&&(Hg=t,ni.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function hY(t,e){ni.size||window.addEventListener("resize",_1),ni.set(t,e)}function bY(t){ni.delete(t),ni.size||window.removeEventListener("resize",_1)}function vY(t,e,s){const o=t.canvas,n=o&&rp(o);if(!n)return;const i=r1((c,d)=>{const u=n.clientWidth;s(c,d),u<n.clientWidth&&s()},window),l=new ResizeObserver(c=>{const d=c[0],u=d.contentRect.width,m=d.contentRect.height;u===0&&m===0||i(u,m)});return l.observe(n),hY(t,i),l}function $u(t,e,s){s&&s.disconnect(),e==="resize"&&bY(t)}function yY(t,e,s){const o=t.canvas,n=r1(i=>{t.ctx!==null&&s(pY(i,t))},t);return uY(o,e,n),n}class xY extends x1{acquireContext(e,s){const o=e&&e.getContext&&e.getContext("2d");return o&&o.canvas===e?(dY(e,s),o):null}releaseContext(e){const s=e.canvas;if(!s[vl])return!1;const o=s[vl].initial;["height","width"].forEach(i=>{const l=o[i];Lt(l)?s.removeAttribute(i):s.setAttribute(i,l)});const n=o.style||{};return Object.keys(n).forEach(i=>{s.style[i]=n[i]}),s.width=s.width,delete s[vl],!0}addEventListener(e,s,o){this.removeEventListener(e,s);const n=e.$proxies||(e.$proxies={}),l={attach:fY,detach:gY,resize:vY}[s]||yY;n[s]=l(e,s,o)}removeEventListener(e,s){const o=e.$proxies||(e.$proxies={}),n=o[s];if(!n)return;({attach:$u,detach:$u,resize:$u}[s]||mY)(e,s,n),o[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,o,n){return kW(e,s,o,n)}isAttached(e){const s=e&&rp(e);return!!(s&&s.isConnected)}}function kY(t){return!op()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?lY:xY}var ll;let rn=(ll=class{constructor(){lt(this,"x");lt(this,"y");lt(this,"active",!1);lt(this,"options");lt(this,"$animations")}tooltipPosition(e){const{x:s,y:o}=this.getProps(["x","y"],e);return{x:s,y:o}}hasValue(){return si(this.x)&&si(this.y)}getProps(e,s){const o=this.$animations;if(!s||!o)return this;const n={};return e.forEach(i=>{n[i]=o[i]&&o[i].active()?o[i]._to:this[i]}),n}},lt(ll,"defaults",{}),lt(ll,"defaultRoutes"),ll);function _Y(t,e){const s=t.options.ticks,o=wY(t),n=Math.min(s.maxTicksLimit||o,o),i=s.major.enabled?SY(e):[],l=i.length,c=i[0],d=i[l-1],u=[];if(l>n)return $Y(e,u,i,l/n),u;const m=CY(i,e,n);if(l>0){let p,y;const v=l>1?Math.round((d-c)/(l-1)):null;for(Ji(e,u,m,Lt(v)?0:c-v,c),p=0,y=l-1;p<y;p++)Ji(e,u,m,i[p],i[p+1]);return Ji(e,u,m,d,Lt(v)?e.length:d+v),u}return Ji(e,u,m),u}function wY(t){const e=t.options.offset,s=t._tickSize(),o=t._length/s+(e?0:1),n=t._maxLength/s;return Math.floor(Math.min(o,n))}function CY(t,e,s){const o=EY(t),n=e.length/s;if(!o)return Math.max(n,1);const i=yz(o);for(let l=0,c=i.length-1;l<c;l++){const d=i[l];if(d>n)return d}return Math.max(n,1)}function SY(t){const e=[];let s,o;for(s=0,o=t.length;s<o;s++)t[s].major&&e.push(s);return e}function $Y(t,e,s,o){let n=0,i=s[0],l;for(o=Math.ceil(o),l=0;l<t.length;l++)l===i&&(e.push(t[l]),n++,i=s[n*o])}function Ji(t,e,s,o,n){const i=ht(o,0),l=Math.min(ht(n,t.length),t.length);let c=0,d,u,m;for(s=Math.ceil(s),n&&(d=n-o,s=d/Math.floor(d/s)),m=i;m<0;)c++,m=Math.round(i+c*s);for(u=Math.max(i,0);u<l;u++)u===m&&(e.push(t[u]),c++,m=Math.round(i+c*s))}function EY(t){const e=t.length;let s,o;if(e<2)return!1;for(o=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==o)return!1;return o}const AY=t=>t==="left"?"right":t==="right"?"left":t,jg=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,Gg=(t,e)=>Math.min(e||t,t);function Vg(t,e){const s=[],o=t.length/e,n=t.length;let i=0;for(;i<n;i+=o)s.push(t[Math.floor(i)]);return s}function MY(t,e,s){const o=t.ticks.length,n=Math.min(e,o-1),i=t._startPixel,l=t._endPixel,c=1e-6;let d=t.getPixelForTick(n),u;if(!(s&&(o===1?u=Math.max(d-i,l-d):e===0?u=(t.getPixelForTick(1)-d)/2:u=(d-t.getPixelForTick(n-1))/2,d+=n<e?u:-u,d<i-c||d>l+c)))return d}function PY(t,e){Et(t,s=>{const o=s.gc,n=o.length/2;let i;if(n>e){for(i=0;i<n;++i)delete s.data[o[i]];o.splice(0,n)}})}function ua(t){return t.drawTicks?t.tickLength:0}function Qg(t,e){if(!t.display)return 0;const s=ks(t.font,e),o=ao(t.padding);return(ls(t.text)?t.text.length:1)*s.lineHeight+o.height}function TY(t,e){return on(t,{scale:e,type:"scale"})}function LY(t,e,s){return on(t,{tick:s,index:e,type:"tick"})}function IY(t,e,s){let o=Wm(t);return(s&&e!=="right"||!s&&e==="right")&&(o=AY(o)),o}function DY(t,e,s,o){const{top:n,left:i,bottom:l,right:c,chart:d}=t,{chartArea:u,scales:m}=d;let p=0,y,v,S;const _=l-n,C=c-i;if(t.isHorizontal()){if(v=gs(o,i,c),kt(s)){const x=Object.keys(s)[0],$=s[x];S=m[x].getPixelForValue($)+_-e}else s==="center"?S=(u.bottom+u.top)/2+_-e:S=jg(t,s,e);y=c-i}else{if(kt(s)){const x=Object.keys(s)[0],$=s[x];v=m[x].getPixelForValue($)-C+e}else s==="center"?v=(u.left+u.right)/2-C+e:v=jg(t,s,e);S=gs(o,l,n),p=s==="left"?-mo:mo}return{titleX:v,titleY:S,maxWidth:y,rotation:p}}class nn extends rn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:o,_suggestedMax:n}=this;return e=Gs(e,Number.POSITIVE_INFINITY),s=Gs(s,Number.NEGATIVE_INFINITY),o=Gs(o,Number.POSITIVE_INFINITY),n=Gs(n,Number.NEGATIVE_INFINITY),{min:Gs(e,o),max:Gs(s,n),minDefined:xs(e),maxDefined:xs(s)}}getMinMax(e){let{min:s,max:o,minDefined:n,maxDefined:i}=this.getUserBounds(),l;if(n&&i)return{min:s,max:o};const c=this.getMatchingVisibleMetas();for(let d=0,u=c.length;d<u;++d)l=c[d].controller.getMinMax(this,e),n||(s=Math.min(s,l.min)),i||(o=Math.max(o,l.max));return s=i&&s>o?o:s,o=n&&s>o?s:o,{min:Gs(s,Gs(o,s)),max:Gs(o,Gs(s,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Dt(this.options.beforeUpdate,[this])}update(e,s,o){const{beginAtZero:n,grace:i,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=o=Object.assign({left:0,right:0,top:0,bottom:0},o),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+o.left+o.right:this.height+o.top+o.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Jz(this,i,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=c<this.ticks.length;this._convertTicksToLabels(d?Vg(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=_Y(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,o;this.isHorizontal()?(s=this.left,o=this.right):(s=this.top,o=this.bottom,e=!e),this._startPixel=s,this._endPixel=o,this._reversePixels=e,this._length=o-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Dt(this.options.afterUpdate,[this])}beforeSetDimensions(){Dt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Dt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Dt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Dt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let o,n,i;for(o=0,n=e.length;o<n;o++)i=e[o],i.label=Dt(s.callback,[i.value,o,e],this)}afterTickToLabelConversion(){Dt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Dt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,o=Gg(this.ticks.length,e.ticks.maxTicksLimit),n=s.minRotation||0,i=s.maxRotation;let l=n,c,d,u;if(!this._isVisible()||!s.display||n>=i||o<=1||!this.isHorizontal()){this.labelRotation=n;return}const m=this._getLabelSizes(),p=m.widest.width,y=m.highest.height,v=oo(this.chart.width-p,0,this.maxWidth);c=e.offset?this.maxWidth/o:v/(o-1),p+6>c&&(c=v/(o-(e.offset?.5:1)),d=this.maxHeight-ua(e.grid)-s.padding-Qg(e.title,this.chart.options.font),u=Math.sqrt(p*p+y*y),l=_z(Math.min(Math.asin(oo((m.highest.height+6)/c,-1,1)),Math.asin(oo(d/u,-1,1))-Math.asin(oo(y/u,-1,1)))),l=Math.max(n,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){Dt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Dt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:o,title:n,grid:i}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const d=Qg(n,s.options.font);if(c?(e.width=this.maxWidth,e.height=ua(i)+d):(e.height=this.maxHeight,e.width=ua(i)+d),o.display&&this.ticks.length){const{first:u,last:m,widest:p,highest:y}=this._getLabelSizes(),v=o.padding*2,S=Gr(this.labelRotation),_=Math.cos(S),C=Math.sin(S);if(c){const x=o.mirror?0:C*p.width+_*y.height;e.height=Math.min(this.maxHeight,e.height+x+v)}else{const x=o.mirror?0:_*p.width+C*y.height;e.width=Math.min(this.maxWidth,e.width+x+v)}this._calculatePadding(u,m,C,_)}}this._handleMargins(),c?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,o,n){const{ticks:{align:i,padding:l},position:c}=this.options,d=this.labelRotation!==0,u=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,v=0;d?u?(y=n*e.width,v=o*s.height):(y=o*e.height,v=n*s.width):i==="start"?v=s.width:i==="end"?y=e.width:i!=="inner"&&(y=e.width/2,v=s.width/2),this.paddingLeft=Math.max((y-m+l)*this.width/(this.width-m),0),this.paddingRight=Math.max((v-p+l)*this.width/(this.width-p),0)}else{let m=s.height/2,p=e.height/2;i==="start"?(m=0,p=e.height):i==="end"&&(m=s.height,p=0),this.paddingTop=m+l,this.paddingBottom=p+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Dt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,o;for(s=0,o=e.length;s<o;s++)Lt(e[s].label)&&(e.splice(s,1),o--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let o=this.ticks;s<o.length&&(o=Vg(o,s)),this._labelSizes=e=this._computeLabelSizes(o,o.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,o){const{ctx:n,_longestTextCache:i}=this,l=[],c=[],d=Math.floor(s/Gg(s,o));let u=0,m=0,p,y,v,S,_,C,x,$,A,M,P;for(p=0;p<s;p+=d){if(S=e[p].label,_=this._resolveTickFontOptions(p),n.font=C=_.string,x=i[C]=i[C]||{data:{},gc:[]},$=_.lineHeight,A=M=0,!Lt(S)&&!ls(S))A=_g(n,x.data,x.gc,A,S),M=$;else if(ls(S))for(y=0,v=S.length;y<v;++y)P=S[y],!Lt(P)&&!ls(P)&&(A=_g(n,x.data,x.gc,A,P),M+=$);l.push(A),c.push(M),u=Math.max(A,u),m=Math.max(M,m)}PY(i,s);const L=l.indexOf(u),B=c.indexOf(m),k=I=>({width:l[I]||0,height:c[I]||0});return{first:k(0),last:k(s-1),widest:k(L),highest:k(B),widths:l,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return Sz(this._alignToPixels?Ir(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const o=s[e];return o.$context||(o.$context=LY(this.getContext(),e,o))}return this.$context||(this.$context=TY(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=Gr(this.labelRotation),o=Math.abs(Math.cos(s)),n=Math.abs(Math.sin(s)),i=this._getLabelSizes(),l=e.autoSkipPadding||0,c=i?i.widest.width+l:0,d=i?i.highest.height+l:0;return this.isHorizontal()?d*o>c*n?c/o:d/n:d*n<c*o?d/o:c/n}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,o=this.chart,n=this.options,{grid:i,position:l,border:c}=n,d=i.offset,u=this.isHorizontal(),p=this.ticks.length+(d?1:0),y=ua(i),v=[],S=c.setContext(this.getContext()),_=S.display?S.width:0,C=_/2,x=function(O){return Ir(o,O,_)};let $,A,M,P,L,B,k,I,N,U,j,ee;if(l==="top")$=x(this.bottom),B=this.bottom-y,I=$-C,U=x(e.top)+C,ee=e.bottom;else if(l==="bottom")$=x(this.top),U=e.top,ee=x(e.bottom)-C,B=$+C,I=this.top+y;else if(l==="left")$=x(this.right),L=this.right-y,k=$-C,N=x(e.left)+C,j=e.right;else if(l==="right")$=x(this.left),N=e.left,j=x(e.right)-C,L=$+C,k=this.left+y;else if(s==="x"){if(l==="center")$=x((e.top+e.bottom)/2+.5);else if(kt(l)){const O=Object.keys(l)[0],Y=l[O];$=x(this.chart.scales[O].getPixelForValue(Y))}U=e.top,ee=e.bottom,B=$+C,I=B+y}else if(s==="y"){if(l==="center")$=x((e.left+e.right)/2);else if(kt(l)){const O=Object.keys(l)[0],Y=l[O];$=x(this.chart.scales[O].getPixelForValue(Y))}L=$-C,k=L-y,N=e.left,j=e.right}const ne=ht(n.ticks.maxTicksLimit,p),oe=Math.max(1,Math.ceil(p/ne));for(A=0;A<p;A+=oe){const O=this.getContext(A),Y=i.setContext(O),G=c.setContext(O),de=Y.lineWidth,re=Y.color,he=G.dash||[],ve=G.dashOffset,Se=Y.tickWidth,Me=Y.tickColor,Oe=Y.tickBorderDash||[],He=Y.tickBorderDashOffset;M=MY(this,A,d),M!==void 0&&(P=Ir(o,M,de),u?L=k=N=j=P:B=I=U=ee=P,v.push({tx1:L,ty1:B,tx2:k,ty2:I,x1:N,y1:U,x2:j,y2:ee,width:de,color:re,borderDash:he,borderDashOffset:ve,tickWidth:Se,tickColor:Me,tickBorderDash:Oe,tickBorderDashOffset:He}))}return this._ticksLength=p,this._borderValue=$,v}_computeLabelItems(e){const s=this.axis,o=this.options,{position:n,ticks:i}=o,l=this.isHorizontal(),c=this.ticks,{align:d,crossAlign:u,padding:m,mirror:p}=i,y=ua(o.grid),v=y+m,S=p?-m:v,_=-Gr(this.labelRotation),C=[];let x,$,A,M,P,L,B,k,I,N,U,j,ee="middle";if(n==="top")L=this.bottom-S,B=this._getXAxisLabelAlignment();else if(n==="bottom")L=this.top+S,B=this._getXAxisLabelAlignment();else if(n==="left"){const oe=this._getYAxisLabelAlignment(y);B=oe.textAlign,P=oe.x}else if(n==="right"){const oe=this._getYAxisLabelAlignment(y);B=oe.textAlign,P=oe.x}else if(s==="x"){if(n==="center")L=(e.top+e.bottom)/2+v;else if(kt(n)){const oe=Object.keys(n)[0],O=n[oe];L=this.chart.scales[oe].getPixelForValue(O)+v}B=this._getXAxisLabelAlignment()}else if(s==="y"){if(n==="center")P=(e.left+e.right)/2-v;else if(kt(n)){const oe=Object.keys(n)[0],O=n[oe];P=this.chart.scales[oe].getPixelForValue(O)}B=this._getYAxisLabelAlignment(y).textAlign}s==="y"&&(d==="start"?ee="top":d==="end"&&(ee="bottom"));const ne=this._getLabelSizes();for(x=0,$=c.length;x<$;++x){A=c[x],M=A.label;const oe=i.setContext(this.getContext(x));k=this.getPixelForTick(x)+i.labelOffset,I=this._resolveTickFontOptions(x),N=I.lineHeight,U=ls(M)?M.length:1;const O=U/2,Y=oe.color,G=oe.textStrokeColor,de=oe.textStrokeWidth;let re=B;l?(P=k,B==="inner"&&(x===$-1?re=this.options.reverse?"left":"right":x===0?re=this.options.reverse?"right":"left":re="center"),n==="top"?u==="near"||_!==0?j=-U*N+N/2:u==="center"?j=-ne.highest.height/2-O*N+N:j=-ne.highest.height+N/2:u==="near"||_!==0?j=N/2:u==="center"?j=ne.highest.height/2-O*N:j=ne.highest.height-U*N,p&&(j*=-1),_!==0&&!oe.showLabelBackdrop&&(P+=N/2*Math.sin(_))):(L=k,j=(1-U)*N/2);let he;if(oe.showLabelBackdrop){const ve=ao(oe.backdropPadding),Se=ne.heights[x],Me=ne.widths[x];let Oe=j-ve.top,He=0-ve.left;switch(ee){case"middle":Oe-=Se/2;break;case"bottom":Oe-=Se;break}switch(B){case"center":He-=Me/2;break;case"right":He-=Me;break;case"inner":x===$-1?He-=Me:x>0&&(He-=Me/2);break}he={left:He,top:Oe,width:Me+ve.width,height:Se+ve.height,color:oe.backdropColor}}C.push({label:M,font:I,textOffset:j,options:{rotation:_,color:Y,strokeColor:G,strokeWidth:de,textAlign:re,textBaseline:ee,translation:[P,L],backdrop:he}})}return C}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-Gr(this.labelRotation))return e==="top"?"left":"right";let n="center";return s.align==="start"?n="left":s.align==="end"?n="right":s.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:o,mirror:n,padding:i}}=this.options,l=this._getLabelSizes(),c=e+i,d=l.widest.width;let u,m;return s==="left"?n?(m=this.right+i,o==="near"?u="left":o==="center"?(u="center",m+=d/2):(u="right",m+=d)):(m=this.right-c,o==="near"?u="right":o==="center"?(u="center",m-=d/2):(u="left",m=this.left)):s==="right"?n?(m=this.left+i,o==="near"?u="right":o==="center"?(u="center",m-=d/2):(u="left",m-=d)):(m=this.left+c,o==="near"?u="left":o==="center"?(u="center",m+=d/2):(u="right",m=this.right)):u="right",{textAlign:u,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:o,top:n,width:i,height:l}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(o,n,i,l),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const n=this.ticks.findIndex(i=>i.value===e);return n>=0?s.setContext(this.getContext(n)).lineWidth:0}drawGrid(e){const s=this.options.grid,o=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,l;const c=(d,u,m)=>{!m.width||!m.color||(o.save(),o.lineWidth=m.width,o.strokeStyle=m.color,o.setLineDash(m.borderDash||[]),o.lineDashOffset=m.borderDashOffset,o.beginPath(),o.moveTo(d.x,d.y),o.lineTo(u.x,u.y),o.stroke(),o.restore())};if(s.display)for(i=0,l=n.length;i<l;++i){const d=n[i];s.drawOnChartArea&&c({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),s.drawTicks&&c({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:o,grid:n}}=this,i=o.setContext(this.getContext()),l=o.display?i.width:0;if(!l)return;const c=n.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let u,m,p,y;this.isHorizontal()?(u=Ir(e,this.left,l)-l/2,m=Ir(e,this.right,c)+c/2,p=y=d):(p=Ir(e,this.top,l)-l/2,y=Ir(e,this.bottom,c)+c/2,u=m=d),s.save(),s.lineWidth=i.width,s.strokeStyle=i.color,s.beginPath(),s.moveTo(u,p),s.lineTo(m,y),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const o=this.ctx,n=this._computeLabelArea();n&&Zm(o,n);const i=this.getLabelItems(e);for(const l of i){const c=l.options,d=l.font,u=l.label,m=l.textOffset;ri(o,u,0,m,d,c)}n&&Jm(o)}drawTitle(){const{ctx:e,options:{position:s,title:o,reverse:n}}=this;if(!o.display)return;const i=ks(o.font),l=ao(o.padding),c=o.align;let d=i.lineHeight/2;s==="bottom"||s==="center"||kt(s)?(d+=l.bottom,ls(o.text)&&(d+=i.lineHeight*(o.text.length-1))):d+=l.top;const{titleX:u,titleY:m,maxWidth:p,rotation:y}=DY(this,d,s,c);ri(e,o.text,0,0,i,{color:o.color,maxWidth:p,rotation:y,textAlign:IY(c,s,n),textBaseline:"middle",translation:[u,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,o=ht(e.grid&&e.grid.z,-1),n=ht(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==nn.prototype.draw?[{z:s,draw:i=>{this.draw(i)}}]:[{z:o,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:s,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),o=this.axis+"AxisID",n=[];let i,l;for(i=0,l=s.length;i<l;++i){const c=s[i];c[o]===this.id&&(!e||c.type===e)&&n.push(c)}return n}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return ks(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class el{constructor(e,s,o){this.type=e,this.scope=s,this.override=o,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let o;UY(s)&&(o=this.register(s));const n=this.items,i=e.id,l=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in n||(n[i]=e,FY(e,l,o),this.override&&Yt.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const s=this.items,o=e.id,n=this.scope;o in s&&delete s[o],n&&o in Yt[n]&&(delete Yt[n][o],this.override&&delete en[o])}}function FY(t,e,s){const o=ti(Object.create(null),[s?Yt.get(s):{},Yt.get(e),t.defaults]);Yt.set(e,o),t.defaultRoutes&&RY(e,t.defaultRoutes),t.descriptors&&Yt.describe(e,t.descriptors)}function RY(t,e){Object.keys(e).forEach(s=>{const o=s.split("."),n=o.pop(),i=[t].concat(o).join("."),l=e[s].split("."),c=l.pop(),d=l.join(".");Yt.route(i,n,d,c)})}function UY(t){return"id"in t&&"defaults"in t}class BY{constructor(){this.controllers=new el(qa,"datasets",!0),this.elements=new el(rn,"elements"),this.plugins=new el(Object,"plugins"),this.scales=new el(nn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,o){[...s].forEach(n=>{const i=o||this._getRegistryForType(n);o||i.isForType(n)||i===this.plugins&&n.id?this._exec(e,i,n):Et(n,l=>{const c=o||this._getRegistryForType(l);this._exec(e,c,l)})})}_exec(e,s,o){const n=Qm(e);Dt(o["before"+n],[],o),s[e](o),Dt(o["after"+n],[],o)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const o=this._typedRegistries[s];if(o.isForType(e))return o}return this.plugins}_get(e,s,o){const n=s.get(e);if(n===void 0)throw new Error('"'+e+'" is not a registered '+o+".");return n}}var wo=new BY;class qY{constructor(){this._init=[]}notify(e,s,o,n){s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=n?this._descriptors(e).filter(n):this._descriptors(e),l=this._notify(i,e,s,o);return s==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,s,o,n){n=n||{};for(const i of e){const l=i.plugin,c=l[o],d=[s,n,i.options];if(Dt(c,d,l)===!1&&n.cancelable)return!1}return!0}invalidate(){Lt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const o=e&&e.config,n=ht(o.options&&o.options.plugins,{}),i=OY(o);return n===!1&&!s?[]:HY(e,i,n,s)}_notifyStateChanges(e){const s=this._oldCache||[],o=this._cache,n=(i,l)=>i.filter(c=>!l.some(d=>c.plugin.id===d.plugin.id));this._notify(n(s,o),e,"stop"),this._notify(n(o,s),e,"start")}}function OY(t){const e={},s=[],o=Object.keys(wo.plugins.items);for(let i=0;i<o.length;i++)s.push(wo.getPlugin(o[i]));const n=t.plugins||[];for(let i=0;i<n.length;i++){const l=n[i];s.indexOf(l)===-1&&(s.push(l),e[l.id]=!0)}return{plugins:s,localIds:e}}function NY(t,e){return!e&&t===!1?null:t===!0?{}:t}function HY(t,{plugins:e,localIds:s},o,n){const i=[],l=t.getContext();for(const c of e){const d=c.id,u=NY(o[d],n);u!==null&&i.push({plugin:c,options:jY(t.config,{plugin:c,local:s[d]},u,l)})}return i}function jY(t,{plugin:e,local:s},o,n){const i=t.pluginScopeKeys(e),l=t.getOptionScopes(o,i);return s&&e.defaults&&l.push(e.defaults),t.createResolver(l,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function u0(t,e){const s=Yt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function GY(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function VY(t,e){return t===e?"_index_":"_value_"}function zg(t){if(t==="x"||t==="y"||t==="r")return t}function QY(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function m0(t,...e){if(zg(t))return t;for(const s of e){const o=s.axis||QY(s.position)||t.length>1&&zg(t[0].toLowerCase());if(o)return o}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Wg(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function zY(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(o=>o.xAxisID===t||o.yAxisID===t);if(s.length)return Wg(t,"x",s[0])||Wg(t,"y",s[0])}return{}}function WY(t,e){const s=en[t.type]||{scales:{}},o=e.scales||{},n=u0(t.type,e),i=Object.create(null);return Object.keys(o).forEach(l=>{const c=o[l];if(!kt(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=m0(l,c,zY(l,t),Yt.scales[c.type]),u=VY(d,n),m=s.scales||{};i[l]=Da(Object.create(null),[{axis:d},c,m[d],m[u]])}),t.data.datasets.forEach(l=>{const c=l.type||t.type,d=l.indexAxis||u0(c,e),m=(en[c]||{}).scales||{};Object.keys(m).forEach(p=>{const y=GY(p,d),v=l[y+"AxisID"]||y;i[v]=i[v]||Object.create(null),Da(i[v],[{axis:y},o[v],m[p]])})}),Object.keys(i).forEach(l=>{const c=i[l];Da(c,[Yt.scales[c.type],Yt.scale])}),i}function w1(t){const e=t.options||(t.options={});e.plugins=ht(e.plugins,{}),e.scales=WY(t,e)}function C1(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function YY(t){return t=t||{},t.data=C1(t.data),w1(t),t}const Yg=new Map,S1=new Set;function tl(t,e){let s=Yg.get(t);return s||(s=e(),Yg.set(t,s),S1.add(s)),s}const ma=(t,e,s)=>{const o=ql(e,s);o!==void 0&&t.add(o)};class KY{constructor(e){this._config=YY(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=C1(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),w1(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return tl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return tl(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return tl(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,o=this.type;return tl(`${o}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const o=this._scopeCache;let n=o.get(e);return(!n||s)&&(n=new Map,o.set(e,n)),n}getOptionScopes(e,s,o){const{options:n,type:i}=this,l=this._cachedScopes(e,o),c=l.get(s);if(c)return c;const d=new Set;s.forEach(m=>{e&&(d.add(e),m.forEach(p=>ma(d,e,p))),m.forEach(p=>ma(d,n,p)),m.forEach(p=>ma(d,en[i]||{},p)),m.forEach(p=>ma(d,Yt,p)),m.forEach(p=>ma(d,l0,p))});const u=Array.from(d);return u.length===0&&u.push(Object.create(null)),S1.has(s)&&l.set(s,u),u}chartOptionScopes(){const{options:e,type:s}=this;return[e,en[s]||{},Yt.datasets[s]||{},{type:s},Yt,l0]}resolveNamedOptions(e,s,o,n=[""]){const i={$shared:!0},{resolver:l,subPrefixes:c}=Kg(this._resolverCache,e,n);let d=l;if(ZY(l,s)){i.$shared=!1,o=yr(o)?o():o;const u=this.createResolver(e,o,c);d=Nn(l,o,u)}for(const u of s)i[u]=d[u];return i}createResolver(e,s,o=[""],n){const{resolver:i}=Kg(this._resolverCache,e,o);return kt(s)?Nn(i,s,void 0,n):i}}function Kg(t,e,s){let o=t.get(e);o||(o=new Map,t.set(e,o));const n=s.join();let i=o.get(n);return i||(i={resolver:ep(e,s),subPrefixes:s.filter(c=>!c.toLowerCase().includes("hover"))},o.set(n,i)),i}const XY=t=>kt(t)&&Object.getOwnPropertyNames(t).some(e=>yr(t[e]));function ZY(t,e){const{isScriptable:s,isIndexable:o}=l1(t);for(const n of e){const i=s(n),l=o(n),c=(l||i)&&t[n];if(i&&(yr(c)||XY(c))||l&&ls(c))return!0}return!1}var JY="4.4.8";const eK=["top","bottom","left","right","chartArea"];function Xg(t,e){return t==="top"||t==="bottom"||eK.indexOf(t)===-1&&e==="x"}function Zg(t,e){return function(s,o){return s[t]===o[t]?s[e]-o[e]:s[t]-o[t]}}function Jg(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),Dt(s&&s.onComplete,[t],e)}function tK(t){const e=t.chart,s=e.options.animation;Dt(s&&s.onProgress,[t],e)}function $1(t){return op()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const yl={},eh=t=>{const e=$1(t);return Object.values(yl).filter(s=>s.canvas===e).pop()};function sK(t,e,s){const o=Object.keys(t);for(const n of o){const i=+n;if(i>=e){const l=t[n];delete t[n],(s>0||i>e)&&(t[i+s]=l)}}}function oK(t,e,s,o){return!s||t.type==="mouseout"?null:o?e:t}function sl(t,e,s){return t.options.clip?t[s]:e[s]}function rK(t,e){const{xScale:s,yScale:o}=t;return s&&o?{left:sl(s,e,"left"),right:sl(s,e,"right"),top:sl(o,e,"top"),bottom:sl(o,e,"bottom")}:e}var er;let wi=(er=class{static register(...e){wo.add(...e),th()}static unregister(...e){wo.remove(...e),th()}constructor(e,s){const o=this.config=new KY(s),n=$1(e),i=eh(n);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const l=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||kY(n)),this.platform.updateConfig(o);const c=this.platform.acquireContext(n,l.aspectRatio),d=c&&c.canvas,u=d&&d.height,m=d&&d.width;if(this.id=dz(),this.ctx=c,this.canvas=d,this.width=m,this.height=u,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new qY,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Pz(p=>this.update(p),l.resizeDelay||0),this._dataChanges=[],yl[this.id]=this,!c||!d){console.error("Failed to create chart: can't acquire context from the given item");return}Fo.listen(this,"complete",Jg),Fo.listen(this,"progress",tK),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:o,height:n,_aspectRatio:i}=this;return Lt(e)?s&&i?i:n?o/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return wo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():$g(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return wg(this.canvas,this.ctx),this}stop(){return Fo.stop(this),this}resize(e,s){Fo.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const o=this.options,n=this.canvas,i=o.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(n,e,s,i),c=o.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,$g(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),Dt(o.onResize,[this,l],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};Et(s,(o,n)=>{o.id=n})}buildOrUpdateScales(){const e=this.options,s=e.scales,o=this.scales,n=Object.keys(o).reduce((l,c)=>(l[c]=!1,l),{});let i=[];s&&(i=i.concat(Object.keys(s).map(l=>{const c=s[l],d=m0(l,c),u=d==="r",m=d==="x";return{options:c,dposition:u?"chartArea":m?"bottom":"left",dtype:u?"radialLinear":m?"category":"linear"}}))),Et(i,l=>{const c=l.options,d=c.id,u=m0(d,c),m=ht(c.type,l.dtype);(c.position===void 0||Xg(c.position,u)!==Xg(l.dposition))&&(c.position=l.dposition),n[d]=!0;let p=null;if(d in o&&o[d].type===m)p=o[d];else{const y=wo.getScale(m);p=new y({id:d,type:m,ctx:this.ctx,chart:this}),o[p.id]=p}p.init(c,e)}),Et(n,(l,c)=>{l||delete o[c]}),Et(o,l=>{ro.configure(this,l,l.options),ro.addBox(this,l)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,o=e.length;if(e.sort((n,i)=>n.index-i.index),o>s){for(let n=s;n<o;++n)this._destroyDatasetMeta(n);e.splice(s,o-s)}this._sortedMetasets=e.slice(0).sort(Zg("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((o,n)=>{s.filter(i=>i===o._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let o,n;for(this._removeUnreferencedMetasets(),o=0,n=s.length;o<n;o++){const i=s[o];let l=this.getDatasetMeta(o);const c=i.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(o),l=this.getDatasetMeta(o)),l.type=c,l.indexAxis=i.indexAxis||u0(c,this.options),l.order=i.order||0,l.index=o,l.label=""+i.label,l.visible=this.isDatasetVisible(o),l.controller)l.controller.updateIndex(o),l.controller.linkScales();else{const d=wo.getController(c),{datasetElementType:u,dataElementType:m}=Yt.datasets[c];Object.assign(d,{dataElementType:wo.getElement(m),datasetElementType:u&&wo.getElement(u)}),l.controller=new d(this,o),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Et(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const o=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let u=0,m=this.data.datasets.length;u<m;u++){const{controller:p}=this.getDatasetMeta(u),y=!n&&i.indexOf(p)===-1;p.buildOrUpdateElements(y),l=Math.max(+p.getMaxOverflow(),l)}l=this._minPadding=o.layout.autoPadding?l:0,this._updateLayout(l),n||Et(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Zg("z","_idx"));const{_active:c,_lastEvent:d}=this;d?this._eventHandler(d,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Et(this.scales,e=>{ro.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),o=new Set(e.events);(!pg(s,o)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:o,start:n,count:i}of s){const l=o==="_removeElements"?-i:i;sK(e,n,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,o=i=>new Set(e.filter(l=>l[0]===i).map((l,c)=>c+","+l.splice(1).join(","))),n=o(0);for(let i=1;i<s;i++)if(!pg(n,o(i)))return;return Array.from(n).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ro.update(this,this.width,this.height,e);const s=this.chartArea,o=s.width<=0||s.height<=0;this._layers=[],Et(this.boxes,n=>{o&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,i)=>{n._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,o=this.data.datasets.length;s<o;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,o=this.data.datasets.length;s<o;++s)this._updateDataset(s,yr(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const o=this.getDatasetMeta(e),n={meta:o,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(o.controller._update(s),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Fo.has(this)?this.attached&&!Fo.running(this)&&Fo.start(this):(this.draw(),Jg({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:o,height:n}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(o,n)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,o=[];let n,i;for(n=0,i=s.length;n<i;++n){const l=s[n];(!e||l.visible)&&o.push(l)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,o=e._clip,n=!o.disabled,i=rK(e,this.chartArea),l={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(n&&Zm(s,{left:o.left===!1?0:i.left-o.left,right:o.right===!1?this.width:i.right+o.right,top:o.top===!1?0:i.top-o.top,bottom:o.bottom===!1?this.height:i.bottom+o.bottom}),e.controller.draw(),n&&Jm(s),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(e){return oi(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,o,n){const i=eY.modes[s];return typeof i=="function"?i(this,e,o,n):[]}getDatasetMeta(e){const s=this.data.datasets[e],o=this._metasets;let n=o.filter(i=>i&&i._dataset===s).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},o.push(n)),n}getContext(){return this.$context||(this.$context=on(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const o=this.getDatasetMeta(e);return typeof o.hidden=="boolean"?!o.hidden:!s.hidden}setDatasetVisibility(e,s){const o=this.getDatasetMeta(e);o.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,o){const n=o?"show":"hide",i=this.getDatasetMeta(e),l=i.controller._resolveAnimations(void 0,n);Ol(s)?(i.data[s].hidden=!o,this.update()):(this.setDatasetVisibility(e,o),l.update(i,{visible:o}),this.update(c=>c.datasetIndex===e?n:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),Fo.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),wg(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete yl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,o=(i,l)=>{s.addEventListener(this,i,l),e[i]=l},n=(i,l,c)=>{i.offsetX=l,i.offsetY=c,this._eventHandler(i)};Et(this.options.events,i=>o(i,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,o=(d,u)=>{s.addEventListener(this,d,u),e[d]=u},n=(d,u)=>{e[d]&&(s.removeEventListener(this,d,u),delete e[d])},i=(d,u)=>{this.canvas&&this.resize(d,u)};let l;const c=()=>{n("attach",c),this.attached=!0,this.resize(),o("resize",i),o("detach",l)};l=()=>{this.attached=!1,n("resize",i),this._stop(),this._resize(0,0),o("attach",c)},s.isAttached(this.canvas)?c():l()}unbindEvents(){Et(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},Et(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,o){const n=o?"set":"remove";let i,l,c,d;for(s==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+n+"DatasetHoverStyle"]()),c=0,d=e.length;c<d;++c){l=e[c];const u=l&&this.getDatasetMeta(l.datasetIndex).controller;u&&u[n+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],o=e.map(({datasetIndex:i,index:l})=>{const c=this.getDatasetMeta(i);if(!c)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:c.data[l],index:l}});!Ul(o,s)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,s))}notifyPlugins(e,s,o){return this._plugins.notify(this,e,s,o)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,o){const n=this.options.hover,i=(d,u)=>d.filter(m=>!u.some(p=>m.datasetIndex===p.datasetIndex&&m.index===p.index)),l=i(s,e),c=o?e:i(e,s);l.length&&this.updateHoverStyle(l,n.mode,!1),c.length&&n.mode&&this.updateHoverStyle(c,n.mode,!0)}_eventHandler(e,s){const o={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},n=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",o,n)===!1)return;const i=this._handleEvent(e,s,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,n),(i||o.changed)&&this.render(),this}_handleEvent(e,s,o){const{_active:n=[],options:i}=this,l=s,c=this._getActiveElements(e,n,o,l),d=hz(e),u=oK(e,this._lastEvent,o,d);o&&(this._lastEvent=null,Dt(i.onHover,[e,c,this],this),d&&Dt(i.onClick,[e,c,this],this));const m=!Ul(c,n);return(m||s)&&(this._active=c,this._updateHoverStyles(c,n,s)),this._lastEvent=u,m}_getActiveElements(e,s,o,n){if(e.type==="mouseout")return[];if(!o)return s;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,n)}},lt(er,"defaults",Yt),lt(er,"instances",yl),lt(er,"overrides",en),lt(er,"registry",wo),lt(er,"version",JY),lt(er,"getChart",eh),er);function th(){return Et(wi.instances,t=>t._plugins.invalidate())}function E1(t,e,s=e){t.lineCap=ht(s.borderCapStyle,e.borderCapStyle),t.setLineDash(ht(s.borderDash,e.borderDash)),t.lineDashOffset=ht(s.borderDashOffset,e.borderDashOffset),t.lineJoin=ht(s.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ht(s.borderWidth,e.borderWidth),t.strokeStyle=ht(s.borderColor,e.borderColor)}function nK(t,e,s){t.lineTo(s.x,s.y)}function aK(t){return t.stepped?jz:t.tension||t.cubicInterpolationMode==="monotone"?Gz:nK}function A1(t,e,s={}){const o=t.length,{start:n=0,end:i=o-1}=s,{start:l,end:c}=e,d=Math.max(n,l),u=Math.min(i,c),m=n<l&&i<l||n>c&&i>c;return{count:o,start:d,loop:e.loop,ilen:u<d&&!m?o+u-d:u-d}}function iK(t,e,s,o){const{points:n,options:i}=e,{count:l,start:c,loop:d,ilen:u}=A1(n,s,o),m=aK(i);let{move:p=!0,reverse:y}=o||{},v,S,_;for(v=0;v<=u;++v)S=n[(c+(y?u-v:v))%l],!S.skip&&(p?(t.moveTo(S.x,S.y),p=!1):m(t,_,S,y,i.stepped),_=S);return d&&(S=n[(c+(y?u:0))%l],m(t,_,S,y,i.stepped)),!!d}function lK(t,e,s,o){const n=e.points,{count:i,start:l,ilen:c}=A1(n,s,o),{move:d=!0,reverse:u}=o||{};let m=0,p=0,y,v,S,_,C,x;const $=M=>(l+(u?c-M:M))%i,A=()=>{_!==C&&(t.lineTo(m,C),t.lineTo(m,_),t.lineTo(m,x))};for(d&&(v=n[$(0)],t.moveTo(v.x,v.y)),y=0;y<=c;++y){if(v=n[$(y)],v.skip)continue;const M=v.x,P=v.y,L=M|0;L===S?(P<_?_=P:P>C&&(C=P),m=(p*m+M)/++p):(A(),t.lineTo(M,P),S=L,p=0,_=C=P),x=P}A()}function p0(t){const e=t.options,s=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!s?lK:iK}function cK(t){return t.stepped?wW:t.tension||t.cubicInterpolationMode==="monotone"?CW:qr}function dK(t,e,s,o){let n=e._path;n||(n=e._path=new Path2D,e.path(n,s,o)&&n.closePath()),E1(t,e.options),t.stroke(n)}function uK(t,e,s,o){const{segments:n,options:i}=e,l=p0(e);for(const c of n)E1(t,i,c.style),t.beginPath(),l(t,e,c,{start:s,end:s+o-1})&&t.closePath(),t.stroke()}const mK=typeof Path2D=="function";function pK(t,e,s,o){mK&&!e.options.segment?dK(t,e,s,o):uK(t,e,s,o)}class $n extends rn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,s){const o=this.options;if((o.tension||o.cubicInterpolationMode==="monotone")&&!o.stepped&&!this._pointsUpdated){const n=o.spanGaps?this._loop:this._fullLoop;gW(this._points,o,e,n,s),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=LW(this,this.options.segment))}first(){const e=this.segments,s=this.points;return e.length&&s[e[0].start]}last(){const e=this.segments,s=this.points,o=e.length;return o&&s[e[o-1].end]}interpolate(e,s){const o=this.options,n=e[s],i=this.points,l=MW(this,{property:s,start:n,end:n});if(!l.length)return;const c=[],d=cK(o);let u,m;for(u=0,m=l.length;u<m;++u){const{start:p,end:y}=l[u],v=i[p],S=i[y];if(v===S){c.push(v);continue}const _=Math.abs((n-v[s])/(S[s]-v[s])),C=d(v,S,_,o.stepped);C[s]=e[s],c.push(C)}return c.length===1?c[0]:c}pathSegment(e,s,o){return p0(this)(e,this,s,o)}path(e,s,o){const n=this.segments,i=p0(this);let l=this._loop;s=s||0,o=o||this.points.length-s;for(const c of n)l&=i(e,this,c,{start:s,end:s+o-1});return!!l}draw(e,s,o,n){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),pK(e,this,o,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}lt($n,"id","line"),lt($n,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),lt($n,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),lt($n,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function sh(t,e,s,o){const n=t.options,{[s]:i}=t.getProps([s],o);return Math.abs(e-i)<n.radius+n.hitRadius}class Oa extends rn{constructor(s){super();lt(this,"parsed");lt(this,"skip");lt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,o,n){const i=this.options,{x:l,y:c}=this.getProps(["x","y"],n);return Math.pow(s-l,2)+Math.pow(o-c,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(s,o){return sh(this,s,"x",o)}inYRange(s,o){return sh(this,s,"y",o)}getCenterPoint(s){const{x:o,y:n}=this.getProps(["x","y"],s);return{x:o,y:n}}size(s){s=s||this.options||{};let o=s.radius||0;o=Math.max(o,o&&s.hoverRadius||0);const n=o&&s.borderWidth||0;return(o+n)*2}draw(s,o){const n=this.options;this.skip||n.radius<.1||!oi(this,o,this.size(n)/2)||(s.strokeStyle=n.borderColor,s.lineWidth=n.borderWidth,s.fillStyle=n.backgroundColor,c0(s,n,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}lt(Oa,"id","point"),lt(Oa,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),lt(Oa,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const oh=(t,e)=>{let{boxHeight:s=e,boxWidth:o=e}=t;return t.usePointStyle&&(s=Math.min(s,e),o=t.pointStyleWidth||Math.min(o,e)),{boxWidth:o,boxHeight:s,itemHeight:Math.max(e,s)}},fK=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class rh extends rn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,o){this.maxWidth=e,this.maxHeight=s,this._margins=o,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=Dt(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(o=>e.filter(o,this.chart.data))),e.sort&&(s=s.sort((o,n)=>e.sort(o,n,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const o=e.labels,n=ks(o.font),i=n.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:d}=oh(o,i);let u,m;s.font=n.string,this.isHorizontal()?(u=this.maxWidth,m=this._fitRows(l,i,c,d)+10):(m=this.maxHeight,u=this._fitCols(l,n,c,d)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,s,o,n){const{ctx:i,maxWidth:l,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],u=this.lineWidths=[0],m=n+c;let p=e;i.textAlign="left",i.textBaseline="middle";let y=-1,v=-m;return this.legendItems.forEach((S,_)=>{const C=o+s/2+i.measureText(S.text).width;(_===0||u[u.length-1]+C+2*c>l)&&(p+=m,u[u.length-(_>0?0:1)]=0,v+=m,y++),d[_]={left:0,top:v,row:y,width:C,height:n},u[u.length-1]+=C+c}),p}_fitCols(e,s,o,n){const{ctx:i,maxHeight:l,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],u=this.columnSizes=[],m=l-e;let p=c,y=0,v=0,S=0,_=0;return this.legendItems.forEach((C,x)=>{const{itemWidth:$,itemHeight:A}=gK(o,s,i,C,n);x>0&&v+A+2*c>m&&(p+=y+c,u.push({width:y,height:v}),S+=y+c,_++,y=v=0),d[x]={left:S,top:v,col:_,width:$,height:A},y=Math.max(y,$),v+=A+c}),p+=y,u.push({width:y,height:v}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:o,labels:{padding:n},rtl:i}}=this,l=Dn(i,this.left,this.width);if(this.isHorizontal()){let c=0,d=gs(o,this.left+n,this.right-this.lineWidths[c]);for(const u of s)c!==u.row&&(c=u.row,d=gs(o,this.left+n,this.right-this.lineWidths[c])),u.top+=this.top+e+n,u.left=l.leftForLtr(l.x(d),u.width),d+=u.width+n}else{let c=0,d=gs(o,this.top+e+n,this.bottom-this.columnSizes[c].height);for(const u of s)u.col!==c&&(c=u.col,d=gs(o,this.top+e+n,this.bottom-this.columnSizes[c].height)),u.top=d,u.left+=this.left+n,u.left=l.leftForLtr(l.x(u.left),u.width),d+=u.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Zm(e,this),this._draw(),Jm(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:o,ctx:n}=this,{align:i,labels:l}=e,c=Yt.color,d=Dn(e.rtl,this.left,this.width),u=ks(l.font),{padding:m}=l,p=u.size,y=p/2;let v;this.drawTitle(),n.textAlign=d.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=u.string;const{boxWidth:S,boxHeight:_,itemHeight:C}=oh(l,p),x=function(L,B,k){if(isNaN(S)||S<=0||isNaN(_)||_<0)return;n.save();const I=ht(k.lineWidth,1);if(n.fillStyle=ht(k.fillStyle,c),n.lineCap=ht(k.lineCap,"butt"),n.lineDashOffset=ht(k.lineDashOffset,0),n.lineJoin=ht(k.lineJoin,"miter"),n.lineWidth=I,n.strokeStyle=ht(k.strokeStyle,c),n.setLineDash(ht(k.lineDash,[])),l.usePointStyle){const N={radius:_*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:I},U=d.xPlus(L,S/2),j=B+y;a1(n,N,U,j,l.pointStyleWidth&&S)}else{const N=B+Math.max((p-_)/2,0),U=d.leftForLtr(L,S),j=Ba(k.borderRadius);n.beginPath(),Object.values(j).some(ee=>ee!==0)?d0(n,{x:U,y:N,w:S,h:_,radius:j}):n.rect(U,N,S,_),n.fill(),I!==0&&n.stroke()}n.restore()},$=function(L,B,k){ri(n,k.text,L,B+C/2,u,{strikethrough:k.hidden,textAlign:d.textAlign(k.textAlign)})},A=this.isHorizontal(),M=this._computeTitleHeight();A?v={x:gs(i,this.left+m,this.right-o[0]),y:this.top+m+M,line:0}:v={x:this.left+m,y:gs(i,this.top+M+m,this.bottom-s[0].height),line:0},p1(this.ctx,e.textDirection);const P=C+m;this.legendItems.forEach((L,B)=>{n.strokeStyle=L.fontColor,n.fillStyle=L.fontColor;const k=n.measureText(L.text).width,I=d.textAlign(L.textAlign||(L.textAlign=l.textAlign)),N=S+y+k;let U=v.x,j=v.y;d.setWidth(this.width),A?B>0&&U+N+m>this.right&&(j=v.y+=P,v.line++,U=v.x=gs(i,this.left+m,this.right-o[v.line])):B>0&&j+P>this.bottom&&(U=v.x=U+s[v.line].width+m,v.line++,j=v.y=gs(i,this.top+M+m,this.bottom-s[v.line].height));const ee=d.x(U);if(x(ee,j,L),U=Tz(I,U+S+y,A?U+N:this.right,e.rtl),$(d.x(U),j,L),A)v.x+=N+m;else if(typeof L.text!="string"){const ne=u.lineHeight;v.y+=M1(L,ne)+m}else v.y+=P}),f1(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,o=ks(s.font),n=ao(s.padding);if(!s.display)return;const i=Dn(e.rtl,this.left,this.width),l=this.ctx,c=s.position,d=o.size/2,u=n.top+d;let m,p=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),m=this.top+u,p=gs(e.align,p,this.right-y);else{const S=this.columnSizes.reduce((_,C)=>Math.max(_,C.height),0);m=u+gs(e.align,this.top,this.bottom-S-e.labels.padding-this._computeTitleHeight())}const v=gs(c,p,p+y);l.textAlign=i.textAlign(Wm(c)),l.textBaseline="middle",l.strokeStyle=s.color,l.fillStyle=s.color,l.font=o.string,ri(l,s.text,v,m,o)}_computeTitleHeight(){const e=this.options.title,s=ks(e.font),o=ao(e.padding);return e.display?s.lineHeight+o.height:0}_getLegendItemAt(e,s){let o,n,i;if(xa(e,this.left,this.right)&&xa(s,this.top,this.bottom)){for(i=this.legendHitBoxes,o=0;o<i.length;++o)if(n=i[o],xa(e,n.left,n.left+n.width)&&xa(s,n.top,n.top+n.height))return this.legendItems[o]}return null}handleEvent(e){const s=this.options;if(!vK(e.type,s))return;const o=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const n=this._hoveredItem,i=fK(n,o);n&&!i&&Dt(s.onLeave,[e,n,this],this),this._hoveredItem=o,o&&!i&&Dt(s.onHover,[e,o,this],this)}else o&&Dt(s.onClick,[e,o,this],this)}}function gK(t,e,s,o,n){const i=hK(o,t,e,s),l=bK(n,o,e.lineHeight);return{itemWidth:i,itemHeight:l}}function hK(t,e,s,o){let n=t.text;return n&&typeof n!="string"&&(n=n.reduce((i,l)=>i.length>l.length?i:l)),e+s.size/2+o.measureText(n).width}function bK(t,e,s){let o=t;return typeof e.text!="string"&&(o=M1(e,s)),o}function M1(t,e){const s=t.text?t.text.length:0;return e*s}function vK(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var P1={id:"legend",_element:rh,start(t,e,s){const o=t.legend=new rh({ctx:t.ctx,options:s,chart:t});ro.configure(t,o,s),ro.addBox(t,o)},stop(t){ro.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const o=t.legend;ro.configure(t,o,s),o.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const o=e.datasetIndex,n=s.chart;n.isDatasetVisible(o)?(n.hide(o),e.hidden=!0):(n.show(o),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:o,textAlign:n,color:i,useBorderRadius:l,borderRadius:c}}=t.legend.options;return t._getSortedDatasetMetas().map(d=>{const u=d.controller.getStyle(s?0:void 0),m=ao(u.borderWidth);return{text:e[d.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!d.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:u.borderColor,pointStyle:o||u.pointStyle,rotation:u.rotation,textAlign:n||u.textAlign,borderRadius:l&&(c||u.borderRadius),datasetIndex:d.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class T1 extends rn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s){const o=this.options;if(this.left=0,this.top=0,!o.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=s;const n=ls(o.text)?o.text.length:1;this._padding=ao(o.padding);const i=n*ks(o.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:s,left:o,bottom:n,right:i,options:l}=this,c=l.align;let d=0,u,m,p;return this.isHorizontal()?(m=gs(c,o,i),p=s+e,u=i-o):(l.position==="left"?(m=o+e,p=gs(c,n,s),d=ds*-.5):(m=i-e,p=gs(c,s,n),d=ds*.5),u=n-s),{titleX:m,titleY:p,maxWidth:u,rotation:d}}draw(){const e=this.ctx,s=this.options;if(!s.display)return;const o=ks(s.font),i=o.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:d,rotation:u}=this._drawArgs(i);ri(e,s.text,0,0,o,{color:s.color,maxWidth:d,rotation:u,textAlign:Wm(s.align),textBaseline:"middle",translation:[l,c]})}}function yK(t,e){const s=new T1({ctx:t.ctx,options:e,chart:t});ro.configure(t,s,e),ro.addBox(t,s),t.titleBlock=s}var L1={id:"title",_element:T1,start(t,e,s){yK(t,s)},stop(t){const e=t.titleBlock;ro.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,s){const o=t.titleBlock;ro.configure(t,o,s),o.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const _a={average(t){if(!t.length)return!1;let e,s,o=new Set,n=0,i=0;for(e=0,s=t.length;e<s;++e){const c=t[e].element;if(c&&c.hasValue()){const d=c.tooltipPosition();o.add(d.x),n+=d.y,++i}}return i===0||o.size===0?!1:{x:[...o].reduce((c,d)=>c+d)/o.size,y:n/i}},nearest(t,e){if(!t.length)return!1;let s=e.x,o=e.y,n=Number.POSITIVE_INFINITY,i,l,c;for(i=0,l=t.length;i<l;++i){const d=t[i].element;if(d&&d.hasValue()){const u=d.getCenterPoint(),m=i0(e,u);m<n&&(n=m,c=d)}}if(c){const d=c.tooltipPosition();s=d.x,o=d.y}return{x:s,y:o}}};function ko(t,e){return e&&(ls(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ro(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function xK(t,e){const{element:s,datasetIndex:o,index:n}=e,i=t.getDatasetMeta(o).controller,{label:l,value:c}=i.getLabelAndValue(n);return{chart:t,label:l,parsed:i.getParsed(n),raw:t.data.datasets[o].data[n],formattedValue:c,dataset:i.getDataset(),dataIndex:n,datasetIndex:o,element:s}}function nh(t,e){const s=t.chart.ctx,{body:o,footer:n,title:i}=t,{boxWidth:l,boxHeight:c}=e,d=ks(e.bodyFont),u=ks(e.titleFont),m=ks(e.footerFont),p=i.length,y=n.length,v=o.length,S=ao(e.padding);let _=S.height,C=0,x=o.reduce((M,P)=>M+P.before.length+P.lines.length+P.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,p&&(_+=p*u.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),x){const M=e.displayColors?Math.max(c,d.lineHeight):d.lineHeight;_+=v*M+(x-v)*d.lineHeight+(x-1)*e.bodySpacing}y&&(_+=e.footerMarginTop+y*m.lineHeight+(y-1)*e.footerSpacing);let $=0;const A=function(M){C=Math.max(C,s.measureText(M).width+$)};return s.save(),s.font=u.string,Et(t.title,A),s.font=d.string,Et(t.beforeBody.concat(t.afterBody),A),$=e.displayColors?l+2+e.boxPadding:0,Et(o,M=>{Et(M.before,A),Et(M.lines,A),Et(M.after,A)}),$=0,s.font=m.string,Et(t.footer,A),s.restore(),C+=S.width,{width:C,height:_}}function kK(t,e){const{y:s,height:o}=e;return s<o/2?"top":s>t.height-o/2?"bottom":"center"}function _K(t,e,s,o){const{x:n,width:i}=o,l=s.caretSize+s.caretPadding;if(t==="left"&&n+i+l>e.width||t==="right"&&n-i-l<0)return!0}function wK(t,e,s,o){const{x:n,width:i}=s,{width:l,chartArea:{left:c,right:d}}=t;let u="center";return o==="center"?u=n<=(c+d)/2?"left":"right":n<=i/2?u="left":n>=l-i/2&&(u="right"),_K(u,t,e,s)&&(u="center"),u}function ah(t,e,s){const o=s.yAlign||e.yAlign||kK(t,s);return{xAlign:s.xAlign||e.xAlign||wK(t,e,s,o),yAlign:o}}function CK(t,e){let{x:s,width:o}=t;return e==="right"?s-=o:e==="center"&&(s-=o/2),s}function SK(t,e,s){let{y:o,height:n}=t;return e==="top"?o+=s:e==="bottom"?o-=n+s:o-=n/2,o}function ih(t,e,s,o){const{caretSize:n,caretPadding:i,cornerRadius:l}=t,{xAlign:c,yAlign:d}=s,u=n+i,{topLeft:m,topRight:p,bottomLeft:y,bottomRight:v}=Ba(l);let S=CK(e,c);const _=SK(e,d,u);return d==="center"?c==="left"?S+=u:c==="right"&&(S-=u):c==="left"?S-=Math.max(m,y)+n:c==="right"&&(S+=Math.max(p,v)+n),{x:oo(S,0,o.width-e.width),y:oo(_,0,o.height-e.height)}}function ol(t,e,s){const o=ao(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-o.right:t.x+o.left}function lh(t){return ko([],Ro(t))}function $K(t,e,s){return on(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function ch(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const I1={beforeTitle:Io,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,o=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(o>0&&e.dataIndex<o)return s[e.dataIndex]}return""},afterTitle:Io,beforeBody:Io,beforeLabel:Io,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return Lt(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Io,afterBody:Io,beforeFooter:Io,footer:Io,afterFooter:Io};function Ls(t,e,s,o){const n=t[e].call(s,o);return typeof n>"u"?I1[e].call(s,o):n}class f0 extends rn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,o=this.options.setContext(this.getContext()),n=o.enabled&&s.options.animation&&o.animations,i=new h1(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=$K(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:o}=s,n=Ls(o,"beforeTitle",this,e),i=Ls(o,"title",this,e),l=Ls(o,"afterTitle",this,e);let c=[];return c=ko(c,Ro(n)),c=ko(c,Ro(i)),c=ko(c,Ro(l)),c}getBeforeBody(e,s){return lh(Ls(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:o}=s,n=[];return Et(e,i=>{const l={before:[],lines:[],after:[]},c=ch(o,i);ko(l.before,Ro(Ls(c,"beforeLabel",this,i))),ko(l.lines,Ls(c,"label",this,i)),ko(l.after,Ro(Ls(c,"afterLabel",this,i))),n.push(l)}),n}getAfterBody(e,s){return lh(Ls(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:o}=s,n=Ls(o,"beforeFooter",this,e),i=Ls(o,"footer",this,e),l=Ls(o,"afterFooter",this,e);let c=[];return c=ko(c,Ro(n)),c=ko(c,Ro(i)),c=ko(c,Ro(l)),c}_createItems(e){const s=this._active,o=this.chart.data,n=[],i=[],l=[];let c=[],d,u;for(d=0,u=s.length;d<u;++d)c.push(xK(this.chart,s[d]));return e.filter&&(c=c.filter((m,p,y)=>e.filter(m,p,y,o))),e.itemSort&&(c=c.sort((m,p)=>e.itemSort(m,p,o))),Et(c,m=>{const p=ch(e.callbacks,m);n.push(Ls(p,"labelColor",this,m)),i.push(Ls(p,"labelPointStyle",this,m)),l.push(Ls(p,"labelTextColor",this,m))}),this.labelColors=n,this.labelPointStyles=i,this.labelTextColors=l,this.dataPoints=c,c}update(e,s){const o=this.options.setContext(this.getContext()),n=this._active;let i,l=[];if(!n.length)this.opacity!==0&&(i={opacity:0});else{const c=_a[o.position].call(this,n,this._eventPosition);l=this._createItems(o),this.title=this.getTitle(l,o),this.beforeBody=this.getBeforeBody(l,o),this.body=this.getBody(l,o),this.afterBody=this.getAfterBody(l,o),this.footer=this.getFooter(l,o);const d=this._size=nh(this,o),u=Object.assign({},c,d),m=ah(this.chart,o,u),p=ih(o,u,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,i={opacity:1,x:p.x,y:p.y,width:d.width,height:d.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,o,n){const i=this.getCaretPosition(e,o,n);s.lineTo(i.x1,i.y1),s.lineTo(i.x2,i.y2),s.lineTo(i.x3,i.y3)}getCaretPosition(e,s,o){const{xAlign:n,yAlign:i}=this,{caretSize:l,cornerRadius:c}=o,{topLeft:d,topRight:u,bottomLeft:m,bottomRight:p}=Ba(c),{x:y,y:v}=e,{width:S,height:_}=s;let C,x,$,A,M,P;return i==="center"?(M=v+_/2,n==="left"?(C=y,x=C-l,A=M+l,P=M-l):(C=y+S,x=C+l,A=M-l,P=M+l),$=C):(n==="left"?x=y+Math.max(d,m)+l:n==="right"?x=y+S-Math.max(u,p)-l:x=this.caretX,i==="top"?(A=v,M=A-l,C=x-l,$=x+l):(A=v+_,M=A+l,C=x+l,$=x-l),P=A),{x1:C,x2:x,x3:$,y1:A,y2:M,y3:P}}drawTitle(e,s,o){const n=this.title,i=n.length;let l,c,d;if(i){const u=Dn(o.rtl,this.x,this.width);for(e.x=ol(this,o.titleAlign,o),s.textAlign=u.textAlign(o.titleAlign),s.textBaseline="middle",l=ks(o.titleFont),c=o.titleSpacing,s.fillStyle=o.titleColor,s.font=l.string,d=0;d<i;++d)s.fillText(n[d],u.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+c,d+1===i&&(e.y+=o.titleMarginBottom-c)}}_drawColorBox(e,s,o,n,i){const l=this.labelColors[o],c=this.labelPointStyles[o],{boxHeight:d,boxWidth:u}=i,m=ks(i.bodyFont),p=ol(this,"left",i),y=n.x(p),v=d<m.lineHeight?(m.lineHeight-d)/2:0,S=s.y+v;if(i.usePointStyle){const _={radius:Math.min(u,d)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},C=n.leftForLtr(y,u)+u/2,x=S+d/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,c0(e,_,C,x),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,c0(e,_,C,x)}else{e.lineWidth=kt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const _=n.leftForLtr(y,u),C=n.leftForLtr(n.xPlus(y,1),u-2),x=Ba(l.borderRadius);Object.values(x).some($=>$!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,d0(e,{x:_,y:S,w:u,h:d,radius:x}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),d0(e,{x:C,y:S+1,w:u-2,h:d-2,radius:x}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(_,S,u,d),e.strokeRect(_,S,u,d),e.fillStyle=l.backgroundColor,e.fillRect(C,S+1,u-2,d-2))}e.fillStyle=this.labelTextColors[o]}drawBody(e,s,o){const{body:n}=this,{bodySpacing:i,bodyAlign:l,displayColors:c,boxHeight:d,boxWidth:u,boxPadding:m}=o,p=ks(o.bodyFont);let y=p.lineHeight,v=0;const S=Dn(o.rtl,this.x,this.width),_=function(k){s.fillText(k,S.x(e.x+v),e.y+y/2),e.y+=y+i},C=S.textAlign(l);let x,$,A,M,P,L,B;for(s.textAlign=l,s.textBaseline="middle",s.font=p.string,e.x=ol(this,C,o),s.fillStyle=o.bodyColor,Et(this.beforeBody,_),v=c&&C!=="right"?l==="center"?u/2+m:u+2+m:0,M=0,L=n.length;M<L;++M){for(x=n[M],$=this.labelTextColors[M],s.fillStyle=$,Et(x.before,_),A=x.lines,c&&A.length&&(this._drawColorBox(s,e,M,S,o),y=Math.max(p.lineHeight,d)),P=0,B=A.length;P<B;++P)_(A[P]),y=p.lineHeight;Et(x.after,_)}v=0,y=p.lineHeight,Et(this.afterBody,_),e.y-=i}drawFooter(e,s,o){const n=this.footer,i=n.length;let l,c;if(i){const d=Dn(o.rtl,this.x,this.width);for(e.x=ol(this,o.footerAlign,o),e.y+=o.footerMarginTop,s.textAlign=d.textAlign(o.footerAlign),s.textBaseline="middle",l=ks(o.footerFont),s.fillStyle=o.footerColor,s.font=l.string,c=0;c<i;++c)s.fillText(n[c],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+o.footerSpacing}}drawBackground(e,s,o,n){const{xAlign:i,yAlign:l}=this,{x:c,y:d}=e,{width:u,height:m}=o,{topLeft:p,topRight:y,bottomLeft:v,bottomRight:S}=Ba(n.cornerRadius);s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,s.lineWidth=n.borderWidth,s.beginPath(),s.moveTo(c+p,d),l==="top"&&this.drawCaret(e,s,o,n),s.lineTo(c+u-y,d),s.quadraticCurveTo(c+u,d,c+u,d+y),l==="center"&&i==="right"&&this.drawCaret(e,s,o,n),s.lineTo(c+u,d+m-S),s.quadraticCurveTo(c+u,d+m,c+u-S,d+m),l==="bottom"&&this.drawCaret(e,s,o,n),s.lineTo(c+v,d+m),s.quadraticCurveTo(c,d+m,c,d+m-v),l==="center"&&i==="left"&&this.drawCaret(e,s,o,n),s.lineTo(c,d+p),s.quadraticCurveTo(c,d,c+p,d),s.closePath(),s.fill(),n.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,o=this.$animations,n=o&&o.x,i=o&&o.y;if(n||i){const l=_a[e.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=nh(this,e),d=Object.assign({},l,this._size),u=ah(s,e,d),m=ih(e,d,u,s);(n._to!==m.x||i._to!==m.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let o=this.opacity;if(!o)return;this._updateAnimationTarget(s);const n={width:this.width,height:this.height},i={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;const l=ao(s.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&c&&(e.save(),e.globalAlpha=o,this.drawBackground(i,e,n,s),p1(e,s.textDirection),i.y+=l.top,this.drawTitle(i,e,s),this.drawBody(i,e,s),this.drawFooter(i,e,s),f1(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const o=this._active,n=e.map(({datasetIndex:c,index:d})=>{const u=this.chart.getDatasetMeta(c);if(!u)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:u.data[d],index:d}}),i=!Ul(o,n),l=this._positionChanged(n,s);(i||l)&&(this._active=n,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,o=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,i=this._active||[],l=this._getActiveElements(e,i,s,o),c=this._positionChanged(l,e),d=s||!Ul(l,i)||c;return d&&(this._active=l,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),d}_getActiveElements(e,s,o,n){const i=this.options;if(e.type==="mouseout")return[];if(!n)return s.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,i.mode,i,o);return i.reverse&&l.reverse(),l}_positionChanged(e,s){const{caretX:o,caretY:n,options:i}=this,l=_a[i.position].call(this,e,s);return l!==!1&&(o!==l.x||n!==l.y)}}lt(f0,"positioners",_a);var D1={id:"tooltip",_element:f0,positioners:_a,afterInit(t,e,s){s&&(t.tooltip=new f0({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:I1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const EK=(t,e,s,o)=>(typeof e=="string"?(s=t.push(e)-1,o.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function AK(t,e,s,o){const n=t.indexOf(e);if(n===-1)return EK(t,e,s,o);const i=t.lastIndexOf(e);return n!==i?s:n}const MK=(t,e)=>t===null?null:oo(Math.round(t),0,e);function dh(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Gl extends nn{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const o=this.getLabels();for(const{index:n,label:i}of s)o[n]===i&&o.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(Lt(e))return null;const o=this.getLabels();return s=isFinite(s)&&o[s]===e?s:AK(o,e,ht(s,e),this._addedLabels),MK(s,o.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:o,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(o=0),s||(n=this.getLabels().length-1)),this.min=o,this.max=n}buildTicks(){const e=this.min,s=this.max,o=this.options.offset,n=[];let i=this.getLabels();i=e===0&&s===i.length-1?i:i.slice(e,s+1),this._valueRange=Math.max(i.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let l=e;l<=s;l++)n.push({value:l});return n}getLabelForValue(e){return dh.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}lt(Gl,"id","category"),lt(Gl,"defaults",{ticks:{callback:dh}});function PK(t,e){const s=[],{bounds:n,step:i,min:l,max:c,precision:d,count:u,maxTicks:m,maxDigits:p,includeBounds:y}=t,v=i||1,S=m-1,{min:_,max:C}=e,x=!Lt(l),$=!Lt(c),A=!Lt(u),M=(C-_)/(p+1);let P=gg((C-_)/S/v)*v,L,B,k,I;if(P<1e-14&&!x&&!$)return[{value:_},{value:C}];I=Math.ceil(C/P)-Math.floor(_/P),I>S&&(P=gg(I*P/S/v)*v),Lt(d)||(L=Math.pow(10,d),P=Math.ceil(P*L)/L),n==="ticks"?(B=Math.floor(_/P)*P,k=Math.ceil(C/P)*P):(B=_,k=C),x&&$&&i&&kz((c-l)/i,P/1e3)?(I=Math.round(Math.min((c-l)/P,m)),P=(c-l)/I,B=l,k=c):A?(B=x?l:B,k=$?c:k,I=u-1,P=(k-B)/I):(I=(k-B)/P,Fa(I,Math.round(I),P/1e3)?I=Math.round(I):I=Math.ceil(I));const N=Math.max(hg(P),hg(B));L=Math.pow(10,Lt(d)?N:d),B=Math.round(B*L)/L,k=Math.round(k*L)/L;let U=0;for(x&&(y&&B!==l?(s.push({value:l}),B<l&&U++,Fa(Math.round((B+U*P)*L)/L,l,uh(l,M,t))&&U++):B<l&&U++);U<I;++U){const j=Math.round((B+U*P)*L)/L;if($&&j>c)break;s.push({value:j})}return $&&y&&k!==c?s.length&&Fa(s[s.length-1].value,c,uh(c,M,t))?s[s.length-1].value=c:s.push({value:c}):(!$||k===c)&&s.push({value:k}),s}function uh(t,e,{horizontal:s,minRotation:o}){const n=Gr(o),i=(s?Math.sin(n):Math.cos(n))||.001,l=.75*e*(""+t).length;return Math.min(e/i,l)}class F1 extends nn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return Lt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:o}=this.getUserBounds();let{min:n,max:i}=this;const l=d=>n=s?n:d,c=d=>i=o?i:d;if(e){const d=On(n),u=On(i);d<0&&u<0?c(0):d>0&&u>0&&l(0)}if(n===i){let d=i===0?1:Math.abs(i*.05);c(i+d),e||l(n-d)}this.min=n,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:o}=e,n;return o?(n=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${o} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),s=s||11),s&&(n=Math.min(s,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let o=this.getTickLimit();o=Math.max(2,o);const n={maxTicks:o,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},i=this._range||this,l=PK(n,i);return e.bounds==="ticks"&&e1(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let s=this.min,o=this.max;if(super.configure(),this.options.offset&&e.length){const n=(o-s)/Math.max(e.length-1,1)/2;s-=n,o+=n}this._startValue=s,this._endValue=o,this._valueRange=o-s}getLabelForValue(e){return Km(e,this.chart.options.locale,this.options.ticks.format)}}class Vl extends F1{determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=xs(e)?e:0,this.max=xs(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,o=Gr(this.options.ticks.minRotation),n=(e?Math.sin(o):Math.cos(o))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,i.lineHeight/n))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}lt(Vl,"id","linear"),lt(Vl,"defaults",{ticks:{callback:Xm.formatters.numeric}});const ai=t=>Math.floor(fr(t)),Fr=(t,e)=>Math.pow(10,ai(t)+e);function mh(t){return t/Math.pow(10,ai(t))===1}function ph(t,e,s){const o=Math.pow(10,s),n=Math.floor(t/o);return Math.ceil(e/o)-n}function TK(t,e){const s=e-t;let o=ai(s);for(;ph(t,e,o)>10;)o++;for(;ph(t,e,o)<10;)o--;return Math.min(o,ai(t))}function LK(t,{min:e,max:s}){e=Gs(t.min,e);const o=[],n=ai(e);let i=TK(e,s),l=i<0?Math.pow(10,Math.abs(i)):1;const c=Math.pow(10,i),d=n>i?Math.pow(10,n):0,u=Math.round((e-d)*l)/l,m=Math.floor((e-d)/c/10)*c*10;let p=Math.floor((u-m)/Math.pow(10,i)),y=Gs(t.min,Math.round((d+m+p*Math.pow(10,i))*l)/l);for(;y<s;)o.push({value:y,major:mh(y),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(i++,p=2,l=i>=0?1:l),y=Math.round((d+m+p*Math.pow(10,i))*l)/l;const v=Gs(t.max,y);return o.push({value:v,major:mh(v),significand:p}),o}class g0 extends nn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,s){const o=F1.prototype.parse.apply(this,[e,s]);if(o===0){this._zero=!0;return}return xs(o)&&o>0?o:null}determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=xs(e)?Math.max(0,e):null,this.max=xs(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!xs(this._userMin)&&(this.min=e===Fr(this.min,0)?Fr(this.min,-1):Fr(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let o=this.min,n=this.max;const i=c=>o=e?o:c,l=c=>n=s?n:c;o===n&&(o<=0?(i(1),l(10)):(i(Fr(o,-1)),l(Fr(n,1)))),o<=0&&i(Fr(n,-1)),n<=0&&l(Fr(o,1)),this.min=o,this.max=n}buildTicks(){const e=this.options,s={min:this._userMin,max:this._userMax},o=LK(s,this);return e.bounds==="ticks"&&e1(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}getLabelForValue(e){return e===void 0?"0":Km(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=fr(e),this._valueRange=fr(this.max)-fr(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(fr(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const s=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+s*this._valueRange)}}lt(g0,"id","logarithmic"),lt(g0,"defaults",{ticks:{callback:Xm.formatters.logarithmic,major:{enabled:!0}}});const Ld={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Us=Object.keys(Ld);function fh(t,e){return t-e}function gh(t,e){if(Lt(e))return null;const s=t._adapter,{parser:o,round:n,isoWeekday:i}=t._parseOpts;let l=e;return typeof o=="function"&&(l=o(l)),xs(l)||(l=typeof o=="string"?s.parse(l,o):s.parse(l)),l===null?null:(n&&(l=n==="week"&&(si(i)||i===!0)?s.startOf(l,"isoWeek",i):s.startOf(l,n)),+l)}function hh(t,e,s,o){const n=Us.length;for(let i=Us.indexOf(t);i<n-1;++i){const l=Ld[Us[i]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((s-e)/(c*l.size))<=o)return Us[i]}return Us[n-1]}function IK(t,e,s,o,n){for(let i=Us.length-1;i>=Us.indexOf(s);i--){const l=Us[i];if(Ld[l].common&&t._adapter.diff(n,o,l)>=e-1)return l}return Us[s?Us.indexOf(s):0]}function DK(t){for(let e=Us.indexOf(t)+1,s=Us.length;e<s;++e)if(Ld[Us[e]].common)return Us[e]}function bh(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:o,hi:n}=zm(s,e),i=s[o]>=e?s[o]:s[n];t[i]=!0}}function FK(t,e,s,o){const n=t._adapter,i=+n.startOf(e[0].value,o),l=e[e.length-1].value;let c,d;for(c=i;c<=l;c=+n.add(c,1,o))d=s[c],d>=0&&(e[d].major=!0);return e}function vh(t,e,s){const o=[],n={},i=e.length;let l,c;for(l=0;l<i;++l)c=e[l],n[c]=l,o.push({value:c,major:!1});return i===0||!s?o:FK(t,o,n,s)}class Ql extends nn{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const o=e.time||(e.time={}),n=this._adapter=new YW._date(e.adapters.date);n.init(s),Da(o.displayFormats,n.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:gh(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,o=e.time.unit||"day";let{min:n,max:i,minDefined:l,maxDefined:c}=this.getUserBounds();function d(u){!l&&!isNaN(u.min)&&(n=Math.min(n,u.min)),!c&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!l||!c)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),n=xs(n)&&!isNaN(n)?n:+s.startOf(Date.now(),o),i=xs(i)&&!isNaN(i)?i:+s.endOf(Date.now(),o)+1,this.min=Math.min(n,i-1),this.max=Math.max(n+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],o=e[e.length-1]),{min:s,max:o}}buildTicks(){const e=this.options,s=e.time,o=e.ticks,n=o.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const i=this.min,l=this.max,c=Ez(n,i,l);return this._unit=s.unit||(o.autoSkip?hh(s.minUnit,this.min,this.max,this._getLabelCapacity(i)):IK(this,c.length,s.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:DK(this._unit),this.initOffsets(n),e.reverse&&c.reverse(),vh(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,o=0,n,i;this.options.offset&&e.length&&(n=this.getDecimalForValue(e[0]),e.length===1?s=1-n:s=(this.getDecimalForValue(e[1])-n)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?o=i:o=(i-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;s=oo(s,0,l),o=oo(o,0,l),this._offsets={start:s,end:o,factor:1/(s+1+o)}}_generate(){const e=this._adapter,s=this.min,o=this.max,n=this.options,i=n.time,l=i.unit||hh(i.minUnit,s,o,this._getLabelCapacity(s)),c=ht(n.ticks.stepSize,1),d=l==="week"?i.isoWeekday:!1,u=si(d)||d===!0,m={};let p=s,y,v;if(u&&(p=+e.startOf(p,"isoWeek",d)),p=+e.startOf(p,u?"day":l),e.diff(o,s,l)>1e5*c)throw new Error(s+" and "+o+" are too far apart with stepSize of "+c+" "+l);const S=n.ticks.source==="data"&&this.getDataTimestamps();for(y=p,v=0;y<o;y=+e.add(y,c,l),v++)bh(m,y,S);return(y===o||n.bounds==="ticks"||v===1)&&bh(m,y,S),Object.keys(m).sort(fh).map(_=>+_)}getLabelForValue(e){const s=this._adapter,o=this.options.time;return o.tooltipFormat?s.format(e,o.tooltipFormat):s.format(e,o.displayFormats.datetime)}format(e,s){const n=this.options.time.displayFormats,i=this._unit,l=s||n[i];return this._adapter.format(e,l)}_tickFormatFunction(e,s,o,n){const i=this.options,l=i.ticks.callback;if(l)return Dt(l,[e,s,o],this);const c=i.time.displayFormats,d=this._unit,u=this._majorUnit,m=d&&c[d],p=u&&c[u],y=o[s],v=u&&p&&y&&y.major;return this._adapter.format(e,n||(v?p:m))}generateTickLabels(e){let s,o,n;for(s=0,o=e.length;s<o;++s)n=e[s],n.label=this._tickFormatFunction(n.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,o=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+o)*s.factor)}getValueForPixel(e){const s=this._offsets,o=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+o*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,o=this.ctx.measureText(e).width,n=Gr(this.isHorizontal()?s.maxRotation:s.minRotation),i=Math.cos(n),l=Math.sin(n),c=this._resolveTickFontOptions(0).size;return{w:o*i+c*l,h:o*l+c*i}}_getLabelCapacity(e){const s=this.options.time,o=s.displayFormats,n=o[s.unit]||o.millisecond,i=this._tickFormatFunction(e,0,vh(this,[e],this._majorUnit),n),l=this._getLabelSize(i),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],s,o;if(e.length)return e;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(s=0,o=n.length;s<o;++s)e=e.concat(n[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,o;if(e.length)return e;const n=this.getLabels();for(s=0,o=n.length;s<o;++s)e.push(gh(this,n[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Mz(e.sort(fh))}}lt(Ql,"id","time"),lt(Ql,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function rl(t,e,s){let o=0,n=t.length-1,i,l,c,d;s?(e>=t[o].pos&&e<=t[n].pos&&({lo:o,hi:n}=Vr(t,"pos",e)),{pos:i,time:c}=t[o],{pos:l,time:d}=t[n]):(e>=t[o].time&&e<=t[n].time&&({lo:o,hi:n}=Vr(t,"time",e)),{time:i,pos:c}=t[o],{time:l,pos:d}=t[n]);const u=l-i;return u?c+(d-c)*(e-i)/u:c}class yh extends Ql{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=rl(s,this.min),this._tableRange=rl(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:o}=this,n=[],i=[];let l,c,d,u,m;for(l=0,c=e.length;l<c;++l)u=e[l],u>=s&&u<=o&&n.push(u);if(n.length<2)return[{time:s,pos:0},{time:o,pos:1}];for(l=0,c=n.length;l<c;++l)m=n[l+1],d=n[l-1],u=n[l],Math.round((m+d)/2)!==u&&i.push({time:u,pos:l/(c-1)});return i}_generate(){const e=this.min,s=this.max;let o=super.getDataTimestamps();return(!o.includes(e)||!o.length)&&o.splice(0,0,e),(!o.includes(s)||o.length===1)&&o.push(s),o.sort((n,i)=>n-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),o=this.getLabelTimestamps();return s.length&&o.length?e=this.normalize(s.concat(o)):e=s.length?s:o,e=this._cache.all=e,e}getDecimalForValue(e){return(rl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,o=this.getDecimalForPixel(e)/s.factor-s.end;return rl(this._table,o*this._tableRange+this._minPos,!0)}}lt(yh,"id","timeseries"),lt(yh,"defaults",Ql.defaults);const R1={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},RK={ariaLabel:{type:String},ariaDescribedby:{type:String}},UK={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...R1,...RK},BK=ev[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function hn(t){return di(t)?pt(t):t}function qK(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return di(e)?new Proxy(t,{}):t}function OK(t,e){const s=t.options;s&&e&&Object.assign(s,e)}function U1(t,e){t.labels=e}function B1(t,e,s){const o=[];t.datasets=e.map(n=>{const i=t.datasets.find(l=>l[s]===n[s]);return!i||!n.data||o.includes(i)?{...n}:(o.push(i),Object.assign(i,n),i)})}function NK(t,e){const s={labels:[],datasets:[]};return U1(s,t.labels),B1(s,t.datasets,e),s}const HK=Ue({props:UK,setup(t,e){let{expose:s,slots:o}=e;const n=W(null),i=ms(null);s({chart:i});const l=()=>{if(!n.value)return;const{type:u,data:m,options:p,plugins:y,datasetIdKey:v}=t,S=NK(m,v),_=qK(S,m);i.value=new wi(n.value,{type:u,data:_,options:{...p},plugins:y})},c=()=>{const u=pt(i.value);u&&(t.destroyDelay>0?setTimeout(()=>{u.destroy(),i.value=null},t.destroyDelay):(u.destroy(),i.value=null))},d=u=>{u.update(t.updateMode)};return tt(l),Ms(c),We([()=>t.options,()=>t.data],(u,m)=>{let[p,y]=u,[v,S]=m;const _=pt(i.value);if(!_)return;let C=!1;if(p){const x=hn(p),$=hn(v);x&&x!==$&&(OK(_,x),C=!0)}if(y){const x=hn(y.labels),$=hn(S.labels),A=hn(y.datasets),M=hn(S.datasets);x!==$&&(U1(_.config.data,x),C=!0),A&&A!==M&&(B1(_.config.data,A,t.datasetIdKey),C=!0)}C&&Bt(()=>{d(_)})},{deep:!0}),()=>Ds("canvas",{role:"img",ariaLabel:t.ariaLabel,ariaDescribedby:t.ariaDescribedby,ref:n},[Ds("p",{},[o.default?o.default():""])])}});function jK(t,e){return wi.register(e),Ue({props:R1,setup(s,o){let{expose:n}=o;const i=ms(null),l=c=>{i.value=c==null?void 0:c.chart};return n({chart:i}),()=>Ds(HK,BK({ref:l},{type:t,...s}))}})}const En=jK("line",bl),GK={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 p-3 border border-gray-300 dark:border-gray-700 rounded bg-gray-50 dark:bg-gray-800/50"},VK={class:"h-64"},QK={class:"h-64"},zK=Ue({__name:"PrestigeUpgradeGraph",props:{upgrade:{},maxLevel:{}},setup(t){wi.register(L1,D1,P1,$n,Gl,Vl,Oa);const e=t,s=R(()=>Array.from({length:e.maxLevel},(d,u)=>(u+1).toString())),o=R(()=>{const d=Array.from({length:e.maxLevel},(u,m)=>{const p=m+1;return e.upgrade.maxLevel&&p>e.upgrade.maxLevel.toNumber()?null:Rl(e.upgrade.baseCost,new be(p),e.upgrade.costMultiplier).toNumber()});return{labels:s.value,datasets:[{label:"Cost",data:d,borderColor:"rgb(217, 119, 6)",backgroundColor:"rgba(217, 119, 6, 0.1)",tension:.1,pointRadius:3,pointHoverRadius:5,segment:{borderColor:u=>e.upgrade.maxLevel&&u.p1.parsed.x+1>e.upgrade.maxLevel.toNumber()?"rgba(217, 119, 6, 0.3)":void 0,borderDash:u=>e.upgrade.maxLevel&&u.p1.parsed.x+1>e.upgrade.maxLevel.toNumber()?[6,6]:void 0}}]}}),n=R(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:"Cost per Level"},tooltip:{callbacks:{label:d=>{const u=d.parsed.x+1,m=Rl(e.upgrade.baseCost,new be(u),e.upgrade.costMultiplier);return`Level ${u}: ${ie(m,0)} EP`}}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Cost (EP)"}}}})),i=R(()=>{const d=[];if(!e.upgrade.isCombo||!e.upgrade.effects||e.upgrade.effects.length===0){const u=Array.from({length:e.maxLevel},(m,p)=>{const y=p+1;if(e.upgrade.maxLevel&&y>e.upgrade.maxLevel.toNumber())return null;const v=e.upgrade.effect(new be(y));return typeof v=="number"?v:v.toNumber()});d.push({label:e.upgrade.appliesTo[0]||"Effect",data:u,borderColor:"rgb(22, 163, 74)",backgroundColor:"rgba(22, 163, 74, 0.1)",tension:.1,pointRadius:3,pointHoverRadius:5,segment:{borderColor:m=>e.upgrade.maxLevel&&m.p1.parsed.x+1>e.upgrade.maxLevel.toNumber()?"rgba(22, 163, 74, 0.3)":void 0,borderDash:m=>e.upgrade.maxLevel&&m.p1.parsed.x+1>e.upgrade.maxLevel.toNumber()?[6,6]:void 0}})}else{const u=["rgb(59, 130, 246)","rgb(139, 92, 246)","rgb(239, 68, 68)","rgb(16, 185, 129)","rgb(234, 179, 8)"];e.upgrade.effects.forEach((m,p)=>{const y=Array.from({length:e.maxLevel},(v,S)=>{const _=S+1;if(e.upgrade.maxLevel&&_>e.upgrade.maxLevel.toNumber())return null;const C=m.multiplier(new be(_));return typeof C=="number"?C:C.toNumber()});d.push({label:m.target,data:y,borderColor:u[p%u.length],backgroundColor:"rgba(0,0,0,0)",tension:.1,pointRadius:3,pointHoverRadius:5,segment:{borderColor:v=>e.upgrade.maxLevel&&v.p1.parsed.x+1>e.upgrade.maxLevel.toNumber()?"rgba(128, 128, 128, 0.3)":u[p%u.length],borderDash:v=>e.upgrade.maxLevel&&v.p1.parsed.x+1>e.upgrade.maxLevel.toNumber()?[6,6]:void 0}})})}return{labels:s.value,datasets:d}}),l=(d,u)=>{const m=d.multiplier(new be(u)),p=d.formatEffect?d.formatEffect(m):ie(m,2);return`${d.target}: ${p}${d.isMultiplier?" (Multiplier)":""}`},c=R(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:e.upgrade.isCombo&&e.upgrade.effects&&e.upgrade.effects.length>1},title:{display:!0,text:"Effect per Level"},tooltip:{callbacks:{label:d=>{const u=d.parsed.x+1;if(!e.upgrade.isCombo||!e.upgrade.effects||e.upgrade.effects.length===0){const m=e.upgrade.effect(new be(u)),p=e.upgrade.formatEffect(m);return`Level ${u}: ${p}`}else{const m=e.upgrade.effects[d.datasetIndex];return m?`Level ${u} - ${l(m,u)}`:""}}}}},scales:{y:{beginAtZero:!1,title:{display:!0,text:"Effect Value"}}}}));return(d,u)=>(f(),h("div",GK,[r("div",VK,[u[0]||(u[0]=r("h4",{class:"text-center font-medium mb-2 text-gray-700 dark:text-gray-300"},"Cost Progression",-1)),Fe(g(En),{data:o.value,options:n.value},null,8,["data","options"])]),r("div",QK,[u[1]||(u[1]=r("h4",{class:"text-center font-medium mb-2 text-gray-700 dark:text-gray-300"},"Effect Progression",-1)),Fe(g(En),{data:i.value,options:c.value},null,8,["data","options"])])]))}}),xh=st(zK,[["__scopeId","data-v-300f7414"]]),WK={class:"flex justify-between items-center my-4"},YK={class:"flex items-center space-x-1 border border-amber-300 dark:border-amber-700 rounded-lg p-0.5 bg-amber-100 dark:bg-amber-900"},KK={class:"flex flex-wrap gap-2 mb-4 overflow-x-auto"},XK=["onClick"],ZK={key:0,class:"p-4 text-center text-amber-600 dark:text-amber-400"},JK={key:0,class:"space-y-4"},eX=["onClick"],tX={class:"flex items-center gap-3"},sX={class:"font-medium"},oX={class:"text-xs text-amber-600 dark:text-amber-400"},rX={class:"flex items-center gap-4"},nX={class:"text-right"},aX={class:"text-sm"},iX={class:"font-medium"},lX={class:"text-xs"},cX={key:0,class:"border-t border-amber-300 dark:border-amber-700 p-4 bg-white dark:bg-amber-950/20"},dX={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},uX={class:"space-y-1 text-sm"},mX={class:"flex flex-wrap gap-1 mt-1"},pX={key:0},fX={class:"space-y-2"},gX={class:"flex items-start justify-between"},hX={class:"font-medium"},bX={class:"text-xs text-amber-700 dark:text-amber-300"},vX={key:0,class:"text-xs bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 px-1.5 py-0.5 rounded"},yX={class:"p-2"},xX={class:"p-2"},kX={key:0},_X={class:"font-medium"},wX={key:0,class:"text-xs bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 px-1 py-0.5 rounded"},CX={key:1},SX={key:1,class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},$X=["onClick"],EX={class:"flex items-center gap-3 mb-2"},AX={class:"font-medium leading-tight"},MX={class:"text-xs flex justify-between items-center my-1"},PX={class:"font-medium"},TX={class:"text-xs text-amber-600 dark:text-amber-400 line-clamp-2 mt-auto flex-grow min-h-[2.5em]"},LX={key:0,class:"col-span-full border-t border-amber-300 dark:border-amber-700 p-4 bg-white dark:bg-amber-950/20 mt-[-1px] rounded-b-lg"},IX={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},DX={class:"space-y-1 text-sm"},FX={class:"flex flex-wrap gap-1 mt-1"},RX={key:0},UX={class:"space-y-2"},BX={class:"flex items-start justify-between"},qX={class:"font-medium"},OX={class:"text-xs text-amber-700 dark:text-amber-300"},NX={key:0,class:"text-xs bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 px-1.5 py-0.5 rounded"},HX={class:"p-2"},jX={class:"p-2"},GX={key:0},VX={class:"font-medium"},QX={key:0,class:"text-xs bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 px-1 py-0.5 rounded"},zX={key:1},bn="prestige-upgrades",WX=Ue({__name:"PrestigeUpgradesWiki",setup(t){const e=ct(),s=zo(),o=W(hl[0]),n=W(s.getSearchQuery(bn)),i=W(s.getMaxPreviewLevel(bn)),l=W("list");We(n,x=>{s.setSearchQuery(bn,x)}),We(i,x=>{s.setMaxPreviewLevel(bn,x)});const c=x=>{s.toggleItemExpanded(bn,x)},d=x=>s.isItemExpanded(bn,x),u=x=>i.value,m=R(()=>{const x={};return hl.forEach(A=>{x[A]=[]}),(n.value?r0.filter(A=>A.name.toLowerCase().includes(n.value.toLowerCase())||A.description.toLowerCase().includes(n.value.toLowerCase())||A.id.toLowerCase().includes(n.value.toLowerCase())):r0).forEach(A=>{x[A.category]&&x[A.category].push(A)}),x}),p=(x,$)=>x.costMultiplier?Rl(x.baseCost,new be($),x.costMultiplier):x.baseCost,y=(x,$)=>{const A=x.effect(new be($));return x.formatEffect(A)},v=(x,$)=>{const A=x.multiplier(new be($));return x.formatEffect?x.formatEffect(A):ie(A,2)},S=(x,$)=>!x.isCombo||!x.effects||x.effects.length===0?[{target:x.appliesTo[0],effect:y(x,$)}]:x.effects.map(A=>({target:A.target,effect:v(A,$)})),_=x=>({ep:"Evolution Points",worker:"Worker Ants",nursery:"Nursery",queenChamber:"Queen Chamber",colony:"Colony",megacolony:"Megacolony",hivemind:"Hivemind",antopolis:"Antopolis",alateHatchery:"Alate Hatchery",global:"All Generators",pheromone:"Pheromone Essence",food:"Food"})[x]||x,C=x=>{const $=e.getUpgradeCount(x);return ie($,0)};return(x,$)=>{var A;return f(),h("div",null,[Fe(sn,{modelValue:n.value,"onUpdate:modelValue":$[0]||($[0]=M=>n.value=M),placeholder:"Search upgrades..."},null,8,["modelValue"]),r("div",WK,[Fe(Md,{modelValue:i.value,"onUpdate:modelValue":$[1]||($[1]=M=>i.value=M),color:"amber",class:"flex-grow mr-4"},null,8,["modelValue"]),r("div",YK,[r("button",{onClick:$[2]||($[2]=M=>l.value="list"),class:V(["p-1.5 rounded-md transition-colors",l.value==="list"?"bg-amber-500 text-white shadow":"text-amber-700 dark:text-amber-300 hover:bg-amber-200 dark:hover:bg-amber-800"]),title:"List View"},$[4]||($[4]=[r("span",{class:"i-heroicons-list-bullet"},null,-1)]),2),r("button",{onClick:$[3]||($[3]=M=>l.value="grid"),class:V(["p-1.5 rounded-md transition-colors",l.value==="grid"?"bg-amber-500 text-white shadow":"text-amber-700 dark:text-amber-300 hover:bg-amber-200 dark:hover:bg-amber-800"]),title:"Grid View"},$[5]||($[5]=[r("span",{class:"i-heroicons-squares-2x2"},null,-1)]),2)])]),r("div",KK,[(f(!0),h(Ce,null,De(g(hl),M=>(f(),h("button",{key:M,onClick:P=>o.value=M,class:V(["px-3 py-1.5 rounded-lg text-sm transition-colors",o.value===M?"bg-amber-500 dark:bg-amber-600 text-white":"bg-amber-200 dark:bg-amber-900/40 text-amber-900 dark:text-amber-100 hover:bg-amber-300 dark:hover:bg-amber-800/60"])},b(M.charAt(0).toUpperCase()+M.slice(1)),11,XK))),128))]),((A=m.value[o.value])==null?void 0:A.length)===0?(f(),h("div",ZK," No upgrades found for this category or search query. ")):Q("",!0),(f(!0),h(Ce,null,De(m.value,(M,P)=>ut((f(),h("div",{key:P,class:"mb-6"},[l.value==="list"?(f(),h("div",JK,[(f(!0),h(Ce,null,De(M,L=>(f(),h("div",{key:L.id,class:"border border-amber-300 dark:border-amber-700 rounded-lg overflow-hidden bg-amber-50/50 dark:bg-amber-900/10"},[r("div",{onClick:B=>c(L.id),class:"p-4 flex justify-between items-center cursor-pointer hover:bg-amber-100 dark:hover:bg-amber-900/20 transition-colors"},[r("div",tX,[r("span",{class:V([L.icon,"text-xl text-amber-700 dark:text-amber-300"])},null,2),r("div",null,[r("div",sX,b(L.name),1),r("div",oX,b(L.description),1)])]),r("div",rX,[r("div",nX,[r("div",aX,[$[6]||($[6]=se("Current: ")),r("span",iX,b(C(L.id)),1)]),r("div",lX,"Base Cost: "+b(g(ie)(L.baseCost,0)),1)]),r("span",{class:V(["transition-transform",d(L.id)?"rotate-180":""])},$[7]||($[7]=[r("span",{class:"i-heroicons-chevron-down text-amber-600 dark:text-amber-400"},null,-1)]),2)])],8,eX),d(L.id)?(f(),h("div",cX,[r("div",dX,[r("div",null,[$[12]||($[12]=r("h3",{class:"font-medium mb-2 text-amber-800 dark:text-amber-200"},"Basic Information",-1)),r("div",uX,[r("div",null,[$[8]||($[8]=r("span",{class:"font-medium"},"ID:",-1)),se(" "+b(L.id),1)]),r("div",null,[$[9]||($[9]=r("span",{class:"font-medium"},"Max Level:",-1)),se(" "+b(L.maxLevel===null?"Unlimited":g(ie)(L.maxLevel,0)),1)]),r("div",null,[$[10]||($[10]=r("span",{class:"font-medium"},"Applies To:",-1)),r("div",mX,[(f(!0),h(Ce,null,De(L.appliesTo,B=>(f(),h("span",{key:B,class:"px-1.5 py-0.5 text-xs rounded-full bg-amber-200 dark:bg-amber-900/40"},b(B),1))),128))])]),L.isCombo&&L.effects&&L.effects.length>0?(f(),h("div",pX,[$[11]||($[11]=r("h3",{class:"font-medium mt-4 mb-2 text-amber-800 dark:text-amber-200"},"Effects",-1)),r("div",fX,[(f(!0),h(Ce,null,De(L.effects,(B,k)=>(f(),h("div",{key:k,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},[r("div",gX,[r("div",null,[r("div",hX,b(_(B.target)),1),r("div",bX,b(v(B,L.level.toNumber()||1)),1)]),B.isMultiplier?(f(),h("span",vX," Multiplier ")):Q("",!0)])]))),128))])])):Q("",!0)])]),r("div",null,[$[13]||($[13]=r("h3",{class:"font-medium mb-2 text-amber-800 dark:text-amber-200"},"Effects & Costs by Level",-1)),Fe(n0,{itemId:L.id,maxLevel:u(),tableHeaders:L.isCombo?["Level","Effects","Cost"]:["Level","Effect","Cost"],color:"amber"},{default:mt(()=>[(f(!0),h(Ce,null,De(u(L),B=>(f(),h("tr",{key:B,class:V(["border-t border-amber-200 dark:border-amber-800 hover:bg-amber-100 dark:hover:bg-amber-900/30",L.maxLevel!==null&&B>L.maxLevel.toNumber()?"text-amber-500 dark:text-amber-400 italic":""])},[r("td",yX,b(B),1),r("td",xX,[L.isCombo&&L.effects&&L.effects.length>0?(f(),h("div",kX,[(f(!0),h(Ce,null,De(S(L,B),(k,I)=>(f(),h("div",{key:I,class:"text-xs mb-1 flex items-center gap-2"},[r("span",_X,b(_(k.target))+":",1),r("span",{class:V(L.maxLevel!==null&&B>L.maxLevel.toNumber()?"text-amber-500 dark:text-amber-400":"text-amber-700 dark:text-amber-300")},b(k.effect),3),L.effects[I].isMultiplier?(f(),h("span",wX,"  ")):Q("",!0)]))),128))])):(f(),h("div",CX,b(y(L,B)),1))]),r("td",{class:V(["p-2 text-right",L.maxLevel!==null&&B>L.maxLevel.toNumber()?"text-amber-500 dark:text-amber-400":"text-amber-700 dark:text-amber-300"])},b(g(ie)(p(L,B),0)),3)],2))),128))]),_:2},1032,["itemId","maxLevel","tableHeaders"])])]),Fe(xh,{upgrade:L,"max-level":u()},null,8,["upgrade","max-level"])])):Q("",!0)]))),128))])):(f(),h("div",SX,[(f(!0),h(Ce,null,De(M,L=>(f(),h("div",{key:L.id,class:"border border-amber-300 dark:border-amber-700 rounded-lg bg-amber-50/50 dark:bg-amber-900/10 flex flex-col"},[r("div",{onClick:B=>c(L.id),class:"p-4 flex-grow cursor-pointer hover:bg-amber-100 dark:hover:bg-amber-900/20 transition-colors flex flex-col"},[r("div",EX,[r("span",{class:V([L.icon,"text-xl text-amber-700 dark:text-amber-300"])},null,2),r("div",AX,b(L.name),1)]),$[15]||($[15]=r("hr",{class:"border-amber-200 dark:border-amber-800/50 my-2"},null,-1)),r("div",MX,[r("span",null,[$[14]||($[14]=se("Current: ")),r("span",PX,b(C(L.id)),1)]),r("span",null,"Cost: "+b(g(ie)(L.baseCost,0)),1)]),$[16]||($[16]=r("hr",{class:"border-amber-200 dark:border-amber-800/50 my-2"},null,-1)),r("div",TX,b(L.description),1)],8,$X),d(L.id)?(f(),h("div",LX,[r("div",IX,[r("div",null,[$[21]||($[21]=r("h3",{class:"font-medium mb-2 text-amber-800 dark:text-amber-200"},"Basic Information",-1)),r("div",DX,[r("div",null,[$[17]||($[17]=r("span",{class:"font-medium"},"ID:",-1)),se(" "+b(L.id),1)]),r("div",null,[$[18]||($[18]=r("span",{class:"font-medium"},"Max Level:",-1)),se(" "+b(L.maxLevel===null?"Unlimited":g(ie)(L.maxLevel,0)),1)]),r("div",null,[$[19]||($[19]=r("span",{class:"font-medium"},"Applies To:",-1)),r("div",FX,[(f(!0),h(Ce,null,De(L.appliesTo,B=>(f(),h("span",{key:B,class:"px-1.5 py-0.5 text-xs rounded-full bg-amber-200 dark:bg-amber-900/40"},b(B),1))),128))])]),L.isCombo&&L.effects&&L.effects.length>0?(f(),h("div",RX,[$[20]||($[20]=r("h3",{class:"font-medium mt-4 mb-2 text-amber-800 dark:text-amber-200"},"Effects",-1)),r("div",UX,[(f(!0),h(Ce,null,De(L.effects,(B,k)=>(f(),h("div",{key:k,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},[r("div",BX,[r("div",null,[r("div",qX,b(_(B.target)),1),r("div",OX,b(v(B,L.level.toNumber()||1)),1)]),B.isMultiplier?(f(),h("span",NX," Multiplier ")):Q("",!0)])]))),128))])])):Q("",!0)])]),r("div",null,[$[22]||($[22]=r("h3",{class:"font-medium mb-2 text-amber-800 dark:text-amber-200"},"Effects & Costs by Level",-1)),Fe(n0,{itemId:L.id,maxLevel:u(),tableHeaders:L.isCombo?["Level","Effects","Cost"]:["Level","Effect","Cost"],color:"amber"},{default:mt(()=>[(f(!0),h(Ce,null,De(u(L),B=>(f(),h("tr",{key:B,class:V(["border-t border-amber-200 dark:border-amber-800 hover:bg-amber-100 dark:hover:bg-amber-900/30",L.maxLevel!==null&&B>L.maxLevel.toNumber()?"text-amber-500 dark:text-amber-400 italic":""])},[r("td",HX,b(B),1),r("td",jX,[L.isCombo&&L.effects&&L.effects.length>0?(f(),h("div",GX,[(f(!0),h(Ce,null,De(S(L,B),(k,I)=>(f(),h("div",{key:I,class:"text-xs mb-1 flex items-center gap-2"},[r("span",VX,b(_(k.target))+":",1),r("span",{class:V(L.maxLevel!==null&&B>L.maxLevel.toNumber()?"text-amber-500 dark:text-amber-400":"text-amber-700 dark:text-amber-300")},b(k.effect),3),L.effects[I].isMultiplier?(f(),h("span",QX,"  ")):Q("",!0)]))),128))])):(f(),h("div",zX,b(y(L,B)),1))]),r("td",{class:V(["p-2 text-right",L.maxLevel!==null&&B>L.maxLevel.toNumber()?"text-amber-500 dark:text-amber-400":"text-amber-700 dark:text-amber-300"])},b(g(ie)(p(L,B),0)),3)],2))),128))]),_:2},1032,["itemId","maxLevel","tableHeaders"])])]),Fe(xh,{upgrade:L,"max-level":u()},null,8,["upgrade","max-level"])])):Q("",!0)]))),128))]))])),[[Cn,P===o.value]])),128))])}}}),kh=st(WX,[["__scopeId","data-v-92938cf2"]]),YX={key:0,class:"p-4 text-center text-amber-600 dark:text-amber-400"},KX={class:"space-y-3"},XX=["onClick"],ZX={class:"flex items-center gap-3"},JX={class:"font-medium"},eZ={class:"text-xs text-amber-600 dark:text-amber-400"},tZ={class:"flex items-center gap-4"},sZ={class:"text-right"},oZ={class:"text-sm"},rZ={class:"font-medium"},nZ={class:"text-xs"},aZ={key:0,class:"border-t border-amber-300 dark:border-amber-700 p-3"},iZ={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},lZ={class:"space-y-1 text-sm"},cZ={key:0},dZ={class:"ml-2 mt-1 px-2 py-1 bg-amber-100 dark:bg-amber-900/30 rounded-md text-xs"},uZ={class:"space-y-2"},mZ={class:"flex items-start"},pZ={class:"px-1.5 py-0.5 text-xs rounded-full bg-purple-100 dark:bg-purple-900/40 text-purple-800 dark:text-purple-300 mr-2 mt-0.5"},fZ={class:"font-medium"},gZ={class:"text-xs text-amber-700 dark:text-amber-300"},hZ={class:"p-2"},bZ={class:"p-2"},vZ={key:0},yZ={key:1,class:"text-xs italic"},vn="pheromone-shop",xZ=Ue({__name:"PheromoneShopWiki",setup(t){const e=Wr();os();const s=zo(),o=W(s.getSearchQuery(vn)),n=W(s.getMaxPreviewLevel(vn));We(o,S=>{s.setSearchQuery(vn,S)}),We(n,S=>{s.setMaxPreviewLevel(vn,S)});const i=S=>{s.toggleItemExpanded(vn,S)},l=S=>s.isItemExpanded(vn,S),c=S=>n.value,d=R(()=>{if(!o.value)return e.shopItems;const S=o.value.toLowerCase();return e.shopItems.filter(_=>_.name.toLowerCase().includes(S)||_.description.toLowerCase().includes(S)||_.id.toLowerCase().includes(S))}),u=(S,_)=>_<=0?S.baseCost:S.baseCost.mul(m(1.2).pow(_-1)),m=S=>new be(S),p=(S,_)=>{const C=S.multiplier(_);if(C.gte(1)){const x=C.minus(1).mul(100);return`+${ie(x,1)}%`}else return ie(C,2)},y=(S,_)=>S.modifiers.filter(C=>_>=C.unlockLevel),v=S=>({ep:"Evolution Points",worker:"Worker Ants",nursery:"Nursery",queenChamber:"Queen Chamber",colony:"Colony",megacolony:"Megacolony",hivemind:"Hivemind",antopolis:"Antopolis",alateHatchery:"Alate Hatchery",global:"All Generators",pheromone:"Pheromone Essence",food:"Food"})[S]||S;return(S,_)=>(f(),h("div",null,[Fe(sn,{modelValue:o.value,"onUpdate:modelValue":_[0]||(_[0]=C=>o.value=C),placeholder:"Search pheromone upgrades..."},null,8,["modelValue"]),Fe(Md,{modelValue:n.value,"onUpdate:modelValue":_[1]||(_[1]=C=>n.value=C),color:"purple"},null,8,["modelValue"]),d.value.length===0?(f(),h("div",YX," No pheromone upgrades found for your search query. ")):Q("",!0),r("div",KX,[(f(!0),h(Ce,null,De(d.value,C=>(f(),h("div",{key:C.id,class:"border border-amber-300 dark:border-amber-700 rounded-lg overflow-hidden bg-amber-50/50 dark:bg-amber-900/10"},[r("div",{onClick:x=>i(C.id),class:"p-3 flex justify-between items-center cursor-pointer hover:bg-amber-100 dark:hover:bg-amber-900/20 transition-colors"},[r("div",ZX,[_[3]||(_[3]=r("span",{class:"i-heroicons-beaker text-xl text-purple-700 dark:text-purple-400"},null,-1)),r("div",null,[r("div",JX,b(C.name),1),r("div",eZ,b(C.description),1)])]),r("div",tZ,[r("div",sZ,[r("div",oZ,[_[4]||(_[4]=se("Current: ")),r("span",rZ,b(g(e).getItemLevel(C.id)),1)]),r("div",nZ,"Max Level: "+b(C.maxLevel),1)]),r("span",{class:V(["transition-transform",l(C.id)?"rotate-180":""])},_[5]||(_[5]=[r("span",{class:"i-heroicons-chevron-down text-amber-600 dark:text-amber-400"},null,-1)]),2)])],8,XX),l(C.id)?(f(),h("div",aZ,[r("div",iZ,[r("div",null,[_[11]||(_[11]=r("h3",{class:"font-medium mb-2 text-purple-800 dark:text-purple-300"},"Basic Information",-1)),r("div",lZ,[r("div",null,[_[6]||(_[6]=r("span",{class:"font-medium"},"ID:",-1)),se(" "+b(C.id),1)]),r("div",null,[_[7]||(_[7]=r("span",{class:"font-medium"},"Base Cost:",-1)),se(" "+b(g(ie)(C.baseCost,0))+" PE",1)]),C.unlockRequirement?(f(),h("div",cZ,[_[8]||(_[8]=r("span",{class:"font-medium"},"Unlock Requirement:",-1)),r("div",dZ,b(g(e).getUnlockRequirementText(C.id)),1)])):Q("",!0),Q("",!0)]),_[12]||(_[12]=r("h3",{class:"font-medium mt-4 mb-2 text-purple-800 dark:text-purple-300"},"Effects",-1)),r("div",uZ,[(f(!0),h(Ce,null,De(C.modifiers,(x,$)=>(f(),h("div",{key:$,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},[r("div",mZ,[r("span",pZ," Lvl "+b(x.unlockLevel)+"+ ",1),r("div",null,[r("div",fZ,b(v(x.target)),1),r("div",gZ,b(x.description),1)])])]))),128))])]),r("div",null,[_[13]||(_[13]=r("h3",{class:"font-medium mb-2 text-purple-800 dark:text-purple-300"},"Effects & Costs by Level",-1)),Fe(n0,{itemId:C.id,maxLevel:c(),tableHeaders:["Level","Active Effects","Cost"],color:"purple"},{default:mt(()=>[(f(!0),h(Ce,null,De(c(C),x=>(f(),h("tr",{key:x,class:V(["border-t border-amber-200 dark:border-amber-800 hover:bg-amber-100 dark:hover:bg-amber-900/30",x>C.maxLevel?"text-purple-500 dark:text-purple-400 italic":""])},[r("td",hZ,b(x),1),r("td",bZ,[y(C,x).length>0?(f(),h("div",vZ,[(f(!0),h(Ce,null,De(y(C,x),($,A)=>(f(),h("div",{key:A,class:"text-xs"},[se(b(v($.target))+": ",1),r("span",{class:V(x>C.maxLevel?"text-purple-500 dark:text-purple-400":"text-purple-700 dark:text-purple-300")},b(p($,x)),3)]))),128))])):(f(),h("div",yZ,"No effects yet"))]),r("td",{class:V(["p-2 text-right",x>C.maxLevel?"text-purple-500 dark:text-purple-400":"text-purple-700 dark:text-purple-300"])},b(g(ie)(u(C,x),0)),3)],2))),128))]),_:2},1032,["itemId","maxLevel"])])])])):Q("",!0)]))),128))])]))}}),_h=st(xZ,[["__scopeId","data-v-ad8eba75"]]),kZ={class:"mb-4 flex items-center"},_Z={class:"inline-flex items-center cursor-pointer"},wZ={key:0,class:"mb-6 p-4 border border-amber-300 dark:border-amber-700 rounded-lg bg-amber-50/50 dark:bg-amber-900/10"},CZ={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4"},SZ={class:"font-medium"},$Z={class:"font-medium"},EZ={class:"font-medium"},AZ={class:"font-medium"},MZ={class:"space-y-3"},PZ=["onClick"],TZ={class:"flex items-center gap-3"},LZ={class:"relative w-10 h-10"},IZ=["src","alt"],DZ={class:"font-medium"},FZ={class:"text-xs text-amber-600 dark:text-amber-400"},RZ={class:"flex items-center gap-4"},UZ={class:"text-right text-sm"},BZ={key:0,class:"border-t border-amber-300 dark:border-amber-700 p-3"},qZ={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},OZ={class:"space-y-1 text-sm"},NZ={class:"space-y-2"},HZ={class:"flex items-start justify-between"},jZ={class:"font-medium"},GZ={class:"text-xs text-amber-700 dark:text-amber-300"},VZ={class:"text-right"},QZ={class:"text-xs text-amber-700 dark:text-amber-300"},zZ={class:"font-medium"},WZ={key:0,class:"text-sm italic text-amber-600 dark:text-amber-400"},YZ={key:1,class:"p-4 text-center text-amber-600 dark:text-amber-400"},nl="bugs-wiki",KZ=Ue({__name:"BugsWiki",setup(t){const e=Xs(),s=ps(),o=zo(),n=Tt(),i=W(o.getSearchQuery(nl)),l=W(!0);We(i,x=>{o.setSearchQuery(nl,x)});const c=x=>{o.toggleItemExpanded(nl,x)},d=x=>o.isItemExpanded(nl,x),u=x=>s.canOneHitBug(x),m=x=>{const $=e.getBugById(x);if(!$)return!1;const A=s.calculateDamage($.damage,s.playerDefense);if(A.lte(0))return!0;const M=s.calculateDamage(s.playerDamage,$.defense);if(M.lte(0))return!1;const P=$.maxHealth.div(M).ceil(),L=s.playerMaxHealth.div(A).floor();return P.lte(L)},p=x=>dt(x),y=x=>{const $=n.getItem(x);return $?$.name:x},v=R(()=>{if(!i.value)return e.bugs;const x=i.value.toLowerCase();return e.bugs.filter($=>$.name.toLowerCase().includes(x)||$.description.toLowerCase().includes(x)||$.id.toLowerCase().includes(x)||$.drops.some(A=>A.itemId.toLowerCase().includes(x)||y(A.itemId).toLowerCase().includes(x)))}),S=R(()=>[...v.value].sort((x,$)=>x.maxHealth.cmp($.maxHealth))),_=x=>{if(!e.getBugById(x))return"0";const M=.1+.02*e.bugs.findIndex(L=>L.id===x);return`${(Math.min(M,2)*100).toFixed(0)}% of food/sec`},C=x=>{try{return new URL(Object.assign({"../../assets/bugs/ant_legion_commander.png":lm,"../../assets/bugs/ant_queen_guardian.png":cm,"../../assets/bugs/ant_scout_master.png":dm,"../../assets/bugs/ant_tactician.png":um,"../../assets/bugs/ant_training_master.png":mm,"../../assets/bugs/apocalyptic_termites.png":pm,"../../assets/bugs/army_ant.png":fm,"../../assets/bugs/beetle.png":gm,"../../assets/bugs/cockroach.png":hm,"../../assets/bugs/colossal_cockroach.png":bm,"../../assets/bugs/endless_ant_swarms.png":vm,"../../assets/bugs/fire_ant.png":ym,"../../assets/bugs/galactic_moth.png":xm,"../../assets/bugs/giant_firefly.png":km,"../../assets/bugs/giant_moth.png":_m,"../../assets/bugs/giant_stag_beetle.png":wm,"../../assets/bugs/grasshopper.png":Cm,"../../assets/bugs/housefly.png":Sm,"../../assets/bugs/ladybug.png":$m,"../../assets/bugs/mosquito.png":Em,"../../assets/bugs/mutant_fly.png":Am,"../../assets/bugs/quantum_beetle.png":Mm,"../../assets/bugs/queen_wasp.png":Pm,"../../assets/bugs/radioactive_spider.png":Tm,"../../assets/bugs/safe.png":Lm,"../../assets/bugs/scorpion.png":Im,"../../assets/bugs/soldier.png":Dm,"../../assets/bugs/stag_beetle_swarm.png":Fm,"../../assets/bugs/swarm_lord.png":Rm,"../../assets/bugs/tarantula.png":Um,"../../assets/bugs/termite.png":Bm,"../../assets/bugs/ultra_beetle.png":qm,"../../assets/bugs/wasp.png":Om,"../../assets/bugs/worker.png":Nm})[`../../assets/bugs/${x}.png`],import.meta.url).href}catch{return null}};return(x,$)=>(f(),h("div",null,[Fe(sn,{modelValue:i.value,"onUpdate:modelValue":$[0]||($[0]=A=>i.value=A),placeholder:"Search bugs or drops..."},null,8,["modelValue"]),r("div",kZ,[r("label",_Z,[ut(r("input",{type:"checkbox","onUpdate:modelValue":$[1]||($[1]=A=>l.value=A),class:"sr-only peer"},null,512),[[Xt,l.value]]),$[2]||($[2]=r("div",{class:"relative w-10 h-5 bg-amber-200 dark:bg-amber-900/40 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white dark:after:bg-amber-100 after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-amber-500"},null,-1)),$[3]||($[3]=r("span",{class:"ml-2 text-sm text-amber-800 dark:text-amber-200"},"Show player relative strength",-1))])]),l.value?(f(),h("div",wZ,[$[8]||($[8]=r("h3",{class:"font-medium mb-2 text-amber-800 dark:text-amber-200"},"Your Stats",-1)),r("div",CZ,[r("div",null,[$[4]||($[4]=r("div",{class:"text-sm text-amber-600 dark:text-amber-400"},"Damage",-1)),r("div",SZ,b(g(ie)(g(s).playerDamage,0)),1)]),r("div",null,[$[5]||($[5]=r("div",{class:"text-sm text-amber-600 dark:text-amber-400"},"Health",-1)),r("div",$Z,b(g(ie)(g(s).playerMaxHealth,0)),1)]),r("div",null,[$[6]||($[6]=r("div",{class:"text-sm text-amber-600 dark:text-amber-400"},"Defense",-1)),r("div",EZ,b(g(ie)(g(s).playerDefense,0)),1)]),r("div",null,[$[7]||($[7]=r("div",{class:"text-sm text-amber-600 dark:text-amber-400"},"Regeneration",-1)),r("div",AZ,b(g(ie)(g(s).playerRegen,0))+"/s",1)])])])):Q("",!0),r("div",MZ,[(f(!0),h(Ce,null,De(S.value,A=>(f(),h("div",{key:A.id,class:V(["border border-amber-300 dark:border-amber-700 rounded-lg overflow-hidden bg-amber-50/50 dark:bg-amber-900/10",{"border-green-400 dark:border-green-600":l.value&&u(A.id),"border-yellow-400 dark:border-yellow-600":l.value&&!u(A.id)&&m(A.id),"border-red-400 dark:border-red-600":l.value&&!m(A.id)}])},[r("div",{onClick:M=>c(A.id),class:"p-3 flex justify-between items-center cursor-pointer hover:bg-amber-100 dark:hover:bg-amber-900/20 transition-colors"},[r("div",TZ,[r("div",LZ,[C(A.id)?(f(),h("img",{key:0,src:C(A.id),alt:A.name,class:"w-full h-full object-contain"},null,8,IZ)):(f(),h("span",{key:1,class:V(["i-heroicons-bug-ant text-xl absolute inset-0 flex items-center justify-center",[u(A.id)?"text-green-600 dark:text-green-400":m(A.id)?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"]])},null,2))]),r("div",null,[r("div",DZ,b(A.name),1),r("div",FZ,b(A.description),1)])]),r("div",RZ,[r("div",UZ,[r("div",null,[$[9]||($[9]=r("span",{class:"font-medium"},"HP:",-1)),se(" "+b(g(ie)(A.maxHealth,0)),1)]),r("div",null,[$[10]||($[10]=r("span",{class:"font-medium"},"DMG:",-1)),se(" "+b(g(ie)(A.damage,0)),1)])]),r("span",{class:V(["transition-transform",d(A.id)?"rotate-180":""])},$[11]||($[11]=[r("span",{class:"i-heroicons-chevron-down text-amber-600 dark:text-amber-400"},null,-1)]),2)])],8,PZ),d(A.id)?(f(),h("div",BZ,[r("div",qZ,[r("div",null,[$[18]||($[18]=r("h3",{class:"font-medium mb-2 text-amber-800 dark:text-amber-200"},"Stats",-1)),r("div",OZ,[r("div",null,[$[12]||($[12]=r("span",{class:"font-medium"},"ID:",-1)),se(" "+b(A.id),1)]),r("div",null,[$[13]||($[13]=r("span",{class:"font-medium"},"Health:",-1)),se(" "+b(g(ie)(A.maxHealth,0)),1)]),r("div",null,[$[14]||($[14]=r("span",{class:"font-medium"},"Damage:",-1)),se(" "+b(g(ie)(A.damage,0)),1)]),r("div",null,[$[15]||($[15]=r("span",{class:"font-medium"},"Defense:",-1)),se(" "+b(g(ie)(A.defense,0)),1)]),r("div",null,[$[16]||($[16]=r("span",{class:"font-medium"},"Effective Damage:",-1)),se(" "+b(g(ie)(g(s).calculateDamage(g(s).playerDamage,A.defense),0))+" (per hit)",1)]),r("div",null,[$[17]||($[17]=r("span",{class:"font-medium"},"Reward:",-1)),se(" "+b(_(A.id)),1)])]),l.value?(f(),h("div",{key:0,class:V(["mt-4 p-2 rounded-md",{"bg-green-100 dark:bg-green-900/20 border border-green-300 dark:border-green-800":u(A.id),"bg-yellow-100 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-800":!u(A.id)&&m(A.id),"bg-red-100 dark:bg-red-900/20 border border-red-300 dark:border-red-800":!m(A.id)}])},[r("div",{class:V(["font-medium mb-1",{"text-green-700 dark:text-green-300":u(A.id),"text-yellow-700 dark:text-yellow-300":!u(A.id)&&m(A.id),"text-red-700 dark:text-red-300":!m(A.id)}])},b(u(A.id)?"One-hit Kill":m(A.id)?"Can Defeat":"Too Strong"),3),r("div",{class:V(["text-xs",{"text-green-600 dark:text-green-400":u(A.id),"text-yellow-600 dark:text-yellow-400":!u(A.id)&&m(A.id),"text-red-600 dark:text-red-400":!m(A.id)}])},b(u(A.id)?"You can kill this bug in one hit!":m(A.id)?"You can defeat this bug, but it will take multiple hits.":"This bug is too strong for you right now."),3)],2)):Q("",!0)]),r("div",null,[$[20]||($[20]=r("h3",{class:"font-medium mb-2 text-amber-800 dark:text-amber-200"},"Drops",-1)),r("div",NZ,[(f(!0),h(Ce,null,De(A.drops,(M,P)=>(f(),h("div",{key:P,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},[r("div",HZ,[r("div",null,[r("div",jZ,b(y(M.itemId)),1),r("div",GZ,b(M.minQuantity===M.maxQuantity?M.minQuantity:`${M.minQuantity}-${M.maxQuantity}`)+" per drop ",1)]),r("div",VZ,[r("div",QZ,[$[19]||($[19]=se(" Drop Chance: ")),r("span",zZ,b(p(M.chance)),1)])])])]))),128)),A.drops.length===0?(f(),h("div",WZ," This bug doesn't drop any items. ")):Q("",!0)])])])])):Q("",!0)],2))),128))]),S.value.length===0?(f(),h("div",YZ," No bugs found matching your search query. ")):Q("",!0)]))}}),wh=st(KZ,[["__scopeId","data-v-10b74066"]]),XZ={class:"mb-4"},ZZ={class:"flex items-center justify-between mb-2"},JZ={class:"flex flex-wrap gap-2"},eJ=["onClick"],tJ={class:"text-xs text-amber-600 dark:text-amber-400"},sJ={key:0},oJ={class:"text-xs text-amber-600 dark:text-amber-400 font-normal"},rJ={class:"space-y-3"},nJ=["onClick"],aJ={class:"flex items-center gap-3"},iJ=["src","alt"],lJ={class:"text-xs text-amber-600 dark:text-amber-400 line-clamp-1"},cJ={class:"flex items-center gap-2"},dJ=["onClick"],uJ={class:"text-right"},mJ={class:"text-xs text-amber-600 dark:text-amber-400"},pJ={key:0,class:"border-t border-amber-300 dark:border-amber-700 p-3"},fJ={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},gJ={class:"space-y-1 text-sm"},hJ={class:"grid grid-cols-2 gap-2"},bJ={key:0,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},vJ={class:"text-amber-700 dark:text-amber-300"},yJ={key:1,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},xJ={class:"text-amber-700 dark:text-amber-300"},kJ={key:2,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},_J={class:"text-amber-700 dark:text-amber-300"},wJ={key:3,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},CJ={class:"text-amber-700 dark:text-amber-300"},SJ={key:0},$J={class:"space-y-2"},EJ={class:"font-medium"},AJ={class:"text-amber-700 dark:text-amber-300"},MJ={key:1,class:"mt-4"},PJ={class:"space-y-2"},TJ={key:0,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},LJ={class:"text-amber-700 dark:text-amber-300"},IJ={key:1,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},DJ={class:"text-amber-700 dark:text-amber-300"},FJ={class:"font-medium"},RJ={class:"text-amber-700 dark:text-amber-300"},UJ={key:2,class:"text-sm italic text-amber-600 dark:text-amber-400 mt-4"},BJ={key:0,class:"p-4 text-center text-amber-600 dark:text-amber-400"},al="items-wiki",qJ=Ue({__name:"ItemsWiki",setup(t){const e=Tt(),s=zo();Xs(),ts();const o=W(s.getSearchQuery(al));W(!0);const n=W(null),i=["common","uncommon","rare","epic","legendary","mythic","divine"],l=R(()=>{const M=new Set;return Object.values(e.items).forEach(P=>{M.add(P.rarity)}),Array.from(M).sort((P,L)=>i.indexOf(P)-i.indexOf(L))});We(o,M=>{s.setSearchQuery(al,M)});const c=M=>{s.toggleItemExpanded(al,M)},d=M=>s.isItemExpanded(al,M),u=R(()=>{let M=Object.values(e.items);if(n.value&&(M=M.filter(P=>P.rarity===n.value)),o.value){const P=o.value.toLowerCase();M=M.filter(L=>L.name.toLowerCase().includes(P)||L.description.toLowerCase().includes(P)||L.id.toLowerCase().includes(P)||L.rarity.toLowerCase().includes(P))}return M}),m=R(()=>{const M={};return l.value.forEach(P=>{M[P]=[]}),u.value.forEach(P=>{M[P.rarity]&&M[P.rarity].push(P)}),M}),p=M=>M?`+${ie(M,0)}`:"0",y=M=>{if(!M)return"0%";const P=M.sub(1).mul(100);return`+${ie(P,0)}%`},v=M=>e.getRarityColor(M),S=M=>e.getRarityBackground(M),_=M=>({worker:"Worker Ants",nursery:"Nursery",queenChamber:"Queen Chamber",colony:"Colony",megacolony:"Megacolony",hivemind:"Hivemind",antopolis:"Antopolis",alateHatchery:"Alate Hatchery",global:"All Generators"})[M]||M,C=R(()=>{const M={};return l.value.forEach(P=>{M[P]=0}),Object.values(e.items).forEach(P=>{M[P.rarity]=(M[P.rarity]||0)+1}),M}),x=M=>{try{return new URL(Object.assign({"../../assets/items/ascension_matrix.png":hc,"../../assets/items/beetle_shell_shield.png":bc,"../../assets/items/boss_chitinous_blade.png":vc,"../../assets/items/boss_cosmic_nucleus.png":yc,"../../assets/items/boss_divine_mandible.png":xc,"../../assets/items/boss_hivemind_helm.png":kc,"../../assets/items/boss_hivemind_synapse.png":_c,"../../assets/items/boss_mandible_gauntlets.png":wc,"../../assets/items/boss_nebula_stinger.png":Cc,"../../assets/items/boss_omega_particle.png":Sc,"../../assets/items/boss_pheromone_catalyst.png":$c,"../../assets/items/boss_primordial_chitin_plate.png":Ec,"../../assets/items/boss_quantum_core.png":Ac,"../../assets/items/boss_quantum_stinger.png":Mc,"../../assets/items/boss_reality_fragment.png":Pc,"../../assets/items/boss_reality_thread.png":Tc,"../../assets/items/boss_royal_carapace.png":Lc,"../../assets/items/boss_star_eater_mandible.png":Ic,"../../assets/items/boss_temporal_chitin.png":Dc,"../../assets/items/boss_void_essence_core.png":Fc,"../../assets/items/chronos_shell.png":Rc,"../../assets/items/common_ant_training_kit.png":Uc,"../../assets/items/cosmic_duality.png":Bc,"../../assets/items/divine_ant_queen_crown.png":qc,"../../assets/items/divine_eternity_weave.png":Oc,"../../assets/items/divine_genesis_claw.png":Nc,"../../assets/items/divine_infinity_shard.png":Hc,"../../assets/items/divine_transcendence_core.png":jc,"../../assets/items/divine_universal_amplifier.png":Gc,"../../assets/items/emperor_toxin.png":Vc,"../../assets/items/entropy_fangs.png":Qc,"../../assets/items/epic_ant_commander_armor.png":zc,"../../assets/items/eternity_weave.png":Wc,"../../assets/items/evolution_crystal.png":Yc,"../../assets/items/exoskeleton_plate.png":Kc,"../../assets/items/foraging_tools.png":Xc,"../../assets/items/genesis_claw.png":Zc,"../../assets/items/hive_amplifier.png":Jc,"../../assets/items/infinity_shard.png":ed,"../../assets/items/infinity_shard_old.png":td,"../../assets/items/leaf_cloak.png":sd,"../../assets/items/mandible_crusher.png":od,"../../assets/items/mandible_crusher_old.png":rd,"../../assets/items/mythic_ascension_matrix.png":nd,"../../assets/items/mythic_catalyst.png":ad,"../../assets/items/mythic_swarm_controller.png":id,"../../assets/items/omnipotent_catalyst.png":ld,"../../assets/items/pebble_hammer.png":cd,"../../assets/items/quantum_mandibles.png":dd,"../../assets/items/rare_ant_tactician_helm.png":ud,"../../assets/items/reinforced_mandibles.png":md,"../../assets/items/resin_helmet.png":pd,"../../assets/items/thorn_spear.png":fd,"../../assets/items/thorn_spear_old.png":gd,"../../assets/items/training_armor.png":hd,"../../assets/items/training_sword.png":bd,"../../assets/items/training_sword_old.png":vd,"../../assets/items/transcendence_core.png":yd,"../../assets/items/uncommon_ant_scout_gear.png":xd,"../../assets/items/universal_amplifier.png":kd,"../../assets/items/venom_dagger.png":_d,"../../assets/items/void_reaver.png":wd,"../../assets/items/wooden_shield.png":Cd,"../../assets/items/wooden_shield_old.png":Sd,"../../assets/items/worker_armor.png":$d,"../../assets/items/worker_armor_old.png":Ed,"../../assets/items/worker_sword.png":Ad})[`../../assets/items/${M}.png`],import.meta.url).href}catch{return}},$=M=>M?Object.entries(M).filter(([P,L])=>P!=="epBoost"&&P!=="global"&&L!==void 0):[],A=M=>{{console.warn("Attempted to add item outside of debug mode.");return}};return(M,P)=>{const L=Yy;return f(),h("div",null,[Fe(sn,{modelValue:o.value,"onUpdate:modelValue":P[0]||(P[0]=B=>o.value=B),placeholder:"Search items..."},null,8,["modelValue"]),r("div",XZ,[r("div",ZZ,[P[2]||(P[2]=r("h3",{class:"font-medium text-amber-800 dark:text-amber-200"},"Filter by Rarity",-1)),n.value?(f(),h("button",{key:0,onClick:P[1]||(P[1]=B=>n.value=null),class:"text-xs px-2 py-1 bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-200 rounded-md hover:bg-amber-200 dark:hover:bg-amber-800/50"}," Clear Filter ")):Q("",!0)]),r("div",JZ,[(f(!0),h(Ce,null,De(l.value,B=>(f(),h("button",{key:B,onClick:k=>n.value=B===n.value?null:B,class:V(["px-3 py-1.5 rounded-lg text-sm transition-colors flex items-center gap-1",n.value===B?"border-2 font-medium shadow-sm "+S(B):"border border-amber-200 dark:border-amber-800 hover:bg-amber-100/50 dark:hover:bg-amber-900/30"])},[r("span",{class:V(v(B))},b(B.charAt(0).toUpperCase()+B.slice(1)),3),r("span",tJ,"("+b(C.value[B])+")",1)],10,eJ))),128))])]),(f(!0),h(Ce,null,De(m.value,(B,k)=>(f(),h("div",{key:k,class:"mb-6"},[B.length>0?(f(),h("div",sJ,[r("h2",{class:V(["text-lg font-bold mb-3 flex items-center gap-2",v(k)])},[r("span",null,b(k.charAt(0).toUpperCase()+k.slice(1))+" Items",1),r("span",oJ,"("+b(B.length)+" items)",1)],2),r("div",rJ,[(f(!0),h(Ce,null,De(B,I=>(f(),h("div",{key:I.id,class:V(["border rounded-lg overflow-hidden bg-amber-50/50 dark:bg-amber-900/10",S(I.rarity),n.value===I.rarity?"border-2":"border"])},[r("div",{onClick:N=>c(I.id),class:"p-3 flex justify-between items-center cursor-pointer hover:bg-amber-100/50 dark:hover:bg-amber-900/20 transition-colors"},[r("div",aJ,[r("div",{class:V(["w-16 h-16 flex-shrink-0 flex items-center justify-center rounded",S(I.rarity)])},[x(I.id)?(f(),h("img",{key:0,src:x(I.id),alt:I.name,class:"w-12 h-12 object-contain",style:{"image-rendering":"pixelated"}},null,8,iJ)):(f(),h("span",{key:1,class:V(["i-heroicons-photo text-xl",v(I.rarity)])},null,2))],2),r("div",null,[r("div",{class:V(["font-medium",v(I.rarity)])},b(I.name),3),r("div",lJ,b(I.description),1)])]),r("div",cJ,[g(vr)()?(f(),h("button",{key:0,onClick:at(N=>A(I.id),["stop"]),title:"Add to Inventory (Debug)",class:"p-1 rounded bg-sky-600 text-white hover:bg-sky-700 text-xs focus:outline-none focus:ring-1 focus:ring-sky-500 flex items-center justify-center"},P[3]||(P[3]=[r("span",{class:"i-heroicons-plus w-3 h-3"},null,-1)]),8,dJ)):Q("",!0),r("div",uJ,[r("div",mJ,b(I.rarity.charAt(0).toUpperCase()+I.rarity.slice(1)),1)]),r("span",{class:V(["transition-transform",d(I.id)?"rotate-180":""])},P[4]||(P[4]=[r("span",{class:"i-heroicons-chevron-down text-amber-600 dark:text-amber-400"},null,-1)]),2)])],8,nJ),d(I.id)?(f(),h("div",pJ,[r("div",fJ,[r("div",null,[r("h3",{class:V(["font-medium mb-2",v(I.rarity)])},"Basic Information",2),r("div",gJ,[r("div",null,[P[5]||(P[5]=r("span",{class:"font-medium"},"ID:",-1)),se(" "+b(I.id),1)]),r("div",null,[P[6]||(P[6]=r("span",{class:"font-medium"},"Type:",-1)),se(" "+b(I.type.charAt(0).toUpperCase()+I.type.slice(1)),1)]),r("div",null,[P[7]||(P[7]=r("span",{class:"font-medium"},"Rarity:",-1)),r("span",{class:V(v(I.rarity))},b(I.rarity.charAt(0).toUpperCase()+I.rarity.slice(1)),3)])]),r("h3",{class:V(["font-medium mt-4 mb-2",v(I.rarity)])},"Combat Stats",2),r("div",hJ,[I.stats.damage?(f(),h("div",bJ,[P[8]||(P[8]=r("div",{class:"font-medium"},"Damage",-1)),r("div",vJ,b(p(I.stats.damage)),1)])):Q("",!0),I.stats.health?(f(),h("div",yJ,[P[9]||(P[9]=r("div",{class:"font-medium"},"Health",-1)),r("div",xJ,b(p(I.stats.health)),1)])):Q("",!0),I.stats.defense?(f(),h("div",kJ,[P[10]||(P[10]=r("div",{class:"font-medium"},"Defense",-1)),r("div",_J,b(p(I.stats.defense)),1)])):Q("",!0),I.stats.regen?(f(),h("div",wJ,[P[11]||(P[11]=r("div",{class:"font-medium"},"Regeneration",-1)),r("div",CJ,b(p(I.stats.regen)),1)])):Q("",!0)])]),r("div",null,[I.productionModifiers&&Object.keys(I.productionModifiers).length>0?(f(),h("div",SJ,[r("h3",{class:V(["font-medium mb-2",v(I.rarity)])},"Production Modifiers",2),r("div",$J,[(f(!0),h(Ce,null,De(I.productionModifiers,(N,U)=>(f(),h("div",{key:U,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},[r("div",EJ,b(_(U)),1),r("div",AJ,b(y(N)),1)]))),128))])])):Q("",!0),I.specialModifiers&&Object.keys(I.specialModifiers).length>0?(f(),h("div",MJ,[r("h3",{class:V(["font-medium mb-2",v(I.rarity)])},"Special Effects",2),r("div",PJ,[I.specialModifiers.epBoost?(f(),h("div",TJ,[P[12]||(P[12]=r("div",{class:"font-medium"},"Evolution Points",-1)),r("div",LJ,b(y(I.specialModifiers.epBoost)),1)])):Q("",!0),I.specialModifiers.global?(f(),h("div",IJ,[P[13]||(P[13]=r("div",{class:"font-medium"},"Global Production",-1)),r("div",DJ,b(y(I.specialModifiers.global)),1)])):Q("",!0),(f(!0),h(Ce,null,De($(I.specialModifiers),([N,U])=>(f(),h("div",{key:N,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},[r("div",FJ,b(N.charAt(0).toUpperCase()+N.slice(1).replace(/([A-Z])/g," $1")),1),r("div",RJ,b(y(U)),1)]))),128))])])):Q("",!0),(!I.productionModifiers||Object.keys(I.productionModifiers).length===0)&&(!I.specialModifiers||Object.keys(I.specialModifiers).length===0)?(f(),h("div",UJ," This item has no production or special effects. ")):Q("",!0),Fe(L,{item:I},null,8,["item"])])])])):Q("",!0)],2))),128))])])):Q("",!0)]))),128)),Object.values(m.value).every(B=>B.length===0)?(f(),h("div",BJ," No items found matching your search criteria. ")):Q("",!0)])}}}),Ch=st(qJ,[["__scopeId","data-v-f0bc2afe"]]),OJ={class:"mb-4 bg-emerald-50/70 dark:bg-emerald-900/20 p-3 rounded-lg border border-emerald-200 dark:border-emerald-800"},NJ={class:"block mb-2 text-sm font-medium text-emerald-800 dark:text-emerald-200"},HJ={class:"font-bold text-emerald-600 dark:text-emerald-300"},jJ={key:0,class:"p-4 text-center text-emerald-600 dark:text-emerald-400"},GJ={class:"space-y-3"},VJ=["onClick"],QJ={class:"flex items-center gap-3"},zJ=["src","alt"],WJ={class:"font-medium"},YJ={class:"text-xs text-emerald-600 dark:text-emerald-400"},KJ={class:"flex items-center gap-4"},XJ={class:"text-right"},ZJ={class:"text-sm"},JJ={class:"font-medium"},eee={class:"text-xs"},tee={key:0,class:"border-t border-emerald-300 dark:border-emerald-700 p-3"},see={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},oee={class:"space-y-1 text-sm"},ree={class:"overflow-x-auto max-h-60 overflow-y-auto border border-emerald-200 dark:border-emerald-800 rounded"},nee={class:"w-full text-sm"},aee={class:"p-2"},iee={class:"p-2 text-right"},lee={class:"p-2 text-right text-emerald-700 dark:text-emerald-300"},cee={class:"mt-4"},dee={class:"text-sm text-emerald-600 dark:text-emerald-400 mb-2"},uee={class:"overflow-x-auto border border-emerald-200 dark:border-emerald-800 rounded"},mee={class:"w-full text-sm"},pee={class:"p-2"},fee={class:"p-2 text-right"},gee={class:"p-2 text-right text-emerald-700 dark:text-emerald-300"},yn="generators-wiki",hee=Ue({__name:"GeneratorsWiki",setup(t){const e=vt(),s=zo(),o=W(s.getSearchQuery(yn)),n=W(s.getMaxPreviewLevel(yn));We(o,v=>{s.setSearchQuery(yn,v)}),We(n,v=>{s.setMaxPreviewLevel(yn,v)});const i=v=>{s.toggleItemExpanded(yn,v)},l=v=>s.isItemExpanded(yn,v),c=v=>ie(v.baseCost,0),d=(v,S)=>Ev(v,new be(S)),u=v=>{const S=e.getBaseProduction(v);return ie(S,0)},m=v=>({worker:"food",nursery:"worker ants",queenChamber:"nurseries",colony:"queen chambers",megacolony:"colonies",hivemind:"mega colonies",antopolis:"hive minds",alateHatchery:"antopolis"})[v]||"",p=R(()=>{if(!o.value)return e.generators;const v=o.value.toLowerCase();return e.generators.filter(S=>S.name.toLowerCase().includes(v)||S.description.toLowerCase().includes(v)||S.id.toLowerCase().includes(v))}),y=v=>{try{return new URL(Object.assign({"../../assets/generators/alateHatchery.png":em,"../../assets/generators/antopolis.png":tm,"../../assets/generators/colony.png":sm,"../../assets/generators/hivemind.png":om,"../../assets/generators/megacolony.png":rm,"../../assets/generators/nursery.png":nm,"../../assets/generators/queenChamber.png":am,"../../assets/generators/worker.png":im})[`../../assets/generators/${v}.png`],import.meta.url).href}catch(S){return console.error(`Error loading image for generator ${v}:`,S),""}};return(v,S)=>(f(),h("div",null,[Fe(sn,{modelValue:o.value,"onUpdate:modelValue":S[0]||(S[0]=_=>o.value=_),placeholder:"Search generators..."},null,8,["modelValue"]),r("div",OJ,[r("label",NJ,[S[3]||(S[3]=se(" Show generator costs up to ")),r("span",HJ,b(n.value),1),S[4]||(S[4]=se(" purchases "))]),Fe(Md,{modelValue:n.value,"onUpdate:modelValue":S[1]||(S[1]=_=>n.value=_),presets:[10,25,50,100,250,500,1e3],max:1e3,color:"emerald"},null,8,["modelValue"])]),p.value.length===0?(f(),h("div",jJ," No generators found for this search query. ")):Q("",!0),r("div",GJ,[(f(!0),h(Ce,null,De(p.value,_=>(f(),h("div",{key:_.id,class:"border border-emerald-300 dark:border-emerald-700 rounded-lg overflow-hidden bg-emerald-50/50 dark:bg-emerald-900/10"},[r("div",{onClick:C=>i(_.id),class:"p-3 flex justify-between items-center cursor-pointer hover:bg-emerald-100 dark:hover:bg-emerald-900/20 transition-colors"},[r("div",QJ,[r("img",{src:y(_.id),alt:`${_.name} icon`,class:"w-8 h-8 object-contain flex-shrink-0",onError:S[2]||(S[2]=C=>C.target.style.display="none")},null,40,zJ),r("div",null,[r("div",WJ,b(_.name),1),r("div",YJ,b(_.description),1)])]),r("div",KJ,[r("div",XJ,[r("div",ZJ,[S[5]||(S[5]=se("Tier: ")),r("span",JJ,b(_.tier),1)]),r("div",eee,"Base Cost: "+b(c(_)),1)]),r("span",{class:V(["transition-transform",l(_.id)?"rotate-180":""])},S[6]||(S[6]=[r("span",{class:"i-heroicons-chevron-down text-emerald-600 dark:text-emerald-400"},null,-1)]),2)])],8,VJ),l(_.id)?(f(),h("div",tee,[r("div",see,[r("div",null,[S[12]||(S[12]=r("h3",{class:"font-medium mb-2 text-emerald-800 dark:text-emerald-200"},"Basic Information",-1)),r("div",oee,[r("div",null,[S[7]||(S[7]=r("span",{class:"font-medium"},"ID:",-1)),se(" "+b(_.id),1)]),r("div",null,[S[8]||(S[8]=r("span",{class:"font-medium"},"Tier:",-1)),se(" "+b(_.tier),1)]),r("div",null,[S[9]||(S[9]=r("span",{class:"font-medium"},"Base Cost:",-1)),se(" "+b(c(_)),1)]),r("div",null,[S[10]||(S[10]=r("span",{class:"font-medium"},"Cost Growth:",-1)),se(" "+b(g(ie)(_.costGrowth,2)),1)]),r("div",null,[S[11]||(S[11]=r("span",{class:"font-medium"},"Base Production:",-1)),se(" "+b(u(_.id))+" "+b(m(_.id))+"/sec",1)])])]),r("div",null,[S[14]||(S[14]=r("h3",{class:"font-medium mb-2 text-emerald-800 dark:text-emerald-200"},"Cost Progression",-1)),r("div",ree,[r("table",nee,[S[13]||(S[13]=r("thead",{class:"bg-emerald-200 dark:bg-emerald-900/40 sticky top-0"},[r("tr",null,[r("th",{class:"p-2 text-left"},"Purchases"),r("th",{class:"p-2 text-right"},"Unit Cost"),r("th",{class:"p-2 text-right"},"Total Spent")])],-1)),r("tbody",null,[(f(!0),h(Ce,null,De([0,1,5,10,25,50,100,250,500,1e3].filter(C=>C<=n.value),C=>(f(),h("tr",{key:C,class:"border-t border-emerald-200 dark:border-emerald-800 hover:bg-emerald-100 dark:hover:bg-emerald-900/30"},[r("td",aee,b(C),1),r("td",iee,b(g(ie)(d(_.tier,C),0)),1),r("td",lee,b(g(ie)(d(_.tier,C).mul(C),0)),1)]))),128))])])])])]),r("div",cee,[S[16]||(S[16]=r("h3",{class:"font-medium mb-2 text-emerald-800 dark:text-emerald-200"},"Production Information",-1)),r("p",dee,b(_.name)+" produces "+b(u(_.id))+" "+b(m(_.id))+" per second at base value. Each "+b(_.name.toLowerCase())+" you own multiplies this production linearly. ",1),r("div",uee,[r("table",mee,[S[15]||(S[15]=r("thead",{class:"bg-emerald-200 dark:bg-emerald-900/40"},[r("tr",null,[r("th",{class:"p-2 text-left"},"Count"),r("th",{class:"p-2 text-right"},"Base Production"),r("th",{class:"p-2 text-right"},"Per Generator")])],-1)),r("tbody",null,[(f(),h(Ce,null,De([1,10,100,1e3,1e4],C=>r("tr",{key:C,class:"border-t border-emerald-200 dark:border-emerald-800 hover:bg-emerald-100 dark:hover:bg-emerald-900/30"},[r("td",pee,b(C),1),r("td",fee,b(g(ie)(new(g(be))(u(_.id)).mul(C),0)),1),r("td",gee,b(u(_.id)),1)])),64))])])])])])):Q("",!0)]))),128))])]))}}),Sh=st(hee,[["__scopeId","data-v-1c63145d"]]),bee={class:"border border-amber-300 dark:border-amber-700 rounded-lg overflow-hidden bg-amber-50/50 dark:bg-amber-900/10 mb-4"},vee={class:"p-4"},yee={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},xee={class:"border border-amber-200 dark:border-amber-800 rounded-lg p-3"},kee={class:"text-sm"},_ee={class:"mb-2"},wee={key:0,class:"space-y-2"},Cee={class:"flex items-center"},See={class:"flex-1 bg-amber-100 dark:bg-amber-900/40 h-2 rounded-full overflow-hidden"},$ee={class:"ml-2 text-xs"},Eee={class:"flex items-center"},Aee={class:"flex-1 bg-amber-100 dark:bg-amber-900/40 h-2 rounded-full overflow-hidden"},Mee={class:"ml-2 text-xs"},Pee={class:"text-sm"},Tee={class:"text-sm"},Lee={class:"border border-amber-200 dark:border-amber-800 rounded-lg p-3"},Iee={class:"text-sm"},Dee={class:"mb-2"},Fee={key:0,class:"space-y-2"},Ree={class:"text-sm"},Uee={class:"text-sm"},Bee={class:"border border-amber-300 dark:border-amber-700 rounded-lg overflow-hidden bg-amber-50/50 dark:bg-amber-900/10 mb-4"},qee={key:0,class:"border-t border-amber-300 dark:border-amber-700 p-3"},Oee={key:0,class:"p-4 text-center text-amber-600 dark:text-amber-400"},Nee={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Hee={class:"flex justify-between items-start mb-2"},jee={class:"font-medium text-amber-800 dark:text-amber-300"},Gee={class:"text-xs text-amber-600 dark:text-amber-400"},Vee={class:"text-sm text-amber-700 dark:text-amber-300 mb-3"},Qee={class:"space-y-2 text-sm"},zee={class:"flex justify-between items-center"},Wee={class:"font-medium"},Yee={key:0,class:"flex justify-between items-center"},Kee={class:"font-medium text-green-600 dark:text-green-400"},Xee={class:"text-xs"},Zee={key:1,class:"flex justify-between items-center"},Jee={class:"font-medium text-amber-600 dark:text-amber-400"},ete={class:"flex justify-between items-center"},tte={key:2,class:"mt-3"},ste={key:3,class:"mt-3 text-sm text-amber-600 dark:text-amber-400"},ote={class:"border border-amber-300 dark:border-amber-700 rounded-lg overflow-hidden bg-amber-50/50 dark:bg-amber-900/10"},rte={key:0,class:"border-t border-amber-300 dark:border-amber-700 p-3"},nte={key:0,class:"p-4 text-center text-amber-600 dark:text-amber-400"},ate={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ite={class:"flex justify-between items-start mb-2"},lte={class:"font-medium text-amber-800 dark:text-amber-300"},cte={class:"text-xs text-amber-600 dark:text-amber-400"},dte={class:"text-sm text-amber-700 dark:text-amber-300 mb-3"},ute={class:"space-y-2 text-sm"},mte={class:"flex justify-between items-center"},pte={class:"font-medium"},fte={key:0,class:"flex justify-between items-center"},gte={class:"font-medium text-green-600 dark:text-green-400"},hte={key:1,class:"flex justify-between items-center"},bte={class:"font-medium text-amber-600 dark:text-amber-400"},vte={class:"flex justify-between items-center"},yte={key:2,class:"mt-3"},xte={key:3,class:"mt-3 text-sm text-amber-600 dark:text-amber-400"},xn="mega-ant",kte=Ue({__name:"MegaAntWiki",setup(t){const e=gt(),s=zo(),o=W(s.getSearchQuery(xn)),n=W(s.getMaxPreviewLevel(xn));We(o,C=>{s.setSearchQuery(xn,C)}),We(n,C=>{s.setMaxPreviewLevel(xn,C)});const i=C=>{s.toggleItemExpanded(xn,C)},l=C=>s.isItemExpanded(xn,C),c=R(()=>e.isUnlocked?`Level ${e.level} (${e.levelProgress.toFixed(1)}% to next level)`:"Locked - Requires 'Mega Ant' prestige upgrade"),d=R(()=>e.isUnlocked?`Level ${e.colonyLevel} (${e.colonyLevelProgress.toFixed(1)}% to next level)`:"Locked - Requires 'Mega Ant' prestige upgrade"),u=(C,x)=>x?(x=x.toLowerCase(),C.filter($=>{var A,M,P;return((A=$.name)==null?void 0:A.toLowerCase().includes(x))||((M=$.description)==null?void 0:M.toLowerCase().includes(x))||((P=$.id)==null?void 0:P.toLowerCase().includes(x))})):C,m=R(()=>u(e.upgrades,o.value)),p=R(()=>u(e.colonyUpgrades,o.value)),y=(C,x,$)=>{const A=e.getUpgradeEffectValue(C),M=e.getNextUpgradeEffectValue(C);return C===as.EFFICIENCY||C===as.DECAY_RATE?`+${((M-A)*100).toFixed(0)}%`:`+${(M-A).toFixed(0)}`},v=(C,x)=>{const $=C.getEffectValue(C.level),A=C.getEffectValue(Math.min(x,C.maxLevel));return A<=$||C.level>=C.maxLevel?"":C.id===as.EFFICIENCY||C.id===as.DECAY_RATE?` ${A.toFixed(2)} (+${((A-$)*100).toFixed(0)}%)`:` ${A.toFixed(0)} (+${(A-$).toFixed(0)})`},S=(C,x)=>{if(!C||C.level>=C.maxLevel)return"";const $=C.getMultiplier(C.level),A=C.getMultiplier(Math.min(x,C.maxLevel));if(A<=$)return"";const M=((A-$)*100).toFixed(0);return` +${((A-1)*100).toFixed(0)}% (+${M}%)`},_=(C,x,$)=>{const A=e.getColonyUpgradeMultiplier(C),M=e.getColonyUpgrade(C);return M?`+${((M.getMultiplier(x+1)-A)*100).toFixed(0)}%`:"+0%"};return(C,x)=>(f(),h("div",null,[r("div",bee,[r("div",vee,[x[12]||(x[12]=qt('<h2 class="text-lg font-semibold mb-4 flex items-center" data-v-200ca3d0><span class="i-heroicons-bug-ant text-xl text-amber-700 dark:text-amber-400 mr-2" data-v-200ca3d0></span> Mega Ant System Guide </h2><div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4 mb-4" data-v-200ca3d0><h3 class="font-medium text-amber-800 dark:text-amber-300 mb-3" data-v-200ca3d0>How It Works</h3><div class="text-sm text-gray-700 dark:text-gray-300 space-y-2" data-v-200ca3d0><p data-v-200ca3d0>The Mega Ant is a special evolution of your ant colony that unlocks after reaching 100M Evolution Points. It features a unique dual digestive system that provides powerful bonuses to your entire colony.</p><div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-3" data-v-200ca3d0><div class="bg-amber-50 dark:bg-amber-900/20 p-3 rounded-lg border border-amber-200 dark:border-amber-700/50" data-v-200ca3d0><h4 class="font-medium text-amber-700 dark:text-amber-300 flex items-center gap-1 mb-2" data-v-200ca3d0><span class="i-heroicons-arrow-path-rounded-square" data-v-200ca3d0></span>Crop System (Mega Ant XP) </h4><ol class="list-decimal list-inside space-y-1 pl-1 text-xs" data-v-200ca3d0><li class="mb-1" data-v-200ca3d0>Feed <b data-v-200ca3d0>regular food</b> to your Mega Ant&#39;s crop</li><li class="mb-1" data-v-200ca3d0>Food is automatically digested over time at a rate determined by your upgrades</li><li class="mb-1" data-v-200ca3d0>Digestion grants <b data-v-200ca3d0>Mega Ant XP</b> based on the logarithm of food fed</li><li class="mb-1" data-v-200ca3d0>Mega Ant levels provide upgrade points for digestive systems</li></ol></div><div class="bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg border border-purple-200 dark:border-purple-700/50" data-v-200ca3d0><h4 class="font-medium text-purple-700 dark:text-purple-300 flex items-center gap-1 mb-2" data-v-200ca3d0><span class="i-heroicons-beaker" data-v-200ca3d0></span>True Stomach System (Colony XP) </h4><ol class="list-decimal list-inside space-y-1 pl-1 text-xs" data-v-200ca3d0><li class="mb-1" data-v-200ca3d0>Feed <b data-v-200ca3d0>pheromone essence</b> to the true stomach</li><li class="mb-1" data-v-200ca3d0>Essence is automatically digested over time at a rate determined by your upgrades</li><li class="mb-1" data-v-200ca3d0>Digestion grants <b data-v-200ca3d0>Colony XP</b> based on the logarithm of essence fed (2x more effective than food)</li><li class="mb-1" data-v-200ca3d0>Colony levels provide upgrade points for colony-wide bonuses</li></ol></div></div><div class="mt-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700/50" data-v-200ca3d0><h4 class="font-medium text-blue-700 dark:text-blue-300 mb-2" data-v-200ca3d0>Key Mechanics</h4><ul class="space-y-2 text-xs" data-v-200ca3d0><li class="flex items-start" data-v-200ca3d0><span class="i-heroicons-light-bulb text-blue-500 mr-1.5 mt-0.5" data-v-200ca3d0></span><span data-v-200ca3d0><b data-v-200ca3d0>XP Calculation:</b> XP gained is based on the exponent (magnitude) of the food/essence fed, not the raw amount. For example, feeding 1e100 food would yield approximately 100 XP.</span></li><li class="flex items-start" data-v-200ca3d0><span class="i-heroicons-light-bulb text-blue-500 mr-1.5 mt-0.5" data-v-200ca3d0></span><span data-v-200ca3d0><b data-v-200ca3d0>Upgrade System:</b> All Mega Ant upgrades affect both digestive systems simultaneously, improving capacity, digestion rate, or XP efficiency.</span></li><li class="flex items-start" data-v-200ca3d0><span class="i-heroicons-light-bulb text-blue-500 mr-1.5 mt-0.5" data-v-200ca3d0></span><span data-v-200ca3d0><b data-v-200ca3d0>Colony Upgrades:</b> These provide global bonuses to your entire ant farm, including EP gain, pheromone production, and global resource generation.</span></li><li class="flex items-start" data-v-200ca3d0><span class="i-heroicons-light-bulb text-blue-500 mr-1.5 mt-0.5" data-v-200ca3d0></span><span data-v-200ca3d0><b data-v-200ca3d0>Ascension:</b> Reset your progress but keep all upgrades to gain a permanent multiplier to XP gains. Each ascension gives +25% to all XP gains.</span></li></ul></div></div></div>',2)),r("div",yee,[r("div",xee,[x[8]||(x[8]=r("h3",{class:"font-medium text-amber-800 dark:text-amber-300 mb-2 flex items-center"},[r("span",{class:"i-heroicons-bug-ant text-lg mr-2"}),se(" Mega Ant Status ")],-1)),r("div",kee,[r("div",_ee,b(c.value),1),g(e).isUnlocked?(f(),h("div",wee,[r("div",null,[x[4]||(x[4]=r("div",{class:"text-xs text-amber-600 dark:text-amber-400"},"Food Stomach",-1)),r("div",Cee,[r("div",See,[r("div",{class:"bg-amber-500 h-full",style:Je({width:`${g(e).stomachFillPercentage}%`})},null,4)]),r("div",$ee,b(g(e).stomachContent.toFixed(1))+"/"+b(g(e).effectiveStomachCapacity.toFixed(1)),1)])]),r("div",null,[x[5]||(x[5]=r("div",{class:"text-xs text-amber-600 dark:text-amber-400"},"Pheromone Stomach",-1)),r("div",Eee,[r("div",Aee,[r("div",{class:"bg-purple-500 h-full",style:Je({width:`${g(e).pheromoneStomachFillPercentage}%`})},null,4)]),r("div",Mee,b(g(e).pheromoneStomachContent.toFixed(1))+"/"+b(g(e).effectivePheromoneStomachCapacity.toFixed(1)),1)])]),r("div",null,[x[6]||(x[6]=r("div",{class:"text-xs text-amber-600 dark:text-amber-400"},"Experience Needed",-1)),r("div",Pee,b(g(ie)(g(e).experienceForNextLevel,1))+" XP",1)]),r("div",null,[x[7]||(x[7]=r("div",{class:"text-xs text-amber-600 dark:text-amber-400"},"Available Upgrade Points",-1)),r("div",Tee,b(g(e).availableLevels),1)])])):Q("",!0)])]),r("div",Lee,[x[11]||(x[11]=r("h3",{class:"font-medium text-amber-800 dark:text-amber-300 mb-2 flex items-center"},[r("span",{class:"i-heroicons-home-modern text-lg mr-2"}),se(" Colony Status ")],-1)),r("div",Iee,[r("div",Dee,b(d.value),1),g(e).isUnlocked?(f(),h("div",Fee,[r("div",null,[x[9]||(x[9]=r("div",{class:"text-xs text-amber-600 dark:text-amber-400"},"Colony Experience Needed",-1)),r("div",Ree,b(g(ie)(g(e).colonyExperienceForNextLevel,1))+" XP",1)]),r("div",null,[x[10]||(x[10]=r("div",{class:"text-xs text-amber-600 dark:text-amber-400"},"Available Colony Upgrade Points",-1)),r("div",Uee,b(g(e).availableColonyLevels),1)])])):Q("",!0)])])])])]),Fe(sn,{modelValue:o.value,"onUpdate:modelValue":x[0]||(x[0]=$=>o.value=$),placeholder:"Search mega ant upgrades..."},null,8,["modelValue"]),Fe(Md,{modelValue:n.value,"onUpdate:modelValue":x[1]||(x[1]=$=>n.value=$),color:"amber",label:"Preview upgrades up to level:"},null,8,["modelValue"]),x[23]||(x[23]=r("div",{class:"mb-4 bg-amber-50/70 dark:bg-amber-900/20 p-2 rounded-lg border border-amber-200 dark:border-amber-800 text-xs text-amber-700 dark:text-amber-300"},[r("div",{class:"flex items-start"},[r("span",{class:"i-heroicons-information-circle mr-1 text-sm mt-0.5"}),r("div",null,[r("span",{class:"font-medium"},"Level Preview Tool:"),se(" Adjust the slider above to see how upgrades will look at higher levels. The amber values show the progression from your current level to the selected preview level. ")])])],-1)),r("div",Bee,[r("div",{onClick:x[2]||(x[2]=$=>i("megaAntUpgrades")),class:"p-3 flex justify-between items-center cursor-pointer hover:bg-amber-100 dark:hover:bg-amber-900/20 transition-colors"},[x[14]||(x[14]=r("div",{class:"flex items-center gap-3"},[r("span",{class:"i-heroicons-arrow-up-circle text-xl text-amber-700 dark:text-amber-400"}),r("div",null,[r("div",{class:"font-medium"},"Mega Ant Upgrades"),r("div",{class:"text-xs text-amber-600 dark:text-amber-400"},"Spend Mega Ant levels to improve your digestive capabilities")])],-1)),r("span",{class:V(["transition-transform",l("megaAntUpgrades")?"rotate-180":""])},x[13]||(x[13]=[r("span",{class:"i-heroicons-chevron-down text-amber-600 dark:text-amber-400"},null,-1)]),2)]),l("megaAntUpgrades")?(f(),h("div",qee,[m.value.length===0?(f(),h("div",Oee," No mega ant upgrades found for your search query. ")):(f(),h("div",Nee,[(f(!0),h(Ce,null,De(m.value,$=>(f(),h("div",{key:$.id,class:"border border-amber-200 dark:border-amber-800 rounded-lg p-3"},[r("div",Hee,[r("h3",jee,b($.name),1),r("div",Gee," Level "+b($.level)+"/"+b($.maxLevel),1)]),r("p",Vee,b($.description),1),r("div",Qee,[r("div",zee,[x[15]||(x[15]=r("div",null,"Current Effect:",-1)),r("div",Wee,b(g(e).getUpgradeEffectValue($.id).toFixed(2)),1)]),$.level<$.maxLevel?(f(),h("div",Yee,[x[16]||(x[16]=r("div",null,"Next Level:",-1)),r("div",Kee,[se(b(g(e).getNextUpgradeEffectValue($.id).toFixed(2))+" ",1),r("span",Xee,"("+b(y($.id,$.level,$.level+1))+")",1)])])):Q("",!0),$.level<$.maxLevel&&n.value>$.level+1?(f(),h("div",Zee,[r("div",null,"At Level "+b(Math.min(n.value,$.maxLevel))+":",1),r("div",Jee,b(v($,n.value)),1)])):Q("",!0),r("div",ete,[x[17]||(x[17]=r("div",null,"Cost:",-1)),r("div",null,b($.costPerLevel)+" Mega Ant level"+b($.costPerLevel>1?"s":""),1)]),$.level<$.maxLevel?(f(),h("div",tte,[r("div",{class:V(["text-sm",g(e).canUpgrade($.id)?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},b(g(e).canUpgrade($.id)?"Available to purchase":"Not enough level points"),3)])):(f(),h("div",ste," Maximum level reached "))])]))),128))]))])):Q("",!0)]),r("div",ote,[r("div",{onClick:x[3]||(x[3]=$=>i("colonyUpgrades")),class:"p-3 flex justify-between items-center cursor-pointer hover:bg-amber-100 dark:hover:bg-amber-900/20 transition-colors"},[x[19]||(x[19]=r("div",{class:"flex items-center gap-3"},[r("span",{class:"i-heroicons-home-modern text-xl text-amber-700 dark:text-amber-400"}),r("div",null,[r("div",{class:"font-medium"},"Colony Upgrades"),r("div",{class:"text-xs text-amber-600 dark:text-amber-400"},"Spend Colony levels to enhance various aspects of your ant farm")])],-1)),r("span",{class:V(["transition-transform",l("colonyUpgrades")?"rotate-180":""])},x[18]||(x[18]=[r("span",{class:"i-heroicons-chevron-down text-amber-600 dark:text-amber-400"},null,-1)]),2)]),l("colonyUpgrades")?(f(),h("div",rte,[p.value.length===0?(f(),h("div",nte," No colony upgrades found for your search query. ")):(f(),h("div",ate,[(f(!0),h(Ce,null,De(p.value,$=>(f(),h("div",{key:$.id,class:"border border-amber-200 dark:border-amber-800 rounded-lg p-3"},[r("div",ite,[r("h3",lte,b($.name),1),r("div",cte," Level "+b($.level)+"/"+b($.maxLevel),1)]),r("p",dte,b($.description),1),r("div",ute,[r("div",mte,[x[20]||(x[20]=r("div",null,"Current Effect:",-1)),r("div",pte,b(g(e).getFormattedColonyEffect($.id)),1)]),$.level<$.maxLevel?(f(),h("div",fte,[x[21]||(x[21]=r("div",null,"Next Level:",-1)),r("div",gte,b(_($.id,$.level,$.level+1)),1)])):Q("",!0),$.level<$.maxLevel&&n.value>$.level+1?(f(),h("div",hte,[r("div",null,"At Level "+b(Math.min(n.value,$.maxLevel))+":",1),r("div",bte,b(S($,n.value)),1)])):Q("",!0),r("div",vte,[x[22]||(x[22]=r("div",null,"Cost:",-1)),r("div",null,b($.costPerLevel)+" Colony level"+b($.costPerLevel>1?"s":""),1)]),$.level<$.maxLevel?(f(),h("div",yte,[r("div",{class:V(["text-sm",g(e).canColonyUpgrade($.id)?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},b(g(e).canColonyUpgrade($.id)?"Available to purchase":"Not enough colony points"),3)])):(f(),h("div",xte," Maximum level reached "))])]))),128))]))])):Q("",!0)])]))}}),$h=st(kte,[["__scopeId","data-v-200ca3d0"]]),q1="/assets/boss_ant_golem-BddTxQb0.png",O1="/assets/boss_ascended_ant_god-ClsG1xx2.png",N1="/assets/boss_chrono_beetle-ZDNxEFFh.png",H1="/assets/boss_cosmic_hivemind-Dfdj-kdP.png",j1="/assets/boss_devourer_moth-CMoVvoya.png",G1="/assets/boss_dimensional_horror-Ck0blftq.png",V1="/assets/boss_galactic_devourer_ant-D93yeZMS.png",Q1="/assets/boss_giant_spider-BGHrvVWV.png",z1="/assets/boss_mantis_lord-Btw7CKXq.png",W1="/assets/boss_nebula_wasp_queen-Cf1Nxhhi.png",Y1="/assets/boss_omega_ant-Dzx-2abj.png",K1="/assets/boss_primordial_insectoid-BKLCdO7q.png",X1="/assets/boss_quantum_entanglement-JUGTH8d4.png",Z1="/assets/boss_queen_bee-CAzM7SFz.png",J1="/assets/boss_reality_weaver_spider-79Y-tWju.png",ex="/assets/boss_scorpion_emperor-DsClxluE.png",tx="/assets/boss_slime_king-Bs0Fivnu.png",sx="/assets/boss_training_dummy-C1LSjpgI.png",ox="/assets/boss_void_larva-JwMc1JCC.png",_te={class:"mb-4 flex items-center"},wte={class:"inline-flex items-center cursor-pointer"},Cte={key:0,class:"mb-6 p-4 border border-amber-300 dark:border-amber-700 rounded-lg bg-amber-50/50 dark:bg-amber-900/10"},Ste={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4"},$te={class:"font-medium"},Ete={class:"font-medium"},Ate={class:"font-medium"},Mte={class:"font-medium"},Pte={class:"space-y-3"},Tte=["onClick"],Lte={class:"flex items-center gap-3"},Ite={class:"relative w-16 h-16"},Dte=["src","alt"],Fte={class:"font-medium"},Rte={class:"text-xs text-amber-600 dark:text-amber-400"},Ute={class:"flex items-center gap-4"},Bte={class:"text-right text-sm"},qte={key:0,class:"border-t border-amber-300 dark:border-amber-700 p-3"},Ote={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Nte={class:"space-y-1 text-sm"},Hte={class:"mt-4"},jte={class:"space-y-1"},Gte={key:0,class:"ml-1 font-mono"},Vte={key:0,class:"text-xs text-gray-500 italic"},Qte={class:"space-y-2"},zte={key:0,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},Wte={class:"text-xs text-amber-700 dark:text-amber-300"},Yte={key:1,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},Kte={class:"text-xs text-amber-700 dark:text-amber-300"},Xte={key:2,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},Zte={class:"flex items-start justify-between"},Jte={class:"font-medium"},ese={class:"text-xs text-amber-700 dark:text-amber-300"},tse={key:0},sse={key:3,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},ose={class:"space-y-1"},rse={class:"font-medium"},nse={class:"text-amber-700 dark:text-amber-300"},ase={key:1,class:"p-4 text-center text-amber-600 dark:text-amber-400"},il="boss-wiki",ise=Ue({__name:"BossWiki",setup(t){const e=Ns(),s=zo(),o=Tt(),n=vt(),i=W(s.getSearchQuery(il)),l=W(!0);We(i,A=>{s.setSearchQuery(il,A)});const c=A=>{s.toggleItemExpanded(il,A)},d=A=>s.isItemExpanded(il,A),u=A=>{const M=e.allBosses.find(B=>B.id===A);if(!M)return!1;const P=e.playerStats.damage,L=M.damage;return P.gt(L)},m=A=>{const M=e.allBosses.find(I=>I.id===A);if(!M)return!1;const P=M.damage;if(e.playerStats.defense,P.lte(0))return!0;const L=e.playerStats.damage;if(M.defense,L.lte(0))return!1;const B=M.maxHealth.div(L).ceil(),k=e.playerStats.maxHealth.div(P).floor();return B.lte(k)},p=A=>dt(A),y=A=>{const M=o.getItem(A);return M?M.name:A},v=R(()=>{if(!i.value)return e.allBosses;const A=i.value.toLowerCase();return e.allBosses.filter(M=>M.name.toLowerCase().includes(A)||M.description.toLowerCase().includes(A)||M.id.toLowerCase().includes(A)||M.reward.guaranteedItemId&&y(M.reward.guaranteedItemId).toLowerCase().includes(A))}),S=R(()=>[...v.value].sort((A,M)=>A.maxHealth.cmp(M.maxHealth))),_=A=>{try{return new URL(Object.assign({"../../assets/bosses/boss_ant_golem.png":q1,"../../assets/bosses/boss_ascended_ant_god.png":O1,"../../assets/bosses/boss_chrono_beetle.png":N1,"../../assets/bosses/boss_cosmic_hivemind.png":H1,"../../assets/bosses/boss_devourer_moth.png":j1,"../../assets/bosses/boss_dimensional_horror.png":G1,"../../assets/bosses/boss_galactic_devourer_ant.png":V1,"../../assets/bosses/boss_giant_spider.png":Q1,"../../assets/bosses/boss_mantis_lord.png":z1,"../../assets/bosses/boss_nebula_wasp_queen.png":W1,"../../assets/bosses/boss_omega_ant.png":Y1,"../../assets/bosses/boss_primordial_insectoid.png":K1,"../../assets/bosses/boss_quantum_entanglement.png":X1,"../../assets/bosses/boss_queen_bee.png":Z1,"../../assets/bosses/boss_reality_weaver_spider.png":J1,"../../assets/bosses/boss_scorpion_emperor.png":ex,"../../assets/bosses/boss_slime_king.png":tx,"../../assets/bosses/boss_training_dummy.png":sx,"../../assets/bosses/boss_void_larva.png":ox})[`../../assets/bosses/${A}.png`],import.meta.url).href}catch{return null}},C=A=>{var M,P;switch(A.type){case"bugKills":return`Kill ${ie(a(A.value))} total bugs`;case"specificBugKills":{const L=((M=A.target)==null?void 0:M.replace(/_/g," ").replace(/\b\w/g,B=>B.toUpperCase()))||"specific bugs";return`Kill ${ie(a(A.value))} ${L}`}case"foodPerSecond":return`Reach ${ie(a(A.value))} Food/sec`;case"bossDeath":{const L=((P=A.target)==null?void 0:P.replace(/_/g," ").replace(/\b\w/g,k=>k.toUpperCase()).replace("Boss ",""))||"a specific boss",B=e.allBosses.find(k=>k.id===A.target);return`Defeat ${B?B.name:L}`}case"none":return"Always unlocked";default:return"Unknown requirement"}},x=A=>{switch(A.type){case"bugKills":return e.getTotalBugKills()>=A.value;case"specificBugKills":return e.getBugKillCount(A.target)>=A.value;case"foodPerSecond":return n.foodPerSecond.gte(A.value);case"bossDeath":return e.isBossDefeated(A.target);case"none":return!0;default:return!1}},$=A=>{if(x(A))return"";switch(A.type){case"bugKills":return`(${ie(a(e.getTotalBugKills()))} / ${ie(a(A.value))})`;case"specificBugKills":return`(${ie(a(e.getBugKillCount(A.target)))} / ${ie(a(A.value))})`;case"foodPerSecond":return A.value&&n.foodPerSecond.gt(0)?`(${ie(n.foodPerSecond,0)} / ${ie(a(A.value),0)})`:`(0 / ${ie(a(A.value),0)})`;case"bossDeath":case"none":default:return""}};return(A,M)=>(f(),h("div",null,[Fe(sn,{modelValue:i.value,"onUpdate:modelValue":M[0]||(M[0]=P=>i.value=P),placeholder:"Search bosses or rewards..."},null,8,["modelValue"]),r("div",_te,[r("label",wte,[ut(r("input",{type:"checkbox","onUpdate:modelValue":M[1]||(M[1]=P=>l.value=P),class:"sr-only peer"},null,512),[[Xt,l.value]]),M[2]||(M[2]=r("div",{class:"relative w-10 h-5 bg-amber-200 dark:bg-amber-900/40 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white dark:after:bg-amber-100 after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-amber-500"},null,-1)),M[3]||(M[3]=r("span",{class:"ml-2 text-sm text-amber-800 dark:text-amber-200"},"Show player relative strength",-1))])]),l.value?(f(),h("div",Cte,[M[8]||(M[8]=r("h3",{class:"font-medium mb-2 text-amber-800 dark:text-amber-200"},"Your Stats",-1)),r("div",Ste,[r("div",null,[M[4]||(M[4]=r("div",{class:"text-sm text-amber-600 dark:text-amber-400"},"Damage",-1)),r("div",$te,b(g(ie)(g(e).playerStats.damage,0)),1)]),r("div",null,[M[5]||(M[5]=r("div",{class:"text-sm text-amber-600 dark:text-amber-400"},"Health",-1)),r("div",Ete,b(g(ie)(g(e).playerStats.maxHealth,0)),1)]),r("div",null,[M[6]||(M[6]=r("div",{class:"text-sm text-amber-600 dark:text-amber-400"},"Defense",-1)),r("div",Ate,b(g(ie)(g(e).playerStats.defense,0)),1)]),r("div",null,[M[7]||(M[7]=r("div",{class:"text-sm text-amber-600 dark:text-amber-400"},"Regeneration",-1)),r("div",Mte,b(g(ie)(g(e).playerStats.regen,0))+"/s",1)])])])):Q("",!0),r("div",Pte,[(f(!0),h(Ce,null,De(S.value,P=>(f(),h("div",{key:P.id,class:V(["border border-amber-300 dark:border-amber-700 rounded-lg overflow-hidden bg-amber-50/50 dark:bg-amber-900/10",{"border-green-400 dark:border-green-600":l.value&&u(P.id),"border-yellow-400 dark:border-yellow-600":l.value&&!u(P.id)&&m(P.id),"border-red-400 dark:border-red-600":l.value&&!m(P.id)}])},[r("div",{onClick:L=>c(P.id),class:"p-3 flex justify-between items-center cursor-pointer hover:bg-amber-100 dark:hover:bg-amber-900/20 transition-colors"},[r("div",Lte,[r("div",Ite,[_(P.id)?(f(),h("img",{key:0,src:_(P.id)||"",alt:P.name,class:"w-full h-full object-contain"},null,8,Dte)):(f(),h("span",{key:1,class:V(["i-heroicons-trophy text-3xl absolute inset-0 flex items-center justify-center",[u(P.id)?"text-green-600 dark:text-green-400":m(P.id)?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"]])},null,2))]),r("div",null,[r("div",Fte,b(P.name),1),r("div",Rte,b(P.description),1)])]),r("div",Ute,[r("div",Bte,[r("div",null,[M[9]||(M[9]=r("span",{class:"font-medium"},"HP:",-1)),se(" "+b(g(ie)(P.maxHealth,0)),1)]),r("div",null,[M[10]||(M[10]=r("span",{class:"font-medium"},"DMG:",-1)),se(" "+b(g(ie)(P.damage,0)),1)])]),r("span",{class:V(["transition-transform",d(P.id)?"rotate-180":""])},M[11]||(M[11]=[r("span",{class:"i-heroicons-chevron-down text-amber-600 dark:text-amber-400"},null,-1)]),2)])],8,Tte),d(P.id)?(f(),h("div",qte,[r("div",Ote,[r("div",null,[M[18]||(M[18]=r("h3",{class:"font-medium mb-2 text-amber-800 dark:text-amber-200"},"Stats",-1)),r("div",Nte,[r("div",null,[M[12]||(M[12]=r("span",{class:"font-medium"},"ID:",-1)),se(" "+b(P.id),1)]),r("div",null,[M[13]||(M[13]=r("span",{class:"font-medium"},"Health:",-1)),se(" "+b(g(ie)(P.maxHealth,0)),1)]),r("div",null,[M[14]||(M[14]=r("span",{class:"font-medium"},"Damage:",-1)),se(" "+b(g(ie)(P.damage,0)),1)]),r("div",null,[M[15]||(M[15]=r("span",{class:"font-medium"},"Defense:",-1)),se(" "+b(g(ie)(P.defense,0)),1)]),r("div",null,[M[16]||(M[16]=r("span",{class:"font-medium"},"Effective Damage:",-1)),se(" "+b(g(ie)(g(e).playerStats.damage.minus(P.defense),0))+" (per hit)",1)])]),r("div",Hte,[M[17]||(M[17]=r("h3",{class:"font-medium mb-2 text-amber-800 dark:text-amber-200"},"Unlock Requirements",-1)),r("div",jte,[(f(!0),h(Ce,null,De(P.unlockRequirements,(L,B)=>(f(),h("div",{key:B},[r("div",{class:V(["flex items-center text-xs",[x(L)?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"]])},[r("span",{class:V(["mr-1.5 text-sm flex-shrink-0",[x(L)?"i-heroicons-check-circle-solid":"i-heroicons-x-circle-solid"]])},null,2),r("span",null,[se(b(C(L))+" ",1),$(L)?(f(),h("span",Gte,b($(L)),1)):Q("",!0)])],2)]))),128)),!P.unlockRequirements||P.unlockRequirements.length===0?(f(),h("div",Vte," No requirements. ")):Q("",!0)])]),l.value?(f(),h("div",{key:0,class:V(["mt-4 p-2 rounded-md",{"bg-green-100 dark:bg-green-900/20 border border-green-300 dark:border-green-800":u(P.id),"bg-yellow-100 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-800":!u(P.id)&&m(P.id),"bg-red-100 dark:bg-red-900/20 border border-red-300 dark:border-red-800":!m(P.id)}])},[r("div",{class:V(["font-medium mb-1",{"text-green-700 dark:text-green-300":u(P.id),"text-yellow-700 dark:text-yellow-300":!u(P.id)&&m(P.id),"text-red-700 dark:text-red-300":!m(P.id)}])},b(u(P.id)?"One-hit Kill":m(P.id)?"Can Defeat":"Too Strong"),3),r("div",{class:V(["text-xs",{"text-green-600 dark:text-green-400":u(P.id),"text-yellow-600 dark:text-yellow-400":!u(P.id)&&m(P.id),"text-red-600 dark:text-red-400":!m(P.id)}])},b(u(P.id)?"You can kill this boss in one hit!":m(P.id)?"You can defeat this boss, but it will take multiple hits.":"This boss is too strong for you right now."),3)],2)):Q("",!0)]),r("div",null,[M[23]||(M[23]=r("h3",{class:"font-medium mb-2 text-amber-800 dark:text-amber-200"},"Rewards",-1)),r("div",Qte,[P.reward.food?(f(),h("div",zte,[M[19]||(M[19]=r("div",{class:"font-medium"},"Food",-1)),r("div",Wte,b(g(ie)(P.reward.food,0)),1)])):Q("",!0),P.reward.essence?(f(),h("div",Yte,[M[20]||(M[20]=r("div",{class:"font-medium"},"Pheromone Essence",-1)),r("div",Kte,b(g(ie)(P.reward.essence,0)),1)])):Q("",!0),P.reward.guaranteedItemId?(f(),h("div",Xte,[r("div",Zte,[r("div",null,[r("div",Jte,b(y(P.reward.guaranteedItemId)),1),r("div",ese,[M[21]||(M[21]=se(" Guaranteed drop ")),P.reward.itemChance&&P.reward.itemChance<1?(f(),h("span",tse," ("+b(p(P.reward.itemChance))+" chance) ",1)):Q("",!0)])])])])):Q("",!0),P.specialAbilities&&P.specialAbilities.length>0?(f(),h("div",sse,[M[22]||(M[22]=r("div",{class:"font-medium mb-1"},"Special Abilities",-1)),r("div",ose,[(f(!0),h(Ce,null,De(P.specialAbilities,L=>(f(),h("div",{key:L.name,class:"text-xs"},[r("div",rse,b(L.name),1),r("div",nse,b(L.type==="periodicDamage"?`Deals ${g(ie)(L.value,0)} damage`:L.type==="defenseBuff"?`Increases defense by ${g(ie)(L.value,0)}x`:L.type==="playerDebuff"?`Reduces player damage by ${g(ie)(L.value.mul(100),0)}%`:"")+" ("+b(L.cooldown)+"s cooldown) ",1)]))),128))])])):Q("",!0)])])])])):Q("",!0)],2))),128))]),S.value.length===0?(f(),h("div",ase," No bosses found matching your search query. ")):Q("",!0)]))}}),Eh=st(ise,[["__scopeId","data-v-5bdc8df9"]]),lse={class:"mb-6"},cse={class:"mb-6 p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800"},dse={class:"flex flex-col gap-2"},use={class:"flex items-center gap-4"},mse={class:"text-sm font-medium w-16 text-right"},pse={class:"flex justify-between text-xs text-amber-600 dark:text-amber-500"},fse={class:"flex gap-2"},gse={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},hse={class:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800"},bse={class:"space-y-2"},vse={class:"flex justify-between"},yse={class:"font-medium"},xse={class:"flex justify-between"},kse={class:"font-medium"},_se={class:"flex justify-between"},wse={class:"font-medium"},Cse={class:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800"},Sse={class:"space-y-2"},$se={class:"flex justify-between"},Ese={class:"font-medium"},Ase={class:"flex justify-between"},Mse={class:"font-medium"},Pse={class:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800"},Tse={class:"space-y-2"},Lse={class:"flex justify-between"},Ise={class:"font-medium"},Dse={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Fse={class:"p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700"},Rse={class:"h-80"},Use={class:"p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700"},Bse={class:"h-80"},qse={class:"mt-6 p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700"},Ose={class:"h-80"},Nse={class:"mt-6 p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700"},Hse={class:"h-80"},jse=Ue({__name:"PrestigeProgressionWiki",setup(t){wi.register(L1,D1,P1,$n,Gl,Vl,g0,Oa);const e=ct(),s=W(100),o=W(30),n=W(50),i=W(100),l=C=>{s.value=C,o.value=Math.min(C,100),n.value=C,i.value=C},c=R(()=>{const C=[],x=[];for(let A=0;A<s.value;A++){C.push(`Evolution ${A}`);const M=e.calculateRequiredLoopsForEvolution(A).toNumber();x.push(M)}const $=e.evolutionCount.toNumber();return{labels:C,datasets:[{label:"Cycles Required",data:x,borderColor:"rgb(234, 88, 12)",backgroundColor:"rgba(234, 88, 12, 0.1)",tension:.1,pointRadius:A=>A.dataIndex===$?6:3,pointBackgroundColor:A=>A.dataIndex===$?"rgb(234, 88, 12)":"rgba(234, 88, 12, 0.7)",pointBorderColor:A=>A.dataIndex===$?"white":"rgb(234, 88, 12)",pointHoverRadius:7}]}}),d=R(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0},title:{display:!0,text:"Cycles Required per Evolution"},tooltip:{callbacks:{label:C=>{const x=C.dataIndex,$=C.raw;return`Evolution ${x}: ${$} cycles required`}}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Cycles Required"}},x:{title:{display:!0,text:"Evolution"},ticks:{maxTicksLimit:10,callback:(C,x)=>x%10===0?`${x}`:""}}}})),u=R(()=>{const C=[],x=[];for(let A=0;A<o.value;A++){C.push(`Cycle ${A}`);const M=e.calculateFoodForCycle(A).toNumber();x.push(M)}const $=e.loopsCompleted.toNumber();return{labels:C,datasets:[{label:"Food Required",data:x,borderColor:"rgb(16, 185, 129)",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.1,pointRadius:A=>A.dataIndex===$?6:3,pointBackgroundColor:A=>A.dataIndex===$?"rgb(16, 185, 129)":"rgba(16, 185, 129, 0.7)",pointBorderColor:A=>A.dataIndex===$?"white":"rgb(16, 185, 129)",pointHoverRadius:7}]}}),m=R(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0},title:{display:!0,text:"Food Required per Cycle"},tooltip:{callbacks:{label:C=>{const x=C.dataIndex,$=C.raw;return`Cycle ${x}: ${ie(new be($),0)} food required`}}}},scales:{y:{type:"logarithmic",title:{display:!0,text:"Food Required (log scale)"}},x:{title:{display:!0,text:"Cycle"}}}})),p=R(()=>{const C=[],x=[];for(let P=1;P<=i.value;P+=1){C.push(`${P} cycles`);const L=e.calculateEPGainForCycles(P).toNumber();x.push(L)}const $=e.loopsCompleted.toNumber(),A=Math.min($-1,i.value-1),M=Math.max(0,A);return{labels:C,datasets:[{label:"EP Gain",data:x,borderColor:"rgb(79, 70, 229)",backgroundColor:"rgba(79, 70, 229, 0.1)",tension:.1,pointRadius:P=>P.dataIndex===M?6:3,pointBackgroundColor:P=>P.dataIndex===M?"rgb(79, 70, 229)":"rgba(79, 70, 229, 0.7)",pointBorderColor:P=>P.dataIndex===M?"white":"rgb(79, 70, 229)",pointHoverRadius:7}]}}),y=R(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0},title:{display:!0,text:"Evolution Points Gain by Cycles Completed"},tooltip:{callbacks:{label:C=>{const x=C.dataIndex+1,$=C.raw;return`${x} cycles: ${ie(new be($),2)} EP gain`}}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"EP Gain"}},x:{title:{display:!0,text:"Cycles Completed"},ticks:{maxTicksLimit:20,callback:(C,x)=>(x+1)%5===0?`${x+1}`:""}}}})),v=R(()=>{const C=[],x=[];for(let A=0;A<n.value;A++){C.push(`Cycle ${A}`);const M=e.calculateTripsPerCycle(A).toNumber();x.push(M)}const $=e.loopsCompleted.toNumber();return{labels:C,datasets:[{label:"Trips Required",data:x,borderColor:"rgb(124, 58, 237)",backgroundColor:"rgba(124, 58, 237, 0.1)",tension:.1,pointRadius:A=>A.dataIndex===$?6:3,pointBackgroundColor:A=>A.dataIndex===$?"rgb(124, 58, 237)":"rgba(124, 58, 237, 0.7)",pointBorderColor:A=>A.dataIndex===$?"white":"rgb(124, 58, 237)",pointHoverRadius:7}]}}),S=R(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0},title:{display:!0,text:"Trips Required per Cycle"},tooltip:{callbacks:{label:C=>{const x=C.dataIndex,$=C.raw;return`Cycle ${x}: ${ie(new be($),1)} trips required`}}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Trips Required"}},x:{title:{display:!0,text:"Cycle"},ticks:{maxTicksLimit:10,callback:(C,x)=>x%5===0?`${x}`:""}}}})),_=R(()=>({evolutionCount:e.formatEvolutionCount(),loopsCompleted:e.formatLoopsCompleted(),requiredLoops:e.formatRequiredLoops(),ticksPerLoop:e.formatTicksPerLoop(),foodForNextLoop:e.formatFoodForNextLoop(),potentialEPGain:e.formatPotentialEPGain()}));return(C,x)=>(f(),h("div",null,[r("div",lse,[x[26]||(x[26]=r("h2",{class:"text-xl font-bold mb-4 text-amber-800 dark:text-amber-300"},"Evolution Progression",-1)),r("div",cse,[x[7]||(x[7]=r("h3",{class:"text-lg font-medium mb-3 text-amber-700 dark:text-amber-300"},"Chart Data Range",-1)),r("div",dse,[r("div",use,[x[5]||(x[5]=r("span",{class:"text-sm text-amber-700 dark:text-amber-400 w-40"},"Show data for:",-1)),ut(r("input",{type:"range",min:"50",max:"500",step:"50","onUpdate:modelValue":x[0]||(x[0]=$=>s.value=$),class:"flex-grow h-2 bg-amber-200 rounded-lg appearance-none cursor-pointer dark:bg-amber-700",onChange:x[1]||(x[1]=$=>l(s.value))},null,544),[[Po,s.value,void 0,{number:!0}]]),r("span",mse,b(s.value),1)]),r("div",pse,[x[6]||(x[6]=r("span",null,"Cycles/Evolutions",-1)),r("div",fse,[r("button",{onClick:x[2]||(x[2]=$=>l(100)),class:"px-2 py-1 bg-amber-200 dark:bg-amber-800 rounded hover:bg-amber-300 dark:hover:bg-amber-700 transition-colors"}," 100 "),r("button",{onClick:x[3]||(x[3]=$=>l(200)),class:"px-2 py-1 bg-amber-200 dark:bg-amber-800 rounded hover:bg-amber-300 dark:hover:bg-amber-700 transition-colors"}," 200 "),r("button",{onClick:x[4]||(x[4]=$=>l(500)),class:"px-2 py-1 bg-amber-200 dark:bg-amber-800 rounded hover:bg-amber-300 dark:hover:bg-amber-700 transition-colors"}," 500 ")])])])]),r("div",gse,[r("div",hse,[x[11]||(x[11]=r("h3",{class:"text-lg font-medium mb-2 text-amber-700 dark:text-amber-300"},"Current Evolution",-1)),r("div",bse,[r("div",vse,[x[8]||(x[8]=r("span",{class:"text-sm text-amber-700 dark:text-amber-400"},"Evolution Count:",-1)),r("span",yse,b(_.value.evolutionCount),1)]),r("div",xse,[x[9]||(x[9]=r("span",{class:"text-sm text-amber-700 dark:text-amber-400"},"Cycles Completed:",-1)),r("span",kse,b(_.value.loopsCompleted),1)]),r("div",_se,[x[10]||(x[10]=r("span",{class:"text-sm text-amber-700 dark:text-amber-400"},"Cycles Required:",-1)),r("span",wse,b(_.value.requiredLoops),1)])])]),r("div",Cse,[x[14]||(x[14]=r("h3",{class:"text-lg font-medium mb-2 text-amber-700 dark:text-amber-300"},"Current Cycle",-1)),r("div",Sse,[r("div",$se,[x[12]||(x[12]=r("span",{class:"text-sm text-amber-700 dark:text-amber-400"},"Trips per Cycle:",-1)),r("span",Ese,b(_.value.ticksPerLoop),1)]),r("div",Ase,[x[13]||(x[13]=r("span",{class:"text-sm text-amber-700 dark:text-amber-400"},"Food for Next Cycle:",-1)),r("span",Mse,b(_.value.foodForNextLoop),1)])])]),r("div",Pse,[x[17]||(x[17]=r("h3",{class:"text-lg font-medium mb-2 text-amber-700 dark:text-amber-300"},"Evolution Points",-1)),r("div",Tse,[r("div",Lse,[x[15]||(x[15]=r("span",{class:"text-sm text-amber-700 dark:text-amber-400"},"Potential EP Gain:",-1)),r("span",Ise,b(_.value.potentialEPGain),1)]),x[16]||(x[16]=r("div",{class:"mt-4 text-xs text-amber-600 dark:text-amber-500"}," EP gain is based on completed cycles using a formula that provides increasing returns as you complete more cycles. ",-1))])])]),r("div",Dse,[r("div",Fse,[x[18]||(x[18]=r("h3",{class:"text-lg font-medium mb-4 text-gray-800 dark:text-gray-200"},"Cycles Required per Evolution",-1)),r("div",Rse,[Fe(g(En),{data:c.value,options:d.value},null,8,["data","options"])]),x[19]||(x[19]=r("div",{class:"mt-4 text-xs text-gray-600 dark:text-gray-400"}," The number of cycles required increases with each evolution, making each reset progressively more challenging. ",-1))]),r("div",Use,[x[20]||(x[20]=r("h3",{class:"text-lg font-medium mb-4 text-gray-800 dark:text-gray-200"},"Food Required per Cycle",-1)),r("div",Bse,[Fe(g(En),{data:u.value,options:m.value},null,8,["data","options"])]),x[21]||(x[21]=r("div",{class:"mt-4 text-xs text-gray-600 dark:text-gray-400"}," Food requirements increase exponentially with each cycle, shown on a logarithmic scale. This scaling is based on the formula used in the game's calculations. ",-1))])]),r("div",qse,[x[22]||(x[22]=r("h3",{class:"text-lg font-medium mb-4 text-gray-800 dark:text-gray-200"},"EP Gain by Cycles Completed",-1)),r("div",Ose,[Fe(g(En),{data:p.value,options:y.value},null,8,["data","options"])]),x[23]||(x[23]=r("div",{class:"mt-4 text-xs text-gray-600 dark:text-gray-400"}," Completing more cycles before evolving provides increasing returns of Evolution Points. The game uses a formula that rewards completing more cycles with progressively higher EP gains. ",-1))]),r("div",Nse,[x[24]||(x[24]=r("h3",{class:"text-lg font-medium mb-4 text-gray-800 dark:text-gray-200"},"Trips Required per Cycle Progression",-1)),r("div",Hse,[Fe(g(En),{data:v.value,options:S.value},null,8,["data","options"])]),x[25]||(x[25]=r("div",{class:"mt-4 text-xs text-gray-600 dark:text-gray-400"}," The number of trips (ticks) required per cycle increases as you complete more cycles. This is based on the formula used in the game's calculations. ",-1))])]),x[27]||(x[27]=qt('<div class="mt-8 p-6 bg-amber-50 dark:bg-amber-900/10 rounded-lg border border-amber-200 dark:border-amber-800" data-v-311367eb><h3 class="text-lg font-medium mb-4 text-amber-800 dark:text-amber-300" data-v-311367eb>Evolution Mechanics Explained</h3><div class="space-y-4 text-sm text-amber-800 dark:text-amber-300" data-v-311367eb><p data-v-311367eb><span class="font-medium" data-v-311367eb>Evolution</span> is the prestige mechanic that allows you to reset your progress in exchange for Evolution Points (EP). These points can be spent on permanent upgrades that make future runs faster and more efficient. </p><div data-v-311367eb><h4 class="font-medium mb-2" data-v-311367eb>Key Concepts:</h4><ul class="list-disc list-inside space-y-2 ml-2" data-v-311367eb><li data-v-311367eb><span class="font-medium" data-v-311367eb>Cycles</span>: Complete cycles by either making enough trips (ticks) or collecting enough food.</li><li data-v-311367eb><span class="font-medium" data-v-311367eb>Evolution Requirements</span>: The number of cycles required to evolve increases with each evolution.</li><li data-v-311367eb><span class="font-medium" data-v-311367eb>EP Gain</span>: The amount of EP you gain is based on how many cycles you complete before evolving.</li><li data-v-311367eb><span class="font-medium" data-v-311367eb>Scaling Difficulty</span>: Both trip requirements and food requirements increase as you progress.</li></ul></div><p data-v-311367eb> To maximize your EP gain, complete as many cycles as possible before evolving, especially since later cycles provide more EP due to the quadratic formula used for EP calculation. </p></div></div>',1))]))}}),Ah=st(jse,[["__scopeId","data-v-311367eb"]]),Gse={class:"wiki-page"},Vse={class:"border-b border-amber-300 dark:border-amber-700 mb-6"},Qse={class:"flex flex-wrap gap-1"},zse=["onClick"],Wse={class:"mb-4"},Yse={class:"text-xl font-medium mb-2"},Kse=Ue({__name:"WikiPage",setup(t){const e=zo(),s=[{id:"prestige-upgrades",label:"Prestige Upgrades",icon:"i-heroicons-sparkles",component:kh},{id:"prestige-progression",label:"Evolution Progression",icon:"i-heroicons-chart-bar",component:Ah},{id:"pheromone-shop",label:"Pheromone Shop",icon:"i-heroicons-beaker",component:_h},{id:"mega-ant",label:"Mega Ant",icon:"i-heroicons-bug-ant",component:$h},{id:"boss-wiki",label:"Bosses",icon:"i-heroicons-trophy",component:Eh},{id:"bugs-wiki",label:"Bugs & Drops",icon:"i-heroicons-bug-dash",component:wh},{id:"items-wiki",label:"Items",icon:"i-heroicons-shield",component:Ch},{id:"generators-wiki",label:"Generators",icon:"i-heroicons-command-line",component:Sh}],o=n=>{e.setActiveTab(n)};return(n,i)=>(f(),h("div",Gse,[i[1]||(i[1]=r("div",{class:"flex justify-between items-center mb-6"},[r("h1",{class:"text-2xl font-bold"},"Game Wiki")],-1)),r("div",Vse,[r("div",Qse,[(f(),h(Ce,null,De(s,l=>r("button",{key:l.id,onClick:c=>o(l.id),class:V(["px-4 py-2 -mb-px text-sm font-medium transition-colors flex items-center gap-2",g(e).activeTab===l.id?"border-b-2 border-amber-500 text-amber-800 dark:text-amber-300":"text-amber-700/70 dark:text-amber-300/70 hover:text-amber-900 dark:hover:text-amber-200 hover:bg-amber-100/50 dark:hover:bg-amber-900/20 rounded-t-md"])},[r("span",{class:V(l.icon)},null,2),se(" "+b(l.label),1)],10,zse)),64))])]),r("div",null,[g(e).activeTab==="prestige-upgrades"?(f(),rt(kh,{key:0})):Q("",!0),g(e).activeTab==="prestige-progression"?(f(),rt(Ah,{key:1})):Q("",!0),g(e).activeTab==="pheromone-shop"?(f(),rt(_h,{key:2})):Q("",!0),g(e).activeTab==="mega-ant"?(f(),rt($h,{key:3})):Q("",!0),g(e).activeTab==="boss-wiki"?(f(),rt(Eh,{key:4})):Q("",!0),g(e).activeTab==="bugs-wiki"?(f(),rt(wh,{key:5})):Q("",!0),g(e).activeTab==="items-wiki"?(f(),rt(Ch,{key:6})):Q("",!0),g(e).activeTab==="generators-wiki"?(f(),rt(Sh,{key:7})):Q("",!0)]),(f(!0),h(Ce,null,De(s.filter(l=>!l.component&&g(e).activeTab===l.id),l=>(f(),h("div",{key:l.id,class:"p-8 text-center text-amber-600 dark:text-amber-400 border border-amber-200 dark:border-amber-800 rounded-lg"},[r("div",Wse,[r("span",{class:V([l.icon,"text-4xl opacity-50"])},null,2)]),r("h3",Yse,b(l.label)+" Wiki",1),i[0]||(i[0]=r("p",null,"This section is under development and will be available soon.",-1))]))),128))]))}}),Xse=st(Kse,[["__scopeId","data-v-3e180d60"]]),Zse={class:"space-y-4 px-2 sm:px-0"},Jse={key:1,class:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg shadow-sm"},eoe=Ue({__name:"QuestsPage",setup(t){const e=Vt();return(s,o)=>(f(),h("div",Zse,[o[1]||(o[1]=r("h1",{class:"text-xl font-bold mb-2 flex items-center"},[r("span",{class:"i-heroicons-clipboard-document-list text-blue-700 dark:text-blue-500 mr-2"}),se(" Quests ")],-1)),g(e).isQuestsUnlocked?(f(),rt(Wy,{key:0})):(f(),h("div",Jse,o[0]||(o[0]=[r("h2",{class:"text-lg font-semibold mb-2"},"Quests Locked",-1),r("p",{class:"text-gray-700 dark:text-gray-300"}," Complete more of your adventure to unlock the Quests system! ",-1)]))),Fe(wr,{threshold:400})]))}}),toe="/assets/finger-CWxvMBt2.png",soe={class:"sim-fullscreen"},ooe={class:"absolute top-3 right-3 z-10"},roe=["aria-label"],noe={key:0,class:"i-heroicons-x-mark w-5 h-5"},aoe={key:1,class:"i-heroicons-information-circle w-5 h-5"},ioe={class:"bg-amber-50/90 dark:bg-gray-800/90 rounded-lg shadow-md p-3 backdrop-blur-sm"},loe={class:"text-xs mt-1"},coe={class:"text-xs mt-1 space-y-1"},doe={key:0,class:"text-amber-600 dark:text-amber-400 font-medium"},uoe={key:1,class:"text-amber-600 dark:text-amber-400 font-medium"},moe={key:2},poe={key:0,class:"block text-[10px]"},foe={class:"mt-2"},goe={class:"space-y-2"},hoe={for:"speed-control",class:"block text-xs font-medium mb-1"},boe={class:"flex items-center"},voe={for:"food-toggle",class:"ml-2 text-xs"},yoe={key:0},xoe={key:0,class:"pt-1 border-t border-amber-200/50 dark:border-gray-700/50 mt-1"},koe={key:0,class:"i-heroicons-chevron-down w-3 h-3"},_oe={key:1,class:"i-heroicons-chevron-right w-3 h-3"},woe={key:0,class:"mt-2 space-y-2"},Coe={for:"size-control",class:"block text-xs font-medium mb-1"},Soe={class:"bg-amber-100/50 dark:bg-gray-700/50 p-2 rounded text-xs"},$oe={key:0},Eoe={key:1},pa=80,Aoe=Ue({__name:"SimulationPage",setup(t){const e=vt(),{width:s,height:o}=j0(),n=W(null),i=W(null),l=W(null),c=W(null),d=R(()=>vr()),u=W(!1),m=W(!1),p=W(1),y=W(!0),v=W(1),S=W(5),_=W([]),C=W(!1),x=W(null),$=W(0),A=W(0),M=W(0),P=W(!1),L=R(()=>Number(p.value).toFixed(1)),B=R(()=>Number(v.value).toFixed(1)),k=R(()=>{const E=e.getGenerator("worker");return!E||E.count.eq(0)?"0":ie(E.count,0)});R(()=>Math.pow(10,I.value/10).toFixed(0));const I=R(()=>{const E=e.getGenerator("worker");if(!E||E.count.eq(0))return 1;const w=E.count.toNumber();if(w<100)return Math.max(1,Math.floor(w));const F=Math.floor(Math.log10(w)*10);return Math.min(F,150)}),N=W([]),U=W([]),j=W([]),ee=R(()=>{const F=s.value*o.value/(1920*1080),q=Math.floor(F*15);return Math.max(3,Math.min(3+q,25))}),ne=W(!1),oe=W(1),O=W(null),Y=W(null),G=(E,w)=>{if(!n.value)return{x:0,y:0};const F=n.value,q=F.getBoundingClientRect(),Z=F.width/q.width,J=F.height/q.height;return{x:(E-q.left)*Z,y:(w-q.top)*J}},de=(E,w,F)=>{if(!y.value||F>=_.value.length)return!1;const q=_.value[F];return K(E,w,q.x,q.y)<q.size*1.2},re=(E,w)=>{if(!y.value)return null;for(let F=_.value.length-1;F>=0;F--)if(de(E,w,F))return F;return null},he=E=>{if(!y.value||C.value)return;const{x:w,y:F}=G(E.clientX,E.clientY),q=re(w,F);P.value=q!==null,n.value&&(n.value.style.cursor=P.value?"grab":"default")},ve=E=>{if(!y.value||_.value.length===0)return!1;let w,F;if(E instanceof MouseEvent)w=E.clientX,F=E.clientY;else if(E.touches&&E.touches.length>0)w=E.touches[0].clientX,F=E.touches[0].clientY,E.preventDefault();else return!1;const q=G(w,F),Z=re(q.x,q.y);if(Z!==null){C.value=!0,x.value=Z;const J=_.value[Z];return $.value=q.x-J.x,A.value=q.y-J.y,M.value=Date.now(),n.value&&(n.value.style.cursor="grabbing"),!0}return!1},Se=E=>{if(!C.value||x.value===null)return;let w,F;if(E instanceof MouseEvent)w=E.clientX,F=E.clientY;else if(E.touches&&E.touches.length>0)w=E.touches[0].clientX,F=E.touches[0].clientY,E.preventDefault();else return;const q=G(w,F),Z=q.x-$.value,J=q.y-A.value;x.value<_.value.length&&(_.value[x.value].x=Z,_.value[x.value].y=J)},Me=E=>{const w=Date.now()-M.value;if(C.value&&w<150){if(E instanceof MouseEvent)E.clientX,E.clientY;else if(E.changedTouches&&E.changedTouches.length>0)E.changedTouches[0].clientX,E.changedTouches[0].clientY;else{C.value=!1,x.value=null,n.value&&(n.value.style.cursor="default");return}_e()}C.value=!1,x.value=null,n.value&&(E instanceof MouseEvent?he(E):n.value.style.cursor="default")},Oe=E=>{if(C.value)return!1;let w,F;if(E instanceof MouseEvent)w=E.clientX,F=E.clientY;else if(E.touches&&E.touches.length>0)w=E.touches[0].clientX,F=E.touches[0].clientY,E.preventDefault();else return!1;const q=G(w,F);return O.value={x:q.x,y:q.y,active:!0,isDragging:!1},_e(),!0},He=E=>{var Z;if(!((Z=O.value)!=null&&Z.active))return;let w,F;if(E instanceof MouseEvent)w=E.clientX,F=E.clientY;else if(E.touches&&E.touches.length>0)w=E.touches[0].clientX,F=E.touches[0].clientY,E.preventDefault();else return;const q=G(w,F);O.value&&(O.value.x=q.x,O.value.y=q.y,O.value.isDragging=!0)},we=()=>{O.value&&setTimeout(()=>{O.value&&(O.value.active=!1)},300)},_e=()=>{ne.value||(oe.value=p.value,ne.value=!0,p.value=oe.value*1.8,setTimeout(()=>{ne.value=!1,p.value=oe.value},2500))},pe=()=>{if(!n.value)return;const E=n.value.width,w=n.value.height,F=E/2,q=w/2,Z=100,J=y.value?ee.value:0;_.value=[];for(let te=0;te<J;te++){const ye=[],$e=Math.random()*20+10,Ee=Math.floor($e/3);for(let ft=0;ft<Ee;ft++){const et=Math.random()*Math.PI*2,ze=Math.random()*($e*.7),Ke=Math.random()*1.5+1;ye.push({angle:et,distance:ze,size:Ke})}let Re,Ne,Ge;do Re=Math.random()*E,Ne=Math.random()*w,Ge=K(Re,Ne,F,q);while(Ge<Z);_.value.push({x:Re,y:Ne,size:$e,value:Math.random()*100+50,seeds:ye})}},me=()=>{if(!n.value)return;const E=n.value.width,w=n.value.height;N.value=[];for(let F=0;F<I.value;F++){const q=Math.random()*2+2;N.value.push({x:Math.random()*E,y:Math.random()*w,size:q*Number(v.value),speed:(Math.random()*1+.5)*Number(p.value),angle:Math.random()*Math.PI*2,color:z(F),wanderAngle:0,hasFood:!1,targetFoodIndex:null,pauseUntil:0,legPhase:Math.random()*Math.PI*2})}},le=()=>{if(!n.value)return;n.value.width,n.value.height;const E=30;U.value=[];const w=40;for(let q=0;q<w;q++){const Z=Math.random()*Math.PI*2,J=Math.random()*(E-5),te=Math.cos(Z)*J,ye=Math.sin(Z)*J,$e=Math.random()*2+1;U.value.push({x:te,y:ye,size:$e})}j.value=[];const F=3+Math.floor(Math.random()*3);for(let q=0;q<F;q++){const Z=q/F*Math.PI*2,J=E*.8+Math.random()*E*.4,te=Math.cos(Z+.2)*(J*.5),ye=Math.sin(Z+.2)*(J*.5),$e=Math.cos(Z)*J,Ee=Math.sin(Z)*J;j.value.push({controlX:te,controlY:ye,endX:$e,endY:Ee})}};tt(()=>{if(Y.value=new Image,Y.value.src=toe,n.value){i.value=n.value.getContext("2d");const E=ye=>{ve(ye)||Oe(ye)},w=ye=>{Se(ye),he(ye),He(ye)},F=ye=>{Me(ye),we()},q=ye=>{ye.preventDefault(),ve(ye)||Oe(ye)},Z=ye=>{Se(ye),He(ye)},J=ye=>{Me(ye),we()};n.value.addEventListener("mousedown",E),window.addEventListener("mousemove",w),window.addEventListener("mouseup",F),n.value.addEventListener("mouseleave",()=>{P.value=!1,n.value&&(n.value.style.cursor="default"),we()}),n.value.addEventListener("touchstart",q,{passive:!1}),window.addEventListener("touchmove",Z,{passive:!1}),window.addEventListener("touchend",J);const te=()=>{n.value&&c.value&&(n.value.width=c.value.clientWidth,n.value.height=Math.min(c.value.clientHeight,window.innerHeight*.5),me(),pe(),le())};te(),window.addEventListener("resize",te),fe(),Ms(()=>{window.removeEventListener("resize",te),n.value&&(n.value.removeEventListener("mousedown",E),n.value.removeEventListener("touchstart",q),n.value.removeEventListener("mouseleave",()=>{})),window.removeEventListener("mousemove",w),window.removeEventListener("mouseup",F),window.removeEventListener("touchmove",Z),window.removeEventListener("touchend",J),l.value!==null&&cancelAnimationFrame(l.value)})}}),Ur(()=>{N.value.length!==I.value&&me()}),Ur(()=>{const E=Number(p.value);N.value.forEach(w=>{w.speed=(Math.random()*1+.5)*E})}),Ur(()=>{const E=Number(v.value);N.value.forEach(w=>{const F=Math.random()*2+2;w.size=F*E})}),Ur(()=>{n.value&&_.value.length!==S.value&&pe()}),Ur(()=>{`${s.value}${o.value}`,n.value&&y.value&&_.value.length!==ee.value&&pe()}),Ur(()=>{n.value&&!y.value?_.value=[]:n.value&&y.value&&_.value.length===0&&pe()});const z=E=>{const w=["#8B4513","#A0522D","#CD853F","#CC7722","#8B5A2B","#61462d"];return E%20===0?"#DAA520":w[E%w.length]},K=(E,w,F,q)=>Math.sqrt(Math.pow(F-E,2)+Math.pow(q-w,2)),H=(E,w,F,q)=>Math.atan2(q-w,F-E),T=E=>{if(y.value&&!E.hasFood&&!(E.pauseUntil>Date.now())){if(E.targetFoodIndex!==null){const w=_.value[E.targetFoodIndex];if(!w){E.targetFoodIndex=null;return}if(K(E.x,E.y,w.x,w.y)<w.size/2){if(E.hasFood=!0,E.targetFoodIndex=null,n.value){const q=n.value.width/2,Z=n.value.height/2;E.angle=H(E.x,E.y,q,Z)}return}E.angle=H(E.x,E.y,w.x,w.y);return}if(Math.random()<.01)for(let w=0;w<_.value.length;w++){const F=_.value[w];if(K(E.x,E.y,F.x,F.y)<100&&Math.random()<.5){E.targetFoodIndex=w,E.angle=H(E.x,E.y,F.x,F.y);break}}}},D=E=>{if(!E.hasFood||!n.value)return;const w=n.value.width/2,F=n.value.height/2;K(E.x,E.y,w,F)<20?(E.hasFood=!1,E.pauseUntil=Date.now()+Math.random()*500+100,E.speed=0,setTimeout(()=>{E.angle=Math.random()*Math.PI*2,E.speed=(Math.random()*1+.5)*Number(p.value),E.wanderAngle=(Math.random()-.5)*.3},Math.random()*500+100)):Math.random()<.05&&(E.angle=H(E.x,E.y,w,F),E.angle+=(Math.random()-.5)*.2)},X=()=>{if(N.value.length>0){const E=N.value[0],w=E.angle;if(E.hasFood&&n.value){const F=n.value.width/2,q=n.value.height/2,Z=H(E.x,E.y,F,q);Math.abs(Z-w)>Math.PI/2&&(E.angle=Z)}}},ae=(E,w,F)=>{var J;if(E.pauseUntil>Date.now())return;if(E.hasFood?D(E):T(E),(J=O.value)!=null&&J.active){const te=K(E.x,E.y,O.value.x,O.value.y);if(te<pa){const ye=H(O.value.x,O.value.y,E.x,E.y),Re=1-Math.max(te,15)/pa,Ne=Math.sin(Re*Math.PI/2);E.angle=E.angle*(1-Ne)+ye*Ne;const Ge=(Math.random()*1+.5)*Number(p.value),et=1+Math.min(Re*2,2.5-1);E.speed=Ge*et}}!E.hasFood&&E.targetFoodIndex===null&&(E.wanderAngle+=(Math.random()-.5)*.1,Math.random()<.01&&(E.wanderAngle=0),E.angle+=E.wanderAngle*.05,Math.random()<.01&&(E.angle+=(Math.random()-.5)*Math.PI*.5),Math.random()<.005&&(E.speed=0,E.pauseUntil=Date.now()+Math.random()*1e3+500,setTimeout(()=>{!E.hasFood&&E.targetFoodIndex===null&&(E.speed=(Math.random()*1+.5)*Number(p.value),E.angle+=(Math.random()-.5)*Math.PI)},Math.random()*1e3+500))),E.speed>0&&(E.legPhase+=E.speed*.3,E.legPhase>Math.PI*2&&(E.legPhase-=Math.PI*2));const q=Math.cos(E.angle)*E.speed,Z=Math.sin(E.angle)*E.speed;E.x+=q,E.y+=Z,E.x<0&&(E.x=w),E.x>w&&(E.x=0),E.y<0&&(E.y=F),E.y>F&&(E.y=0)},ue=E=>{if(!i.value)return;i.value.save(),i.value.translate(E.x,E.y),i.value.rotate(E.angle),i.value.strokeStyle=E.color,i.value.lineWidth=.5;const w=E.size*.6,F=E.size*.5,q=E.size*1.3,Z=E.size*.9,J=E.size*1.5,te=E.size*0,ye=-E.size*1.8;if(i.value.fillStyle=E.color,i.value.beginPath(),i.value.ellipse(ye,0,q,Z,0,0,Math.PI*2),i.value.fill(),i.value.fillStyle=E.color,i.value.beginPath(),i.value.ellipse(te,0,F,F*1.4,0,0,Math.PI*2),i.value.fill(),i.value.beginPath(),i.value.arc(J,0,w,0,Math.PI*2),i.value.fill(),i.value.beginPath(),i.value.moveTo(J+w*.5,-w*.3),i.value.lineTo(J+w*2.5,-w*1.8),i.value.stroke(),i.value.beginPath(),i.value.moveTo(J+w*.5,w*.3),i.value.lineTo(J+w*2.5,w*1.8),i.value.stroke(),E.hasFood){const ft=J+w*1.2,et=0,ze=w*.8;i.value.save(),i.value.translate(ft,et);const Ke=E.x*E.y%6.28;i.value.rotate(Ke),i.value.fillStyle="#7CB342",i.value.beginPath(),i.value.moveTo(0,0),i.value.lineTo(-ze*.5,-ze*.2),i.value.lineTo(-ze*.7,-ze*.1),i.value.lineTo(-ze*.6,ze*.1),i.value.lineTo(-ze*.8,ze*.3),i.value.lineTo(-ze*.5,ze*.4),i.value.quadraticCurveTo(0,ze*.5,ze*.5,ze*.3),i.value.quadraticCurveTo(ze*.7,0,ze*.4,-ze*.4),i.value.closePath(),i.value.fill(),i.value.strokeStyle="#558B2F",i.value.lineWidth=.5,i.value.beginPath(),i.value.moveTo(0,0),i.value.quadraticCurveTo(ze*.2,ze*.1,ze*.3,ze*.2),i.value.stroke(),i.value.beginPath(),i.value.moveTo(0,0),i.value.quadraticCurveTo(-ze*.2,-ze*.1,-ze*.3,-ze*.2),i.value.stroke(),i.value.restore()}const $e=E.size*1.9,Ee=E.legPhase,Re=Math.sin(Ee)*.4,Ne=Math.sin(Ee+Math.PI*.66)*.4,Ge=Math.sin(Ee+Math.PI*1.33)*.4;i.value.beginPath(),i.value.moveTo(te+F,F*.7),i.value.lineTo(te+F+Re*E.size,F+$e*.8),i.value.stroke(),i.value.beginPath(),i.value.moveTo(te+F,-F*.7),i.value.lineTo(te+F-Re*E.size,-F-$e*.8),i.value.stroke(),i.value.beginPath(),i.value.moveTo(te,F*.8),i.value.lineTo(te+Ne*E.size,F+$e),i.value.stroke(),i.value.beginPath(),i.value.moveTo(te,-F*.8),i.value.lineTo(te-Ne*E.size,-F-$e),i.value.stroke(),i.value.beginPath(),i.value.moveTo(te-F,F*.7),i.value.lineTo(te-F+Ge*E.size,F+$e*.8),i.value.stroke(),i.value.beginPath(),i.value.moveTo(te-F,-F*.7),i.value.lineTo(te-F-Ge*E.size,-F-$e*.8),i.value.stroke(),i.value.restore()},ke=()=>{!i.value||!y.value||_.value.forEach((E,w)=>{const F=E.x,q=E.y;if(i.value.save(),i.value.translate(F,q),i.value.rotate(E.value%6.28),i.value.fillStyle="#7CB342",x.value===w){const ye=E.size*2.5,$e=i.value.createRadialGradient(0,0,E.size,0,0,ye);$e.addColorStop(0,"rgba(255, 215, 0, 0.6)"),$e.addColorStop(1,"rgba(255, 215, 0, 0)"),i.value.fillStyle=$e,i.value.beginPath(),i.value.arc(0,0,ye,0,Math.PI*2),i.value.fill(),i.value.fillStyle="#8BC34A"}i.value.beginPath();const Z=E.size*1.8,J=E.size*.9;i.value.moveTo(0,Z*.5);for(let ye=0;ye<5;ye++){const $e=J*Math.sin(ye/4*Math.PI),Ee=Z*.5-Z*(ye/4),Re=$e+J*.3,Ne=Ee+Z*.05;i.value.quadraticCurveTo(Re,Ne,$e,Ee)}i.value.lineTo(0,-Z*.5);for(let ye=4;ye>=0;ye--){const $e=-J*Math.sin(ye/4*Math.PI),Ee=Z*.5-Z*(ye/4),Re=$e-J*.3,Ne=Ee+Z*.05;i.value.quadraticCurveTo(Re,Ne,$e,Ee)}if(i.value.closePath(),i.value.fill(),x.value===w){const ye=Date.now()%1e3/1e3,$e=.5+Math.sin(ye*Math.PI*2)*.5;i.value.strokeStyle=`rgba(255, 215, 0, ${$e})`,i.value.lineWidth=2,i.value.stroke()}i.value.strokeStyle="#558B2F",i.value.lineWidth=2,i.value.beginPath(),i.value.moveTo(0,Z*.5),i.value.lineTo(0,Z*.7),i.value.stroke(),i.value.strokeStyle="#558B2F",i.value.lineWidth=.8,i.value.beginPath(),i.value.moveTo(0,Z*.5),i.value.lineTo(0,-Z*.45),i.value.stroke();const te=3+Math.floor(E.size/8);for(let ye=0;ye<te;ye++){const $e=Z*.3-ye*Z*.6/te,Ee=J*.7*(1-Math.abs($e)/(Z*.5));i.value.beginPath(),i.value.moveTo(0,$e),i.value.quadraticCurveTo(Ee*.5,$e-$e*.2,Ee,$e-$e*.3),i.value.stroke(),i.value.beginPath(),i.value.moveTo(0,$e),i.value.quadraticCurveTo(-Ee*.5,$e-$e*.2,-Ee,$e-$e*.3),i.value.stroke()}i.value.fillStyle="#8D6E63";for(let ye=0;ye<E.seeds.length;ye+=3)if(ye<E.seeds.length){const $e=E.seeds[ye],Ee=Math.cos($e.angle)*$e.distance*.5,Re=Math.sin($e.angle)*$e.distance*.8;Math.abs(Ee)<J*Math.cos(Math.PI*Math.abs(Re)/Z)&&(i.value.beginPath(),i.value.arc(Ee,Re,$e.size*.7,0,Math.PI*2),i.value.fill())}i.value.restore()})},ge=()=>{if(!i.value||!n.value)return;const E=n.value.width/2,w=n.value.height/2,F=30;i.value.fillStyle="#8B4513",i.value.beginPath(),i.value.arc(E,w,F,0,Math.PI*2),i.value.fill(),i.value.fillStyle="#3E2723",i.value.beginPath(),i.value.arc(E,w,10,0,Math.PI*2),i.value.fill(),i.value.fillStyle="#A0522D",U.value.forEach(q=>{i.value.beginPath(),i.value.arc(E+q.x,w+q.y,q.size,0,Math.PI*2),i.value.fill()}),i.value.strokeStyle="#5D4037",i.value.lineWidth=1.5,j.value.forEach(q=>{i.value.beginPath(),i.value.moveTo(E,w),i.value.quadraticCurveTo(E+q.controlX,w+q.controlY,E+q.endX,w+q.endY),i.value.stroke()})},Pe=()=>{var q;if(!i.value||!((q=O.value)!=null&&q.active))return;const E=O.value.x,w=O.value.y;O.value.isDragging;const F=i.value.createRadialGradient(E,w,pa*.3,E,w,pa);F.addColorStop(0,"rgba(255, 220, 50, 0.15)"),F.addColorStop(1,"rgba(255, 220, 50, 0)"),i.value.fillStyle=F,i.value.beginPath(),i.value.arc(E,w,pa,0,Math.PI*2),i.value.fill(),Y.value&&Y.value.complete&&i.value.drawImage(Y.value,E-60/2,w-60/2+25,60,60)},fe=()=>{if(!i.value||!n.value)return;const E=()=>{var q;if(!i.value||!n.value)return;const w=n.value.width,F=n.value.height;i.value.clearRect(0,0,w,F),ge(),y.value&&ke(),C.value&&x.value!==null||(q=O.value)!=null&&q.active&&Pe(),Math.random()<.05&&X(),N.value.forEach(Z=>{ae(Z,w,F),ue(Z)}),l.value=requestAnimationFrame(E)};E()};return(E,w)=>{var F,q,Z,J;return f(),h("div",soe,[r("div",{ref_key:"containerRef",ref:c,class:"sim-container absolute inset-0 w-full h-full"},[r("canvas",{ref_key:"canvasRef",ref:n,class:"block w-full h-full"},null,512)],512),r("div",ooe,[r("button",{onClick:w[0]||(w[0]=te=>u.value=!u.value),class:V(["bg-amber-100/90 dark:bg-gray-800/90 shadow-md p-2 rounded-full hover:bg-amber-200 dark:hover:bg-gray-700 transition-colors backdrop-blur-sm",{"bg-amber-200 dark:bg-gray-700":u.value}]),"aria-label":u.value?"Close info panel":"Open info panel"},[u.value?(f(),h("span",noe)):(f(),h("span",aoe))],10,roe)]),u.value?(f(),h("div",{key:0,class:V(["absolute top-14 right-3 z-10 max-w-xs transition-all duration-200 ease-in-out",{"translate-x-0 opacity-100":u.value,"translate-x-full opacity-0":!u.value}])},[r("div",ioe,[w[10]||(w[10]=r("h1",{class:"text-sm font-bold"},"Ant Colony Simulation",-1)),r("p",loe,b(I.value)+" ants representing "+b(k.value)+" workers ",1),r("div",coe,[(F=O.value)!=null&&F.active?(f(),h("p",doe," Scattering ants... drag to continue scattering! ")):C.value?(f(),h("p",uoe," Dragging food... Release to place it. ")):(f(),h("p",moe,[w[6]||(w[6]=r("span",{class:"font-medium"},"Interactions:",-1)),w[7]||(w[7]=r("span",{class:"block mt-0.5 text-[10px]"}," Tap/drag on screen to scatter ants",-1)),y.value?(f(),h("span",poe," Drag green leaves to move food")):Q("",!0)]))]),r("div",foe,[r("div",goe,[r("div",null,[r("label",hoe,"Speed: "+b(L.value)+"x",1),ut(r("input",{type:"range",id:"speed-control","onUpdate:modelValue":w[1]||(w[1]=te=>p.value=te),min:"0.1",max:"3",step:"0.1",class:"w-full h-1.5 bg-amber-200 dark:bg-amber-900/50 rounded-lg appearance-none cursor-pointer"},null,512),[[Po,p.value,void 0,{number:!0}]])]),r("div",boe,[ut(r("input",{type:"checkbox",id:"food-toggle","onUpdate:modelValue":w[2]||(w[2]=te=>y.value=te),class:"w-3 h-3 text-amber-600 rounded border-amber-300 dark:border-amber-700 focus:ring-amber-500"},null,512),[[Xt,y.value]]),r("label",voe,[w[8]||(w[8]=se(" Food Sources ")),y.value?(f(),h("span",yoe,"("+b(ee.value)+")",1)):Q("",!0)])]),d.value?(f(),h("div",xoe,[r("button",{onClick:w[3]||(w[3]=te=>m.value=!m.value),class:"text-xs flex items-center space-x-1 text-amber-700 dark:text-amber-400 hover:text-amber-900 dark:hover:text-amber-300"},[m.value?(f(),h("span",koe)):(f(),h("span",_oe)),w[9]||(w[9]=r("span",null,"Advanced Settings",-1))]),m.value?(f(),h("div",woe,[r("div",null,[r("label",Coe,"Ant Size: "+b(B.value)+"x",1),ut(r("input",{type:"range",id:"size-control","onUpdate:modelValue":w[4]||(w[4]=te=>v.value=te),min:"0.5",max:"2",step:"0.1",class:"w-full h-1.5 bg-amber-200 dark:bg-amber-900/50 rounded-lg appearance-none cursor-pointer"},null,512),[[Po,v.value,void 0,{number:!0}]])]),r("div",Soe,[r("div",null,"Window: "+b(g(s))+"x"+b(g(o))+"px",1),r("div",null,"Canvas: "+b(((q=n.value)==null?void 0:q.width)||0)+"x"+b(((Z=n.value)==null?void 0:Z.height)||0)+"px",1),r("div",null,"Food Spots: "+b(ee.value),1),C.value?(f(),h("div",$oe,"Dragging: Food #"+b(x.value),1)):Q("",!0),(J=O.value)!=null&&J.active?(f(),h("div",Eoe,"Scattering active")):Q("",!0)])])):Q("",!0)])):Q("",!0)])])])],2)):Q("",!0),u.value&&g(s)<640?(f(),h("div",{key:1,class:"fixed inset-0 z-5",onClick:w[5]||(w[5]=at(te=>u.value=!1,["stop"]))})):Q("",!0)])}}}),Moe=st(Aoe,[["__scopeId","data-v-86deee2b"]]),Poe="/assets/farm-bg-C4Ph_Hc7.png",Toe={class:"bg-amber-50/70 dark:bg-amber-950/30 p-4 rounded-lg shadow-md"},Loe={class:"flex items-center justify-between mb-4"},Ioe={class:"bg-amber-200/50 dark:bg-amber-800/50 rounded px-2 py-1 text-xs flex items-center gap-1"},Doe={class:"flex flex-wrap gap-1 mb-4 border-b border-amber-200 dark:border-amber-800 pb-2"},Foe=["onClick"],Roe={class:"bg-amber-100/30 dark:bg-amber-900/20 p-3 rounded-lg mb-4"},Uoe={key:0,class:"text-sm"},Boe={class:"mb-2"},qoe={key:1,class:"text-sm"},Ooe={class:"mb-2"},Noe={key:2,class:"text-sm"},Hoe={key:3,class:"text-sm"},joe={class:"space-y-3"},Goe={key:0,class:"absolute top-0 right-0 bg-gradient-to-l from-amber-400 to-amber-500 text-white dark:from-amber-600 dark:to-amber-700 px-2 py-0.5 text-xs font-bold rounded-bl"},Voe={key:1,class:"absolute inset-0 bg-gradient-to-br from-amber-100/20 to-amber-300/20 dark:from-amber-800/20 dark:to-amber-600/20 pointer-events-none"},Qoe={class:"flex justify-between items-start relative z-10"},zoe={class:"flex items-center gap-2"},Woe={class:"font-medium"},Yoe={class:"text-xs bg-amber-100 dark:bg-amber-900 px-1.5 py-0.5 rounded-full"},Koe={class:"text-xs my-2 text-gray-600 dark:text-gray-300 relative z-10"},Xoe={key:2,class:"text-xs p-1 bg-amber-100 dark:bg-amber-900/50 rounded mt-2 mb-1 flex items-center gap-1 relative z-10"},Zoe={class:"flex justify-between items-center mt-3 relative z-10"},Joe={class:"text-xs text-gray-500 dark:text-gray-400"},ere=["onClick","disabled"],tre={key:3,class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5 mt-3 overflow-hidden relative z-10"},sre={key:0,class:"text-center py-8 bg-amber-50 dark:bg-amber-950 rounded-lg border border-dashed border-amber-200 dark:border-amber-800"},ore=Ue({__name:"GlobalUpgrades",setup(t){const e=ss(),{showToast:s}=zt(),{formatHoneydew:o}=ki(),{getCurrencyClasses:n}=Cr(),i=n("honeydew"),l=n("evolutionPoints"),c=n("pheromoneEssence"),d=W("ep"),u=[{id:"ep",name:"Evolution Points",icon:"i-heroicons-sparkles",colors:l},{id:"pheromone",name:"Pheromone",icon:"i-heroicons-beaker",colors:c},{id:"global",name:"Global",icon:"i-heroicons-globe-alt"}],m=R(()=>e.globalUpgrades.filter(M=>M.targets.includes(d.value))),p=M=>{const P=e.canPurchaseGlobalUpgrade(M),L=e.globalUpgrades.find(k=>k.id===M),B=e.getGlobalUpgradeLevel(M);return L&&B>=L.maxLevel?"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300 cursor-not-allowed":P?"bg-amber-300 hover:bg-amber-400 dark:bg-amber-700 dark:hover:bg-amber-600 transition-colors":"bg-amber-100 dark:bg-amber-900 opacity-50 cursor-not-allowed"},y=M=>{const P=e.globalUpgrades.find(B=>B.id===M);return P?`${e.getGlobalUpgradeLevel(M)}/${P.maxLevel}`:""},v=M=>{const P=e.globalUpgrades.find(k=>k.id===M);if(!P)return;const L=e.calculateGlobalUpgradeCost(M),B=e.getGlobalUpgradeLevel(M);e.purchaseGlobalUpgrade(M)?s(`Upgraded ${P.name} to level ${B+1}!`,"success"):s(`Not enough honeydew! Need ${o(L)} honeydew.`,"error")},S=M=>M.includes("global")?"i-heroicons-globe-alt text-purple-600 dark:text-purple-400":M.includes("generators")?"i-heroicons-cog text-blue-600 dark:text-blue-400":M.includes("pheromone")?"i-heroicons-beaker text-green-600 dark:text-green-400":M.includes("ep")?"i-heroicons-sparkles text-amber-600 dark:text-amber-400":"i-heroicons-star text-amber-600 dark:text-amber-400",_=M=>M.endsWith("-2"),C=M=>_(M)?"bg-white dark:bg-gray-800 p-3 rounded-lg border-2 border-amber-400 dark:border-amber-500 shadow-sm relative overflow-hidden":"bg-white dark:bg-gray-800 p-3 rounded-lg border border-amber-200 dark:border-amber-800 shadow-sm",x=M=>{const P=e.globalUpgrades.find(I=>I.id===M);if(!P)return"";const L=e.getGlobalUpgradeLevel(M);let B;switch(M){case"honeydew-ep-boost":B=a(1.5).pow(L+1);break;case"honeydew-pheromone-boost":B=a(1.75).pow(L+1);break;case"honeydew-global-boost":B=a(2).pow(L+1);break;case"honeydew-ep-boost-2":B=a(10).pow(L+1);break;case"honeydew-pheromone-boost-2":B=a(15).pow(L+1);break;case"honeydew-global-boost-2":B=a(20).pow(L+1);break;default:B=a(1)}const k=`${B.mul(100).sub(100).toFixed(0)}%`;return P.description.replace("{effect}",k)},$=M=>{const P=e.getGlobalUpgradeLevel(M);if(P===0)return"Not purchased";const L=e.globalUpgrades.find(I=>I.id===M);if(L&&P>=L.maxLevel)return"Maximum level";let B;switch(M){case"honeydew-ep-boost":B=a(1.5).pow(P);break;case"honeydew-pheromone-boost":B=a(1.75).pow(P);break;case"honeydew-global-boost":B=a(2).pow(P);break;case"honeydew-ep-boost-2":B=a(10).pow(P);break;case"honeydew-pheromone-boost-2":B=a(15).pow(P);break;case"honeydew-global-boost-2":B=a(20).pow(P);break;default:B=a(1)}return`Current bonus: ${`${B.mul(100).sub(100).toFixed(0)}%`}`},A=M=>{if(!_(M))return"";const P=M.replace("-2",""),L=e.globalUpgrades.find(B=>B.id===P);return L?L.name:""};return(M,P)=>(f(),h("div",Toe,[r("div",Loe,[P[1]||(P[1]=r("h2",{class:"text-lg font-semibold text-amber-800 dark:text-amber-300"}," Global Production Upgrades ",-1)),r("div",Ioe,[P[0]||(P[0]=r("span",null,"Powered by",-1)),r("span",{class:V(g(i).text)},"Honeydew",2)])]),r("div",Doe,[(f(),h(Ce,null,De(u,L=>r("button",{key:L.id,class:V(["px-3 py-1.5 rounded-t text-xs font-medium flex items-center gap-1",[d.value===L.id?L.colors?[L.colors.background,L.colors.text]:"bg-amber-200 dark:bg-amber-800 text-amber-800 dark:text-amber-200":"bg-amber-100/50 dark:bg-amber-900/50 text-amber-700 dark:text-amber-400 hover:bg-amber-100 dark:hover:bg-amber-900"]]),onClick:B=>d.value=L.id},[r("span",{class:V([L.icon,L.colors&&d.value===L.id?L.colors.icon:""])},null,2),se(" "+b(L.name),1)],10,Foe)),64))]),r("div",Roe,[d.value==="ep"?(f(),h("div",Uoe,[r("p",Boe,[r("span",{class:V([g(l).icon,"i-heroicons-sparkles"])},null,2),r("span",{class:V(g(l).text)},"These upgrades boost your Evolution Point production.",2)]),P[2]||(P[2]=r("p",{class:"text-xs opacity-80"},"Evolution Points are essential for progression and purchasing new features.",-1))])):d.value==="pheromone"?(f(),h("div",qoe,[r("p",Ooe,[r("span",{class:V([g(c).icon,"i-heroicons-beaker"])},null,2),r("span",{class:V(g(c).text)},"These upgrades enhance your Pheromone production.",2)]),P[3]||(P[3]=r("p",{class:"text-xs opacity-80"},"Pheromones power temporary boosts and special abilities.",-1))])):d.value==="generators"?(f(),h("div",Noe,P[4]||(P[4]=[r("p",{class:"mb-2"},[r("span",{class:"i-heroicons-cog text-blue-600 dark:text-blue-400"}),se(" These upgrades multiply all generator production.")],-1),r("p",{class:"text-xs opacity-80"},"Affects all food and resource generators in your colony.",-1)]))):(f(),h("div",Hoe,P[5]||(P[5]=[r("p",{class:"mb-2"},[r("span",{class:"i-heroicons-globe-alt text-purple-600 dark:text-purple-400"}),se(" These upgrades boost all production types.")],-1),r("p",{class:"text-xs opacity-80"},"The most powerful upgrades that affect everything in your colony.",-1)])))]),r("div",joe,[(f(!0),h(Ce,null,De(m.value,L=>(f(),h("div",{key:L.id,class:V(C(L.id))},[_(L.id)?(f(),h("div",Goe," ADVANCED ")):Q("",!0),_(L.id)?(f(),h("div",Voe)):Q("",!0),r("div",Qoe,[r("div",zoe,[r("span",{class:V(S(L.targets))},null,2),r("h3",Woe,b(L.name),1)]),r("span",Yoe," Level "+b(y(L.id)),1)]),r("p",Koe,b(x(L.id)),1),_(L.id)&&!g(e).canPurchaseGlobalUpgrade(L.id)&&g(e).getGlobalUpgradeLevel(L.id)===0?(f(),h("div",Xoe,[P[6]||(P[6]=r("span",{class:"i-heroicons-lock-closed text-amber-600 dark:text-amber-400"},null,-1)),r("span",null,"Requires maxing out the base "+b(A(L.id))+" upgrade",1)])):Q("",!0),r("div",Zoe,[r("div",Joe,b($(L.id)),1),r("button",{class:V(["text-xs px-2 py-1 rounded transition-colors",p(L.id)]),onClick:B=>v(L.id),disabled:!g(e).canPurchaseGlobalUpgrade(L.id)||g(e).getGlobalUpgradeLevel(L.id)>=L.maxLevel},[g(e).getGlobalUpgradeLevel(L.id)>=L.maxLevel?(f(),h(Ce,{key:0},[se(" Maxed ")],64)):(f(),h(Ce,{key:1},[P[7]||(P[7]=se(" Upgrade ")),r("span",{class:V(g(i).text)},"("+b(g(o)(g(e).calculateGlobalUpgradeCost(L.id)))+")",3)],64))],10,ere)]),g(e).getGlobalUpgradeLevel(L.id)>0?(f(),h("div",tre,[r("div",{class:V(["h-full rounded-full",_(L.id)?"bg-amber-500 dark:bg-amber-600":"bg-amber-400 dark:bg-amber-700"]),style:Je(`width: ${g(e).getGlobalUpgradeLevel(L.id)/L.maxLevel*100}%`)},null,6)])):Q("",!0)],2))),128)),m.value.length===0?(f(),h("div",sre,P[8]||(P[8]=[r("span",{class:"i-heroicons-exclamation-circle text-amber-400 text-xl"},null,-1),r("p",{class:"mt-2 text-sm text-amber-600 dark:text-amber-400"},"No upgrades available for this category yet",-1),r("p",{class:"text-xs text-amber-500 dark:text-amber-500 mt-1"},"Check back after you've progressed further",-1)]))):Q("",!0)])]))}}),rre=st(ore,[["__scopeId","data-v-3363f9ad"]]),nre={class:"text-center"},are={class:"bg-amber-100/70 dark:bg-amber-900/20 p-4 rounded-lg shadow-md mb-4"},ire={class:"mt-3 flex flex-wrap justify-center items-center gap-2"},lre={class:"flex justify-center items-center gap-2 bg-blue-200/70 dark:bg-blue-800/50 py-2 px-4 rounded-full"},cre={class:"font-bold"},dre={key:0,class:"mt-3 bg-purple-50 dark:bg-purple-900/30 rounded-lg p-3 text-left text-xs"},ure={class:"grid grid-cols-1 sm:grid-cols-3 gap-1"},mre={key:0,class:"flex items-center gap-1"},pre={class:"font-bold"},fre={key:1,class:"flex items-center gap-1"},gre={class:"font-bold"},hre={key:2,class:"flex items-center gap-1"},bre={class:"font-bold"},vre={key:1,class:"mt-3 bg-amber-50 dark:bg-amber-900/30 rounded-lg p-3 text-left"},yre={class:"grid grid-cols-1 md:grid-cols-2 gap-2 text-xs"},xre={key:0,class:"flex items-start gap-1"},kre={key:1,class:"flex items-start gap-1"},_re={key:2,class:"flex items-start gap-1"},wre={class:"bg-amber-50/70 dark:bg-amber-950/30 p-4 rounded-lg shadow mb-4"},Cre={class:"flex flex-wrap border-b border-amber-200 dark:border-amber-800 mb-4"},Sre={key:0},$re={class:"flex flex-wrap items-center justify-between gap-2 mb-4"},Ere={class:"flex flex-wrap items-center gap-2"},Are=["disabled"],Mre={key:0,class:"text-purple-600 dark:text-purple-400"},Pre={class:"bg-amber-200/50 dark:bg-amber-800/50 rounded px-2 py-1 flex items-center gap-1"},Tre=["value"],Lre=["value"],Ire=["disabled"],Dre=["disabled"],Fre=["disabled"],Rre=["disabled"],Ure={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Bre=["onClick"],qre={class:"relative z-10 h-full flex flex-col justify-between"},Ore={class:"flex justify-between items-start"},Nre={class:"bg-amber-900/10 dark:bg-amber-900/30 px-2 py-0.5 rounded text-xs"},Hre={class:"bg-amber-900/10 dark:bg-amber-900/30 px-2 py-0.5 rounded text-xs"},jre={class:"text-center flex-grow flex flex-col justify-center items-center"},Gre={key:0,class:"i-heroicons-star text-yellow-500 text-xs",title:"This aphid has active upgrades"},Vre={key:0,class:"text-xs bg-green-100 dark:bg-green-900 px-2 py-0.5 rounded-full flex items-center gap-1 mt-1"},Qre={key:1,class:"text-xs bg-green-100 dark:bg-green-900 px-2 py-0.5 rounded-full flex items-center gap-1 mt-1"},zre={key:1,class:"text-xs bg-amber-200 dark:bg-amber-800 px-2 py-0.5 rounded-full flex items-center gap-1 mt-1",title:"This Golden Aphid boosts adjacent fields"},Wre={key:2,class:"text-xs bg-amber-100 dark:bg-amber-900 px-2 py-0.5 rounded-full flex items-center gap-1 mt-1"},Yre={key:3,class:"text-xs bg-amber-100 dark:bg-amber-900 px-2 py-0.5 rounded-full flex items-center gap-1 mt-1"},Kre={key:0,class:"text-xs bg-blue-100 dark:bg-blue-900 px-2 py-0.5 rounded-full flex items-center gap-1 mt-1"},Xre={key:1,class:"text-xs bg-blue-100 dark:bg-blue-900 px-2 py-0.5 rounded-full flex items-center gap-1 mt-1"},Zre={key:0,class:"text-xs bg-purple-100 dark:bg-purple-900 px-2 py-0.5 rounded-full flex items-center gap-1 mt-1"},Jre={key:1,class:"text-xs bg-purple-100 dark:bg-purple-900 px-2 py-0.5 rounded-full flex items-center gap-1 mt-1"},ene={key:2,class:"text-xs bg-purple-100 dark:bg-purple-900 px-2 py-0.5 rounded-full flex items-center gap-1 mt-1"},tne={key:0,class:"text-xs bg-pink-100 dark:bg-pink-900 px-2 py-0.5 rounded-full flex items-center gap-1 mt-1"},sne={key:1,class:"text-xs bg-pink-100 dark:bg-pink-900 px-2 py-0.5 rounded-full flex items-center gap-1 mt-1"},one={key:0,class:"text-xs bg-yellow-100 dark:bg-yellow-900 px-2 py-0.5 rounded-full flex items-center gap-1 mt-1"},rne={class:"text-xs mt-1"},nne={class:"text-xs text-amber-600 dark:text-amber-400"},ane={class:"text-xs text-green-600 dark:text-green-400 font-bold"},ine={key:0,class:"text-2xs text-purple-500 dark:text-purple-400 font-bold flex items-center gap-0.5"},lne={key:2,class:"my-1 flex flex-col items-center gap-1"},cne={class:"text-xs bg-green-100 dark:bg-green-900 px-2 py-0.5 rounded-full flex items-center gap-1"},dne={key:0,class:"flex items-center gap-1 bg-green-50 dark:bg-green-950 rounded-full px-2 py-0.5 mt-1 aphid-selector-wrapper"},une={class:"relative select-wrapper"},mne={key:0,class:"absolute inset-0 flex items-center justify-center pointer-events-none"},pne=["value","onChange"],fne=["value"],gne={class:"flex justify-center gap-2 flex-wrap"},hne=["onClick","disabled"],bne=["onClick"],vne=["onClick"],yne={key:2,class:"text-xs px-2 py-1 rounded bg-green-200/50 hover:bg-green-300/50 dark:bg-green-700/50 dark:hover:bg-green-600/50 transition-colors flex items-center gap-1 cursor-not-allowed",disabled:""},xne={key:0},kne={key:1},_ne={class:"flex justify-between items-center mb-2"},wne={class:"grid grid-cols-1 gap-2 max-h-[calc(100%-2.5rem)] overflow-y-auto pr-1 custom-scrollbar"},Cne=["onClick"],Sne={class:"flex gap-2 text-2xs"},$ne={key:1},Ene={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-4"},Ane={class:"flex justify-between items-center"},Mne={class:"flex gap-1"},Pne=["onClick"],Tne={class:"text-xs mt-1 opacity-80"},Lne={class:"grid grid-cols-2 gap-1 mt-2 text-2xs"},Ine={class:"bg-amber-900/10 dark:bg-amber-800/30 px-2 py-1 rounded"},Dne={class:"font-medium"},Fne={class:"bg-amber-900/10 dark:bg-amber-800/30 px-2 py-1 rounded"},Rne={class:"font-medium"},Une={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3"},Bne={class:"flex justify-between items-center"},qne=["onClick","disabled"],One={class:"text-xs mt-1 opacity-80"},Nne={class:"grid grid-cols-2 gap-1 mt-2 text-2xs"},Hne={class:"bg-amber-900/10 dark:bg-amber-800/30 px-2 py-1 rounded"},jne={class:"font-medium"},Gne={class:"bg-amber-900/10 dark:bg-amber-800/30 px-2 py-1 rounded"},Vne={class:"font-medium"},Qne={key:2},zne={key:0,class:"p-2 bg-amber-50 dark:bg-amber-950 rounded mb-3 border border-amber-200 dark:border-amber-800"},Wne={key:0,class:"mb-2 text-xs flex items-start gap-1"},Yne={key:1,class:"text-xs flex items-start gap-1"},Kne={key:1,class:"p-2 bg-pink-50 dark:bg-pink-950 rounded mb-3 border border-pink-200 dark:border-pink-800"},Xne={key:0,class:"mb-2 text-xs flex items-start gap-1"},Zne={key:1,class:"text-xs flex items-start gap-1"},Jne={class:"flex flex-wrap gap-1 mb-4 justify-center"},eae=["onClick"],tae={class:"bg-amber-100/30 dark:bg-amber-900/20 p-3 rounded-lg mb-4"},sae={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 max-h-[60vh] overflow-y-auto pr-1 custom-scrollbar"},oae={class:"flex justify-between items-start"},rae={class:"font-medium text-sm"},nae={class:"text-xs bg-amber-100 dark:bg-amber-900 px-1.5 py-0.5 rounded-full"},aae={class:"text-xs my-1 opacity-85"},iae={class:"flex justify-between items-center mt-2"},lae=["onClick","disabled"],cae={key:1,class:"text-xs px-2 py-1 rounded bg-green-200 dark:bg-green-900 text-green-700 dark:text-green-300"},dae={key:3},uae={key:4},mae={class:"bg-amber-100/30 dark:bg-amber-900/20 p-3 rounded-lg mb-4"},pae={class:"bg-amber-50 dark:bg-amber-950 p-3 rounded border border-amber-200 dark:border-amber-800"},fae={class:"flex justify-between items-center mt-2"},gae=["disabled","title"],hae=Ue({__name:"AphidFarmPage",setup(t){const e=ss(),s=ps(),o=ct(),{showToast:n}=zt(),{formattedHoneydew:i,formatHoneydew:l,canAffordHoneydew:c}=ki(),{getCurrencyClasses:d}=Cr(),u=d("honeydew"),m=W(null),p=W(!1),y=Ie=>{if(!m.value||p.value){p.value=!1;return}m.value=null};tt(()=>{document.addEventListener("click",y)}),Ms(()=>{document.removeEventListener("click",y)});const v=W("greenleaf"),S=W("fields"),_=R(()=>e.selectedAphidType),C=R(()=>o.getAphidYieldMultiplier()),x=R(()=>o.getAphidGrowthMultiplier()),$=R(()=>o.getNewFieldCostMultiplier()),A=R(()=>C.value.gt(1)),M=R(()=>x.value.lt(1)),P=R(()=>$.value.lt(1)),L=R(()=>dt(C.value.sub(1))),B=R(()=>dt(a(1).sub(x.value))),k=R(()=>dt(a(1).sub($.value))),I=()=>{const Ie=e.calculateNewFieldCost();e.buyNewField()?n(`Purchased new field for ${l(Ie)} honeydew!`,"success"):n(`Not enough honeydew! Need ${l(Ie)} honeydew.`,"error")},N=Ie=>{const ce=e.fields.find(Ae=>Ae.id===Ie);if(ce){if(ce.isHarvestable&&ce.type){const Ae=e.harvestField(Ie);n(`Harvested ${l(Ae)} honeydew!`,"success"),m.value=Ie,p.value=!0;return}m.value===Ie?m.value=null:(m.value=Ie,p.value=!0)}},U=(Ie,ce)=>{e.plantAphid(Ie,ce)?(n(`Planted ${e.APHID_TYPES[ce].name}!`,"success"),m.value=null):n("Failed to plant aphid. Make sure it's unlocked.","error")},j=()=>{if(!_.value){n("Please select an aphid type first","error");return}let Ie=0;e.fields.forEach(ce=>{(!ce.type||ce.type&&ce.isHarvestable&&ce.progress===0)&&e.plantAphid(ce.id,_.value)&&Ie++}),Ie>0?n(`Planted ${e.APHID_TYPES[_.value].name} in ${Ie} fields!`,"success"):n("No fields available for planting","info")},ee=()=>{let Ie=a(0),ce=0;e.fields.forEach(Ae=>{if(Ae.isHarvestable&&Ae.type){const Xe=e.harvestField(Ae.id);Ie=Ie.add(Xe),ce++}}),ce>0?n(`Harvested ${l(Ie)} honeydew from ${ce} fields!`,"success"):n("No fields ready for harvest","info")},ne=()=>{const Ie=e.calculatePlantAllCost();e.unlockPlantAll()?n(`Unlocked Plant All ability for ${l(Ie)} honeydew!`,"success"):n(`Not enough honeydew! Need ${l(Ie)} honeydew.`,"error")},oe=()=>{const Ie=e.calculateHarvestAllCost();e.unlockHarvestAll()?n(`Unlocked Harvest All ability for ${l(Ie)} honeydew!`,"success"):n(`Not enough honeydew! Need ${l(Ie)} honeydew.`,"error")},O=Ie=>{const ce=e.fields.find(Xe=>Xe.id===Ie);if(!ce)return;const Ae=e.getFieldUpgradeCost(Ie);e.upgradeField(Ie)?n(`Field upgraded to level ${ce.level}!`,"success"):n(`Not enough honeydew! Need ${l(Ae)} honeydew.`,"error")},Y=Ie=>{const ce=e.APHID_TYPES[Ie];e.unlockAphidType(Ie)?n(`Unlocked ${ce.name}!`,"success"):n(`Not enough honeydew! Need ${l(ce.unlockCost)} honeydew.`,"error")},G=Ie=>e.unlockedAphidTypes.has(Ie),de=R(()=>Object.entries(e.APHID_TYPES).filter(([Ie])=>G(Ie)).map(([Ie,ce])=>({type:Ie,...ce}))),re=R(()=>Object.entries(e.APHID_TYPES).filter(([Ie])=>!G(Ie)).map(([Ie,ce])=>({type:Ie,...ce})).sort((Ie,ce)=>Ie.unlockCost.cmp(ce.unlockCost))),he=Ie=>{const ce=e.fields.find(Xe=>Xe.id===Ie);if(!ce)return"";const Ae=["border-2","rounded-lg","p-3","flex","flex-col","justify-between","transition-all","relative","overflow-hidden","cursor-pointer","h-full"];if(ce.type){const Xe=e.APHID_TYPES[ce.type].color.split("-")[1];Ae.push(`border-${Xe}-${ce.isHarvestable?"500":"300"}`)}else Ae.push("border-amber-300");return ce.hasAutoFarming&&ce.autoFarmingEnabled?Ae.push("h-48"):ce.hasAutoFarming?Ae.push("h-44"):Ae.push("h-40"),Ae.join(" ")},ve=Ie=>{const ce=e.fields.find(Wo=>Wo.id===Ie);if(!ce||!ce.type||ce.isHarvestable)return"";const Ae=e.getAphidGrowthTime(ce.type);let Ps=`${Math.ceil(Ae*(1-ce.progress))} trips remaining`;return M.value&&(Ps+=` (${B.value} faster)`),Ps},Se=R(()=>e.fields.filter(Ie=>Ie.isHarvestable).length),Me=R(()=>e.fields.filter(Ie=>!Ie.type||Ie.type&&Ie.progress===0&&Ie.isHarvestable).length),Oe=Ie=>{const ce=e.fields.find(Ps=>Ps.id===Ie);if(!ce||!ce.type)return a(0);let Ae=e.getAphidYield(ce.type,ce.level);const Xe=e.getGoldenAuraMultiplier(Ie);return Ae=Ae.mul(Xe),Ae},He=Ie=>{const ce=e.fields.find(Xe=>Xe.id===Ie);if(!ce)return;const Ae=e.calculateAutoFarmingCost(Ie);e.purchaseAutoFarming(Ie)?n(`Auto farming activated for Field ${Ie.replace("field","")}!`,"success"):ce.level<10?n("Field must be level 10 to unlock auto farming.","error"):n(`Not enough honeydew! Need ${l(Ae)} honeydew.`,"error")},we=Ie=>{const ce=e.fields.find(Ae=>Ae.id===Ie);!ce||!ce.hasAutoFarming||e.toggleAutoFarming(Ie)&&n(`Auto farming ${ce.autoFarmingEnabled?"enabled":"disabled"} for Field ${Ie.replace("field","")}.`,"success")},_e=(Ie,ce)=>{const Ae=e.fields.find(Xe=>Xe.id===Ie);!Ae||!Ae.hasAutoFarming||e.setPreferredAphidType(Ie,ce)&&n(`Set ${e.APHID_TYPES[ce].name} as preferred type for auto farming.`,"success")},pe=Ie=>{const ce=e.fields.find(Ae=>Ae.id===Ie);return ce?ce.level>=10:!1},me=Ie=>{const ce=e.aphidUpgrades.find(Ps=>Ps.id===Ie);if(!ce)return;const Ae=e.calculateUpgradeCost(Ie),Xe=e.getUpgradeLevel(Ie);e.purchaseUpgrade(Ie)?n(`Upgraded ${ce.name} to level ${Xe+1}!`,"success"):n(`Not enough honeydew! Need ${l(Ae)} honeydew.`,"error")},le=R(()=>Object.entries(e.APHID_TYPES).filter(([Ie])=>e.unlockedAphidTypes.has(Ie)).map(([Ie,ce])=>({type:Ie,...ce}))),z=R(()=>e.aphidUpgrades.filter(Ie=>Ie.aphidType===v.value)),K=Ie=>{const ce=e.aphidUpgrades.find(Xe=>Xe.id===Ie);return ce?`${e.getUpgradeLevel(Ie)}/${ce.maxLevel}`:""},H=Ie=>e.aphidUpgrades.filter(Ae=>Ae.aphidType===Ie).some(Ae=>e.getUpgradeLevel(Ae.id)>0),T=R(()=>e.getUpgradeLevel("golden-aura")>0),D=R(()=>e.getUpgradeLevel("golden-shine")>0),X=R(()=>e.getUpgradeLevel("golden-efficiency")>0),ae=R(()=>e.getUpgradeLevel("greenleaf-growth")>0);R(()=>e.getUpgradeLevel("greenleaf-yield")>0);const ue=R(()=>e.getUpgradeLevel("greenleaf-doubler")>0),ke=R(()=>e.getUpgradeLevel("bubbleback-efficiency")>0),ge=R(()=>e.getUpgradeLevel("bubbleback-burst")>0);R(()=>e.getUpgradeLevel("bubbleback-quality")>0);const Pe=R(()=>e.getUpgradeLevel("fungal-fields")>0),fe=R(()=>e.getUpgradeLevel("fungal-growth")>0),E=R(()=>e.getUpgradeLevel("fungal-symbiosis")>0),w=R(()=>e.getUpgradeLevel("pheromelion-catalyst")>0);R(()=>e.getUpgradeLevel("pheromelion-potency")>0);const F=R(()=>e.getUpgradeLevel("pheromelion-empowerment")>0),q=()=>{const Ie=e.getUpgradeEffect("greenleaf-doubler");return dt(Ie.div(100))},Z=()=>{const Ie=e.getUpgradeEffect("bubbleback-burst");return dt(Ie.div(100))},J=()=>{const Ie=e.getUpgradeEffect("pheromelion-catalyst");return dt(Ie.div(100))},te=()=>{const Ie=e.getUpgradeEffect("pheromelion-empowerment");return dt(Ie.div(100))},ye=Ie=>e.getGoldenAuraMultiplier(Ie).gt(1),$e=Ie=>{const Ae=e.getGoldenAuraMultiplier(Ie).sub(1);return dt(Ae)},Ee=()=>{const Ie=e.getUpgradeEffect("golden-shine");return dt(a(Ie).div(100))},Re=()=>{const Ie=e.getUpgradeEffect("greenleaf-growth");return dt(a(Ie).div(100))},Ne=()=>{const Ie=e.getUpgradeEffect("golden-aura");return dt(a(Ie).div(100))},Ge=()=>{const Ie=e.getUpgradeEffect("golden-efficiency");return dt(a(Ie).div(100))},ft=()=>{const Ie=e.getUpgradeEffect("fungal-symbiosis");return dt(a(Ie).div(100))},et=()=>{const Ie=e.getUpgradeEffect("fungal-growth");return dt(a(Ie).div(100))},ze=()=>{const Ie=e.getUpgradeEffect("fungal-fields"),ce=e.fields.length,Ae=Ie.mul(ce).div(100);return dt(Ae)},Ke=()=>{const Ie=e.calculateBugHoneydewDropUpgradeCost();e.purchaseBugHoneydewDropUpgrade()?n("Bug Honeydew Drops unlocked!","success"):s.isAdventureUnlocked?e.canPurchaseBugHoneydewDropUpgrade||n(`Not enough honeydew! Need ${l(Ie)} honeydew.`,"error"):n("Adventure mode must be unlocked first!","error")};return(Ie,ce)=>(f(),h("div",nre,[r("div",are,[ce[25]||(ce[25]=r("h1",{class:"text-xl font-bold mb-2"},"Aphid Farm",-1)),ce[26]||(ce[26]=r("p",{class:"text-sm text-amber-800 dark:text-amber-300"},' Your ants have discovered that they can "farm" aphids for their sweet honeydew secretions! ',-1)),r("div",ire,[r("div",{class:V(["flex justify-center items-center gap-2 rounded-full py-2 px-4",g(u).background])},[r("span",{class:V([g(u).icon,"i-heroicons-beaker"])},null,2),r("span",{class:V(["font-bold",g(u).text])},b(g(i)),3),r("span",{class:V(["text-xs",g(u).text])},"honeydew",2)],2),r("div",lre,[ce[9]||(ce[9]=r("span",{class:"i-heroicons-square-2-stack text-blue-600 dark:text-blue-300"},null,-1)),r("span",cre,b(g(e).fields.length),1),ce[10]||(ce[10]=r("span",{class:"text-xs text-blue-700 dark:text-blue-400"},"fields",-1))])]),A.value||M.value||P.value?(f(),h("div",dre,[ce[17]||(ce[17]=r("h3",{class:"text-sm font-medium text-purple-700 dark:text-purple-300 flex items-center gap-1 mb-1"},[r("span",{class:"i-heroicons-sparkles"}),se(" Evolutionary Boosts Active ")],-1)),r("div",ure,[A.value?(f(),h("p",mre,[ce[12]||(ce[12]=r("span",{class:"i-heroicons-arrow-up-circle text-green-500"},null,-1)),r("span",null,[ce[11]||(ce[11]=se("Honeydew Yield: ")),r("span",pre,"+"+b(L.value),1)])])):Q("",!0),M.value?(f(),h("p",fre,[ce[14]||(ce[14]=r("span",{class:"i-heroicons-clock text-blue-500"},null,-1)),r("span",null,[ce[13]||(ce[13]=se("Aphid Growth Speed: ")),r("span",gre,"+"+b(B.value),1)])])):Q("",!0),P.value?(f(),h("p",hre,[ce[16]||(ce[16]=r("span",{class:"i-heroicons-currency-dollar text-amber-500"},null,-1)),r("span",null,[ce[15]||(ce[15]=se("New Field Cost: ")),r("span",bre,"-"+b(k.value),1)])])):Q("",!0)])])):Q("",!0),T.value||D.value||F.value?(f(),h("div",vre,[ce[24]||(ce[24]=r("h3",{class:"text-sm font-medium text-amber-700 dark:text-amber-300 flex items-center gap-1 mb-1"},[r("span",{class:"i-heroicons-information-circle"}),se(" Special Aphid Effects Active ")],-1)),r("div",yre,[T.value?(f(),h("div",xre,[ce[19]||(ce[19]=r("span",{class:"i-heroicons-sun text-amber-600 dark:text-amber-300 mt-0.5 flex-shrink-0"},null,-1)),r("span",null,[ce[18]||(ce[18]=r("b",null,"Golden Aura:",-1)),se(" Plant Golden Aphids next to other fields to boost their yields by "+b(g(e).getUpgradeEffect("golden-aura").toNumber())+"%. Fields being boosted will show a sparkles indicator.",1)])])):Q("",!0),D.value?(f(),h("div",kre,[ce[21]||(ce[21]=r("span",{class:"i-heroicons-bolt text-yellow-600 dark:text-yellow-300 mt-0.5 flex-shrink-0"},null,-1)),r("span",null,[ce[20]||(ce[20]=r("b",null,"Radiant Harvest:",-1)),se(" Golden Aphids have a "+b(Ee())+" chance to yield double honeydew when harvested.",1)])])):Q("",!0),F.value?(f(),h("div",_re,[ce[23]||(ce[23]=r("span",{class:"i-heroicons-sparkles text-pink-600 dark:text-pink-300 mt-0.5 flex-shrink-0"},null,-1)),r("span",null,[ce[22]||(ce[22]=r("b",null,"Pheromone Empowerment:",-1)),se(" With Pheromelion Aphids planted, all upgrade effects are boosted by "+b(te())+"%. This applies to all aphid types!",1)])])):Q("",!0)])])):Q("",!0)]),r("div",wre,[r("div",Cre,[r("button",{class:V(["px-4 py-2 font-medium text-sm mr-2 mb-2 whitespace-nowrap focus:outline-none",{"border-b-2 border-amber-500 text-amber-700 dark:text-amber-400":S.value==="fields"}]),onClick:ce[0]||(ce[0]=Ae=>S.value="fields")},ce[27]||(ce[27]=[r("span",{class:"i-heroicons-square-2-stack mr-1 align-middle"},null,-1),se(" Fields ")]),2),r("button",{class:V(["px-4 py-2 font-medium text-sm mr-2 mb-2 whitespace-nowrap focus:outline-none",{"border-b-2 border-amber-500 text-amber-700 dark:text-amber-400":S.value==="types"}]),onClick:ce[1]||(ce[1]=Ae=>S.value="types")},ce[28]||(ce[28]=[r("span",{class:"i-heroicons-tag mr-1 align-middle"},null,-1),se(" Aphid Types ")]),2),r("button",{class:V(["px-4 py-2 font-medium text-sm mr-2 mb-2 whitespace-nowrap focus:outline-none",{"border-b-2 border-amber-500 text-amber-700 dark:text-amber-400":S.value==="upgrades"}]),onClick:ce[2]||(ce[2]=Ae=>S.value="upgrades")},ce[29]||(ce[29]=[r("span",{class:"i-heroicons-arrow-up-circle mr-1 align-middle"},null,-1),se(" Upgrades ")]),2),r("button",{class:V(["px-4 py-2 font-medium text-sm mr-2 mb-2 whitespace-nowrap focus:outline-none",{"border-b-2 border-amber-500 text-amber-700 dark:text-amber-400":S.value==="global"}]),onClick:ce[3]||(ce[3]=Ae=>S.value="global")},ce[30]||(ce[30]=[r("span",{class:"i-heroicons-globe-alt mr-1 align-middle"},null,-1),se(" Global Upgrades ")]),2),r("button",{class:V(["px-4 py-2 font-medium text-sm mb-2 whitespace-nowrap focus:outline-none",{"border-b-2 border-amber-500 text-amber-700 dark:text-amber-400":S.value==="cross-feature"}]),onClick:ce[4]||(ce[4]=Ae=>S.value="cross-feature")},ce[31]||(ce[31]=[r("span",{class:"i-heroicons-puzzle-piece mr-1 align-middle"},null,-1),se(" Cross-Feature ")]),2)]),S.value==="fields"?(f(),h("div",Sre,[r("div",$re,[ce[42]||(ce[42]=r("h2",{class:"text-lg font-semibold"},"Aphid Fields",-1)),r("div",Ere,[r("button",{class:V(["text-xs px-2 py-1 rounded transition-colors flex items-center gap-1",[g(e).canBuyNewField()?"bg-blue-200 hover:bg-blue-300 dark:bg-blue-700 dark:hover:bg-blue-600":"bg-blue-200/50 dark:bg-blue-700/50 opacity-50 cursor-not-allowed"]]),onClick:I,disabled:!g(e).canBuyNewField()},[ce[33]||(ce[33]=r("span",{class:"i-heroicons-plus text-blue-700 dark:text-blue-300"},null,-1)),ce[34]||(ce[34]=se(" Buy Field ")),r("span",{class:V(g(u).text)},[se(" ("+b(g(l)(g(e).calculateNewFieldCost()))+" ",1),P.value?(f(),h("span",Mre,"(-"+b(k.value)+")",1)):Q("",!0),ce[32]||(ce[32]=se(") "))],2)],10,Are),r("div",Pre,[ce[35]||(ce[35]=r("label",{for:"aphid-select",class:"text-xs"},"Quick select:",-1)),r("select",{id:"aphid-select",value:_.value,onChange:ce[5]||(ce[5]=Ae=>g(e).selectedAphidType=Ae.target.value),class:"bg-transparent border-0 text-xs focus:ring-0 cursor-pointer"},[(f(!0),h(Ce,null,De(de.value,Ae=>(f(),h("option",{key:Ae.id,value:Ae.type,class:V(Ae.color)},b(Ae.name),11,Lre))),128))],40,Tre)]),g(e).hasPlantAllUnlocked?(f(),h("button",{key:0,class:V(["text-xs px-2 py-1 rounded bg-green-200 hover:bg-green-300 dark:bg-green-700 dark:hover:bg-green-600 transition-colors flex items-center gap-1",{"opacity-50 cursor-not-allowed":Me.value===0}]),onClick:j,disabled:Me.value===0},[ce[36]||(ce[36]=r("span",{class:"i-heroicons-plus-circle text-green-700 dark:text-green-300"},null,-1)),se(" Plant All ("+b(Me.value)+") ",1)],10,Ire)):(f(),h("button",{key:1,class:V(["text-xs px-2 py-1 rounded transition-colors flex items-center gap-1",[g(e).canUnlockPlantAll()?"bg-green-200 hover:bg-green-300 dark:bg-green-700 dark:hover:bg-green-600":"bg-green-200/50 dark:bg-green-700/50 opacity-50 cursor-not-allowed"]]),onClick:ne,disabled:!g(e).canUnlockPlantAll()},[ce[37]||(ce[37]=r("span",{class:"i-heroicons-lock-open text-green-700 dark:text-green-300"},null,-1)),ce[38]||(ce[38]=se(" Unlock Plant All ")),r("span",{class:V(g(u).text)},"("+b(g(l)(g(e).calculatePlantAllCost()))+")",3)],10,Dre)),g(e).hasHarvestAllUnlocked?(f(),h("button",{key:2,class:V(["text-xs px-2 py-1 rounded bg-amber-200 hover:bg-amber-300 dark:bg-amber-700 dark:hover:bg-amber-600 transition-colors flex items-center gap-1",{"opacity-50 cursor-not-allowed":Se.value===0}]),onClick:ee,disabled:Se.value===0},[ce[39]||(ce[39]=r("span",{class:"i-heroicons-scissors text-amber-700 dark:text-amber-300"},null,-1)),se(" Harvest All ("+b(Se.value)+") ",1)],10,Fre)):(f(),h("button",{key:3,class:V(["text-xs px-2 py-1 rounded transition-colors flex items-center gap-1",[g(e).canUnlockHarvestAll()?"bg-amber-200 hover:bg-amber-300 dark:bg-amber-700 dark:hover:bg-amber-600":"bg-amber-200/50 dark:bg-amber-700/50 opacity-50 cursor-not-allowed"]]),onClick:oe,disabled:!g(e).canUnlockHarvestAll()},[ce[40]||(ce[40]=r("span",{class:"i-heroicons-lock-open text-amber-700 dark:text-amber-300"},null,-1)),ce[41]||(ce[41]=se(" Unlock Harvest All ")),r("span",{class:V(g(u).text)},"("+b(g(l)(g(e).calculateHarvestAllCost()))+")",3)],10,Rre))])]),r("div",Ure,[(f(!0),h(Ce,null,De(g(e).fields,Ae=>(f(),h("div",{key:Ae.id,class:"relative"},[r("div",{class:V(he(Ae.id)),style:Je({backgroundImage:`url(${g(Poe)})`,backgroundSize:"cover",backgroundPosition:"center"}),onClick:Xe=>N(Ae.id)},[ce[66]||(ce[66]=r("div",{class:"absolute inset-0 bg-black opacity-70"},null,-1)),Ae.type&&!Ae.isHarvestable?(f(),h("div",{key:0,class:"absolute bottom-0 left-0 right-0 transition-all",style:Je({height:`${g(e).getFieldProgressPercentage(Ae.id)}%`,backgroundColor:Ae.type?`var(--${g(e).APHID_TYPES[Ae.type].color.split("-")[1]}-500)`:"transparent",opacity:"0.3"})},null,4)):Q("",!0),r("div",qre,[r("div",Ore,[r("span",Nre," Field "+b(Ae.id.replace("field","")),1),r("span",Hre," Level "+b(Ae.level),1)]),r("div",jre,[Ae.type?(f(),h(Ce,{key:0},[r("span",{class:V([g(e).APHID_TYPES[Ae.type].color,"text-lg font-semibold flex items-center gap-1"])},[se(b(g(e).APHID_TYPES[Ae.type].name)+" ",1),H(Ae.type)?(f(),h("span",Gre)):Q("",!0)],2),Ae.type==="greenleaf"?(f(),h(Ce,{key:0},[ae.value?(f(),h("span",Vre,[ce[43]||(ce[43]=r("span",{class:"i-heroicons-clock text-green-600 dark:text-green-300"},null,-1)),se(" "+b(Re())+" faster growth ",1)])):Q("",!0),ue.value&&Ae.isHarvestable?(f(),h("span",Qre,[ce[44]||(ce[44]=r("span",{class:"i-heroicons-duplicate text-green-600 dark:text-green-300"},null,-1)),se(" "+b(q())+" chance for double harvest ",1)])):Q("",!0)],64)):Q("",!0),Ae.type==="golden"&&T.value?(f(),h("span",zre,ce[45]||(ce[45]=[r("span",{class:"i-heroicons-sun text-amber-600 dark:text-amber-300"},null,-1),se(" Golden Aura Active ")]))):Q("",!0),Ae.type==="golden"&&X.value&&!Ae.isHarvestable?(f(),h("span",Wre,[ce[46]||(ce[46]=r("span",{class:"i-heroicons-clock text-amber-600 dark:text-amber-300"},null,-1)),se(" "+b(Ge())+" faster growth ",1)])):Q("",!0),Ae.type!=="golden"&&ye(Ae.id)?(f(),h("span",Yre,[ce[47]||(ce[47]=r("span",{class:"i-heroicons-sparkles text-amber-500"},null,-1)),se(" +"+b($e(Ae.id))+" from Golden Aura ",1)])):Q("",!0),Ae.type==="bubbleback"?(f(),h(Ce,{key:4},[ke.value?(f(),h("span",Kre,[ce[48]||(ce[48]=r("span",{class:"i-heroicons-arrow-trending-up text-blue-600 dark:text-blue-300"},null,-1)),se(" +"+b(g(e).getUpgradeEffect("bubbleback-efficiency").mul(Ae.level))+"% from field level ",1)])):Q("",!0),ge.value&&Ae.isHarvestable?(f(),h("span",Xre,[ce[49]||(ce[49]=r("span",{class:"i-heroicons-fire text-blue-600 dark:text-blue-300"},null,-1)),se(" "+b(Z())+" boost on harvest ",1)])):Q("",!0)],64)):Q("",!0),Ae.type==="fungal"?(f(),h(Ce,{key:5},[Pe.value?(f(),h("span",Zre,[ce[50]||(ce[50]=r("span",{class:"i-heroicons-squares-plus text-purple-600 dark:text-purple-300"},null,-1)),se(" +"+b(ze())+" from field count ",1)])):Q("",!0),E.value&&!Ae.isHarvestable?(f(),h("span",Jre,[ce[51]||(ce[51]=r("span",{class:"i-heroicons-arrow-path text-purple-600 dark:text-purple-300"},null,-1)),se(" Boosting all fields by "+b(ft()),1)])):Q("",!0),fe.value&&!Ae.isHarvestable?(f(),h("span",ene,[ce[52]||(ce[52]=r("span",{class:"i-heroicons-clock text-purple-600 dark:text-purple-300"},null,-1)),se(" "+b(et())+" faster growth ",1)])):Q("",!0)],64)):Q("",!0),Ae.type==="pheromelion"?(f(),h(Ce,{key:6},[w.value?(f(),h("span",tne,[ce[53]||(ce[53]=r("span",{class:"i-heroicons-rocket-launch text-pink-600 dark:text-pink-300"},null,-1)),se(" All aphids grow "+b(J())+" faster ",1)])):Q("",!0),F.value?(f(),h("span",sne,[ce[54]||(ce[54]=r("span",{class:"i-heroicons-sparkles text-pink-600 dark:text-pink-300"},null,-1)),se(" Boosting all upgrades by "+b(te()),1)])):Q("",!0)],64)):Q("",!0),Ae.isHarvestable?(f(),h(Ce,{key:7},[ce[56]||(ce[56]=r("span",{class:"text-xs mt-1 font-medium text-green-600 dark:text-green-400"},"Ready to harvest!",-1)),r("span",{class:V(["text-xs",g(u).text])},b(g(l)(Oe(Ae.id)))+" honeydew ",3),Ae.type==="golden"&&D.value?(f(),h("span",one,[ce[55]||(ce[55]=r("span",{class:"i-heroicons-bolt text-yellow-600 dark:text-yellow-300"},null,-1)),se(" "+b(Ee())+" chance for double yield ",1)])):Q("",!0)],64)):(f(),h(Ce,{key:8},[r("span",rne,b(g(e).getFieldProgressPercentage(Ae.id))+"% grown ",1),r("span",nne,b(ve(Ae.id)),1),r("span",ane,[ce[57]||(ce[57]=se(" Expected: ")),r("span",{class:V(g(u).text)},b(g(l)(Oe(Ae.id)))+" honeydew",3)]),A.value?(f(),h("span",ine,[ce[58]||(ce[58]=r("span",{class:"i-heroicons-sparkles"},null,-1)),se("+"+b(L.value),1)])):Q("",!0)],64))],64)):(f(),h(Ce,{key:1},[ce[59]||(ce[59]=r("span",{class:"text-sm opacity-70"},"Empty Field",-1)),ce[60]||(ce[60]=r("span",{class:"text-base font-bold"},"Click to plant aphids",-1))],64)),Ae.hasAutoFarming?(f(),h("div",lne,[r("span",cne,[r("span",{class:V(Ae.autoFarmingEnabled?"i-heroicons-play-circle text-green-600":"i-heroicons-pause-circle text-amber-600")},null,2),se(" Auto Farming "+b(Ae.autoFarmingEnabled?"On":"Off"),1)]),Ae.autoFarmingEnabled?(f(),h("div",dne,[ce[61]||(ce[61]=r("span",{class:"text-2xs text-green-700 dark:text-green-300"},"Auto type:",-1)),r("div",une,[Ae.preferredAphidType?(f(),h("div",mne,[r("span",{class:V(["text-2xs font-medium",Ae.preferredAphidType?g(e).APHID_TYPES[Ae.preferredAphidType].color:""])},b(Ae.preferredAphidType?g(e).APHID_TYPES[Ae.preferredAphidType].name:""),3)])):Q("",!0),r("select",{class:"text-2xs bg-transparent border-0 p-0 focus:ring-0 cursor-pointer w-24 h-5 text-center styled-select opacity-0",value:Ae.preferredAphidType,onChange:Xe=>_e(Ae.id,Xe.target.value),onClick:ce[6]||(ce[6]=at(()=>{},["stop"]))},[(f(!0),h(Ce,null,De(de.value,Xe=>(f(),h("option",{key:Xe.id,value:Xe.type,style:Je({backgroundColor:`var(--${Xe.color.split("-")[1]}-100)`,color:`var(--${Xe.color.split("-")[1]}-800)`,fontWeight:"bold"})},b(Xe.name),13,fne))),128))],40,pne)])])):Q("",!0)])):Q("",!0)]),r("div",gne,[r("button",{class:V(["text-xs px-2 py-1 rounded transition-colors",[g(e).canUpgradeField(Ae.id)?"bg-amber-200 hover:bg-amber-300 dark:bg-amber-700 dark:hover:bg-amber-600":"bg-amber-200/50 dark:bg-amber-700/50 opacity-50 cursor-not-allowed"]]),onClick:at(Xe=>O(Ae.id),["stop"]),disabled:!g(e).canUpgradeField(Ae.id)},[ce[62]||(ce[62]=se(" Upgrade ")),r("span",{class:V(g(u).text)},"("+b(g(l)(g(e).getFieldUpgradeCost(Ae.id)))+")",3)],10,hne),Ae.hasAutoFarming?(f(),h("button",{key:0,class:"text-xs px-2 py-1 rounded bg-green-200 hover:bg-green-300 dark:bg-green-700 dark:hover:bg-green-600 transition-colors flex items-center gap-1",onClick:at(Xe=>we(Ae.id),["stop"])},[r("span",{class:V(Ae.autoFarmingEnabled?"i-heroicons-pause":"i-heroicons-play")},null,2),se(" "+b(Ae.autoFarmingEnabled?"Pause Auto":"Start Auto"),1)],8,bne)):pe(Ae.id)&&g(e).canPurchaseAutoFarming(Ae.id)?(f(),h("button",{key:1,class:"text-xs px-2 py-1 rounded bg-green-200 hover:bg-green-300 dark:bg-green-700 dark:hover:bg-green-600 transition-colors flex items-center gap-1",onClick:at(Xe=>He(Ae.id),["stop"])},[ce[64]||(ce[64]=r("span",{class:"i-heroicons-bolt text-green-700 dark:text-green-300"},null,-1)),r("span",null,[ce[63]||(ce[63]=se("Auto Farm ")),r("span",{class:V(g(u).text)},"("+b(g(l)(g(e).calculateAutoFarmingCost(Ae.id)))+")",3)])],8,vne)):(f(),h("button",yne,[ce[65]||(ce[65]=r("span",{class:"i-heroicons-bolt text-green-700/50 dark:text-green-300/50"},null,-1)),pe(Ae.id)?(f(),h("span",kne,"Auto Farm ("+b(g(l)(g(e).calculateAutoFarmingCost(Ae.id)))+")",1)):(f(),h("span",xne,"Auto Farm (Lvl 10+)"))]))])])],14,Bre),m.value===Ae.id?(f(),h("div",{key:0,class:"absolute inset-0 bg-amber-50/95 dark:bg-amber-900/95 rounded-lg border-2 border-amber-400 shadow-lg z-20 p-2 overflow-hidden",style:{"max-height":"100%","max-width":"100%"},onClick:ce[8]||(ce[8]=at(()=>{},["stop"]))},[r("div",_ne,[ce[68]||(ce[68]=r("h3",{class:"font-semibold"}," Select Aphid ",-1)),r("button",{class:"text-amber-700 dark:text-amber-300 hover:text-amber-900 dark:hover:text-amber-100",onClick:ce[7]||(ce[7]=at(Xe=>m.value=null,["stop"]))},ce[67]||(ce[67]=[r("span",{class:"i-heroicons-x-mark"},null,-1)]))]),r("div",wne,[(f(!0),h(Ce,null,De(de.value,Xe=>(f(),h("button",{key:Xe.id,class:"text-left px-2 py-1.5 rounded flex items-center gap-1.5 hover:bg-amber-200/50 dark:hover:bg-amber-800/50 transition-colors text-sm",onClick:Ps=>U(Ae.id,Xe.type)},[r("span",{class:V([Xe.color])},"",2),r("div",null,[r("div",null,b(Xe.name),1),r("div",Sne,[r("span",null,"Yield: "+b(g(l)(Xe.baseYield)),1),r("span",null,"Time: "+b(Xe.growthTime)+" trips",1)])])],8,Cne))),128))])])):Q("",!0)]))),128))])])):S.value==="types"?(f(),h("div",$ne,[ce[76]||(ce[76]=r("h2",{class:"text-lg font-semibold mb-4"},"Aphid Types",-1)),ce[77]||(ce[77]=r("h3",{class:"text-sm font-medium border-b border-amber-200 dark:border-amber-800 pb-1 mb-2"},"Available Aphids",-1)),r("div",Ene,[(f(!0),h(Ce,null,De(de.value,Ae=>(f(),h("div",{key:Ae.id,class:"p-3 rounded bg-amber-100/50 dark:bg-amber-900/30 flex flex-col"},[r("div",Ane,[r("span",{class:V([Ae.color,"font-medium"])},b(Ae.name),3),r("div",Mne,[r("button",{class:"text-xs px-1.5 py-0.5 rounded bg-green-200 hover:bg-green-300 dark:bg-green-700 dark:hover:bg-green-600 transition-colors flex items-center gap-1",onClick:Xe=>{v.value=Ae.type,S.value="upgrades"}},ce[69]||(ce[69]=[r("span",{class:"i-heroicons-arrow-up-circle text-green-700 dark:text-green-300"},null,-1),se(" Upgrades ")]),8,Pne),ce[70]||(ce[70]=r("span",{class:"text-xs px-1.5 py-0.5 rounded bg-amber-200/50 dark:bg-amber-800/50"}," Unlocked ",-1))])]),r("p",Tne,b(Ae.description),1),r("div",Lne,[r("div",Ine,[ce[71]||(ce[71]=r("span",{class:"opacity-70"},"Yield:",-1)),r("span",Dne,b(g(l)(Ae.baseYield)),1)]),r("div",Fne,[ce[72]||(ce[72]=r("span",{class:"opacity-70"},"Growth:",-1)),r("span",Rne,b(Ae.growthTime)+" trips",1)])])]))),128))]),ce[78]||(ce[78]=r("h3",{class:"text-sm font-medium border-b border-amber-200 dark:border-amber-800 pb-1 mb-2"},"Unlock New Aphids",-1)),r("div",Une,[(f(!0),h(Ce,null,De(re.value,Ae=>(f(),h("div",{key:Ae.id,class:"p-3 rounded bg-amber-100/30 dark:bg-amber-900/20 flex flex-col"},[r("div",Bne,[r("span",{class:V([Ae.color,"font-medium"])},b(Ae.name),3),r("button",{class:V(["text-xs px-1.5 py-0.5 rounded transition-colors",[g(c)(Ae.unlockCost)?"bg-amber-300 hover:bg-amber-400 dark:bg-amber-700 dark:hover:bg-amber-600":"bg-amber-300/50 dark:bg-amber-700/50 opacity-50 cursor-not-allowed"]]),onClick:Xe=>Y(Ae.type),disabled:!g(c)(Ae.unlockCost)},[ce[73]||(ce[73]=se(" Unlock ")),r("span",{class:V(g(u).text)},"("+b(g(l)(Ae.unlockCost))+")",3)],10,qne)]),r("p",One,b(Ae.description),1),r("div",Nne,[r("div",Hne,[ce[74]||(ce[74]=r("span",{class:"opacity-70"},"Yield:",-1)),r("span",jne,b(g(l)(Ae.baseYield)),1)]),r("div",Gne,[ce[75]||(ce[75]=r("span",{class:"opacity-70"},"Growth:",-1)),r("span",Vne,b(Ae.growthTime)+" trips",1)])])]))),128))])])):S.value==="upgrades"?(f(),h("div",Qne,[ce[91]||(ce[91]=r("h2",{class:"text-lg font-semibold mb-4"},"Aphid Upgrades",-1)),v.value==="golden"&&(T.value||D.value)?(f(),h("div",zne,[ce[83]||(ce[83]=r("h4",{class:"text-sm font-medium text-amber-700 dark:text-amber-300 mb-1"},"Golden Aphid Effects Currently Active",-1)),T.value?(f(),h("div",Wne,[ce[80]||(ce[80]=r("span",{class:"i-heroicons-sun text-amber-600 dark:text-amber-300 mt-0.5"},null,-1)),r("div",null,[ce[79]||(ce[79]=r("span",{class:"font-medium"},"Golden Aura:",-1)),r("span",null,"Golden Aphids boost adjacent fields' yields by "+b(Ne()),1)])])):Q("",!0),D.value?(f(),h("div",Yne,[ce[82]||(ce[82]=r("span",{class:"i-heroicons-bolt text-yellow-600 dark:text-yellow-300 mt-0.5"},null,-1)),r("div",null,[ce[81]||(ce[81]=r("span",{class:"font-medium"},"Radiant Harvest:",-1)),r("span",null,"Golden Aphids have a "+b(Ee())+" chance to yield double honeydew when harvested.",1)])])):Q("",!0)])):Q("",!0),v.value==="pheromelion"&&(w.value||F.value)?(f(),h("div",Kne,[ce[88]||(ce[88]=r("h4",{class:"text-sm font-medium text-pink-700 dark:text-pink-300 mb-1"},"Pheromelion Aphid Effects Currently Active",-1)),w.value?(f(),h("div",Xne,[ce[85]||(ce[85]=r("span",{class:"i-heroicons-rocket-launch text-pink-600 dark:text-pink-300 mt-0.5"},null,-1)),r("div",null,[ce[84]||(ce[84]=r("span",{class:"font-medium"},"Pheromone Catalyst:",-1)),r("span",null,"All aphid types grow "+b(J())+" faster when you have Pheromelion Aphids planted.",1)])])):Q("",!0),F.value?(f(),h("div",Zne,[ce[87]||(ce[87]=r("span",{class:"i-heroicons-sparkles text-pink-600 dark:text-pink-300 mt-0.5"},null,-1)),r("div",null,[ce[86]||(ce[86]=r("span",{class:"font-medium"},"Pheromone Empowerment:",-1)),r("span",null,"All aphid upgrades are "+b(te())+" more effective when you have Pheromelion Aphids planted.",1)])])):Q("",!0)])):Q("",!0),r("div",Jne,[(f(!0),h(Ce,null,De(le.value,Ae=>(f(),h("button",{key:Ae.type,class:V(["px-2 py-1 rounded text-xs",[Ae.color,v.value===Ae.type?"bg-amber-200 dark:bg-amber-800":"bg-amber-100 dark:bg-amber-900 opacity-70 hover:opacity-100"]]),onClick:Xe=>v.value=Ae.type},b(Ae.name),11,eae))),128))]),r("div",tae,[r("h3",{class:V([g(e).APHID_TYPES[v.value].color,"font-medium text-sm mb-2"])},b(g(e).APHID_TYPES[v.value].name)+" Upgrades ",3),r("div",sae,[(f(!0),h(Ce,null,De(z.value,Ae=>(f(),h("div",{key:Ae.id,class:"bg-amber-50 dark:bg-amber-950 p-3 rounded border border-amber-200 dark:border-amber-800"},[r("div",oae,[r("h4",rae,b(Ae.name),1),r("span",nae," Level "+b(K(Ae.id)),1)]),r("p",aae,b(g(e).getUpgradeDescription(Ae.id)),1),r("div",iae,[ce[90]||(ce[90]=r("div",{class:"text-xs opacity-70"}," Effect increases with each level ",-1)),g(e).getUpgradeLevel(Ae.id)<Ae.maxLevel?(f(),h("button",{key:0,class:V(["text-xs px-2 py-1 rounded transition-colors",[g(e).canPurchaseUpgrade(Ae.id)?"bg-amber-300 hover:bg-amber-400 dark:bg-amber-700 dark:hover:bg-amber-600":"bg-amber-300/50 dark:bg-amber-700/50 opacity-50 cursor-not-allowed"]]),onClick:Xe=>me(Ae.id),disabled:!g(e).canPurchaseUpgrade(Ae.id)},[ce[89]||(ce[89]=se(" Upgrade ")),r("span",{class:V(g(u).text)},"("+b(g(l)(g(e).calculateUpgradeCost(Ae.id)))+")",3)],10,lae)):(f(),h("span",cae," Max Level "))])]))),128))])])])):S.value==="global"?(f(),h("div",dae,[ce[92]||(ce[92]=r("h2",{class:"text-lg font-semibold mb-4"},"Global Upgrades",-1)),Fe(rre)])):S.value==="cross-feature"?(f(),h("div",uae,[ce[100]||(ce[100]=r("h2",{class:"text-lg font-semibold mb-4 flex items-center gap-2"},[r("span",{class:"i-heroicons-puzzle-piece"}),se(" Cross-Feature Upgrades ")],-1)),r("div",mae,[ce[99]||(ce[99]=r("h3",{class:"font-medium text-sm mb-2 text-lime-700 dark:text-lime-300"}," Honeydew from Bugs ",-1)),r("div",pae,[g(e).hasBugHoneydewDropUpgrade?(f(),h(Ce,{key:1},[ce[97]||(ce[97]=r("div",{class:"flex justify-between items-center"},[r("h4",{class:"font-medium text-sm"},"Bug Honeydew Drops"),r("span",{class:"text-xs px-2 py-1 rounded bg-green-200 dark:bg-green-900 text-green-700 dark:text-green-300"}," Active ")],-1)),ce[98]||(ce[98]=r("p",{class:"text-xs my-1 opacity-85"}," Bugs defeated in Adventure mode now drop 1 honeydew each. ",-1))],64)):(f(),h(Ce,{key:0},[ce[95]||(ce[95]=r("h4",{class:"font-medium text-sm"},"Unlock Bug Honeydew Drops",-1)),ce[96]||(ce[96]=r("p",{class:"text-xs my-1 opacity-85"},[se(" Allow bugs defeated in Adventure mode to drop a small amount (1) of honeydew. "),r("span",{class:"font-bold"},"Requires Adventure Mode to be unlocked.")],-1)),r("div",fae,[ce[94]||(ce[94]=r("div",{class:"text-xs opacity-70"}," Fixed 1 honeydew per kill. No multipliers apply. ",-1)),r("button",{class:V(["text-xs px-2 py-1 rounded transition-colors",[g(e).canPurchaseBugHoneydewDropUpgrade&&g(s).isAdventureUnlocked?"bg-lime-300 hover:bg-lime-400 dark:bg-lime-700 dark:hover:bg-lime-600":"bg-lime-300/50 dark:bg-lime-700/50 opacity-50 cursor-not-allowed"]]),onClick:Ke,disabled:!g(e).canPurchaseBugHoneydewDropUpgrade||!g(s).isAdventureUnlocked,title:g(s).isAdventureUnlocked?"":"Requires Adventure Mode unlocked"},[ce[93]||(ce[93]=se(" Unlock ")),r("span",{class:V(g(u).text)},"("+b(g(l)(g(e).calculateBugHoneydewDropUpgradeCost()))+")",3)],10,gae)])],64))])])])):Q("",!0)])]))}}),bae=st(hae,[["__scopeId","data-v-6c7e4cbf"]]),vae={class:"flex items-center justify-between mb-2"},yae={class:"flex items-center gap-3"},xae={class:"relative w-12 h-12 flex-shrink-0"},kae=["src","alt"],_ae={class:"text-lg font-bold flex-grow min-w-0"},wae={key:0,class:"text-xs text-red-600 dark:text-red-400 mb-2"},Cae={class:"text-sm mb-3 line-clamp-2"},Sae={class:"grid grid-cols-3 gap-2 mb-3"},$ae={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-indigo-200 dark:border-indigo-700"},Eae={class:"text-sm font-bold flex items-center"},Aae={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-indigo-200 dark:border-indigo-700"},Mae={class:"text-sm font-bold flex items-center"},Pae={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-indigo-200 dark:border-indigo-700"},Tae={class:"text-sm font-bold flex items-center"},Lae=["title"],Iae={class:"font-medium"},Dae={key:2,class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700 mb-2"},Fae={class:"text-xs text-amber-700 dark:text-amber-400 font-medium flex justify-between"},Rae={class:"h-2 bg-amber-100 dark:bg-amber-900/50 rounded-full mt-1 overflow-hidden"},Uae={class:"mb-3"},Bae={class:"space-y-1"},qae={class:"flex items-center text-sm bg-white/50 dark:bg-gray-800/50 px-2 py-1 rounded-md border border-gray-200 dark:border-gray-700"},Oae={class:"font-medium"},Nae={key:0,class:"flex items-center text-sm bg-white/50 dark:bg-gray-800/50 px-2 py-1 rounded-md border border-gray-200 dark:border-gray-700"},Hae={class:"font-medium"},jae={key:1,class:"flex items-center text-sm bg-white/50 dark:bg-gray-800/50 px-2 py-1 rounded-md border border-gray-200 dark:border-gray-700"},Gae={class:"font-medium"},Vae={key:0,class:"text-xs ml-1 text-gray-500 dark:text-gray-400"},Qae={key:3},zae={key:0,class:"ml-1 font-mono"},Mh=Ue({__name:"BossCard",props:{boss:{},isActive:{type:Boolean},isDefeated:{type:Boolean},isLocked:{type:Boolean}},emits:["select"],setup(t,{emit:e}){const s=t,o=Ns(),n=vt(),i=Tt(),l=R(()=>o.getBossHealthPercentage(s.boss.id)),c=R(()=>{try{return new URL(Object.assign({"../../assets/bosses/boss_ant_golem.png":q1,"../../assets/bosses/boss_ascended_ant_god.png":O1,"../../assets/bosses/boss_chrono_beetle.png":N1,"../../assets/bosses/boss_cosmic_hivemind.png":H1,"../../assets/bosses/boss_devourer_moth.png":j1,"../../assets/bosses/boss_dimensional_horror.png":G1,"../../assets/bosses/boss_galactic_devourer_ant.png":V1,"../../assets/bosses/boss_giant_spider.png":Q1,"../../assets/bosses/boss_mantis_lord.png":z1,"../../assets/bosses/boss_nebula_wasp_queen.png":W1,"../../assets/bosses/boss_omega_ant.png":Y1,"../../assets/bosses/boss_primordial_insectoid.png":K1,"../../assets/bosses/boss_quantum_entanglement.png":X1,"../../assets/bosses/boss_queen_bee.png":Z1,"../../assets/bosses/boss_reality_weaver_spider.png":J1,"../../assets/bosses/boss_scorpion_emperor.png":ex,"../../assets/bosses/boss_slime_king.png":tx,"../../assets/bosses/boss_training_dummy.png":sx,"../../assets/bosses/boss_void_larva.png":ox})[`../../assets/bosses/${s.boss.id}.png`],import.meta.url).href}catch{return null}}),d=R(()=>o.isBossCooldownActive),u=R(()=>s.isDefeated?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 border-green-200 dark:border-green-700":s.isActive?"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 border-amber-200 dark:border-amber-700":s.isLocked?"bg-gray-100 dark:bg-gray-900/30 text-gray-500 dark:text-gray-400 border-gray-200 dark:border-gray-700":d.value?"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 border-red-200 dark:border-red-700":"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 border-indigo-200 dark:border-indigo-700"),m=R(()=>s.isDefeated?"from-green-100/50 to-green-50/50 dark:from-green-900/20 dark:to-green-800/10 border-green-200/50 dark:border-green-700/50":s.isActive?"from-amber-100/50 to-amber-50/50 dark:from-amber-900/20 dark:to-amber-800/10 border-amber-200/50 dark:border-amber-700/50":s.isLocked?"from-gray-100/50 to-gray-50/50 dark:from-gray-900/20 dark:to-gray-800/10 border-gray-200/50 dark:border-gray-700/50":"from-indigo-100/50 to-indigo-50/50 dark:from-indigo-900/20 dark:to-indigo-800/10 border-indigo-200/50 dark:border-indigo-700/50"),p=R(()=>s.isDefeated?"i-heroicons-check-circle text-green-600 dark:text-green-400":s.isActive?"i-heroicons-bolt text-amber-600 dark:text-amber-400":s.isLocked?"i-heroicons-lock-closed text-gray-500 dark:text-gray-400":d.value?"i-heroicons-clock text-red-600 dark:text-red-400":"i-heroicons-shield-exclamation text-indigo-600 dark:text-indigo-400"),y=P=>{var L,B;switch(P.type){case"bugKills":return`Kill ${ie(a(P.value))} total bugs`;case"specificBugKills":{const k=((L=P.target)==null?void 0:L.replace(/_/g," ").replace(/\b\w/g,I=>I.toUpperCase()))||"specific bugs";return`Kill ${ie(a(P.value))} ${k}`}case"foodPerSecond":return`Reach ${ie(a(P.value))} Food/sec`;case"bossDeath":return`Defeat ${((B=P.target)==null?void 0:B.replace(/_/g," ").replace(/\b\w/g,I=>I.toUpperCase()).replace("Boss ",""))||"a specific boss"}`;case"none":return"Always unlocked";default:return"Unknown requirement"}},v=P=>{switch(P.type){case"bugKills":return o.getTotalBugKills()>=P.value;case"specificBugKills":return o.getBugKillCount(P.target)>=P.value;case"foodPerSecond":return n.foodPerSecond.gte(P.value);case"bossDeath":return o.isBossDefeated(P.target);case"none":return!0;default:return!1}},S=P=>{if(v(P))return"";switch(P.type){case"bugKills":return`(${ie(a(o.getTotalBugKills()))} / ${ie(a(P.value))})`;case"specificBugKills":return`(${ie(a(o.getBugKillCount(P.target)))} / ${ie(a(P.value))})`;case"foodPerSecond":return P.value&&n.foodPerSecond.gt(0)?`(${ie(n.foodPerSecond)} / ${ie(a(P.value))})`:`(0 / ${ie(a(P.value))})`;case"bossDeath":case"none":default:return""}},_=e,C=()=>{if(!(s.isLocked||s.isActive||o.isBossCooldownActive)){if(!o.checkBossUnlockRequirements(s.boss)){console.warn("Attempted to select boss without meeting requirements",s.boss.id);return}_("select",s.boss.id)}},x=P=>{P.stopPropagation(),s.isDefeated&&(o.repeatableBossFightId===s.boss.id?o.setRepeatableBoss(null):o.setRepeatableBoss(s.boss.id))},$=R(()=>o.repeatableBossFightId===s.boss.id),A=R(()=>o.calculateBossFoodReward(s.boss).reward),M=R(()=>s.boss.reward.guaranteedItemId?i.getItem(s.boss.reward.guaranteedItemId):null);return(P,L)=>(f(),h("div",{onClick:C,class:V(["bg-gradient-to-br border rounded-xl p-3 shadow-sm transition-all duration-300 relative h-full",[m.value,!s.isLocked&&!s.isActive&&!d.value?"cursor-pointer hover:shadow-md scale-100 hover:scale-[1.02]":"",s.isActive?"shadow-md ring-2 ring-amber-300 dark:ring-amber-500":"",s.isDefeated?"opacity-80":"",s.isLocked||d.value?"opacity-70 grayscale cursor-not-allowed":""]])},[r("div",vae,[r("div",yae,[r("div",xae,[c.value?(f(),h("img",{key:0,src:c.value||"",alt:s.boss.name,class:"w-full h-full object-contain"},null,8,kae)):(f(),h("span",{key:1,class:V([p.value,"text-3xl absolute inset-0 flex items-center justify-center"])},null,2))]),r("h3",_ae,b(s.boss.name),1)]),r("div",{class:V(["text-xs px-2 py-0.5 rounded-full border",u.value])},b(s.isDefeated?"Defeated":s.isActive?"In Combat":s.isLocked?"Locked":d.value?"Cooldown":"Available"),3)]),d.value&&!s.isActive&&!s.isLocked?(f(),h("div",wae," Cooldown: "+b(g(o).formattedCooldownTime)+" remaining ",1)):Q("",!0),r("p",Cae,b(s.boss.description),1),r("div",Sae,[r("div",$ae,[L[1]||(L[1]=r("div",{class:"text-xs text-indigo-700 dark:text-indigo-400 font-medium"},"Health",-1)),r("div",Eae,[L[0]||(L[0]=r("span",{class:"i-heroicons-heart text-indigo-600 dark:text-indigo-500 mr-1 text-xs"},null,-1)),se(" "+b(g(ie)(s.boss.maxHealth,0)),1)])]),r("div",Aae,[L[3]||(L[3]=r("div",{class:"text-xs text-indigo-700 dark:text-indigo-400 font-medium"},"Attack",-1)),r("div",Mae,[L[2]||(L[2]=r("span",{class:"i-heroicons-bolt text-indigo-600 dark:text-indigo-500 mr-1 text-xs"},null,-1)),se(" "+b(g(ie)(s.boss.damage,0)),1)])]),r("div",Pae,[L[5]||(L[5]=r("div",{class:"text-xs text-indigo-700 dark:text-indigo-400 font-medium"},"Defense",-1)),r("div",Tae,[L[4]||(L[4]=r("span",{class:"i-heroicons-shield-check text-indigo-600 dark:text-indigo-500 mr-1 text-xs"},null,-1)),se(" "+b(g(ie)(s.boss.defense,0)),1)])])]),s.isDefeated?(f(),h("button",{key:1,onClick:x,class:V(["px-3 py-1.5 rounded-lg transition-colors duration-200 flex items-center justify-center mb-3 w-full",[$.value?"bg-cyan-200 dark:bg-cyan-700 text-cyan-800 dark:text-cyan-100 hover:bg-cyan-300 dark:hover:bg-cyan-600 border border-cyan-300 dark:border-cyan-600":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600"]]),title:$.value?"Disable repeating this boss":"Set this boss to repeat automatically after cooldown"},[r("span",{class:V([$.value?"i-heroicons-arrow-path-solid":"i-heroicons-arrow-path","text-lg mr-2"])},null,2),r("span",Iae,b($.value?"Auto-Repeat Enabled":"Enable Auto-Repeat"),1)],10,Lae)):Q("",!0),s.isActive?(f(),h("div",Dae,[r("div",Fae,[L[6]||(L[6]=r("span",null,"Boss Health",-1)),r("span",null,b(Math.round(l.value))+"%",1)]),r("div",Rae,[r("div",{class:"h-full bg-gradient-to-r from-amber-600 to-amber-500 dark:from-amber-500 dark:to-amber-400 transition-all duration-300 ease-out",style:Je({width:`${l.value}%`})},null,4)])])):Q("",!0),r("div",Uae,[L[12]||(L[12]=r("h4",{class:"text-xs font-semibold mb-1 text-gray-600 dark:text-gray-400"},"Potential Rewards:",-1)),r("div",Bae,[r("div",qae,[L[7]||(L[7]=r("span",{class:"i-fluent-food-16-filled text-green-600 dark:text-green-400 mr-1.5"},null,-1)),r("span",Oae,b(g(ie)(A.value)),1),L[8]||(L[8]=r("span",{class:"text-xs ml-1 text-gray-500 dark:text-gray-400"},"(Food)",-1))]),s.boss.reward.essence&&s.boss.reward.essence.gt(0)?(f(),h("div",Nae,[L[9]||(L[9]=r("span",{class:"i-mdi-flask text-purple-600 dark:text-purple-400 mr-1.5"},null,-1)),r("span",Hae,b(g(ie)(s.boss.reward.essence)),1),L[10]||(L[10]=r("span",{class:"text-xs ml-1 text-gray-500 dark:text-gray-400"},"(Essence)",-1))])):Q("",!0),M.value?(f(),h("div",jae,[L[11]||(L[11]=r("span",{class:"i-mdi-treasure-chest text-yellow-600 dark:text-yellow-400 mr-1.5"},null,-1)),r("span",Gae,b(M.value.name),1),s.boss.reward.itemChance&&s.boss.reward.itemChance<1?(f(),h("span",Vae,"("+b(g(dt)(s.boss.reward.itemChance))+" chance)",1)):Q("",!0)])):Q("",!0)])]),!s.isDefeated&&s.boss.unlockRequirements.length>0?(f(),h("div",Qae,[L[13]||(L[13]=r("h4",{class:"text-xs font-semibold mb-1 text-gray-600 dark:text-gray-400"},"Requirements:",-1)),(f(!0),h(Ce,null,De(s.boss.unlockRequirements,(B,k)=>(f(),h("div",{key:k},[r("div",{class:V(["flex items-center text-xs",[v(B)?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"]])},[r("span",{class:V(["mr-1.5 text-sm flex-shrink-0",[v(B)?"i-heroicons-check-circle-solid":"i-heroicons-x-circle-solid"]])},null,2),r("span",null,[se(b(y(B))+" ",1),S(B)?(f(),h("span",zae,b(S(B)),1)):Q("",!0)])],2)]))),128))])):Q("",!0)],2))}}),Wae={class:"bg-gradient-to-br from-amber-100/50 to-amber-50/50 dark:from-amber-900/20 dark:to-amber-800/10 rounded-xl p-3 shadow-md border border-amber-200/50 dark:border-amber-700/50"},Yae={class:"flex items-center justify-between mb-3"},Kae={class:"text-lg font-bold flex items-center gap-1 text-amber-800 dark:text-amber-200"},Xae={class:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3"},Zae={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},Jae={class:"text-xs text-amber-700 dark:text-amber-400 font-medium flex justify-between"},eie={class:"h-3 bg-amber-100 dark:bg-amber-900/50 rounded-full mt-1 overflow-hidden"},tie={class:"text-xs text-amber-600 dark:text-amber-400 mt-1"},sie={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-red-200 dark:border-red-700"},oie={class:"text-xs text-red-700 dark:text-red-400 font-medium flex justify-between"},rie={class:"h-3 bg-red-100 dark:bg-red-900/50 rounded-full mt-1 overflow-hidden"},nie={class:"text-xs text-red-600 dark:text-red-400 mt-1"},aie={class:"grid grid-cols-3 gap-2 mb-4"},iie={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},lie={class:"flex justify-between text-sm"},cie={class:"flex items-center text-red-600 dark:text-red-400 font-medium"},die={class:"flex items-center text-amber-600 dark:text-amber-400 font-medium"},uie={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},mie={class:"flex justify-between text-sm"},pie={class:"flex items-center text-red-600 dark:text-red-400 font-medium"},fie={class:"flex items-center text-amber-600 dark:text-amber-400 font-medium"},gie={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},hie={class:"text-sm flex items-center"},bie={class:"font-medium text-red-600 dark:text-red-400"},vie={key:0,class:"bg-red-100 dark:bg-red-900/30 p-2 rounded-lg border border-red-200 dark:border-red-700 text-center"},yie={class:"text-xs text-red-700 dark:text-red-400 flex items-center justify-center"},xie={key:1,class:"mt-4"},kie={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},_ie={class:"font-medium"},wie={class:"ml-1 text-gray-600 dark:text-gray-400"},Cie=Ue({__name:"BossCombatCard",props:{boss:{}},setup(t){const e=t,s=Ns(),o=R(()=>s.getBossHealthPercentage(e.boss.id)),n=R(()=>s.getPlayerHealthPercentage()),i=R(()=>s.currentFight?s.currentFight.currentHealth:e.boss.maxHealth),l=R(()=>{var m;return s.playerHealthDuringBossFight?s.playerHealthDuringBossFight:((m=s.playerStats)==null?void 0:m.maxHealth)||new be(0)}),c=R(()=>{var m;return((m=s.playerStats)==null?void 0:m.maxHealth)||new be(0)}),d=R(()=>s.isBossCooldownActive),u=R(()=>s.formattedCooldownTime);return(m,p)=>{var y,v,S;return f(),h("div",Wae,[r("div",Yae,[r("h3",Kae,[p[0]||(p[0]=r("span",{class:"i-heroicons-bolt text-amber-600 dark:text-amber-400"},null,-1)),se(" Boss Combat: "+b(e.boss.name),1)]),p[1]||(p[1]=r("div",{class:"text-xs px-2 py-0.5 rounded-full border bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 border-amber-200 dark:border-amber-700"}," In Progress ",-1))]),r("div",Xae,[r("div",Zae,[r("div",Jae,[p[2]||(p[2]=r("span",null,"Boss Health",-1)),r("span",null,b(Math.round(o.value))+"%",1)]),r("div",eie,[r("div",{class:"h-full bg-gradient-to-r from-amber-600 to-amber-500 dark:from-amber-500 dark:to-amber-400 transition-all duration-300 ease-out",style:Je({width:`${o.value}%`})},null,4)]),r("div",tie,b(g(ie)(i.value,0))+" / "+b(g(ie)(e.boss.maxHealth,0)),1)]),r("div",sie,[r("div",oie,[p[3]||(p[3]=r("span",null,"Your Health",-1)),r("span",null,b(Math.round(n.value))+"%",1)]),r("div",rie,[r("div",{class:"h-full bg-gradient-to-r from-red-600 to-red-500 dark:from-red-500 dark:to-red-400 transition-all duration-300 ease-out",style:Je({width:`${n.value}%`})},null,4)]),r("div",nie,b(g(ie)(l.value,0))+" / "+b(g(ie)(c.value,0)),1)])]),r("div",aie,[r("div",iie,[p[7]||(p[7]=r("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Attack",-1)),r("div",lie,[r("div",cie,[p[4]||(p[4]=r("span",{class:"i-heroicons-user text-xs mr-1"},null,-1)),se(" "+b(g(ie)(((y=g(s).playerStats)==null?void 0:y.damage)||new(g(be))(0),0)),1)]),p[6]||(p[6]=r("span",{class:"text-gray-400"},"vs",-1)),r("div",die,[se(b(g(ie)(e.boss.damage,0))+" ",1),p[5]||(p[5]=r("span",{class:"i-heroicons-bug-ant text-xs ml-1"},null,-1))])])]),r("div",uie,[p[11]||(p[11]=r("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Defense",-1)),r("div",mie,[r("div",pie,[p[8]||(p[8]=r("span",{class:"i-heroicons-user text-xs mr-1"},null,-1)),se(" "+b(g(ie)(((v=g(s).playerStats)==null?void 0:v.defense)||new(g(be))(0),0)),1)]),p[10]||(p[10]=r("span",{class:"text-gray-400"},"vs",-1)),r("div",fie,[se(b(g(ie)(e.boss.defense,0))+" ",1),p[9]||(p[9]=r("span",{class:"i-heroicons-bug-ant text-xs ml-1"},null,-1))])])]),r("div",gie,[p[13]||(p[13]=r("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Your Regen",-1)),r("div",hie,[p[12]||(p[12]=r("span",{class:"i-heroicons-arrow-path text-red-600 dark:text-red-500 mr-1 text-xs"},null,-1)),r("span",bie,b(g(ie)(((S=g(s).playerStats)==null?void 0:S.regen)||new(g(be))(0),0))+"/tick",1)])])]),d.value?(f(),h("div",vie,[r("div",yie,[p[14]||(p[14]=r("span",{class:"i-heroicons-clock mr-1"},null,-1)),se(" Cooldown active: "+b(u.value)+" remaining until you can challenge another boss ",1)])])):Q("",!0),e.boss.specialAbilities&&e.boss.specialAbilities.length>0?(f(),h("div",xie,[p[16]||(p[16]=r("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium mb-1"},"Special Abilities",-1)),r("div",kie,[(f(!0),h(Ce,null,De(e.boss.specialAbilities,_=>(f(),h("div",{key:_.name,class:"flex items-center text-xs mb-1 last:mb-0"},[p[15]||(p[15]=r("span",{class:"i-heroicons-sparkles text-amber-600 dark:text-amber-400 mr-1"},null,-1)),r("span",_ie,b(_.name)+":",1),r("span",wie,b(_.type==="periodicDamage"?`Deals ${g(ie)(_.value,0)} periodic damage`:_.type==="defenseBuff"?`Increases defense by ${g(ie)(_.value,2)}x`:_.type==="playerDebuff"?`Reduces your damage by ${g(ie)(_.value.mul(100),0)}%`:_.type),1)]))),128))])])):Q("",!0)])}}}),Sie={class:"bg-gradient-to-br from-indigo-100/50 to-indigo-50/50 dark:from-indigo-900/20 dark:to-indigo-800/10 rounded-xl p-3 shadow-md border border-indigo-200/50 dark:border-indigo-700/50"},$ie={class:"flex items-center justify-between mb-2"},Eie={class:"flex items-center"},Aie={key:0,class:"i-heroicons-arrow-down-circle text-xs mr-1"},Mie={key:1,class:"i-heroicons-pause-circle text-xs mr-1"},Pie={key:0,class:"flex flex-col items-center justify-center h-full text-gray-500 dark:text-gray-400"},Tie={key:1,class:"space-y-1.5"},Lie={class:"flex items-start gap-1.5"},Iie=Ue({__name:"BossLogCard",setup(t){const e=Ns(),s=W(null),o=W(!0),n=()=>{o.value&&s.value&&setTimeout(()=>{s.value&&(s.value.scrollTop=s.value.scrollHeight)},10)},i=()=>{o.value=!o.value,o.value&&n()};R(()=>(e.bossLogs.length>0&&n(),e.bossLogs.length));const l=d=>{switch(d){case"combat":return"text-amber-700 dark:text-amber-400";case"reward":return"text-emerald-700 dark:text-emerald-400";case"info":default:return"text-blue-700 dark:text-blue-400"}},c=d=>{switch(d){case"combat":return"i-heroicons-bolt";case"reward":return"i-heroicons-gift";case"info":default:return"i-heroicons-information-circle"}};return(d,u)=>(f(),h("div",Sie,[r("div",$ie,[u[0]||(u[0]=r("h3",{class:"text-lg font-bold flex items-center gap-1 text-indigo-800 dark:text-indigo-200"},[r("span",{class:"i-heroicons-chat-bubble-left-ellipsis text-indigo-600 dark:text-indigo-400"}),se(" Combat Log ")],-1)),r("button",{onClick:i,class:V(["text-xs px-2 py-0.5 rounded-full border transition-colors",o.value?"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 border-indigo-200 dark:border-indigo-700":"bg-gray-100 dark:bg-gray-900/30 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-700"])},[r("span",Eie,[o.value?(f(),h("span",Aie)):(f(),h("span",Mie)),se(" "+b(o.value?"Auto-Scroll":"Paused"),1)])],2)]),r("div",{ref_key:"logContainer",ref:s,class:"h-64 overflow-y-auto bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-indigo-200 dark:border-indigo-700 scrollbar-hide"},[g(e).bossLogs.length===0?(f(),h("div",Pie,u[1]||(u[1]=[r("span",{class:"i-heroicons-document-text text-3xl mb-2 opacity-50"},null,-1),r("p",{class:"text-sm"},"Combat log is empty. Start a boss fight to see the action!",-1)]))):(f(),h("div",Tie,[(f(!0),h(Ce,null,De(g(e).bossLogs,m=>(f(),h("div",{key:m.timestamp,class:V(["text-sm p-1.5 rounded-lg border",{"bg-white dark:bg-gray-800 border-indigo-100 dark:border-indigo-800":m.type==="info","bg-amber-50 dark:bg-amber-900/20 border-amber-100 dark:border-amber-800":m.type==="combat","bg-emerald-50 dark:bg-emerald-900/20 border-emerald-100 dark:border-emerald-800":m.type==="reward"}])},[r("div",Lie,[r("span",{class:V([[c(m.type),l(m.type)],"mt-0.5 flex-shrink-0"])},null,2),r("span",null,b(m.message),1)])],2))),128))]))],512)]))}}),Die=st(Iie,[["__scopeId","data-v-bfa5379a"]]),Fie={class:"bg-gradient-to-br from-amber-100 to-amber-50 dark:from-amber-900/40 dark:to-amber-800/30 rounded-xl p-3 shadow-md"},Rie={class:"flex items-center justify-between mb-2"},Uie={class:"text-xs bg-amber-900/30 dark:bg-amber-950/50 px-2 py-0.5 rounded-full whitespace-nowrap"},Bie={class:"w-full h-2 bg-amber-900/30 dark:bg-amber-950/50 rounded-full overflow-hidden"},qie={class:"text-xs text-amber-600 dark:text-amber-400 mt-1"},Oie=Ue({__name:"BossProgressBar",setup(t){const e=As();return(s,o)=>(f(),h("div",Fie,[r("div",Rie,[o[0]||(o[0]=r("h2",{class:"text-base font-bold flex items-center"},[r("span",{class:"i-heroicons-clock text-amber-700 dark:text-amber-500 mr-2"}),se(" Boss Combat Timer ")],-1)),r("span",Uie,b(g(e).bossTimeRemaining)+"s ",1)]),r("div",Bie,[r("div",{class:"h-full bg-gradient-to-r from-amber-600 to-amber-500 dark:from-amber-500 dark:to-amber-400 transition-all duration-100 ease-linear",style:Je({width:`${g(e).bossProgressPercentage}%`})},null,4)]),r("div",qie,b(g(e).bossProgressPercentage)+"% ",1)]))}}),Nie={class:"bg-gradient-to-br from-amber-100 to-amber-50 dark:from-amber-900/40 dark:to-amber-800/30 rounded-xl p-3 shadow-md"},Hie={class:"flex items-center gap-4 mb-3"},jie={class:"relative w-16 h-16"},Gie={class:"relative z-10 w-full h-full"},Vie=["src"],Qie={key:1,class:"i-heroicons-user-circle text-amber-700 dark:text-amber-500 text-4xl absolute inset-0 flex items-center justify-center"},zie={class:"grid grid-cols-2 sm:grid-cols-4 gap-2"},Wie={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},Yie={class:"text-sm font-bold flex items-center"},Kie={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},Xie={class:"text-sm font-bold flex items-center"},Zie={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},Jie={class:"text-sm font-bold flex items-center"},ele={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},tle={class:"text-sm font-bold flex items-center"},sle=Ue({__name:"PlayerStatsBossCard",setup(t){const e=Ns(),{analyzeImage:s}=Hm(),o=W("#f3f4f6"),n=W("#e5e7eb"),i=R(()=>ie(e.playerStats.damage,0)),l=R(()=>ie(e.playerStats.maxHealth,0)),c=R(()=>ie(e.playerStats.regen,0)),d=R(()=>ie(e.playerStats.defense,0)),u=R(()=>{try{return new URL("/assets/player-CETUAJX7.png",import.meta.url).href}catch{return null}});return tt(async()=>{if(u.value){const m=await s(u.value);o.value=m.backgroundColor,n.value=m.borderColor}}),(m,p)=>(f(),h("div",Nie,[r("div",Hie,[r("div",jie,[r("div",{class:"absolute inset-0 rounded-full shadow-md border-2",style:Je({backgroundColor:o.value,borderColor:n.value})},null,4),r("div",Gie,[u.value?(f(),h("img",{key:0,src:u.value,alt:"Player",class:"w-full h-full object-contain p-1"},null,8,Vie)):(f(),h("span",Qie))])]),p[0]||(p[0]=r("div",null,[r("h2",{class:"text-base font-bold text-amber-800 dark:text-amber-200"},"Player Stats"),r("p",{class:"text-xs text-amber-600 dark:text-amber-400"},"Combat statistics for boss battles")],-1))]),r("div",zie,[r("div",Wie,[p[2]||(p[2]=r("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Attack",-1)),r("div",Yie,[p[1]||(p[1]=r("span",{class:"i-heroicons-bolt text-amber-600 dark:text-amber-500 mr-1 text-xs"},null,-1)),se(" "+b(i.value),1)])]),r("div",Kie,[p[4]||(p[4]=r("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Health",-1)),r("div",Xie,[p[3]||(p[3]=r("span",{class:"i-heroicons-heart text-amber-600 dark:text-amber-500 mr-1 text-xs"},null,-1)),se(" "+b(l.value),1)])]),r("div",Zie,[p[6]||(p[6]=r("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Defense",-1)),r("div",Jie,[p[5]||(p[5]=r("span",{class:"i-heroicons-shield-check text-amber-600 dark:text-amber-500 mr-1 text-xs"},null,-1)),se(" "+b(d.value),1)])]),r("div",ele,[p[8]||(p[8]=r("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Regen",-1)),r("div",tle,[p[7]||(p[7]=r("span",{class:"i-heroicons-arrow-path text-amber-600 dark:text-amber-500 mr-1 text-xs"},null,-1)),se(" "+b(c.value),1)])])])]))}}),ole={class:"space-y-4 px-2 sm:px-0 pb-14"},rle={key:0,class:"bg-gradient-to-br from-amber-100 to-amber-50 dark:from-amber-900/30 dark:to-amber-800/20 rounded-xl p-6 shadow-md border border-amber-200 dark:border-amber-700/50 text-center"},nle={key:0,class:"space-y-3"},ale={class:"flex flex-wrap items-center justify-between gap-2 mb-2"},ile={class:"flex items-center space-x-2"},lle={class:"text-xs bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 px-2 py-0.5 rounded-full"},cle={class:"flex space-x-2"},dle={class:"flex items-center cursor-pointer"},ule={key:2,class:"bg-gray-100 dark:bg-gray-800 rounded-xl p-6 text-center"},mle=Ue({__name:"BossPage",setup(t){const e=Ns(),{showToast:s}=zt(),o=W("comfortable"),n=W(!0),i=R(()=>e.isBossSystemUnlocked),l=R(()=>{switch(o.value){case"compact":return"grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4";case"comfortable":return"grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3";case"spacious":return"grid-cols-1 md:grid-cols-2";default:return"grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3"}}),c=m=>{if(e.isBossCooldownActive){s(`You must wait ${e.formattedCooldownTime} before challenging another boss.`,"warning");return}e.startBossFight(m)},d=R(()=>{const m=e.unlockedAndAvailableBosses;return n.value?m:m.filter(p=>!e.isBossDefeated(p.id))}),u=R(()=>{const m=e.allBosses.findIndex(p=>p.id===e.highestUnlockedBossId);return m<e.allBosses.length-1?e.allBosses[m+1]:null});return tt(()=>{e.initialize()}),(m,p)=>(f(),h("div",ole,[p[7]||(p[7]=r("h1",{class:"text-xl font-bold mb-2 flex items-center"},[r("span",{class:"i-heroicons-trophy text-amber-700 dark:text-amber-500 mr-2"}),se(" Boss Challenges ")],-1)),i.value?(f(),h(Ce,{key:1},[Fe(sle),g(e).isBossFightActive&&g(e).currentBossData?(f(),h("div",nle,[Fe(Oie),Fe(Cie,{boss:g(e).currentBossData},null,8,["boss"])])):Q("",!0),g(e).bossLogs.length>0?(f(),rt(Die,{key:1})):Q("",!0),r("div",ale,[r("div",ile,[p[3]||(p[3]=r("h2",{class:"text-lg font-bold text-amber-800 dark:text-amber-200"}," Available Bosses ",-1)),r("div",lle,b(d.value.length)+" "+b(d.value.length===1?"Boss":"Bosses"),1)]),r("div",cle,[r("label",dle,[ut(r("input",{type:"checkbox","onUpdate:modelValue":p[0]||(p[0]=y=>n.value=y),class:"rounded border-amber-300 text-amber-600 focus:ring-amber-500 dark:border-amber-700 dark:bg-amber-900/30"},null,512),[[Xt,n.value]]),p[4]||(p[4]=r("span",{class:"ml-1.5 text-sm text-amber-700 dark:text-amber-300"},"Show Defeated",-1))]),ut(r("select",{"onUpdate:modelValue":p[1]||(p[1]=y=>o.value=y),class:"text-sm bg-white dark:bg-gray-800 border border-amber-200 dark:border-amber-700 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-amber-500"},p[5]||(p[5]=[r("option",{value:"compact"},"Compact",-1),r("option",{value:"comfortable"},"Comfortable",-1),r("option",{value:"spacious"},"Spacious",-1)]),512),[[Tl,o.value]])])]),r("div",{class:V(["grid gap-3",l.value])},[(f(!0),h(Ce,null,De(d.value,y=>{var v;return f(),rt(Mh,{key:y.id,boss:y,"is-active":((v=g(e).currentFight)==null?void 0:v.bossId)===y.id,"is-defeated":g(e).isBossDefeated(y.id),"is-locked":!1,onSelect:c},null,8,["boss","is-active","is-defeated"])}),128)),u.value&&g(e).canChallengeNextBoss?(f(),rt(Mh,{key:0,boss:u.value,"is-active":!1,"is-defeated":!1,"is-locked":!0},null,8,["boss"])):Q("",!0)],2),d.value.length===0?(f(),h("div",ule,p[6]||(p[6]=[r("p",{class:"text-gray-600 dark:text-gray-400"},"No bosses available. Check back after completing more of the game.",-1)]))):Q("",!0)],64)):(f(),h("div",rle,p[2]||(p[2]=[r("div",{class:"flex flex-col items-center justify-center space-y-3"},[r("span",{class:"i-heroicons-lock-closed text-amber-600 dark:text-amber-400 text-5xl"}),r("h2",{class:"text-lg font-bold text-amber-800 dark:text-amber-200"},"Boss Challenges Locked"),r("p",{class:"text-amber-700 dark:text-amber-300 max-w-lg mx-auto"}," Unlock Boss Challenges from the Prestige Shop to battle powerful enemies for unique rewards. ")],-1)]))),Fe(wr,{threshold:400})]))}}),ple="/assets/amber_fragment-BZ9myB0h.png",fle="/assets/ancient_pheromone-wpYQdBAT.png",gle="/assets/ant_mandible-JztrMkWh.png",hle="/assets/beetle_shell-Dl1a-ZTw.png",ble="/assets/cosmic_essence-BMRP4eF_.png",vle="/assets/dewdrop-BrLfEEnl.png",yle="/assets/dried_fungus-Cnf-7jc9.png",xle="/assets/geode_shard-D5VnkQ-e.png",kle="/assets/glowing_mushroom-Ci2qiV4o.png",_le="/assets/ladybug_wing-Cpubz_ee.png",wle="/assets/mantis_claw-CWexS79C.png",Cle="/assets/meteorite_fragment-D_0pW2Mg.png",Sle="/assets/pebble-CBrwlTEa.png",$le="/assets/quantum_crystal-CzWtzkQ9.png",Ele="/assets/small_crystal-DMcL0RY0.png",Ale="/assets/spider_silk-CazbcDy4.png",Mle="/assets/tiny_leaf-DhDrYKKB.png",Ple="/assets/world_tree_seedling-CLE6sydx.png",Tle={class:"flex flex-col gap-4 lg:gap-6 max-w-screen-2xl mx-auto pb-6"},Lle={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md border border-gray-200/50 dark:border-gray-700/50 overflow-hidden"},Ile={class:"p-5"},Dle={class:"flex flex-col md:flex-row items-center justify-between gap-4 mb-4"},Fle={class:"text-lg"},Rle={class:"font-bold"},Ule={class:"font-bold"},Ble={class:"w-full mt-2 bg-gray-200 dark:bg-gray-600 rounded-full h-2.5"},qle={class:"flex gap-2"},Ole={class:"relative"},Nle=["value"],Hle={key:0,class:"i-heroicons-eye"},jle={key:1,class:"i-heroicons-eye-slash"},Gle={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6"},Vle={class:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700"},Qle={class:"space-y-1"},zle={class:"flex justify-between"},Wle={class:"font-medium"},Yle={class:"flex justify-between"},Kle={class:"font-medium"},Xle={class:"flex justify-between"},Zle={class:"font-medium"},Jle={class:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700"},ece={class:"space-y-1"},tce={class:"flex justify-between"},sce={class:"font-medium"},oce={class:"flex justify-between"},rce={class:"font-medium"},nce={class:"flex justify-between"},ace={class:"font-medium"},ice={class:"flex justify-between"},lce={class:"font-medium"},cce={class:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700"},dce={class:"space-y-1"},uce={class:"font-medium"},mce={key:1,class:"text-gray-500 dark:text-gray-400"},pce={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md border border-gray-200/50 dark:border-gray-700/50 overflow-hidden"},fce={class:"border-b border-gray-200 dark:border-gray-700"},gce={class:"flex overflow-x-auto scrollbar-hide"},hce=["onClick"],bce={class:"p-5"},vce={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"},yce={class:"p-4"},xce={class:"flex items-center justify-between mb-2"},kce={class:"flex flex-col mr-1 min-w-0"},_ce={key:0,class:"text-xs font-medium text-gray-600 dark:text-gray-400"},wce={class:"flex items-center gap-1 shrink-0"},Cce={key:0,class:"i-heroicons-lock-closed text-gray-500 dark:text-gray-400"},Sce={class:"flex justify-center mb-3"},$ce={class:"w-16 h-16 flex items-center justify-center rounded-lg"},Ece=["src","alt"],Ace={class:"mb-3"},Mce={class:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mb-1"},Pce={class:"w-full bg-gray-200 dark:bg-gray-600 rounded-full h-2"},Tce={class:"border-t border-gray-200 dark:border-gray-600 pt-2"},Lce={class:"grid grid-cols-1 gap-2"},Ice={key:0,class:"text-xs space-y-1"},Dce={key:0,class:"flex justify-between"},Fce={key:1,class:"flex justify-between"},Rce={key:2,class:"flex justify-between"},Uce={key:3,class:"flex justify-between"},Bce={key:4,class:"flex justify-between"},qce={key:5,class:"flex justify-between"},Oce={key:6,class:"flex justify-between"},Nce={key:1,class:"text-xs text-gray-500 dark:text-gray-400"},Hce={class:"mt-2"},jce={key:0,class:"text-xs space-y-0.5"},Gce={class:"px-1.5 py-0.5 rounded bg-gray-200 dark:bg-gray-700"},Vce={key:1,class:"text-xs text-gray-500 dark:text-gray-400"},Qce={class:"italic"},zce={key:1,class:"text-center py-12 text-gray-500 dark:text-gray-400"},Wce=Ue({__name:"CollectiblesView",setup(t){const e=fi(),s=Xs();R(()=>e.filteredAndSortedCollection);const o=R(()=>e.getAllBoosts()),n=R(()=>Object.values(or).map(N=>{const U=e.getCollectibleInstance(N.id);return{...N,isUnlocked:!!U}})),i=[{id:"all",name:"All Categories"},{id:"insect",name:"Insects"},{id:"plant",name:"Plants"},{id:"mineral",name:"Minerals"},{id:"artifact",name:"Artifacts"}],l=[{id:"rarity",name:"Rarity (Highest First)"},{id:"level",name:"Level (Highest First)"},{id:"name",name:"Name (A-Z)"},{id:"recently",name:"Recently Added"}],c=R({get:()=>e.selectedCollectibleFilter,set:N=>e.selectedCollectibleFilter=N}),d=R({get:()=>e.selectedCollectibleSort,set:N=>e.selectedCollectibleSort=N}),u=R({get:()=>e.showOnlyUnlocked,set:N=>e.showOnlyUnlocked=N}),m=R(()=>n.value.filter(N=>!(c.value!=="all"&&N.category!==c.value||u.value&&!N.isUnlocked))),p=R(()=>{const N=[...m.value];switch(d.value){case"rarity":const U={divine:7,mythic:6,legendary:5,epic:4,rare:3,uncommon:2,common:1};N.sort((j,ee)=>{const ne=(U[ee.rarity]||0)-(U[j.rarity]||0);return ne!==0?ne:j.isUnlocked===ee.isUnlocked?0:j.isUnlocked?-1:1});break;case"name":N.sort((j,ee)=>j.name.localeCompare(ee.name));break;case"level":N.sort((j,ee)=>{const ne=e.getCollectibleInstance(j.id),oe=e.getCollectibleInstance(ee.id);return j.isUnlocked!==ee.isUnlocked?j.isUnlocked?-1:1:!ne&&!oe?0:ne?oe?oe.level.cmp(ne.level):-1:1});break;case"recently":N.sort((j,ee)=>j.isUnlocked===ee.isUnlocked?0:j.isUnlocked?-1:1);break}return N}),y=N=>{const U=s.getBugsByCollectibleId(N);return U.length?U.map(j=>({id:j.id,name:j.name,dropChance:s.getCollectibleDropChance(N,j.id)})):[]},v=N=>N<.001?`${(N*100).toExponential(2)}%`:`${(N*100).toFixed(2)}%`,S=N=>{c.value=N},_=N=>{d.value=N},C=N=>`+${N.toFixed(2)}%`,x=new Map,$=N=>{if(x.has(N))return x.get(N);const U=e.getCollectible(N);if(!U)return null;const j=e.getCollectibleInstance(N);if(!j){const oe={collectible:U,instance:null,boosts:U.boosts};return x.set(N,oe),oe}const ee=e.getCollectibleBoosts(N),ne={collectible:U,instance:j,boosts:ee};return x.set(N,ne),ne},A=N=>{const U=e.getCollectibleInstance(N);return U?e.formatXpProgress(U.xp,U.maxXp):"0%"},M=R(()=>C(o.value.global)),P=R(()=>C(o.value.epGain)),L=R(()=>C(o.value.pheromoneGain)),B=R(()=>{const N=o.value.combatStats;return{damage:N.damage?`+${N.damage.toFixed(0)}`:"+0",health:N.health?`+${N.health.toFixed(0)}`:"+0",defense:N.defense?`+${N.defense.toFixed(0)}`:"+0",regen:N.regen?`+${N.regen.toFixed(0)}`:"+0"}}),k=(N,U,j="+0%")=>{if(!N)return j;let ee=N;for(const ne of U){if(ee==null)return j;ee=ee[ne]}return typeof ee=="number"?`+${ee.toFixed(U[U.length-1]==="global"?2:U.includes("combatStats")?0:2)}%`:j},I=N=>{try{return new URL(Object.assign({"../assets/collectibles/amber_fragment.png":ple,"../assets/collectibles/ancient_pheromone.png":fle,"../assets/collectibles/ant_mandible.png":gle,"../assets/collectibles/beetle_shell.png":hle,"../assets/collectibles/cosmic_essence.png":ble,"../assets/collectibles/dewdrop.png":vle,"../assets/collectibles/dried_fungus.png":yle,"../assets/collectibles/geode_shard.png":xle,"../assets/collectibles/glowing_mushroom.png":kle,"../assets/collectibles/ladybug_wing.png":_le,"../assets/collectibles/mantis_claw.png":wle,"../assets/collectibles/meteorite_fragment.png":Cle,"../assets/collectibles/pebble.png":Sle,"../assets/collectibles/quantum_crystal.png":$le,"../assets/collectibles/small_crystal.png":Ele,"../assets/collectibles/spider_silk.png":Ale,"../assets/collectibles/tiny_leaf.png":Mle,"../assets/collectibles/world_tree_seedling.png":Ple})[`../assets/collectibles/${N}.png`],import.meta.url).href}catch{return}};return(N,U)=>(f(),h("div",Tle,[r("div",Lle,[U[19]||(U[19]=r("div",{class:"p-5 border-b border-gray-200 dark:border-gray-700"},[r("h1",{class:"text-2xl font-bold"},"Collectibles")],-1)),r("div",Ile,[r("div",Dle,[r("div",null,[U[7]||(U[7]=r("div",{class:"text-amber-600 dark:text-amber-300 text-sm font-semibold uppercase tracking-wider mb-1"},"Collection Progress",-1)),r("p",Fle,[r("span",Rle,b(g(e).collectionCount),1),U[4]||(U[4]=se(" / ")),r("span",null,b(g(e).totalCollectibles),1),U[5]||(U[5]=se(" collectibles (")),r("span",Ule,b(g(e).collectionCompletion)+"%",1),U[6]||(U[6]=se(" complete) "))]),r("div",Ble,[r("div",{class:"bg-amber-500 h-2.5 rounded-full",style:Je(`width: ${g(e).collectionCompletion}%`)},null,4)])]),r("div",qle,[r("div",Ole,[ut(r("select",{"onUpdate:modelValue":U[0]||(U[0]=j=>d.value=j),onChange:U[1]||(U[1]=j=>{var ee;return _(((ee=j.target)==null?void 0:ee.value)||"rarity")}),class:"px-4 py-2 pr-10 border rounded-lg bg-white dark:bg-gray-700 focus:ring-amber-500 focus:border-amber-500 appearance-none cursor-pointer"},[(f(),h(Ce,null,De(l,j=>r("option",{key:j.id,value:j.id},b(j.name),9,Nle)),64))],544),[[Tl,d.value]]),U[8]||(U[8]=r("div",{class:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none"},[r("span",{class:"i-heroicons-chevron-down text-gray-500"})],-1))]),r("button",{onClick:U[2]||(U[2]=j=>u.value=!u.value),class:V(["px-4 py-2 border rounded-lg flex items-center gap-2 transition-colors",u.value?"bg-amber-100 dark:bg-amber-900/30 border-amber-300 dark:border-amber-700":"bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600"])},[u.value?(f(),h("span",jle)):(f(),h("span",Hle)),r("span",null,b(u.value?"Show All":"Show Unlocked"),1)],2)])]),r("div",Gle,[r("div",Vle,[U[12]||(U[12]=r("h3",{class:"font-semibold text-amber-800 dark:text-amber-300 mb-2"},"Production Boosts",-1)),r("div",Qle,[r("div",zle,[U[9]||(U[9]=r("span",null,"Global:",-1)),r("span",Wle,b(M.value),1)]),r("div",Yle,[U[10]||(U[10]=r("span",null,"EP Gain:",-1)),r("span",Kle,b(P.value),1)]),r("div",Xle,[U[11]||(U[11]=r("span",null,"Pheromone Gain:",-1)),r("span",Zle,b(L.value),1)])])]),r("div",Jle,[U[17]||(U[17]=r("h3",{class:"font-semibold text-amber-800 dark:text-amber-300 mb-2"},"Combat Stats",-1)),r("div",ece,[r("div",tce,[U[13]||(U[13]=r("span",null,"Damage:",-1)),r("span",sce,b(B.value.damage),1)]),r("div",oce,[U[14]||(U[14]=r("span",null,"Health:",-1)),r("span",rce,b(B.value.health),1)]),r("div",nce,[U[15]||(U[15]=r("span",null,"Defense:",-1)),r("span",ace,b(B.value.defense),1)]),r("div",ice,[U[16]||(U[16]=r("span",null,"Regen:",-1)),r("span",lce,b(B.value.regen),1)])])]),r("div",cce,[U[18]||(U[18]=r("h3",{class:"font-semibold text-amber-800 dark:text-amber-300 mb-2"},"Specific Generator Boosts",-1)),r("div",dce,[Object.keys(o.value.specificGenerator).length>0?(f(!0),h(Ce,{key:0},De(o.value.specificGenerator,(j,ee)=>(f(),h("div",{key:ee,class:"flex justify-between"},[r("span",null,b(ee)+":",1),r("span",uce,"+"+b(j.toFixed(2))+"%",1)]))),128)):(f(),h("p",mce,"No specific generator boosts"))])])])])]),r("div",pce,[r("div",fce,[r("div",gce,[(f(),h(Ce,null,De(i,j=>r("button",{key:j.id,onClick:ee=>S(j.id),class:V(["px-6 py-3 text-sm font-medium whitespace-nowrap focus:outline-none transition-colors relative",[c.value===j.id?"text-amber-600 dark:text-amber-300 border-b-2 border-amber-500":"text-gray-500 dark:text-gray-400 hover:text-amber-500 dark:hover:text-amber-400"]])},b(j.name),11,hce)),64))])]),r("div",bce,[p.value.length>0?(f(),h("div",vce,[(f(!0),h(Ce,null,De(p.value,j=>{var ee,ne,oe,O,Y,G,de,re,he,ve,Se,Me,Oe,He,we,_e,pe,me,le,z;return f(),h("div",{key:j.id,class:V(["border rounded-xl overflow-hidden transition-all duration-200 shadow-sm hover:shadow-md",[j.isUnlocked?g(e).getRarityBackground(j.rarity):"bg-gray-100 dark:bg-gray-700 border-dashed",j.isUnlocked?"":"opacity-70 hover:opacity-80"]])},[r("div",yce,[r("div",xce,[r("div",kce,[r("h3",{class:V(["font-bold text-lg truncate",j.isUnlocked?g(e).getRarityColor(j.rarity):"text-gray-500 dark:text-gray-400"])},b((j.isUnlocked,j.name)),3),j.isUnlocked?(f(),h("div",_ce," Level "+b(((ne=(ee=$(j.id))==null?void 0:ee.instance)==null?void 0:ne.level.toString())||"1"),1)):Q("",!0)]),r("div",wce,[r("span",{class:V(["inline-block text-2xs px-2 py-0.5 rounded-full",j.isUnlocked?{"bg-gray-300 text-gray-800":j.rarity==="common","bg-green-300 text-green-800":j.rarity==="uncommon","bg-blue-300 text-blue-800":j.rarity==="rare","bg-purple-300 text-purple-800":j.rarity==="epic","bg-amber-300 text-amber-800":j.rarity==="legendary","bg-pink-300 text-pink-800":j.rarity==="mythic","bg-yellow-300 text-yellow-800":j.rarity==="divine"}:"bg-gray-300 text-gray-800"])},b(j.rarity.charAt(0).toUpperCase()+j.rarity.slice(1)),3),j.isUnlocked?Q("",!0):(f(),h("span",Cce))])]),r("div",Sce,[r("div",$ce,[j.isUnlocked&&I(j.id)?(f(),h("img",{key:0,src:I(j.id),alt:j.name,class:"w-14 h-14 object-contain",style:{"image-rendering":"pixelated"}},null,8,Ece)):(f(),h("span",{key:1,class:V(["i-heroicons-photo text-3xl",j.isUnlocked?g(e).getRarityColor(j.rarity):"text-gray-400 dark:text-gray-500"])},null,2))])]),r("p",{class:V(["text-sm mb-3",{"text-gray-500 dark:text-gray-400":!j.isUnlocked}])},b(j.isUnlocked?j.description:"???"),3),r("div",Ace,[r("div",Mce,[U[20]||(U[20]=r("span",null,"Progress",-1)),r("span",null,b(j.isUnlocked?A(j.id):"0%"),1)]),r("div",Pce,[j.isUnlocked?(f(),h("div",{key:0,class:"bg-amber-500 dark:bg-amber-600 h-2 rounded-full",style:Je(`width: ${g(e).getLevelProgress(j.id)}%`)},null,4)):Q("",!0)])]),r("div",Tce,[r("div",Lce,[r("div",null,[r("div",{class:V(["font-semibold text-sm mb-1",{"text-gray-500 dark:text-gray-400":!j.isUnlocked}])}," Boosts ",2),j.isUnlocked?(f(),h("div",Ice,[((O=(oe=$(j.id))==null?void 0:oe.boosts)==null?void 0:O.global)!==void 0?(f(),h("div",Dce,[U[21]||(U[21]=r("span",null,"Global:",-1)),r("span",null,b(k($(j.id),["boosts","global"])),1)])):Q("",!0),((G=(Y=$(j.id))==null?void 0:Y.boosts)==null?void 0:G.epGain)!==void 0?(f(),h("div",Fce,[U[22]||(U[22]=r("span",null,"EP Gain:",-1)),r("span",null,b(k($(j.id),["boosts","epGain"])),1)])):Q("",!0),((re=(de=$(j.id))==null?void 0:de.boosts)==null?void 0:re.pheromoneGain)!==void 0?(f(),h("div",Rce,[U[23]||(U[23]=r("span",null,"Pheromone:",-1)),r("span",null,b(k($(j.id),["boosts","pheromoneGain"])),1)])):Q("",!0),(Se=(ve=(he=$(j.id))==null?void 0:he.boosts)==null?void 0:ve.combatStats)!=null&&Se.damage?(f(),h("div",Uce,[U[24]||(U[24]=r("span",null,"Damage:",-1)),r("span",null,b(k($(j.id),["boosts","combatStats","damage"])),1)])):Q("",!0),(He=(Oe=(Me=$(j.id))==null?void 0:Me.boosts)==null?void 0:Oe.combatStats)!=null&&He.health?(f(),h("div",Bce,[U[25]||(U[25]=r("span",null,"Health:",-1)),r("span",null,b(k($(j.id),["boosts","combatStats","health"])),1)])):Q("",!0),(pe=(_e=(we=$(j.id))==null?void 0:we.boosts)==null?void 0:_e.combatStats)!=null&&pe.defense?(f(),h("div",qce,[U[26]||(U[26]=r("span",null,"Defense:",-1)),r("span",null,b(k($(j.id),["boosts","combatStats","defense"])),1)])):Q("",!0),(z=(le=(me=$(j.id))==null?void 0:me.boosts)==null?void 0:le.combatStats)!=null&&z.regen?(f(),h("div",Oce,[U[27]||(U[27]=r("span",null,"Regen:",-1)),r("span",null,b(k($(j.id),["boosts","combatStats","regen"])),1)])):Q("",!0)])):(f(),h("div",Nce,U[28]||(U[28]=[r("p",null,"??? (Unlock to reveal)",-1)])))]),r("div",Hce,[r("div",{class:V(["font-semibold text-sm mb-1",j.isUnlocked?"":"text-gray-500 dark:text-gray-400"])}," Sources ",2),y(j.id).length>0?(f(),h("div",jce,[(f(!0),h(Ce,null,De(y(j.id),K=>(f(),h("div",{key:K.id,class:V(["flex justify-between items-center py-0.5",j.isUnlocked?"":"text-gray-500 dark:text-gray-400"])},[r("span",null,b(K.name),1),r("span",Gce,b(v(K.dropChance)),1)],2))),128))])):(f(),h("div",Vce,[r("p",Qce,b(j.isUnlocked?"No known sources":"This collectible is from a special source."),1)]))])])])])],2)}),128))])):(f(),h("div",zce,[U[29]||(U[29]=r("div",{class:"i-heroicons-folder-open text-5xl mx-auto mb-4"},null,-1)),U[30]||(U[30]=r("p",{class:"text-xl"},"No collectibles matching your filter criteria.",-1)),r("button",{onClick:U[3]||(U[3]=j=>{c.value="all",u.value=!1}),class:"mt-4 px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg transition-colors"}," Show All ")]))])])]))}}),Yce=st(Wce,[["__scopeId","data-v-e65a2d41"]]);function ap(){const t="gdpr_consent_status",e=W(localStorage.getItem(t)||"pending");return{consentStatus:e,acceptConsent:()=>(e.value="accepted",localStorage.setItem(t,e.value),!0),declineConsent:()=>(e.value="declined",localStorage.setItem(t,e.value),!1),hasConsent:()=>e.value==="accepted",isPending:()=>e.value==="pending"}}var Id=function(){return typeof document<"u"&&typeof window<"u"},Kce=function(e,s){return new Promise(function(o,n){var i=document.head||document.getElementsByTagName("head")[0],l=document.createElement("script");if(l.async=!0,l.src=e,l.charset="utf-8",s){var c=document.createElement("link");c.href=s,c.rel="preconnect",i.appendChild(c)}i.appendChild(l),l.onload=o,l.onerror=n})},Xce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Object.keys(s).forEach(function(o){e[o]=s[o]})},rx=_r({property:null,isEnabled:!0,disableScriptLoader:!1,useDebugger:!1,globalObjectName:"gtag",dataLayerName:"dataLayer",resourceURL:"https://4awww.gggoog11aaleta23gmanager.com/gtag/js",preconnectOrigin:"https://112www.gweoogafafeletag12112manager.com",customResource:null,appName:null,appId:null,appVersion:null}),Sr=function(){return ub(rx)},nx=R(function(){var t=Sr(),e=t.property;if(e.value)return Array.isArray(e.value)?e.value.find(function(s){return s.default===!0})||e.value[0]:e.value}),Zce=R(function(){var t=Sr(),e=t.property;return!!(e.value&&e.value.id!==null)}),ii=R(function(){var t=Sr(),e=t.property;return Array.isArray(e.value)?e.value:[e.value]}),Jce=R(function(){var t=Sr(),e=t.isEnabled,s=nx.value;return!!(s&&s.id&&e.value)}),Ci=function(){var t;if(Id()){for(var e=Sr(),s=e.globalObjectName,o=e.useDebugger,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];o.value&&console.warn("[vue-gtag] Debugger:",i),(t=window)[s.value].apply(t,i)}},ip=function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];ii.value.forEach(function(o){Ci.apply(void 0,["config",o.id].concat(e))})},ede=function(t){ip({custom_map:t})},tde=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;Id()&&ii.value.forEach(function(e){window["ga-disable-".concat(e.id)]=t})},an=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=Object.assign({},e);!s.send_to&&ii.value.length>1&&(s.send_to=ii.value.map(function(o){return o.id})),Ci("event",t,s)},sde=function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];an.apply(void 0,["exception"].concat(e))},ode=function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];ip.apply(void 0,["linker"].concat(e))},rde=function(t){var e={};typeof t=="string"?e={page_path:t,page_location:window.location.href}:e=t,typeof e.send_page_view>"u"&&(e.send_page_view=!0),an("page_view",e)},nde=function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];an.apply(void 0,["purchase"].concat(e))},ade=function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];an.apply(void 0,["refund"].concat(e))},ide=function(){for(var t=Sr(),e=t.appName,s=t.appId,o=t.appVersion,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];var c=i[0],d={};typeof c=="string"?d={screen_name:c}:d=c,d.app_name==null&&e.value!=null&&(d.app_name=e.value),d.app_id==null&&s.value!=null&&(d.app_id=s.value),d.app_version==null&&o.value!=null&&(d.app_version=o.value),an("screen_view",d)},lde=function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];Ci.apply(void 0,["set"].concat(e))},cde=function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];an.apply(void 0,["timing_complete"].concat(e))},ax=Object.freeze({__proto__:null,config:ip,customMap:ede,disable:tde,event:an,exception:sde,linker:ode,pageview:rde,purchase:nde,query:Ci,refund:ade,screenview:ide,set:lde,time:cde}),Ph=W(!1),Th=W(!1),dde=function(){var e=Sr(),s=e.disableScriptLoader,o=e.preconnectOrigin,n=e.resourceURL,i=e.dataLayerName;if(!(!Id()||!Zce.value||Th.value)){if(Th.value=!0,ii.value.forEach(function(c){var d=Object.assign({send_page_view:!1},c.params);Ci("config",c.id,d)}),s.value){Ph.value=!0;return}var l="".concat(n.value,"?id=").concat(nx.value.id,"&l=").concat(i.value);Kce(l,o.value).then(function(){Ph.value=!0})}},ude=function(){We(function(){return Jce.value},function(e){return e&&dde()},{immediate:!0})},mde=function(){if(Id()){var t=Sr(),e=t.globalObjectName,s=t.dataLayerName;window[e.value]==null&&(window[s.value]=window[s.value]||[],window[e.value]=function(){window[s.value].push(arguments)}),window[e.value]("js",new Date)}},pde=function(){return ax};_r({template:null,useScreenview:!1,skipSamePath:!0});var fde={install:function(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Xce(rx,s),mde(),ude(),e.config.globalProperties.$gtag=ax}};function gde(){const{consentStatus:t,hasConsent:e}=ap(),{isEnabled:s,enable:o,disable:n,query:i,pageView:l,event:c,screenView:d,customMap:u,time:m,exception:p}=pde();return We(()=>t.value,S=>{S==="accepted"?o():n()}),{isAnalyticsEnabled:s,trackPageView:(S,_)=>{e()&&l(S,_)},trackEvent:(S,_)=>{e()&&c(S,_)},screenView:(S,_)=>{e()&&d(S,_)},exception:(S,_=!1)=>{e()&&p(S,_)},time:S=>e()?m(S):{send:()=>{}}}}const hde=[{path:"/",component:sE,meta:{title:"Home"}},{path:"/settings",component:TA,meta:{title:"Settings"}},{path:"/upgrades",component:u6,meta:{title:"Upgrades"},beforeEnter:(t,e,s)=>{if(qs().isFeatureUnlocked.upgrades)s();else{s("/");try{const{showToast:n}=zt();n("Complete 10 trips to unlock Evolution","info")}catch{console.warn("Toast system not available")}}}},{path:"/adventure",component:xO,meta:{title:"Adventure"},beforeEnter:(t,e,s)=>{const{isAdventureUnlocked:o}=aa();if(o.value)s();else{s("/upgrades");try{const{showToast:n}=zt();n("You need to unlock Adventure Mode first (50 EP)","error")}catch{console.warn("Toast system not available")}}}},{path:"/bosses",component:mle,meta:{title:"Boss Challenges"},beforeEnter:(t,e,s)=>{const{isAdventureUnlocked:o}=aa(),n=Ns();if(!o.value){s("/upgrades");try{const{showToast:i}=zt();i("You need to unlock Adventure Mode first (50 EP)","error")}catch{console.warn("Toast system not available")}return}if(n.isBossSystemUnlocked)s();else{s("/adventure");try{const{showToast:i}=zt();i("You need to unlock Boss Challenges from the Evolution tab","info")}catch{console.warn("Toast system not available")}}}},{path:"/quests",component:eoe,meta:{title:"Quests"},beforeEnter:(t,e,s)=>{const{isAdventureUnlocked:o}=aa();if(o.value)s();else{s("/upgrades");try{const{showToast:n}=zt();n("You need to unlock Adventure Mode first (50 EP)","error")}catch{console.warn("Toast system not available")}}}},{path:"/inventory",component:OV,meta:{title:"Inventory"},beforeEnter:(t,e,s)=>{const{isAdventureUnlocked:o}=aa();if(o.value)s();else{s("/");const{showToast:n}=zt();n("Purchase Adventure Mode from the Evolution tab (50 EP)","info")}}},{path:"/achievements",component:hQ,meta:{title:"Achievements"}},{path:"/changelog",component:EQ,meta:{title:"Changelog"}},{path:"/wiki",component:Xse,meta:{title:"Wiki"}},{path:"/simulation",component:Moe,meta:{title:"Ant Simulation"}},{path:"/aphid-farm",component:bae,meta:{title:"Aphid Farm"},beforeEnter:(t,e,s)=>{if(qs().isFeatureUnlocked.aphidFarm)s();else{s("/");try{const{showToast:n}=zt();n("Complete more game progress to unlock the Aphid Farm","info")}catch{console.warn("Toast system not available")}}}},{path:"/collectibles",component:Yce,meta:{title:"Collectibles"},beforeEnter:(t,e,s)=>{const{isAdventureUnlocked:o}=aa();if(o.value)s();else{s("/upgrades");try{const{showToast:n}=zt();n("You need to unlock Adventure Mode first (50 EP)","error")}catch{console.warn("Toast system not available")}}}}],h0=Gw({history:yw(),routes:hde});h0.isReady().then(()=>{const{trackPageView:t}=gde();h0.afterEach(e=>{t(e.path,e.meta.title)})});const bde={key:0,class:"fixed inset-0 z-50 flex items-center justify-center"},vde={class:"bg-purple-600 dark:bg-purple-800 p-4 flex justify-between items-center"},yde={class:"flex items-center"},xde={class:"bg-purple-800 dark:bg-purple-900 text-white rounded-full px-3 py-1 text-sm mr-3"},kde={class:"p-6"},_de={class:"mb-6 space-y-3"},wde={class:"flex justify-between items-center p-3 bg-purple-50 dark:bg-purple-900/30 rounded-lg"},Cde={class:"font-semibold text-green-600 dark:text-green-400 text-xl"},Sde={class:"flex justify-between items-center p-3 bg-purple-50 dark:bg-purple-900/30 rounded-lg"},$de={class:"font-semibold text-blue-600 dark:text-blue-400 text-xl"},Ede={class:"mt-6"},Ade={key:0},Mde=["disabled"],Pde={key:0},Tde={key:1},Lde={key:1},Ide={class:"text-center"},Dde={class:"countdown-timer bg-gray-100 dark:bg-gray-700 rounded-md px-4 py-2 font-mono text-gray-800 dark:text-gray-200 text-2xl"},Fde=Ue({__name:"DailyRewardModal",props:{show:{type:Boolean}},emits:["close"],setup(t,{emit:e}){const s=t,o=e,{isClosing:n,handleClose:i}=io(),l=yi(),c=W(!1);let d=null;const u=W("00:00:00"),m=()=>{u.value=l.getFormattedTimeRemaining()},p=()=>{d&&clearInterval(d),m(),d=window.setInterval(()=>{m(),u.value==="00:00:00"&&!l.isRewardAvailable&&window.location.reload()},1e3)};tt(()=>{p()}),Ms(()=>{d&&clearInterval(d)});const y=()=>{i(()=>o("close"),200)},v=$=>{$.key==="Escape"&&s.show&&y()};We(()=>s.show,$=>{$?document.addEventListener("keydown",v):document.removeEventListener("keydown",v)});const S=R(()=>ie(l.foodMultiplier,2)),_=R(()=>ie(l.epMultiplier,2)),C=R(()=>l.currentStreak.toString().padStart(2,"0")),x=()=>{c.value=!0,setTimeout(()=>{l.claimDailyReward(),c.value=!1,p(),y()},500)};return($,A)=>$.show?(f(),h("div",bde,[r("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm modal-backdrop","data-modal-backdrop":"true",onClick:y}),r("div",{class:V(["relative bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md mx-4 overflow-hidden transition duration-200 transform",{"scale-100 opacity-100":$.show&&!g(n),"scale-95 opacity-0":g(n)}])},[r("div",vde,[A[1]||(A[1]=r("div",{class:"flex items-center"},[r("i",{class:"i-heroicons-gift text-white text-xl mr-2"}),r("h3",{class:"text-white font-bold text-lg"},"Daily Rewards")],-1)),r("div",yde,[r("div",xde," Streak: "+b(C.value),1),r("button",{onClick:y,class:"text-white hover:text-gray-200 transition-colors"},A[0]||(A[0]=[r("i",{class:"i-heroicons-x-mark text-xl"},null,-1)]))])]),r("div",kde,[r("div",_de,[r("div",wde,[A[2]||(A[2]=r("span",{class:"text-gray-700 dark:text-gray-300 font-medium"},"Food Production:",-1)),r("span",Cde,b(S.value)+"x",1)]),r("div",Sde,[A[3]||(A[3]=r("span",{class:"text-gray-700 dark:text-gray-300 font-medium"},"Evolution Points:",-1)),r("span",$de,b(_.value)+"x",1)])]),r("div",Ede,[g(l).isRewardAvailable?(f(),h("div",Ade,[r("button",{onClick:x,disabled:c.value,class:"w-full bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-800 text-white font-bold py-3 px-4 rounded-md transition duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-50 disabled:opacity-50 text-lg flex items-center justify-center"},[c.value?(f(),h("span",Pde,A[4]||(A[4]=[r("i",{class:"i-heroicons-arrow-path animate-spin inline-block mr-2"},null,-1),se(" Claiming... ")]))):(f(),h("span",Tde,A[5]||(A[5]=[r("i",{class:"i-heroicons-gift mr-2"},null,-1),se(" Claim Daily Reward ")])))],8,Mde),A[6]||(A[6]=r("p",{class:"text-center text-sm mt-2 text-gray-500 dark:text-gray-400"}," Log in daily to increase your multipliers! ",-1))])):(f(),h("div",Lde,[A[7]||(A[7]=r("div",{class:"text-center text-gray-500 dark:text-gray-400 text-sm mb-3"}," Next reward available in: ",-1)),r("div",Ide,[r("span",Dde,b(u.value),1)]),A[8]||(A[8]=r("p",{class:"text-center text-sm mt-4 text-gray-500 dark:text-gray-400"}," Come back tomorrow to continue your streak! ",-1))]))])])],2)])):Q("",!0)}}),Rde={class:"relative group"},Ude=["disabled"],Bde={class:"relative w-16 h-16 sm:w-24 sm:h-24 flex items-center justify-center"},qde=["src"],Ode={key:1,class:"absolute inset-0 flex items-center justify-center"},Nde={class:"absolute inset-0 w-full h-full -rotate-90 transform pointer-events-none",viewBox:"0 0 100 100"},Hde=["stroke-dasharray","stroke-dashoffset"],jde={key:0,class:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs font-bold p-1 rounded-full shadow-lg animate-pulse z-30"},Gde={key:1,class:"absolute left-0 top-1/2 transform -translate-x-[calc(100%+3px)] sm:-translate-x-[calc(100%+5px)] -translate-y-1/2 bg-amber-600 text-white text-xs font-bold px-2 py-0.5 rounded-full shadow-sm"},Vde={class:"absolute top-1/2 right-0 transform translate-x-[calc(100%+3px)] sm:translate-x-[calc(100%+5px)] -translate-y-1/2 bg-amber-100 dark:bg-amber-900 text-amber-800 dark:text-amber-100 text-xs font-medium px-2 py-0.5 rounded-full shadow-sm z-25"},Qde={class:"absolute -top-10 sm:-top-12 left-1/2 transform -translate-x-1/2 hidden group-hover:block bg-amber-900 text-amber-50 text-xs rounded px-3 py-2 w-max pointer-events-none z-25 shadow-lg transition-opacity duration-200"},zde=Ue({__name:"ColonyRushButton",setup(t){const e=Za(),{showToast:s}=zt(),o=W(!1);async function n(){if(!e.isFeatureUnlocked){s("Colony Rush feature is not unlocked yet!","warning");return}if(!e.isRushAvailable){s("Colony Rush not ready yet!","warning");return}o.value=!0;try{await e.executeRush()?s(`Colony Rush activated! Processing ${e.rushDurationSeconds} seconds of game time...`,"success"):s("Failed to activate Colony Rush","error")}catch(d){console.error("Error during colony rush:",d),s("Error during colony rush","error")}finally{o.value=!1}}const i=R(()=>({"bg-emerald-500 hover:bg-emerald-600 cursor-pointer animate-ready-pulse":e.isRushAvailable&&!e.isProcessingRush,"bg-slate-500 dark:bg-slate-700 cursor-not-allowed opacity-60":!e.isRushAvailable,"bg-blue-600 dark:bg-blue-500 animate-processing cursor-not-allowed":e.isProcessingRush})),l=R(()=>e.isFeatureUnlocked?e.isProcessingRush?`Processing ${e.rushDurationSeconds} seconds of game time...`:e.isRushAvailable?`Activate Colony Rush to skip ${e.rushDurationSeconds} seconds ahead!`:`Available after ${e.ticksUntilNextRush} more foraging trips`:"Unlock Colony Rush through Evolution upgrades"),c=()=>{try{return new URL("/assets/colony-rush-dRKrIvKE.png",import.meta.url).href}catch{return}};return(d,u)=>(f(),h("div",Rde,[r("button",{class:V(["flex items-center justify-center w-20 h-20 sm:w-28 sm:h-28 rounded-full text-white shadow-lg transform transition-all duration-300 hover:scale-110 sm:hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 relative z-50",i.value]),disabled:!g(e).isRushAvailable||g(e).isProcessingRush,onClick:u[0]||(u[0]=m=>n())},[r("div",Bde,[c()&&!g(e).isProcessingRush?(f(),h("img",{key:0,src:c(),alt:"Colony Rush",class:"w-full h-full object-contain",style:{"image-rendering":"pixelated"}},null,8,qde)):Q("",!0),g(e).isProcessingRush?(f(),h("span",Ode,u[1]||(u[1]=[r("span",{class:"i-heroicons-arrow-path text-2xl animate-spin text-white"},null,-1)]))):Q("",!0)])],10,Ude),(f(),h("svg",Nde,[u[2]||(u[2]=r("circle",{class:"text-gray-200 dark:text-gray-700 stroke-current","stroke-width":"10",fill:"transparent",r:"45",cx:"50",cy:"50"},null,-1)),r("circle",{class:V(["stroke-current transition-all duration-300",{"text-emerald-500 dark:text-emerald-400":g(e).isRushAvailable&&!g(e).isProcessingRush,"text-slate-400 dark:text-slate-600":!g(e).isRushAvailable,"text-blue-500 dark:text-blue-400":g(e).isProcessingRush}]),"stroke-width":"10",fill:"transparent",r:"45",cx:"50",cy:"50","stroke-dasharray":2*Math.PI*45,"stroke-dashoffset":2*Math.PI*45*(1-g(e).cooldownPercentage/100)},null,10,Hde)])),g(e).isProcessingRush?(f(),h("div",jde,u[3]||(u[3]=[r("span",{class:"i-heroicons-arrow-path text-sm animate-spin"},null,-1)]))):Q("",!0),!g(e).isRushAvailable&&!g(e).isProcessingRush?(f(),h("div",Gde,b(g(e).ticksUntilNextRush),1)):Q("",!0),r("div",Vde,b(g(e).rushesRemaining)+"/"+b(g(e).maxRushesPerDay),1),r("div",Qde,[se(b(l.value)+" ",1),u[4]||(u[4]=r("span",{class:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-amber-900 rotate-45"},null,-1))])]))}}),Wde=st(zde,[["__scopeId","data-v-f3791a66"]]),Yde="/assets/header-bg-f_L3iUL4.png",Lh="/assets/food-DdgRe-9q.png",Eu="/assets/ant-BfLV_1uY.png",Ih="/assets/time-BSxcnahb.png",Au="/assets/ep-24tPMwVI.png",Dh="/assets/honey-Bf9YRR_2.png",Fh="/assets/pe-BTFlurUW.png",Kde="/assets/leaf-CZ8oI6cN.png",b0="/assets/logo-BybHSymN.png",Xde={class:"flex flex-col h-full bg-amber-50 dark:bg-gray-900 text-amber-900 dark:text-amber-100 font-sans w-full main-background lg:flex-row"},Zde={class:"flex items-center justify-between p-4 border-b border-amber-800/50 flex-shrink-0"},Jde=["src"],eue={key:0,class:"text-lg font-extrabold tracking-tight whitespace-nowrap"},tue={key:0,class:"p-3 border-b border-amber-800/30 flex-shrink-0"},sue={class:"space-y-2 text-sm"},oue={class:"flex items-center justify-between"},rue={class:"flex items-center"},nue=["src"],aue={class:"flex items-center justify-between"},iue={class:"flex items-center"},lue=["src"],cue={key:0,class:"flex items-center justify-between"},due={class:"flex items-center"},uue=["src"],mue={key:1,class:"flex items-center justify-between"},pue={class:"flex items-center"},fue={key:2,class:"flex items-center justify-between"},gue={class:"flex items-center"},hue=["src"],bue={key:3,class:"flex items-center justify-between"},vue={class:"flex items-center"},yue=["src"],xue={class:"py-2 overflow-y-auto overflow-x-hidden flex-1"},kue={class:"border-t border-amber-800/30 pt-2"},_ue={class:"text-xs uppercase text-amber-400/80 font-semibold"},wue={key:1},Cue={key:0,class:"ml-3 flex-1"},Sue={class:"block font-medium"},$ue={class:"block text-2xs text-amber-400/70"},Eue={key:1,class:"absolute top-2 right-3 w-2.5 h-2.5 bg-green-500 rounded-full shadow-green-glow animate-harvest-pulse"},Aue={key:1,class:"flex items-center py-2 px-4 transition-colors duration-200 relative group"},Mue=["onClick"],Pue={key:0,class:"ml-3 flex-1"},Tue={class:"block font-medium"},Lue={class:"block text-2xs text-amber-400/50"},Iue={key:0,class:"tooltip-container absolute top-10 left-1/2 transform -translate-x-1/2 w-48 bg-amber-950 text-amber-50 rounded-md shadow-lg invisible group-hover:visible transition-all duration-200 z-[1000] p-2.5 text-sm font-medium border border-amber-800/30"},Due={class:"ml-2 flex-1"},Fue={class:"block text-sm font-medium"},Rue={class:"block text-2xs text-amber-400/70"},Uue={key:1,class:"flex items-center py-1.5 pl-12 pr-4 transition-colors duration-200 relative group"},Bue=["onClick"],que={class:"ml-2 flex-1"},Oue={class:"block text-sm font-medium"},Nue={class:"block text-2xs text-amber-400/50"},Hue={class:"tooltip-container absolute top-8 left-1/2 transform -translate-x-1/2 w-48 bg-amber-950 text-amber-50 rounded-md shadow-lg invisible group-hover:visible transition-all duration-200 z-[1000] p-2.5 text-sm font-medium border border-amber-800/30"},jue={key:1,class:"p-4 border-t border-amber-800/30 flex-shrink-0"},Gue={class:"flex flex-col flex-1 min-h-0 overflow-hidden"},Vue={class:"relative z-10"},Que={class:"p-2 md:p-3 border-b border-amber-800/20 dark:border-amber-950/30"},zue={class:"flex items-center justify-between mb-2"},Wue={class:"flex items-center gap-3"},Yue=["src"],Kue={class:"flex items-center gap-3"},Xue={key:0,class:"flex items-center gap-1 bg-blue-600/80 px-2 py-1 rounded-md text-xs md:text-sm font-medium"},Zue={key:0,class:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full shadow-red-glow animate-ping"},Jue={class:"text-xs bg-amber-900/30 dark:bg-amber-950/50 px-2 py-0.5 rounded-full whitespace-nowrap"},e0e={key:0,class:"bg-black/5 dark:bg-white/5 rounded-md p-2 mt-2"},t0e={class:"flex flex-wrap items-center gap-1.5"},s0e=["src"],o0e=["src"],r0e={key:0,class:"hidden md:block w-px h-6 bg-amber-700/20 dark:bg-amber-300/20 mx-1"},n0e={key:1,class:"flex flex-wrap items-center gap-1.5"},a0e=["src"],i0e=["src"],l0e={key:2,class:"hidden md:block w-px h-6 bg-amber-700/20 dark:bg-amber-300/20 mx-1"},c0e={key:3,class:"flex flex-wrap items-center gap-1.5"},d0e=["src"],u0e=["src"],m0e=["src"],p0e={key:4,class:"hidden md:block w-px h-6 bg-amber-700/20 dark:bg-amber-300/20 mx-1"},f0e={key:5,class:"flex flex-wrap items-center gap-1.5"},g0e={class:"absolute -bottom-16 left-1/2 transform -translate-x-1/2 bg-purple-900 text-purple-50 text-xs rounded px-3 py-2 w-max pointer-events-none z-10 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200"},h0e={class:"relative mx-2 md:mx-3 mb-4 p-2 rounded-md"},b0e={class:"flex justify-between items-center mb-1 px-1"},v0e={class:"text-2xs text-amber-200 dark:text-amber-300"},y0e={class:"h-3 relative rounded-lg overflow-hidden bg-amber-950/60 dark:bg-amber-900/60 border border-amber-800 shadow-inner"},x0e={key:0,class:"absolute bottom-[-40px] sm:bottom-[-60px] left-1/2 transform -translate-x-1/2 z-50"},k0e={class:"bg-gradient-to-r from-gray-800/90 to-gray-700/90 dark:from-gray-900/90 dark:to-gray-800/90 text-amber-50 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] relative z-10 lg:hidden"},_0e={class:"flex justify-around items-center"},w0e=["title"],C0e={class:"text-2xs mt-0.5 font-medium text-amber-100"},S0e={class:"text-2xs mt-0.5 font-medium text-amber-100"},$0e={class:"text-2xs mt-0.5 font-medium text-amber-100"},E0e={class:"relative"},A0e={key:0,class:"absolute -top-1.5 -right-1.5 w-3 h-3 bg-green-500 rounded-full shadow-green-glow animate-harvest-pulse"},M0e={class:"text-2xs mt-0.5 font-medium text-shadow-nav text-white"},P0e=["onClick"],T0e={class:"text-2xs mt-0.5 font-medium text-gray-400 text-shadow-sm"},L0e={key:0,class:"fixed inset-x-0 bottom-0 z-20"},I0e={class:"relative bg-gradient-to-r from-amber-50 to-amber-100 dark:from-gray-900 dark:to-gray-800 text-amber-900 dark:text-amber-100 rounded-t-xl shadow-lg transform max-h-[80vh] overflow-y-auto"},D0e={class:"p-2"},F0e={class:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 p-2"},R0e={class:"relative"},U0e={key:0,class:"absolute -top-1.5 -right-1.5 w-3 h-3 bg-green-500 rounded-full shadow-green-glow animate-harvest-pulse"},B0e={class:"mt-1 text-xs font-medium text-center text-amber-900 dark:text-amber-100"},q0e={key:0,class:"fixed inset-x-0 bottom-0 z-20"},O0e={class:"relative bg-gradient-to-r from-amber-50 to-amber-100 dark:from-gray-900 dark:to-gray-800 text-amber-900 dark:text-amber-100 rounded-t-xl shadow-lg transform max-h-[80vh] overflow-y-auto"},N0e={class:"p-2"},H0e={class:"grid grid-cols-2 gap-2 p-2"},j0e={key:0,class:"fixed inset-x-0 bottom-0 z-20"},G0e={class:"relative bg-gradient-to-r from-amber-50 to-amber-100 dark:from-gray-900 dark:to-gray-800 text-amber-900 dark:text-amber-100 rounded-t-xl shadow-lg transform max-h-[80vh] overflow-y-auto"},V0e={class:"p-2"},Q0e={class:"grid grid-cols-1 sm:grid-cols-2 gap-2 p-2"},z0e={class:"text-xs text-amber-700 dark:text-amber-300/80"},W0e={key:0,class:"ml-1 px-1 text-2xs rounded-full bg-purple-900/50 text-purple-300"},Y0e=Ue({__name:"MainLayout",setup(t){const e=As(),s=vt(),o=ct(),n=qs(),i=os(),l=gt();cs();const c=ts(),d=ss(),u=Os(),{showToast:m}=zt(),p=Vn(),{isFeatureUnlocked:y}=$v(n),{formatHoneydew:v,honeydew:S}=ki(),{getCurrencyClasses:_}=Cr(),C=_("food"),x=_("worker"),$=_("honeydew"),A=_("time"),M=_("evolutionPoints"),P=_("pheromoneEssence"),L=_("ascension"),{shouldAnimateFeature:B}=jy(),k=W(!0),I=W({upgrades:!1,adventure:!1,inventory:!1}),N=W(0),U=R(()=>Math.round(N.value)),j=W(!0),ee=W(window.innerWidth>=1024),ne=()=>{ee.value&&(j.value=!j.value,localStorage.setItem("sidebar-state",j.value?"open":"closed"))};let oe=null;const O=()=>{e.updateProgress(),n.checkProgression();const F=e.progressPercentage,q=F-N.value;Math.abs(q)>.1?N.value+=q*.1:N.value=F,oe=requestAnimationFrame(O)};tt(()=>{B("upgrades")&&(I.value.upgrades=!0,setTimeout(()=>{I.value.upgrades=!1},1500)),N.value=e.progressPercentage,oe=requestAnimationFrame(O),document.addEventListener("click",ue),localStorage.getItem("hasVisitedSimulation")==="true"&&(k.value=!1),p.currentRoute.value.path==="/simulation"&&(k.value=!1);const F=localStorage.getItem("sidebar-state");F&&(j.value=F==="open"),window.addEventListener("resize",Y),Y()});const Y=()=>{ee.value=window.innerWidth>=1024,ee.value&&localStorage.getItem("sidebar-state")!=="closed"&&(j.value=!0),ee.value||(j.value=!1)};We(()=>y.value.upgrades,(F,q)=>{F&&!q&&(I.value.upgrades=!0,setTimeout(()=>{I.value.upgrades=!1},1500))});const G=R(()=>o.getUpgradeCount("unlockAdventure").gt(0)),de=R(()=>o.getUpgradeCount("unlockQuests").gt(0)),re=R(()=>o.getUpgradeCount("unlockBossChallenges").gt(0)),he=(F,q)=>{m(q,"info")},ve=W(null),Se=F=>{ve.value===F?ve.value=null:ve.value=F},Me=R(()=>y.value.aphidFarm?d.fields.some(F=>F.isHarvestable):!1),Oe=F=>"divider"in F&&F.divider===!0,He=F=>!("divider"in F)||F.divider!==!0,we=R(()=>[{name:"Colony",icon:"i-heroicons-bug-ant",route:"/",disabled:!1},{name:"Evolution",icon:"i-heroicons-sparkles",route:"/upgrades",disabled:!y.value.evolution,tooltip:"Purchase 5 nurseries to unlock Evolution",colors:M},{name:"Adventure",icon:"i-heroicons-bolt",action:G.value?"toggleAdventurePanel":void 0,route:G.value?"/adventure":"#",disabled:!G.value,tooltip:"Unlock Adventure Mode from the Evolution tab (50 EP)",colors:C},{name:"Bosses",icon:"i-heroicons-trophy",route:re.value?"/bosses":"#",disabled:!re.value,tooltip:"Unlock Boss Challenges from the Evolution tab",colors:P},{name:"Inventory",icon:"i-heroicons-squares-2x2",action:G.value?"toggleInventoryPanel":void 0,route:G.value?"/inventory":"#",disabled:!G.value,tooltip:"Unlock Adventure Mode first",description:"Manage adventure items"},{name:"Aphids",icon:"i-heroicons-sun",route:"/aphid-farm",disabled:!y.value.aphidFarm,tooltip:"Unlock Evolution first",get hasNotification(){return Me.value},colors:$},{name:"More",icon:"i-heroicons-ellipsis-horizontal",action:"toggleMorePanel",route:"#",disabled:!1}]),_e=R(()=>[...[{name:"Colony",icon:"i-heroicons-bug-ant",route:"/",disabled:!1,description:"Manage your ant colony"},{name:"Evolution",icon:"i-heroicons-sparkles",route:"/upgrades",disabled:!y.value.evolution,tooltip:"Purchase 5 nurseries to unlock Evolution",colors:M,description:"Evolve your colony with EP"},{name:"Adventure",icon:"i-heroicons-bolt",route:G.value?"/adventure":"#",disabled:!G.value,tooltip:"Unlock Adventure Mode from the Evolution tab (50 EP)",colors:C,description:"Send ants on adventures",children:G.value?[{name:"Combat",icon:"i-heroicons-bolt",route:"/adventure",description:"Battle enemies",disabled:!1},{name:"Shop",icon:"i-heroicons-beaker",route:"/adventure?tab=shop",description:"Buy pheromone upgrades",disabled:!1},{name:"Quests",icon:"i-heroicons-clipboard-document-list",route:"/adventure?tab=quests",disabled:!de.value,tooltip:"Unlock Quests from the Evolution tab (1000 EP)",description:"Complete quests for rewards"},{name:"Mega Ant",icon:"i-heroicons-bug-ant",route:"/adventure?tab=megaAnt",disabled:!l.isUnlocked,tooltip:"Unlock Mega Ant Evolution from the Evolution tab (100M EP)",description:"Evolve a powerful mega ant"},{name:"Collectibles",icon:"i-heroicons-star",route:"/collectibles",description:"View your collectibles and boosts",disabled:!1}]:[]},{name:"Boss Challenges",icon:"i-heroicons-trophy",route:re.value?"/bosses":"#",disabled:!re.value,tooltip:"Unlock Boss Challenges from the Evolution tab",colors:P,description:"Battle powerful boss enemies"},{name:"Inventory",icon:"i-heroicons-squares-2x2",route:G.value?"/inventory":"#",disabled:!G.value,tooltip:"Unlock Adventure Mode first",description:"Manage adventure items"},{name:"Aphid Farm",icon:"i-heroicons-sun",route:"/aphid-farm",disabled:!y.value.aphidFarm,tooltip:"Unlock Evolution first",get hasNotification(){return Me.value},colors:$,description:"Collect honeydew from aphids"}],{divider:!0,name:"Utilities"},{name:"Quests",icon:"i-heroicons-clipboard-document-list",route:de.value?"/quests":"#",disabled:!de.value,tooltip:"Unlock Quests from the Evolution tab (1000 EP)",colors:M,description:"Complete quests for rewards"},{name:"Simulation",icon:"i-heroicons-rectangle-group",route:"/simulation",disabled:!1,description:"View ant colony simulation"},{name:"Achievements",icon:"i-heroicons-trophy",route:"/achievements",disabled:!1,description:"View your achievements"},{divider:!0,name:"Information"},{name:"Wiki",icon:"i-heroicons-information-circle",route:"/wiki",disabled:!1,description:"Game information and help"},{name:"Changelog",icon:"i-heroicons-document-text",route:"/changelog",disabled:!1,description:"View recent updates"},{name:"Settings",icon:"i-heroicons-cog-6-tooth",route:"/settings",disabled:!1,description:"Game settings and options"}]),pe=W(!1),me=W(!1),le=W(!1),z=()=>{pe.value=!pe.value,pe.value&&(me.value=!1,le.value=!1)},K=()=>{me.value=!me.value,me.value&&(pe.value=!1,le.value=!1)},H=()=>{le.value=!le.value,le.value&&(pe.value=!1,me.value=!1)},{isDarkMode:T}=xi(),D=q0(),X=R(()=>{const F={colony:!0,time:!0,currency:!0,ascension:!0},q=D.path;return q==="/"?F:q==="/upgrades"?{...F,time:!1}:q.startsWith("/adventure")?{...F,time:!1}:q==="/aphid-farm"?{...F,time:!1}:q==="/simulation"?{...F,time:!0,currency:!1,ascension:!1}:q==="/bosses"?{...F,time:!1}:["/achievements","/wiki","/changelog","/settings","/quests","/inventory"].includes(q)?{...F,time:!1,ascension:!1}:F}),ae=R(()=>[{name:"Achievements",icon:"i-heroicons-trophy",route:"/achievements",disabled:!1},{name:"Aphids",icon:"i-heroicons-sun",route:"/aphid-farm",disabled:!y.value.aphidFarm,tooltip:"Unlock Evolution first",get hasNotification(){return Me.value},colors:$,customIcon:Kde},{name:"Quests",icon:"i-heroicons-clipboard-document-list",route:de.value?"/quests":"#",disabled:!de.value,tooltip:"Unlock Quests from the Evolution tab (1000 EP)",colors:M,customIcon:Au},{name:"Simulation",icon:"i-heroicons-bug-ant",route:"/simulation",disabled:!1,customIcon:Eu},{name:"Wiki",icon:"i-heroicons-information-circle",route:"/wiki",disabled:!1},{name:"Changelog",icon:"i-heroicons-document-text",route:"/changelog",disabled:!1},{name:"Settings",icon:"i-heroicons-cog-6-tooth",route:"/settings",disabled:!1}]),ue=F=>{ve.value!==null&&!F.target.closest(".nav-item")&&(ve.value=null)};We(()=>D.path,F=>{pe.value=!1,me.value=!1,le.value=!1,F==="/simulation"&&(k.value=!1,localStorage.setItem("hasVisitedSimulation","true"))});const ke=R(()=>o.getUpgradeCount("unlockColonyRush").gt(0)),ge=R(()=>s.getActualProduction("worker")),Pe=R(()=>u.isCalculatingOfflineProgress),fe=W(!1),E=()=>{fe.value=!fe.value},w=yi();return Ms(()=>{oe!==null&&cancelAnimationFrame(oe),document.removeEventListener("click",ue),window.removeEventListener("resize",Y)}),(F,q)=>{const Z=Tb("router-link");return f(),h(Ce,null,[r("div",{class:V([{dark:g(T)},"h-dvh w-full overflow-hidden"])},[r("div",Xde,[r("aside",{class:V(["hidden lg:flex bg-gradient-to-b from-amber-900/90 to-amber-800/90 dark:from-gray-900/90 dark:to-gray-800/90 text-amber-50 shadow-lg z-20 transition-all duration-300 flex-col h-dvh",j.value?"w-64":"w-16"])},[r("div",Zde,[r("div",{class:V(["flex items-center space-x-3",{"justify-center w-full":!j.value}])},[r("img",{src:g(b0),class:"w-8 h-8",alt:"Logo"},null,8,Jde),j.value?(f(),h("h1",eue,"Idle Ant Farm")):Q("",!0)],2),j.value?(f(),h("button",{key:0,onClick:ne,class:"p-1 rounded-full hover:bg-amber-800/50 transition-colors"},q[6]||(q[6]=[r("span",{class:"i-heroicons-chevron-left text-amber-200"},null,-1)]))):Q("",!0)]),j.value&&g(y).colonyStatus?(f(),h("div",tue,[q[13]||(q[13]=r("h3",{class:"text-xs uppercase text-amber-400/80 font-semibold mb-2"},"Resources",-1)),r("div",sue,[r("div",oue,[r("div",rue,[r("img",{src:g(Lh),class:V(["w-4 h-4 mr-2",g(C).icon]),alt:"Food"},null,10,nue),q[7]||(q[7]=r("span",{class:"text-amber-200"},"Food:",-1))]),r("span",{class:V(["font-medium px-1.5 py-0.5 rounded bg-amber-800/50 dark:bg-amber-300/70",g(C).text])},b(g(s).formatFood()),3)]),r("div",aue,[r("div",iue,[r("img",{src:g(Eu),class:V(["w-4 h-4 mr-2",g(x).icon]),alt:"Workers"},null,10,lue),q[8]||(q[8]=r("span",{class:"text-amber-200"},"Workers:",-1))]),r("span",{class:V(["font-medium px-1.5 py-0.5 rounded bg-amber-800/50 dark:bg-amber-300/70",g(x).text])},b(g(s).formatGeneratorCount("worker")),3)]),g(y).upgrades?(f(),h("div",cue,[r("div",due,[r("img",{src:g(Au),class:V(["w-4 h-4 mr-2",g(M).icon]),alt:"EP"},null,10,uue),q[9]||(q[9]=r("span",{class:"text-amber-200"},"EP:",-1))]),r("span",{class:V(["font-medium px-1.5 py-0.5 rounded bg-amber-800/50 dark:bg-amber-300/70",g(M).text])},b(g(o).formatEP()),3)])):Q("",!0),g(l).ascensionCount>0?(f(),h("div",mue,[r("div",pue,[r("span",{class:V(["i-heroicons-star text-base mr-2",g(L).icon])},null,2),q[10]||(q[10]=r("span",{class:"text-amber-200"},"AP:",-1))]),r("span",{class:V(["font-medium px-1.5 py-0.5 rounded bg-amber-800/50 dark:bg-amber-300/70",g(L).text])},b(g(l).formatAP()),3)])):Q("",!0),g(y).aphidFarm?(f(),h("div",fue,[r("div",gue,[r("img",{src:g(Dh),class:V(["w-4 h-4 mr-2",g($).icon]),alt:"Honeydew"},null,10,hue),q[11]||(q[11]=r("span",{class:"text-amber-200"},"Honeydew:",-1))]),r("span",{class:V(["font-medium px-1.5 py-0.5 rounded bg-amber-800/50 dark:bg-amber-300/70",g($).text])},b(g(v)(g(S))),3)])):Q("",!0),G.value?(f(),h("div",bue,[r("div",vue,[r("img",{src:g(Fh),class:V(["w-4 h-4 mr-2",g(P).icon]),alt:"PE"},null,10,yue),q[12]||(q[12]=r("span",{class:"text-amber-200"},"PE:",-1))]),r("span",{class:V(["font-medium px-1.5 py-0.5 rounded bg-amber-800/50 dark:bg-amber-300/70",g(P).text])},b(g(i).formattedPheromoneEssence)+" PE",3)])):Q("",!0)])])):Q("",!0),r("nav",xue,[(f(!0),h(Ce,null,De(_e.value,(J,te)=>(f(),h(Ce,{key:te},[Oe(J)?(f(),h("div",{key:0,class:V(["px-4 py-2",{hidden:!j.value}])},[r("div",kue,[r("span",_ue,b(J.name),1)])],2)):He(J)?(f(),h("div",wue,[J.disabled?(f(),h("div",Aue,[r("div",{class:"opacity-50 flex items-center w-full",onClick:ye=>he(J.name,J.tooltip||"")},[r("span",{class:V([J.icon,"text-xl text-amber-500/70"])},null,2),j.value?(f(),h("div",Pue,[r("span",Tue,b(J.name),1),r("span",Lue,b(J.description),1)])):Q("",!0)],8,Mue),j.value?(f(),h("div",Iue,[se(b(J.tooltip)+" ",1),q[14]||(q[14]=r("span",{class:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-amber-950 rotate-45 border-t border-l border-amber-800/30"},null,-1))])):Q("",!0)])):(f(),rt(Z,{key:0,to:J.route,class:V(["flex items-center py-2 px-4 transition-colors duration-200 relative group",[g(D).path===J.route||J.name==="Adventure"&&g(D).path.startsWith("/adventure")?"bg-amber-800/60 border-l-2 border-amber-400":"hover:bg-amber-800/30 border-l-2 border-transparent"]])},{default:mt(()=>[r("span",{class:V([J.icon,"text-xl",g(D).path===J.route||J.name==="Adventure"&&g(D).path.startsWith("/adventure")?J.colors?J.colors.icon:"text-amber-300":J.colors?J.colors.icon:"text-amber-400"])},null,2),j.value?(f(),h("div",Cue,[r("span",Sue,b(J.name),1),r("span",$ue,b(J.description),1)])):Q("",!0),"hasNotification"in J&&J.hasNotification?(f(),h("span",Eue)):Q("",!0),J.children&&J.children.length>0&&j.value?(f(),h("span",{key:2,class:V(["text-amber-400",g(D).path.startsWith("/adventure")?"i-heroicons-chevron-down":"i-heroicons-chevron-right"])},null,2)):Q("",!0)]),_:2},1032,["to","class"])),J.children&&J.children.length>0&&j.value&&!J.disabled&&g(D).path.startsWith("/adventure")?(f(!0),h(Ce,{key:2},De(J.children,(ye,$e)=>(f(),h(Ce,{key:`${te}-${$e}`},[ye.disabled?(f(),h("div",Uue,[r("div",{class:"opacity-50 flex items-center w-full cursor-not-allowed",onClick:Ee=>he(ye.name,ye.tooltip||"")},[r("span",{class:V([ye.icon,"text-sm text-amber-500/70"])},null,2),r("div",que,[r("span",Oue,b(ye.name),1),r("span",Nue,b(ye.description),1)])],8,Bue),r("div",Hue,[se(b(ye.tooltip)+" ",1),q[15]||(q[15]=r("span",{class:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-amber-900 rotate-45 border-t border-l border-amber-800/30"},null,-1))])])):(f(),rt(Z,{key:0,to:ye.route,class:V(["flex items-center py-1.5 pl-12 pr-4 transition-colors duration-200 relative group",[ye.name==="Combat"&&g(D).path==="/adventure"&&!g(D).query.tab||ye.route.includes("?tab=")&&g(D).query.tab===ye.route.split("?tab=")[1]?"bg-amber-700/40 border-l-2 border-amber-400":"hover:bg-amber-800/30 border-l-2 border-transparent"]])},{default:mt(()=>[r("span",{class:V([ye.icon,"text-sm",ye.name==="Combat"&&g(D).path==="/adventure"&&!g(D).query.tab||ye.route.includes("?tab=")&&g(D).query.tab===ye.route.split("?tab=")[1]?"text-amber-300":"text-amber-400"])},null,2),r("div",Due,[r("span",Fue,b(ye.name),1),r("span",Rue,b(ye.description),1)])]),_:2},1032,["to","class"]))],64))),128)):Q("",!0)])):Q("",!0)],64))),128))]),j.value?Q("",!0):(f(),h("div",jue,[r("button",{onClick:ne,class:"p-1 w-8 h-8 flex items-center justify-center rounded-full bg-amber-800/50 hover:bg-amber-700/50 transition-colors"},q[16]||(q[16]=[r("span",{class:"i-heroicons-chevron-right text-amber-200"},null,-1)]))]))],2),r("div",Gue,[r("header",{style:Je({backgroundImage:`url(${g(Yde)})`,backgroundSize:"cover",backgroundPosition:"center"}),class:"text-amber-50 shadow-lg relative z-30 header-with-bg"},[r("div",Vue,[r("div",Que,[r("div",zue,[r("div",Wue,[r("img",{src:g(b0),class:"w-12 h-12 lg:hidden",alt:"Logo"},null,8,Yue),q[18]||(q[18]=r("h1",{class:"hidden lg:block text-lg md:text-xl font-extrabold tracking-tight"},"Idle Ant Farm",-1)),r("button",{onClick:ne,class:"hidden lg:block p-1.5 rounded-md bg-amber-800/40 hover:bg-amber-800/60 transition-colors"},q[17]||(q[17]=[r("span",{class:"i-heroicons-bars-3 text-lg text-amber-200"},null,-1)]))]),r("div",Kue,[Pe.value?(f(),h("div",Xue,q[19]||(q[19]=[r("span",{class:"i-heroicons-clock text-blue-200 animate-pulse"},null,-1),r("span",{class:"hidden sm:inline"},"Calculating Progress",-1),r("span",{class:"sm:hidden"},"Calculating...",-1)]))):Q("",!0),r("button",{onClick:E,class:V(["flex items-center gap-1 bg-purple-600 hover:bg-purple-500 dark:bg-purple-700 dark:hover:bg-purple-600 px-2 py-1 rounded-md transition-colors text-xs md:text-sm font-medium group relative",{"daily-reward-pulse":g(w).isRewardAvailable}])},[q[20]||(q[20]=r("span",{class:"i-heroicons-gift text-purple-200 group-hover:scale-110 transition-transform"},null,-1)),q[21]||(q[21]=r("span",{class:"hidden sm:inline"},"Daily Reward",-1)),q[22]||(q[22]=r("span",{class:"sm:hidden"},"Reward",-1)),g(w).isRewardAvailable?(f(),h("span",Zue)):Q("",!0)],2),Fe(Z,{to:"/simulation",class:V(["flex items-center gap-1 bg-amber-600 hover:bg-amber-500 dark:bg-amber-700 dark:hover:bg-amber-600 px-2 py-1 rounded-md transition-colors text-xs md:text-sm font-medium group",{"simulation-button-pulse":k.value}]),onClick:q[0]||(q[0]=J=>k.value=!1)},{default:mt(()=>q[23]||(q[23]=[r("span",{class:"i-heroicons-bug-ant text-amber-200 group-hover:scale-110 transition-transform"},null,-1),r("span",{class:"hidden sm:inline"},"Ant Simulation",-1),r("span",{class:"sm:hidden"},"Sim",-1)])),_:1},8,["class"]),r("span",Jue,b(g(e).timeRemaining)+"s ",1)])]),g(y).colonyStatus?(f(),h("div",e0e,[r("div",{class:V(["flex flex-wrap items-center gap-1.5 md:gap-2 justify-around",{"feature-unlock-pulse":g(B)("colonyStatus")}]),id:"resource-counter"},[r("div",t0e,[r("div",{class:V(["flex items-center rounded-full px-1.5 py-0.5",g(C).background])},[r("img",{src:g(Lh),class:V(["w-4 h-4 mr-1",g(C).icon]),alt:"Food"},null,10,s0e),r("span",{class:V(["text-2xs sm:text-sm md:text-base font-medium",g(C).text])},b(g(s).formatFood()),3)],2),r("div",{class:V(["flex items-center rounded-full px-1.5 py-0.5",g(x).background])},[r("img",{src:g(Eu),class:V(["w-4 h-4 mr-1",g(x).icon]),alt:"Worker"},null,10,o0e),r("span",{class:V(["text-2xs sm:text-sm md:text-base font-medium",g(x).text])},b(g(s).formatGeneratorCount("worker")),3)],2),r("div",{class:V(["flex items-center rounded-full px-1.5 py-0.5",g(C).background])},[r("span",{class:V(["i-heroicons-arrow-trending-up mr-1 text-xs",g(C).icon])},null,2),r("span",{class:V(["text-2xs sm:text-sm md:text-base font-medium",g(C).text])},b(g(ie)(ge.value,1))+"/trip",3)],2)]),X.value.time?(f(),h("div",r0e)):Q("",!0),X.value.time?(f(),h("div",n0e,[r("div",{class:V(["flex items-center rounded-full px-1.5 py-0.5",g(A).background])},[r("img",{src:g(Ih),class:V(["w-4 h-4 mr-1",g(A).icon]),alt:"Time"},null,10,a0e),r("span",{class:V(["text-2xs sm:text-sm md:text-base font-medium",g(A).text])},b(g(e).tickDuration.toFixed(1))+"s/trip",3)],2),r("div",{class:V(["flex items-center rounded-full px-1.5 py-0.5",g(A).background])},[r("img",{src:g(Ih),class:V(["w-4 h-4 mr-1",g(A).icon]),alt:"Time"},null,10,i0e),r("span",{class:V(["text-2xs sm:text-sm md:text-base font-medium",g(A).text])},b(g(e).formattedCurrentEvolutionTicks)+" trips",3)],2)])):Q("",!0),X.value.currency&&(g(y).upgrades||g(y).aphidFarm||G.value)?(f(),h("div",l0e)):Q("",!0),X.value.currency&&(g(y).upgrades||g(y).aphidFarm||G.value)?(f(),h("div",c0e,[g(y).upgrades?(f(),h("div",{key:0,class:V(["flex items-center rounded-full px-1.5 py-0.5",[g(M).background,{"ring-2 ring-amber-300 dark:ring-amber-400 ring-opacity-70":g(D).path==="/upgrades"}]])},[r("img",{src:g(Au),class:V(["w-4 h-4 mr-1",g(M).icon]),alt:"EP"},null,10,d0e),r("span",{class:V(["text-2xs sm:text-sm md:text-base font-medium",g(M).text])},b(g(o).formatEP())+" EP",3)],2)):Q("",!0),g(y).aphidFarm?(f(),h("div",{key:1,class:V(["flex items-center rounded-full px-1.5 py-0.5",[g($).background,{"ring-2 ring-amber-300 dark:ring-amber-400 ring-opacity-70":g(D).path==="/aphid-farm"}]])},[r("img",{src:g(Dh),class:V(["w-3 h-4 mr-1",g($).icon]),alt:"Honeydew"},null,10,u0e),r("span",{class:V(["text-2xs sm:text-sm md:text-base font-medium",g($).text])},b(g(v)(g(S)))+" HD",3)],2)):Q("",!0),G.value?(f(),h("div",{key:2,class:V(["flex items-center rounded-full px-1.5 py-0.5",[g(P).background,{"ring-2 ring-amber-300 dark:ring-amber-400 ring-opacity-70":g(D).path.startsWith("/adventure")||g(D).path==="/bosses"}]])},[r("img",{src:g(Fh),class:V(["w-3 h-4 mr-1",g(P).icon]),alt:"PE"},null,10,m0e),r("span",{class:V(["text-2xs sm:text-sm md:text-base font-medium",g(P).text])},b(g(i).formattedPheromoneEssence)+" PE",3)],2)):Q("",!0)])):Q("",!0),X.value.ascension&&g(l).ascensionCount>0?(f(),h("div",p0e)):Q("",!0),X.value.ascension&&g(l).ascensionCount>0?(f(),h("div",f0e,[r("div",{class:V(["flex items-center rounded-full px-1.5 py-0.5",[g(L).background,{"ring-2 ring-purple-300 dark:ring-purple-400 ring-opacity-70":g(D).path.includes("megaAnt")}]])},[r("span",{class:V(["i-heroicons-star text-base mr-1",g(L).icon])},null,2),r("span",{class:V(["text-2xs sm:text-sm md:text-base font-medium",g(L).text])},b(g(l).formatAP())+" AP",3)],2),r("div",{class:V(["flex items-center rounded-full px-1.5 py-0.5 group relative",[g(L).background,{"ring-2 ring-purple-300 dark:ring-purple-400 ring-opacity-70":g(D).path.includes("megaAnt")}]])},[r("span",{class:V(["i-heroicons-arrow-up-circle mr-1 text-xs",g(L).icon])},null,2),r("span",{class:V(["text-2xs sm:text-sm md:text-base font-medium",g(L).text])},b(g(l).ascensionCount)+"A",3),r("div",g0e,[r("div",null,"+"+b(g(l).ascensionMultiplier.sub(1).mul(100).toFixed(0))+"% XP Gain",1),q[24]||(q[24]=r("div",null,"Preserves Mega Ant upgrades",-1)),q[25]||(q[25]=r("span",{class:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-purple-900 rotate-45"},null,-1))])],2)])):Q("",!0)],2)])):Q("",!0)])]),r("div",h0e,[r("div",b0e,[q[26]||(q[26]=r("span",{class:"text-2xs text-amber-200 dark:text-amber-300 font-medium flex items-center"},[r("span",{class:"i-heroicons-arrow-path-rounded-square text-2xs mr-0.5"}),se(" Foraging Trip ")],-1)),r("span",v0e,b(U.value)+"% ",1)]),r("div",y0e,[q[27]||(q[27]=r("div",{class:"absolute inset-0 bg-[url('/bg/dirt-pattern.png')] opacity-10 animate-pan bg-repeat pointer-events-none"},null,-1)),r("div",{class:"absolute h-full bg-amber-400/30 dark:bg-amber-200/20 rounded-full transition-all duration-100",style:Je({width:`${U.value}%`})},null,4),r("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march ant-shadow absolute top-1/2 -translate-y-1/2 rotate-90",style:Je({left:`calc(${U.value}% - 5px)`,transition:"left 0.1s linear",willChange:"left"})},null,4)])]),g(y).colonyStatus&&ke.value?(f(),h("div",x0e,[Fe(Wde)])):Q("",!0)],4),r("main",{class:V(["flex-1 overflow-y-auto p-4 pb-6 scroll-smooth lg:pb-4",ke.value?"pt-12":""])},[mi(F.$slots,"default",{},void 0,!0)],2),r("footer",k0e,[r("nav",_0e,[(f(!0),h(Ce,null,De(we.value,(J,te)=>(f(),h("div",{key:J.name,class:"relative w-full h-full group nav-item",title:J.tooltip},[J.action==="toggleMorePanel"?(f(),h("div",{key:0,onClick:z,class:V(["flex flex-col items-center py-2.5 px-1 w-full transition-colors duration-200 select-none cursor-pointer bg-amber-700/60 dark:bg-amber-800/60 hover:bg-amber-600/70 dark:hover:bg-amber-700/70",{"border-t-2 border-amber-300":pe.value}])},[r("span",{class:V([J.icon,"text-lg text-amber-200"])},null,2),r("span",C0e,b(J.name),1)],2)):J.action==="toggleAdventurePanel"?(f(),h("div",{key:1,onClick:K,class:V(["flex flex-col items-center py-2.5 px-1 w-full transition-colors duration-200 select-none cursor-pointer",[me.value?"bg-amber-600/80 dark:bg-amber-700/80 border-t-2 border-amber-300":"bg-amber-800/40 dark:bg-amber-800/40 hover:bg-amber-700/60 dark:hover:bg-amber-700/60"]])},[r("span",{class:V([J.icon,"text-lg",J.colors?J.colors.icon:"text-amber-200"])},null,2),r("span",S0e,b(J.name),1)],2)):J.action==="toggleInventoryPanel"?(f(),h("div",{key:2,onClick:H,class:V(["flex flex-col items-center py-2.5 px-1 w-full transition-colors duration-200 select-none cursor-pointer",[le.value?"bg-amber-600/80 dark:bg-amber-700/80 border-t-2 border-amber-300":"bg-amber-800/40 dark:bg-amber-800/40 hover:bg-amber-700/60 dark:hover:bg-amber-700/60"]])},[r("span",{class:V([J.icon,"text-lg",J.colors?J.colors.icon:"text-amber-200"])},null,2),r("span",$0e,b(J.name),1)],2)):J.disabled?(f(),h("div",{key:4,class:"flex flex-col items-center py-2.5 h px-1 w-full transition-colors duration-200 select-none opacity-60 cursor-not-allowed bg-gray-800/30 dark:bg-gray-900/30",onClick:at(ye=>{Se(te),he(J.name,J.tooltip||"")},["stop"])},[r("span",{class:V([J.icon,"text-lg text-gray-400 text-shadow-sm"])},null,2),r("span",T0e,b(J.name),1),r("span",{class:V(["absolute -top-12 left-1/2 transform -translate-x-1/2 bg-amber-900 text-amber-50 text-xs rounded px-3 py-2 w-max pointer-events-none z-10 shadow-lg",["opacity-0 group-hover:opacity-100 transition-opacity duration-200",{"opacity-100":ve.value===te}]])},[se(b(J.tooltip)+" ",1),q[28]||(q[28]=r("span",{class:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-amber-900 rotate-45"},null,-1))],2)],8,P0e)):(f(),rt(Z,{key:3,to:J.route,class:V(["flex flex-col items-center py-2.5 px-1 w-full transition-colors duration-200 select-none",g(D).path===J.route?"bg-amber-600/80 dark:bg-amber-700/80 border-t-2 border-amber-300":"bg-amber-800/40 dark:bg-amber-800/40 hover:bg-amber-700/60 dark:hover:bg-amber-700/60"])},{default:mt(()=>[r("div",E0e,[r("span",{class:V([J.icon,"text-lg text-shadow-sm",g(D).path===J.route?J.colors?[J.colors.icon,"text-opacity-80"]:"text-amber-200":J.colors?[J.colors.icon,"text-opacity-70"]:"text-amber-300"])},null,2),J.hasNotification?(f(),h("span",A0e)):Q("",!0)]),r("span",M0e,b(J.name),1)]),_:2},1032,["to","class"]))],8,w0e))),128))])]),Fe(fo,{name:"slide-panel"},{default:mt(()=>[pe.value?(f(),h("div",L0e,[r("div",{class:"fixed inset-0 bg-black/30 dark:bg-black/50",onClick:z}),r("div",I0e,[r("div",{class:"p-4 border-b border-amber-200 dark:border-amber-900/50 flex justify-between items-center sticky top-0 bg-inherit z-10"},[q[30]||(q[30]=r("h3",{class:"text-lg font-bold"},"More Options",-1)),r("button",{onClick:z,class:"p-1 rounded-full hover:bg-amber-200 dark:hover:bg-amber-900/40 transition-colors"},q[29]||(q[29]=[r("span",{class:"i-heroicons-x-mark text-xl"},null,-1)]))]),r("div",D0e,[r("div",F0e,[(f(!0),h(Ce,null,De(ae.value,J=>(f(),rt(Z,{key:J.name,to:J.route,class:V(["flex flex-col items-center p-3 rounded-lg transition-colors duration-200",{"opacity-50 cursor-not-allowed":J.disabled},g(D).path===J.route?"bg-amber-300/70 dark:bg-amber-700/70":J.disabled?"":"bg-amber-200/50 dark:bg-amber-800/40 hover:bg-amber-300/60 dark:hover:bg-amber-700/60"]),onClick:z},{default:mt(()=>[r("div",R0e,[r("span",{class:V([J.icon,"text-2xl",g(D).path===J.route?J.colors?[J.colors.icon,"text-opacity-90"]:"text-amber-700 dark:text-amber-300":J.colors?[J.colors.icon,"text-opacity-80"]:"text-amber-700 dark:text-amber-300"])},null,2),"hasNotification"in J&&J.hasNotification?(f(),h("span",U0e)):Q("",!0)]),r("span",B0e,b(J.name),1)]),_:2},1032,["to","class"]))),128))])])])])):Q("",!0)]),_:1}),Fe(fo,{name:"slide-panel"},{default:mt(()=>[me.value?(f(),h("div",q0e,[r("div",{class:"fixed inset-0 bg-black/30 dark:bg-black/50",onClick:K}),r("div",O0e,[r("div",{class:"p-4 border-b border-amber-200 dark:border-amber-900/50 flex justify-between items-center sticky top-0 bg-inherit z-10"},[q[32]||(q[32]=r("h3",{class:"text-lg font-bold flex items-center"},[r("span",{class:"i-heroicons-bolt text-red-600 dark:text-red-500 mr-2"}),se(" Adventure Sections ")],-1)),r("button",{onClick:K,class:"p-1 rounded-full hover:bg-amber-200 dark:hover:bg-amber-900/40 transition-colors"},q[31]||(q[31]=[r("span",{class:"i-heroicons-x-mark text-xl"},null,-1)]))]),r("div",N0e,[r("div",H0e,[Fe(Z,{to:"/adventure",class:V(["flex items-center p-3 rounded-lg transition-colors duration-200",g(D).path==="/adventure"&&!g(D).query.tab?"bg-amber-300/70 dark:bg-amber-700/70":"bg-amber-200/50 dark:bg-amber-800/40 hover:bg-amber-300/60 dark:hover:bg-amber-700/60"]),onClick:K},{default:mt(()=>q[33]||(q[33]=[r("span",{class:"i-heroicons-bolt text-2xl text-red-600 dark:text-red-500 mr-3"},null,-1),r("div",null,[r("div",{class:"font-medium text-amber-900 dark:text-amber-100"},"Combat"),r("div",{class:"text-xs text-amber-700 dark:text-amber-300/80"},"Fight enemies and collect rewards")],-1)])),_:1},8,["class"]),Fe(Z,{to:"/adventure?tab=shop",class:V(["flex items-center p-3 rounded-lg transition-colors duration-200",g(D).path==="/adventure"&&g(D).query.tab==="shop"?"bg-amber-300/70 dark:bg-amber-700/70":"bg-amber-200/50 dark:bg-amber-800/40 hover:bg-amber-300/60 dark:hover:bg-amber-700/60"]),onClick:K},{default:mt(()=>q[34]||(q[34]=[r("span",{class:"i-heroicons-beaker text-2xl text-purple-600 dark:text-purple-500 mr-3"},null,-1),r("div",null,[r("div",{class:"font-medium text-amber-900 dark:text-amber-100"},"Shop"),r("div",{class:"text-xs text-amber-700 dark:text-amber-300/80"},"Purchase pheromone upgrades")],-1)])),_:1},8,["class"]),de.value?(f(),rt(Z,{key:0,to:"/adventure?tab=quests",class:V(["flex items-center p-3 rounded-lg transition-colors duration-200",g(D).path==="/adventure"&&g(D).query.tab==="quests"?"bg-amber-300/70 dark:bg-amber-700/70":"bg-amber-200/50 dark:bg-amber-800/40 hover:bg-amber-300/60 dark:hover:bg-amber-700/60"]),onClick:K},{default:mt(()=>q[35]||(q[35]=[r("span",{class:"i-heroicons-clipboard-document-list text-2xl text-amber-600 dark:text-amber-500 mr-3"},null,-1),r("div",null,[r("div",{class:"font-medium text-amber-900 dark:text-amber-100"},"Quests"),r("div",{class:"text-xs text-amber-700 dark:text-amber-300/80"},"Complete quests for rewards")],-1)])),_:1},8,["class"])):(f(),h("div",{key:1,class:"flex items-center p-3 rounded-lg transition-colors duration-200 opacity-60 cursor-not-allowed bg-amber-200/30 dark:bg-amber-800/20",onClick:q[1]||(q[1]=J=>he("Quests","Unlock Quests from the Evolution tab (1e4 EP)"))},q[36]||(q[36]=[r("span",{class:"i-heroicons-clipboard-document-list text-2xl text-amber-600/70 dark:text-amber-500/70 mr-3"},null,-1),r("div",null,[r("div",{class:"font-medium text-amber-900/70 dark:text-amber-100/70"},"Quests"),r("div",{class:"text-xs text-amber-700/70 dark:text-amber-300/50"},"Locked - Requires Evolution Upgrade")],-1)]))),g(l).isUnlocked?(f(),rt(Z,{key:2,to:"/adventure?tab=megaAnt",class:V(["flex items-center p-3 rounded-lg transition-colors duration-200",g(D).path==="/adventure"&&g(D).query.tab==="megaAnt"?"bg-amber-300/70 dark:bg-amber-700/70":"bg-amber-200/50 dark:bg-amber-800/40 hover:bg-amber-300/60 dark:hover:bg-amber-700/60"]),onClick:K},{default:mt(()=>q[37]||(q[37]=[r("span",{class:"i-heroicons-bug-ant text-2xl text-green-600 dark:text-green-500 mr-3"},null,-1),r("div",null,[r("div",{class:"font-medium text-amber-900 dark:text-amber-100"},"Mega Ant"),r("div",{class:"text-xs text-amber-700 dark:text-amber-300/80"},"Evolve a powerful mega ant")],-1)])),_:1},8,["class"])):(f(),h("div",{key:3,class:"flex items-center p-3 rounded-lg transition-colors duration-200 opacity-60 cursor-not-allowed bg-amber-200/30 dark:bg-amber-800/20",onClick:q[2]||(q[2]=J=>he("Mega Ant","Unlock Mega Ant Evolution from the Evolution tab (100M EP)"))},q[38]||(q[38]=[r("span",{class:"i-heroicons-bug-ant text-2xl text-green-600/70 dark:text-green-500/70 mr-3"},null,-1),r("div",null,[r("div",{class:"font-medium text-amber-900/70 dark:text-amber-100/70"},"Mega Ant"),r("div",{class:"text-xs text-amber-700/70 dark:text-amber-300/50"},"Locked - Requires Evolution Upgrade")],-1)]))),Fe(Z,{to:"/collectibles",class:V(["flex items-center p-3 rounded-lg transition-colors duration-200",g(D).path==="/collectibles"?"bg-amber-300/70 dark:bg-amber-700/70":"bg-amber-200/50 dark:bg-amber-800/40 hover:bg-amber-300/60 dark:hover:bg-amber-700/60"]),onClick:K},{default:mt(()=>q[39]||(q[39]=[r("span",{class:"i-heroicons-star text-2xl text-yellow-500 dark:text-yellow-400 mr-3"},null,-1),r("div",null,[r("div",{class:"font-medium text-amber-900 dark:text-amber-100"},"Collectibles"),r("div",{class:"text-xs text-amber-700 dark:text-amber-300/80"},"View your collectibles and boosts")],-1)])),_:1},8,["class"])])])])])):Q("",!0)]),_:1}),Fe(fo,{name:"slide-panel"},{default:mt(()=>[le.value?(f(),h("div",j0e,[r("div",{class:"fixed inset-0 bg-black/30 dark:bg-black/50",onClick:H}),r("div",G0e,[r("div",{class:"p-4 border-b border-amber-200 dark:border-amber-900/50 flex justify-between items-center sticky top-0 bg-inherit z-10"},[q[41]||(q[41]=r("h3",{class:"text-lg font-bold flex items-center"},[r("span",{class:"i-heroicons-squares-2x2 text-amber-700 dark:text-amber-500 mr-2"}),se(" Inventory Sections ")],-1)),r("button",{onClick:H,class:"p-1 rounded-full hover:bg-amber-200 dark:hover:bg-amber-900/40 transition-colors"},q[40]||(q[40]=[r("span",{class:"i-heroicons-x-mark text-xl"},null,-1)]))]),r("div",V0e,[r("div",Q0e,[Fe(Z,{to:"/inventory",class:V(["flex items-center p-3 rounded-lg transition-colors duration-200",g(D).path==="/inventory"?"bg-amber-300/70 dark:bg-amber-700/70":"bg-amber-200/50 dark:bg-amber-800/40 hover:bg-amber-300/60 dark:hover:bg-amber-700/60"]),onClick:q[3]||(q[3]=()=>{H(),g(c).setActiveTab("equipment")})},{default:mt(()=>q[42]||(q[42]=[r("span",{class:"i-heroicons-shield-check text-2xl text-amber-600 dark:text-amber-500 mr-3"},null,-1),r("div",null,[r("div",{class:"font-medium text-amber-900 dark:text-amber-100"},"Equipment"),r("div",{class:"text-xs text-amber-700 dark:text-amber-300/80"},"Manage equipped items and stats")],-1)])),_:1},8,["class"]),Fe(Z,{to:"/inventory",class:V(["flex items-center p-3 rounded-lg transition-colors duration-200",g(D).path==="/inventory"?"bg-amber-300/70 dark:bg-amber-700/70":"bg-amber-200/50 dark:bg-amber-800/40 hover:bg-amber-300/60 dark:hover:bg-amber-700/60"]),onClick:q[4]||(q[4]=()=>{H(),g(c).setActiveTab("inventory")})},{default:mt(()=>[q[45]||(q[45]=r("span",{class:"i-heroicons-shopping-bag text-2xl text-purple-600 dark:text-purple-500 mr-3"},null,-1)),r("div",null,[q[44]||(q[44]=r("div",{class:"font-medium text-amber-900 dark:text-amber-100"},"Items",-1)),r("div",z0e,[q[43]||(q[43]=se(" View and manage inventory ")),g(c).inventory.length>0?(f(),h("span",W0e,b(g(c).inventory.length),1)):Q("",!0)])])]),_:1},8,["class"])])])])])):Q("",!0)]),_:1})])])],2),Fe(Fde,{show:fe.value,onClose:q[5]||(q[5]=J=>fe.value=!1)},null,8,["show"])],64)}}}),K0e=st(Y0e,[["__scopeId","data-v-30f771f2"]]),X0e="/assets/background-BSJaSWun.png",Z0e={class:"w-full max-w-lg px-5 py-10 mx-auto my-4 bg-blue-950/80 rounded-xl"},J0e={class:"flex justify-center mb-6"},eme=["src"],tme={class:"text-base text-gray-300 mb-6 leading-relaxed text-center"},sme={class:"font-bold text-amber-400"},ome={key:0},rme={key:1},nme={class:"h-3 bg-blue-950 rounded-full mb-3 overflow-hidden"},ame={class:"text-sm text-gray-300 mb-5 flex justify-between"},ime={key:0,class:"mb-6"},lme={key:0,class:"mt-2 text-center"},cme={key:1,class:"mt-3 bg-blue-950/60 rounded-lg p-4 text-sm max-h-96 overflow-y-auto"},dme={class:"flex items-center justify-between mb-3 pb-3 border-b border-blue-800"},ume={class:"text-amber-400 font-medium"},mme={key:0,class:"flex items-center justify-between mb-3 pb-3 border-b border-blue-800"},pme={class:"text-amber-400 font-medium"},fme={class:"flex items-center justify-between mb-2"},gme={class:"flex items-center"},hme={class:"text-gray-200 font-medium"},bme={class:"flex items-center"},vme={class:"text-gray-400 mr-2"},yme={class:"text-amber-400 font-medium"},xme={class:"flex text-xs text-gray-400 justify-between"},kme={key:1,class:"flex justify-center my-1"},_me={key:2,class:"flex justify-center"},wme={key:3,class:"bg-blue-900/80 rounded-xl p-4 mt-2"},Cme=Ue({__name:"OfflineProgressModal",props:{isVisible:{type:Boolean},totalTicks:{},ticksProcessed:{},elapsedTime:{}},emits:["close"],setup(t,{expose:e,emit:s}){const o=t,n=s,i=Os(),l=vt(),c=ss(),d=W(!1),u=W(!1),m=W([]),p=W(new be(0)),y=W(new be(0)),v=W(new be(0)),S=W(new be(0)),_=W(new be(0)),C=W(new be(0)),x=W(!1),$=R(()=>c.fields.length>0),A=R(()=>o.ticksProcessed>=o.totalTicks&&o.totalTicks>0),M=()=>{const Y=i.generatorStats;if(Be("Checking saveSystem stats:",{modalStatsCount:m.value.length,saveSystemStatsCount:Y.length,initialFoodInModal:p.value.toString(),initialFoodInSystem:i.initialFoodAmount?i.initialFoodAmount.toString():"n/a",initialHoneydewInSystem:i.initialHoneydewAmount?i.initialHoneydewAmount.toString():"n/a"}),m.value.length===0&&Y.length>0){Be(" Syncing stats from saveSystem, found",Y.length,"generators"),m.value=Y.map(G=>({id:G.id,name:G.name,beforeCount:new be(G.beforeCount),afterCount:new be(G.afterCount),generated:new be(G.generated),selfReplicated:new be(G.selfReplicated),icon:G.icon})),Be(" Stats imported from saveSystem. First generator:",m.value.length>0?{id:m.value[0].id,before:m.value[0].beforeCount.toString(),after:m.value[0].afterCount.toString()}:"none");try{p.value.eq(0)&&i.initialFoodAmount&&(p.value=new be(i.initialFoodAmount),Be(" Got initial food from saveSystem:",p.value.toString())),S.value.eq(0)&&i.initialHoneydewAmount&&(S.value=new be(i.initialHoneydewAmount),Be(" Got initial honeydew from saveSystem:",S.value.toString()))}catch(G){Be(" Error getting initial resources:",G)}}},P=()=>{if(M(),m.value.length>0){Be();return}const Y=l;p.value=new be(Y.food),Be(" Captured initial food:",p.value.toString()),S.value=new be(c.honeydew||0),Be(" Captured initial honeydew:",S.value.toString()),m.value=Y.generators.filter(G=>G.unlocked||G.count.gt(0)).map(G=>(Be(` Captured initial generator ${G.id} count:`,G.count.toString(),"self-replicated:",G.selfReplicated.toString()),{id:G.id,name:G.name,beforeCount:new be(G.count),afterCount:new be(G.count),generated:new be(0),selfReplicated:new be(G.selfReplicated),icon:G.icon})),Be(" Initial capture complete for",m.value.length,"generators")},L=()=>{if(M(),!A.value){Be();return}if(v.value.gt(0)){Be();return}Be(),y.value=new be(l.food),p.value.eq(0)&&(Be(),p.value=i.initialFoodAmount||new be(0)),v.value=y.value.sub(p.value),Be(" Food results:",{initial:p.value.toString(),current:y.value.toString(),generated:v.value.toString()}),$.value&&(_.value=new be(c.honeydew),S.value.eq(0)&&(Be(),S.value=i.initialHoneydewAmount||new be(0)),C.value=_.value.sub(S.value),Be(" Honeydew results:",{initial:S.value.toString(),current:_.value.toString(),generated:C.value.toString()}));let Y=!1;for(const G of m.value)if(G.beforeCount.gt(0)){Y=!0;break}Y||(Be(),i.generatorStats.length>0&&(m.value=i.generatorStats.map(G=>({id:G.id,name:G.name,beforeCount:new be(G.beforeCount),afterCount:new be(G.afterCount),generated:new be(G.generated),selfReplicated:new be(G.selfReplicated),icon:G.icon})))),m.value=m.value.map(G=>{const de=l.getGenerator(G.id);if(!de)return Be(` Generator ${G.id} not found`),G;const re=new be(de.count),he=re.sub(G.beforeCount),ve=new be(de.selfReplicated||0),Se=ve.sub(G.selfReplicated||0);return Be(` Generator ${G.id} final stats:`,{before:G.beforeCount.toString(),after:re.toString(),generated:he.toString(),initialSelfReplicated:G.selfReplicated.toString(),finalSelfReplicated:ve.toString(),selfReplicatedDiff:Se.toString()}),{...G,afterCount:re,generated:he,selfReplicated:Se}}),Be()};e({captureStats:P,generationStats:m,initialFood:p,updateStats:L}),tt(()=>{Be(),u.value=!1;const Y={isCalculating:i.isCalculatingOfflineProgress,isComplete:i.isCalculationComplete,ticksProcessed:o.ticksProcessed,totalTicks:o.totalTicks,calculationPercent:o.totalTicks>0?Math.round(o.ticksProcessed/o.totalTicks*100):0,showProductionDetails:x.value,initialFood:p.value.toString()};Be(" Initial calculation state:",Y),M(),o.isVisible&&m.value.length===0&&(Be(),P()),i.isCalculationComplete&&!u.value&&(Be(),u.value=!0,setTimeout(()=>{L()},100))}),We(()=>o.isVisible,(Y,G)=>{Be(" isVisible changed:",{newVal:Y,oldVal:G,calculationState:{isCalculating:i.isCalculatingOfflineProgress,isComplete:i.isCalculationComplete,ticksProcessed:o.ticksProcessed,totalTicks:o.totalTicks,hasWatchedCalculation:u.value}}),Y&&!G&&(M(),m.value.length===0&&(Be(),P()),i.isCalculationComplete&&!u.value&&(Be(),u.value=!0,setTimeout(()=>{L()},100)))}),We(()=>o.ticksProcessed,(Y,G)=>{if(o.totalTicks>0){const de=Y/o.totalTicks;Math.floor(de*4)>Math.floor(G/o.totalTicks*4)&&Be(` Tick processing at ${Math.round(de*100)}%:`,{newVal:Y,totalTicks:o.totalTicks}),Y>0&&G<Y&&de>=.95&&(Be(),setTimeout(()=>L(),100)),Y>=o.totalTicks&&G<o.totalTicks&&(Be(),setTimeout(()=>L(),200))}});const B=()=>{x.value=!x.value},k=R(()=>o.totalTicks===0?0:Math.min(100,Math.round(o.ticksProcessed/o.totalTicks*100))),I=R(()=>o.isVisible),N=Y=>{if(Y<60)return`${Math.floor(Y)} seconds`;if(Y<3600){const G=Math.floor(Y/60);return`${G} minute${G!==1?"s":""}`}else{const G=Math.floor(Y/3600),de=Math.floor(Y%3600/60);return`${G} hour${G!==1?"s":""} ${de>0?`and ${de} minute${de!==1?"s":""}`:""}`}},U=()=>{n("close")},j=()=>{d.value=!0},ee=()=>{d.value=!1},ne=async()=>{await i.saveGameAsync(!0),setTimeout(()=>{window.location.reload()},1e3)},oe=Y=>{I.value&&(Y.preventDefault(),Y.stopPropagation())},O=()=>{Be(),p.value=new be(0),y.value=new be(0),v.value=new be(0),S.value=new be(0),_.value=new be(0),C.value=new be(0),M(),setTimeout(()=>{m.value.length===0&&P(),L()},50)};return We(()=>i.isCalculationComplete,(Y,G)=>{Be(" saveSystem.isCalculationComplete changed:",{newVal:Y,oldVal:G,hasWatchedCalculation:u.value}),Y&&!G&&!u.value&&(Be(),u.value=!0,setTimeout(()=>{L()},200))}),(Y,G)=>I.value?(f(),h("div",{key:0,id:"offlineProgressModal",class:"fixed inset-0 flex items-center justify-center z-100 flex-col backdrop-blur-md overflow-auto",style:Je({background:`url(${g(X0e)}) no-repeat center top fixed`,backgroundSize:"cover"}),onTouchmove:oe},[r("div",Z0e,[r("div",J0e,[r("img",{src:g(b0),class:"w-24 h-24 object-contain",alt:"Idle Ant Farm Logo"},null,8,eme)]),G[7]||(G[7]=r("h3",{class:"text-xl font-bold mb-5 text-center text-amber-300"}," Colony Hibernation Progress ",-1)),r("p",tme,[G[0]||(G[0]=se(" Your colony has been hibernating for ")),r("span",sme,b(N(Y.elapsedTime)),1),G[1]||(G[1]=se(". ")),A.value?(f(),h("span",rme,"Calculation complete! Your colony has been updated.")):(f(),h("span",ome,"We're calculating the progress made during this time."))]),r("div",nme,[r("div",{class:"h-full bg-amber-500 transition-all duration-300 ease-out",style:Je({width:`${k.value}%`})},null,4)]),r("div",ame,[r("span",null,"Processing: "+b(Y.ticksProcessed)+" / "+b(Y.totalTicks),1),r("span",null,b(k.value)+"% complete",1)]),A.value?(f(),h("div",ime,[r("button",{onClick:B,class:"w-full py-2 px-4 bg-blue-900/80 hover:bg-blue-800 text-gray-300 rounded-lg text-sm font-medium transition-colors flex items-center justify-between"},[r("span",null,b(x.value?"Hide":"Show")+" Production Summary",1),r("span",{class:V(x.value?"i-heroicons-chevron-up":"i-heroicons-chevron-down")},null,2)]),A.value&&m.value.every(de=>de.generated.eq(0))?(f(),h("div",lme,[r("button",{onClick:O,class:"text-xs text-gray-400 hover:text-gray-300 underline py-1 px-2"}," Refresh Statistics ")])):Q("",!0),x.value?(f(),h("div",cme,[r("div",dme,[G[2]||(G[2]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-cake text-amber-400 mr-3 text-lg"}),r("span",{class:"text-gray-200 font-medium"},"Food Generated")],-1)),r("span",ume,"+"+b(g(ie)(v.value)),1)]),$.value?(f(),h("div",mme,[G[3]||(G[3]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-honeycomb text-amber-400 mr-3 text-lg"}),r("span",{class:"text-gray-200 font-medium"},"Honeydew Generated")],-1)),r("span",pme,"+"+b(g(ie)(C.value)),1)])):Q("",!0),(f(!0),h(Ce,null,De(m.value,de=>(f(),h("div",{key:de.id,class:"mb-3 pb-3 border-b border-blue-800 last:border-0 last:mb-0 last:pb-0"},[r("div",fme,[r("div",gme,[r("span",{class:V(`${de.icon} text-amber-400 mr-3 text-lg`)},null,2),r("span",hme,b(de.name),1)]),r("div",bme,[r("span",vme,b(g(ie)(de.beforeCount)),1),G[4]||(G[4]=r("span",{class:"text-gray-500 mr-2"},"",-1)),r("span",yme,b(g(ie)(de.afterCount)),1)])]),r("div",xme,[r("span",null,"Generated: +"+b(g(ie)(de.generated)),1),r("span",null,"Self-replicated: +"+b(g(ie)(de.selfReplicated)),1)])]))),128))])):Q("",!0)])):Q("",!0),d.value?Q("",!0):(f(),h("div",kme,[r("button",{onClick:U,class:"py-3 px-8 bg-amber-600 hover:bg-amber-700 text-white rounded-lg text-base font-medium transition-colors"}," Continue "+b(A.value?"":"(will continue in background)"),1)])),!A.value&&!d.value?(f(),h("div",_me,[Fe(Jr,{onAction:j,class:"py-3 px-6 bg-blue-800 hover:bg-blue-900 text-white rounded-lg text-sm font-medium transition-colors","initial-delay":300,"repeat-interval":100},{default:mt(()=>G[5]||(G[5]=[se(" Skip Calculation ")])),_:1})])):Q("",!0),d.value?(f(),h("div",wme,[G[6]||(G[6]=r("p",{class:"text-sm text-red-300 mb-4 font-medium text-center"}," Are you sure you want to skip the offline calculation? ",-1)),r("div",{class:"flex justify-center gap-3"},[r("button",{onClick:ee,class:"py-2 px-5 bg-blue-700 hover:bg-blue-600 text-white rounded-lg text-sm font-medium transition-colors"}," Cancel "),r("button",{onClick:ne,class:"py-2 px-5 bg-red-700 hover:bg-red-800 text-white rounded-lg text-sm font-medium transition-colors"}," Yes, Skip ")])])):Q("",!0),G[8]||(G[8]=r("div",{class:"mt-6 text-center text-xs text-gray-400"},[r("p",null,"This game runs on coffee. The developer, coincidentally, also runs on coffee."),r("a",{href:"https://buymeacoffee.com/idleantfarm",target:"_blank",rel:"noopener noreferrer",class:"inline-flex items-center text-amber-400 hover:text-amber-300 mt-1 transition-colors"},[r("span",{class:"i-heroicons-coffee text-xs mr-1"}),se(" Caffeinate the colony keeper ")])],-1))])],36)):Q("",!0)}});function Sme(t={}){const{immediate:e=!1,onNeedRefresh:s,onOfflineReady:o,onRegistered:n,onRegisteredSW:i,onRegisterError:l}=t;let c,d;const u=async(p=!0)=>{await d};async function m(){if("serviceWorker"in navigator){if(c=await Av(async()=>{const{Workbox:p}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:p}},[]).then(({Workbox:p})=>new p("/sw.js",{scope:"/",type:"classic"})).catch(p=>{l==null||l(p)}),!c)return;c.addEventListener("activated",p=>{(p.isUpdate||p.isExternal)&&window.location.reload()}),c.addEventListener("installed",p=>{p.isUpdate||o==null||o()}),c.register({immediate:e}).then(p=>{i?i("/sw.js",p):n==null||n(p)}).catch(p=>{l==null||l(p)})}}return d=m(),u}function ix(t={}){const{immediate:e=!0,onNeedRefresh:s,onOfflineReady:o,onRegistered:n,onRegisteredSW:i,onRegisterError:l}=t,c=W(!1),d=W(!1);return{updateServiceWorker:Sme({immediate:e,onNeedRefresh(){c.value=!0,s==null||s()},onOfflineReady(){d.value=!0,o==null||o()},onRegistered:n,onRegisteredSW:i,onRegisterError:l}),offlineReady:d,needRefresh:c}}function $me(t=15*60*1e3){const{updateServiceWorker:e}=ix(),s=Os(),{isCalculatingOfflineProgress:o}=$v(s);let n;const i=()=>{if(o.value){console.log("Skipping PWA update check during offline progress calculation");return}console.log("Checking for PWA updates..."),e()};return tt(()=>{i(),n=window.setInterval(i,t)}),Ms(()=>{n&&clearInterval(n)}),{checkForUpdates:i}}const Eme={key:0,class:"fixed bottom-4 left-0 right-0 mx-auto w-full max-w-sm px-4"},Ame=Ue({__name:"PWAUpdateNotification",setup(t){const{needRefresh:e,updateServiceWorker:s}=ix(),o=W(!1);$me(),tt(()=>{We(e,i=>{o.value=i})});const n=()=>{s(),o.value=!1};return(i,l)=>(f(),rt(fo,{name:"slide-up"},{default:mt(()=>[o.value?(f(),h("div",Eme,[r("div",{class:"rounded-lg bg-indigo-600 dark:bg-indigo-700 p-4 shadow-lg"},[r("div",{class:"flex items-center justify-between"},[l[0]||(l[0]=r("div",{class:"flex-1"},[r("h3",{class:"text-sm font-medium text-white"}," App Update Available "),r("p",{class:"mt-1 text-sm text-indigo-100"}," A new version is available. Click to update. ")],-1)),r("div",{class:"ml-4 flex flex-shrink-0"},[r("button",{type:"button",class:"inline-flex rounded-md bg-indigo-500 dark:bg-indigo-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-indigo-400 dark:hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-400 dark:focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-indigo-600 dark:focus:ring-offset-indigo-700",onClick:n}," Update ")])])])])):Q("",!0)]),_:1}))}}),Mme=st(Ame,[["__scopeId","data-v-3a33cdf7"]]),Pme={class:"px-6 py-4 border-b border-amber-200 dark:border-amber-700 flex items-center"},Tme={class:"flex-grow"},Lme={key:0,class:"text-sm text-amber-600 dark:text-amber-400 mt-1"},Ime={key:1,class:"text-sm text-amber-600 dark:text-amber-400 mt-1"},Dme={class:"p-6 overflow-y-auto max-h-[60vh]"},Fme=["innerHTML"],Rme=Ue({__name:"UpdateAnnouncementModal",setup(t){const{showAnnouncement:e,updateDetails:s,closeAnnouncement:o}=Qy(),n=W(!1),{isClosing:i,handleClose:l,preventBackgroundTouchMove:c}=io();We(e,m=>{n.value=m});const d=()=>{l(o)},u=m=>{m.key==="Escape"&&n.value&&d()};return tt(()=>{window.addEventListener("keydown",u)}),fs(()=>{window.removeEventListener("keydown",u)}),(m,p)=>(f(),rt(fo,{name:"fade"},{default:mt(()=>[n.value?(f(),h("div",{key:0,class:"fixed inset-0 bg-black/30 dark:bg-black/60 z-50 backdrop-blur-sm flex items-center justify-center p-4 modal-backdrop","data-modal-backdrop":"true",onClick:at(d,["self"]),onTouchmove:p[0]||(p[0]=at((...y)=>g(c)&&g(c)(...y),["self"]))},[r("div",{class:V(["relative bg-white dark:bg-slate-900 rounded-lg shadow-lg max-w-3xl w-full max-h-[calc(100vh-2rem)] overflow-hidden",{"opacity-75":g(i)}])},[r("div",Pme,[r("div",Tme,[p[1]||(p[1]=r("h2",{class:"text-xl font-bold text-amber-800 dark:text-amber-300"}," What's New in Idle Ant Farm ",-1)),g(s).versionRange.includes("to")?(f(),h("div",Lme," Updates from v"+b(g(s).versionRange),1)):(f(),h("div",Ime," Version "+b(g(s).versionRange)+" - "+b(g(s).date),1))]),r("button",{class:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors","aria-label":"Close modal",onClick:d},p[2]||(p[2]=[r("svg",{class:"w-5 h-5 text-slate-500 dark:text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),r("div",Dme,[r("div",{class:"prose prose-amber dark:prose-invert max-w-none",innerHTML:g(s).content},null,8,Fme)]),r("div",{class:"px-6 py-4 border-t border-amber-200 dark:border-amber-700 flex justify-end"},[r("button",{class:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-md transition-colors font-medium",onClick:d}," Got it ")])],2)],32)):Q("",!0)]),_:1}))}}),Ume=st(Rme,[["__scopeId","data-v-09c2283e"]]),Bme={class:"fixed top-4 right-4 z-50 flex flex-col gap-2 max-w-md"},qme={class:"flex-grow"},Ome={class:"text-sm"},Nme=["onClick"],Hme=Ue({__name:"ToastContainer",setup(t){const{toasts:e,removeToast:s}=zt(),o=i=>{switch(i){case"success":return"i-heroicons-check-circle";case"warning":return"i-heroicons-exclamation-triangle";case"error":return"i-heroicons-x-circle";case"info":default:return"i-heroicons-information-circle"}},n=i=>{switch(i){case"success":return"bg-green-700 dark:bg-green-800";case"warning":return"bg-yellow-700 dark:bg-yellow-800";case"error":return"bg-red-700 dark:bg-red-800";case"info":default:return"bg-amber-700 dark:bg-amber-800"}};return(i,l)=>(f(),h("div",Bme,[Fe(M_,{name:"toast"},{default:mt(()=>[(f(!0),h(Ce,null,De(g(e),c=>(f(),h("div",{key:c.id,class:V(["rounded-lg shadow-lg text-white p-3 flex items-start gap-2",n(c.type)])},[r("span",{class:V([o(c.type),"text-xl flex-shrink-0 mt-0.5"])},null,2),r("div",qme,[r("p",Ome,b(c.message),1)]),r("button",{onClick:d=>g(s)(c.id),class:"text-white hover:text-gray-200 flex-shrink-0"},l[0]||(l[0]=[r("span",{class:"i-heroicons-x-mark text-lg"},null,-1)]),8,Nme)],2))),128))]),_:1})]))}}),jme=st(Hme,[["__scopeId","data-v-34c8d993"]]),Gme={key:0,class:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 shadow-lg p-4 z-50 border-t border-gray-200 dark:border-gray-700"},Vme={class:"container mx-auto flex flex-col md:flex-row items-center justify-between gap-4"},Qme={class:"flex gap-3"},zme=Ue({__name:"GdprConsentBanner",setup(t){const{acceptConsent:e,declineConsent:s,isPending:o}=ap();return(n,i)=>(f(),rt(fo,{name:"slide-up"},{default:mt(()=>[g(o)()?(f(),h("div",Gme,[r("div",Vme,[i[2]||(i[2]=r("div",{class:"text-sm text-gray-700 dark:text-gray-300"},[r("p",null,' We use cookies and similar technologies to analyze traffic, enhance site functionality, and improve your experience. By clicking "Accept", you consent to the use of cookies for analytics purposes. ')],-1)),r("div",Qme,[r("button",{class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",onClick:i[0]||(i[0]=(...l)=>g(s)&&g(s)(...l))}," Decline "),r("button",{class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:i[1]||(i[1]=(...l)=>g(e)&&g(e)(...l))}," Accept ")])])])):Q("",!0)]),_:1}))}}),Wme=st(zme,[["__scopeId","data-v-270f4b2e"]]),Yme={key:0,class:"font-bold text-lg mb-2 text-gray-900 dark:text-white"},Kme={class:"text-gray-700 dark:text-gray-300 mb-4"},Xme={class:"text-xs text-gray-500 dark:text-gray-400 mb-3"},Zme={class:"flex justify-between"},Jme={key:1,class:"flex-1"},epe=Ue({__name:"TourTooltip",props:{step:{},isFirstStep:{type:Boolean},isLastStep:{type:Boolean},currentStepIndex:{},totalSteps:{}},emits:["next","prev","skip"],setup(t,{emit:e}){const s=t,o=e,n=W(null),i=dc();return tt(()=>{n.value&&(i.tooltipElement&&(i.tooltipElement=n.value),console.log("Tooltip element set in store",n.value),setTimeout(()=>{console.log("Positioning tooltip on mount"),i.positionTooltip()},100))}),We(()=>s.step,()=>{setTimeout(()=>{n.value&&(i.tooltipElement=n.value,console.log("Tooltip element updated in store on step change"),i.highlightTarget(),i.positionTooltip())},100)}),(l,c)=>(f(),h("div",{ref_key:"tooltipRef",ref:n,class:V(["fixed z-50 p-4 bg-white dark:bg-gray-800 rounded-lg shadow-lg max-w-sm tour-tooltip",`tour-tooltip-${l.step.placement||"bottom"}`])},[l.step.title?(f(),h("div",Yme,b(l.step.title),1)):Q("",!0),r("div",Kme,b(l.step.content),1),r("div",Xme," Step "+b(l.currentStepIndex+1)+" of "+b(l.totalSteps),1),r("div",Zme,[l.isFirstStep?(f(),h("div",Jme)):(f(),h("button",{key:0,onClick:c[0]||(c[0]=d=>o("prev")),class:"px-3 py-1 text-sm bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"}," Previous ")),r("button",{onClick:c[1]||(c[1]=d=>o("skip")),class:"px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors"}," Skip Tour "),r("button",{onClick:c[2]||(c[2]=d=>o("next")),class:"px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors"},b(l.isLastStep?"Finish":"Next"),1)])],2))}}),tpe=st(epe,[["__scopeId","data-v-ca46d417"]]),spe={key:0,class:"tour-container"},ope=Ue({__name:"Tour",setup(t){const e=dc();return We(()=>e.isActive,s=>{s&&setTimeout(()=>{e.highlightTarget()},100)},{immediate:!0}),tt(()=>{e.isActive&&setTimeout(()=>{e.highlightTarget()},100)}),(s,o)=>(f(),rt(kb,{to:"body"},[g(e).isActive&&g(e).currentStep?(f(),h("div",spe,[o[0]||(o[0]=r("div",{class:"fixed inset-0 z-40 pointer-events-none bg-opacity-30 backdrop-blur-sm"},null,-1)),Fe(tpe,{step:g(e).currentStep,"is-first-step":g(e).isFirstStep,"is-last-step":g(e).isLastStep,"current-step-index":g(e).currentStepIndex,"total-steps":g(e).totalSteps,onNext:g(e).nextStep,onPrev:g(e).prevStep,onSkip:g(e).skipTour},null,8,["step","is-first-step","is-last-step","current-step-index","total-steps","onNext","onPrev","onSkip"])])):Q("",!0)]))}}),rpe=Ue({__name:"TourRestartButton",props:{buttonText:{default:"Start Tour"},buttonClass:{default:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors"}},setup(t){const e=dc(),s=()=>{console.log("Restarting tour"),e.resetTour(),e.startTour()};return(o,n)=>(f(),h("button",{class:V(o.buttonClass),onClick:s},[mi(o.$slots,"default",{},()=>[se(b(o.buttonText),1)])],2))}}),npe={key:0,class:"fixed bottom-24 right-6 z-50 w-80 bg-amber-50 dark:bg-gray-800 rounded-lg shadow-lg border border-amber-200 dark:border-amber-800 overflow-hidden"},ape={class:"p-4"},ipe={class:"flex items-center gap-3"},lpe={class:"flex-shrink-0 w-10 h-10 rounded-full bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center"},cpe={class:"flex-1"},dpe={class:"mt-1 text-sm font-medium text-amber-700 dark:text-amber-200"},upe={class:"mt-0.5 text-xs text-amber-600/90 dark:text-amber-400/90"},mpe=Ue({__name:"AchievementNotification",setup(t){const e=Ws(),s=R(()=>e.recentlyCompleted[0]),o=R(()=>e.showNotification);return(n,i)=>(f(),rt(fo,{name:"slide-fade"},{default:mt(()=>[o.value&&s.value?(f(),h("div",npe,[r("div",ape,[r("div",ipe,[r("div",lpe,[r("span",{class:V([s.value.icon,"text-xl text-amber-600 dark:text-amber-300"])},null,2)]),r("div",cpe,[i[0]||(i[0]=r("div",{class:"flex items-baseline justify-between"},[r("h3",{class:"text-sm font-medium text-amber-800 dark:text-amber-300"},"Achievement Unlocked!"),r("span",{class:"text-xs text-amber-600 dark:text-amber-400 font-bold px-2 py-0.5 rounded-full bg-amber-100 dark:bg-amber-900/30"}," +1 ")],-1)),r("p",dpe,b(s.value.name),1),r("p",upe,b(s.value.description),1)])])]),i[1]||(i[1]=r("div",{class:"h-1 bg-amber-500 dark:bg-amber-600 animate-shrink"},null,-1))])):Q("",!0)]),_:1}))}}),ppe=st(mpe,[["__scopeId","data-v-be41e0d8"]]),fpe={class:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4"},gpe=Ue({__name:"GameFinishedScreen",setup(t){const e=As(),s=()=>{e.showGameFinishedScreen=!1};return(o,n)=>(f(),h("div",fpe,[r("div",{class:"bg-gradient-to-br from-green-100 to-lime-100 dark:from-gray-800 dark:to-gray-700 rounded-xl p-6 shadow-2xl max-w-lg w-full border-2 border-yellow-400 dark:border-yellow-600 transform transition-all duration-300 ease-out scale-100 opacity-100"},[n[1]||(n[1]=qt('<h2 class="text-2xl font-bold mb-4 text-center text-green-800 dark:text-lime-300 flex items-center justify-center" data-v-13c7304f><span class="i-heroicons-sparkles text-yellow-500 mr-2" data-v-13c7304f></span> Colony Victorious! <span class="i-heroicons-sparkles text-yellow-500 ml-2" data-v-13c7304f></span></h2><div class="bg-white/70 dark:bg-gray-900/70 p-4 rounded-lg shadow-inner border border-green-200 dark:border-gray-600 text-center" data-v-13c7304f><p class="text-lg mb-3 text-gray-800 dark:text-gray-200" data-v-13c7304f> Congratulations! Your colony has bravely faced and overcome the ultimate challenge: the mighty <strong class="text-red-600 dark:text-red-400" data-v-13c7304f>Omega Ant</strong>! </p><p class="text-sm mb-4 text-gray-700 dark:text-gray-300" data-v-13c7304f> The primary threats have been neutralized, but the colony&#39;s journey is far from over. The world is vast, and challenges remain. </p><div class="bg-blue-100 dark:bg-blue-900/50 p-3 rounded-md border border-blue-300 dark:border-blue-700" data-v-13c7304f><p class="font-semibold text-blue-800 dark:text-blue-300" data-v-13c7304f>  Endless Mode Unlocked!  </p><p class="text-xs mt-1 text-blue-700 dark:text-blue-400" data-v-13c7304f> You can now continue playing indefinitely, pushing your colony to new heights, completing achievements, and exploring every corner of the ant world. The structured story content is complete, but the anthill endures! </p></div></div>',2)),r("div",{class:"mt-6 flex justify-center"},[r("button",{onClick:s,class:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg shadow-md text-lg font-medium transition-colors duration-200 flex items-center"},n[0]||(n[0]=[r("span",{class:"i-heroicons-check-circle mr-2"},null,-1),se(" Continue the Colony ")]))]),n[2]||(n[2]=r("p",{class:"text-xs text-center mt-4 text-gray-600 dark:text-gray-400"}," You can view this screen again from the Settings page. ",-1))])]))}}),hpe=st(gpe,[["__scopeId","data-v-13c7304f"]]);function bpe(){const t=W(!0),e=W(Date.now()),s=Os(),o=async()=>{const i=t.value;if(t.value=document.visibilityState==="visible",t.value&&!i){const c=(Date.now()-e.value)/1e3;c>=5&&await s.calculateOfflineProgress(c,!0)}e.value=Date.now()},n=()=>{localStorage.setItem("lastActiveTimestamp",e.value.toString())};return tt(async()=>{const i=localStorage.getItem("lastActiveTimestamp");if(i){const l=Date.now(),c=parseInt(i,10),d=(l-c)/1e3;d>=5&&await s.calculateOfflineProgress(d,!0),e.value=l,localStorage.removeItem("lastActiveTimestamp")}document.addEventListener("visibilitychange",o),window.addEventListener("beforeunload",n)}),Ms(()=>{document.removeEventListener("visibilitychange",o),window.removeEventListener("beforeunload",n)}),{isVisible:A0(t)}}const vpe={key:0},ype={key:1,class:"fixed bottom-4 right-4 z-30"},xpe=Ue({__name:"App",setup(t){const e=Os(),s=As(),o=W(!1);bpe(),R(()=>e.isCalculatingOfflineProgress),We(()=>e.isCalculatingOfflineProgress,i=>{console.log("Calculation state changed to:",i)}),xi(),Hy({debounceTime:150,storageKey:"idleAntFarmScrollPositions",scrollElementSelector:"main"});const n=()=>{console.log("Closing offline progress modal"),e.showOfflineProgressModal=!1};return Za(),(i,l)=>{const c=Tb("router-view");return f(),h("div",null,[g(e).showOfflineProgressModal?Q("",!0):(f(),h("div",vpe,[Fe(K0e,null,{default:mt(()=>[Fe(c)]),_:1}),Fe(Ume),Fe(Mme),Fe(jme),Fe(ppe),Fe(Wme),o.value?(f(),rt(ope,{key:0})):Q("",!0),o.value?(f(),h("div",ype,[Fe(rpe,{"button-class":"px-4 py-2 bg-blue-500 text-white rounded-full shadow-lg hover:bg-blue-600 transition-colors flex items-center"},{default:mt(()=>l[0]||(l[0]=[r("span",{class:"mr-1"},"?",-1),se(" Help & Tour ")])),_:1})])):Q("",!0),g(s).showGameFinishedScreen?(f(),rt(hpe,{key:2})):Q("",!0)])),Fe(Cme,{"is-visible":g(e).showOfflineProgressModal,"total-ticks":g(e).offlineProgressTotalTicks,"ticks-processed":g(e).offlineProgressTicksProcessed,"elapsed-time":g(e).offlineProgressElapsedTime,onClose:n},null,8,["is-visible","total-ticks","ticks-processed","elapsed-time"])])}}}),Dd=O_(xpe),kpe=Qw();Dd.use(kpe);Dd.use(h0);const{hasConsent:Rh}=ap();Dd.use(fde,{property:{id:"G-B1PSTMRJMF"},isEnabled:Rh(),useDebugger:!1,disableScriptLoad:!Rh()});Dd.mount("#app");const lx=Os(),Uh=lx.loadGame();Uh&&console.log("Loaded game with offline progress:",Uh);lx.startAutoSave();
