(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function us(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const Ne={},Ir=[],qt=()=>{},vu=()=>!1,Zo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),cs=t=>t.startsWith("onUpdate:"),ze=Object.assign,ds=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},bu=Object.prototype.hasOwnProperty,Le=(t,e)=>bu.call(t,e),xe=Array.isArray,Pr=t=>vo(t)==="[object Map]",en=t=>vo(t)==="[object Set]",Gs=t=>vo(t)==="[object Date]",Se=t=>typeof t=="function",je=t=>typeof t=="string",St=t=>typeof t=="symbol",Fe=t=>t!==null&&typeof t=="object",fa=t=>(Fe(t)||Se(t))&&Se(t.then)&&Se(t.catch),pa=Object.prototype.toString,vo=t=>pa.call(t),xu=t=>vo(t).slice(8,-1),ga=t=>vo(t)==="[object Object]",ms=t=>je(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Yr=us(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),tn=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},yu=/-(\w)/g,yt=tn(t=>t.replace(yu,(e,r)=>r?r.toUpperCase():"")),ku=/\B([A-Z])/g,br=tn(t=>t.replace(ku,"-$1").toLowerCase()),rn=tn(t=>t.charAt(0).toUpperCase()+t.slice(1)),_n=tn(t=>t?`on${rn(t)}`:""),er=(t,e)=>!Object.is(t,e),Fo=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},ha=(t,e,r,o=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:o,value:r})},jn=t=>{const e=parseFloat(t);return isNaN(e)?t:e},wu=t=>{const e=je(t)?Number(t):NaN;return isNaN(e)?t:e};let Ws;const on=()=>Ws||(Ws=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Xe(t){if(xe(t)){const e={};for(let r=0;r<t.length;r++){const o=t[r],n=je(o)?Eu(o):Xe(o);if(n)for(const a in n)e[a]=n[a]}return e}else if(je(t)||Fe(t))return t}const _u=/;(?![^(]*\))/g,Su=/:([^]+)/,$u=/\/\*[^]*?\*\//g;function Eu(t){const e={};return t.replace($u,"").split(_u).forEach(r=>{if(r){const o=r.split(Su);o.length>1&&(e[o[0].trim()]=o[1].trim())}}),e}function ne(t){let e="";if(je(t))e=t;else if(xe(t))for(let r=0;r<t.length;r++){const o=ne(t[r]);o&&(e+=o+" ")}else if(Fe(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const Cu="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Mu=us(Cu);function va(t){return!!t||t===""}function Au(t,e){if(t.length!==e.length)return!1;let r=!0;for(let o=0;r&&o<t.length;o++)r=nn(t[o],e[o]);return r}function nn(t,e){if(t===e)return!0;let r=Gs(t),o=Gs(e);if(r||o)return r&&o?t.getTime()===e.getTime():!1;if(r=St(t),o=St(e),r||o)return t===e;if(r=xe(t),o=xe(e),r||o)return r&&o?Au(t,e):!1;if(r=Fe(t),o=Fe(e),r||o){if(!r||!o)return!1;const n=Object.keys(t).length,a=Object.keys(e).length;if(n!==a)return!1;for(const l in t){const u=t.hasOwnProperty(l),c=e.hasOwnProperty(l);if(u&&!c||!u&&c||!nn(t[l],e[l]))return!1}}return String(t)===String(e)}function ba(t,e){return t.findIndex(r=>nn(r,e))}const xa=t=>!!(t&&t.__v_isRef===!0),E=t=>je(t)?t:t==null?"":xe(t)||Fe(t)&&(t.toString===pa||!Se(t.toString))?xa(t)?E(t.value):JSON.stringify(t,ya,2):String(t),ya=(t,e)=>xa(e)?ya(t,e.value):Pr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[o,n],a)=>(r[Sn(o,a)+" =>"]=n,r),{})}:en(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>Sn(r))}:St(e)?Sn(e):Fe(e)&&!xe(e)&&!ga(e)?String(e):e,Sn=(t,e="")=>{var r;return St(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ot;class ka{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ot,!e&&ot&&(this.index=(ot.scopes||(ot.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=ot;try{return ot=this,e()}finally{ot=r}}}on(){ot=this}off(){ot=this.parent}stop(e){if(this._active){this._active=!1;let r,o;for(r=0,o=this.effects.length;r<o;r++)this.effects[r].stop();for(this.effects.length=0,r=0,o=this.cleanups.length;r<o;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,o=this.scopes.length;r<o;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function wa(t){return new ka(t)}function fs(){return ot}function _a(t,e=!1){ot&&ot.cleanups.push(t)}let Ue;const $n=new WeakSet;class Sa{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ot&&ot.active&&ot.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,$n.has(this)&&($n.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ea(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Vs(this),Ca(this);const e=Ue,r=_t;Ue=this,_t=!0;try{return this.fn()}finally{Ma(this),Ue=e,_t=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)hs(e);this.deps=this.depsTail=void 0,Vs(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?$n.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Qn(this)&&this.run()}get dirty(){return Qn(this)}}let $a=0,Jr,Xr;function Ea(t,e=!1){if(t.flags|=8,e){t.next=Xr,Xr=t;return}t.next=Jr,Jr=t}function ps(){$a++}function gs(){if(--$a>0)return;if(Xr){let e=Xr;for(Xr=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;Jr;){let e=Jr;for(Jr=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(o){t||(t=o)}e=r}}if(t)throw t}function Ca(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Ma(t){let e,r=t.depsTail,o=r;for(;o;){const n=o.prevDep;o.version===-1?(o===r&&(r=n),hs(o),Iu(o)):e=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=n}t.deps=e,t.depsTail=r}function Qn(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Aa(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Aa(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===so))return;t.globalVersion=so;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Qn(t)){t.flags&=-3;return}const r=Ue,o=_t;Ue=t,_t=!0;try{Ca(t);const n=t.fn(t._value);(e.version===0||er(n,t._value))&&(t._value=n,e.version++)}catch(n){throw e.version++,n}finally{Ue=r,_t=o,Ma(t),t.flags&=-3}}function hs(t,e=!1){const{dep:r,prevSub:o,nextSub:n}=t;if(o&&(o.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=o,t.nextSub=void 0),r.subs===t&&(r.subs=o,!o&&r.computed)){r.computed.flags&=-5;for(let a=r.computed.deps;a;a=a.nextDep)hs(a,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function Iu(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let _t=!0;const Ia=[];function rr(){Ia.push(_t),_t=!1}function or(){const t=Ia.pop();_t=t===void 0?!0:t}function Vs(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=Ue;Ue=void 0;try{e()}finally{Ue=r}}}let so=0;class Pu{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class vs{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Ue||!_t||Ue===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Ue)r=this.activeLink=new Pu(Ue,this),Ue.deps?(r.prevDep=Ue.depsTail,Ue.depsTail.nextDep=r,Ue.depsTail=r):Ue.deps=Ue.depsTail=r,Pa(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const o=r.nextDep;o.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=o),r.prevDep=Ue.depsTail,r.nextDep=void 0,Ue.depsTail.nextDep=r,Ue.depsTail=r,Ue.deps===r&&(Ue.deps=o)}return r}trigger(e){this.version++,so++,this.notify(e)}notify(e){ps();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{gs()}}}function Pa(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let o=e.deps;o;o=o.nextDep)Pa(o)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const Ho=new WeakMap,pr=Symbol(""),Gn=Symbol(""),io=Symbol("");function Ye(t,e,r){if(_t&&Ue){let o=Ho.get(t);o||Ho.set(t,o=new Map);let n=o.get(r);n||(o.set(r,n=new vs),n.map=o,n.key=r),n.track()}}function Ot(t,e,r,o,n,a){const l=Ho.get(t);if(!l){so++;return}const u=c=>{c&&c.trigger()};if(ps(),e==="clear")l.forEach(u);else{const c=xe(t),m=c&&ms(r);if(c&&r==="length"){const d=Number(o);l.forEach((f,p)=>{(p==="length"||p===io||!St(p)&&p>=d)&&u(f)})}else switch((r!==void 0||l.has(void 0))&&u(l.get(r)),m&&u(l.get(io)),e){case"add":c?m&&u(l.get("length")):(u(l.get(pr)),Pr(t)&&u(l.get(Gn)));break;case"delete":c||(u(l.get(pr)),Pr(t)&&u(l.get(Gn)));break;case"set":Pr(t)&&u(l.get(pr));break}}gs()}function Tu(t,e){const r=Ho.get(t);return r&&r.get(e)}function _r(t){const e=Me(t);return e===t?e:(Ye(e,"iterate",io),bt(t)?e:e.map(Je))}function sn(t){return Ye(t=Me(t),"iterate",io),t}const Lu={__proto__:null,[Symbol.iterator](){return En(this,Symbol.iterator,Je)},concat(...t){return _r(this).concat(...t.map(e=>xe(e)?_r(e):e))},entries(){return En(this,"entries",t=>(t[1]=Je(t[1]),t))},every(t,e){return Rt(this,"every",t,e,void 0,arguments)},filter(t,e){return Rt(this,"filter",t,e,r=>r.map(Je),arguments)},find(t,e){return Rt(this,"find",t,e,Je,arguments)},findIndex(t,e){return Rt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Rt(this,"findLast",t,e,Je,arguments)},findLastIndex(t,e){return Rt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Rt(this,"forEach",t,e,void 0,arguments)},includes(...t){return Cn(this,"includes",t)},indexOf(...t){return Cn(this,"indexOf",t)},join(t){return _r(this).join(t)},lastIndexOf(...t){return Cn(this,"lastIndexOf",t)},map(t,e){return Rt(this,"map",t,e,void 0,arguments)},pop(){return Qr(this,"pop")},push(...t){return Qr(this,"push",t)},reduce(t,...e){return zs(this,"reduce",t,e)},reduceRight(t,...e){return zs(this,"reduceRight",t,e)},shift(){return Qr(this,"shift")},some(t,e){return Rt(this,"some",t,e,void 0,arguments)},splice(...t){return Qr(this,"splice",t)},toReversed(){return _r(this).toReversed()},toSorted(t){return _r(this).toSorted(t)},toSpliced(...t){return _r(this).toSpliced(...t)},unshift(...t){return Qr(this,"unshift",t)},values(){return En(this,"values",Je)}};function En(t,e,r){const o=sn(t),n=o[e]();return o!==t&&!bt(t)&&(n._next=n.next,n.next=()=>{const a=n._next();return a.value&&(a.value=r(a.value)),a}),n}const qu=Array.prototype;function Rt(t,e,r,o,n,a){const l=sn(t),u=l!==t&&!bt(t),c=l[e];if(c!==qu[e]){const f=c.apply(t,a);return u?Je(f):f}let m=r;l!==t&&(u?m=function(f,p){return r.call(this,Je(f),p,t)}:r.length>2&&(m=function(f,p){return r.call(this,f,p,t)}));const d=c.call(l,m,o);return u&&n?n(d):d}function zs(t,e,r,o){const n=sn(t);let a=r;return n!==t&&(bt(t)?r.length>3&&(a=function(l,u,c){return r.call(this,l,u,c,t)}):a=function(l,u,c){return r.call(this,l,Je(u),c,t)}),n[e](a,...o)}function Cn(t,e,r){const o=Me(t);Ye(o,"iterate",io);const n=o[e](...r);return(n===-1||n===!1)&&ks(r[0])?(r[0]=Me(r[0]),o[e](...r)):n}function Qr(t,e,r=[]){rr(),ps();const o=Me(t)[e].apply(t,r);return gs(),or(),o}const Fu=us("__proto__,__v_isRef,__isVue"),Ta=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(St));function Nu(t){St(t)||(t=String(t));const e=Me(this);return Ye(e,"has",t),e.hasOwnProperty(t)}class La{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,o){if(r==="__v_skip")return e.__v_skip;const n=this._isReadonly,a=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return a;if(r==="__v_raw")return o===(n?a?Wu:Ra:a?Na:Fa).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(o)?e:void 0;const l=xe(e);if(!n){let c;if(l&&(c=Lu[r]))return c;if(r==="hasOwnProperty")return Nu}const u=Reflect.get(e,r,Pe(e)?e:o);return(St(r)?Ta.has(r):Fu(r))||(n||Ye(e,"get",r),a)?u:Pe(u)?l&&ms(r)?u:u.value:Fe(u)?n?xs(u):xr(u):u}}class qa extends La{constructor(e=!1){super(!1,e)}set(e,r,o,n){let a=e[r];if(!this._isShallow){const c=hr(a);if(!bt(o)&&!hr(o)&&(a=Me(a),o=Me(o)),!xe(e)&&Pe(a)&&!Pe(o))return c?!1:(a.value=o,!0)}const l=xe(e)&&ms(r)?Number(r)<e.length:Le(e,r),u=Reflect.set(e,r,o,Pe(e)?e:n);return e===Me(n)&&(l?er(o,a)&&Ot(e,"set",r,o):Ot(e,"add",r,o)),u}deleteProperty(e,r){const o=Le(e,r);e[r];const n=Reflect.deleteProperty(e,r);return n&&o&&Ot(e,"delete",r,void 0),n}has(e,r){const o=Reflect.has(e,r);return(!St(r)||!Ta.has(r))&&Ye(e,"has",r),o}ownKeys(e){return Ye(e,"iterate",xe(e)?"length":pr),Reflect.ownKeys(e)}}class Ru extends La{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const Uu=new qa,Bu=new Ru,Ou=new qa(!0);const Wn=t=>t,Eo=t=>Reflect.getPrototypeOf(t);function Du(t,e,r){return function(...o){const n=this.__v_raw,a=Me(n),l=Pr(a),u=t==="entries"||t===Symbol.iterator&&l,c=t==="keys"&&l,m=n[t](...o),d=r?Wn:e?Vn:Je;return!e&&Ye(a,"iterate",c?Gn:pr),{next(){const{value:f,done:p}=m.next();return p?{value:f,done:p}:{value:u?[d(f[0]),d(f[1])]:d(f),done:p}},[Symbol.iterator](){return this}}}}function Co(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Hu(t,e){const r={get(n){const a=this.__v_raw,l=Me(a),u=Me(n);t||(er(n,u)&&Ye(l,"get",n),Ye(l,"get",u));const{has:c}=Eo(l),m=e?Wn:t?Vn:Je;if(c.call(l,n))return m(a.get(n));if(c.call(l,u))return m(a.get(u));a!==l&&a.get(n)},get size(){const n=this.__v_raw;return!t&&Ye(Me(n),"iterate",pr),Reflect.get(n,"size",n)},has(n){const a=this.__v_raw,l=Me(a),u=Me(n);return t||(er(n,u)&&Ye(l,"has",n),Ye(l,"has",u)),n===u?a.has(n):a.has(n)||a.has(u)},forEach(n,a){const l=this,u=l.__v_raw,c=Me(u),m=e?Wn:t?Vn:Je;return!t&&Ye(c,"iterate",pr),u.forEach((d,f)=>n.call(a,m(d),m(f),l))}};return ze(r,t?{add:Co("add"),set:Co("set"),delete:Co("delete"),clear:Co("clear")}:{add(n){!e&&!bt(n)&&!hr(n)&&(n=Me(n));const a=Me(this);return Eo(a).has.call(a,n)||(a.add(n),Ot(a,"add",n,n)),this},set(n,a){!e&&!bt(a)&&!hr(a)&&(a=Me(a));const l=Me(this),{has:u,get:c}=Eo(l);let m=u.call(l,n);m||(n=Me(n),m=u.call(l,n));const d=c.call(l,n);return l.set(n,a),m?er(a,d)&&Ot(l,"set",n,a):Ot(l,"add",n,a),this},delete(n){const a=Me(this),{has:l,get:u}=Eo(a);let c=l.call(a,n);c||(n=Me(n),c=l.call(a,n)),u&&u.call(a,n);const m=a.delete(n);return c&&Ot(a,"delete",n,void 0),m},clear(){const n=Me(this),a=n.size!==0,l=n.clear();return a&&Ot(n,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(n=>{r[n]=Du(n,t,e)}),r}function bs(t,e){const r=Hu(t,e);return(o,n,a)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?o:Reflect.get(Le(r,n)&&n in o?r:o,n,a)}const ju={get:bs(!1,!1)},Qu={get:bs(!1,!0)},Gu={get:bs(!0,!1)};const Fa=new WeakMap,Na=new WeakMap,Ra=new WeakMap,Wu=new WeakMap;function Vu(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function zu(t){return t.__v_skip||!Object.isExtensible(t)?0:Vu(xu(t))}function xr(t){return hr(t)?t:ys(t,!1,Uu,ju,Fa)}function Ua(t){return ys(t,!1,Ou,Qu,Na)}function xs(t){return ys(t,!0,Bu,Gu,Ra)}function ys(t,e,r,o,n){if(!Fe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const a=n.get(t);if(a)return a;const l=zu(t);if(l===0)return t;const u=new Proxy(t,l===2?o:r);return n.set(t,u),u}function jt(t){return hr(t)?jt(t.__v_raw):!!(t&&t.__v_isReactive)}function hr(t){return!!(t&&t.__v_isReadonly)}function bt(t){return!!(t&&t.__v_isShallow)}function ks(t){return t?!!t.__v_raw:!1}function Me(t){const e=t&&t.__v_raw;return e?Me(e):t}function ws(t){return!Le(t,"__v_skip")&&Object.isExtensible(t)&&ha(t,"__v_skip",!0),t}const Je=t=>Fe(t)?xr(t):t,Vn=t=>Fe(t)?xs(t):t;function Pe(t){return t?t.__v_isRef===!0:!1}function H(t){return Ba(t,!1)}function nt(t){return Ba(t,!0)}function Ba(t,e){return Pe(t)?t:new Ku(t,e)}class Ku{constructor(e,r){this.dep=new vs,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:Me(e),this._value=r?e:Je(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,o=this.__v_isShallow||bt(e)||hr(e);e=o?e:Me(e),er(e,r)&&(this._rawValue=e,this._value=o?e:Je(e),this.dep.trigger())}}function I(t){return Pe(t)?t.value:t}function Ft(t){return Se(t)?t():I(t)}const Yu={get:(t,e,r)=>e==="__v_raw"?t:I(Reflect.get(t,e,r)),set:(t,e,r,o)=>{const n=t[e];return Pe(n)&&!Pe(r)?(n.value=r,!0):Reflect.set(t,e,r,o)}};function Oa(t){return jt(t)?t:new Proxy(t,Yu)}function Da(t){const e=xe(t)?new Array(t.length):{};for(const r in t)e[r]=Ha(t,r);return e}class Ju{constructor(e,r,o){this._object=e,this._key=r,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Tu(Me(this._object),this._key)}}class Xu{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Zu(t,e,r){return Pe(t)?t:Se(t)?new Xu(t):Fe(t)&&arguments.length>1?Ha(t,e,r):H(t)}function Ha(t,e,r){const o=t[e];return Pe(o)?o:new Ju(t,e,r)}class ec{constructor(e,r,o){this.fn=e,this.setter=r,this._value=void 0,this.dep=new vs(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=so-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Ue!==this)return Ea(this,!0),!0}get value(){const e=this.dep.track();return Aa(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function tc(t,e,r=!1){let o,n;return Se(t)?o=t:(o=t.get,n=t.set),new ec(o,n,r)}const Mo={},jo=new WeakMap;let ur;function rc(t,e=!1,r=ur){if(r){let o=jo.get(r);o||jo.set(r,o=[]),o.push(t)}}function oc(t,e,r=Ne){const{immediate:o,deep:n,once:a,scheduler:l,augmentJob:u,call:c}=r,m=A=>n?A:bt(A)||n===!1||n===0?Dt(A,1):Dt(A);let d,f,p,g,b=!1,x=!1;if(Pe(t)?(f=()=>t.value,b=bt(t)):jt(t)?(f=()=>m(t),b=!0):xe(t)?(x=!0,b=t.some(A=>jt(A)||bt(A)),f=()=>t.map(A=>{if(Pe(A))return A.value;if(jt(A))return m(A);if(Se(A))return c?c(A,2):A()})):Se(t)?e?f=c?()=>c(t,2):t:f=()=>{if(p){rr();try{p()}finally{or()}}const A=ur;ur=d;try{return c?c(t,3,[g]):t(g)}finally{ur=A}}:f=qt,e&&n){const A=f,M=n===!0?1/0:n;f=()=>Dt(A(),M)}const U=fs(),O=()=>{d.stop(),U&&U.active&&ds(U.effects,d)};if(a&&e){const A=e;e=(...M)=>{A(...M),O()}}let F=x?new Array(t.length).fill(Mo):Mo;const L=A=>{if(!(!(d.flags&1)||!d.dirty&&!A))if(e){const M=d.run();if(n||b||(x?M.some((S,$)=>er(S,F[$])):er(M,F))){p&&p();const S=ur;ur=d;try{const $=[M,F===Mo?void 0:x&&F[0]===Mo?[]:F,g];c?c(e,3,$):e(...$),F=M}finally{ur=S}}}else d.run()};return u&&u(L),d=new Sa(f),d.scheduler=l?()=>l(L,!1):L,g=A=>rc(A,!1,d),p=d.onStop=()=>{const A=jo.get(d);if(A){if(c)c(A,4);else for(const M of A)M();jo.delete(d)}},e?o?L(!0):F=d.run():l?l(L.bind(null,!0),!0):d.run(),O.pause=d.pause.bind(d),O.resume=d.resume.bind(d),O.stop=O,O}function Dt(t,e=1/0,r){if(e<=0||!Fe(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,Pe(t))Dt(t.value,e,r);else if(xe(t))for(let o=0;o<t.length;o++)Dt(t[o],e,r);else if(en(t)||Pr(t))t.forEach(o=>{Dt(o,e,r)});else if(ga(t)){for(const o in t)Dt(t[o],e,r);for(const o of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,o)&&Dt(t[o],e,r)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function bo(t,e,r,o){try{return o?t(...o):t()}catch(n){an(n,e,r)}}function $t(t,e,r,o){if(Se(t)){const n=bo(t,e,r,o);return n&&fa(n)&&n.catch(a=>{an(a,e,r)}),n}if(xe(t)){const n=[];for(let a=0;a<t.length;a++)n.push($t(t[a],e,r,o));return n}}function an(t,e,r,o=!0){const n=e?e.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:l}=e&&e.appContext.config||Ne;if(e){let u=e.parent;const c=e.proxy,m=`https://vuejs.org/error-reference/#runtime-${r}`;for(;u;){const d=u.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](t,c,m)===!1)return}u=u.parent}if(a){rr(),bo(a,null,10,[t,c,m]),or();return}}nc(t,r,n,o,l)}function nc(t,e,r,o=!0,n=!1){if(n)throw t;console.error(t)}const st=[];let Tt=-1;const Tr=[];let Yt=null,Cr=0;const ja=Promise.resolve();let Qo=null;function Dr(t){const e=Qo||ja;return t?e.then(this?t.bind(this):t):e}function sc(t){let e=Tt+1,r=st.length;for(;e<r;){const o=e+r>>>1,n=st[o],a=ao(n);a<t||a===t&&n.flags&2?e=o+1:r=o}return e}function _s(t){if(!(t.flags&1)){const e=ao(t),r=st[st.length-1];!r||!(t.flags&2)&&e>=ao(r)?st.push(t):st.splice(sc(e),0,t),t.flags|=1,Qa()}}function Qa(){Qo||(Qo=ja.then(Wa))}function ic(t){xe(t)?Tr.push(...t):Yt&&t.id===-1?Yt.splice(Cr+1,0,t):t.flags&1||(Tr.push(t),t.flags|=1),Qa()}function Ks(t,e,r=Tt+1){for(;r<st.length;r++){const o=st[r];if(o&&o.flags&2){if(t&&o.id!==t.uid)continue;st.splice(r,1),r--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Ga(t){if(Tr.length){const e=[...new Set(Tr)].sort((r,o)=>ao(r)-ao(o));if(Tr.length=0,Yt){Yt.push(...e);return}for(Yt=e,Cr=0;Cr<Yt.length;Cr++){const r=Yt[Cr];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Yt=null,Cr=0}}const ao=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Wa(t){try{for(Tt=0;Tt<st.length;Tt++){const e=st[Tt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),bo(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Tt<st.length;Tt++){const e=st[Tt];e&&(e.flags&=-2)}Tt=-1,st.length=0,Ga(),Qo=null,(st.length||Tr.length)&&Wa()}}let We=null,Va=null;function Go(t){const e=We;return We=t,Va=t&&t.type.__scopeId||null,e}function Ve(t,e=We,r){if(!e||t._n)return t;const o=(...n)=>{o._d&&ui(-1);const a=Go(e);let l;try{l=t(...n)}finally{Go(a),o._d&&ui(1)}return l};return o._n=!0,o._c=!0,o._d=!0,o}function Be(t,e){if(We===null)return t;const r=fn(We),o=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[a,l,u,c=Ne]=e[n];a&&(Se(a)&&(a={mounted:a,updated:a}),a.deep&&Dt(l),o.push({dir:a,instance:r,value:l,oldValue:void 0,arg:u,modifiers:c}))}return t}function ir(t,e,r,o){const n=t.dirs,a=e&&e.dirs;for(let l=0;l<n.length;l++){const u=n[l];a&&(u.oldValue=a[l].value);let c=u.dir[o];c&&(rr(),$t(c,r,8,[t.el,u,t,e]),or())}}const za=Symbol("_vte"),Ka=t=>t.__isTeleport,Zr=t=>t&&(t.disabled||t.disabled===""),Ys=t=>t&&(t.defer||t.defer===""),Js=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Xs=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,zn=(t,e)=>{const r=t&&t.to;return je(r)?e?e(r):null:r},Ya={name:"Teleport",__isTeleport:!0,process(t,e,r,o,n,a,l,u,c,m){const{mc:d,pc:f,pbc:p,o:{insert:g,querySelector:b,createText:x,createComment:U}}=m,O=Zr(e.props);let{shapeFlag:F,children:L,dynamicChildren:A}=e;if(t==null){const M=e.el=x(""),S=e.anchor=x("");g(M,r,o),g(S,r,o);const $=(k,N)=>{F&16&&(n&&n.isCE&&(n.ce._teleportTarget=k),d(L,k,N,n,a,l,u,c))},y=()=>{const k=e.target=zn(e.props,b),N=Ja(k,e,x,g);k&&(l!=="svg"&&Js(k)?l="svg":l!=="mathml"&&Xs(k)&&(l="mathml"),O||($(k,N),No(e,!1)))};O&&($(r,S),No(e,!0)),Ys(e.props)?rt(()=>{y(),e.el.__isMounted=!0},a):y()}else{if(Ys(e.props)&&!t.el.__isMounted){rt(()=>{Ya.process(t,e,r,o,n,a,l,u,c,m),delete t.el.__isMounted},a);return}e.el=t.el,e.targetStart=t.targetStart;const M=e.anchor=t.anchor,S=e.target=t.target,$=e.targetAnchor=t.targetAnchor,y=Zr(t.props),k=y?r:S,N=y?M:$;if(l==="svg"||Js(S)?l="svg":(l==="mathml"||Xs(S))&&(l="mathml"),A?(p(t.dynamicChildren,A,k,n,a,l,u),As(t,e,!0)):c||f(t,e,k,N,n,a,l,u,!1),O)y?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Ao(e,r,M,m,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const P=e.target=zn(e.props,b);P&&Ao(e,P,null,m,0)}else y&&Ao(e,S,$,m,1);No(e,O)}},remove(t,e,r,{um:o,o:{remove:n}},a){const{shapeFlag:l,children:u,anchor:c,targetStart:m,targetAnchor:d,target:f,props:p}=t;if(f&&(n(m),n(d)),a&&n(c),l&16){const g=a||!Zr(p);for(let b=0;b<u.length;b++){const x=u[b];o(x,e,r,g,!!x.dynamicChildren)}}},move:Ao,hydrate:ac};function Ao(t,e,r,{o:{insert:o},m:n},a=2){a===0&&o(t.targetAnchor,e,r);const{el:l,anchor:u,shapeFlag:c,children:m,props:d}=t,f=a===2;if(f&&o(l,e,r),(!f||Zr(d))&&c&16)for(let p=0;p<m.length;p++)n(m[p],e,r,2);f&&o(u,e,r)}function ac(t,e,r,o,n,a,{o:{nextSibling:l,parentNode:u,querySelector:c,insert:m,createText:d}},f){const p=e.target=zn(e.props,c);if(p){const g=Zr(e.props),b=p._lpa||p.firstChild;if(e.shapeFlag&16)if(g)e.anchor=f(l(t),e,u(t),r,o,n,a),e.targetStart=b,e.targetAnchor=b&&l(b);else{e.anchor=l(t);let x=b;for(;x;){if(x&&x.nodeType===8){if(x.data==="teleport start anchor")e.targetStart=x;else if(x.data==="teleport anchor"){e.targetAnchor=x,p._lpa=e.targetAnchor&&l(e.targetAnchor);break}}x=l(x)}e.targetAnchor||Ja(p,e,d,m),f(b&&l(b),e,p,r,o,n,a)}No(e,g)}return e.anchor&&l(e.anchor)}const lc=Ya;function No(t,e){const r=t.ctx;if(r&&r.ut){let o,n;for(e?(o=t.el,n=t.anchor):(o=t.targetStart,n=t.targetAnchor);o&&o!==n;)o.nodeType===1&&o.setAttribute("data-v-owner",r.uid),o=o.nextSibling;r.ut()}}function Ja(t,e,r,o){const n=e.targetStart=r(""),a=e.targetAnchor=r("");return n[za]=a,t&&(o(n,t),o(a,t)),a}const Jt=Symbol("_leaveCb"),Io=Symbol("_enterCb");function Xa(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return He(()=>{t.isMounted=!0}),cn(()=>{t.isUnmounting=!0}),t}const vt=[Function,Array],Za={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:vt,onEnter:vt,onAfterEnter:vt,onEnterCancelled:vt,onBeforeLeave:vt,onLeave:vt,onAfterLeave:vt,onLeaveCancelled:vt,onBeforeAppear:vt,onAppear:vt,onAfterAppear:vt,onAppearCancelled:vt},el=t=>{const e=t.subTree;return e.component?el(e.component):e},uc={name:"BaseTransition",props:Za,setup(t,{slots:e}){const r=ko(),o=Xa();return()=>{const n=e.default&&Ss(e.default(),!0);if(!n||!n.length)return;const a=tl(n),l=Me(t),{mode:u}=l;if(o.isLeaving)return Mn(a);const c=Zs(a);if(!c)return Mn(a);let m=lo(c,l,o,r,f=>m=f);c.type!==it&&vr(c,m);let d=r.subTree&&Zs(r.subTree);if(d&&d.type!==it&&!cr(c,d)&&el(r).type!==it){let f=lo(d,l,o,r);if(vr(d,f),u==="out-in"&&c.type!==it)return o.isLeaving=!0,f.afterLeave=()=>{o.isLeaving=!1,r.job.flags&8||r.update(),delete f.afterLeave,d=void 0},Mn(a);u==="in-out"&&c.type!==it?f.delayLeave=(p,g,b)=>{const x=rl(o,d);x[String(d.key)]=d,p[Jt]=()=>{g(),p[Jt]=void 0,delete m.delayedLeave,d=void 0},m.delayedLeave=()=>{b(),delete m.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return a}}};function tl(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==it){e=r;break}}return e}const cc=uc;function rl(t,e){const{leavingVNodes:r}=t;let o=r.get(e.type);return o||(o=Object.create(null),r.set(e.type,o)),o}function lo(t,e,r,o,n){const{appear:a,mode:l,persisted:u=!1,onBeforeEnter:c,onEnter:m,onAfterEnter:d,onEnterCancelled:f,onBeforeLeave:p,onLeave:g,onAfterLeave:b,onLeaveCancelled:x,onBeforeAppear:U,onAppear:O,onAfterAppear:F,onAppearCancelled:L}=e,A=String(t.key),M=rl(r,t),S=(k,N)=>{k&&$t(k,o,9,N)},$=(k,N)=>{const P=N[1];S(k,N),xe(k)?k.every(h=>h.length<=1)&&P():k.length<=1&&P()},y={mode:l,persisted:u,beforeEnter(k){let N=c;if(!r.isMounted)if(a)N=U||c;else return;k[Jt]&&k[Jt](!0);const P=M[A];P&&cr(t,P)&&P.el[Jt]&&P.el[Jt](),S(N,[k])},enter(k){let N=m,P=d,h=f;if(!r.isMounted)if(a)N=O||m,P=F||d,h=L||f;else return;let _=!1;const W=k[Io]=R=>{_||(_=!0,R?S(h,[k]):S(P,[k]),y.delayedLeave&&y.delayedLeave(),k[Io]=void 0)};N?$(N,[k,W]):W()},leave(k,N){const P=String(t.key);if(k[Io]&&k[Io](!0),r.isUnmounting)return N();S(p,[k]);let h=!1;const _=k[Jt]=W=>{h||(h=!0,N(),W?S(x,[k]):S(b,[k]),k[Jt]=void 0,M[P]===t&&delete M[P])};M[P]=t,g?$(g,[k,_]):_()},clone(k){const N=lo(k,e,r,o,n);return n&&n(N),N}};return y}function Mn(t){if(ln(t))return t=tr(t),t.children=null,t}function Zs(t){if(!ln(t))return Ka(t.type)&&t.children?tl(t.children):t;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&Se(r.default))return r.default()}}function vr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,vr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ss(t,e=!1,r){let o=[],n=0;for(let a=0;a<t.length;a++){let l=t[a];const u=r==null?l.key:String(r)+String(l.key!=null?l.key:a);l.type===ye?(l.patchFlag&128&&n++,o=o.concat(Ss(l.children,e,u))):(e||l.type!==it)&&o.push(u!=null?tr(l,{key:u}):l)}if(n>1)for(let a=0;a<o.length;a++)o[a].patchFlag=-2;return o}/*! #__NO_SIDE_EFFECTS__ */function we(t,e){return Se(t)?ze({name:t.name},e,{setup:t}):t}function ol(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Wo(t,e,r,o,n=!1){if(xe(t)){t.forEach((b,x)=>Wo(b,e&&(xe(e)?e[x]:e),r,o,n));return}if(Lr(o)&&!n){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&Wo(t,e,r,o.component.subTree);return}const a=o.shapeFlag&4?fn(o.component):o.el,l=n?null:a,{i:u,r:c}=t,m=e&&e.r,d=u.refs===Ne?u.refs={}:u.refs,f=u.setupState,p=Me(f),g=f===Ne?()=>!1:b=>Le(p,b);if(m!=null&&m!==c&&(je(m)?(d[m]=null,g(m)&&(f[m]=null)):Pe(m)&&(m.value=null)),Se(c))bo(c,u,12,[l,d]);else{const b=je(c),x=Pe(c);if(b||x){const U=()=>{if(t.f){const O=b?g(c)?f[c]:d[c]:c.value;n?xe(O)&&ds(O,a):xe(O)?O.includes(a)||O.push(a):b?(d[c]=[a],g(c)&&(f[c]=d[c])):(c.value=[a],t.k&&(d[t.k]=c.value))}else b?(d[c]=l,g(c)&&(f[c]=l)):x&&(c.value=l,t.k&&(d[t.k]=l))};l?(U.id=-1,rt(U,r)):U()}}}on().requestIdleCallback;on().cancelIdleCallback;const Lr=t=>!!t.type.__asyncLoader,ln=t=>t.type.__isKeepAlive;function dc(t,e){nl(t,"a",e)}function mc(t,e){nl(t,"da",e)}function nl(t,e,r=Ke){const o=t.__wdc||(t.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(un(e,o,r),r){let n=r.parent;for(;n&&n.parent;)ln(n.parent.vnode)&&fc(o,e,r,n),n=n.parent}}function fc(t,e,r,o){const n=un(e,t,o,!0);yr(()=>{ds(o[e],n)},r)}function un(t,e,r=Ke,o=!1){if(r){const n=r[t]||(r[t]=[]),a=e.__weh||(e.__weh=(...l)=>{rr();const u=wo(r),c=$t(e,r,t,l);return u(),or(),c});return o?n.unshift(a):n.push(a),a}}const Qt=t=>(e,r=Ke)=>{(!mo||t==="sp")&&un(t,(...o)=>e(...o),r)},pc=Qt("bm"),He=Qt("m"),gc=Qt("bu"),$s=Qt("u"),cn=Qt("bum"),yr=Qt("um"),hc=Qt("sp"),vc=Qt("rtg"),bc=Qt("rtc");function xc(t,e=Ke){un("ec",t,e)}const yc="components";function Es(t,e){return wc(yc,t,!0,e)||t}const kc=Symbol.for("v-ndc");function wc(t,e,r=!0,o=!1){const n=We||Ke;if(n){const a=n.type;{const u=cd(a,!1);if(u&&(u===e||u===yt(e)||u===rn(yt(e))))return a}const l=ei(n[t]||a[t],e)||ei(n.appContext[t],e);return!l&&o?a:l}}function ei(t,e){return t&&(t[e]||t[yt(e)]||t[rn(yt(e))])}function Ie(t,e,r,o){let n;const a=r,l=xe(t);if(l||je(t)){const u=l&&jt(t);let c=!1;u&&(c=!bt(t),t=sn(t)),n=new Array(t.length);for(let m=0,d=t.length;m<d;m++)n[m]=e(c?Je(t[m]):t[m],m,void 0,a)}else if(typeof t=="number"){n=new Array(t);for(let u=0;u<t;u++)n[u]=e(u+1,u,void 0,a)}else if(Fe(t))if(t[Symbol.iterator])n=Array.from(t,(u,c)=>e(u,c,void 0,a));else{const u=Object.keys(t);n=new Array(u.length);for(let c=0,m=u.length;c<m;c++){const d=u[c];n[c]=e(t[d],d,c,a)}}else n=[];return n}function _c(t,e){for(let r=0;r<e.length;r++){const o=e[r];if(xe(o))for(let n=0;n<o.length;n++)t[o[n].name]=o[n].fn;else o&&(t[o.name]=o.key?(...n)=>{const a=o.fn(...n);return a&&(a.key=o.key),a}:o.fn)}return t}function xo(t,e,r={},o,n){if(We.ce||We.parent&&Lr(We.parent)&&We.parent.ce)return e!=="default"&&(r.name=e),v(),Qe(ye,null,[ve("slot",r,o&&o())],64);let a=t[e];a&&a._c&&(a._d=!1),v();const l=a&&sl(a(r)),u=r.key||l&&l.key,c=Qe(ye,{key:(u&&!St(u)?u:`_${e}`)+(!l&&o?"_fb":"")},l||(o?o():[]),l&&t._===1?64:-2);return!n&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),a&&a._c&&(a._d=!0),c}function sl(t){return t.some(e=>co(e)?!(e.type===it||e.type===ye&&!sl(e.children)):!0)?t:null}const Kn=t=>t?Sl(t)?fn(t):Kn(t.parent):null,eo=ze(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Kn(t.parent),$root:t=>Kn(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>al(t),$forceUpdate:t=>t.f||(t.f=()=>{_s(t.update)}),$nextTick:t=>t.n||(t.n=Dr.bind(t.proxy)),$watch:t=>Gc.bind(t)}),An=(t,e)=>t!==Ne&&!t.__isScriptSetup&&Le(t,e),Sc={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:o,data:n,props:a,accessCache:l,type:u,appContext:c}=t;let m;if(e[0]!=="$"){const g=l[e];if(g!==void 0)switch(g){case 1:return o[e];case 2:return n[e];case 4:return r[e];case 3:return a[e]}else{if(An(o,e))return l[e]=1,o[e];if(n!==Ne&&Le(n,e))return l[e]=2,n[e];if((m=t.propsOptions[0])&&Le(m,e))return l[e]=3,a[e];if(r!==Ne&&Le(r,e))return l[e]=4,r[e];Yn&&(l[e]=0)}}const d=eo[e];let f,p;if(d)return e==="$attrs"&&Ye(t.attrs,"get",""),d(t);if((f=u.__cssModules)&&(f=f[e]))return f;if(r!==Ne&&Le(r,e))return l[e]=4,r[e];if(p=c.config.globalProperties,Le(p,e))return p[e]},set({_:t},e,r){const{data:o,setupState:n,ctx:a}=t;return An(n,e)?(n[e]=r,!0):o!==Ne&&Le(o,e)?(o[e]=r,!0):Le(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(a[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:o,appContext:n,propsOptions:a}},l){let u;return!!r[l]||t!==Ne&&Le(t,l)||An(e,l)||(u=a[0])&&Le(u,l)||Le(o,l)||Le(eo,l)||Le(n.config.globalProperties,l)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Le(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function ti(t){return xe(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Yn=!0;function $c(t){const e=al(t),r=t.proxy,o=t.ctx;Yn=!1,e.beforeCreate&&ri(e.beforeCreate,t,"bc");const{data:n,computed:a,methods:l,watch:u,provide:c,inject:m,created:d,beforeMount:f,mounted:p,beforeUpdate:g,updated:b,activated:x,deactivated:U,beforeDestroy:O,beforeUnmount:F,destroyed:L,unmounted:A,render:M,renderTracked:S,renderTriggered:$,errorCaptured:y,serverPrefetch:k,expose:N,inheritAttrs:P,components:h,directives:_,filters:W}=e;if(m&&Ec(m,o,null),l)for(const Z in l){const he=l[Z];Se(he)&&(o[Z]=he.bind(r))}if(n){const Z=n.call(r,r);Fe(Z)&&(t.data=xr(Z))}if(Yn=!0,a)for(const Z in a){const he=a[Z],Ce=Se(he)?he.bind(r,r):Se(he.get)?he.get.bind(r,r):qt,de=!Se(he)&&Se(he.set)?he.set.bind(r):qt,ae=B({get:Ce,set:de});Object.defineProperty(o,Z,{enumerable:!0,configurable:!0,get:()=>ae.value,set:se=>ae.value=se})}if(u)for(const Z in u)il(u[Z],o,r,Z);if(c){const Z=Se(c)?c.call(r):c;Reflect.ownKeys(Z).forEach(he=>{Ro(he,Z[he])})}d&&ri(d,t,"c");function pe(Z,he){xe(he)?he.forEach(Ce=>Z(Ce.bind(r))):he&&Z(he.bind(r))}if(pe(pc,f),pe(He,p),pe(gc,g),pe($s,b),pe(dc,x),pe(mc,U),pe(xc,y),pe(bc,S),pe(vc,$),pe(cn,F),pe(yr,A),pe(hc,k),xe(N))if(N.length){const Z=t.exposed||(t.exposed={});N.forEach(he=>{Object.defineProperty(Z,he,{get:()=>r[he],set:Ce=>r[he]=Ce})})}else t.exposed||(t.exposed={});M&&t.render===qt&&(t.render=M),P!=null&&(t.inheritAttrs=P),h&&(t.components=h),_&&(t.directives=_),k&&ol(t)}function Ec(t,e,r=qt){xe(t)&&(t=Jn(t));for(const o in t){const n=t[o];let a;Fe(n)?"default"in n?a=ht(n.from||o,n.default,!0):a=ht(n.from||o):a=ht(n),Pe(a)?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):e[o]=a}}function ri(t,e,r){$t(xe(t)?t.map(o=>o.bind(e.proxy)):t.bind(e.proxy),e,r)}function il(t,e,r,o){let n=o.includes(".")?xl(r,o):()=>r[o];if(je(t)){const a=e[t];Se(a)&&Ee(n,a)}else if(Se(t))Ee(n,t.bind(r));else if(Fe(t))if(xe(t))t.forEach(a=>il(a,e,r,o));else{const a=Se(t.handler)?t.handler.bind(r):e[t.handler];Se(a)&&Ee(n,a,t)}}function al(t){const e=t.type,{mixins:r,extends:o}=e,{mixins:n,optionsCache:a,config:{optionMergeStrategies:l}}=t.appContext,u=a.get(e);let c;return u?c=u:!n.length&&!r&&!o?c=e:(c={},n.length&&n.forEach(m=>Vo(c,m,l,!0)),Vo(c,e,l)),Fe(e)&&a.set(e,c),c}function Vo(t,e,r,o=!1){const{mixins:n,extends:a}=e;a&&Vo(t,a,r,!0),n&&n.forEach(l=>Vo(t,l,r,!0));for(const l in e)if(!(o&&l==="expose")){const u=Cc[l]||r&&r[l];t[l]=u?u(t[l],e[l]):e[l]}return t}const Cc={data:oi,props:ni,emits:ni,methods:Kr,computed:Kr,beforeCreate:tt,created:tt,beforeMount:tt,mounted:tt,beforeUpdate:tt,updated:tt,beforeDestroy:tt,beforeUnmount:tt,destroyed:tt,unmounted:tt,activated:tt,deactivated:tt,errorCaptured:tt,serverPrefetch:tt,components:Kr,directives:Kr,watch:Ac,provide:oi,inject:Mc};function oi(t,e){return e?t?function(){return ze(Se(t)?t.call(this,this):t,Se(e)?e.call(this,this):e)}:e:t}function Mc(t,e){return Kr(Jn(t),Jn(e))}function Jn(t){if(xe(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function tt(t,e){return t?[...new Set([].concat(t,e))]:e}function Kr(t,e){return t?ze(Object.create(null),t,e):e}function ni(t,e){return t?xe(t)&&xe(e)?[...new Set([...t,...e])]:ze(Object.create(null),ti(t),ti(e??{})):e}function Ac(t,e){if(!t)return e;if(!e)return t;const r=ze(Object.create(null),t);for(const o in e)r[o]=tt(t[o],e[o]);return r}function ll(){return{app:null,config:{isNativeTag:vu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ic=0;function Pc(t,e){return function(o,n=null){Se(o)||(o=ze({},o)),n!=null&&!Fe(n)&&(n=null);const a=ll(),l=new WeakSet,u=[];let c=!1;const m=a.app={_uid:Ic++,_component:o,_props:n,_container:null,_context:a,_instance:null,version:md,get config(){return a.config},set config(d){},use(d,...f){return l.has(d)||(d&&Se(d.install)?(l.add(d),d.install(m,...f)):Se(d)&&(l.add(d),d(m,...f))),m},mixin(d){return a.mixins.includes(d)||a.mixins.push(d),m},component(d,f){return f?(a.components[d]=f,m):a.components[d]},directive(d,f){return f?(a.directives[d]=f,m):a.directives[d]},mount(d,f,p){if(!c){const g=m._ceVNode||ve(o,n);return g.appContext=a,p===!0?p="svg":p===!1&&(p=void 0),t(g,d,p),c=!0,m._container=d,d.__vue_app__=m,fn(g.component)}},onUnmount(d){u.push(d)},unmount(){c&&($t(u,m._instance,16),t(null,m._container),delete m._container.__vue_app__)},provide(d,f){return a.provides[d]=f,m},runWithContext(d){const f=gr;gr=m;try{return d()}finally{gr=f}}};return m}}let gr=null;function Ro(t,e){if(Ke){let r=Ke.provides;const o=Ke.parent&&Ke.parent.provides;o===r&&(r=Ke.provides=Object.create(o)),r[t]=e}}function ht(t,e,r=!1){const o=Ke||We;if(o||gr){const n=gr?gr._context.provides:o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return r&&Se(e)?e.call(o&&o.proxy):e}}function Cs(){return!!(Ke||We||gr)}const ul={},cl=()=>Object.create(ul),dl=t=>Object.getPrototypeOf(t)===ul;function Tc(t,e,r,o=!1){const n={},a=cl();t.propsDefaults=Object.create(null),ml(t,e,n,a);for(const l in t.propsOptions[0])l in n||(n[l]=void 0);r?t.props=o?n:Ua(n):t.type.props?t.props=n:t.props=a,t.attrs=a}function Lc(t,e,r,o){const{props:n,attrs:a,vnode:{patchFlag:l}}=t,u=Me(n),[c]=t.propsOptions;let m=!1;if((o||l>0)&&!(l&16)){if(l&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let p=d[f];if(dn(t.emitsOptions,p))continue;const g=e[p];if(c)if(Le(a,p))g!==a[p]&&(a[p]=g,m=!0);else{const b=yt(p);n[b]=Xn(c,u,b,g,t,!1)}else g!==a[p]&&(a[p]=g,m=!0)}}}else{ml(t,e,n,a)&&(m=!0);let d;for(const f in u)(!e||!Le(e,f)&&((d=br(f))===f||!Le(e,d)))&&(c?r&&(r[f]!==void 0||r[d]!==void 0)&&(n[f]=Xn(c,u,f,void 0,t,!0)):delete n[f]);if(a!==u)for(const f in a)(!e||!Le(e,f))&&(delete a[f],m=!0)}m&&Ot(t.attrs,"set","")}function ml(t,e,r,o){const[n,a]=t.propsOptions;let l=!1,u;if(e)for(let c in e){if(Yr(c))continue;const m=e[c];let d;n&&Le(n,d=yt(c))?!a||!a.includes(d)?r[d]=m:(u||(u={}))[d]=m:dn(t.emitsOptions,c)||(!(c in o)||m!==o[c])&&(o[c]=m,l=!0)}if(a){const c=Me(r),m=u||Ne;for(let d=0;d<a.length;d++){const f=a[d];r[f]=Xn(n,c,f,m[f],t,!Le(m,f))}}return l}function Xn(t,e,r,o,n,a){const l=t[r];if(l!=null){const u=Le(l,"default");if(u&&o===void 0){const c=l.default;if(l.type!==Function&&!l.skipFactory&&Se(c)){const{propsDefaults:m}=n;if(r in m)o=m[r];else{const d=wo(n);o=m[r]=c.call(null,e),d()}}else o=c;n.ce&&n.ce._setProp(r,o)}l[0]&&(a&&!u?o=!1:l[1]&&(o===""||o===br(r))&&(o=!0))}return o}const qc=new WeakMap;function fl(t,e,r=!1){const o=r?qc:e.propsCache,n=o.get(t);if(n)return n;const a=t.props,l={},u=[];let c=!1;if(!Se(t)){const d=f=>{c=!0;const[p,g]=fl(f,e,!0);ze(l,p),g&&u.push(...g)};!r&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!a&&!c)return Fe(t)&&o.set(t,Ir),Ir;if(xe(a))for(let d=0;d<a.length;d++){const f=yt(a[d]);si(f)&&(l[f]=Ne)}else if(a)for(const d in a){const f=yt(d);if(si(f)){const p=a[d],g=l[f]=xe(p)||Se(p)?{type:p}:ze({},p),b=g.type;let x=!1,U=!0;if(xe(b))for(let O=0;O<b.length;++O){const F=b[O],L=Se(F)&&F.name;if(L==="Boolean"){x=!0;break}else L==="String"&&(U=!1)}else x=Se(b)&&b.name==="Boolean";g[0]=x,g[1]=U,(x||Le(g,"default"))&&u.push(f)}}const m=[l,u];return Fe(t)&&o.set(t,m),m}function si(t){return t[0]!=="$"&&!Yr(t)}const pl=t=>t[0]==="_"||t==="$stable",Ms=t=>xe(t)?t.map(Lt):[Lt(t)],Fc=(t,e,r)=>{if(e._n)return e;const o=Ve((...n)=>Ms(e(...n)),r);return o._c=!1,o},gl=(t,e,r)=>{const o=t._ctx;for(const n in t){if(pl(n))continue;const a=t[n];if(Se(a))e[n]=Fc(n,a,o);else if(a!=null){const l=Ms(a);e[n]=()=>l}}},hl=(t,e)=>{const r=Ms(e);t.slots.default=()=>r},vl=(t,e,r)=>{for(const o in e)(r||o!=="_")&&(t[o]=e[o])},Nc=(t,e,r)=>{const o=t.slots=cl();if(t.vnode.shapeFlag&32){const n=e._;n?(vl(o,e,r),r&&ha(o,"_",n,!0)):gl(e,o)}else e&&hl(t,e)},Rc=(t,e,r)=>{const{vnode:o,slots:n}=t;let a=!0,l=Ne;if(o.shapeFlag&32){const u=e._;u?r&&u===1?a=!1:vl(n,e,r):(a=!e.$stable,gl(e,n)),l=e}else e&&(hl(t,e),l={default:1});if(a)for(const u in n)!pl(u)&&l[u]==null&&delete n[u]},rt=Xc;function Uc(t){return Bc(t)}function Bc(t,e){const r=on();r.__VUE__=!0;const{insert:o,remove:n,patchProp:a,createElement:l,createText:u,createComment:c,setText:m,setElementText:d,parentNode:f,nextSibling:p,setScopeId:g=qt,insertStaticContent:b}=t,x=(C,T,j,J=null,K=null,X=null,me=void 0,ue=null,ce=!!T.dynamicChildren)=>{if(C===T)return;C&&!cr(C,T)&&(J=q(C),se(C,K,X,!0),C=null),T.patchFlag===-2&&(ce=!1,T.dynamicChildren=null);const{type:le,ref:_e,shapeFlag:fe}=T;switch(le){case mn:U(C,T,j,J);break;case it:O(C,T,j,J);break;case Uo:C==null&&F(T,j,J,me);break;case ye:h(C,T,j,J,K,X,me,ue,ce);break;default:fe&1?M(C,T,j,J,K,X,me,ue,ce):fe&6?_(C,T,j,J,K,X,me,ue,ce):(fe&64||fe&128)&&le.process(C,T,j,J,K,X,me,ue,ce,Y)}_e!=null&&K&&Wo(_e,C&&C.ref,X,T||C,!T)},U=(C,T,j,J)=>{if(C==null)o(T.el=u(T.children),j,J);else{const K=T.el=C.el;T.children!==C.children&&m(K,T.children)}},O=(C,T,j,J)=>{C==null?o(T.el=c(T.children||""),j,J):T.el=C.el},F=(C,T,j,J)=>{[C.el,C.anchor]=b(C.children,T,j,J,C.el,C.anchor)},L=({el:C,anchor:T},j,J)=>{let K;for(;C&&C!==T;)K=p(C),o(C,j,J),C=K;o(T,j,J)},A=({el:C,anchor:T})=>{let j;for(;C&&C!==T;)j=p(C),n(C),C=j;n(T)},M=(C,T,j,J,K,X,me,ue,ce)=>{T.type==="svg"?me="svg":T.type==="math"&&(me="mathml"),C==null?S(T,j,J,K,X,me,ue,ce):k(C,T,K,X,me,ue,ce)},S=(C,T,j,J,K,X,me,ue)=>{let ce,le;const{props:_e,shapeFlag:fe,transition:ke,dirs:$e}=C;if(ce=C.el=l(C.type,X,_e&&_e.is,_e),fe&8?d(ce,C.children):fe&16&&y(C.children,ce,null,J,K,In(C,X),me,ue),$e&&ir(C,null,J,"created"),$(ce,C,C.scopeId,me,J),_e){for(const Re in _e)Re!=="value"&&!Yr(Re)&&a(ce,Re,null,_e[Re],X,J);"value"in _e&&a(ce,"value",null,_e.value,X),(le=_e.onVnodeBeforeMount)&&It(le,J,C)}$e&&ir(C,null,J,"beforeMount");const Ae=Oc(K,ke);Ae&&ke.beforeEnter(ce),o(ce,T,j),((le=_e&&_e.onVnodeMounted)||Ae||$e)&&rt(()=>{le&&It(le,J,C),Ae&&ke.enter(ce),$e&&ir(C,null,J,"mounted")},K)},$=(C,T,j,J,K)=>{if(j&&g(C,j),J)for(let X=0;X<J.length;X++)g(C,J[X]);if(K){let X=K.subTree;if(T===X||kl(X.type)&&(X.ssContent===T||X.ssFallback===T)){const me=K.vnode;$(C,me,me.scopeId,me.slotScopeIds,K.parent)}}},y=(C,T,j,J,K,X,me,ue,ce=0)=>{for(let le=ce;le<C.length;le++){const _e=C[le]=ue?Xt(C[le]):Lt(C[le]);x(null,_e,T,j,J,K,X,me,ue)}},k=(C,T,j,J,K,X,me)=>{const ue=T.el=C.el;let{patchFlag:ce,dynamicChildren:le,dirs:_e}=T;ce|=C.patchFlag&16;const fe=C.props||Ne,ke=T.props||Ne;let $e;if(j&&ar(j,!1),($e=ke.onVnodeBeforeUpdate)&&It($e,j,T,C),_e&&ir(T,C,j,"beforeUpdate"),j&&ar(j,!0),(fe.innerHTML&&ke.innerHTML==null||fe.textContent&&ke.textContent==null)&&d(ue,""),le?N(C.dynamicChildren,le,ue,j,J,In(T,K),X):me||he(C,T,ue,null,j,J,In(T,K),X,!1),ce>0){if(ce&16)P(ue,fe,ke,j,K);else if(ce&2&&fe.class!==ke.class&&a(ue,"class",null,ke.class,K),ce&4&&a(ue,"style",fe.style,ke.style,K),ce&8){const Ae=T.dynamicProps;for(let Re=0;Re<Ae.length;Re++){const qe=Ae[Re],ft=fe[qe],ut=ke[qe];(ut!==ft||qe==="value")&&a(ue,qe,ft,ut,K,j)}}ce&1&&C.children!==T.children&&d(ue,T.children)}else!me&&le==null&&P(ue,fe,ke,j,K);(($e=ke.onVnodeUpdated)||_e)&&rt(()=>{$e&&It($e,j,T,C),_e&&ir(T,C,j,"updated")},J)},N=(C,T,j,J,K,X,me)=>{for(let ue=0;ue<T.length;ue++){const ce=C[ue],le=T[ue],_e=ce.el&&(ce.type===ye||!cr(ce,le)||ce.shapeFlag&70)?f(ce.el):j;x(ce,le,_e,null,J,K,X,me,!0)}},P=(C,T,j,J,K)=>{if(T!==j){if(T!==Ne)for(const X in T)!Yr(X)&&!(X in j)&&a(C,X,T[X],null,K,J);for(const X in j){if(Yr(X))continue;const me=j[X],ue=T[X];me!==ue&&X!=="value"&&a(C,X,ue,me,K,J)}"value"in j&&a(C,"value",T.value,j.value,K)}},h=(C,T,j,J,K,X,me,ue,ce)=>{const le=T.el=C?C.el:u(""),_e=T.anchor=C?C.anchor:u("");let{patchFlag:fe,dynamicChildren:ke,slotScopeIds:$e}=T;$e&&(ue=ue?ue.concat($e):$e),C==null?(o(le,j,J),o(_e,j,J),y(T.children||[],j,_e,K,X,me,ue,ce)):fe>0&&fe&64&&ke&&C.dynamicChildren?(N(C.dynamicChildren,ke,j,K,X,me,ue),(T.key!=null||K&&T===K.subTree)&&As(C,T,!0)):he(C,T,j,_e,K,X,me,ue,ce)},_=(C,T,j,J,K,X,me,ue,ce)=>{T.slotScopeIds=ue,C==null?T.shapeFlag&512?K.ctx.activate(T,j,J,me,ce):W(T,j,J,K,X,me,ce):R(C,T,ce)},W=(C,T,j,J,K,X,me)=>{const ue=C.component=sd(C,J,K);if(ln(C)&&(ue.ctx.renderer=Y),id(ue,!1,me),ue.asyncDep){if(K&&K.registerDep(ue,pe,me),!C.el){const ce=ue.subTree=ve(it);O(null,ce,T,j)}}else pe(ue,C,T,j,K,X,me)},R=(C,T,j)=>{const J=T.component=C.component;if(Yc(C,T,j))if(J.asyncDep&&!J.asyncResolved){Z(J,T,j);return}else J.next=T,J.update();else T.el=C.el,J.vnode=T},pe=(C,T,j,J,K,X,me)=>{const ue=()=>{if(C.isMounted){let{next:fe,bu:ke,u:$e,parent:Ae,vnode:Re}=C;{const Mt=bl(C);if(Mt){fe&&(fe.el=Re.el,Z(C,fe,me)),Mt.asyncDep.then(()=>{C.isUnmounted||ue()});return}}let qe=fe,ft;ar(C,!1),fe?(fe.el=Re.el,Z(C,fe,me)):fe=Re,ke&&Fo(ke),(ft=fe.props&&fe.props.onVnodeBeforeUpdate)&&It(ft,Ae,fe,Re),ar(C,!0);const ut=ai(C),Ct=C.subTree;C.subTree=ut,x(Ct,ut,f(Ct.el),q(Ct),C,K,X),fe.el=ut.el,qe===null&&Jc(C,ut.el),$e&&rt($e,K),(ft=fe.props&&fe.props.onVnodeUpdated)&&rt(()=>It(ft,Ae,fe,Re),K)}else{let fe;const{el:ke,props:$e}=T,{bm:Ae,m:Re,parent:qe,root:ft,type:ut}=C,Ct=Lr(T);ar(C,!1),Ae&&Fo(Ae),!Ct&&(fe=$e&&$e.onVnodeBeforeMount)&&It(fe,qe,T),ar(C,!0);{ft.ce&&ft.ce._injectChildStyle(ut);const Mt=C.subTree=ai(C);x(null,Mt,j,J,C,K,X),T.el=Mt.el}if(Re&&rt(Re,K),!Ct&&(fe=$e&&$e.onVnodeMounted)){const Mt=T;rt(()=>It(fe,qe,Mt),K)}(T.shapeFlag&256||qe&&Lr(qe.vnode)&&qe.vnode.shapeFlag&256)&&C.a&&rt(C.a,K),C.isMounted=!0,T=j=J=null}};C.scope.on();const ce=C.effect=new Sa(ue);C.scope.off();const le=C.update=ce.run.bind(ce),_e=C.job=ce.runIfDirty.bind(ce);_e.i=C,_e.id=C.uid,ce.scheduler=()=>_s(_e),ar(C,!0),le()},Z=(C,T,j)=>{T.component=C;const J=C.vnode.props;C.vnode=T,C.next=null,Lc(C,T.props,J,j),Rc(C,T.children,j),rr(),Ks(C),or()},he=(C,T,j,J,K,X,me,ue,ce=!1)=>{const le=C&&C.children,_e=C?C.shapeFlag:0,fe=T.children,{patchFlag:ke,shapeFlag:$e}=T;if(ke>0){if(ke&128){de(le,fe,j,J,K,X,me,ue,ce);return}else if(ke&256){Ce(le,fe,j,J,K,X,me,ue,ce);return}}$e&8?(_e&16&&D(le,K,X),fe!==le&&d(j,fe)):_e&16?$e&16?de(le,fe,j,J,K,X,me,ue,ce):D(le,K,X,!0):(_e&8&&d(j,""),$e&16&&y(fe,j,J,K,X,me,ue,ce))},Ce=(C,T,j,J,K,X,me,ue,ce)=>{C=C||Ir,T=T||Ir;const le=C.length,_e=T.length,fe=Math.min(le,_e);let ke;for(ke=0;ke<fe;ke++){const $e=T[ke]=ce?Xt(T[ke]):Lt(T[ke]);x(C[ke],$e,j,null,K,X,me,ue,ce)}le>_e?D(C,K,X,!0,!1,fe):y(T,j,J,K,X,me,ue,ce,fe)},de=(C,T,j,J,K,X,me,ue,ce)=>{let le=0;const _e=T.length;let fe=C.length-1,ke=_e-1;for(;le<=fe&&le<=ke;){const $e=C[le],Ae=T[le]=ce?Xt(T[le]):Lt(T[le]);if(cr($e,Ae))x($e,Ae,j,null,K,X,me,ue,ce);else break;le++}for(;le<=fe&&le<=ke;){const $e=C[fe],Ae=T[ke]=ce?Xt(T[ke]):Lt(T[ke]);if(cr($e,Ae))x($e,Ae,j,null,K,X,me,ue,ce);else break;fe--,ke--}if(le>fe){if(le<=ke){const $e=ke+1,Ae=$e<_e?T[$e].el:J;for(;le<=ke;)x(null,T[le]=ce?Xt(T[le]):Lt(T[le]),j,Ae,K,X,me,ue,ce),le++}}else if(le>ke)for(;le<=fe;)se(C[le],K,X,!0),le++;else{const $e=le,Ae=le,Re=new Map;for(le=Ae;le<=ke;le++){const pt=T[le]=ce?Xt(T[le]):Lt(T[le]);pt.key!=null&&Re.set(pt.key,le)}let qe,ft=0;const ut=ke-Ae+1;let Ct=!1,Mt=0;const jr=new Array(ut);for(le=0;le<ut;le++)jr[le]=0;for(le=$e;le<=fe;le++){const pt=C[le];if(ft>=ut){se(pt,K,X,!0);continue}let At;if(pt.key!=null)At=Re.get(pt.key);else for(qe=Ae;qe<=ke;qe++)if(jr[qe-Ae]===0&&cr(pt,T[qe])){At=qe;break}At===void 0?se(pt,K,X,!0):(jr[At-Ae]=le+1,At>=Mt?Mt=At:Ct=!0,x(pt,T[At],j,null,K,X,me,ue,ce),ft++)}const js=Ct?Dc(jr):Ir;for(qe=js.length-1,le=ut-1;le>=0;le--){const pt=Ae+le,At=T[pt],Qs=pt+1<_e?T[pt+1].el:J;jr[le]===0?x(null,At,j,Qs,K,X,me,ue,ce):Ct&&(qe<0||le!==js[qe]?ae(At,j,Qs,2):qe--)}}},ae=(C,T,j,J,K=null)=>{const{el:X,type:me,transition:ue,children:ce,shapeFlag:le}=C;if(le&6){ae(C.component.subTree,T,j,J);return}if(le&128){C.suspense.move(T,j,J);return}if(le&64){me.move(C,T,j,Y);return}if(me===ye){o(X,T,j);for(let fe=0;fe<ce.length;fe++)ae(ce[fe],T,j,J);o(C.anchor,T,j);return}if(me===Uo){L(C,T,j);return}if(J!==2&&le&1&&ue)if(J===0)ue.beforeEnter(X),o(X,T,j),rt(()=>ue.enter(X),K);else{const{leave:fe,delayLeave:ke,afterLeave:$e}=ue,Ae=()=>o(X,T,j),Re=()=>{fe(X,()=>{Ae(),$e&&$e()})};ke?ke(X,Ae,Re):Re()}else o(X,T,j)},se=(C,T,j,J=!1,K=!1)=>{const{type:X,props:me,ref:ue,children:ce,dynamicChildren:le,shapeFlag:_e,patchFlag:fe,dirs:ke,cacheIndex:$e}=C;if(fe===-2&&(K=!1),ue!=null&&Wo(ue,null,j,C,!0),$e!=null&&(T.renderCache[$e]=void 0),_e&256){T.ctx.deactivate(C);return}const Ae=_e&1&&ke,Re=!Lr(C);let qe;if(Re&&(qe=me&&me.onVnodeBeforeUnmount)&&It(qe,T,C),_e&6)oe(C.component,j,J);else{if(_e&128){C.suspense.unmount(j,J);return}Ae&&ir(C,null,T,"beforeUnmount"),_e&64?C.type.remove(C,T,j,Y,J):le&&!le.hasOnce&&(X!==ye||fe>0&&fe&64)?D(le,T,j,!1,!0):(X===ye&&fe&384||!K&&_e&16)&&D(ce,T,j),J&&Q(C)}(Re&&(qe=me&&me.onVnodeUnmounted)||Ae)&&rt(()=>{qe&&It(qe,T,C),Ae&&ir(C,null,T,"unmounted")},j)},Q=C=>{const{type:T,el:j,anchor:J,transition:K}=C;if(T===ye){ee(j,J);return}if(T===Uo){A(C);return}const X=()=>{n(j),K&&!K.persisted&&K.afterLeave&&K.afterLeave()};if(C.shapeFlag&1&&K&&!K.persisted){const{leave:me,delayLeave:ue}=K,ce=()=>me(j,X);ue?ue(C.el,X,ce):ce()}else X()},ee=(C,T)=>{let j;for(;C!==T;)j=p(C),n(C),C=j;n(T)},oe=(C,T,j)=>{const{bum:J,scope:K,job:X,subTree:me,um:ue,m:ce,a:le}=C;ii(ce),ii(le),J&&Fo(J),K.stop(),X&&(X.flags|=8,se(me,C,T,j)),ue&&rt(ue,T),rt(()=>{C.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},D=(C,T,j,J=!1,K=!1,X=0)=>{for(let me=X;me<C.length;me++)se(C[me],T,j,J,K)},q=C=>{if(C.shapeFlag&6)return q(C.component.subTree);if(C.shapeFlag&128)return C.suspense.next();const T=p(C.anchor||C.el),j=T&&T[za];return j?p(j):T};let V=!1;const te=(C,T,j)=>{C==null?T._vnode&&se(T._vnode,null,null,!0):x(T._vnode||null,C,T,null,null,null,j),T._vnode=C,V||(V=!0,Ks(),Ga(),V=!1)},Y={p:x,um:se,m:ae,r:Q,mt:W,mc:y,pc:he,pbc:N,n:q,o:t};return{render:te,hydrate:void 0,createApp:Pc(te)}}function In({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function ar({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Oc(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function As(t,e,r=!1){const o=t.children,n=e.children;if(xe(o)&&xe(n))for(let a=0;a<o.length;a++){const l=o[a];let u=n[a];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=n[a]=Xt(n[a]),u.el=l.el),!r&&u.patchFlag!==-2&&As(l,u)),u.type===mn&&(u.el=l.el)}}function Dc(t){const e=t.slice(),r=[0];let o,n,a,l,u;const c=t.length;for(o=0;o<c;o++){const m=t[o];if(m!==0){if(n=r[r.length-1],t[n]<m){e[o]=n,r.push(o);continue}for(a=0,l=r.length-1;a<l;)u=a+l>>1,t[r[u]]<m?a=u+1:l=u;m<t[r[a]]&&(a>0&&(e[o]=r[a-1]),r[a]=o)}}for(a=r.length,l=r[a-1];a-- >0;)r[a]=l,l=e[l];return r}function bl(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:bl(e)}function ii(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Hc=Symbol.for("v-scx"),jc=()=>ht(Hc);function Qc(t,e){return Is(t,null,e)}function Ee(t,e,r){return Is(t,e,r)}function Is(t,e,r=Ne){const{immediate:o,deep:n,flush:a,once:l}=r,u=ze({},r),c=e&&o||!e&&a!=="post";let m;if(mo){if(a==="sync"){const g=jc();m=g.__watcherHandles||(g.__watcherHandles=[])}else if(!c){const g=()=>{};return g.stop=qt,g.resume=qt,g.pause=qt,g}}const d=Ke;u.call=(g,b,x)=>$t(g,d,b,x);let f=!1;a==="post"?u.scheduler=g=>{rt(g,d&&d.suspense)}:a!=="sync"&&(f=!0,u.scheduler=(g,b)=>{b?g():_s(g)}),u.augmentJob=g=>{e&&(g.flags|=4),f&&(g.flags|=2,d&&(g.id=d.uid,g.i=d))};const p=oc(t,e,u);return mo&&(m?m.push(p):c&&p()),p}function Gc(t,e,r){const o=this.proxy,n=je(t)?t.includes(".")?xl(o,t):()=>o[t]:t.bind(o,o);let a;Se(e)?a=e:(a=e.handler,r=e);const l=wo(this),u=Is(n,a.bind(o),r);return l(),u}function xl(t,e){const r=e.split(".");return()=>{let o=t;for(let n=0;n<r.length&&o;n++)o=o[r[n]];return o}}const Wc=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${yt(e)}Modifiers`]||t[`${br(e)}Modifiers`];function Vc(t,e,...r){if(t.isUnmounted)return;const o=t.vnode.props||Ne;let n=r;const a=e.startsWith("update:"),l=a&&Wc(o,e.slice(7));l&&(l.trim&&(n=r.map(d=>je(d)?d.trim():d)),l.number&&(n=r.map(jn)));let u,c=o[u=_n(e)]||o[u=_n(yt(e))];!c&&a&&(c=o[u=_n(br(e))]),c&&$t(c,t,6,n);const m=o[u+"Once"];if(m){if(!t.emitted)t.emitted={};else if(t.emitted[u])return;t.emitted[u]=!0,$t(m,t,6,n)}}function yl(t,e,r=!1){const o=e.emitsCache,n=o.get(t);if(n!==void 0)return n;const a=t.emits;let l={},u=!1;if(!Se(t)){const c=m=>{const d=yl(m,e,!0);d&&(u=!0,ze(l,d))};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!a&&!u?(Fe(t)&&o.set(t,null),null):(xe(a)?a.forEach(c=>l[c]=null):ze(l,a),Fe(t)&&o.set(t,l),l)}function dn(t,e){return!t||!Zo(e)?!1:(e=e.slice(2).replace(/Once$/,""),Le(t,e[0].toLowerCase()+e.slice(1))||Le(t,br(e))||Le(t,e))}function ai(t){const{type:e,vnode:r,proxy:o,withProxy:n,propsOptions:[a],slots:l,attrs:u,emit:c,render:m,renderCache:d,props:f,data:p,setupState:g,ctx:b,inheritAttrs:x}=t,U=Go(t);let O,F;try{if(r.shapeFlag&4){const A=n||o,M=A;O=Lt(m.call(M,A,d,f,g,p,b)),F=u}else{const A=e;O=Lt(A.length>1?A(f,{attrs:u,slots:l,emit:c}):A(f,null)),F=e.props?u:zc(u)}}catch(A){to.length=0,an(A,t,1),O=ve(it)}let L=O;if(F&&x!==!1){const A=Object.keys(F),{shapeFlag:M}=L;A.length&&M&7&&(a&&A.some(cs)&&(F=Kc(F,a)),L=tr(L,F,!1,!0))}return r.dirs&&(L=tr(L,null,!1,!0),L.dirs=L.dirs?L.dirs.concat(r.dirs):r.dirs),r.transition&&vr(L,r.transition),O=L,Go(U),O}const zc=t=>{let e;for(const r in t)(r==="class"||r==="style"||Zo(r))&&((e||(e={}))[r]=t[r]);return e},Kc=(t,e)=>{const r={};for(const o in t)(!cs(o)||!(o.slice(9)in e))&&(r[o]=t[o]);return r};function Yc(t,e,r){const{props:o,children:n,component:a}=t,{props:l,children:u,patchFlag:c}=e,m=a.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return o?li(o,l,m):!!l;if(c&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const p=d[f];if(l[p]!==o[p]&&!dn(m,p))return!0}}}else return(n||u)&&(!u||!u.$stable)?!0:o===l?!1:o?l?li(o,l,m):!0:!!l;return!1}function li(t,e,r){const o=Object.keys(e);if(o.length!==Object.keys(t).length)return!0;for(let n=0;n<o.length;n++){const a=o[n];if(e[a]!==t[a]&&!dn(r,a))return!0}return!1}function Jc({vnode:t,parent:e},r){for(;e;){const o=e.subTree;if(o.suspense&&o.suspense.activeBranch===t&&(o.el=t.el),o===t)(t=e.vnode).el=r,e=e.parent;else break}}const kl=t=>t.__isSuspense;function Xc(t,e){e&&e.pendingBranch?xe(t)?e.effects.push(...t):e.effects.push(t):ic(t)}const ye=Symbol.for("v-fgt"),mn=Symbol.for("v-txt"),it=Symbol.for("v-cmt"),Uo=Symbol.for("v-stc"),to=[];let gt=null;function v(t=!1){to.push(gt=t?null:[])}function Zc(){to.pop(),gt=to[to.length-1]||null}let uo=1;function ui(t,e=!1){uo+=t,t<0&&gt&&e&&(gt.hasOnce=!0)}function wl(t){return t.dynamicChildren=uo>0?gt||Ir:null,Zc(),uo>0&&gt&&gt.push(t),t}function w(t,e,r,o,n,a){return wl(s(t,e,r,o,n,a,!0))}function Qe(t,e,r,o,n){return wl(ve(t,e,r,o,n,!0))}function co(t){return t?t.__v_isVNode===!0:!1}function cr(t,e){return t.type===e.type&&t.key===e.key}const _l=({key:t})=>t??null,Bo=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?je(t)||Pe(t)||Se(t)?{i:We,r:t,k:e,f:!!r}:t:null);function s(t,e=null,r=null,o=0,n=null,a=t===ye?0:1,l=!1,u=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&_l(e),ref:e&&Bo(e),scopeId:Va,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:o,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:We};return u?(Ps(c,r),a&128&&t.normalize(c)):r&&(c.shapeFlag|=je(r)?8:16),uo>0&&!l&&gt&&(c.patchFlag>0||a&6)&&c.patchFlag!==32&&gt.push(c),c}const ve=ed;function ed(t,e=null,r=null,o=0,n=null,a=!1){if((!t||t===kc)&&(t=it),co(t)){const u=tr(t,e,!0);return r&&Ps(u,r),uo>0&&!a&&gt&&(u.shapeFlag&6?gt[gt.indexOf(t)]=u:gt.push(u)),u.patchFlag=-2,u}if(dd(t)&&(t=t.__vccOpts),e){e=td(e);let{class:u,style:c}=e;u&&!je(u)&&(e.class=ne(u)),Fe(c)&&(ks(c)&&!xe(c)&&(c=ze({},c)),e.style=Xe(c))}const l=je(t)?1:kl(t)?128:Ka(t)?64:Fe(t)?4:Se(t)?2:0;return s(t,e,r,o,n,l,a,!0)}function td(t){return t?ks(t)||dl(t)?ze({},t):t:null}function tr(t,e,r=!1,o=!1){const{props:n,ref:a,patchFlag:l,children:u,transition:c}=t,m=e?rd(n||{},e):n,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:m,key:m&&_l(m),ref:e&&e.ref?r&&a?xe(a)?a.concat(Bo(e)):[a,Bo(e)]:Bo(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:u,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ye?l===-1?16:l|16:l,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&tr(t.ssContent),ssFallback:t.ssFallback&&tr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&o&&vr(d,c.clone(d)),d}function G(t=" ",e=0){return ve(mn,null,t,e)}function yo(t,e){const r=ve(Uo,null,t);return r.staticCount=e,r}function z(t="",e=!1){return e?(v(),Qe(it,null,t)):ve(it,null,t)}function Lt(t){return t==null||typeof t=="boolean"?ve(it):xe(t)?ve(ye,null,t.slice()):co(t)?Xt(t):ve(mn,null,String(t))}function Xt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:tr(t)}function Ps(t,e){let r=0;const{shapeFlag:o}=t;if(e==null)e=null;else if(xe(e))r=16;else if(typeof e=="object")if(o&65){const n=e.default;n&&(n._c&&(n._d=!1),Ps(t,n()),n._c&&(n._d=!0));return}else{r=32;const n=e._;!n&&!dl(e)?e._ctx=We:n===3&&We&&(We.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Se(e)?(e={default:e,_ctx:We},r=32):(e=String(e),o&64?(r=16,e=[G(e)]):r=8);t.children=e,t.shapeFlag|=r}function rd(...t){const e={};for(let r=0;r<t.length;r++){const o=t[r];for(const n in o)if(n==="class")e.class!==o.class&&(e.class=ne([e.class,o.class]));else if(n==="style")e.style=Xe([e.style,o.style]);else if(Zo(n)){const a=e[n],l=o[n];l&&a!==l&&!(xe(a)&&a.includes(l))&&(e[n]=a?[].concat(a,l):l)}else n!==""&&(e[n]=o[n])}return e}function It(t,e,r,o=null){$t(t,e,7,[r,o])}const od=ll();let nd=0;function sd(t,e,r){const o=t.type,n=(e?e.appContext:t.appContext)||od,a={uid:nd++,vnode:t,type:o,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ka(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:fl(o,n),emitsOptions:yl(o,n),emit:null,emitted:null,propsDefaults:Ne,inheritAttrs:o.inheritAttrs,ctx:Ne,data:Ne,props:Ne,attrs:Ne,slots:Ne,refs:Ne,setupState:Ne,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=Vc.bind(null,a),t.ce&&t.ce(a),a}let Ke=null;const ko=()=>Ke||We;let zo,Zn;{const t=on(),e=(r,o)=>{let n;return(n=t[r])||(n=t[r]=[]),n.push(o),a=>{n.length>1?n.forEach(l=>l(a)):n[0](a)}};zo=e("__VUE_INSTANCE_SETTERS__",r=>Ke=r),Zn=e("__VUE_SSR_SETTERS__",r=>mo=r)}const wo=t=>{const e=Ke;return zo(t),t.scope.on(),()=>{t.scope.off(),zo(e)}},ci=()=>{Ke&&Ke.scope.off(),zo(null)};function Sl(t){return t.vnode.shapeFlag&4}let mo=!1;function id(t,e=!1,r=!1){e&&Zn(e);const{props:o,children:n}=t.vnode,a=Sl(t);Tc(t,o,a,e),Nc(t,n,r);const l=a?ad(t,e):void 0;return e&&Zn(!1),l}function ad(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Sc);const{setup:o}=r;if(o){rr();const n=t.setupContext=o.length>1?ud(t):null,a=wo(t),l=bo(o,t,0,[t.props,n]),u=fa(l);if(or(),a(),(u||t.sp)&&!Lr(t)&&ol(t),u){if(l.then(ci,ci),e)return l.then(c=>{di(t,c)}).catch(c=>{an(c,t,0)});t.asyncDep=l}else di(t,l)}else $l(t)}function di(t,e,r){Se(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Fe(e)&&(t.setupState=Oa(e)),$l(t)}function $l(t,e,r){const o=t.type;t.render||(t.render=o.render||qt);{const n=wo(t);rr();try{$c(t)}finally{or(),n()}}}const ld={get(t,e){return Ye(t,"get",""),t[e]}};function ud(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,ld),slots:t.slots,emit:t.emit,expose:e}}function fn(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Oa(ws(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in eo)return eo[r](t)},has(e,r){return r in e||r in eo}})):t.proxy}function cd(t,e=!0){return Se(t)?t.displayName||t.name:t.name||e&&t.__name}function dd(t){return Se(t)&&"__vccOpts"in t}const B=(t,e)=>tc(t,e,mo);function Ts(t,e,r){const o=arguments.length;return o===2?Fe(e)&&!xe(e)?co(e)?ve(t,null,[e]):ve(t,e):ve(t,null,e):(o>3?r=Array.prototype.slice.call(arguments,2):o===3&&co(r)&&(r=[r]),ve(t,e,r))}const md="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let es;const mi=typeof window<"u"&&window.trustedTypes;if(mi)try{es=mi.createPolicy("vue",{createHTML:t=>t})}catch{}const El=es?t=>es.createHTML(t):t=>t,fd="http://www.w3.org/2000/svg",pd="http://www.w3.org/1998/Math/MathML",Bt=typeof document<"u"?document:null,fi=Bt&&Bt.createElement("template"),gd={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,o)=>{const n=e==="svg"?Bt.createElementNS(fd,t):e==="mathml"?Bt.createElementNS(pd,t):r?Bt.createElement(t,{is:r}):Bt.createElement(t);return t==="select"&&o&&o.multiple!=null&&n.setAttribute("multiple",o.multiple),n},createText:t=>Bt.createTextNode(t),createComment:t=>Bt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Bt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,o,n,a){const l=r?r.previousSibling:e.lastChild;if(n&&(n===a||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),r),!(n===a||!(n=n.nextSibling)););else{fi.innerHTML=El(o==="svg"?`<svg>${t}</svg>`:o==="mathml"?`<math>${t}</math>`:t);const u=fi.content;if(o==="svg"||o==="mathml"){const c=u.firstChild;for(;c.firstChild;)u.appendChild(c.firstChild);u.removeChild(c)}e.insertBefore(u,r)}return[l?l.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Gt="transition",Gr="animation",Rr=Symbol("_vtc"),Cl={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ml=ze({},Za,Cl),hd=t=>(t.displayName="Transition",t.props=Ml,t),Hr=hd((t,{slots:e})=>Ts(cc,Al(t),e)),lr=(t,e=[])=>{xe(t)?t.forEach(r=>r(...e)):t&&t(...e)},pi=t=>t?xe(t)?t.some(e=>e.length>1):t.length>1:!1;function Al(t){const e={};for(const h in t)h in Cl||(e[h]=t[h]);if(t.css===!1)return e;const{name:r="v",type:o,duration:n,enterFromClass:a=`${r}-enter-from`,enterActiveClass:l=`${r}-enter-active`,enterToClass:u=`${r}-enter-to`,appearFromClass:c=a,appearActiveClass:m=l,appearToClass:d=u,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:p=`${r}-leave-active`,leaveToClass:g=`${r}-leave-to`}=t,b=vd(n),x=b&&b[0],U=b&&b[1],{onBeforeEnter:O,onEnter:F,onEnterCancelled:L,onLeave:A,onLeaveCancelled:M,onBeforeAppear:S=O,onAppear:$=F,onAppearCancelled:y=L}=e,k=(h,_,W,R)=>{h._enterCancelled=R,zt(h,_?d:u),zt(h,_?m:l),W&&W()},N=(h,_)=>{h._isLeaving=!1,zt(h,f),zt(h,g),zt(h,p),_&&_()},P=h=>(_,W)=>{const R=h?$:F,pe=()=>k(_,h,W);lr(R,[_,pe]),gi(()=>{zt(_,h?c:a),Pt(_,h?d:u),pi(R)||hi(_,o,x,pe)})};return ze(e,{onBeforeEnter(h){lr(O,[h]),Pt(h,a),Pt(h,l)},onBeforeAppear(h){lr(S,[h]),Pt(h,c),Pt(h,m)},onEnter:P(!1),onAppear:P(!0),onLeave(h,_){h._isLeaving=!0;const W=()=>N(h,_);Pt(h,f),h._enterCancelled?(Pt(h,p),ts()):(ts(),Pt(h,p)),gi(()=>{h._isLeaving&&(zt(h,f),Pt(h,g),pi(A)||hi(h,o,U,W))}),lr(A,[h,W])},onEnterCancelled(h){k(h,!1,void 0,!0),lr(L,[h])},onAppearCancelled(h){k(h,!0,void 0,!0),lr(y,[h])},onLeaveCancelled(h){N(h),lr(M,[h])}})}function vd(t){if(t==null)return null;if(Fe(t))return[Pn(t.enter),Pn(t.leave)];{const e=Pn(t);return[e,e]}}function Pn(t){return wu(t)}function Pt(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[Rr]||(t[Rr]=new Set)).add(e)}function zt(t,e){e.split(/\s+/).forEach(o=>o&&t.classList.remove(o));const r=t[Rr];r&&(r.delete(e),r.size||(t[Rr]=void 0))}function gi(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let bd=0;function hi(t,e,r,o){const n=t._endId=++bd,a=()=>{n===t._endId&&o()};if(r!=null)return setTimeout(a,r);const{type:l,timeout:u,propCount:c}=Il(t,e);if(!l)return o();const m=l+"end";let d=0;const f=()=>{t.removeEventListener(m,p),a()},p=g=>{g.target===t&&++d>=c&&f()};setTimeout(()=>{d<c&&f()},u+1),t.addEventListener(m,p)}function Il(t,e){const r=window.getComputedStyle(t),o=b=>(r[b]||"").split(", "),n=o(`${Gt}Delay`),a=o(`${Gt}Duration`),l=vi(n,a),u=o(`${Gr}Delay`),c=o(`${Gr}Duration`),m=vi(u,c);let d=null,f=0,p=0;e===Gt?l>0&&(d=Gt,f=l,p=a.length):e===Gr?m>0&&(d=Gr,f=m,p=c.length):(f=Math.max(l,m),d=f>0?l>m?Gt:Gr:null,p=d?d===Gt?a.length:c.length:0);const g=d===Gt&&/\b(transform|all)(,|$)/.test(o(`${Gt}Property`).toString());return{type:d,timeout:f,propCount:p,hasTransform:g}}function vi(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,o)=>bi(r)+bi(t[o])))}function bi(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function ts(){return document.body.offsetHeight}function xd(t,e,r){const o=t[Rr];o&&(e=(e?[e,...o]:[...o]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const Ko=Symbol("_vod"),Pl=Symbol("_vsh"),fr={beforeMount(t,{value:e},{transition:r}){t[Ko]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):Wr(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:o}){!e!=!r&&(o?e?(o.beforeEnter(t),Wr(t,!0),o.enter(t)):o.leave(t,()=>{Wr(t,!1)}):Wr(t,e))},beforeUnmount(t,{value:e}){Wr(t,e)}};function Wr(t,e){t.style.display=e?t[Ko]:"none",t[Pl]=!e}const yd=Symbol(""),kd=/(^|;)\s*display\s*:/;function wd(t,e,r){const o=t.style,n=je(r);let a=!1;if(r&&!n){if(e)if(je(e))for(const l of e.split(";")){const u=l.slice(0,l.indexOf(":")).trim();r[u]==null&&Oo(o,u,"")}else for(const l in e)r[l]==null&&Oo(o,l,"");for(const l in r)l==="display"&&(a=!0),Oo(o,l,r[l])}else if(n){if(e!==r){const l=o[yd];l&&(r+=";"+l),o.cssText=r,a=kd.test(r)}}else e&&t.removeAttribute("style");Ko in t&&(t[Ko]=a?o.display:"",t[Pl]&&(o.display="none"))}const xi=/\s*!important$/;function Oo(t,e,r){if(xe(r))r.forEach(o=>Oo(t,e,o));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const o=_d(t,e);xi.test(r)?t.setProperty(br(o),r.replace(xi,""),"important"):t[o]=r}}const yi=["Webkit","Moz","ms"],Tn={};function _d(t,e){const r=Tn[e];if(r)return r;let o=yt(e);if(o!=="filter"&&o in t)return Tn[e]=o;o=rn(o);for(let n=0;n<yi.length;n++){const a=yi[n]+o;if(a in t)return Tn[e]=a}return e}const ki="http://www.w3.org/1999/xlink";function wi(t,e,r,o,n,a=Mu(e)){o&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(ki,e.slice(6,e.length)):t.setAttributeNS(ki,e,r):r==null||a&&!va(r)?t.removeAttribute(e):t.setAttribute(e,a?"":St(r)?String(r):r)}function _i(t,e,r,o,n){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?El(r):r);return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?t.getAttribute("value")||"":t.value,c=r==null?t.type==="checkbox"?"on":"":String(r);(u!==c||!("_value"in t))&&(t.value=c),r==null&&t.removeAttribute(e),t._value=r;return}let l=!1;if(r===""||r==null){const u=typeof t[e];u==="boolean"?r=va(r):r==null&&u==="string"?(r="",l=!0):u==="number"&&(r=0,l=!0)}try{t[e]=r}catch{}l&&t.removeAttribute(n||e)}function dr(t,e,r,o){t.addEventListener(e,r,o)}function Sd(t,e,r,o){t.removeEventListener(e,r,o)}const Si=Symbol("_vei");function $d(t,e,r,o,n=null){const a=t[Si]||(t[Si]={}),l=a[e];if(o&&l)l.value=o;else{const[u,c]=Ed(e);if(o){const m=a[e]=Ad(o,n);dr(t,u,m,c)}else l&&(Sd(t,u,l,c),a[e]=void 0)}}const $i=/(?:Once|Passive|Capture)$/;function Ed(t){let e;if($i.test(t)){e={};let o;for(;o=t.match($i);)t=t.slice(0,t.length-o[0].length),e[o[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):br(t.slice(2)),e]}let Ln=0;const Cd=Promise.resolve(),Md=()=>Ln||(Cd.then(()=>Ln=0),Ln=Date.now());function Ad(t,e){const r=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=r.attached)return;$t(Id(o,r.value),e,5,[o])};return r.value=t,r.attached=Md(),r}function Id(t,e){if(xe(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(o=>n=>!n._stopped&&o&&o(n))}else return e}const Ei=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Pd=(t,e,r,o,n,a)=>{const l=n==="svg";e==="class"?xd(t,o,l):e==="style"?wd(t,r,o):Zo(e)?cs(e)||$d(t,e,r,o,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Td(t,e,o,l))?(_i(t,e,o),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&wi(t,e,o,l,a,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!je(o))?_i(t,yt(e),o,a,e):(e==="true-value"?t._trueValue=o:e==="false-value"&&(t._falseValue=o),wi(t,e,o,l))};function Td(t,e,r,o){if(o)return!!(e==="innerHTML"||e==="textContent"||e in t&&Ei(e)&&Se(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Ei(e)&&je(r)?!1:e in t}const Tl=new WeakMap,Ll=new WeakMap,Yo=Symbol("_moveCb"),Ci=Symbol("_enterCb"),Ld=t=>(delete t.props.mode,t),qd=Ld({name:"TransitionGroup",props:ze({},Ml,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=ko(),o=Xa();let n,a;return $s(()=>{if(!n.length)return;const l=t.moveClass||`${t.name||"v"}-move`;if(!Bd(n[0].el,r.vnode.el,l))return;n.forEach(Nd),n.forEach(Rd);const u=n.filter(Ud);ts(),u.forEach(c=>{const m=c.el,d=m.style;Pt(m,l),d.transform=d.webkitTransform=d.transitionDuration="";const f=m[Yo]=p=>{p&&p.target!==m||(!p||/transform$/.test(p.propertyName))&&(m.removeEventListener("transitionend",f),m[Yo]=null,zt(m,l))};m.addEventListener("transitionend",f)})}),()=>{const l=Me(t),u=Al(l);let c=l.tag||ye;if(n=[],a)for(let m=0;m<a.length;m++){const d=a[m];d.el&&d.el instanceof Element&&(n.push(d),vr(d,lo(d,u,o,r)),Tl.set(d,d.el.getBoundingClientRect()))}a=e.default?Ss(e.default()):[];for(let m=0;m<a.length;m++){const d=a[m];d.key!=null&&vr(d,lo(d,u,o,r))}return ve(c,null,a)}}}),Fd=qd;function Nd(t){const e=t.el;e[Yo]&&e[Yo](),e[Ci]&&e[Ci]()}function Rd(t){Ll.set(t,t.el.getBoundingClientRect())}function Ud(t){const e=Tl.get(t),r=Ll.get(t),o=e.left-r.left,n=e.top-r.top;if(o||n){const a=t.el.style;return a.transform=a.webkitTransform=`translate(${o}px,${n}px)`,a.transitionDuration="0s",t}}function Bd(t,e,r){const o=t.cloneNode(),n=t[Rr];n&&n.forEach(u=>{u.split(/\s+/).forEach(c=>c&&o.classList.remove(c))}),r.split(/\s+/).forEach(u=>u&&o.classList.add(u)),o.style.display="none";const a=e.nodeType===1?e:e.parentNode;a.appendChild(o);const{hasTransform:l}=Il(o);return a.removeChild(o),l}const Jo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return xe(e)?r=>Fo(e,r):e};function Od(t){t.target.composing=!0}function Mi(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const qr=Symbol("_assign"),Xo={created(t,{modifiers:{lazy:e,trim:r,number:o}},n){t[qr]=Jo(n);const a=o||n.props&&n.props.type==="number";dr(t,e?"change":"input",l=>{if(l.target.composing)return;let u=t.value;r&&(u=u.trim()),a&&(u=jn(u)),t[qr](u)}),r&&dr(t,"change",()=>{t.value=t.value.trim()}),e||(dr(t,"compositionstart",Od),dr(t,"compositionend",Mi),dr(t,"change",Mi))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:o,trim:n,number:a}},l){if(t[qr]=Jo(l),t.composing)return;const u=(a||t.type==="number")&&!/^0\d/.test(t.value)?jn(t.value):t.value,c=e??"";u!==c&&(document.activeElement===t&&t.type!=="range"&&(o&&e===r||n&&t.value.trim()===c)||(t.value=c))}},dt={deep:!0,created(t,e,r){t[qr]=Jo(r),dr(t,"change",()=>{const o=t._modelValue,n=Dd(t),a=t.checked,l=t[qr];if(xe(o)){const u=ba(o,n),c=u!==-1;if(a&&!c)l(o.concat(n));else if(!a&&c){const m=[...o];m.splice(u,1),l(m)}}else if(en(o)){const u=new Set(o);a?u.add(n):u.delete(n),l(u)}else l(ql(t,a))})},mounted:Ai,beforeUpdate(t,e,r){t[qr]=Jo(r),Ai(t,e,r)}};function Ai(t,{value:e,oldValue:r},o){t._modelValue=e;let n;if(xe(e))n=ba(e,o.props.value)>-1;else if(en(e))n=e.has(o.props.value);else{if(e===r)return;n=nn(e,ql(t,!0))}t.checked!==n&&(t.checked=n)}function Dd(t){return"_value"in t?t._value:t.value}function ql(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const Hd=["ctrl","shift","alt","meta"],jd={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Hd.some(r=>t[`${r}Key`]&&!e.includes(r))},Ls=(t,e)=>{const r=t._withMods||(t._withMods={}),o=e.join(".");return r[o]||(r[o]=(n,...a)=>{for(let l=0;l<e.length;l++){const u=jd[e[l]];if(u&&u(n,e))return}return t(n,...a)})},Qd=ze({patchProp:Pd},gd);let Ii;function Gd(){return Ii||(Ii=Uc(Qd))}const Wd=(...t)=>{const e=Gd().createApp(...t),{mount:r}=e;return e.mount=o=>{const n=zd(o);if(!n)return;const a=e._component;!Se(a)&&!a.render&&!a.template&&(a.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const l=r(n,!1,Vd(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),l},e};function Vd(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function zd(t){return je(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Mr=typeof document<"u";function Fl(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Kd(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Fl(t.default)}const Te=Object.assign;function qn(t,e){const r={};for(const o in e){const n=e[o];r[o]=Et(n)?n.map(t):t(n)}return r}const ro=()=>{},Et=Array.isArray,Nl=/#/g,Yd=/&/g,Jd=/\//g,Xd=/=/g,Zd=/\?/g,Rl=/\+/g,em=/%5B/g,tm=/%5D/g,Ul=/%5E/g,rm=/%60/g,Bl=/%7B/g,om=/%7C/g,Ol=/%7D/g,nm=/%20/g;function qs(t){return encodeURI(""+t).replace(om,"|").replace(em,"[").replace(tm,"]")}function sm(t){return qs(t).replace(Bl,"{").replace(Ol,"}").replace(Ul,"^")}function rs(t){return qs(t).replace(Rl,"%2B").replace(nm,"+").replace(Nl,"%23").replace(Yd,"%26").replace(rm,"`").replace(Bl,"{").replace(Ol,"}").replace(Ul,"^")}function im(t){return rs(t).replace(Xd,"%3D")}function am(t){return qs(t).replace(Nl,"%23").replace(Zd,"%3F")}function lm(t){return t==null?"":am(t).replace(Jd,"%2F")}function fo(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const um=/\/$/,cm=t=>t.replace(um,"");function Fn(t,e,r="/"){let o,n={},a="",l="";const u=e.indexOf("#");let c=e.indexOf("?");return u<c&&u>=0&&(c=-1),c>-1&&(o=e.slice(0,c),a=e.slice(c+1,u>-1?u:e.length),n=t(a)),u>-1&&(o=o||e.slice(0,u),l=e.slice(u,e.length)),o=pm(o??e,r),{fullPath:o+(a&&"?")+a+l,path:o,query:n,hash:fo(l)}}function dm(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function Pi(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function mm(t,e,r){const o=e.matched.length-1,n=r.matched.length-1;return o>-1&&o===n&&Ur(e.matched[o],r.matched[n])&&Dl(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Ur(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Dl(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!fm(t[r],e[r]))return!1;return!0}function fm(t,e){return Et(t)?Ti(t,e):Et(e)?Ti(e,t):t===e}function Ti(t,e){return Et(e)?t.length===e.length&&t.every((r,o)=>r===e[o]):t.length===1&&t[0]===e}function pm(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),o=t.split("/"),n=o[o.length-1];(n===".."||n===".")&&o.push("");let a=r.length-1,l,u;for(l=0;l<o.length;l++)if(u=o[l],u!==".")if(u==="..")a>1&&a--;else break;return r.slice(0,a).join("/")+"/"+o.slice(l).join("/")}const Wt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var po;(function(t){t.pop="pop",t.push="push"})(po||(po={}));var oo;(function(t){t.back="back",t.forward="forward",t.unknown=""})(oo||(oo={}));function gm(t){if(!t)if(Mr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),cm(t)}const hm=/^[^#]+#/;function vm(t,e){return t.replace(hm,"#")+e}function bm(t,e){const r=document.documentElement.getBoundingClientRect(),o=t.getBoundingClientRect();return{behavior:e.behavior,left:o.left-r.left-(e.left||0),top:o.top-r.top-(e.top||0)}}const pn=()=>({left:window.scrollX,top:window.scrollY});function xm(t){let e;if("el"in t){const r=t.el,o=typeof r=="string"&&r.startsWith("#"),n=typeof r=="string"?o?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!n)return;e=bm(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Li(t,e){return(history.state?history.state.position-e:-1)+t}const os=new Map;function ym(t,e){os.set(t,e)}function km(t){const e=os.get(t);return os.delete(t),e}let wm=()=>location.protocol+"//"+location.host;function Hl(t,e){const{pathname:r,search:o,hash:n}=e,a=t.indexOf("#");if(a>-1){let u=n.includes(t.slice(a))?t.slice(a).length:1,c=n.slice(u);return c[0]!=="/"&&(c="/"+c),Pi(c,"")}return Pi(r,t)+o+n}function _m(t,e,r,o){let n=[],a=[],l=null;const u=({state:p})=>{const g=Hl(t,location),b=r.value,x=e.value;let U=0;if(p){if(r.value=g,e.value=p,l&&l===b){l=null;return}U=x?p.position-x.position:0}else o(g);n.forEach(O=>{O(r.value,b,{delta:U,type:po.pop,direction:U?U>0?oo.forward:oo.back:oo.unknown})})};function c(){l=r.value}function m(p){n.push(p);const g=()=>{const b=n.indexOf(p);b>-1&&n.splice(b,1)};return a.push(g),g}function d(){const{history:p}=window;p.state&&p.replaceState(Te({},p.state,{scroll:pn()}),"")}function f(){for(const p of a)p();a=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:c,listen:m,destroy:f}}function qi(t,e,r,o=!1,n=!1){return{back:t,current:e,forward:r,replaced:o,position:window.history.length,scroll:n?pn():null}}function Sm(t){const{history:e,location:r}=window,o={value:Hl(t,r)},n={value:e.state};n.value||a(o.value,{back:null,current:o.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function a(c,m,d){const f=t.indexOf("#"),p=f>-1?(r.host&&document.querySelector("base")?t:t.slice(f))+c:wm()+t+c;try{e[d?"replaceState":"pushState"](m,"",p),n.value=m}catch(g){console.error(g),r[d?"replace":"assign"](p)}}function l(c,m){const d=Te({},e.state,qi(n.value.back,c,n.value.forward,!0),m,{position:n.value.position});a(c,d,!0),o.value=c}function u(c,m){const d=Te({},n.value,e.state,{forward:c,scroll:pn()});a(d.current,d,!0);const f=Te({},qi(o.value,c,null),{position:d.position+1},m);a(c,f,!1),o.value=c}return{location:o,state:n,push:u,replace:l}}function $m(t){t=gm(t);const e=Sm(t),r=_m(t,e.state,e.location,e.replace);function o(a,l=!0){l||r.pauseListeners(),history.go(a)}const n=Te({location:"",base:t,go:o,createHref:vm.bind(null,t)},e,r);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function Em(t){return typeof t=="string"||t&&typeof t=="object"}function jl(t){return typeof t=="string"||typeof t=="symbol"}const Ql=Symbol("");var Fi;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Fi||(Fi={}));function Br(t,e){return Te(new Error,{type:t,[Ql]:!0},e)}function Ut(t,e){return t instanceof Error&&Ql in t&&(e==null||!!(t.type&e))}const Ni="[^/]+?",Cm={sensitive:!1,strict:!1,start:!0,end:!0},Mm=/[.+*?^${}()[\]/\\]/g;function Am(t,e){const r=Te({},Cm,e),o=[];let n=r.start?"^":"";const a=[];for(const m of t){const d=m.length?[]:[90];r.strict&&!m.length&&(n+="/");for(let f=0;f<m.length;f++){const p=m[f];let g=40+(r.sensitive?.25:0);if(p.type===0)f||(n+="/"),n+=p.value.replace(Mm,"\\$&"),g+=40;else if(p.type===1){const{value:b,repeatable:x,optional:U,regexp:O}=p;a.push({name:b,repeatable:x,optional:U});const F=O||Ni;if(F!==Ni){g+=10;try{new RegExp(`(${F})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${b}" (${F}): `+A.message)}}let L=x?`((?:${F})(?:/(?:${F}))*)`:`(${F})`;f||(L=U&&m.length<2?`(?:/${L})`:"/"+L),U&&(L+="?"),n+=L,g+=20,U&&(g+=-8),x&&(g+=-20),F===".*"&&(g+=-50)}d.push(g)}o.push(d)}if(r.strict&&r.end){const m=o.length-1;o[m][o[m].length-1]+=.7000000000000001}r.strict||(n+="/?"),r.end?n+="$":r.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const l=new RegExp(n,r.sensitive?"":"i");function u(m){const d=m.match(l),f={};if(!d)return null;for(let p=1;p<d.length;p++){const g=d[p]||"",b=a[p-1];f[b.name]=g&&b.repeatable?g.split("/"):g}return f}function c(m){let d="",f=!1;for(const p of t){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const g of p)if(g.type===0)d+=g.value;else if(g.type===1){const{value:b,repeatable:x,optional:U}=g,O=b in m?m[b]:"";if(Et(O)&&!x)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const F=Et(O)?O.join("/"):O;if(!F)if(U)p.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${b}"`);d+=F}}return d||"/"}return{re:l,score:o,keys:a,parse:u,stringify:c}}function Im(t,e){let r=0;for(;r<t.length&&r<e.length;){const o=e[r]-t[r];if(o)return o;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Gl(t,e){let r=0;const o=t.score,n=e.score;for(;r<o.length&&r<n.length;){const a=Im(o[r],n[r]);if(a)return a;r++}if(Math.abs(n.length-o.length)===1){if(Ri(o))return 1;if(Ri(n))return-1}return n.length-o.length}function Ri(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Pm={type:0,value:""},Tm=/[a-zA-Z0-9_]/;function Lm(t){if(!t)return[[]];if(t==="/")return[[Pm]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${r})/"${m}": ${g}`)}let r=0,o=r;const n=[];let a;function l(){a&&n.push(a),a=[]}let u=0,c,m="",d="";function f(){m&&(r===0?a.push({type:0,value:m}):r===1||r===2||r===3?(a.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${m}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:m,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),m="")}function p(){m+=c}for(;u<t.length;){if(c=t[u++],c==="\\"&&r!==2){o=r,r=4;continue}switch(r){case 0:c==="/"?(m&&f(),l()):c===":"?(f(),r=1):p();break;case 4:p(),r=o;break;case 1:c==="("?r=2:Tm.test(c)?p():(f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&u--);break;case 2:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:r=3:d+=c;break;case 3:f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&u--,d="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${m}"`),f(),l(),n}function qm(t,e,r){const o=Am(Lm(t.path),r),n=Te(o,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function Fm(t,e){const r=[],o=new Map;e=Di({strict:!1,end:!0,sensitive:!1},e);function n(f){return o.get(f)}function a(f,p,g){const b=!g,x=Bi(f);x.aliasOf=g&&g.record;const U=Di(e,f),O=[x];if("alias"in f){const A=typeof f.alias=="string"?[f.alias]:f.alias;for(const M of A)O.push(Bi(Te({},x,{components:g?g.record.components:x.components,path:M,aliasOf:g?g.record:x})))}let F,L;for(const A of O){const{path:M}=A;if(p&&M[0]!=="/"){const S=p.record.path,$=S[S.length-1]==="/"?"":"/";A.path=p.record.path+(M&&$+M)}if(F=qm(A,p,U),g?g.alias.push(F):(L=L||F,L!==F&&L.alias.push(F),b&&f.name&&!Oi(F)&&l(f.name)),Wl(F)&&c(F),x.children){const S=x.children;for(let $=0;$<S.length;$++)a(S[$],F,g&&g.children[$])}g=g||F}return L?()=>{l(L)}:ro}function l(f){if(jl(f)){const p=o.get(f);p&&(o.delete(f),r.splice(r.indexOf(p),1),p.children.forEach(l),p.alias.forEach(l))}else{const p=r.indexOf(f);p>-1&&(r.splice(p,1),f.record.name&&o.delete(f.record.name),f.children.forEach(l),f.alias.forEach(l))}}function u(){return r}function c(f){const p=Um(f,r);r.splice(p,0,f),f.record.name&&!Oi(f)&&o.set(f.record.name,f)}function m(f,p){let g,b={},x,U;if("name"in f&&f.name){if(g=o.get(f.name),!g)throw Br(1,{location:f});U=g.record.name,b=Te(Ui(p.params,g.keys.filter(L=>!L.optional).concat(g.parent?g.parent.keys.filter(L=>L.optional):[]).map(L=>L.name)),f.params&&Ui(f.params,g.keys.map(L=>L.name))),x=g.stringify(b)}else if(f.path!=null)x=f.path,g=r.find(L=>L.re.test(x)),g&&(b=g.parse(x),U=g.record.name);else{if(g=p.name?o.get(p.name):r.find(L=>L.re.test(p.path)),!g)throw Br(1,{location:f,currentLocation:p});U=g.record.name,b=Te({},p.params,f.params),x=g.stringify(b)}const O=[];let F=g;for(;F;)O.unshift(F.record),F=F.parent;return{name:U,path:x,params:b,matched:O,meta:Rm(O)}}t.forEach(f=>a(f));function d(){r.length=0,o.clear()}return{addRoute:a,resolve:m,removeRoute:l,clearRoutes:d,getRoutes:u,getRecordMatcher:n}}function Ui(t,e){const r={};for(const o of e)o in t&&(r[o]=t[o]);return r}function Bi(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Nm(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Nm(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const o in t.components)e[o]=typeof r=="object"?r[o]:r;return e}function Oi(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Rm(t){return t.reduce((e,r)=>Te(e,r.meta),{})}function Di(t,e){const r={};for(const o in t)r[o]=o in e?e[o]:t[o];return r}function Um(t,e){let r=0,o=e.length;for(;r!==o;){const a=r+o>>1;Gl(t,e[a])<0?o=a:r=a+1}const n=Bm(t);return n&&(o=e.lastIndexOf(n,o-1)),o}function Bm(t){let e=t;for(;e=e.parent;)if(Wl(e)&&Gl(t,e)===0)return e}function Wl({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Om(t){const e={};if(t===""||t==="?")return e;const o=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<o.length;++n){const a=o[n].replace(Rl," "),l=a.indexOf("="),u=fo(l<0?a:a.slice(0,l)),c=l<0?null:fo(a.slice(l+1));if(u in e){let m=e[u];Et(m)||(m=e[u]=[m]),m.push(c)}else e[u]=c}return e}function Hi(t){let e="";for(let r in t){const o=t[r];if(r=im(r),o==null){o!==void 0&&(e+=(e.length?"&":"")+r);continue}(Et(o)?o.map(a=>a&&rs(a)):[o&&rs(o)]).forEach(a=>{a!==void 0&&(e+=(e.length?"&":"")+r,a!=null&&(e+="="+a))})}return e}function Dm(t){const e={};for(const r in t){const o=t[r];o!==void 0&&(e[r]=Et(o)?o.map(n=>n==null?null:""+n):o==null?o:""+o)}return e}const Hm=Symbol(""),ji=Symbol(""),gn=Symbol(""),Fs=Symbol(""),ns=Symbol("");function Vr(){let t=[];function e(o){return t.push(o),()=>{const n=t.indexOf(o);n>-1&&t.splice(n,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Zt(t,e,r,o,n,a=l=>l()){const l=o&&(o.enterCallbacks[n]=o.enterCallbacks[n]||[]);return()=>new Promise((u,c)=>{const m=p=>{p===!1?c(Br(4,{from:r,to:e})):p instanceof Error?c(p):Em(p)?c(Br(2,{from:e,to:p})):(l&&o.enterCallbacks[n]===l&&typeof p=="function"&&l.push(p),u())},d=a(()=>t.call(o&&o.instances[n],e,r,m));let f=Promise.resolve(d);t.length<3&&(f=f.then(m)),f.catch(p=>c(p))})}function Nn(t,e,r,o,n=a=>a()){const a=[];for(const l of t)for(const u in l.components){let c=l.components[u];if(!(e!=="beforeRouteEnter"&&!l.instances[u]))if(Fl(c)){const d=(c.__vccOpts||c)[e];d&&a.push(Zt(d,r,o,l,u,n))}else{let m=c();a.push(()=>m.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${u}" at "${l.path}"`);const f=Kd(d)?d.default:d;l.mods[u]=d,l.components[u]=f;const g=(f.__vccOpts||f)[e];return g&&Zt(g,r,o,l,u,n)()}))}}return a}function Qi(t){const e=ht(gn),r=ht(Fs),o=B(()=>{const c=I(t.to);return e.resolve(c)}),n=B(()=>{const{matched:c}=o.value,{length:m}=c,d=c[m-1],f=r.matched;if(!d||!f.length)return-1;const p=f.findIndex(Ur.bind(null,d));if(p>-1)return p;const g=Gi(c[m-2]);return m>1&&Gi(d)===g&&f[f.length-1].path!==g?f.findIndex(Ur.bind(null,c[m-2])):p}),a=B(()=>n.value>-1&&Vm(r.params,o.value.params)),l=B(()=>n.value>-1&&n.value===r.matched.length-1&&Dl(r.params,o.value.params));function u(c={}){if(Wm(c)){const m=e[I(t.replace)?"replace":"push"](I(t.to)).catch(ro);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>m),m}return Promise.resolve()}return{route:o,href:B(()=>o.value.href),isActive:a,isExactActive:l,navigate:u}}function jm(t){return t.length===1?t[0]:t}const Qm=we({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Qi,setup(t,{slots:e}){const r=xr(Qi(t)),{options:o}=ht(gn),n=B(()=>({[Wi(t.activeClass,o.linkActiveClass,"router-link-active")]:r.isActive,[Wi(t.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const a=e.default&&jm(e.default(r));return t.custom?a:Ts("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:n.value},a)}}}),Gm=Qm;function Wm(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Vm(t,e){for(const r in e){const o=e[r],n=t[r];if(typeof o=="string"){if(o!==n)return!1}else if(!Et(n)||n.length!==o.length||o.some((a,l)=>a!==n[l]))return!1}return!0}function Gi(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Wi=(t,e,r)=>t??e??r,zm=we({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const o=ht(ns),n=B(()=>t.route||o.value),a=ht(ji,0),l=B(()=>{let m=I(a);const{matched:d}=n.value;let f;for(;(f=d[m])&&!f.components;)m++;return m}),u=B(()=>n.value.matched[l.value]);Ro(ji,B(()=>l.value+1)),Ro(Hm,u),Ro(ns,n);const c=H();return Ee(()=>[c.value,u.value,t.name],([m,d,f],[p,g,b])=>{d&&(d.instances[f]=m,g&&g!==d&&m&&m===p&&(d.leaveGuards.size||(d.leaveGuards=g.leaveGuards),d.updateGuards.size||(d.updateGuards=g.updateGuards))),m&&d&&(!g||!Ur(d,g)||!p)&&(d.enterCallbacks[f]||[]).forEach(x=>x(m))},{flush:"post"}),()=>{const m=n.value,d=t.name,f=u.value,p=f&&f.components[d];if(!p)return Vi(r.default,{Component:p,route:m});const g=f.props[d],b=g?g===!0?m.params:typeof g=="function"?g(m):g:null,U=Ts(p,Te({},b,e,{onVnodeUnmounted:O=>{O.component.isUnmounted&&(f.instances[d]=null)},ref:c}));return Vi(r.default,{Component:U,route:m})||U}}});function Vi(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const Km=zm;function Ym(t){const e=Fm(t.routes,t),r=t.parseQuery||Om,o=t.stringifyQuery||Hi,n=t.history,a=Vr(),l=Vr(),u=Vr(),c=nt(Wt);let m=Wt;Mr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=qn.bind(null,q=>""+q),f=qn.bind(null,lm),p=qn.bind(null,fo);function g(q,V){let te,Y;return jl(q)?(te=e.getRecordMatcher(q),Y=V):Y=q,e.addRoute(Y,te)}function b(q){const V=e.getRecordMatcher(q);V&&e.removeRoute(V)}function x(){return e.getRoutes().map(q=>q.record)}function U(q){return!!e.getRecordMatcher(q)}function O(q,V){if(V=Te({},V||c.value),typeof q=="string"){const j=Fn(r,q,V.path),J=e.resolve({path:j.path},V),K=n.createHref(j.fullPath);return Te(j,J,{params:p(J.params),hash:fo(j.hash),redirectedFrom:void 0,href:K})}let te;if(q.path!=null)te=Te({},q,{path:Fn(r,q.path,V.path).path});else{const j=Te({},q.params);for(const J in j)j[J]==null&&delete j[J];te=Te({},q,{params:f(j)}),V.params=f(V.params)}const Y=e.resolve(te,V),ge=q.hash||"";Y.params=d(p(Y.params));const C=dm(o,Te({},q,{hash:sm(ge),path:Y.path})),T=n.createHref(C);return Te({fullPath:C,hash:ge,query:o===Hi?Dm(q.query):q.query||{}},Y,{redirectedFrom:void 0,href:T})}function F(q){return typeof q=="string"?Fn(r,q,c.value.path):Te({},q)}function L(q,V){if(m!==q)return Br(8,{from:V,to:q})}function A(q){return $(q)}function M(q){return A(Te(F(q),{replace:!0}))}function S(q){const V=q.matched[q.matched.length-1];if(V&&V.redirect){const{redirect:te}=V;let Y=typeof te=="function"?te(q):te;return typeof Y=="string"&&(Y=Y.includes("?")||Y.includes("#")?Y=F(Y):{path:Y},Y.params={}),Te({query:q.query,hash:q.hash,params:Y.path!=null?{}:q.params},Y)}}function $(q,V){const te=m=O(q),Y=c.value,ge=q.state,C=q.force,T=q.replace===!0,j=S(te);if(j)return $(Te(F(j),{state:typeof j=="object"?Te({},ge,j.state):ge,force:C,replace:T}),V||te);const J=te;J.redirectedFrom=V;let K;return!C&&mm(o,Y,te)&&(K=Br(16,{to:J,from:Y}),ae(Y,Y,!0,!1)),(K?Promise.resolve(K):N(J,Y)).catch(X=>Ut(X)?Ut(X,2)?X:de(X):he(X,J,Y)).then(X=>{if(X){if(Ut(X,2))return $(Te({replace:T},F(X.to),{state:typeof X.to=="object"?Te({},ge,X.to.state):ge,force:C}),V||J)}else X=h(J,Y,!0,T,ge);return P(J,Y,X),X})}function y(q,V){const te=L(q,V);return te?Promise.reject(te):Promise.resolve()}function k(q){const V=ee.values().next().value;return V&&typeof V.runWithContext=="function"?V.runWithContext(q):q()}function N(q,V){let te;const[Y,ge,C]=Jm(q,V);te=Nn(Y.reverse(),"beforeRouteLeave",q,V);for(const j of Y)j.leaveGuards.forEach(J=>{te.push(Zt(J,q,V))});const T=y.bind(null,q,V);return te.push(T),D(te).then(()=>{te=[];for(const j of a.list())te.push(Zt(j,q,V));return te.push(T),D(te)}).then(()=>{te=Nn(ge,"beforeRouteUpdate",q,V);for(const j of ge)j.updateGuards.forEach(J=>{te.push(Zt(J,q,V))});return te.push(T),D(te)}).then(()=>{te=[];for(const j of C)if(j.beforeEnter)if(Et(j.beforeEnter))for(const J of j.beforeEnter)te.push(Zt(J,q,V));else te.push(Zt(j.beforeEnter,q,V));return te.push(T),D(te)}).then(()=>(q.matched.forEach(j=>j.enterCallbacks={}),te=Nn(C,"beforeRouteEnter",q,V,k),te.push(T),D(te))).then(()=>{te=[];for(const j of l.list())te.push(Zt(j,q,V));return te.push(T),D(te)}).catch(j=>Ut(j,8)?j:Promise.reject(j))}function P(q,V,te){u.list().forEach(Y=>k(()=>Y(q,V,te)))}function h(q,V,te,Y,ge){const C=L(q,V);if(C)return C;const T=V===Wt,j=Mr?history.state:{};te&&(Y||T?n.replace(q.fullPath,Te({scroll:T&&j&&j.scroll},ge)):n.push(q.fullPath,ge)),c.value=q,ae(q,V,te,T),de()}let _;function W(){_||(_=n.listen((q,V,te)=>{if(!oe.listening)return;const Y=O(q),ge=S(Y);if(ge){$(Te(ge,{replace:!0,force:!0}),Y).catch(ro);return}m=Y;const C=c.value;Mr&&ym(Li(C.fullPath,te.delta),pn()),N(Y,C).catch(T=>Ut(T,12)?T:Ut(T,2)?($(Te(F(T.to),{force:!0}),Y).then(j=>{Ut(j,20)&&!te.delta&&te.type===po.pop&&n.go(-1,!1)}).catch(ro),Promise.reject()):(te.delta&&n.go(-te.delta,!1),he(T,Y,C))).then(T=>{T=T||h(Y,C,!1),T&&(te.delta&&!Ut(T,8)?n.go(-te.delta,!1):te.type===po.pop&&Ut(T,20)&&n.go(-1,!1)),P(Y,C,T)}).catch(ro)}))}let R=Vr(),pe=Vr(),Z;function he(q,V,te){de(q);const Y=pe.list();return Y.length?Y.forEach(ge=>ge(q,V,te)):console.error(q),Promise.reject(q)}function Ce(){return Z&&c.value!==Wt?Promise.resolve():new Promise((q,V)=>{R.add([q,V])})}function de(q){return Z||(Z=!q,W(),R.list().forEach(([V,te])=>q?te(q):V()),R.reset()),q}function ae(q,V,te,Y){const{scrollBehavior:ge}=t;if(!Mr||!ge)return Promise.resolve();const C=!te&&km(Li(q.fullPath,0))||(Y||!te)&&history.state&&history.state.scroll||null;return Dr().then(()=>ge(q,V,C)).then(T=>T&&xm(T)).catch(T=>he(T,q,V))}const se=q=>n.go(q);let Q;const ee=new Set,oe={currentRoute:c,listening:!0,addRoute:g,removeRoute:b,clearRoutes:e.clearRoutes,hasRoute:U,getRoutes:x,resolve:O,options:t,push:A,replace:M,go:se,back:()=>se(-1),forward:()=>se(1),beforeEach:a.add,beforeResolve:l.add,afterEach:u.add,onError:pe.add,isReady:Ce,install(q){const V=this;q.component("RouterLink",Gm),q.component("RouterView",Km),q.config.globalProperties.$router=V,Object.defineProperty(q.config.globalProperties,"$route",{enumerable:!0,get:()=>I(c)}),Mr&&!Q&&c.value===Wt&&(Q=!0,A(n.location).catch(ge=>{}));const te={};for(const ge in Wt)Object.defineProperty(te,ge,{get:()=>c.value[ge],enumerable:!0});q.provide(gn,V),q.provide(Fs,Ua(te)),q.provide(ns,c);const Y=q.unmount;ee.add(q),q.unmount=function(){ee.delete(q),ee.size<1&&(m=Wt,_&&_(),_=null,c.value=Wt,Q=!1,Z=!1),Y()}}};function D(q){return q.reduce((V,te)=>V.then(()=>k(te)),Promise.resolve())}return oe}function Jm(t,e){const r=[],o=[],n=[],a=Math.max(e.matched.length,t.matched.length);for(let l=0;l<a;l++){const u=e.matched[l];u&&(t.matched.find(m=>Ur(m,u))?o.push(u):r.push(u));const c=t.matched[l];c&&(e.matched.find(m=>Ur(m,c))||n.push(c))}return[r,o,n]}function Ns(){return ht(gn)}function Vl(t){return ht(Fs)}/*!
 * pinia v3.0.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let zl;const hn=t=>zl=t,Kl=Symbol();function ss(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var no;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(no||(no={}));function Xm(){const t=wa(!0),e=t.run(()=>H({}));let r=[],o=[];const n=ws({install(a){hn(n),n._a=a,a.provide(Kl,n),a.config.globalProperties.$pinia=n,o.forEach(l=>r.push(l)),o=[]},use(a){return this._a?r.push(a):o.push(a),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return n}const Yl=()=>{};function zi(t,e,r,o=Yl){t.push(e);const n=()=>{const a=t.indexOf(e);a>-1&&(t.splice(a,1),o())};return!r&&fs()&&_a(n),n}function Sr(t,...e){t.slice().forEach(r=>{r(...e)})}const Zm=t=>t(),Ki=Symbol(),Rn=Symbol();function is(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,o)=>t.set(o,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const o=e[r],n=t[r];ss(n)&&ss(o)&&t.hasOwnProperty(r)&&!Pe(o)&&!jt(o)?t[r]=is(n,o):t[r]=o}return t}const e0=Symbol();function t0(t){return!ss(t)||!t.hasOwnProperty(e0)}const{assign:Kt}=Object;function r0(t){return!!(Pe(t)&&t.effect)}function o0(t,e,r,o){const{state:n,actions:a,getters:l}=e,u=r.state.value[t];let c;function m(){u||(r.state.value[t]=n?n():{});const d=Da(r.state.value[t]);return Kt(d,a,Object.keys(l||{}).reduce((f,p)=>(f[p]=ws(B(()=>{hn(r);const g=r._s.get(t);return l[p].call(g,g)})),f),{}))}return c=Jl(t,m,e,r,o,!0),c}function Jl(t,e,r={},o,n,a){let l;const u=Kt({actions:{}},r),c={deep:!0};let m,d,f=[],p=[],g;const b=o.state.value[t];!a&&!b&&(o.state.value[t]={}),H({});let x;function U(y){let k;m=d=!1,typeof y=="function"?(y(o.state.value[t]),k={type:no.patchFunction,storeId:t,events:g}):(is(o.state.value[t],y),k={type:no.patchObject,payload:y,storeId:t,events:g});const N=x=Symbol();Dr().then(()=>{x===N&&(m=!0)}),d=!0,Sr(f,k,o.state.value[t])}const O=a?function(){const{state:k}=r,N=k?k():{};this.$patch(P=>{Kt(P,N)})}:Yl;function F(){l.stop(),f=[],p=[],o._s.delete(t)}const L=(y,k="")=>{if(Ki in y)return y[Rn]=k,y;const N=function(){hn(o);const P=Array.from(arguments),h=[],_=[];function W(Z){h.push(Z)}function R(Z){_.push(Z)}Sr(p,{args:P,name:N[Rn],store:M,after:W,onError:R});let pe;try{pe=y.apply(this&&this.$id===t?this:M,P)}catch(Z){throw Sr(_,Z),Z}return pe instanceof Promise?pe.then(Z=>(Sr(h,Z),Z)).catch(Z=>(Sr(_,Z),Promise.reject(Z))):(Sr(h,pe),pe)};return N[Ki]=!0,N[Rn]=k,N},A={_p:o,$id:t,$onAction:zi.bind(null,p),$patch:U,$reset:O,$subscribe(y,k={}){const N=zi(f,y,k.detached,()=>P()),P=l.run(()=>Ee(()=>o.state.value[t],h=>{(k.flush==="sync"?d:m)&&y({storeId:t,type:no.direct,events:g},h)},Kt({},c,k)));return N},$dispose:F},M=xr(A);o._s.set(t,M);const $=(o._a&&o._a.runWithContext||Zm)(()=>o._e.run(()=>(l=wa()).run(()=>e({action:L}))));for(const y in $){const k=$[y];if(Pe(k)&&!r0(k)||jt(k))a||(b&&t0(k)&&(Pe(k)?k.value=b[y]:is(k,b[y])),o.state.value[t][y]=k);else if(typeof k=="function"){const N=L(k,y);$[y]=N,u.actions[y]=k}}return Kt(M,$),Kt(Me(M),$),Object.defineProperty(M,"$state",{get:()=>o.state.value[t],set:y=>{U(k=>{Kt(k,y)})}}),o._p.forEach(y=>{Kt(M,l.run(()=>y({store:M,app:o._a,pinia:o,options:u})))}),b&&a&&r.hydrate&&r.hydrate(M.$state,b),m=!0,d=!0,M}/*! #__NO_SIDE_EFFECTS__ */function lt(t,e,r){let o;const n=typeof e=="function";o=n?r:e;function a(l,u){const c=Cs();return l=l||(c?ht(Kl,null):null),l&&hn(l),l=zl,l._s.has(t)||(n?Jl(t,e,o,l):o0(t,o,l)),l._s.get(t)}return a.$id=t,a}function n0(t){const e=Me(t),r={};for(const o in e){const n=e[o];n.effect?r[o]=B({get:()=>t[o],set(a){t[o]=a}}):(Pe(n)||jt(n))&&(r[o]=Zu(t,o))}return r}function s0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Un,Yi;function i0(){return Yi||(Yi=1,Un=function(t,e,r){if(t==null||e==null)return t;var o=String(t),n=typeof e=="number"?e:parseInt(e,10);if(isNaN(n)||!isFinite(n))return o;var a=o.length;if(a>=n)return o;var l=r==null?"":String(r);l===""&&(l=" ");for(var u=n-a;l.length<u;)l+=l;var c=l.length>u?l.substr(0,u):l;return o+c}),Un}var a0=i0();const Bn=s0(a0);var Ar=9e15,Po=function(){for(var t=[],e=-323;e<=308;e++)t.push(+("1e"+e));return function(r){return t[r+323]}}(),ie=function(t){return t instanceof be?t:new be(t)},ct=function(t,e){return new be().fromMantissaExponent(t,e)},mr=function(t,e){return new be().fromMantissaExponent_noNormalize(t,e)};function l0(t,e,r,o){var n=e.mul(r.pow(o));return be.floor(t.div(n).mul(r.sub(1)).add(1).log10()/r.log10())}function u0(t,e,r,o){return e.mul(r.pow(o)).mul(be.sub(1,r.pow(t))).div(be.sub(1,r))}var be=function(){function t(e){this.mantissa=NaN,this.exponent=NaN,e===void 0?(this.m=0,this.e=0):e instanceof t?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):this.fromString(e)}return Object.defineProperty(t.prototype,"m",{get:function(){return this.mantissa},set:function(e){this.mantissa=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"e",{get:function(){return this.exponent},set:function(e){this.exponent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"s",{get:function(){return this.sign()},set:function(e){if(e===0)return this.e=0,void(this.m=0);this.sgn()!==e&&(this.m=-this.m)},enumerable:!1,configurable:!0}),t.fromMantissaExponent=function(e,r){return new t().fromMantissaExponent(e,r)},t.fromMantissaExponent_noNormalize=function(e,r){return new t().fromMantissaExponent_noNormalize(e,r)},t.fromDecimal=function(e){return new t().fromDecimal(e)},t.fromNumber=function(e){return new t().fromNumber(e)},t.fromString=function(e){return new t().fromString(e)},t.fromValue=function(e){return new t().fromValue(e)},t.fromValue_noAlloc=function(e){return e instanceof t?e:new t(e)},t.abs=function(e){return ie(e).abs()},t.neg=function(e){return ie(e).neg()},t.negate=function(e){return ie(e).neg()},t.negated=function(e){return ie(e).neg()},t.sign=function(e){return ie(e).sign()},t.sgn=function(e){return ie(e).sign()},t.round=function(e){return ie(e).round()},t.floor=function(e){return ie(e).floor()},t.ceil=function(e){return ie(e).ceil()},t.trunc=function(e){return ie(e).trunc()},t.add=function(e,r){return ie(e).add(r)},t.plus=function(e,r){return ie(e).add(r)},t.sub=function(e,r){return ie(e).sub(r)},t.subtract=function(e,r){return ie(e).sub(r)},t.minus=function(e,r){return ie(e).sub(r)},t.mul=function(e,r){return ie(e).mul(r)},t.multiply=function(e,r){return ie(e).mul(r)},t.times=function(e,r){return ie(e).mul(r)},t.div=function(e,r){return ie(e).div(r)},t.divide=function(e,r){return ie(e).div(r)},t.recip=function(e){return ie(e).recip()},t.reciprocal=function(e){return ie(e).recip()},t.reciprocate=function(e){return ie(e).reciprocate()},t.cmp=function(e,r){return ie(e).cmp(r)},t.compare=function(e,r){return ie(e).cmp(r)},t.eq=function(e,r){return ie(e).eq(r)},t.equals=function(e,r){return ie(e).eq(r)},t.neq=function(e,r){return ie(e).neq(r)},t.notEquals=function(e,r){return ie(e).notEquals(r)},t.lt=function(e,r){return ie(e).lt(r)},t.lte=function(e,r){return ie(e).lte(r)},t.gt=function(e,r){return ie(e).gt(r)},t.gte=function(e,r){return ie(e).gte(r)},t.max=function(e,r){return ie(e).max(r)},t.min=function(e,r){return ie(e).min(r)},t.clamp=function(e,r,o){return ie(e).clamp(r,o)},t.clampMin=function(e,r){return ie(e).clampMin(r)},t.clampMax=function(e,r){return ie(e).clampMax(r)},t.cmp_tolerance=function(e,r,o){return ie(e).cmp_tolerance(r,o)},t.compare_tolerance=function(e,r,o){return ie(e).cmp_tolerance(r,o)},t.eq_tolerance=function(e,r,o){return ie(e).eq_tolerance(r,o)},t.equals_tolerance=function(e,r,o){return ie(e).eq_tolerance(r,o)},t.neq_tolerance=function(e,r,o){return ie(e).neq_tolerance(r,o)},t.notEquals_tolerance=function(e,r,o){return ie(e).notEquals_tolerance(r,o)},t.lt_tolerance=function(e,r,o){return ie(e).lt_tolerance(r,o)},t.lte_tolerance=function(e,r,o){return ie(e).lte_tolerance(r,o)},t.gt_tolerance=function(e,r,o){return ie(e).gt_tolerance(r,o)},t.gte_tolerance=function(e,r,o){return ie(e).gte_tolerance(r,o)},t.log10=function(e){return ie(e).log10()},t.absLog10=function(e){return ie(e).absLog10()},t.pLog10=function(e){return ie(e).pLog10()},t.log=function(e,r){return ie(e).log(r)},t.log2=function(e){return ie(e).log2()},t.ln=function(e){return ie(e).ln()},t.logarithm=function(e,r){return ie(e).logarithm(r)},t.pow10=function(e){return Number.isInteger(e)?mr(1,e):ct(Math.pow(10,e%1),Math.trunc(e))},t.pow=function(e,r){return typeof e=="number"&&e===10&&typeof r=="number"&&Number.isInteger(r)?mr(1,r):ie(e).pow(r)},t.exp=function(e){return ie(e).exp()},t.sqr=function(e){return ie(e).sqr()},t.sqrt=function(e){return ie(e).sqrt()},t.cube=function(e){return ie(e).cube()},t.cbrt=function(e){return ie(e).cbrt()},t.dp=function(e){return ie(e).dp()},t.decimalPlaces=function(e){return ie(e).dp()},t.affordGeometricSeries=function(e,r,o,n){return l0(ie(e),ie(r),ie(o),n)},t.sumGeometricSeries=function(e,r,o,n){return u0(e,ie(r),ie(o),n)},t.affordArithmeticSeries=function(e,r,o,n){return function(a,l,u,c){var m=l.add(c.mul(u)).sub(u.div(2)),d=m.pow(2);return m.neg().add(d.add(u.mul(a).mul(2)).sqrt()).div(u).floor()}(ie(e),ie(r),ie(o),ie(n))},t.sumArithmeticSeries=function(e,r,o,n){return function(a,l,u,c){var m=l.add(c.mul(u));return a.div(2).mul(m.mul(2).plus(a.sub(1).mul(u)))}(ie(e),ie(r),ie(o),ie(n))},t.efficiencyOfPurchase=function(e,r,o){return function(n,a,l){return n.div(a).add(n.div(l))}(ie(e),ie(r),ie(o))},t.randomDecimalForTesting=function(e){if(20*Math.random()<1)return mr(0,0);var r=10*Math.random();10*Math.random()<1&&(r=Math.round(r)),r*=Math.sign(2*Math.random()-1);var o=Math.floor(Math.random()*e*2)-e;return ct(r,o)},t.prototype.normalize=function(){if(this.m>=1&&this.m<10)return this;if(this.m===0)return this.m=0,this.e=0,this;var e=Math.floor(Math.log10(Math.abs(this.m)));return this.m=e===-324?10*this.m/1e-323:this.m/Po(e),this.e+=e,this},t.prototype.fromMantissaExponent=function(e,r){return isFinite(e)&&isFinite(r)?(this.m=e,this.e=r,this.normalize(),this):(e=Number.NaN,r=Number.NaN,this)},t.prototype.fromMantissaExponent_noNormalize=function(e,r){return this.m=e,this.e=r,this},t.prototype.fromDecimal=function(e){return this.m=e.m,this.e=e.e,this},t.prototype.fromNumber=function(e){return isNaN(e)?(this.m=Number.NaN,this.e=Number.NaN):e===Number.POSITIVE_INFINITY?(this.m=1,this.e=Ar):e===Number.NEGATIVE_INFINITY?(this.m=-1,this.e=Ar):e===0?(this.m=0,this.e=0):(this.e=Math.floor(Math.log10(Math.abs(e))),this.m=this.e===-324?10*e/1e-323:e/Po(this.e),this.normalize()),this},t.prototype.fromString=function(e){if(e.indexOf("e")!==-1){var r=e.split("e");this.m=parseFloat(r[0]),this.e=parseFloat(r[1]),this.normalize()}else if(e==="NaN")this.m=Number.NaN,this.e=Number.NaN;else if(this.fromNumber(parseFloat(e)),isNaN(this.m))throw Error("[DecimalError] Invalid argument: "+e);return this},t.prototype.fromValue=function(e){return e instanceof t?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):typeof e=="string"?this.fromString(e):(this.m=0,this.e=0,this)},t.prototype.toNumber=function(){if(!isFinite(this.e))return Number.NaN;if(this.e>308)return this.m>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;if(this.e<-324)return 0;if(this.e===-324)return this.m>0?5e-324:-5e-324;var e=this.m*Po(this.e);if(!isFinite(e)||this.e<0)return e;var r=Math.round(e);return Math.abs(r-e)<1e-10?r:e},t.prototype.mantissaWithDecimalPlaces=function(e){if(isNaN(this.m)||isNaN(this.e))return Number.NaN;if(this.m===0)return 0;var r=e+1,o=Math.ceil(Math.log10(Math.abs(this.m))),n=Math.round(this.m*Math.pow(10,r-o))*Math.pow(10,o-r);return parseFloat(n.toFixed(Math.max(r-o,0)))},t.prototype.toString=function(){return isNaN(this.m)||isNaN(this.e)?"NaN":this.e>=Ar?this.m>0?"Infinity":"-Infinity":this.e<=-9e15||this.m===0?"0":this.e<21&&this.e>-7?this.toNumber().toString():this.m+"e"+(this.e>=0?"+":"")+this.e},t.prototype.toExponential=function(e){if(isNaN(this.m)||isNaN(this.e))return"NaN";if(this.e>=Ar)return this.m>0?"Infinity":"-Infinity";if(this.e<=-9e15||this.m===0)return"0"+(e>0?Bn(".",e+1,"0"):"")+"e+0";if(this.e>-324&&this.e<308)return this.toNumber().toExponential(e);isFinite(e)||(e=17);var r=e+1,o=Math.max(1,Math.ceil(Math.log10(Math.abs(this.m))));return(Math.round(this.m*Math.pow(10,r-o))*Math.pow(10,o-r)).toFixed(Math.max(r-o,0))+"e"+(this.e>=0?"+":"")+this.e},t.prototype.toFixed=function(e){return isNaN(this.m)||isNaN(this.e)?"NaN":this.e>=Ar?this.m>0?"Infinity":"-Infinity":this.e<=-9e15||this.m===0?"0"+(e>0?Bn(".",e+1,"0"):""):this.e>=17?this.m.toString().replace(".","").padEnd(this.e+1,"0")+(e>0?Bn(".",e+1,"0"):""):this.toNumber().toFixed(e)},t.prototype.toPrecision=function(e){return this.e<=-7?this.toExponential(e-1):e>this.e?this.toFixed(e-this.e-1):this.toExponential(e-1)},t.prototype.valueOf=function(){return this.toString()},t.prototype.toJSON=function(){return this.toString()},t.prototype.toStringWithDecimalPlaces=function(e){return this.toExponential(e)},t.prototype.abs=function(){return mr(Math.abs(this.m),this.e)},t.prototype.neg=function(){return mr(-this.m,this.e)},t.prototype.negate=function(){return this.neg()},t.prototype.negated=function(){return this.neg()},t.prototype.sign=function(){return Math.sign(this.m)},t.prototype.sgn=function(){return this.sign()},t.prototype.round=function(){return this.e<-1?new t(0):this.e<17?new t(Math.round(this.toNumber())):this},t.prototype.floor=function(){return this.e<-1?Math.sign(this.m)>=0?new t(0):new t(-1):this.e<17?new t(Math.floor(this.toNumber())):this},t.prototype.ceil=function(){return this.e<-1?Math.sign(this.m)>0?new t(1):new t(0):this.e<17?new t(Math.ceil(this.toNumber())):this},t.prototype.trunc=function(){return this.e<0?new t(0):this.e<17?new t(Math.trunc(this.toNumber())):this},t.prototype.add=function(e){var r,o,n=ie(e);if(this.m===0)return n;if(n.m===0)return this;if(this.e>=n.e?(r=this,o=n):(r=n,o=this),r.e-o.e>17)return r;var a=Math.round(1e14*r.m+1e14*o.m*Po(o.e-r.e));return ct(a,r.e-14)},t.prototype.plus=function(e){return this.add(e)},t.prototype.sub=function(e){return this.add(ie(e).neg())},t.prototype.subtract=function(e){return this.sub(e)},t.prototype.minus=function(e){return this.sub(e)},t.prototype.mul=function(e){if(typeof e=="number")return e<1e307&&e>-1e307?ct(this.m*e,this.e):ct(1e-307*this.m*e,this.e+307);var r=typeof e=="string"?new t(e):e;return ct(this.m*r.m,this.e+r.e)},t.prototype.multiply=function(e){return this.mul(e)},t.prototype.times=function(e){return this.mul(e)},t.prototype.div=function(e){return this.mul(ie(e).recip())},t.prototype.divide=function(e){return this.div(e)},t.prototype.divideBy=function(e){return this.div(e)},t.prototype.dividedBy=function(e){return this.div(e)},t.prototype.recip=function(){return ct(1/this.m,-this.e)},t.prototype.reciprocal=function(){return this.recip()},t.prototype.reciprocate=function(){return this.recip()},t.prototype.cmp=function(e){var r=ie(e);if(this.m===0){if(r.m===0)return 0;if(r.m<0)return 1;if(r.m>0)return-1}if(r.m===0){if(this.m<0)return-1;if(this.m>0)return 1}if(this.m>0)return r.m<0||this.e>r.e?1:this.e<r.e?-1:this.m>r.m?1:this.m<r.m?-1:0;if(this.m<0)return r.m>0||this.e>r.e?-1:this.e<r.e||this.m>r.m?1:this.m<r.m?-1:0;throw Error("Unreachable code")},t.prototype.compare=function(e){return this.cmp(e)},t.prototype.eq=function(e){var r=ie(e);return this.e===r.e&&this.m===r.m},t.prototype.equals=function(e){return this.eq(e)},t.prototype.neq=function(e){return!this.eq(e)},t.prototype.notEquals=function(e){return this.neq(e)},t.prototype.lt=function(e){var r=ie(e);return this.m===0?r.m>0:r.m===0?this.m<=0:this.e===r.e?this.m<r.m:this.m>0?r.m>0&&this.e<r.e:r.m>0||this.e>r.e},t.prototype.lte=function(e){return!this.gt(e)},t.prototype.gt=function(e){var r=ie(e);return this.m===0?r.m<0:r.m===0?this.m>0:this.e===r.e?this.m>r.m:this.m>0?r.m<0||this.e>r.e:r.m<0&&this.e<r.e},t.prototype.gte=function(e){return!this.lt(e)},t.prototype.max=function(e){var r=ie(e);return this.lt(r)?r:this},t.prototype.min=function(e){var r=ie(e);return this.gt(r)?r:this},t.prototype.clamp=function(e,r){return this.max(e).min(r)},t.prototype.clampMin=function(e){return this.max(e)},t.prototype.clampMax=function(e){return this.min(e)},t.prototype.cmp_tolerance=function(e,r){var o=ie(e);return this.eq_tolerance(o,r)?0:this.cmp(o)},t.prototype.compare_tolerance=function(e,r){return this.cmp_tolerance(e,r)},t.prototype.eq_tolerance=function(e,r){var o=ie(e);return t.lte(this.sub(o).abs(),t.max(this.abs(),o.abs()).mul(r))},t.prototype.equals_tolerance=function(e,r){return this.eq_tolerance(e,r)},t.prototype.neq_tolerance=function(e,r){return!this.eq_tolerance(e,r)},t.prototype.notEquals_tolerance=function(e,r){return this.neq_tolerance(e,r)},t.prototype.lt_tolerance=function(e,r){var o=ie(e);return!this.eq_tolerance(o,r)&&this.lt(o)},t.prototype.lte_tolerance=function(e,r){var o=ie(e);return this.eq_tolerance(o,r)||this.lt(o)},t.prototype.gt_tolerance=function(e,r){var o=ie(e);return!this.eq_tolerance(o,r)&&this.gt(o)},t.prototype.gte_tolerance=function(e,r){var o=ie(e);return this.eq_tolerance(o,r)||this.gt(o)},t.prototype.log10=function(){return this.e+Math.log10(this.m)},t.prototype.absLog10=function(){return this.e+Math.log10(Math.abs(this.m))},t.prototype.pLog10=function(){return this.m<=0||this.e<0?0:this.log10()},t.prototype.log=function(e){return Math.LN10/Math.log(e)*this.log10()},t.prototype.log2=function(){return 3.321928094887362*this.log10()},t.prototype.ln=function(){return 2.302585092994045*this.log10()},t.prototype.logarithm=function(e){return this.log(e)},t.prototype.pow=function(e){var r,o=e instanceof t?e.toNumber():e,n=this.e*o;if(Number.isSafeInteger(n)&&(r=Math.pow(this.m,o),isFinite(r)&&r!==0))return ct(r,n);var a=Math.trunc(n),l=n-a;if(r=Math.pow(10,o*Math.log10(this.m)+l),isFinite(r)&&r!==0)return ct(r,a);var u=t.pow10(o*this.absLog10());return this.sign()===-1?Math.abs(o%2)===1?u.neg():Math.abs(o%2)===0?u:new t(Number.NaN):u},t.prototype.pow_base=function(e){return ie(e).pow(this)},t.prototype.factorial=function(){var e=this.toNumber()+1;return t.pow(e/Math.E*Math.sqrt(e*Math.sinh(1/e)+1/(810*Math.pow(e,6))),e).mul(Math.sqrt(2*Math.PI/e))},t.prototype.exp=function(){var e=this.toNumber();return-706<e&&e<709?t.fromNumber(Math.exp(e)):t.pow(Math.E,e)},t.prototype.sqr=function(){return ct(Math.pow(this.m,2),2*this.e)},t.prototype.sqrt=function(){return this.m<0?new t(Number.NaN):this.e%2!=0?ct(3.16227766016838*Math.sqrt(this.m),Math.floor(this.e/2)):ct(Math.sqrt(this.m),Math.floor(this.e/2))},t.prototype.cube=function(){return ct(Math.pow(this.m,3),3*this.e)},t.prototype.cbrt=function(){var e=1,r=this.m;r<0&&(e=-1,r=-r);var o=e*Math.pow(r,1/3),n=this.e%3;return ct(n===1||n===-1?2.154434690031883*o:n!==0?4.641588833612778*o:o,Math.floor(this.e/3))},t.prototype.sinh=function(){return this.exp().sub(this.negate().exp()).div(2)},t.prototype.cosh=function(){return this.exp().add(this.negate().exp()).div(2)},t.prototype.tanh=function(){return this.sinh().div(this.cosh())},t.prototype.asinh=function(){return t.ln(this.add(this.sqr().add(1).sqrt()))},t.prototype.acosh=function(){return t.ln(this.add(this.sqr().sub(1).sqrt()))},t.prototype.atanh=function(){return this.abs().gte(1)?Number.NaN:t.ln(this.add(1).div(new t(1).sub(this)))/2},t.prototype.ascensionPenalty=function(e){return e===0?this:this.pow(Math.pow(10,-e))},t.prototype.egg=function(){return this.add(9)},t.prototype.lessThanOrEqualTo=function(e){return this.cmp(e)<1},t.prototype.lessThan=function(e){return this.cmp(e)<0},t.prototype.greaterThanOrEqualTo=function(e){return this.cmp(e)>-1},t.prototype.greaterThan=function(e){return this.cmp(e)>0},t.prototype.decimalPlaces=function(){return this.dp()},t.prototype.dp=function(){if(!isFinite(this.mantissa))return NaN;if(this.exponent>=17)return 0;for(var e=this.mantissa,r=-this.exponent,o=1;Math.abs(Math.round(e*o)/o-e)>1e-10;)o*=10,r++;return r>0?r:0},Object.defineProperty(t,"MAX_VALUE",{get:function(){return c0},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MIN_VALUE",{get:function(){return d0},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NUMBER_MAX_VALUE",{get:function(){return m0},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NUMBER_MIN_VALUE",{get:function(){return f0},enumerable:!1,configurable:!0}),t}(),c0=mr(1,Ar),d0=mr(1,-9e15),m0=ie(Number.MAX_VALUE),f0=ie(Number.MIN_VALUE);function i(t){return new be(t)}function re(t,e=2){if(!t)return"0";try{if(t.eq(t).toString()==="false")return"0"}catch{return"0"}if(t.eq(0)||t.lt(.01))return"0";if(t.lt(1e3)){const r=t.toFixed(e);return r.includes(".")?r.replace(/\.?0+$/,""):r}else return t.lt(1e6)?`${t.div(1e3).toFixed(e)}K`:t.lt(1e9)?`${t.div(1e6).toFixed(e)}M`:t.lt(1e12)?`${t.div(1e9).toFixed(e)}B`:t.lt(1e15)?`${t.div(1e12).toFixed(e)}T`:t.lt(1e18)?`${t.div(1e15).toFixed(e)}Qa`:t.lt(1e21)?`${t.div(1e18).toFixed(e)}Qi`:t.lt(1e24)?`${t.div(1e21).toFixed(e)}Sx`:t.lt(1e27)?`${t.div(1e24).toFixed(e)}Sp`:t.toExponential(e)}function p0(t){const e=t,r=i(3),o=i(1.065).add(i(.004).mul(e)),n=e,a=e.sub(999).max(0).div(1e3),l=n.mul(i(1).add(a));return r.mul(o.pow(l))}function g0(t){const e=t,r=i(2e3),o=i(2.9).add(i(.3).mul(e)),n=e,a=e.sub(199).max(0).div(500),l=n.mul(i(1).add(a));return r.mul(o.pow(l))}function h0(t){const e=t,r=i(1e8),o=i(20).add(i(10).mul(e)),n=e,a=e.sub(99).max(0).div(i(1e3).div(3)),l=n.mul(i(1).add(a));return r.mul(o.pow(l))}function v0(t){const e=t,r=i(4e18),o=i(50).add(i(30).mul(e)),n=e,a=e.sub(74).max(0).div(200),l=n.mul(i(1).add(a));return r.mul(o.pow(l))}function b0(t){const e=t,r=i("5e46"),o=i(220).add(i(80).mul(e)),n=e,a=e.sub(49).max(0).div(200),l=n.mul(i(1).add(a));return r.mul(o.pow(l))}function x0(t){const e=t,r=i("6e200"),o=i("6e5").add(i("6e5").mul(e)),n=e,a=e.div(i(500).div(3)),l=n.mul(i(1).add(a));return r.mul(o.pow(l))}function y0(t){const e=t,r=i("7e500"),o=i("7e7").add(i("7e7").mul(e)),n=e,a=e.div(50),l=n.mul(i(1).add(a));return r.mul(o.pow(l))}function k0(t,e){switch(t){case 1:return p0(e);case 2:return g0(e);case 3:return h0(e);case 4:return v0(e);case 5:return b0(e);case 6:return x0(e);case 7:return y0(e);default:return i(10).mul(i(1.1).pow(e))}}function mt(t){const e=typeof t=="number"?new be(t):t;return e.lt(1e3)?`${e.toFixed(2)}%`:e.lt(1e6)?`${e.div(1e3).toFixed(2)}K%`:e.lt(1e9)?`${e.div(1e6).toFixed(2)}M%`:e.lt(1e12)?`${e.div(1e9).toFixed(2)}B%`:e.lt(1e15)?`${e.div(1e12).toFixed(2)}T%`:`${e.toExponential(2)}%`}const w0=[{id:"workerEfficiency",generatorId:"worker",name:"Worker Efficiency",description:"Increases food production of worker ants",cost:i(1),level:i(0),maxLevel:i(10),effect:t=>i(1).add(t.mul(.2)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased food production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"workerTraining",generatorId:"worker",name:"Worker Training",description:"Decreases the cost of worker ants",cost:i(1),level:i(0),maxLevel:i(5),effect:t=>i(1).sub(t.mul(.05)),formatEffect:t=>`${i(1).sub(t).mul(100).toFixed(0)}% decreased worker cost`,icon:"i-heroicons-academic-cap",unlocked:!0},{id:"workerForaging",generatorId:"worker",name:"Advanced Foraging",description:"Workers find higher quality food sources",cost:i(2),level:i(0),maxLevel:i(8),effect:t=>i(1).add(t.mul(.15)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased food quality`,icon:"i-heroicons-map",unlocked:!0},{id:"workerEndurance",generatorId:"worker",name:"Worker Endurance",description:"Workers can carry more food per trip",cost:i(2),level:i(0),maxLevel:i(7),effect:t=>i(1).add(t.mul(.1)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased carrying capacity`,icon:"i-heroicons-battery-100",unlocked:!0},{id:"workerBase",generatorId:"worker",name:"Worker Base",description:"Increases base food production of workers by 10",cost:i(2),level:i(0),maxLevel:i(7),formatEffect:t=>`+${t.mul(10).toFixed(0)} base food production`,icon:"i-heroicons-building-storefront",unlocked:!0},{id:"nurseryEfficiency",generatorId:"nursery",name:"Nursery Efficiency",description:"Increases worker ant production of nurseries",cost:i(1),level:i(0),maxLevel:i(10),effect:t=>i(1).add(t.mul(.2)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased worker production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"nurseryExpansion",generatorId:"nursery",name:"Nursery Expansion",description:"Decreases the cost of nurseries",cost:i(1),level:i(0),maxLevel:i(5),effect:t=>i(1).sub(t.mul(.05)),formatEffect:t=>`${i(1).sub(t).mul(100).toFixed(0)}% decreased nursery cost`,icon:"i-heroicons-home",unlocked:!0},{id:"nurseryNutrition",generatorId:"nursery",name:"Larval Nutrition",description:"Better nutrition leads to faster worker development",cost:i(2),level:i(0),maxLevel:i(8),effect:t=>i(1).add(t.mul(.12)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% faster worker development`,icon:"i-heroicons-beaker",unlocked:!0},{id:"nurseryCapacity",generatorId:"nursery",name:"Nursery Capacity",description:"Nurseries can care for more larvae simultaneously",cost:i(2),level:i(0),maxLevel:i(6),effect:t=>i(1).add(t.mul(.15)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased larvae capacity`,icon:"i-heroicons-cube",unlocked:!0},{id:"nurseryBase",generatorId:"nursery",name:"Nursery Base",description:"Increases base worker production of nurseries by 1",cost:i(2),level:i(0),maxLevel:i(7),formatEffect:t=>`+${t.toFixed(0)} base worker production`,icon:"i-heroicons-building-storefront",unlocked:!0},{id:"queenChamberEfficiency",generatorId:"queenChamber",name:"Queen Efficiency",description:"Increases nursery production of queen chambers",cost:i(1),level:i(0),maxLevel:i(10),effect:t=>i(1).add(t.mul(.2)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased nursery production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"queenChamberLongevity",generatorId:"queenChamber",name:"Queen Longevity",description:"Decreases the cost of queen chambers",cost:i(1),level:i(0),maxLevel:i(5),effect:t=>i(1).sub(t.mul(.05)),formatEffect:t=>`${i(1).sub(t).mul(100).toFixed(0)}% decreased queen chamber cost`,icon:"i-heroicons-clock",unlocked:!0},{id:"queenChamberFertility",generatorId:"queenChamber",name:"Queen Fertility",description:"Queen chambers occasionally create new queens",cost:i(3),level:i(0),maxLevel:i(5),effect:t=>i(t.mul(.005)),formatEffect:t=>`${t.mul(100).toFixed(1)}% chance to generate a free queen chamber per tick`,icon:"i-heroicons-heart",unlocked:!0},{id:"queenChamberRoyalJelly",generatorId:"queenChamber",name:"Royal Jelly",description:"Special food increases queen egg production",cost:i(2),level:i(0),maxLevel:i(7),effect:t=>i(1).add(t.mul(.15)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased egg production`,icon:"i-heroicons-fire",unlocked:!0},{id:"queenChamberGuards",generatorId:"queenChamber",name:"Royal Guards",description:"Special guards protect the queen, increasing productivity",cost:i(2),level:i(0),maxLevel:i(6),effect:t=>i(1).add(t.mul(.1)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased productivity`,icon:"i-heroicons-shield-check",unlocked:!0},{id:"queenChamberEvolution",generatorId:"queenChamber",name:"Royal Evolution",description:"Queens enhance evolution potential, increasing EP gain by 0.05% per level per manual purchase of queen chamber per evolution done",cost:i(3),level:i(0),maxLevel:i(5),effect:t=>i(t.mul(5e-4)),formatEffect:t=>`+${t.mul(100).toFixed(3)}% EP gain per queen chamber per evolution`,icon:"i-heroicons-sparkles",unlocked:!0},{id:"queenChamberBase",generatorId:"queenChamber",name:"Queen Chamber Base",description:"Increases base nursery production of queen chambers by 1",cost:i(2),level:i(0),maxLevel:i(7),formatEffect:t=>`+${t.toFixed(0)} base nursery production`,icon:"i-heroicons-building-storefront",unlocked:!0},{id:"colonyEfficiency",generatorId:"colony",name:"Colony Efficiency",description:"Increases queen chamber production of colonies",cost:i(1),level:i(0),maxLevel:i(10),effect:t=>i(1).add(t.mul(.2)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased queen chamber production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"colonyExpansion",generatorId:"colony",name:"Colony Expansion",description:"Decreases the cost of colonies",cost:i(1),level:i(0),maxLevel:i(5),effect:t=>i(1).sub(t.mul(.05)),formatEffect:t=>`${i(1).sub(t).mul(100).toFixed(0)}% decreased colony cost`,icon:"i-heroicons-building-office-2",unlocked:!0},{id:"colonyOrganization",generatorId:"colony",name:"Colony Organization",description:"Better organization leads to increased productivity",cost:i(2),level:i(0),maxLevel:i(8),effect:t=>i(1).add(t.mul(.15)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased productivity`,icon:"i-heroicons-squares-2x2",unlocked:!0},{id:"colonyInfrastructure",generatorId:"colony",name:"Colony Infrastructure",description:"Improved tunnels and chambers increase overall efficiency",cost:i(2),level:i(0),maxLevel:i(7),effect:t=>i(1).add(t.mul(.12)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased efficiency`,icon:"i-heroicons-cube-transparent",unlocked:!0},{id:"colonyBase",generatorId:"colony",name:"Colony Base",description:"Increases base queen chamber production of colonies by 1",cost:i(2),level:i(0),maxLevel:i(7),formatEffect:t=>`+${t.toFixed(0)} base queen chamber production`,icon:"i-heroicons-building-storefront",unlocked:!0},{id:"megacolonyEfficiency",generatorId:"megacolony",name:"Megacolony Efficiency",description:"Increases colony production of megacolonies",cost:i(1),level:i(0),maxLevel:i(10),effect:t=>i(1).add(t.mul(.2)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased colony production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"megacolonyExpansion",generatorId:"megacolony",name:"Megacolony Expansion",description:"Decreases the cost of megacolonies",cost:i(1),level:i(0),maxLevel:i(5),effect:t=>i(1).sub(t.mul(.05)),formatEffect:t=>`${i(1).sub(t).mul(100).toFixed(0)}% decreased megacolony cost`,icon:"i-heroicons-building-office",unlocked:!0},{id:"megacolonyNetworking",generatorId:"megacolony",name:"Colony Networking",description:"Enhanced communication between colonies increases production",cost:i(2),level:i(0),maxLevel:i(8),effect:t=>i(1).add(t.mul(.15)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased production`,icon:"i-heroicons-share",unlocked:!0},{id:"megacolonyTerritory",generatorId:"megacolony",name:"Territory Control",description:"Better territory management improves resource gathering",cost:i(2),level:i(0),maxLevel:i(7),effect:t=>i(1).add(t.mul(.12)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% improved resource gathering`,icon:"i-heroicons-map",unlocked:!0},{id:"megacolonyBase",generatorId:"megacolony",name:"Megacolony Base",description:"Increases base colony production of megacolonies by 1",cost:i(2),level:i(0),maxLevel:i(7),formatEffect:t=>`+${t.toFixed(0)} base colony production`,icon:"i-heroicons-building-storefront",unlocked:!0},{id:"hivemindEfficiency",generatorId:"hivemind",name:"Hivemind Efficiency",description:"Increases megacolony production of hiveminds",cost:i(1),level:i(0),maxLevel:i(10),effect:t=>i(1).add(t.mul(.2)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased megacolony production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"hivemindExpansion",generatorId:"hivemind",name:"Hivemind Expansion",description:"Decreases the cost of hiveminds",cost:i(1),level:i(0),maxLevel:i(5),effect:t=>i(1).sub(t.mul(.05)),formatEffect:t=>`${i(1).sub(t).mul(100).toFixed(0)}% decreased hivemind cost`,icon:"i-heroicons-globe-americas",unlocked:!0},{id:"hivemindSynergy",generatorId:"hivemind",name:"Collective Synergy",description:"Enhanced collective consciousness improves coordination",cost:i(2),level:i(0),maxLevel:i(8),effect:t=>i(1).add(t.mul(.15)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% improved coordination`,icon:"i-heroicons-cpu-chip",unlocked:!0},{id:"hivemindIntelligence",generatorId:"hivemind",name:"Collective Intelligence",description:"Increased cognitive capacity improves decision making",cost:i(2),level:i(0),maxLevel:i(7),effect:t=>i(1).add(t.mul(.12)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% improved decision making`,icon:"i-heroicons-brain",unlocked:!0},{id:"hivemindBase",generatorId:"hivemind",name:"Hivemind Base",description:"Increases base megacolony production of hiveminds by 1",cost:i(2),level:i(0),maxLevel:i(7),formatEffect:t=>`+${t.toFixed(0)} base megacolony production`,icon:"i-heroicons-building-storefront",unlocked:!0},{id:"antopolisEfficiency",generatorId:"antopolis",name:"Antopolis Efficiency",description:"Increases hivemind production of antopolis",cost:i(1),level:i(0),maxLevel:i(10),effect:t=>i(1).add(t.mul(.2)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased hivemind production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"antopolisExpansion",generatorId:"antopolis",name:"Antopolis Expansion",description:"Decreases the cost of antopolis",cost:i(1),level:i(0),maxLevel:i(5),effect:t=>i(1).sub(t.mul(.05)),formatEffect:t=>`${i(1).sub(t).mul(100).toFixed(0)}% decreased antopolis cost`,icon:"i-heroicons-building-library",unlocked:!0},{id:"antopolisInnovation",generatorId:"antopolis",name:"Technological Innovation",description:"Advanced technology increases overall productivity",cost:i(2),level:i(0),maxLevel:i(8),effect:t=>i(1).add(t.mul(.15)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% increased productivity`,icon:"i-heroicons-light-bulb",unlocked:!0},{id:"antopolisCivilization",generatorId:"antopolis",name:"Ant Civilization",description:"Cultural and social advances improve efficiency",cost:i(2),level:i(0),maxLevel:i(7),effect:t=>i(1).add(t.mul(.12)),formatEffect:t=>`${t.sub(1).mul(100).toFixed(0)}% improved efficiency`,icon:"i-heroicons-academic-cap",unlocked:!0},{id:"antopolisBase",generatorId:"antopolis",name:"Antopolis Base",description:"Increases base hivemind production of antopolis by 1",cost:i(2),level:i(0),maxLevel:i(7),formatEffect:t=>`+${t.toFixed(0)} base hivemind production`,icon:"i-heroicons-building-storefront",unlocked:!0}],at=lt("generatorUpgrade",()=>{const t=H({worker:i(1),nursery:i(1),queenChamber:i(1),colony:i(1),megacolony:i(1),hivemind:i(1),antopolis:i(1)}),e=H({worker:i(0),nursery:i(0),queenChamber:i(0),colony:i(0),megacolony:i(0),hivemind:i(0),antopolis:i(0)}),r=H({worker:i(0),nursery:i(0),queenChamber:i(0),colony:i(0),megacolony:i(0),hivemind:i(0),antopolis:i(0)}),o=(N,P)=>{let h,_;switch(N){case"worker":h=i(5),_=1.5;break;case"nursery":return h=i(1e3),_=1.1,i(h).mul(i(2).pow(i(P).pow(2).div(2)));case"queenChamber":h=i(10),_=1.3;break;case"colony":h=i(5),_=1.2;break;default:h=i(100),_=1.5}return h.mul(P.pow(_))},n=H(w0),a=N=>n.value.filter(P=>P.generatorId===N),l=N=>n.value.find(P=>P.id===N),u=N=>{var h;const P=l(N);return P?((h=P==null?void 0:P.effect)==null?void 0:h.call(P,P.level))??i(1):i(1)},c=N=>{const P=n.value.filter(_=>_.generatorId===N),h={};return P.forEach(_=>{var W;h[_.id]=((W=_.effect)==null?void 0:W.call(_,_.level))??i(1)}),h},m=(N,P)=>{if(t.value[N].eq(0))return;r.value[N]=r.value[N].add(P);const h=t.value[N],_=o(N,h);r.value[N].gte(_)&&(t.value[N]=t.value[N].add(1),r.value[N]=r.value[N].sub(_),e.value[N]=e.value[N].add(1))},d=N=>{m("worker",i(N))},f=N=>{m("nursery",N)},p=N=>{m("queenChamber",i(N))},g=N=>{m("colony",i(N))},b=N=>{m("megacolony",i(N))},x=N=>{m("hivemind",i(N))},U=N=>{m("antopolis",i(N))},O=N=>{var h;const P=l(N);return!P||P.maxLevel!==null&&P.level.gte(P.maxLevel)||e.value[P.generatorId].lt(P.cost)?!1:(e.value[P.generatorId]=e.value[P.generatorId].sub(P.cost),P.level=P.level.add(1),g(1),(h=P.apply)==null||h.call(P),!0)},F=()=>({generatorLevels:Object.entries(t.value).reduce((N,[P,h])=>(L(P)&&(N[P]=h.toString()),N),{}),generatorPoints:Object.entries(e.value).reduce((N,[P,h])=>(L(P)&&(N[P]=h.toString()),N),{}),levelProgress:Object.entries(r.value).reduce((N,[P,h])=>(L(P)&&(N[P]=h.toString()),N),{}),upgrades:n.value.map(N=>({id:N.id,level:N.level.toString()}))}),L=N=>["worker","nursery","queenChamber","colony","megacolony","hivemind","antopolis"].includes(N);return{generatorLevels:t,generatorPoints:e,levelProgress:r,generatorUpgrades:n,getUpgradesForGenerator:a,getUpgrade:l,getUpgradeMultiplier:u,getMultipliersForGenerator:c,updateWorkerProgress:d,updateNurseryProgress:f,updateQueenChamberProgress:p,updateColonyProgress:g,updateMegacolonyProgress:b,updateHivemindProgress:x,updateAntopolisProgress:U,purchaseUpgrade:O,resetProgress:()=>{const N=Object.keys(t.value).filter(L);N.forEach(P=>{t.value[P]=i(1)}),N.forEach(P=>{e.value[P]=i(0)}),N.forEach(P=>{r.value[P]=i(0)}),n.value.forEach(P=>{P.level=i(0)})},formatLevel:N=>re(t.value[N],0),formatPoints:N=>re(e.value[N],0),formatProgressPercentage:N=>{const P=t.value[N],h=o(N,P),W=r.value[N].div(h).mul(100).toNumber();return Math.min(100,Math.round(W))},formatNextLevelRequirement:N=>{const P=t.value[N],h=o(N,P);return re(h,0)},getState:F,loadState:N=>{N.generatorLevels&&Object.entries(N.generatorLevels).forEach(([P,h])=>{L(P)&&(typeof h=="string"||typeof h=="number")&&(t.value[P]=i(h))}),N.generatorPoints&&Object.entries(N.generatorPoints).forEach(([P,h])=>{L(P)&&(typeof h=="string"||typeof h=="number")&&(e.value[P]=i(h))}),N.levelProgress&&Object.entries(N.levelProgress).forEach(([P,h])=>{L(P)&&(typeof h=="string"||typeof h=="number")&&(r.value[P]=i(h))}),N.upgrades&&Array.isArray(N.upgrades)&&N.upgrades.forEach(P=>{const h=l(P.id);h&&P.level&&(typeof P.level=="string"||typeof P.level=="number")&&(h.level=i(P.level))})}}}),Xl={training_sword:{id:"training_sword",name:"Training Sword",description:"A basic sword for training. Better than nothing!",type:"equipment",rarity:"common",stats:{damage:i(5)},productionModifiers:{worker:i(2),nursery:i(1.2)},quantity:i(1)},training_armor:{id:"training_armor",name:"Training Armor",description:"Basic protective gear for training.",type:"equipment",rarity:"common",stats:{health:i(20)},productionModifiers:{worker:i(1.5),nursery:i(1.3)},quantity:i(1)},wooden_shield:{id:"wooden_shield",name:"Wooden Shield",description:"A simple wooden shield that offers basic protection.",type:"equipment",rarity:"common",stats:{health:i(15),defense:i(3)},productionModifiers:{worker:i(1.8),nursery:i(1.4)},quantity:i(1)},foraging_tools:{id:"foraging_tools",name:"Foraging Tools",description:"Basic tools that help ants gather resources more efficiently.",type:"equipment",rarity:"common",stats:{damage:i(2)},productionModifiers:{worker:i(2.2),nursery:i(1.1)},quantity:i(1)},leaf_cloak:{id:"leaf_cloak",name:"Leaf Cloak",description:"A simple cloak made from leaves that provides minimal protection.",type:"equipment",rarity:"common",stats:{health:i(10),defense:i(1)},productionModifiers:{worker:i(1.7),nursery:i(1.5)},quantity:i(1)},pebble_hammer:{id:"pebble_hammer",name:"Pebble Hammer",description:"A small pebble attached to a stick. Crude but effective.",type:"equipment",rarity:"common",stats:{damage:i(7)},productionModifiers:{worker:i(1.8),nursery:i(1.6)},quantity:i(1)},worker_sword:{id:"worker_sword",name:"Worker Sword",description:"A sturdy sword used by worker ants.",type:"equipment",rarity:"uncommon",stats:{damage:i(15)},productionModifiers:{nursery:i(2.5),queenChamber:i(1.5)},quantity:i(1)},worker_armor:{id:"worker_armor",name:"Worker Armor",description:"Durable armor worn by worker ants.",type:"equipment",rarity:"uncommon",stats:{health:i(50)},productionModifiers:{nursery:i(2.2),queenChamber:i(1.7)},quantity:i(1)},reinforced_mandibles:{id:"reinforced_mandibles",name:"Reinforced Mandibles",description:"Strengthened mandibles that can cut through tougher materials.",type:"equipment",rarity:"uncommon",stats:{damage:i(20),defense:i(5)},productionModifiers:{nursery:i(3),queenChamber:i(1.8)},quantity:i(1)},resin_helmet:{id:"resin_helmet",name:"Resin Helmet",description:"A helmet crafted from hardened tree resin, offering good protection.",type:"equipment",rarity:"uncommon",stats:{health:i(40),defense:i(10)},productionModifiers:{nursery:i(2.7),queenChamber:i(1.9)},quantity:i(1)},thorn_spear:{id:"thorn_spear",name:"Thorn Spear",description:"A spear tipped with a sharp rose thorn. Excellent for piercing.",type:"equipment",rarity:"uncommon",stats:{damage:i(25)},productionModifiers:{nursery:i(2.8),queenChamber:i(2)},quantity:i(1)},beetle_shell_shield:{id:"beetle_shell_shield",name:"Beetle Shell Shield",description:"A shield made from a small beetle's shell. Surprisingly durable.",type:"equipment",rarity:"uncommon",stats:{health:i(60),defense:i(15)},productionModifiers:{nursery:i(2.6),queenChamber:i(2.1)},quantity:i(1)},mandible_crusher:{id:"mandible_crusher",name:"Mandible Crusher",description:"A fearsome weapon forged from the mandibles of giant beetles.",type:"equipment",rarity:"rare",stats:{damage:i(100),defense:i(25)},productionModifiers:{queenChamber:i(3),colony:i(2)},quantity:i(1)},exoskeleton_plate:{id:"exoskeleton_plate",name:"Exoskeleton Plate",description:"Armor crafted from the hardened exoskeleton of a giant stag beetle.",type:"equipment",rarity:"rare",stats:{health:i(300),defense:i(50),regen:i(5)},productionModifiers:{queenChamber:i(3.5),colony:i(2.5)},quantity:i(1)},venom_dagger:{id:"venom_dagger",name:"Venom Dagger",description:"A deadly dagger coated with scorpion venom that melts through defenses.",type:"equipment",rarity:"rare",stats:{damage:i(150),regen:i(3)},productionModifiers:{queenChamber:i(4),colony:i(3)},quantity:i(1)},evolution_crystal:{id:"evolution_crystal",name:"Evolution Crystal",description:"A mysterious crystal that resonates with evolutionary energy, enhancing EP gains.",type:"equipment",rarity:"rare",stats:{damage:i(50),health:i(100),regen:i(2)},productionModifiers:{queenChamber:i(3),colony:i(2)},specialModifiers:{epBoost:i(1.3)},quantity:i(1)},hive_amplifier:{id:"hive_amplifier",name:"Hive Amplifier",description:"A powerful artifact that amplifies the productivity of the entire colony.",type:"equipment",rarity:"rare",stats:{damage:i(75),health:i(150),defense:i(30)},productionModifiers:{global:i(1.5)},quantity:i(1)},void_reaver:{id:"void_reaver",name:"Void Reaver",description:"A mythical blade that tears through the fabric of reality.",type:"equipment",rarity:"epic",stats:{damage:i(500),defense:i(100),regen:i(10)},productionModifiers:{colony:i(5),megacolony:i(3)},quantity:i(1)},chronos_shell:{id:"chronos_shell",name:"Chronos Shell",description:"Armor that manipulates time itself, allowing the wearer to exist slightly out of phase with reality.",type:"equipment",rarity:"epic",stats:{health:i(1e3),defense:i(200),regen:i(20)},productionModifiers:{colony:i(6),megacolony:i(4)},quantity:i(1)},entropy_fangs:{id:"entropy_fangs",name:"Entropy Fangs",description:"Mandibles that accelerate entropy in whatever they touch.",type:"equipment",rarity:"epic",stats:{damage:i(750),defense:i(150),regen:i(15)},productionModifiers:{colony:i(7),megacolony:i(5)},quantity:i(1)},ascension_matrix:{id:"ascension_matrix",name:"Ascension Matrix",description:"A mythical matrix of pure evolutionary potential.",type:"equipment",rarity:"epic",stats:{damage:i(300),health:i(500),defense:i(100),regen:i(10)},productionModifiers:{colony:i(4),megacolony:i(3)},specialModifiers:{epBoost:i(2)},quantity:i(1)},omnipotent_catalyst:{id:"omnipotent_catalyst",name:"Omnipotent Catalyst",description:"A mythical catalyst that exponentially increases productivity.",type:"equipment",rarity:"epic",stats:{damage:i(400),health:i(600),defense:i(120),regen:i(12)},productionModifiers:{global:i(2)},quantity:i(1)},infinity_shard:{id:"infinity_shard",name:"Infinity Shard",description:"A fragment of the universe's beginning.",type:"equipment",rarity:"legendary",stats:{damage:i(5e3),defense:i(1e3),regen:i(50),health:i(5e3)},productionModifiers:{megacolony:i(10),hivemind:i(5)},quantity:i(1)},eternity_weave:{id:"eternity_weave",name:"Eternity Weave",description:"Armor woven from the threads of eternity itself.",type:"equipment",rarity:"legendary",stats:{health:i(1e4),defense:i(2e3),regen:i(100),damage:i(2e3)},productionModifiers:{megacolony:i(12),hivemind:i(6)},quantity:i(1)},genesis_claw:{id:"genesis_claw",name:"Genesis Claw",description:"A weapon that contains the power of creation itself.",type:"equipment",rarity:"legendary",stats:{damage:i(7500),defense:i(1500),regen:i(75),health:i(3e3)},productionModifiers:{megacolony:i(15),hivemind:i(8)},quantity:i(1)},transcendence_core:{id:"transcendence_core",name:"Transcendence Core",description:"A divine core of pure evolutionary essence.",type:"equipment",rarity:"legendary",stats:{damage:i(3e3),health:i(5e3),defense:i(500),regen:i(50)},productionModifiers:{megacolony:i(8),hivemind:i(4)},specialModifiers:{epBoost:i(3)},quantity:i(1)},universal_amplifier:{id:"universal_amplifier",name:"Universal Amplifier",description:"A divine artifact that amplifies productivity to godlike levels.",type:"equipment",rarity:"legendary",stats:{damage:i(4e3),health:i(6e3),defense:i(600),regen:i(60)},productionModifiers:{global:i(3)},quantity:i(1)},quantum_mandibles:{id:"quantum_mandibles",name:"Quantum Mandibles",description:"Mandibles that exist in multiple dimensions at once.",type:"equipment",rarity:"mythic",stats:{damage:i(1e4),defense:i(2e3),regen:i(150),health:i(5e3)},productionModifiers:{hivemind:i(20),antopolis:i(10)},quantity:i(1)},mythic_ascension_matrix:{id:"mythic_ascension_matrix",name:"Ascension Matrix",description:"A mythical matrix of pure evolutionary potential.",type:"equipment",rarity:"mythic",stats:{damage:i(5e3),health:i(7500),defense:i(1e3),regen:i(100)},productionModifiers:{hivemind:i(15),antopolis:i(8)},specialModifiers:{epBoost:i(5)},quantity:i(1)},mythic_catalyst:{id:"mythic_catalyst",name:"Omnipotent Catalyst",description:"A mythical catalyst that exponentially increases productivity.",type:"equipment",rarity:"mythic",stats:{damage:i(6e3),health:i(9e3),defense:i(1200),regen:i(120)},productionModifiers:{global:i(5)},quantity:i(1)},divine_infinity_shard:{id:"divine_infinity_shard",name:"Infinity Shard",description:"A fragment of the universe's beginning.",type:"equipment",rarity:"divine",stats:{damage:i(5e4),defense:i(5e3),regen:i(500),health:i(5e4)},productionModifiers:{hivemind:i(50),antopolis:i(30)},quantity:i(1)},divine_eternity_weave:{id:"divine_eternity_weave",name:"Eternity Weave",description:"Armor woven from the threads of eternity itself.",type:"equipment",rarity:"divine",stats:{health:i(1e5),defense:i(1e4),regen:i(1e3),damage:i(1e4)},productionModifiers:{hivemind:i(60),antopolis:i(40)},quantity:i(1)},divine_genesis_claw:{id:"divine_genesis_claw",name:"Genesis Claw",description:"A weapon that contains the power of creation itself.",type:"equipment",rarity:"divine",stats:{damage:i(75e3),defense:i(7500),regen:i(750),health:i(25e3)},productionModifiers:{hivemind:i(80),antopolis:i(50)},quantity:i(1)},divine_transcendence_core:{id:"divine_transcendence_core",name:"Transcendence Core",description:"A divine core of pure evolutionary essence.",type:"equipment",rarity:"divine",stats:{damage:i(3e4),health:i(5e4),defense:i(5e3),regen:i(500)},productionModifiers:{hivemind:i(40),antopolis:i(25)},specialModifiers:{epBoost:i(10)},quantity:i(1)},divine_universal_amplifier:{id:"divine_universal_amplifier",name:"Universal Amplifier",description:"A divine artifact that amplifies productivity to godlike levels.",type:"equipment",rarity:"divine",stats:{damage:i(4e4),health:i(6e4),defense:i(6e3),regen:i(600)},productionModifiers:{global:i(10)},quantity:i(1)}},kt=lt("item",()=>{const t=H(Xl),e=c=>t.value[c],r=(c,m=be.fromNumber(1),d=0)=>{const f=e(c);if(f)return{...f,quantity:m,mergeLevel:d}},o={common:"text-gray-600 dark:text-gray-400",uncommon:"text-green-600 dark:text-green-400",rare:"text-blue-600 dark:text-blue-400",epic:"text-purple-600 dark:text-purple-400",legendary:"text-yellow-600 dark:text-yellow-400",mythic:"text-pink-600 dark:text-pink-400",divine:"text-cyan-600 dark:text-cyan-400"},n={common:"bg-gray-100 dark:bg-gray-800",uncommon:"bg-green-100 dark:bg-green-900/30",rare:"bg-blue-100 dark:bg-blue-900/30",epic:"bg-purple-100 dark:bg-purple-900/30",legendary:"bg-yellow-100 dark:bg-yellow-900/30",mythic:"bg-pink-100 dark:bg-pink-900/30",divine:"bg-cyan-100 dark:bg-cyan-900/30"};return{items:t,getItem:e,createItem:r,getRarityColor:c=>o[c]||o.common,getRarityBackground:c=>n[c]||n.common,getFormattedItemName:c=>!c.mergeLevel||c.mergeLevel===0?c.name:`${c.name} +${c.mergeLevel}`}}),Ze=lt("inventory",()=>{const t=kt(),e=De(),r=H([]),o=20,n=H([]),a=10,l=B(()=>e.getUpgradeCount("equipmentSlots")),u=H(!1),c=B(()=>e.getUpgradeCount("unlockAutoMerge").gt(0)),m=H({equipmentStats:!1,combatStats:!1,specialModifiers:!1,productionModifiers:!1}),d=Q=>{m.value[Q]=!m.value[Q]},f=B(()=>{const Q=i(o),ee=e.getUpgradeMultiplier("inventorySlots");return Q.add(ee)}),p=B(()=>a),g=()=>{const Q=n.value.map(D=>({id:D.id,item:D.item,locked:D.locked,mergeLevel:D.mergeLevel})),ee=[],oe=p.value;for(let D=0;D<oe;D++){const q=Q.find(V=>V.id===D);ee.push({id:D,item:(q==null?void 0:q.item)||null,locked:D>=l.value.toNumber(),mergeLevel:(q==null?void 0:q.mergeLevel)||0})}n.value=ee},b=Q=>t.getItem(Q),x=B(()=>{const Q={damage:be.fromNumber(0),health:be.fromNumber(0),regen:be.fromNumber(0),defense:be.fromNumber(0)};return n.value.forEach(ee=>{if(ee.item){const oe=b(ee.item);if(oe!=null&&oe.stats){let D=be.fromNumber(1);ee.mergeLevel&&ee.mergeLevel>0&&(D=be.fromNumber(Math.pow(A,ee.mergeLevel))),oe.stats.damage&&(Q.damage=Q.damage.plus(oe.stats.damage.mul(D))),oe.stats.health&&(Q.health=Q.health.plus(oe.stats.health.mul(D))),oe.stats.regen&&(Q.regen=Q.regen.plus(oe.stats.regen.mul(D))),oe.stats.defense&&(Q.defense=Q.defense.plus(oe.stats.defense.mul(D)))}}}),Q}),U=B(()=>{const Q={};return n.value.forEach(ee=>{if(ee.item){const oe=b(ee.item);if(oe!=null&&oe.productionModifiers){let D=be.fromNumber(1);ee.mergeLevel&&ee.mergeLevel>0&&(D=be.fromNumber(Math.pow(M,ee.mergeLevel))),Object.entries(oe.productionModifiers).forEach(([q,V])=>{Q[q]||(Q[q]=be.fromNumber(1)),Q[q]=Q[q].mul(V.mul(D))})}}}),Object.fromEntries(Object.entries(Q).filter(([ee,oe])=>oe.gt(1)))}),O=B(()=>{const Q={epBoost:be.fromNumber(1),global:be.fromNumber(1)};return n.value.forEach(ee=>{if(ee.item){const oe=b(ee.item);if(oe!=null&&oe.specialModifiers){let D=be.fromNumber(1);ee.mergeLevel&&ee.mergeLevel>0&&(D=be.fromNumber(Math.pow(M,ee.mergeLevel))),oe.specialModifiers.epBoost&&(Q.epBoost=Q.epBoost.mul(oe.specialModifiers.epBoost.mul(D))),oe.specialModifiers.global&&(Q.global=Q.global.mul(oe.specialModifiers.global.mul(D))),Object.entries(oe.specialModifiers).forEach(([q,V])=>{q!=="epBoost"&&q!=="global"&&V!==void 0&&(Q[q]||(Q[q]=be.fromNumber(1)),Q[q]=Q[q].mul(V.mul(D)))})}}}),Q}),F=()=>{const Q=new Map;r.value.forEach(ee=>{const oe=`${ee.id}_${ee.mergeLevel||0}`,D=Q.get(oe);if(D){const q=D.quantity||be.fromNumber(1),V=ee.quantity||be.fromNumber(1);D.quantity=q.plus(V)}else Q.set(oe,{...ee})}),r.value=Array.from(Q.values())},L=5,A=1.2,M=1.15,S=2,$=Q=>{var ge;if(Q.length===0)return{success:!1,message:"No items selected for merging"};const ee=Q[0],oe=r.value[ee];if(!oe)return{success:!1,message:"Item not found"};const D=oe.mergeLevel||0;if(D>=L)return{success:!1,message:`Item already at maximum merge level (${L})`};const q=((ge=oe.quantity)==null?void 0:ge.toNumber())||1,V=y(D);if(q<V)return{success:!1,message:`Need at least ${V} items to merge (have ${q})`};if(!(oe.quantity&&oe.quantity.sub(V).lte(0))&&r.value.length>=f.value.toNumber())return{success:!1,message:"Not enough inventory space for the merged item. Free up space first."};const Y={...oe,mergeLevel:D+1,quantity:be.fromNumber(1),stats:{...oe.stats}};return Y.stats&&(Y.stats.damage&&(Y.stats.damage=Y.stats.damage.mul(A)),Y.stats.health&&(Y.stats.health=Y.stats.health.mul(A)),Y.stats.regen&&(Y.stats.regen=Y.stats.regen.mul(A)),Y.stats.defense&&(Y.stats.defense=Y.stats.defense.mul(A))),oe.productionModifiers&&(Y.productionModifiers={},Object.entries(oe.productionModifiers).forEach(([C,T])=>{Y.productionModifiers[C]=T.mul(M)})),oe.specialModifiers&&(Y.specialModifiers={},Object.entries(oe.specialModifiers).forEach(([C,T])=>{T&&(Y.specialModifiers[C]=T.mul(M))})),oe.quantity?(oe.quantity=oe.quantity.sub(V),oe.quantity.lte(0)&&r.value.splice(ee,1)):r.value.splice(ee,1),r.value.push(Y),F(),{success:!0,message:`Successfully merged ${V}x ${oe.name} into ${oe.name} +${D+1}`,item:Y}},y=Q=>S+Q,k=()=>{var ee;const Q=[];for(let oe=0;oe<r.value.length;oe++){const D=r.value[oe],q=D.mergeLevel||0;if(q>=L)continue;const V=((ee=D.quantity)==null?void 0:ee.toNumber())||1,te=y(q);V>=te&&Q.push({itemId:D.id,item:D,count:V,indices:[oe],mergeLevel:q,requiredItems:te})}return Q},N=(Q,ee=be.fromNumber(1),oe=0)=>{if(i(r.value.length).gte(f.value))return!1;const q=kt().createItem(Q,ee,oe);return q?(r.value.push(q),F(),!0):!1},P=Q=>{r.value.splice(Q,1),F()},h=(Q,ee,oe)=>{const D=n.value[ee];if(!D||D.locked)return!1;const q=r.value[oe];return!q||q.id!==Q||n.value.some(te=>te.item===Q)||D.item&&b(D.item)&&!N(D.item,be.fromNumber(1),D.mergeLevel||0)?!1:(D.item=Q,D.mergeLevel=q.mergeLevel||0,q.quantity&&q.quantity.gt(1)?q.quantity=q.quantity.sub(1):r.value.splice(oe,1),F(),!0)},_=Q=>{const ee=n.value[Q];return!ee||ee.locked?!1:ee.item?b(ee.item)&&(i(r.value.length).gte(f.value)||!N(ee.item,be.fromNumber(1),ee.mergeLevel||0))?!1:(ee.item=null,ee.mergeLevel=0,F(),!0):!1},W=H(i(0)),R=B(()=>re(W.value,0)),pe=Q=>{var V;let ee=1;switch(Q.rarity){case"common":ee=1;break;case"uncommon":ee=3;break;case"rare":ee=10;break;case"epic":ee=25;break;case"legendary":ee=75;break;case"mythic":ee=200;break;case"divine":ee=500;break;default:ee=1}const D=1+(Q.mergeLevel||0)*.5,q=((V=Q.quantity)==null?void 0:V.toNumber())||1;return i(ee*D*q)},Z=Q=>{const ee=r.value[Q];if(!ee)return{success:!1,message:"Item not found"};const oe=pe(ee);return W.value=W.value.add(oe),r.value.splice(Q,1),F(),{success:!0,message:`Salvaged ${ee.name} for ${oe} Pheromone Essence`,salvageValue:oe}},he=()=>{if(!c.value||!u.value)return;const Q=k();if(Q.length===0)return;let ee=0;const oe=new Map;for(const D of Q){const q=$(D.indices);if(q.success&&q.item){ee++;const V=`${q.item.id}-${q.item.mergeLevel}`;oe.set(V,q.item)}}if(ee>0){let D=!0,q=0;for(;D;){D=!1;const V=k();if(V.length>0)for(const te of V){const Y=$(te.indices);if(Y.success&&Y.item){q++,D=!0;const ge=`${Y.item.id}-${Y.item.mergeLevel}`;oe.set(ge,Y.item);break}}else D=!1}ee+=q}return ee>0?ee:null},Ce=()=>{c.value&&(u.value=!u.value)},de=H("default"),ae=()=>({inventory:r.value.map(Q=>({id:Q.id,quantity:Q.quantity?re(Q.quantity):void 0,mergeLevel:Q.mergeLevel||0})),equipmentSlots:n.value.map(Q=>({item:Q.item,locked:Q.locked,mergeLevel:Q.mergeLevel||0})),unlockedEquipmentSlots:l.value,collapsedSections:m.value,pheromoneEssence:W.value.toString(),isAutoMergeEnabled:u.value,selectedInventorySort:de.value}),se=Q=>{g(),Q.equipmentSlots&&Q.equipmentSlots.forEach((ee,oe)=>{n.value[oe]&&(n.value[oe].item=ee.item,n.value[oe].locked=ee.locked,n.value[oe].mergeLevel=ee.mergeLevel||0)}),g(),Q.inventory&&(r.value=Q.inventory.map(ee=>{const oe=b(ee.id);return oe?{...oe,quantity:ee.quantity?be.fromString(ee.quantity):void 0,mergeLevel:ee.mergeLevel||0}:null}).filter(Boolean)),Q.collapsedSections&&(m.value=Q.collapsedSections),Q.pheromoneEssence&&(W.value=i(Q.pheromoneEssence)),Q.isAutoMergeEnabled!==void 0&&(u.value=Q.isAutoMergeEnabled),Q.selectedInventorySort&&(de.value=Q.selectedInventorySort),F()};return g(),{inventory:r,maxInventorySlots:f,equipmentSlots:n,maxEquipmentSlots:p,unlockedEquipmentSlots:l,totalStats:x,totalProductionModifiers:U,totalSpecialModifiers:O,collapsedSections:m,toggleSection:d,addItem:N,removeItem:P,equipItem:h,unequipItem:_,stackItems:F,getState:ae,loadState:se,getItem:b,initializeEquipmentSlots:g,mergeItems:$,findMergeableItems:k,getItemsRequiredForMerge:y,MAX_MERGE_LEVEL:L,pheromoneEssence:W,formattedPheromoneEssence:R,salvageItem:Z,calculateSalvageValue:pe,isAutoMergeEnabled:u,isAutoMergeUnlocked:c,processAutoMerge:he,toggleAutoMerge:Ce,selectedInventorySort:de}}),_0=()=>{const t=[100,1e3,1e4,1e5,1e6,1e7,1e8,"1e9","1e10","1e12","1e15","1e18","1e21","1e24","1e27","1e30","1e33","1e36","1e40","1e45","1e50","1e60","1e70","1e80","1e90","1e100","1e120","1e150","1e200","1e250","1e300","1e350","1e400","1e450","1e500"],e=["Hungry Beginnings","First Snack","Food Stock","Small Pantry","Food Hoarder","Nutritional Wealth","Food Supply Chain","Food Mountain","Endless Buffet","Food Empire","Quantum Nutrients","Interdimensional Feast","Sextillion Snack","Septillion Supper","Octillion Omelets","Nonillion Nourishment","Decillion Dinner","Undecillion Utopia","Duodecillion Delicacies","Tredecillion Treats","Quattuordecillion Quantities","Quintillion Quotient","Sextillion Surplus","Septillion Stores","Octillion Overstock","Googol Gastronomy","Trigintillion Triumph","Quantum Realm Cuisine","Cosmic Consumables","Universal Eatery","Multiversal Meals","Hyperdimensional Hunger","Transcendent Treats","Infinite Ingestion","Unlimited Appetite"],r=t.map(a=>`Collect ${a} food in total`),n=(()=>{const a=[];for(let u=0;u<5;u++){const c=1.02+u*.02;a.push({target:"worker",multiplier:c,description:`Worker production +${Math.round((c-1)*100)}%`})}for(let u=0;u<3;u++){const c=1.05+u*.05;a.push({target:"nursery",multiplier:c,description:`Nursery production +${Math.round((c-1)*100)}%`})}for(let u=0;u<3;u++){const c=1.05+u*.05;a.push({target:"queenChamber",multiplier:c,description:`Queen Chamber production +${Math.round((c-1)*100)}%`})}for(let u=0;u<3;u++){const c=1.05+u*.05;a.push({target:"colony",multiplier:c,description:`Colony production +${Math.round((c-1)*100)}%`})}for(let u=0;u<3;u++){const c=1.05+u*.05;a.push({target:"megacolony",multiplier:c,description:`Megacolony production +${Math.round((c-1)*100)}%`})}for(let u=0;u<2;u++){const c=1.05+u*.05;a.push({target:"hivemind",multiplier:c,description:`Hivemind production +${Math.round((c-1)*100)}%`})}for(let u=0;u<2;u++){const c=1.05+u*.05;a.push({target:"antopolis",multiplier:c,description:`Antopolis production +${Math.round((c-1)*100)}%`})}const l=t.length-a.length;for(let u=0;u<l;u++){let c;u<5?c=3+u*2:u<8?c=15+(u-5)*5:c=30+(u-8)*10,a.push({target:"global",multiplier:1+c/100,description:`All generators +${c}%`})}return a})();return t.map((a,l)=>({id:`food-${l+1}`,name:e[l],description:r[l],categoryId:"general",icon:"i-heroicons-cake",requirement:i(a),currentValue:i(0),completed:!1,completionDate:void 0,rewardDescription:n[l].description,hiddenUntilCompleted:!1,targetStat:"totalFood",modifiers:[{target:n[l].target,multiplier:i(n[l].multiplier),formatMultiplier:u=>`+${mt(u.sub(1).mul(100))} ${n[l].target==="global"?"all generators":`${n[l].target} production`}`}]}))},S0=()=>{const t=[3600,86400,604800],e=["Dedicated","Ant Enthusiast","Colony Manager"],r=["Play for 1 hour in total","Play for 1 day in total","Play for 1 week in total"];return t.map((o,n)=>({id:`time-${n+1}`,name:e[n],description:r[n],categoryId:"general",icon:"i-heroicons-clock",requirement:i(o),currentValue:i(0),completed:!1,completionDate:void 0,hiddenUntilCompleted:!1,targetStat:"totalGameTime"}))},$0=()=>{const t=[10,100,1e3,1e6,1e9,1e12,1e15,1e20,1e25,1e30,1e40,1e50,1e60,1e75,1e90,1e100,1e125,1e150,1e175,1e200,1e225,1e250,1e275,1e300,1/0,1/0,1/0,1/0,1/0],e=["First Workers","Worker Army","Worker Legion","Worker Nation","Worker Empire","Worker Planet","Worker Galaxy","Worker Universe","Worker Dimension","Worker Multiverse","Worker Hyperverse","Worker Omniverse","Worker Xenoverse","Worker Megaverse","Worker Gigaverse","Worker Teraverse","Worker Petaverse","Worker Exaverse","Worker Zettaverse","Worker Yottaverse","Worker Xennaverse","Worker Wekaverse","Worker Vendaverse","Worker Udaverse","Worker Tredaverse","Worker Sornaverse","Worker Rinnaverse","Worker Quentaverse","Worker Immortal Empire"],r=["Have 10 worker ants","Have 100 worker ants","Have 1,000 worker ants","Have a million worker ants","Have a billion worker ants","Have a trillion worker ants","Have a quadrillion worker ants","Have 1e20 worker ants","Have 1e25 worker ants","Have 1e30 worker ants","Have 1e40 worker ants","Have 1e50 worker ants","Have 1e60 worker ants","Have 1e75 worker ants","Have 1e90 worker ants","Have 1e100 worker ants","Have 1e125 worker ants","Have 1e150 worker ants","Have 1e175 worker ants","Have 1e200 worker ants","Have 1e225 worker ants","Have 1e250 worker ants","Have 1e275 worker ants","Have 1e300 worker ants","Have 1e325 worker ants","Have 1e350 worker ants","Have 1e400 worker ants","Have 1e450 worker ants","Have 1e500 worker ants"],o=[null,null,{multiplier:1.05,description:"Worker production +5%"},{multiplier:1.1,description:"Worker production +10%"},{multiplier:1.15,description:"Worker production +15%"},{multiplier:1.2,description:"Worker production +20%"},{multiplier:1.25,description:"Worker production +25%"},{multiplier:1.3,description:"Worker production +30%"},{multiplier:1.35,description:"Worker production +35%"},{multiplier:1.4,description:"Worker production +40%"},{multiplier:1.45,description:"Worker production +45%"},{multiplier:1.5,description:"Worker production +50%"},{multiplier:1.55,description:"Worker production +55%"},{multiplier:1.6,description:"Worker production +60%"},{multiplier:1.65,description:"Worker production +65%"},{multiplier:1.68,description:"Worker production +68%"},{multiplier:1.71,description:"Worker production +71%"},{multiplier:1.74,description:"Worker production +74%"},{multiplier:1.77,description:"Worker production +77%"},{multiplier:1.8,description:"Worker production +80%"},{multiplier:1.83,description:"Worker production +83%"},{multiplier:1.86,description:"Worker production +86%"},{multiplier:1.89,description:"Worker production +89%"},{multiplier:1.92,description:"Worker production +92%"},{multiplier:1.94,description:"Worker production +94%"},{multiplier:1.96,description:"Worker production +96%"},{multiplier:1.98,description:"Worker production +98%"},{multiplier:1.99,description:"Worker production +99%"},{multiplier:2,description:"Worker production +100%"}];return t.map((n,a)=>{const l={id:`workers-${a+1}`,name:e[a],description:r[a],categoryId:"colony",icon:"i-heroicons-bug-ant",requirement:i(n),currentValue:i(0),completed:!1,completionDate:void 0,hiddenUntilCompleted:a>5,targetStat:"workers"};return o[a]&&(l.rewardDescription=o[a].description,l.modifiers=[{target:"worker",multiplier:i(o[a].multiplier),formatMultiplier:u=>`+${mt(u.sub(1).mul(100))} worker production`}]),l})},E0=()=>{const t=[1,5,10,25,50,100],e=["First Evolution","Evolving Species","Evolution Expert","Evolution Master","Darwin Would Be Proud","Evolutionary Apex"],r=t.map(n=>`Perform ${n} evolution${n>1?"s":""}`),o=[null,{multiplier:1.02,description:"All generators +2%"},null,{multiplier:1.05,description:"All generators +5%"},{multiplier:1.1,description:"All generators +10%"},{multiplier:1.2,description:"All generators +20%"}];return t.map((n,a)=>{const l={id:`evolution-${n===1?"1":n}`,name:e[a],description:r[a],categoryId:"evolution",icon:"i-heroicons-sparkles",requirement:i(n),currentValue:i(0),completed:!1,completionDate:void 0,hiddenUntilCompleted:!1,targetStat:"totalEvolutions"};return o[a]&&(l.rewardDescription=o[a].description,l.modifiers=[{target:"global",multiplier:i(o[a].multiplier),formatMultiplier:u=>`+${mt(u.sub(1).mul(100))} all generators`}]),l})},C0=()=>{const t=[10,25,50],e=["Loop Master","Loop Expert","Loop Legend"],r=t.map(n=>`Complete ${n} loops in a single evolution`),o=[null,null,{multiplier:1.1,description:"Evolution Points +10%"}];return t.map((n,a)=>{const l={id:`loops-${a+1}`,name:e[a],description:r[a],categoryId:"evolution",icon:"i-heroicons-arrow-path",requirement:i(n),currentValue:i(0),completed:!1,completionDate:void 0,hiddenUntilCompleted:!1,targetStat:"maxLoopsInEvolution"};return o[a]&&(l.rewardDescription=o[a].description,l.modifiers=[{target:"ep",multiplier:i(o[a].multiplier),formatMultiplier:u=>`+${mt(u.sub(1).mul(100))} evolution points`}]),l})},M0=()=>{const t=[10,100,1e3],e=["Evolution Points","Evolution Wealth","Evolution Fortune"],r=t.map(n=>`Earn ${n} evolution points in total`),o=[null,null,{multiplier:1.05,description:"Evolution Points +5%"}];return t.map((n,a)=>{const l={id:`ep-${a+1}`,name:e[a],description:r[a],categoryId:"evolution",icon:"i-heroicons-bolt",requirement:i(n),currentValue:i(0),completed:!1,completionDate:void 0,hiddenUntilCompleted:!1,targetStat:"totalEvolutionPoints"};return o[a]&&(l.rewardDescription=o[a].description,l.modifiers=[{target:"ep",multiplier:i(o[a].multiplier),formatMultiplier:u=>`+${mt(u.sub(1).mul(100))} evolution points`}]),l})},On=(t,e,r,o,n=null,a=1.2)=>{const l=o.map((m,d)=>d===0?`First ${e}`:d===1?`${e} Network`:d===2?`${e} Empire`:d===3?`${e} Dominion`:d===4?`${e} Supremacy`:d===5?`${e} Mastery`:d===6?`${e} Abundance`:d===7?`${e} Legacy`:d===8?`${e} Infinity`:d===9?`Cosmic ${e}`:d===10?`Galactic ${e}`:d===11?`Universal ${e}`:d===12?`Multiversal ${e}`:d===13?`Transcendent ${e}`:`Omnipotent ${e}`),u=o.map(m=>{const d=String(m);let f;if(d.includes("e")){const[p,g]=d.split("e"),b=parseInt(g,10);if(b<6)f=Number(d).toLocaleString();else if(b<21){const x=["Million","Million","Million","Billion","Billion","Billion","Trillion","Trillion","Trillion","Quadrillion","Quadrillion","Quadrillion","Quintillion","Quintillion","Quintillion"],U=b-6,O=x[U];f=`${(Math.pow(10,b%3)*parseFloat(p)).toFixed(2)} ${O}`}else f=`10^${g}`}else Number(d)>=1e6?f=`${(Number(d)/1e6).toFixed(1)}M`:Number(d)>=1e3?f=`${(Number(d)/1e3).toFixed(1)}K`:f=d;return`Have ${f} ${e.toLowerCase()}${Number(d)>1?"s":""}`}),c={nursery:"nurseries",queenChamber:"queenChambers",colony:"colonies",megacolony:"megacolonies",hivemind:"hiveminds",antopolis:"antopolis"};return o.map((m,d)=>{const f={id:`${t.toLowerCase()}-${d+1}`,name:l[d],description:u[d],categoryId:"colony",icon:r,requirement:i(m),currentValue:i(0),completed:!1,completionDate:void 0,hiddenUntilCompleted:d>4,targetStat:c[t]||`${t.toLowerCase()}s`};if(n!==null&&d===n){const p=Math.round((a-1)*100);f.rewardDescription=`${e} production +${p}%`,f.modifiers=[{target:t,multiplier:i(a),formatMultiplier:g=>`+${mt(g.sub(1).mul(100))} ${t.toLowerCase()} production`}]}if(d>5){const p=Math.min(1,.1+(d-5)*.05),g=Math.round(p*100);if(f.rewardDescription=`${e} production +${g}%`,f.modifiers=[{target:t,multiplier:i(1+p),formatMultiplier:b=>`+${mt(b.sub(1).mul(100))} ${t.toLowerCase()} production`}],d>=10){const b=.05+(d-10)*.05,x=Math.round(b*100);f.rewardDescription+=` and all generators +${x}%`,f.modifiers.push({target:"global",multiplier:i(1+b),formatMultiplier:U=>`+${mt(U.sub(1).mul(100))} all generators`})}}return f})},A0=()=>[{id:"megacolony",name:"Mega Colony",displayName:"Mega Expansion",icon:"i-heroicons-building-office-2",statName:"megacolonies"},{id:"hivemind",name:"Hive Mind",displayName:"Collective Consciousness",icon:"i-heroicons-cpu-chip",statName:"hiveminds"},{id:"antopolis",name:"Antopolis",displayName:"Ant City",icon:"i-heroicons-building-library",statName:"antopolis"}].map(e=>({id:`${e.id}-1`,name:e.displayName,description:`Have your first ${e.name.toLowerCase()}`,categoryId:"colony",icon:e.icon,requirement:i(1),currentValue:i(0),completed:!1,completionDate:void 0,rewardDescription:`${e.name} production +5%`,hiddenUntilCompleted:!1,targetStat:e.statName,modifiers:[{target:e.id,multiplier:i(1.05),formatMultiplier:r=>`+${mt(r.sub(1).mul(100))} ${e.id} production`}]})),I0=()=>({id:"adventure-unlock",name:"Adventure Begins",description:"Unlock adventure mode",categoryId:"adventure",icon:"i-heroicons-map",requirement:i(1),currentValue:i(0),completed:!1,completionDate:void 0,rewardDescription:"",hiddenUntilCompleted:!0}),P0=()=>[{id:"general",name:"General",description:"General game achievements",icon:"i-heroicons-trophy",sortOrder:0,achievements:[]},{id:"colony",name:"Colony",description:"Achievements related to your ant colony",icon:"i-heroicons-bug-ant",sortOrder:1,achievements:[]},{id:"evolution",name:"Evolution",description:"Achievements related to evolution progress",icon:"i-heroicons-sparkles",sortOrder:2,achievements:[]},{id:"adventure",name:"Adventure",description:"Achievements related to adventure mode",icon:"i-heroicons-map",sortOrder:3,achievements:[]}],T0=()=>{const t=[10,100,1e3,1e4,1e5,"1e6","1e9","1e12","1e15","1e20","1e30","1e50","1e75","1e100","1e150","1e200","1e250"],e=[10,100,1e3,1e4,"1e5",...t.slice(5)];return[..._0(),...S0(),...$0(),...On("nursery","Nursery","i-heroicons-home-modern",t,4,1.2),...On("queenChamber","Queen Chamber","i-heroicons-crown",t,4,1.1),...On("colony","Colony","i-heroicons-building-storefront",e,3,1.05),...A0(),...E0(),...M0(),...C0(),I0()]},Zl=P0(),eu=T0();eu.forEach(t=>{const e=Zl.find(r=>r.id===t.categoryId);e&&e.achievements.push(t)});function Rs(t){return fs()?(_a(t),!0):!1}const Dn=new WeakMap,L0=(...t)=>{var e;const r=t[0],o=(e=ko())==null?void 0:e.proxy;if(o==null&&!Cs())throw new Error("injectLocal must be called in setup");return o&&Dn.has(o)&&r in Dn.get(o)?Dn.get(o)[r]:ht(...t)},q0=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const F0=t=>t!=null,N0=Object.prototype.toString,R0=t=>N0.call(t)==="[object Object]",Ji=()=>{};function U0(t,e){function r(...o){return new Promise((n,a)=>{Promise.resolve(t(()=>e.apply(this,o),{fn:e,thisArg:this,args:o})).then(n).catch(a)})}return r}function B0(t,e={}){let r,o,n=Ji;const a=c=>{clearTimeout(c),n(),n=Ji};let l;return c=>{const m=Ft(t),d=Ft(e.maxWait);return r&&a(r),m<=0||d!==void 0&&d<=0?(o&&(a(o),o=null),Promise.resolve(c())):new Promise((f,p)=>{n=e.rejectOnCancel?p:f,l=c,d&&!o&&(o=setTimeout(()=>{r&&a(r),o=null,f(l())},d)),r=setTimeout(()=>{o&&a(o),o=null,f(c())},m)})}}function Xi(t){return t.endsWith("rem")?Number.parseFloat(t)*16:Number.parseFloat(t)}function Do(t){return Array.isArray(t)?t:[t]}function O0(t){return ko()}function D0(t,e=200,r={}){return U0(B0(e,r),t)}function tu(t,e=!0,r){O0()?He(t,r):e?t():Dr(t)}function H0(t,e,r){return Ee(t,e,{...r,immediate:!0})}const _o=q0?window:void 0;function Or(t){var e;const r=Ft(t);return(e=r==null?void 0:r.$el)!=null?e:r}function go(...t){const e=[],r=()=>{e.forEach(u=>u()),e.length=0},o=(u,c,m,d)=>(u.addEventListener(c,m,d),()=>u.removeEventListener(c,m,d)),n=B(()=>{const u=Do(Ft(t[0])).filter(c=>c!=null);return u.every(c=>typeof c!="string")?u:void 0}),a=H0(()=>{var u,c;return[(c=(u=n.value)==null?void 0:u.map(m=>Or(m)))!=null?c:[_o].filter(m=>m!=null),Do(Ft(n.value?t[1]:t[0])),Do(I(n.value?t[2]:t[1])),Ft(n.value?t[3]:t[2])]},([u,c,m,d])=>{if(r(),!(u!=null&&u.length)||!(c!=null&&c.length)||!(m!=null&&m.length))return;const f=R0(d)?{...d}:d;e.push(...u.flatMap(p=>c.flatMap(g=>m.map(b=>o(p,g,b,f)))))},{flush:"post"}),l=()=>{a(),r()};return Rs(r),l}function j0(){const t=nt(!1),e=ko();return e&&He(()=>{t.value=!0},e),t}function Us(t){const e=j0();return B(()=>(e.value,!!t()))}function Q0(t,e,r={}){const{window:o=_o,...n}=r;let a;const l=Us(()=>o&&"MutationObserver"in o),u=()=>{a&&(a.disconnect(),a=void 0)},c=B(()=>{const p=Ft(t),g=Do(p).map(Or).filter(F0);return new Set(g)}),m=Ee(()=>c.value,p=>{u(),l.value&&p.size&&(a=new MutationObserver(e),p.forEach(g=>a.observe(g,n)))},{immediate:!0,flush:"post"}),d=()=>a==null?void 0:a.takeRecords(),f=()=>{m(),u()};return Rs(f),{isSupported:l,stop:f,takeRecords:d}}const G0=Symbol("vueuse-ssr-width");function W0(){const t=Cs()?L0(G0,null):null;return typeof t=="number"?t:void 0}function V0(t,e={}){const{window:r=_o,ssrWidth:o=W0()}=e,n=Us(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function"),a=nt(typeof o=="number"),l=nt(),u=nt(!1),c=m=>{u.value=m.matches};return Qc(()=>{if(a.value){a.value=!n.value;const m=Ft(t).split(",");u.value=m.some(d=>{const f=d.includes("not all"),p=d.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),g=d.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let b=!!(p||g);return p&&b&&(b=o>=Xi(p[1])),g&&b&&(b=o<=Xi(g[1])),f?!b:b});return}n.value&&(l.value=r.matchMedia(Ft(t)),u.value=l.value.matches)}),go(l,"change",c,{passive:!0}),B(()=>u.value)}function z0(t,e,r={}){const{window:o=_o,...n}=r;let a;const l=Us(()=>o&&"ResizeObserver"in o),u=()=>{a&&(a.disconnect(),a=void 0)},c=B(()=>{const f=Ft(t);return Array.isArray(f)?f.map(p=>Or(p)):[Or(f)]}),m=Ee(c,f=>{if(u(),l.value&&o){a=new ResizeObserver(e);for(const p of f)p&&a.observe(p,n)}},{immediate:!0,flush:"post"}),d=()=>{u(),m()};return Rs(d),{isSupported:l,stop:d}}function K0(t,e={}){const{reset:r=!0,windowResize:o=!0,windowScroll:n=!0,immediate:a=!0,updateTiming:l="sync"}=e,u=nt(0),c=nt(0),m=nt(0),d=nt(0),f=nt(0),p=nt(0),g=nt(0),b=nt(0);function x(){const O=Or(t);if(!O){r&&(u.value=0,c.value=0,m.value=0,d.value=0,f.value=0,p.value=0,g.value=0,b.value=0);return}const F=O.getBoundingClientRect();u.value=F.height,c.value=F.bottom,m.value=F.left,d.value=F.right,f.value=F.top,p.value=F.width,g.value=F.x,b.value=F.y}function U(){l==="sync"?x():l==="next-frame"&&requestAnimationFrame(()=>x())}return z0(t,U),Ee(()=>Or(t),O=>!O&&U()),Q0(t,U,{attributeFilter:["style","class"]}),n&&go("scroll",U,{capture:!0,passive:!0}),o&&go("resize",U,{passive:!0}),tu(()=>{a&&U()}),{height:u,bottom:c,left:m,right:d,top:f,width:p,x:g,y:b,update:U}}function ru(t={}){const{window:e=_o,initialWidth:r=Number.POSITIVE_INFINITY,initialHeight:o=Number.POSITIVE_INFINITY,listenOrientation:n=!0,includeScrollbar:a=!0,type:l="inner"}=t,u=nt(r),c=nt(o),m=()=>{if(e)if(l==="outer")u.value=e.outerWidth,c.value=e.outerHeight;else if(l==="visual"&&e.visualViewport){const{width:f,height:p,scale:g}=e.visualViewport;u.value=Math.round(f*g),c.value=Math.round(p*g)}else a?(u.value=e.innerWidth,c.value=e.innerHeight):(u.value=e.document.documentElement.clientWidth,c.value=e.document.documentElement.clientHeight)};m(),tu(m);const d={passive:!0};if(go("resize",m,d),e&&l==="visual"&&e.visualViewport&&go(e.visualViewport,"resize",m,d),n){const f=V0("(orientation: portrait)");Ee(f,()=>m())}return{width:u,height:c}}const Y0=[{id:"safe",name:"Training Bug",description:"A weak bug used for training. Perfect for beginners.",health:i(100),maxHealth:i(100),damage:i(0),defense:i(0),drops:[{itemId:"training_sword",chance:.15,minQuantity:1,maxQuantity:1},{itemId:"training_armor",chance:.15,minQuantity:1,maxQuantity:1},{itemId:"wooden_shield",chance:.1,minQuantity:1,maxQuantity:1},{itemId:"leaf_cloak",chance:.1,minQuantity:1,maxQuantity:1},{itemId:"pebble_hammer",chance:1e-5,minQuantity:1,maxQuantity:1}]},{id:"worker",name:"Worker Ant",description:"A common worker ant. Slightly tougher than training bugs.",health:i(500),maxHealth:i(500),damage:i(25),defense:i(10),drops:[{itemId:"worker_sword",chance:.08,minQuantity:1,maxQuantity:1},{itemId:"worker_armor",chance:.08,minQuantity:1,maxQuantity:1},{itemId:"foraging_tools",chance:.1,minQuantity:1,maxQuantity:1},{itemId:"pebble_hammer",chance:.05,minQuantity:1,maxQuantity:1},{itemId:"reinforced_mandibles",chance:.03,minQuantity:1,maxQuantity:1}]},{id:"soldier",name:"Soldier Ant",description:"A powerful soldier ant. Much tougher than worker ants.",health:i(2500),maxHealth:i(2500),damage:i(100),defense:i(50),drops:[{itemId:"reinforced_mandibles",chance:.06,minQuantity:1,maxQuantity:1},{itemId:"resin_helmet",chance:.06,minQuantity:1,maxQuantity:1},{itemId:"thorn_spear",chance:.04,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.04,minQuantity:1,maxQuantity:1}]},{id:"ladybug",name:"Ladybug",health:i(1e4),maxHealth:i(1e4),damage:i(500),defense:i(200),description:"Looks cute but can be surprisingly tough!",drops:[{itemId:"mandible_crusher",chance:.01,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.03,minQuantity:1,maxQuantity:1},{itemId:"venom_dagger",chance:.015,minQuantity:1,maxQuantity:1}]},{id:"housefly",name:"Housefly",health:i(1e5),maxHealth:i(1e5),damage:i(2500),defense:i(1e3),description:"Annoying and surprisingly durable.",drops:[{itemId:"exoskeleton_plate",chance:.008,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.02,minQuantity:1,maxQuantity:1}]},{id:"mosquito",name:"Mosquito",health:i(1e6),maxHealth:i(1e6),damage:i(1e4),defense:i(5e3),description:"Small but extremely irritating.",drops:[{itemId:"venom_dagger",chance:.006,minQuantity:1,maxQuantity:1},{itemId:"hive_amplifier",chance:.025,minQuantity:1,maxQuantity:1}]},{id:"beetle",name:"Beetle",health:i(1e8),maxHealth:i(1e8),damage:i(1e5),defense:i(2e4),description:"Hard shell, strong bite.",drops:[{itemId:"exoskeleton_plate",chance:.015,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.04,minQuantity:1,maxQuantity:1}]},{id:"grasshopper",name:"Grasshopper",health:i(1e10),maxHealth:i(1e10),damage:i(1e7),defense:i(1e5),description:"Jumps around and avoids attacks!",drops:[{itemId:"mandible_crusher",chance:.012,minQuantity:1,maxQuantity:1},{itemId:"thorn_spear",chance:.03,minQuantity:1,maxQuantity:1}]},{id:"cockroach",name:"Cockroach",health:i(1e13),maxHealth:i(1e13),damage:i(1e10),defense:i(1e6),description:"Survivor of everything. Just won't die.",drops:[{itemId:"venom_dagger",chance:.012,minQuantity:1,maxQuantity:1},{itemId:"chronos_shell",chance:2e-4,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.02,minQuantity:1,maxQuantity:1}]},{id:"fire_ant",name:"Fire Ant",health:i(1e16),maxHealth:i(1e16),damage:i(1e13),defense:i(1e8),description:"Burns everything in its path.",drops:[{itemId:"void_reaver",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"entropy_fangs",chance:4e-4,minQuantity:1,maxQuantity:1},{itemId:"venom_dagger",chance:.03,minQuantity:1,maxQuantity:1}]},{id:"termite",name:"Termite",health:i(1e20),maxHealth:i(1e20),damage:i(1e16),defense:i(1e10),description:"Destroys everything it touches.",drops:[{itemId:"mandible_crusher",chance:.02,minQuantity:1,maxQuantity:1},{itemId:"reinforced_mandibles",chance:.05,minQuantity:1,maxQuantity:1}]},{id:"wasp",name:"Wasp",health:i(1e25),maxHealth:i(1e25),damage:i(1e20),defense:i(1e12),description:"Faster and angrier than a hornet!",drops:[{itemId:"void_reaver",chance:.004,minQuantity:1,maxQuantity:1},{itemId:"entropy_fangs",chance:6e-4,minQuantity:1,maxQuantity:1},{itemId:"venom_dagger",chance:.04,minQuantity:1,maxQuantity:1}]},{id:"scorpion",name:"Scorpion",health:i(1e30),maxHealth:i(1e30),damage:i(1e25),defense:i(1e15),description:"Big pincers, bigger stinger.",drops:[{itemId:"venom_dagger",chance:.03,minQuantity:1,maxQuantity:1},{itemId:"void_reaver",chance:8e-4,minQuantity:1,maxQuantity:1},{itemId:"entropy_fangs",chance:.05,minQuantity:1,maxQuantity:1}]},{id:"giant_moth",name:"Giant Moth",health:i(1e40),maxHealth:i(1e40),damage:i(1e30),defense:i(1e20),description:"Loves lights. Too bad it's also huge.",drops:[{itemId:"infinity_shard",chance:.001,minQuantity:1,maxQuantity:1},{itemId:"chronos_shell",chance:4e-4,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.04,minQuantity:1,maxQuantity:1},{itemId:"eternity_weave",chance:6e-4,minQuantity:1,maxQuantity:1}]},{id:"tarantula",name:"Tarantula",health:i(1e50),maxHealth:i(1e50),damage:i(1e40),defense:i(1e25),description:"Fluffy but terrifying.",drops:[{itemId:"exoskeleton_plate",chance:.025,minQuantity:1,maxQuantity:1},{itemId:"entropy_fangs",chance:.001,minQuantity:1,maxQuantity:1},{itemId:"venom_dagger",chance:.06,minQuantity:1,maxQuantity:1}]},{id:"giant_stag_beetle",name:"Giant Stag Beetle",health:i(1e65),maxHealth:i(1e65),damage:i(1e50),defense:i(1e30),description:"Massive pincers that can crush anything.",drops:[{itemId:"mandible_crusher",chance:.04,minQuantity:1,maxQuantity:1},{itemId:"entropy_fangs",chance:.0015,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.07,minQuantity:1,maxQuantity:1}]},{id:"army_ant",name:"Army Ant",health:i(1e80),maxHealth:i(1e80),damage:i(1e65),defense:i(1e40),description:"A relentless horde of ants.",drops:[{itemId:"void_reaver",chance:.006,minQuantity:1,maxQuantity:1},{itemId:"infinity_shard",chance:1e-4,minQuantity:1,maxQuantity:1},{itemId:"reinforced_mandibles",chance:.08,minQuantity:1,maxQuantity:3}]},{id:"stag_beetle_swarm",name:"Stag Beetle Swarm",health:i(1e100),maxHealth:i(1e100),damage:i(1e80),defense:i(1e50),description:"Too many beetles to count.",drops:[{itemId:"quantum_mandibles",chance:.0015,minQuantity:1,maxQuantity:1},{itemId:"divine_eternity_weave",chance:15e-5,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.1,minQuantity:1,maxQuantity:5}]},{id:"mutant_fly",name:"Mutant Fly",health:i(1e125),maxHealth:i(1e125),damage:i(1e100),defense:i(1e65),description:"Somehow even more annoying than a normal fly.",drops:[{itemId:"divine_infinity_shard",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"void_reaver",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.06,minQuantity:1,maxQuantity:2}]},{id:"giant_firefly",name:"Giant Firefly",health:i(1e150),maxHealth:i(1e150),damage:i(1e120),defense:i(1e80),description:"Brighter than the sun, dangerous too.",drops:[{itemId:"divine_infinity_shard",chance:.003,minQuantity:1,maxQuantity:1},{itemId:"chronos_shell",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.07,minQuantity:1,maxQuantity:2}]},{id:"ultra_beetle",name:"Ultra Beetle",health:i(1e200),maxHealth:i(1e200),damage:i(1e160),defense:i(1e100),description:"Bigger. Stronger. Shinier.",drops:[{itemId:"quantum_mandibles",chance:.0025,minQuantity:1,maxQuantity:1},{itemId:"entropy_fangs",chance:.003,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.12,minQuantity:2,maxQuantity:5},{itemId:"genesis_claw",chance:.0015,minQuantity:1,maxQuantity:1},{itemId:"universal_amplifier",chance:.001,minQuantity:1,maxQuantity:1}]},{id:"queen_wasp",name:"Queen Wasp",health:i("1e300"),maxHealth:i("1e300"),damage:i("1e250"),defense:i("1e150"),description:"Controls an entire hive of wasps.",drops:[{itemId:"divine_genesis_claw",chance:.01,minQuantity:1,maxQuantity:1},{itemId:"infinity_shard",chance:4e-4,minQuantity:1,maxQuantity:1},{itemId:"venom_dagger",chance:.1,minQuantity:1,maxQuantity:3}]},{id:"colossal_cockroach",name:"Colossal Cockroach",health:i("1e500"),maxHealth:i("1e500"),damage:i("1e400"),defense:i("1e200"),description:"Even harder to kill than before.",drops:[{itemId:"exoskeleton_plate",chance:.005,minQuantity:1,maxQuantity:1},{itemId:"divine_eternity_weave",chance:6e-4,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.08,minQuantity:1,maxQuantity:3},{itemId:"transcendence_core",chance:4e-4,minQuantity:1,maxQuantity:1},{itemId:"mythic_catalyst",chance:2e-4,minQuantity:1,maxQuantity:1}]},{id:"apocalyptic_termites",name:"Apocalyptic Termites",health:i("1e750"),maxHealth:i("1e750"),damage:i("1e600"),defense:i("1e300"),description:"Capable of reducing everything to dust.",drops:[{itemId:"quantum_mandibles",chance:.004,minQuantity:1,maxQuantity:1},{itemId:"divine_genesis_claw",chance:2e-4,minQuantity:1,maxQuantity:1},{itemId:"reinforced_mandibles",chance:.12,minQuantity:2,maxQuantity:5}]},{id:"radioactive_spider",name:"Radioactive Spider",health:i("1e1000"),maxHealth:i("1e1000"),damage:i("1e800"),defense:i("1e400"),description:"Not the kind that gives you superpowers.",drops:[{itemId:"venom_dagger",chance:.006,minQuantity:1,maxQuantity:1},{itemId:"divine_infinity_shard",chance:8e-4,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.1,minQuantity:2,maxQuantity:4}]},{id:"endless_ant_swarms",name:"Endless Ant Swarm",health:i("1e2000"),maxHealth:i("1e2000"),damage:i("1e1500"),defense:i("1e750"),description:"A never-ending army of ants.",drops:[{itemId:"divine_genesis_claw",chance:.008,minQuantity:1,maxQuantity:1},{itemId:"divine_eternity_weave",chance:.001,minQuantity:1,maxQuantity:1},{itemId:"reinforced_mandibles",chance:.14,minQuantity:3,maxQuantity:8}]},{id:"galactic_moth",name:"Galactic Moth",health:i("1e5000"),maxHealth:i("1e5000"),damage:i("1e4000"),defense:i("1e2000"),description:"It seeks the biggest, brightest lights in the universe.",drops:[{itemId:"divine_infinity_shard",chance:.006,minQuantity:1,maxQuantity:1},{itemId:"divine_genesis_claw",chance:4e-4,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.12,minQuantity:2,maxQuantity:5}]},{id:"quantum_beetle",name:"Quantum Beetle",health:i("1e10000"),maxHealth:i("1e10000"),damage:i("1e8000"),defense:i("1e4000"),description:"Exists in multiple places at once.",drops:[{itemId:"quantum_mandibles",chance:.01,minQuantity:1,maxQuantity:1},{itemId:"divine_genesis_claw",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"divine_infinity_shard",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"divine_eternity_weave",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"divine_transcendence_core",chance:.0015,minQuantity:1,maxQuantity:1},{itemId:"divine_universal_amplifier",chance:.0015,minQuantity:1,maxQuantity:1},{itemId:"mythic_ascension_matrix",chance:.001,minQuantity:1,maxQuantity:1},{itemId:"ascension_matrix",chance:.003,minQuantity:1,maxQuantity:1},{itemId:"omnipotent_catalyst",chance:.0025,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.2,minQuantity:5,maxQuantity:10},{itemId:"evolution_crystal",chance:.2,minQuantity:3,maxQuantity:8}]}],ou=lt("bug",()=>{const t=H(Y0),e=H(t.value[0]),r=H("safe"),o=B(()=>e.value?e.value.health.lte(0):!1),n=B(()=>e.value?e.value.health.div(e.value.maxHealth).mul(100).toNumber():0),a=f=>{const p=t.value.find(g=>g.id===f);p&&(e.value=p,r.value=f,p.health=p.maxHealth)};return{bugs:t,selectedBug:e,selectedBugId:r,isBugDead:o,getBugHealthPercentage:n,selectBug:a,attackBug:f=>{e.value&&(e.value.health=e.value.health.minus(f).clamp(0,e.value.maxHealth))},getRandomDrops:()=>{if(!e.value)return[];const f=[];return e.value.drops.forEach(p=>{if(Math.random()<=p.chance){const g=Math.floor(Math.random()*(p.maxQuantity-p.minQuantity+1)+p.minQuantity);f.push({itemId:p.itemId,quantity:g})}}),f},loadState:f=>{f.selectedBugId&&(a(f.selectedBugId),f.selectedBugHealth&&(e.value.health=i(f.selectedBugHealth)))},getState:()=>{var f,p;return{selectedBugId:((f=e.value)==null?void 0:f.id)||null,selectedBugHealth:((p=e.value)==null?void 0:p.health.toString())||null}},getBugById:f=>t.value.find(p=>p.id===f)}}),Bs=lt("filter",()=>{const t=H(new Set);return{filteredItems:t,toggleItemFilter:l=>{t.value.has(l)?t.value.delete(l):t.value.add(l)},isItemFiltered:l=>t.value.has(l),getAllAvailableItems:()=>Object.values(Xl),getState:()=>({filteredItems:Array.from(t.value)}),loadState:l=>{l.filteredItems&&(t.value=new Set(l.filteredItems))}}}),vn=lt("adventure",()=>{const t=Oe(),e=ou(),r=Ze(),o=De(),n=Bs(),a=B(()=>o.getUpgradeCount("unlockAdventure").gt(0)),l=B(()=>{const ae=t.generators[0].count.mul(be.fromNumber(10)),se=t.generators[0].count,Q=r.totalStats.damage.mul(se);return ae.plus(Q)}),u=B(()=>{const ae=t.generators[0].count.mul(be.fromNumber(100)),se=t.generators[0].count,Q=r.totalStats.health.mul(se);return ae.plus(Q)}),c=B(()=>{const ae=t.generators[0].count,se=t.generators[0].count,Q=r.totalStats.regen.mul(se);return ae.plus(Q)}),m=B(()=>{const ae=t.generators[0].count.mul(be.fromNumber(10)),se=t.generators[0].count,Q=r.totalStats.defense.mul(se);return ae.plus(Q)}),d=H(u.value),f=H(!0),p=H(!0),g=H("safe"),b=H([]),x=50,U=H(!1),O=H(!1),F=H(!1),L=H(!1),A=H(!1),M=(ae,se)=>{const Q=ae.minus(se);return ae.gt(0)&&Q.lte(0)?new be(1):be.max(Q,new be(0))},S=(ae,se="info")=>{const Q={timestamp:Date.now(),message:ae,type:se};b.value.push(Q),b.value.length>x&&(b.value=b.value.slice(-50))},$=()=>{S("You died! Returning to safe training...","info"),d.value=u.value,g.value="safe",Z("safe"),U.value=!0},y=()=>{e.selectedBug&&(e.selectedBug.health=e.selectedBug.maxHealth,S(`A new ${e.selectedBug.name} appears with ${re(e.selectedBug.maxHealth)} health!`,"info"))},k=ae=>{const se=e.getBugById(ae);return se?M(l.value,se.defense).gte(se.maxHealth):!1},N=ae=>{const se=e.bugs.findIndex(Q=>Q.id===ae);return se===-1||se===e.bugs.length-1?null:e.bugs[se+1].id},P=ae=>{const se=e.bugs.findIndex(ee=>ee.id===ae.id),Q=be.fromNumber(10).mul(be.pow(1.2,se));return se>50?Q.mul(be.fromNumber(50+(se-50)*.5)):Q},h=ae=>{const se=e.bugs.findIndex(ee=>ee.id===ae.id),Q=be.fromNumber(5).mul(be.pow(1.15,se));return se>50?Q.mul(be.fromNumber(50+(se-50)*.3)):Q.floor()},_=()=>{var ae;if(a.value&&(W(),e.selectedBug)){if(U.value)y(),U.value=!1;else if(!e.isBugDead){const se=M(l.value,e.selectedBug.defense);if(e.attackBug(se),S(`You deal ${re(se)} damage to ${e.selectedBug.name} (${re(e.selectedBug.health)}/${re(e.selectedBug.maxHealth)} HP)`,"combat"),e.isBugDead){const Q=e.selectedBug,ee=P(Q);t.food=t.food.add(ee),S(`You defeated ${Q.name} and gained ${re(ee)} food!`,"reward");const oe=h(Q);r.pheromoneEssence=r.pheromoneEssence.add(oe),S(`You collected ${re(oe)} Pheromone Essence!`,"reward");const D=e.getRandomDrops();if(D.length>0){const q=D.filter(V=>!n.isItemFiltered(V.itemId));q.length>0?q.forEach(V=>{r.addItem(V.itemId,be.fromNumber(V.quantity)),S(`You found ${V.quantity}x ${V.itemId}!`,"reward")}):D.length!==q.length&&S("Some items were filtered out based on your settings.","info")}if(O.value){const q=N(g.value);q&&k(q)&&(S(`Auto advancing to next bug: ${(ae=e.getBugById(q))==null?void 0:ae.name}`,"info"),he(q))}U.value=!0}else{const Q=M(e.selectedBug.damage,m.value);R(Q),S(`${e.selectedBug.name} deals ${re(Q)} damage to you (${re(d.value)}/${re(u.value)} HP)`,"combat"),pe.value&&$()}}}},W=()=>{const ae=d.value;if(d.value=d.value.plus(c.value).clamp(0,u.value),d.value.gt(ae)&&c.value.gt(0)){const se=d.value.minus(ae);se.gt(0)&&S(`You regenerate ${re(se)} health (${re(d.value)}/${re(u.value)} HP)`,"info")}},R=ae=>{d.value=d.value.minus(ae).clamp(0,u.value)},pe=B(()=>d.value.lte(0)),Z=ae=>{var Q,ee,oe;const se=e.selectedBug;if(e.selectBug(ae),(se==null?void 0:se.id)!==ae){S(`You start fighting ${(Q=e.selectedBug)==null?void 0:Q.name} (${re(((ee=e.selectedBug)==null?void 0:ee.damage)||be.fromNumber(0))} damage, ${re(((oe=e.selectedBug)==null?void 0:oe.maxHealth)||be.fromNumber(0))} health)`,"info");const D=t.generators[0].count.mul(be.fromNumber(10)),q=t.generators[0].count,V=r.totalStats.damage.mul(q);V.gt(0)&&S(`Your equipment provides a damage boost of ${re(V)} (${re(D)} base + ${re(V)} equipment boost)`,"info"),U.value=!0}},he=ae=>{var se,Q;g.value!==ae&&S(`Switching target from ${((se=e.getBugById(g.value))==null?void 0:se.name)||"unknown"} to ${((Q=e.getBugById(ae))==null?void 0:Q.name)||"unknown"}`,"info"),g.value=ae,Z(ae)},Ce=ae=>{ae.currentHealth&&(d.value=i(ae.currentHealth)),ae.selectedBugId&&(g.value=ae.selectedBugId,Z(ae.selectedBugId)),typeof ae.autoAdvance=="boolean"&&(O.value=ae.autoAdvance),ae.filters&&(typeof ae.filters.showOneHitOnly=="boolean"&&(F.value=ae.filters.showOneHitOnly),typeof ae.filters.showCanKillOnly=="boolean"&&(L.value=ae.filters.showCanKillOnly),typeof ae.filters.showAllEnemies=="boolean"&&(A.value=ae.filters.showAllEnemies)),S("Adventure state loaded","info")},de=()=>({currentHealth:d.value.toString(),selectedBugId:g.value,autoAdvance:O.value,filters:{showOneHitOnly:F.value,showCanKillOnly:L.value,showAllEnemies:A.value}});return Z("safe"),{currentHealth:d,playerMaxHealth:u,playerDamage:l,playerRegen:c,playerDefense:m,isDead:pe,isInCombat:f,autoCombatEnabled:p,selectedBugId:g,logs:b,isAdventureUnlocked:a,tick:_,takeDamage:R,regenHealth:W,startCombat:Z,toggleAutoCombat:he,loadState:Ce,getState:de,autoAdvance:O,canOneHitBug:k,showOneHitOnly:F,showCanKillOnly:L,showAllEnemies:A,calculateDamage:M}}),Zi=[{id:"welcome",target:"#header-title",title:"Welcome to Idle Ant Farm!",content:"This tour will guide you through the basics of the game.",placement:"bottom"},{id:"resources",target:"#resource-counter",title:"Resources",content:"Here you can see your current resources. These are used to purchase upgrades and ants.",placement:"bottom"},{id:"generators",target:"#generator-section",title:"Generators",content:"Generators produce resources automatically. Purchase more to increase your production.",placement:"right"},{id:"colony",target:"#colony-tab",title:"Colony",content:"Click here to access your colony, and upgrade your ants.",placement:"bottom",route:"/colony"},{id:"prestige",target:"#prestige-section",title:"Prestige",content:"When you've progressed far enough, you can prestige to earn permanent bonuses.",placement:"left",route:"/prestige"},{id:"home",target:"#home-tab",title:"Home",content:"Return to the main screen to see your colony status.",placement:"bottom",route:"/"},{id:"complete",target:"#header-title",title:"Tour Complete!",content:"You now know the basics of Idle Ant Farm. Happy farming!",placement:"bottom"}],bn=lt("tourStore",()=>{const t=kr(),e=Ns(),r=H(!1),o=H(0),n=H(Zi),a=H(!1),l=H(!1),u=H(null),c=H(null),{width:m,height:d,top:f,left:p,right:g,bottom:b,x,y:U,update:O}=K0(u),F=B(()=>n.value[o.value]||null),L=B(()=>o.value===0),A=B(()=>o.value===n.value.length-1),M=B(()=>n.value.length);Ee(()=>t.isCalculatingOfflineProgress,de=>{l.value&&!de&&(l.value=!1,a.value||setTimeout(()=>{h()},500))}),Ee(F,async de=>{if(console.log("Current step changed",de),!de||!r.value){console.log("Skipping target update: no step or tour inactive");return}const ae=de.target;if(ae){if(console.log("Looking for target element",ae),await new Promise(se=>setTimeout(se,100)),ae.startsWith("#")){const se=ae.substring(1);u.value=document.getElementById(se),console.log("Found target by ID",se,u.value)}else u.value=document.querySelector(ae),console.log("Found target by selector",ae,u.value);u.value?(O(),console.log("Updated bounding box",{width:m.value,height:d.value,top:f.value,left:p.value}),k(),y()):console.warn(`Tour target element not found: ${ae}`)}});const S=de=>{de&&de.length>0&&(n.value=de)},$=()=>{n.value=Zi},y=()=>{if(console.log("Positioning tooltip",{targetElement:u.value,tooltipElement:c.value}),!u.value||!c.value){console.warn("Cannot position tooltip: missing elements",{targetElement:!!u.value,tooltipElement:!!c.value});return}const de=u.value.getBoundingClientRect(),ae=c.value.getBoundingClientRect(),se=20;console.log("Element rects",{targetRect:de,tooltipRect:ae});let Q=de.left+de.width/2-ae.width/2,ee=0,oe="bottom";const D=window.innerWidth,q=10;Q=Math.max(q,Math.min(Q,D-ae.width-q)),window.innerHeight-de.bottom-se>=ae.height?(ee=de.bottom+se,oe="bottom"):(ee=de.top-ae.height-se,oe="top"),ee<q&&(ee=de.bottom+se,oe="bottom"),console.log("Final position",{tooltipX:Q,tooltipY:ee,placement:oe}),c.value.style.left=`${Q}px`,c.value.style.top=`${ee}px`,c.value.dataset.placement=oe,c.value.getBoundingClientRect()},k=()=>{u.value&&(u.value.classList.add("tour-highlight"),u.value.scrollIntoView({behavior:"smooth",block:"center"}))},N=()=>{u.value&&u.value.classList.remove("tour-highlight")},P=()=>{O(),y()},h=async()=>{var de;if(console.log("Starting tour",{isCalculatingOfflineProgress:t.isCalculatingOfflineProgress,hasSeenTour:a.value}),t.isCalculatingOfflineProgress){console.log("Waiting for offline progress calculation to complete"),l.value=!0;return}o.value=0,console.log("Reset to first step",F.value),(de=F.value)!=null&&de.onBeforeShow&&(console.log("Running onBeforeShow hook"),await F.value.onBeforeShow()),r.value=!0,console.log("Tour activated")},_=()=>{N(),r.value=!1,a.value=!0},W=async()=>{if(A.value){_();return}N(),o.value++;const de=F.value;de!=null&&de.route&&await e.push(de.route),de!=null&&de.onBeforeShow&&await de.onBeforeShow()},R=async()=>{if(L.value)return;N(),o.value--;const de=F.value;de!=null&&de.route&&await e.push(de.route),de!=null&&de.onBeforeShow&&await de.onBeforeShow()},pe=()=>{_()},Z=()=>{a.value=!1};return He(()=>{window.addEventListener("resize",P),!t.isCalculatingOfflineProgress&&!a.value&&setTimeout(()=>{h()},500)}),cn(()=>{window.removeEventListener("resize",P),N()}),{isActive:r,currentStepIndex:o,steps:n,hasSeenTour:a,isWaitingForOfflineProgress:l,targetElement:u,tooltipElement:c,currentStep:F,isFirstStep:L,isLastStep:A,totalSteps:M,targetBounding:{width:m,height:d,top:f,left:p,right:g,bottom:b,x,y:U},setTourSteps:S,resetTourSteps:$,startTour:h,endTour:_,nextStep:W,prevStep:R,skipTour:pe,resetTour:Z,positionTooltip:y,highlightTarget:k,removeHighlight:N,collectState:()=>({hasSeenTour:a.value}),applyState:de=>{de&&typeof de.hasSeenTour=="boolean"&&(a.value=de.hasSeenTour)}}}),Nt=lt("progression",()=>{const t=H("initial"),e=H({initial:!0,colonyStatus:!1,upgrades:!1,evolution:!1,complete:!1}),r=B(()=>({colonyStatus:e.value.colonyStatus,colonyPage:e.value.colonyStatus,upgrades:e.value.upgrades,evolution:e.value.evolution,showMetamorphosisExplanation:!e.value.complete,tour:!1}));return{currentStage:t,stageCompleted:e,isFeatureUnlocked:r,checkProgression:()=>{var c;const l=Oe(),u=nr();if(!e.value.colonyStatus){const m=l.getGenerator("worker");m&&m.count.gt(0)&&(e.value.colonyStatus=!0,t.value="colonyStatus")}e.value.colonyStatus&&!e.value.upgrades&&u.totalTicks.gte(10)&&(e.value.upgrades=!0,t.value="upgrades"),e.value.upgrades&&!e.value.evolution&&(c=l.getGenerator("nursery"))!=null&&c.count.gte(5)&&(e.value.evolution=!0,t.value="evolution"),e.value.evolution&&!e.value.complete&&De().hasEvolved&&(e.value.complete=!0,t.value="complete")},getState:()=>({currentStage:t.value,stageCompleted:e.value}),loadState:l=>{l.currentStage&&(t.value=l.currentStage),l.stageCompleted&&(e.value={...e.value,...l.stageCompleted})}}}),Hn="idle-ant-farm-save",J0=6e4,X0=2e3,kr=lt("saveSystem",()=>{const t=H(!0),e=H(!0),r=H(!0),o=H(Date.now()),n=H(Date.now()),a=H(!1),l=H(0),u=H(0),c=H(0);let m=null;const d=()=>({gameStore:nr(),generatorStore:Oe(),prestigeStore:De(),generatorUpgradeStore:at(),inventoryStore:Ze(),adventureStore:vn(),tourStore:bn(),progressionStore:Nt(),filterStore:Bs(),achievementStore:xt()}),f=()=>{const h=d(),_=Date.now();return{settings:{autoSaveEnabled:t.value,offlineProgressEnabled:e.value,autoEnableGeneratorsAfterPrestige:r.value},lastSaveTime:_,gameStore:h.gameStore.getState(),generatorStore:h.generatorStore.getState(),prestigeStore:h.prestigeStore.getState(),generatorUpgradeStore:h.generatorUpgradeStore.getState(),inventoryStore:h.inventoryStore.getState(),adventureStore:h.adventureStore.getState(),tourStore:h.tourStore.collectState(),progressionStore:h.progressionStore.getState(),filterStore:h.filterStore.getState(),achievementStore:h.achievementStore.getState()}},p=h=>{if(!h)return!1;try{const _=d();return h.settings&&(t.value=h.settings.autoSaveEnabled??!0,e.value=h.settings.offlineProgressEnabled??!0,r.value=h.settings.autoEnableGeneratorsAfterPrestige??!0),h.lastSaveTime&&(o.value=h.lastSaveTime),h.gameStore&&_.gameStore.loadState(h.gameStore),h.generatorStore&&_.generatorStore.loadState(h.generatorStore),h.prestigeStore&&_.prestigeStore.loadState(h.prestigeStore),h.generatorUpgradeStore&&_.generatorUpgradeStore.loadState(h.generatorUpgradeStore),h.inventoryStore&&_.inventoryStore.loadState(h.inventoryStore),h.adventureStore&&_.adventureStore.loadState(h.adventureStore),h.tourStore&&_.tourStore.applyState(h.tourStore),h.progressionStore&&_.progressionStore.loadState(h.progressionStore),h.filterStore&&_.filterStore.loadState(h.filterStore),h.achievementStore&&_.achievementStore.loadState(h.achievementStore),n.value=Date.now(),!0}catch(_){return console.error("Error applying saved state:",_),!1}},g=(h,_=!1)=>{if(!e.value)return;let W;if(_?W=h:W=(Date.now()-h)/1e3,W<10)return;const R=14*24*60*60;W>R&&(console.log(`Capping offline progress from ${W} to ${R} seconds (14 days)`),W=R);const pe=d(),Z=pe.gameStore.tickDuration,he=Math.floor(W/Z);if(he>0){a.value=!0,l.value=he,u.value=0,c.value=W;const Ce=100;let de=0;const ae=()=>{const se=Math.min(Ce,he-de);for(let Q=0;Q<se;Q++)pe.gameStore.tick(),pe.prestigeStore.getUpgradeCount("unlockAdventure").gt(0)&&(pe.adventureStore.tick(),pe.adventureStore.tick()),pe.achievementStore.tick(),de++,u.value=de;de<he&&setTimeout(ae,10)};return ae(),{elapsedTime:W,ticks:he}}return null},b=()=>{try{const h=f();return localStorage.setItem(Hn,JSON.stringify(h)),o.value=h.lastSaveTime,console.log("Game saved successfully"),!0}catch(h){return console.error("Error saving game:",h),!1}},x=()=>{try{const h=localStorage.getItem(Hn);if(!h)return!1;const _=JSON.parse(h),W=p(_);if(W&&e.value){const R=_.lastSaveTime||Date.now();return console.log(`Calculating offline progress from saved time: ${new Date(R).toLocaleString()}`),g(R)}return W}catch(h){return console.error("Error loading game:",h),!1}},U=()=>{try{const h=f(),_=JSON.stringify(h);return btoa(_)}catch(h){return console.error("Error exporting save:",h),null}},O=()=>{try{const h=U();if(!h)return!1;const R=`idle-ant-farm-save-${new Date().toISOString().split("T")[0]}.txt`,pe=new Blob([h],{type:"text/plain"}),Z=window.URL.createObjectURL(pe),he=document.createElement("a");return he.href=Z,he.download=R,document.body.appendChild(he),he.click(),window.URL.revokeObjectURL(Z),document.body.removeChild(he),!0}catch(h){return console.error("Error exporting save to file:",h),!1}},F=h=>{try{const _=atob(h),W=JSON.parse(_);return p(W)}catch(_){return console.error("Error importing save:",_),!1}},L=async h=>{try{return new Promise(_=>{const W=new FileReader;W.onload=R=>{var pe;if((pe=R.target)!=null&&pe.result){const Z=R.target.result,he=F(Z);_(he)}else _(!1)},W.onerror=()=>{console.error("Error reading file"),_(!1)},W.readAsText(h)})}catch(_){return console.error("Error importing save from file:",_),!1}},A=()=>{try{return localStorage.removeItem(Hn),window.location.reload(),console.log("Game reset successfully"),!0}catch(h){return console.error("Error resetting game:",h),!1}},M=D0(()=>{t.value&&b()},X0),S=()=>{m||(m=window.setInterval(()=>{t.value&&b()},J0))},$=()=>{m&&(clearInterval(m),m=null)},y=()=>{t.value=!t.value,t.value&&S()},k=()=>{e.value=!e.value,M()},N=()=>{r.value=!r.value,M()},P=B(()=>((Date.now()-o.value)/1e3).toFixed(0));return{autoSaveEnabled:t,offlineProgressEnabled:e,autoEnableGeneratorsAfterPrestige:r,lastSaveTime:o,lastLoadTime:n,timeSinceLastSave:P,isCalculatingOfflineProgress:a,offlineProgressTotalTicks:l,offlineProgressTicksProcessed:u,offlineProgressElapsedTime:c,saveGame:b,loadGame:x,exportSave:U,exportSaveToFile:O,importSave:F,importSaveFromFile:L,resetGame:A,startAutoSave:S,stopAutoSave:$,toggleAutoSave:y,toggleOfflineProgress:k,toggleAutoEnableGeneratorsAfterPrestige:N,calculateOfflineProgress:g,debouncedSave:M}}),nr=lt("game",()=>{const t=H(10),e=H(1),r=B(()=>{const S=De(),$=S.getUpgradeMultiplier("cycleTimeReduction").toNumber(),y=S.getUpgradeMultiplier("cycleTimeReductionAdvanced").toNumber();return Math.max(.1,(t.value-$-y)/e.value)}),o=H(0),n=H(0),a=H(Date.now()),l=H(!0),u=H(i(0)),c=H(i(0)),m=B(()=>Math.round(o.value*100)),d=B(()=>Math.round(n.value*100)),f=B(()=>(r.value*(1-o.value)).toFixed(1)),p=B(()=>(r.value/2*(1-n.value)).toFixed(1)),g=B(()=>re(u.value,0)),b=B(()=>re(c.value,0));function x(){u.value=u.value.add(1),c.value=c.value.add(1),Oe().tick(),De().updateLoopProgress(1),at().updateWorkerProgress(1);try{Ze().processAutoMerge()}catch(P){console.error("Error processing auto-merge:",P)}Nt().checkProgression(),kr().debouncedSave(),o.value=0,a.value=Date.now()}function U(){if(!l.value)return;const S=Date.now(),$=(S-a.value)/1e3;o.value+=$/r.value,De().getUpgradeCount("unlockAdventure").gt(0)&&(n.value+=$/(r.value/2),n.value>=1&&(vn().tick(),n.value=0)),o.value>=1&&x(),a.value=S}function O(){l.value=!l.value,l.value&&(a.value=Date.now())}function F(S){e.value=S,console.log(`Game speed set to ${S}x`)}const L=()=>({totalTicks:u.value.toString(),currentEvolutionTicks:c.value.toString(),baseTickDuration:t.value,gameSpeed:e.value}),A=S=>{S.totalTicks&&(u.value=i(S.totalTicks)),S.currentEvolutionTicks&&(c.value=i(S.currentEvolutionTicks)),S.baseTickDuration&&(t.value=S.baseTickDuration),S.gameSpeed&&(e.value=S.gameSpeed)};function M(){c.value=i(0)}return{tickDuration:r,tickProgress:o,adventureTickProgress:n,isRunning:l,totalTicks:u,currentEvolutionTicks:c,formattedTotalTicks:g,formattedCurrentEvolutionTicks:b,progressPercentage:m,adventureProgressPercentage:d,timeRemaining:f,adventureTimeRemaining:p,gameSpeed:e,setGameSpeed:F,tick:x,updateProgress:U,toggleRunning:O,getState:L,loadState:A,resetEvolutionTicks:M}}),xt=lt("achievements",()=>{const t=H(eu),e=H(Zl),r=H({food:i(0),totalFood:i(0),workers:i(0),totalWorkers:i(0),nurseries:i(0),totalNurseries:i(0),queenChambers:i(0),totalQueenChambers:i(0),colonies:i(0),totalColonies:i(0),megacolonies:i(0),totalMegacolonies:i(0),hiveminds:i(0),totalHiveminds:i(0),antopolis:i(0),totalAntopolis:i(0),evolutionPoints:i(0),totalEvolutionPoints:i(0),totalEvolutions:i(0),maxLoopsInEvolution:i(0),totalGameTime:i(0),fastestEvolution:i(0),generatorUpgradesPurchased:i(0),prestigeUpgradesPurchased:i(0)}),o=H([]),n=H(!1),a=H(!0),l=B(()=>t.value.length),u=B(()=>t.value.filter(S=>S.completed).length),c=B(()=>u.value/l.value*100),m=S=>t.value.filter($=>$.categoryId===S),d=()=>t.value.filter(S=>!S.hiddenUntilCompleted||S.completed),f=S=>{const $=t.value.find(y=>y.id===S);return $?$.completed:!1},p=(S,$,y=!1)=>{r.value[S]&&(y?r.value[S]=r.value[S].add($):$.gt(r.value[S])&&(r.value[S]=$),g(S))},g=S=>{const $=t.value.filter(y=>y.targetStat===S&&!y.completed);for(const y of $)y.currentValue=r.value[S],y.currentValue.gte(y.requirement)&&b(y.id)},b=S=>{console.log("completeAchievement",S);const $=t.value.find(y=>y.id===S);!$||$.completed||($.completed=!0,$.completionDate=Date.now(),o.value.push($),a.value&&(n.value=!0),setTimeout(()=>{o.value=o.value.filter(y=>y.id!==S),o.value.length===0&&(n.value=!1)},5e3))},x=(S,$)=>{p("food",S,!1),p("totalFood",$,!0)},U=(S,$)=>{switch(S){case"worker":p("workers",$,!1);break;case"nursery":p("nurseries",$,!1);break;case"queenChamber":p("queenChambers",$,!1);break;case"colony":p("colonies",$,!1);break;case"megacolony":p("megacolonies",$,!1);break;case"hivemind":p("hiveminds",$,!1);break;case"antopolis":p("antopolis",$,!1);break}},O=(S,$,y,k)=>{p("evolutionPoints",S,!1),p("totalEvolutionPoints",$,!0),p("totalEvolutions",y,!1),p("maxLoopsInEvolution",k,!1)},F=S=>{p("totalGameTime",i(S),!0)};return{achievementList:t,categories:e,stats:r,recentlyCompleted:o,showNotification:n,notificationsEnabled:a,totalAchievements:l,completedAchievements:u,completionPercentage:c,getAchievementsByCategory:m,getVisibleAchievements:d,checkAchievement:f,updateStats:p,completeAchievement:b,updateFoodStats:x,updateGeneratorCounts:U,updateEvolutionStats:O,updateGameTime:F,tick:()=>{try{const S=nr();F(1)}catch(S){console.error("Error updating game time achievements:",S)}},getState:()=>({achievements:t.value.map(S=>({id:S.id,currentValue:S.currentValue.toString(),completed:S.completed,completionDate:S.completionDate})),stats:Object.entries(r.value).reduce((S,[$,y])=>(S[$]=y.toString(),S),{}),notificationsEnabled:a.value}),loadState:S=>{S.achievements&&Array.isArray(S.achievements)&&S.achievements.forEach($=>{const y=t.value.find(k=>k.id===$.id);y&&(y.currentValue=i($.currentValue),y.completed=$.completed,y.completionDate=$.completionDate)}),S.stats&&Object.entries(S.stats).forEach(([$,y])=>{const k=$;r.value[k]!==void 0&&(r.value[k]=i(y))}),S.notificationsEnabled!==void 0&&(a.value=S.notificationsEnabled)}}}),Ht=lt("multiplier",()=>{const t=Oe(),e=De(),r=at(),o=Ze();kt();const n=xt(),a=()=>{const A=[],M=e.getAllMultipliers();e.evolutionUpgrades.forEach(y=>{if(!y.level.eq(0)&&!(y.category!=="production"&&y.category!=="synergy")&&(!y.appliesTo||y.appliesTo.length===0))if(y.id==="generatorSynergy"||y.id==="evolutionSynergy"){const k=y.id==="generatorSynergy"?"generatorSynergyBonus":"evolutionSynergyBonus";M[k]&&M[k].gt(1)&&A.push({id:k,name:y.name,getMultiplier:()=>M[k]||i(1),appliesTo:()=>!0})}else A.push({id:y.id,name:y.name,getMultiplier:()=>e.getUpgradeMultiplier(y.id),appliesTo:()=>!0})});const $=o.totalSpecialModifiers;return $.global&&$.global.gt(1)&&A.push({id:"item_global_multiplier",name:"Global Production Bonus",getMultiplier:()=>$.global,appliesTo:()=>!0}),o.equipmentSlots.forEach(y=>{if(y.item){const k=o.getItem(y.item);k&&k.productionModifiers&&k.productionModifiers.global&&A.push({id:`equipment_${k.id}_global`,name:`${k.name} Global Bonus`,getMultiplier:()=>k.productionModifiers.global,appliesTo:()=>!0})}}),A},l=()=>{const A=[];return e.evolutionUpgrades.forEach(S=>{S.level.eq(0)||S.isCombo||S.category!=="production"&&S.category!=="synergy"||S.appliesTo&&S.appliesTo.length>0&&A.push({id:S.id,name:S.name,getMultiplier:()=>e.getUpgradeMultiplier(S.id),appliesTo:$=>{var y;return((y=S.appliesTo)==null?void 0:y.includes($))||!1}})}),A.push({id:"advancedEfficiency",name:"Advanced Efficiency",getMultiplier:()=>e.getUpgradeMultiplier("strongerSoldiers"),appliesTo:S=>{const $=t.getGenerator(S);return $?$.tier>4:!1}}),A},u=()=>{const A=[];return e.evolutionUpgrades.forEach(S=>{S.level.eq(0)||S.isCombo&&(!S.effects||S.effects.length===0||S.effects.forEach($=>{$.target!=="global"&&$.target!=="ep"?A.push({id:`${S.id}_${$.target}`,name:S.name,getMultiplier:()=>$.multiplier(S.level),appliesTo:y=>y===$.target}):$.target==="global"&&A.push({id:`${S.id}_global`,name:S.name,getMultiplier:()=>$.multiplier(S.level),appliesTo:()=>!0})}))}),A},c=()=>{const A=[];return r.generatorUpgrades.filter($=>!["Training","Expansion","Longevity","Automation","Fertility","Dominance"].some(k=>$.id.includes(k))).forEach($=>{$.level.gt(0)&&A.push({id:$.id,name:$.name,getMultiplier:()=>r.getUpgradeMultiplier($.id),appliesTo:y=>y===$.generatorId})}),A},m=()=>{const A=[];return o.equipmentSlots.forEach(M=>{if(M.item){const S=o.getItem(M.item);if(S!=null&&S.productionModifiers){let $=i(1);M.mergeLevel&&M.mergeLevel>0&&($=i(Math.pow(1.15,M.mergeLevel))),Object.entries(S.productionModifiers).forEach(([y,k])=>{if(y==="global")return;const N=k.mul($);A.push({id:`equipment_${S.id}_${y}`,name:`${S.name} Bonus`,getMultiplier:()=>N,appliesTo:P=>P===y})})}}}),A},d=()=>{const A=[{id:"tierBonus",name:"Tier Bonus",getMultiplier:S=>{const $=t.getGenerator(S);if($&&$.tier>4){const y=1+($.tier-4)*.1;return i(y)}return i(1)},appliesTo:S=>{const $=t.getGenerator(S);return $?$.tier>4:!1}},{id:"evolutionaryAdaptation",name:"Evolutionary Adaptation",getMultiplier:S=>{const $=e.getUpgrade("evolutionaryAdaptation");if($&&$.level.gt(0)){const y=e.evolutionCount;return i(1).add(y.mul(.01))}return i(1)},appliesTo:S=>S==="worker"}],M=o.totalSpecialModifiers;return M.global&&M.global.gt(1)&&A.push({id:"item_global_multiplier",name:"Global Production Bonus",getMultiplier:()=>M.global,appliesTo:()=>!0}),A},f=()=>{const A=[];return n.achievementList.filter(S=>S.completed&&S.modifiers&&S.modifiers.length>0).forEach(S=>{S.modifiers&&S.modifiers.forEach($=>{A.push({id:`achievement_${S.id}_${$.target}`,name:S.name,getMultiplier:()=>$.multiplier,appliesTo:y=>$.target==="global"?!0:$.target==="ep"?!1:y===$.target})})}),A},p=(A=!1)=>{const M=[...a(),...l(),...u(),...c(),...m(),...d()];return A||M.push(...f()),M},g=(A,M=!1)=>{let S=i(1);const $=p(M);for(const y of $)if(y.appliesTo(A)){const k=y.getMultiplier(A);k.gt(1)&&(S=S.mul(k))}return S},b=(A,M=!1)=>g(A,M);return{getProductionMultiplier:b,getFormattedMultiplier:(A,M=!1)=>{const S=b(A,M);return S.lt(1e3)?`${S.toFixed(2)}x`:re(S,2)+"x"},getMultiplierBreakdown:(A,M=!1)=>{const S=[],$=p(M);for(const y of $)if(y.appliesTo(A)){const k=y.getMultiplier(A);k.gt(1)&&S.push({name:y.name,value:k,formatted:re(k,2)+"x",id:y.id})}return S},getEPBoostMultiplier:()=>{let M=o.totalSpecialModifiers.epBoost||i(1);return e.evolutionUpgrades.forEach(y=>{y.level.eq(0)||y.isCombo&&(!y.effects||y.effects.length===0||y.effects.forEach(k=>{k.target==="ep"&&(M=M.mul(k.multiplier(y.level)))}))}),n.achievementList.filter(y=>y.completed&&y.modifiers&&y.modifiers.length>0).forEach(y=>{y.modifiers&&y.modifiers.forEach(k=>{k.target==="ep"&&(M=M.mul(k.multiplier))})}),M},getQueenChamberEPBoost:()=>{var A;try{const M=Oe(),S=at(),$=De(),y=M.getGenerator("queenChamber");if(!y||y.manualPurchases.eq(0))return i(1);const k=S.getUpgrade("queenChamberEvolution");if(!k||k.level.eq(0))return i(1);const N=$.evolutionCount;if(N.eq(0))return i(1);const h=(((A=k.effect)==null?void 0:A.call(k,k.level))||i(0)).mul(y.manualPurchases).mul(N);return i(1).add(h)}catch(M){return console.error("Error calculating Queen Chamber EP boost:",M),i(1)}},getCostMultipliers:A=>{let M=i(1);return e.evolutionUpgrades.forEach($=>{if(!$.level.eq(0))if($.isCombo)$.isCombo&&$.effects&&$.effects.forEach(y=>{(y.target===A||y.target==="global")&&y.multiplier($.level).lt(1)&&(M=M.mul(y.multiplier($.level)))});else{if($.category!=="cost")return;$.appliesTo&&$.appliesTo.includes(A)&&(M=M.mul(e.getUpgradeMultiplier($.id)))}}),M},getAchievementMultipliers:f}}),Oe=lt("generator",()=>{const t=H([{id:"worker",name:"Worker Ant",description:"Gathers food and materials for the colony",tier:1,count:i(0),manualPurchases:i(0),baseCost:i(10),costGrowth:i(1.1),initialBaseProduction:i(10),unlocked:!0,purchasable:!1,icon:"i-heroicons-bug-ant",autoPurchaseEnabled:!0},{id:"nursery",name:"Nursery",description:"Produces worker ants",tier:2,count:i(0),manualPurchases:i(0),baseCost:i(100),costGrowth:i(1.1),initialBaseProduction:i(1),unlocked:!1,purchasable:!1,icon:"i-heroicons-home-modern",autoPurchaseEnabled:!0},{id:"queenChamber",name:"Queen Chamber",description:"Nurtures new queens",tier:3,count:i(0),manualPurchases:i(0),baseCost:i(1e3),costGrowth:i(1.1),initialBaseProduction:i(1),unlocked:!1,purchasable:!1,icon:"i-heroicons-crown",autoPurchaseEnabled:!0},{id:"colony",name:"Colony",description:"Expands your ant empire",tier:4,count:i(0),manualPurchases:i(0),baseCost:i(1e4),costGrowth:i(1.1),initialBaseProduction:i(1),unlocked:!1,purchasable:!1,icon:"i-heroicons-building-storefront",autoPurchaseEnabled:!0},{id:"megacolony",name:"Mega Colony",description:"A massive colony complex with advanced infrastructure",tier:5,count:i(0),manualPurchases:i(0),baseCost:i(1e5),costGrowth:i(1.2),initialBaseProduction:i(1),unlocked:!1,purchasable:!1,icon:"i-heroicons-building-office-2",autoPurchaseEnabled:!0},{id:"hivemind",name:"Hive Mind",description:"A collective consciousness that coordinates all colonies",tier:6,count:i(0),manualPurchases:i(0),baseCost:i(1e6),costGrowth:i(1.2),initialBaseProduction:i(1),unlocked:!1,purchasable:!1,icon:"i-heroicons-cpu-chip",autoPurchaseEnabled:!0},{id:"antopolis",name:"Antopolis",description:"An entire city-state of ants with advanced civilization",tier:7,count:i(0),manualPurchases:i(0),baseCost:i(1e7),costGrowth:i(1.2),initialBaseProduction:i(1),unlocked:!1,purchasable:!1,icon:"i-heroicons-building-library",autoPurchaseEnabled:!0}]),e=H(i(10)),r=B(()=>{const $=t.value[0];try{const k=Ht().getProductionMultiplier("worker"),N=d("worker");return $.count.mul(N).mul(k)}catch(y){return console.error("Error calculating food production:",y),$.count.mul($.initialBaseProduction)}}),o=$=>t.value.find(y=>y.id===$),n=B(()=>t.value.filter($=>$.unlocked)),a=B(()=>{const y=Math.max(...t.value.filter(N=>N.unlocked&&N.tier<=4).map(N=>N.tier))+1,k=t.value.find(N=>N.tier===y);if(!(k&&k.tier>=5))return k}),l=$=>{const y=o($);if(!y)return i(0);let k=i(1);try{const h=at();if($==="worker")k=h.getUpgradeMultiplier("workerTraining");else if($==="nursery")k=h.getUpgradeMultiplier("nurseryExpansion");else if($==="queenChamber")k=h.getUpgradeMultiplier("queenChamberLongevity");else if($==="colony")k=h.getUpgradeMultiplier("colonyExpansion");else if($==="megacolony"||$==="hivemind"||$==="antopolis")try{k=De().getUpgradeMultiplier("strongerSoldiers")}catch(_){console.error("Error applying advanced generator cost reduction:",_)}}catch(h){console.error("Error applying cost reduction:",h)}const N=k0(y.tier,y.manualPurchases),P=Ht();return k=k.mul(P.getCostMultipliers($)),N.mul(k)},u=($,y=1)=>{const k=o($);if(!k||!k.unlocked&&!k.purchasable)return!1;if($==="hivemind"){const P=o("megacolony");if(!P||P.count.eq(0))return!1}else if($==="antopolis"){const P=o("hivemind");if(!P||P.count.eq(0))return!1}const N=l($);if(e.value.gte(N)){e.value=e.value.sub(N),k.count=k.count.add(y),k.manualPurchases=k.manualPurchases.add(y),m(k.tier);try{const h=at();h.updateQueenChamberProgress(y),$==="colony"?h.updateMegacolonyProgress(y):$==="megacolony"?h.updateHivemindProgress(y):$==="hivemind"&&h.updateAntopolisProgress(y)}catch(h){console.error("Error updating generator progress:",h)}Nt().checkProgression();try{xt().updateGeneratorCounts($,k.count)}catch(h){console.error("Error updating achievements:",h)}return!0}return!1},c=($,y)=>{const k=o($);if(k){k.count=k.count.add(y),k.count.gte(10)&&m(k.tier);try{xt().updateGeneratorCounts($,k.count)}catch(N){console.error("Error updating achievements:",N)}}},m=$=>{const y=t.value.find(N=>N.tier===$),k=t.value.find(N=>N.tier===$+1);y&&k&&!k.unlocked&&y.count.gte(10)&&(k.unlocked=!0)},d=$=>{const y=o($);if(!y)return i(0);let k=y.initialBaseProduction;try{const N=at(),P=`${$}Base`,h=N.getUpgrade(P);h&&($==="worker"?k=k.add(i(10).mul(h.level)):k=k.add(h.level))}catch(N){console.error("Error calculating base production:",N)}return k},f=$=>d($),p=($,y,k)=>{try{const N=`${$}Reproduction`,P=k.getUpgradeMultiplier(N);if(P.gt(0)&&y>0&&Math.random()<P.toNumber())return i(1)}catch(N){console.error(`Error processing self-reproduction for ${$}:`,N)}return i(0)},g=()=>{const $=De(),y=at();Ht();let k=null;try{k=xt()}catch(h){console.error("Achievement store not available:",h)}try{const h={worker:"autoWorker",nursery:"autoNursery",queenChamber:"autoQueenChamber",colony:"autoColony",megacolony:"autoMegacolony",hivemind:"autoHivemind",antopolis:"autoAntopolis"};for(const _ of[...t.value].reverse())if(_.unlocked&&_.autoPurchaseEnabled){const W=h[_.id];if(W){const R=$.getUpgradeMultiplier(W);if(R.gt(0))for(let pe=0;pe<R.toNumber();pe++)u(_.id,1)}}}catch(h){console.error("Error applying auto-purchasing:",h)}let N=i(0);for(let h=t.value.length-1;h>0;h--){const _=t.value[h],W=t.value[h-1];if(m(_.tier),_.unlocked&&_.count.gt(0)){let R=_.count.mul(f(_.id));R=R.mul(O(_.id)),c(W.id,R);const pe=p(_.id,_.count.toNumber(),$);pe.gt(0)&&(_.count=_.count.add(pe))}}const P=t.value[0];if(P.unlocked&&P.count.gt(0)){let h=r.value;e.value=e.value.add(h),N=h;try{y.updateNurseryProgress(N)}catch(W){console.error("Error updating nursery progress:",W)}const _=p("worker",P.count.toNumber(),$);_.gt(0)&&(P.count=P.count.add(_)),k&&k.updateFoodStats(e.value,N)}},b=$=>{const y=o($);return y?re(y.count,0):"0"},x=$=>{const y=o($);return y?re(y.manualPurchases,0):"0"},U=()=>re(e.value,2),O=$=>{try{return Ht().getProductionMultiplier($)}catch(y){return console.error("Error calculating production multiplier:",y),i(1)}},F=$=>{const y=O($);return`${re(y,2)}x`},L=$=>{const y=o($);return y?(y.autoPurchaseEnabled=!y.autoPurchaseEnabled,!0):!1},A=()=>({food:e.value.toString(),generators:t.value.map($=>({id:$.id,count:$.count.toString(),manualPurchases:$.manualPurchases.toString(),unlocked:$.unlocked,purchasable:$.purchasable,autoPurchaseEnabled:$.autoPurchaseEnabled}))}),M=$=>{$.food&&(e.value=i($.food)),$.generators&&Array.isArray($.generators)&&$.generators.forEach(y=>{const k=o(y.id);k&&(k.count=i(y.count),y.manualPurchases?k.manualPurchases=i(y.manualPurchases):k.manualPurchases=i(y.count),k.unlocked=y.unlocked,y.purchasable!==void 0?k.purchasable=y.purchasable:k.tier>=5&&y.unlocked&&(k.purchasable=!0,k.unlocked=!1),y.autoPurchaseEnabled!==void 0&&(k.autoPurchaseEnabled=y.autoPurchaseEnabled))})},S=B(()=>{let $=0;return Object.values(at().generatorPoints).forEach(y=>{$+=y.toNumber()}),$});return{generators:t,unlockedGenerators:n,nextUnlockableGenerator:a,food:e,foodPerSecond:r,totalPointsAvailable:S,getGenerator:o,getGeneratorCost:l,buyGenerator:u,addGeneratorAuto:c,unlockNextTier:m,tick:g,formatGeneratorCount:b,formatManualPurchases:x,formatFood:U,getProductionMultiplier:O,formatProductionMultiplier:F,toggleAutoPurchase:L,getState:A,loadState:M,getBaseProduction:f}}),Ge=t=>{const e=(t.toNumber()-1)*100;return e>=1e3?`+${mt(e)}`:`+${e.toFixed(0)}%`},Z0=t=>{const e=(1-t.toNumber())*100;return e>=1e3?`-${mt(e)}`:`-${e.toFixed(0)}%`},$r=t=>`${re(t,2)}x`,Vt=t=>`${re(t,0)}`,ea=t=>`${re(t,1)}s`,Er=t=>t.gt(0)?"Unlocked":"Locked",wt=(t,e)=>{if(["foodProcessing","efficientQueens","shorterLoops","strongerSoldiers","mutatedWorkers","nurseryEfficiency","colonyExpansion","exponentialGrowth","compoundEvolution","unlockMegacolony","cycleTimeReduction","epBoost","cycleFoodReduction","startingFood","autoWorker","autoNursery","autoQueenChamber","autoColony","bulkAutomation","generatorSynergy","evolutionSynergy","prestigeAcceleration","inventorySlots","unlockAdventure","workerCostDiscount"].includes(t))return!0;const o=e.find(l=>l.id==="unlockMegacolony"),n=e.find(l=>l.id==="unlockHivemind"),a=e.find(l=>l.id==="unlockAntopolis");return["autoMegacolony","megacolonyEfficiency","unlockHivemind"].includes(t)?o?o.level.gt(0):!1:["autoHivemind","hivemindEfficiency","unlockAntopolis"].includes(t)?n?n.level.gt(0):!1:["autoAntopolis","antopolisEfficiency"].includes(t)?a?a.level.gt(0):!1:t==="foodProcessingAdvanced"?Fr("foodProcessing",e):t==="efficientQueensAdvanced"?Fr("efficientQueens",e):t==="cycleTimeReductionAdvanced"?Fr("cycleTimeReduction",e):!0},Fr=(t,e)=>{const r=e.find(o=>o.id===t);return r?r.level.eq(r.maxLevel||i(0)):!1},ef=(t,e,r)=>e.eq(0)?t:r?r({cost:t,level:e}):t.mul(i(1.5).pow(e)),tf=()=>{const t=[{id:"foodProcessing",name:"Faster Food Processing",description:"Increases food production by 10% per level",baseCost:i(1),cost:i(1),costMultiplier:e=>i(e.cost).mul(i(1.4).pow(e.level)),level:i(0),maxLevel:i(25),effect:e=>i(1).add(e.mul(.1)),formatEffect:Ge,icon:"i-heroicons-cake",isUnlocked:()=>!0,category:"production",appliesTo:["worker"]},{id:"doubleFood",name:"Double Food",description:"Doubles the amount of food produced per level",baseCost:i(100),cost:i(100),level:i(0),maxLevel:i(3),costMultiplier:e=>i(e.cost).mul(i(3).pow(e.level)),effect:e=>i(1).add(e.mul(1)),formatEffect:Ge,icon:"i-heroicons-cake",isUnlocked:()=>!0,category:"production",appliesTo:["worker"]},{id:"workerCostDiscount",name:"Worker Cost Discount",description:"Divides the cost of workers by 1500 per level",baseCost:i(100),cost:i(100),costMultiplier:e=>i(e.cost).mul(i(1.4).pow(e.level)).pow(i(e.level.gt(0)?2:1)),level:i(0),maxLevel:i(25),effect:e=>i(1).div(i(1500).pow(e)),formatEffect:$r,icon:"i-heroicons-user-group",isUnlocked:()=>!0,category:"cost",appliesTo:["worker"]},{id:"nurseryCostDiscount",name:"Nursery Cost Discount",description:"Divides the cost of nurseries by 8200 per level",baseCost:i(1e3),cost:i(1e3),costMultiplier:e=>i(e.cost).mul(i(1.4).pow(e.level)).pow(i(e.level.gt(0)?2:1)),level:i(0),maxLevel:i(25),effect:e=>i(1).div(i(8200).pow(e)),formatEffect:$r,icon:"i-heroicons-user-group",isUnlocked:()=>!0,category:"cost",appliesTo:["nursery"]},{id:"foodProcessingAdvanced",name:"Advanced Food Processing",description:"Increases food production by 20% per level",baseCost:i(1e6),cost:i(1e6),costMultiplier:e=>i(e.cost).mul(i(1.4).pow(e.level)),level:i(0),maxLevel:i(25),effect:e=>i(1).add(e.mul(.2)),formatEffect:Ge,icon:"i-heroicons-cake",isUnlocked:()=>Fr("foodProcessing",t),category:"production",appliesTo:["worker"]},{id:"efficientQueens",name:"Efficient Queens",description:"Queens produce 15% more nurseries per level",baseCost:i(1e3),cost:i(1e3),costMultiplier:e=>i(e.cost).mul(i(1.45).pow(e.level)),level:i(0),maxLevel:i(25),effect:e=>i(1).add(e.mul(.15)),formatEffect:Ge,icon:"i-heroicons-crown",isUnlocked:()=>!0,category:"production",appliesTo:["queenChamber"]},{id:"efficientQueensAdvanced",name:"Advanced Efficient Queens",description:"Queens produce 30% more nurseries per level",baseCost:i(1e6),cost:i(1e6),costMultiplier:e=>i(e.cost).mul(i(1.45).pow(e.level)),level:i(0),maxLevel:i(25),effect:e=>i(1).add(e.mul(.3)),formatEffect:Ge,icon:"i-heroicons-crown",isUnlocked:()=>Fr("efficientQueens",t),category:"production",appliesTo:["queenChamber"]},{id:"strongerSoldiers",name:"Stronger Soldier Ants",description:"Increases overall colony efficiency by 5% per level",baseCost:i(5),cost:i(5),costMultiplier:e=>i(e.cost).mul(i(1.6).pow(e.level)),level:i(0),maxLevel:null,effect:e=>i(1).add(e.mul(.05)),formatEffect:Ge,icon:"i-heroicons-shield-check",isUnlocked:()=>!0,category:"production"},{id:"mutatedWorkers",name:"Mutated Worker Ants",description:"Worker ants produce 20% more food per level",baseCost:i(8),cost:i(8),costMultiplier:e=>i(e.cost).mul(i(1.7).pow(e.level)),level:i(0),maxLevel:i(15),effect:e=>i(1).add(e.mul(.2)),formatEffect:Ge,icon:"i-heroicons-sparkles",isUnlocked:()=>!0,category:"production",appliesTo:["worker"]},{id:"nurseryEfficiency",name:"Advanced Nursery Techniques",description:"Nurseries produce 25% more worker ants per level",baseCost:i(10),cost:i(10),costMultiplier:e=>i(e.cost).mul(i(1.75).pow(e.level)),level:i(0),maxLevel:i(15),effect:e=>i(1).add(e.mul(.25)),formatEffect:Ge,icon:"i-heroicons-beaker",isUnlocked:()=>!0,category:"production",appliesTo:["nursery"]},{id:"colonyExpansion",name:"Colony Expansion Tactics",description:"Colonies produce 30% more queen chambers per level",baseCost:i(2500),cost:i(2500),costMultiplier:e=>i(e.cost).mul(i(1.8).pow(e.level)),level:i(0),maxLevel:i(10),effect:e=>i(1).add(e.mul(.3)),formatEffect:Ge,icon:"i-heroicons-map",isUnlocked:()=>!0,category:"production",appliesTo:["colony"]},{id:"exponentialGrowth",name:"Exponential Growth",description:"All production increases by 2x per level",baseCost:i(1e3),cost:i(1e3),costMultiplier:e=>i(e.cost).mul(i(2).pow(i(e.level).mul(1.5))),level:i(0),maxLevel:i(10),effect:e=>i(2).pow(e),formatEffect:$r,icon:"i-heroicons-chart-bar",isUnlocked:()=>!0,category:"production"},{id:"compoundEvolution",name:"Compound Evolution",description:"All production increases by 2% per level, compounding with other upgrades",baseCost:i(50),cost:i(50),costMultiplier:e=>i(e.cost).mul(i(1.5).pow(e.level)),level:i(0),maxLevel:i(5),effect:e=>i(1).add(e.mul(.02)),formatEffect:Ge,icon:"i-heroicons-arrow-trending-up",isUnlocked:()=>!0,category:"production"},{id:"unlockMegacolony",name:"Mega Colony",description:"Unlocks the Mega Colony generator",baseCost:i(1e3),cost:i(1e3),level:i(0),maxLevel:i(1),effect:e=>i(e),formatEffect:Er,icon:"i-heroicons-building-office-2",isUnlocked:()=>!0,category:"research"},{id:"unlockHivemind",name:"Hive Mind",description:"Unlocks the Hive Mind generator",baseCost:i(1e9),cost:i(1e9),level:i(0),maxLevel:i(1),effect:e=>i(e),formatEffect:Er,icon:"i-heroicons-cpu-chip",isUnlocked:()=>wt("unlockMegacolony",t),category:"research"},{id:"unlockAntopolis",name:"Antopolis",description:"Unlocks the Antopolis generator",baseCost:i(1e12),cost:i(1e12),level:i(0),maxLevel:i(1),effect:e=>i(e),formatEffect:Er,icon:"i-heroicons-building-library",isUnlocked:()=>wt("unlockHivemind",t),category:"research"},{id:"megacolonyEfficiency",name:"Mega Colony Optimization",description:"Mega Colonies produce 40% more colonies per level",baseCost:i(100),cost:i(100),costMultiplier:e=>i(e.cost).mul(i(2).pow(e.level)),level:i(0),maxLevel:i(10),effect:e=>i(1).add(e.mul(.4)),formatEffect:Ge,icon:"i-heroicons-building-office-2",isUnlocked:()=>wt("megacolonyEfficiency",t),category:"production",appliesTo:["megacolony"]},{id:"hivemindEfficiency",name:"Hive Mind Optimization",description:"Hive Minds produce 50% more mega colonies per level",baseCost:i(500),cost:i(500),costMultiplier:e=>i(e.cost).mul(i(2.2).pow(e.level)),level:i(0),maxLevel:i(10),effect:e=>i(1).add(e.mul(.5)),formatEffect:Ge,icon:"i-heroicons-cpu-chip",isUnlocked:()=>wt("hivemindEfficiency",t),category:"production",appliesTo:["hivemind"]},{id:"antopolisEfficiency",name:"Antopolis Optimization",description:"Antopolis produces 60% more hive minds per level",baseCost:i(2500),cost:i(2500),costMultiplier:e=>i(e.cost).mul(i(2.5).pow(e.level)),level:i(0),maxLevel:i(10),effect:e=>i(1).add(e.mul(.6)),formatEffect:Ge,icon:"i-heroicons-building-library",isUnlocked:()=>wt("antopolisEfficiency",t),category:"production",appliesTo:["antopolis"]},{id:"cycleTimeReduction",name:"Time Manipulation",description:"Decreases cycle time by 0.2 seconds per level",baseCost:i(50),cost:i(50),costMultiplier:e=>i(e.cost).mul(i(1.5).pow(e.level)),level:i(0),maxLevel:i(20),effect:e=>i(.2).mul(e),formatEffect:ea,icon:"i-heroicons-clock-solid",isUnlocked:()=>!0,category:"efficiency"},{id:"cycleTimeReductionAdvanced",name:"Advanced Time Manipulation",description:"Decreases cycle time by 0.4 seconds per level",baseCost:i(1e12),cost:i(1e12),costMultiplier:e=>i(e.cost).mul(i(1.5).pow(e.level)),level:i(0),maxLevel:i(5),effect:e=>i(.4).mul(e),formatEffect:ea,icon:"i-heroicons-clock-solid",isUnlocked:()=>Fr("cycleTimeReduction",t),category:"efficiency"},{id:"epBoost",name:"Evolution Mastery",description:"Increases Evolution Points gained per cycle by 10% per level",baseCost:i(25),cost:i(25),costMultiplier:e=>i(e.cost).mul(i(1.8).pow(e.level)),level:i(0),maxLevel:i(25),effect:e=>i(1).add(e.mul(.1)),formatEffect:Ge,icon:"i-heroicons-star",isUnlocked:()=>!0,category:"prestige"},{id:"doubleEvolution",name:"Double Evolution",description:"Doubles the amount of Evolution Points gained per cycle",baseCost:i(1e3),cost:i(1e3),costMultiplier:e=>i(e.cost).mul(i(10).pow(e.level)),level:i(0),maxLevel:i(2),effect:e=>e.gt(0)?i(2).pow(e):i(1),formatEffect:$r,icon:"i-heroicons-star",isUnlocked:()=>!0,category:"prestige"},{id:"cycleFoodReduction",name:"Cycle Food Reduction",description:"Reduces the food required for each cycle by 5% per level (max 75%)",baseCost:i(50),cost:i(50),costMultiplier:e=>i(e.cost).mul(i(2).pow(e.level)),level:i(0),maxLevel:i(15),effect:e=>i(1).sub(e.mul(.05).min(.75)),formatEffect:Z0,icon:"i-heroicons-arrow-down-circle",isUnlocked:()=>!0,category:"efficiency"},{id:"startingFood",name:"Starting Resources",description:"Start with 10x more food per level after evolution",baseCost:i(100),cost:i(100),costMultiplier:e=>i(e.cost).mul(i(1.5).pow(e.level)),level:i(0),maxLevel:i(10),effect:e=>i(10).pow(e),formatEffect:$r,icon:"i-heroicons-banknotes",isUnlocked:()=>!0,category:"prestige"},{id:"autoWorker",name:"Worker Automation",description:"Automatically purchases Worker Ants each tick. Each level increases purchases per tick.",baseCost:i(5),cost:i(5),costMultiplier:e=>i(e.cost).mul(i(1.3).pow(e.level)),level:i(0),maxLevel:i(25),effect:e=>e,formatEffect:Vt,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!0,category:"automation"},{id:"autoNursery",name:"Nursery Automation",description:"Automatically purchases Nurseries each tick. Each level increases purchases per tick.",baseCost:i(15),cost:i(15),costMultiplier:e=>i(e.cost).mul(i(1.35).pow(e.level)),level:i(0),maxLevel:i(25),effect:e=>e,formatEffect:Vt,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!0,category:"automation"},{id:"autoQueenChamber",name:"Queen Chamber Automation",description:"Automatically purchases Queen Chambers each tick. Each level increases purchases per tick.",baseCost:i(500),cost:i(500),costMultiplier:e=>i(e.cost).mul(i(1.4).pow(e.level)),level:i(0),maxLevel:i(25),effect:e=>e,formatEffect:Vt,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!0,category:"automation"},{id:"autoColony",name:"Colony Automation",description:"Automatically purchases Colonies each tick. Each level increases purchases per tick.",baseCost:i(200),cost:i(200),costMultiplier:e=>i(e.cost).mul(i(1.45).pow(e.level)),level:i(0),maxLevel:i(25),effect:e=>e,formatEffect:Vt,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!0,category:"automation"},{id:"autoMegacolony",name:"Mega Colony Automation",description:"Automatically purchases Mega Colonies each tick. Each level increases purchases per tick.",baseCost:i(2e3),cost:i(2e3),costMultiplier:e=>i(e.cost).mul(i(1.5).pow(e.level)),level:i(0),maxLevel:i(25),effect:e=>e,formatEffect:Vt,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>wt("autoMegacolony",t),category:"automation"},{id:"autoHivemind",name:"Hive Mind Automation",description:"Automatically purchases Hive Minds each tick. Each level increases purchases per tick.",baseCost:i(2e4),cost:i(2e4),costMultiplier:e=>i(e.cost).mul(i(1.55).pow(e.level)),level:i(0),maxLevel:i(25),effect:e=>e,formatEffect:Vt,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>wt("autoHivemind",t),category:"automation"},{id:"autoAntopolis",name:"Antopolis Automation",description:"Automatically purchases Antopolis each tick. Each level increases purchases per tick.",baseCost:i(2e5),cost:i(2e5),costMultiplier:e=>i(e.cost).mul(i(1.6).pow(e.level)),level:i(0),maxLevel:i(25),effect:e=>e,formatEffect:Vt,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>wt("autoAntopolis",t),category:"automation"},{id:"bulkAutomation",name:"Bulk Automation",description:"Multiplies the effectiveness of all automation upgrades",baseCost:i(50),cost:i(50),costMultiplier:e=>i(e.cost).mul(i(2).pow(e.level)),level:i(0),maxLevel:i(10),effect:e=>i(1).add(e.mul(4)),formatEffect:$r,icon:"i-heroicons-bolt",isUnlocked:()=>!0,category:"automation"},{id:"generatorSynergy",name:"Generator Synergy",description:"Each generator type boosts all others by 2% per level",baseCost:i(100),cost:i(100),costMultiplier:e=>i(e.cost).mul(i(3).pow(e.level)),level:i(0),maxLevel:i(5),effect:e=>i(1).add(e.mul(.02)),formatEffect:Ge,icon:"i-heroicons-puzzle-piece",isUnlocked:()=>!0,category:"synergy"},{id:"evolutionSynergy",name:"Evolution Synergy",description:"Each evolution completed boosts production by 1% per level",baseCost:i(200),cost:i(200),costMultiplier:e=>i(e.cost).mul(i(3).pow(e.level)),level:i(0),maxLevel:i(5),effect:e=>i(1).add(e.mul(.01)),formatEffect:Ge,icon:"i-heroicons-arrow-path",isUnlocked:()=>!0,category:"synergy"},{id:"prestigeAcceleration",name:"Prestige Acceleration",description:"Start with more cycles completed after evolution",baseCost:i(100),cost:i(100),costMultiplier:e=>i(e.cost).mul(i(2).pow(e.level)),level:i(0),maxLevel:i(10),effect:e=>e,formatEffect:Vt,icon:"i-heroicons-rocket-launch",isUnlocked:()=>!0,category:"prestige"},{id:"inventorySlots",name:"Inventory Expansion",description:"Increase maximum inventory slots by 5. Each level adds more slots, but costs increase rapidly.",baseCost:i(100),cost:i(100),level:i(0),maxLevel:null,effect:e=>e.mul(5),formatEffect:e=>{const r=(e.toNumber()-5)*100;return r>=1e3?`+${mt(r)}`:`+${r.toFixed(0)} slots`},isUnlocked:()=>!0,costMultiplier:({cost:e,level:r})=>e.mul(i(1.5).pow(r)),icon:"i-heroicons-squares-2x2",category:"prestige"},{id:"equipmentSlots",name:"Equipment Mastery",description:"Unlock an additional equipment slot. Each level unlocks one more slot, up to a maximum of 10 slots.",baseCost:i(1e3),cost:i(1e3),level:i(1),maxLevel:i(10),effect:e=>e,formatEffect:e=>`${re(e,0)} slots`,isUnlocked:()=>!0,icon:"i-heroicons-shield-check",category:"prestige",costMultiplier:e=>i(e.cost).mul(i(2).pow(i(2).pow(e.level)))},{id:"unlockAdventure",name:"Adventure Mode",description:"Unlock Adventure mode and the Inventory system",baseCost:i(50),cost:i(50),level:i(0),maxLevel:i(1),effect:e=>i(e),formatEffect:Er,icon:"i-heroicons-bolt",isUnlocked:()=>!0,category:"research"},{id:"unlockAutoMerge",name:"Auto Merge",description:"Unlock automatic merging of items in your inventory",baseCost:i(100),cost:i(100),level:i(0),maxLevel:i(1),effect:e=>i(e),formatEffect:Er,icon:"i-heroicons-arrow-path",isUnlocked:()=>!0,category:"automation"},{id:"workerReproduction",name:"Worker Self-Replication",description:"Workers have a 1% chance per level to reproduce themselves each tick (max 5%)",baseCost:i(50),cost:i(50),costMultiplier:e=>i(e.cost).mul(i(3).pow(e.level)),level:i(0),maxLevel:i(5),effect:e=>e.mul(.01).min(.05),formatEffect:e=>`${(e.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>!0,category:"reproduction",appliesTo:["worker"]},{id:"nurseryReproduction",name:"Nursery Self-Replication",description:"Nurseries have a 1% chance per level to reproduce themselves each tick (max 5%)",baseCost:i(500),cost:i(500),costMultiplier:e=>i(e.cost).mul(i(3).pow(e.level)),level:i(0),maxLevel:i(5),effect:e=>e.mul(.01).min(.05),formatEffect:e=>`${(e.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>!0,category:"reproduction",appliesTo:["nursery"]},{id:"queenChamberReproduction",name:"Queen Chamber Self-Replication",description:"Queen Chambers have a 1% chance per level to reproduce themselves each tick (max 5%)",baseCost:i(2500),cost:i(2500),costMultiplier:e=>i(e.cost).mul(i(3).pow(e.level)),level:i(0),maxLevel:i(5),effect:e=>e.mul(.01).min(.05),formatEffect:e=>`${(e.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>!0,category:"reproduction",appliesTo:["queenChamber"]},{id:"colonyReproduction",name:"Colony Self-Replication",description:"Colonies have a 1% chance per level to reproduce themselves each tick (max 5%)",baseCost:i(25e3),cost:i(25e3),costMultiplier:e=>i(e.cost).mul(i(3).pow(e.level)),level:i(0),maxLevel:i(5),effect:e=>e.mul(.01).min(.05),formatEffect:e=>`${(e.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>!0,category:"reproduction",appliesTo:["colony"]},{id:"megacolonyReproduction",name:"Mega Colony Self-Replication",description:"Mega Colonies have a 1% chance per level to reproduce themselves each tick (max 5%)",baseCost:i(25e4),cost:i(25e4),costMultiplier:e=>i(e.cost).mul(i(3).pow(e.level)),level:i(0),maxLevel:i(5),effect:e=>e.mul(.01).min(.05),formatEffect:e=>`${(e.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>wt("unlockMegacolony",t),category:"reproduction",appliesTo:["megacolony"]},{id:"hivemindReproduction",name:"Hive Mind Self-Replication",description:"Hive Minds have a 1% chance per level to reproduce themselves each tick (max 5%)",baseCost:i(25e7),cost:i(25e7),costMultiplier:e=>i(e.cost).mul(i(3).pow(e.level)),level:i(0),maxLevel:i(5),effect:e=>e.mul(.01).min(.05),formatEffect:e=>`${(e.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>wt("unlockHivemind",t),category:"reproduction",appliesTo:["hivemind"]},{id:"antopolisReproduction",name:"Antopolis Self-Replication",description:"Antopolis has a 1% chance per level to reproduce itself each tick (max 5%)",baseCost:i(25e8),cost:i(25e8),costMultiplier:e=>i(e.cost).mul(i(3).pow(e.level)),level:i(0),maxLevel:i(5),effect:e=>e.mul(.01).min(.05),formatEffect:e=>`${(e.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>wt("unlockAntopolis",t),category:"reproduction",appliesTo:["antopolis"]},{id:"evolutionaryAdaptation",name:"Evolutionary Adaptation",description:"Each evolution cycle grants a stacking 1% bonus to food production",baseCost:i(1e3),cost:i(1e3),level:i(0),maxLevel:i(1),effect:e=>e,formatEffect:Er,icon:"i-heroicons-arrow-trending-up",isUnlocked:()=>!0,category:"prestige",appliesTo:["worker"]},{id:"multiBoost",isCombo:!0,name:"Early Multi-Tier Enhancement",description:"Boosts worker ants by 5%, nurseries by 2.5%, and EP gain by 10% per level",baseCost:i(500),cost:i(500),costMultiplier:e=>i(e.cost).mul(i(2).pow(e.level)),level:i(0),maxLevel:i(15),effect:e=>i(1).add(e.mul(.05)),formatEffect:Ge,icon:"i-heroicons-bolt-solid",isUnlocked:()=>!0,category:"production",effects:[{target:"worker",multiplier:e=>i(1).add(e.mul(.05)),formatEffect:Ge},{target:"nursery",multiplier:e=>i(1).add(e.mul(.025)),formatEffect:Ge},{target:"ep",multiplier:e=>i(1).add(e.mul(.1)),formatEffect:Ge}]}];return t.forEach(e=>{e.level.gt(0)&&e.costMultiplier&&(e.cost=ef(e.baseCost,e.level,e.costMultiplier))}),t},rf=tf(),De=lt("prestige",()=>{const t=H(i(0)),e=H(i(0)),r=H(i(0)),o=H(i(0)),n=H(i(0)),a=H(i(3)),l=H(i(1e3)),u=H(i(0)),c=H(!1),m=H(!0),d=H(!0),f=H("all"),p=H(""),g=H("default"),b=B(()=>e.value.gt(0)),x=B(()=>Nt().isFeatureUnlocked.evolution),U=B(()=>{const D=e.value.toNumber();let q=3;return D<=100?q+=D*.95:D<=150?q=3+100*.95+(D-100)*1.35:D<=200?q=3+100*.95+50*1.35+(D-150)*1.95:D<=250?q=3+100*.95+50*1.35+50*1.95+(D-200)*2.55:D<=300?q=3+100*.95+50*1.35+50*1.95+50*2.55+(D-250)*3.25:q=3+100*.95+50*1.35+50*1.95+50*2.55+50*3.25+(D-300)*4.05,i(q).ceil()}),O=H(rf),F=D=>{const q=L(D);return q?q.effect(q.level):i(1)},L=D=>O.value.find(q=>q.id===D),A=D=>{const q=L(D);return q?q.level:i(0)},M=()=>{const D={},q=Oe();O.value.forEach(ge=>{ge.isCombo||(D[ge.id]=ge.effect(ge.level))}),O.value.forEach(ge=>{ge.isCombo&&(ge.level.eq(0)||ge.effects&&ge.effects.forEach(C=>{const T=`${ge.id}_${C.target}`;D[T]=C.multiplier(ge.level)}))});const V=O.value.find(ge=>ge.id==="generatorSynergy");if(V&&V.level.gt(0)){const ge=q.generators.filter(T=>T.unlocked||T.purchasable).length,C=V.level.mul(.02).mul(ge);D.generatorSynergyBonus=i(1).add(C)}else D.generatorSynergyBonus=i(1);const te=O.value.find(ge=>ge.id==="evolutionSynergy");if(te&&te.level.gt(0)){const ge=te.level.mul(.01).mul(e.value);D.evolutionSynergyBonus=i(1).add(ge)}else D.evolutionSynergyBonus=i(1);const Y=O.value.find(ge=>ge.id==="bulkAutomation");return Y&&Y.level.gt(0)?D.bulkAutomationMultiplier=i(1).add(Y.level.mul(4)):D.bulkAutomationMultiplier=i(1),D},S=B(()=>n.value.gte(U.value)),$=()=>{const D={},q=F("epBoost");q.gt(1)&&(D.epBoost={value:q,description:"Evolution Mastery",tooltip:"Bonus from Evolution Mastery upgrade."});const V=F("doubleEvolution");V.gt(1)&&(D.doubleEvolution={value:V,description:"Double Evolution",tooltip:"Bonus from Double Evolution upgrade."});const te=F("evolutionSynergy");if(te.gt(1)){const j=e.value.mul(te.sub(1));D.evolutionSynergy={value:i(1).add(j),description:"Evolution Synergy",tooltip:"Bonus from Evolution Synergy upgrade based on evolution count."}}O.value.forEach(j=>{j.level.eq(0)||j.isCombo&&(!j.effects||j.effects.length===0||j.effects.forEach(J=>{if(J.target==="ep"){const K=J.multiplier(j.level);K.gt(1)&&(D[`${j.id}_ep`]={value:K,description:j.name,tooltip:`EP bonus from ${j.name} upgrade.`})}}))});const Y=Ht(),ge=Y.getEPBoostMultiplier();ge.gt(1)&&(D.itemEPBoost={value:ge,description:"Item Boost",tooltip:"Bonus from equipped items with EP boost."});const C=Y.getQueenChamberEPBoost();C.gt(1)&&(D.queenChamberEPBoost={value:C,description:"Queen Chamber",tooltip:"Bonus from Royal Evolution upgrade."});const T=i(1).add(e.value.div(10));return T.gt(1)&&(D.evolutionCount={value:T,description:"Evolution Count",tooltip:"Small bonus based on total number of evolutions completed."}),D},y=()=>{i(1);const D=n.value.toNumber();if(D<=0)return i(0);const q=i(D);i(.1);const V=q,te=q.mul(q.sub(1)).mul(.05);let Y=V.add(te);const ge=$();return Object.values(ge).forEach(C=>{Y=Y.mul(C.value)}),Y},k=({foodReset:D=!0,ticksReset:q=!0})=>{u.value=i(l.value.toString()),n.value=n.value.add(1);try{xt().updateStats("maxLoopsInEvolution",n.value,!1)}catch(Y){console.error("Error updating loop achievements:",Y)}a.value=i(3).plus(n.value.mul(.5)).mul(i(1.05).pow(i(n.value).div(5))).ceil();const V=i(1e3).mul(i(1.5).pow(i(n.value).pow(1.2))),te=F("cycleFoodReduction");q&&(r.value=i(0)),D&&(l.value=V.mul(te))},N=D=>{if(!x.value)return;r.value=r.value.add(1),o.value=o.value.add(1),r.value.gte(a.value)&&k({foodReset:!1,ticksReset:!0}),Oe().food.gte(l.value)&&k({foodReset:!0,ticksReset:!1})},P=()=>re(t.value,2),h=()=>re(e.value,0),_=()=>re(n.value,0),W=()=>re(U.value,0),R=()=>{const D=y();return re(D,2)},pe=()=>re(a.value,1),Z=()=>re(l.value,0),he=()=>re(o.value,0),Ce=()=>{c.value=!1,m.value=!0,d.value=!0,f.value="all",p.value="",g.value="default"},de=()=>({evolutionPoints:t.value.toString(),evolutionCount:e.value.toString(),currentLoopTicks:r.value.toString(),currentEvolutionTicks:o.value.toString(),loopsCompleted:n.value.toString(),ticksPerLoop:a.value.toString(),foodForNextLoop:l.value.toString(),previousFoodRequirement:u.value.toString(),upgrades:O.value.map(D=>({id:D.id,level:D.level.toString()})),filters:{showMaxed:c.value,showAffordable:m.value,showUnlocked:d.value,activeTab:f.value,searchQuery:p.value,selectedSort:g.value}}),ae=D=>{D.evolutionPoints&&(t.value=i(D.evolutionPoints)),D.evolutionCount&&(e.value=i(D.evolutionCount)),D.loopsCompleted&&(n.value=i(D.loopsCompleted)),D.currentLoopTicks&&(r.value=i(D.currentLoopTicks)),D.currentEvolutionTicks&&(o.value=i(D.currentEvolutionTicks)),D.ticksPerLoop&&(a.value=i(D.ticksPerLoop)),D.foodForNextLoop?l.value=i(D.foodForNextLoop):D.antsForNextLoop&&(l.value=i(D.antsForNextLoop)),D.previousFoodRequirement?u.value=i(D.previousFoodRequirement):u.value=i(0),D.upgrades&&Array.isArray(D.upgrades)&&D.upgrades.forEach(q=>{const V=O.value.find(te=>te.id===q.id);if(V){V.level=i(q.level);const te=V.costMultiplier;te?V.cost=te({cost:V.baseCost,level:V.level}):V.cost=V.baseCost.mul(i(1.5).pow(V.level))}}),D.filters&&(typeof D.filters.showMaxed=="boolean"&&(c.value=D.filters.showMaxed),typeof D.filters.showAffordable=="boolean"&&(m.value=D.filters.showAffordable),typeof D.filters.showUnlocked=="boolean"&&(d.value=D.filters.showUnlocked),typeof D.filters.activeTab=="string"&&(f.value=D.filters.activeTab),typeof D.filters.searchQuery=="string"&&(p.value=D.filters.searchQuery),typeof D.filters.selectedSort=="string"&&(g.value=D.filters.selectedSort))},se=()=>{if(!S.value)return!1;const D=y();t.value=t.value.add(D),e.value=e.value.add(1);try{xt().updateEvolutionStats(t.value,D,e.value,n.value)}catch(q){console.error("Error updating achievement stats:",q)}return Q(),!0},Q=()=>{var J;const D=Oe(),q=at(),V=nr(),te=kr();V.resetEvolutionTicks(),D.generators.forEach(K=>{if(K.count=i(0),K.manualPurchases=i(0),K.tier>1&&K.tier<=4&&(K.unlocked=!1),K.tier>=5){const X=K.id==="megacolony"?"unlockMegacolony":K.id==="hivemind"?"unlockHivemind":K.id==="antopolis"?"unlockAntopolis":"";if(X){const me=O.value.find(ue=>ue.id===X);K.purchasable=me?me.level.gt(0):!1,K.unlocked=!1}else K.purchasable=!1,K.unlocked=!1}te.autoEnableGeneratorsAfterPrestige&&(K.autoPurchaseEnabled=!0)});const Y=F("startingFood"),ge=i(10);D.food=ge.mul(Y),r.value=i(0);const C=((J=O.value.find(K=>K.id==="prestigeAcceleration"))==null?void 0:J.level)||i(0);n.value=C.gt(0)?new be(C.toString()):i(0);const T=F("cycleFoodReduction"),j=i(1e3);l.value=j.mul(T),u.value=i(0),a.value=i(3),q.resetProgress()};return{evolutionPoints:t,evolutionCount:e,currentLoopTicks:r,currentEvolutionTicks:o,loopsCompleted:n,ticksPerLoop:a,foodForNextLoop:l,previousFoodRequirement:u,hasEvolved:b,requiredLoops:U,evolutionUpgrades:O,canEvolve:S,showMaxed:c,showAffordable:m,showUnlocked:d,activeTab:f,searchQuery:p,selectedSort:g,resetFilters:Ce,getUpgrade:L,getUpgradeMultiplier:F,getAllMultipliers:M,getEPModifiers:$,evolve:se,resetProgress:Q,purchaseUpgrade:D=>{const q=O.value.find(te=>te.id===D);if(!q||q.maxLevel&&q.level.gte(q.maxLevel)||t.value.lt(q.cost)||!q.isUnlocked())return!1;if(D==="unlockHivemind"){const Y=Oe().getGenerator("megacolony");if(!Y||Y.count.eq(0))return!1}else if(D==="unlockAntopolis"){const Y=Oe().getGenerator("hivemind");if(!Y||Y.count.eq(0))return!1}t.value=t.value.sub(q.cost),q.level=q.level.add(1);const V=q.costMultiplier;if(V?q.cost=V({cost:q.baseCost,level:q.level}):q.cost=q.baseCost.mul(i(1.5).pow(q.level)),D==="unlockMegacolony"){const Y=Oe().generators.find(ge=>ge.id==="megacolony");Y&&(Y.purchasable=!0,Y.unlocked=!1)}else if(D==="unlockHivemind"){const Y=Oe().generators.find(ge=>ge.id==="hivemind");Y&&(Y.purchasable=!0,Y.unlocked=!1)}else if(D==="unlockAntopolis"){const Y=Oe().generators.find(ge=>ge.id==="antopolis");Y&&(Y.purchasable=!0,Y.unlocked=!1)}return!0},updateLoopProgress:N,formatEP:P,formatEvolutionCount:h,formatLoopsCompleted:_,formatRequiredLoops:W,formatPotentialEPGain:R,formatTicksPerLoop:pe,formatFoodForNextLoop:Z,formatCurrentEvolutionTicks:he,getState:de,loadState:ae,isUpgradeUnlocked:D=>{const q=O.value.find(V=>V.id===D);return q?q.isUnlocked():!1},unlockedPrestige:x,getUpgradeCount:A}});function ta(){const t=De();return{isAdventureUnlocked:B(()=>t.getUpgradeCount("unlockAdventure").gt(0))}}const To=H([]);let of=0;function Nr(){const t=(r,o="info",n=3e3)=>{const a=of++;return To.value.push({id:a,message:r,type:o,timeout:n}),setTimeout(()=>{e(a)},n),a},e=r=>{const o=To.value.findIndex(n=>n.id===r);o!==-1&&To.value.splice(o,1)};return{toasts:To,showToast:t,removeToast:e}}function nu(t={}){const{storageKey:e="scrollPositions",debounceTime:r=100,saveOnUnmount:o=!0,scrollElementSelector:n="main"}=t,a=Vl(),l=Ns(),u=H(0);let c=null,m=null;const d=H(!1),f=()=>c?c.scrollTop:0,p=()=>{if(!(!c||d.value))try{const F=JSON.parse(localStorage.getItem(e)||"{}"),L=f();F[a.path]=L,localStorage.setItem(e,JSON.stringify(F)),u.value=L}catch(F){console.error("Failed to save scroll position:",F)}},g=async()=>{if(c)try{d.value=!0;const L=JSON.parse(localStorage.getItem(e)||"{}")[a.path]||0;await Dr(),c.scrollTo({top:L,behavior:"auto"}),u.value=L,setTimeout(()=>{d.value=!1},50)}catch(F){console.error("Failed to restore scroll position:",F),d.value=!1}},b=()=>{d.value||(m!==null&&window.clearTimeout(m),m=window.setTimeout(()=>{p()},r))},x=()=>{try{const F=JSON.parse(localStorage.getItem(e)||"{}");delete F[a.path],localStorage.setItem(e,JSON.stringify(F)),u.value=0,c&&c.scrollTo({top:0})}catch(F){console.error("Failed to clear scroll position:",F)}},U=()=>{try{localStorage.removeItem(e),u.value=0,c&&c.scrollTo({top:0})}catch(F){console.error("Failed to clear all scroll positions:",F)}},O=()=>(c=document.querySelector(n),c?(c.addEventListener("scroll",b,{passive:!0}),!0):(console.warn(`Scrollable element not found with selector: ${n}`),!1));return He(()=>{setTimeout(()=>{O()&&g()},50)}),cn(()=>{c&&c.removeEventListener("scroll",b),o&&!d.value&&p(),m!==null&&window.clearTimeout(m)}),l.beforeEach((F,L,A)=>{L.path!==F.path&&!d.value&&p(),A()}),Ee(()=>a.path,(F,L)=>{F!==L&&setTimeout(()=>{g()},150)}),{scrollPosition:u,saveScrollPosition:p,restoreScrollPosition:g,clearScrollPosition:x,clearAllScrollPositions:U}}const nf=we({__name:"ScrollToTopButton",props:{threshold:{default:300},buttonClass:{default:"fixed bottom-4 right-4 bg-amber-600 hover:bg-amber-700 text-white rounded-full p-3 shadow-lg transition-all duration-200 z-50"},iconClass:{default:"i-heroicons-arrow-up w-5 h-5"}},setup(t){const e=t,{scrollPosition:r}=nu(),o=H(!1);Ee(r,a=>{o.value=a>e.threshold});const n=()=>{const a=document.querySelector("main");a&&a.scrollTo({top:0,behavior:"smooth"})};return(a,l)=>(v(),Qe(Hr,{name:"fade"},{default:Ve(()=>[o.value?(v(),w("button",{key:0,onClick:n,class:ne([a.buttonClass,"fixed bottom-20 right-6 bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-800 text-white rounded-full p-3 shadow-lg transition-all duration-200 z-50 flex items-center justify-center transform hover:scale-105 active:scale-95"]),"aria-label":"Scroll to top"},[s("span",{class:ne([a.iconClass,"w-5 h-5"])},null,2)],2)):z("",!0)]),_:1}))}}),et=(t,e)=>{const r=t.__vccOpts||t;for(const[o,n]of e)r[o]=n;return r},So=et(nf,[["__scopeId","data-v-9b57276f"]]),ra="idle-ant-farm-animated-features";function su(){const t=Nt(),r=H((()=>{try{const u=localStorage.getItem(ra);return u?JSON.parse(u):{}}catch(u){return console.error("Error loading animated features:",u),{}}})()),o=()=>{try{localStorage.setItem(ra,JSON.stringify(r.value))}catch(u){console.error("Error saving animated features:",u)}},n=u=>t.isFeatureUnlocked[u]&&!r.value[u]?(r.value[u]=!0,o(),!0):!1,a=u=>{delete r.value[u],o()},l=()=>{r.value={},o()};return He(()=>{Object.keys(t.isFeatureUnlocked).forEach(u=>{t.isFeatureUnlocked[u]&&r.value[u]===void 0&&(r.value[u]=!0)}),o()}),{shouldAnimateFeature:n,animatedFeatures:r,forceAnimateFeature:a,resetAllAnimations:l}}const sf={worker:{name:"Worker Ants",icon:"i-heroicons-bug-ant"},nursery:{name:"Nursery",icon:"i-heroicons-home-modern"},queenChamber:{name:"Queen Chamber",icon:"i-heroicons-crown"},colony:{name:"Colony",icon:"i-heroicons-building-storefront"},megacolony:{name:"Mega Colony",icon:"i-heroicons-building-office-2"},hivemind:{name:"Hive Mind",icon:"i-heroicons-cpu-chip"},antopolis:{name:"Antopolis",icon:"i-heroicons-building-library"}};function af(t){if(!t)return"";switch(t){case"worker":return"Levels up based on ticks in current evolution";case"nursery":return"Levels up based on amount of food gained";case"queenChamber":return"Levels up based on total manual purchases";case"colony":return"Levels up based on amount of upgrades purchased";case"megacolony":return"Levels up based on total evolution points";case"hivemind":return"Levels up based on total ant types unlocked";case"antopolis":return"Levels up based on total colony level";default:return""}}function lf(t){if(!t)return"";switch(t){case"worker":return"ticks";case"nursery":return"food";case"queenChamber":return"purchases";case"colony":return"upgrades";case"megacolony":return"points";case"hivemind":return"types";case"antopolis":return"levels";default:return""}}const uf={key:0,class:"fixed inset-0 z-50"},cf=we({__name:"GeneratorInfoDialog",props:{show:{type:Boolean}},emits:["close"],setup(t,{emit:e}){const r=t,o=e,n=H(!1),a=()=>{n.value=!0,setTimeout(()=>{o("close"),n.value=!1},250)};return Ee(()=>r.show,l=>{l||(n.value=!1)}),(l,u)=>l.show?(v(),w("div",uf,[s("div",{class:ne(["absolute inset-0 bg-black/50 animate-fadeIn",{"animate-fadeOut":n.value}])},null,2),s("div",{class:ne(["fixed inset-0 flex flex-col animate-fadeIn",{"animate-fadeOut":n.value}])},[s("div",{class:ne(["w-full h-full flex flex-col bg-amber-50 dark:bg-gray-900 text-amber-900 dark:text-amber-100 font-sans animate-slideUp",{"animate-slideDown":n.value}])},[s("header",{class:"bg-gradient-to-r from-amber-800 to-amber-700 dark:from-amber-900 dark:to-amber-800 text-amber-50 shadow-lg"},[s("div",{class:"p-2 md:p-3"},[s("div",{class:"flex items-center justify-between"},[u[1]||(u[1]=s("h1",{class:"text-lg md:text-xl font-bold tracking-tight flex items-center"},[s("span",{class:"i-heroicons-information-circle text-amber-300 dark:text-amber-400 mr-2"}),G(" About Ant Specialization ")],-1)),s("button",{onClick:a,class:"text-amber-50 hover:text-amber-300 dark:hover:text-amber-200 transition-colors p-1.5 rounded-full hover:bg-amber-900/30 dark:hover:bg-amber-950/40"},u[0]||(u[0]=[s("span",{class:"i-heroicons-x-mark text-lg"},null,-1)]))])])]),u[3]||(u[3]=yo('<main class="flex-1 overflow-y-auto p-4 pb-6 scroll-smooth" data-v-3979d03b><div class="space-y-3" data-v-3979d03b><div class="bg-white dark:bg-gray-800 rounded-xl shadow-md border border-amber-200 dark:border-amber-700 p-3" data-v-3979d03b><p class="text-sm text-amber-800 dark:text-amber-300 mb-2 font-medium" data-v-3979d03b> How Ant Specialization Works: </p><ul class="text-xs text-amber-800 dark:text-amber-300 list-disc pl-4 space-y-1" data-v-3979d03b><li data-v-3979d03b>Each ant type has its own specialization level that increases based on different metrics: </li><li class="ml-3" data-v-3979d03b><strong data-v-3979d03b>Worker Ants:</strong> Level up based on foraging trips in current evolution (50% increase per level)</li><li class="ml-3" data-v-3979d03b><strong data-v-3979d03b>Nurseries:</strong> Level up based on amount of food gathered (100% increase per level)</li><li class="ml-3" data-v-3979d03b><strong data-v-3979d03b>Queen Chambers:</strong> Level up based on total manual purchases (30% increase per level)</li><li class="ml-3" data-v-3979d03b><strong data-v-3979d03b>Colonies:</strong> Level up based on amount of adaptations developed (20% increase per level)</li><li data-v-3979d03b>Each level-up awards 1 adaptation point for that ant type</li><li data-v-3979d03b>Adaptation points can be spent on specialized traits for that ant type</li><li data-v-3979d03b>Specialization levels and adaptations reset when your colony undergoes metamorphosis </li></ul></div><div class="bg-white dark:bg-gray-800 rounded-xl shadow-md border border-amber-200 dark:border-amber-700 p-3" data-v-3979d03b><p class="text-sm text-amber-800 dark:text-amber-300 mb-2 font-medium" data-v-3979d03b> Types of Ant Adaptations: </p><ul class="text-xs text-amber-800 dark:text-amber-300 list-disc pl-4 space-y-1" data-v-3979d03b><li data-v-3979d03b><strong data-v-3979d03b>Efficiency Adaptations:</strong> Increase production (+20% per level)</li><li data-v-3979d03b><strong data-v-3979d03b>Resource Adaptations:</strong> Decrease resource requirements (-5% per level)</li><li data-v-3979d03b><strong data-v-3979d03b>Special Adaptations:</strong> Add a chance for ants to reproduce themselves </li></ul></div></div></main>',1)),s("footer",{class:"bg-gradient-to-r from-amber-800 to-amber-700 dark:from-amber-900 dark:to-amber-800 text-amber-50 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]"},[s("div",{class:"flex justify-end p-3"},[s("button",{onClick:a,class:"px-3 py-2 bg-amber-900/20 dark:bg-amber-950/40 hover:bg-amber-900/30 dark:hover:bg-amber-950/50 rounded-lg text-amber-50 font-medium transition-colors duration-200 flex items-center justify-center active:scale-95 border border-amber-600 dark:border-amber-700"},u[2]||(u[2]=[s("span",{class:"i-heroicons-arrow-left text-base mr-1"},null,-1),G(" Return to Dashboard ")]))])])],2)],2)])):z("",!0)}}),df=et(cf,[["__scopeId","data-v-3979d03b"]]),mf=["disabled"],xn=we({__name:"HoldableButton",props:{disabled:{type:Boolean},class:{},initialDelay:{},repeatInterval:{},accelerate:{type:Boolean},minInterval:{}},emits:["action"],setup(t,{emit:e}){const r=t,o=e,n=r.initialDelay??500,a=r.repeatInterval??100,l=r.accelerate??!0,u=r.minInterval??50,c=H(!1),m=H(null),d=H(null),f=H(a),p=H(0),g=F=>{r.disabled||(F.preventDefault(),o("action"),c.value=!0,p.value=Date.now(),m.value=window.setTimeout(()=>{b()},n))},b=()=>{r.disabled||(d.value!==null&&clearInterval(d.value),f.value=a,d.value=window.setInterval(()=>{if(r.disabled){O();return}if(o("action"),l){const F=Date.now()-p.value;F>2e3&&(f.value=Math.max(u,a-Math.floor((F-2e3)/100)*5),f.value!==a&&(clearInterval(d.value),d.value=window.setInterval(()=>{r.disabled||o("action")},f.value)))}},f.value))},x=()=>{O()},U=()=>{O()},O=()=>{c.value=!1,m.value!==null&&(clearTimeout(m.value),m.value=null),d.value!==null&&(clearInterval(d.value),d.value=null)};return yr(()=>{O()}),(F,L)=>(v(),w("button",{class:ne([r.class,"transition-all duration-150 flex items-center justify-center",c.value?"transform scale-95":"transform scale-100"]),disabled:F.disabled,onMousedown:g,onMouseup:x,onMouseleave:U,onTouchstart:g,onTouchend:x,onTouchcancel:x},[xo(F.$slots,"default")],42,mf))}}),ff={key:0,class:"bg-white/80 dark:bg-gray-800/80 p-3 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700 hover:border-amber-300 dark:hover:border-amber-600 transition-colors"},pf={class:"flex justify-between items-start"},gf={class:"flex items-center"},hf={class:"font-medium text-gray-900 dark:text-gray-100"},vf={class:"text-xs text-gray-600 dark:text-gray-400 mt-1"},bf={class:"text-right"},xf={class:"text-xs text-amber-700 dark:text-amber-400"},yf={class:"font-medium"},kf={key:0},wf={class:"text-xs text-amber-700 dark:text-amber-400 mt-1"},_f={class:"font-medium"},Sf={class:"mt-3 flex justify-between items-center"},$f={class:"text-xs text-amber-700 dark:text-amber-400"},Ef={key:0},Cf={class:"font-medium"},Mf={key:1,class:"text-green-600 dark:text-green-500 font-medium"},Af={key:0},If={key:1},Pf=we({__name:"GeneratorUpgradeItem",props:{upgradeId:{type:String,required:!0}},setup(t){const e=t,r=at(),o=B(()=>r.getUpgrade(e.upgradeId)),n=B(()=>!o.value||o.value.maxLevel!==null&&o.value.level.gte(o.value.maxLevel)?!1:r.generatorPoints[o.value.generatorId].gte(o.value.cost)),a=B(()=>{var m,d,f,p;if(!o.value)return"";const c=((d=(m=o.value).effect)==null?void 0:d.call(m,o.value.level))??i(1);return((p=(f=o.value).formatEffect)==null?void 0:p.call(f,c))??re(c,2)}),l=B(()=>{var c,m,d,f,p,g;return o.value?((f=(d=o.value).formatEffect)==null?void 0:f.call(d,((m=(c=o.value).effect)==null?void 0:m.call(c,o.value.level.add(1)))??i(1)))??re(((g=(p=o.value).effect)==null?void 0:g.call(p,o.value.level.add(1)))??i(1),2):""}),u=()=>{n.value&&o.value&&r.purchaseUpgrade(o.value.id)};return(c,m)=>o.value?(v(),w("div",ff,[s("div",pf,[s("div",null,[s("div",gf,[s("span",{class:ne(o.value.icon+" text-amber-600 dark:text-amber-500 mr-2")},null,2),s("span",hf,E(o.value.name),1)]),s("div",vf,E(o.value.description),1)]),s("div",bf,[s("div",xf,[m[0]||(m[0]=G(" Level: ")),s("span",yf,E(I(re)(o.value.level,0)),1),o.value.maxLevel!==null?(v(),w("span",kf,"/"+E(I(re)(o.value.maxLevel,0)),1)):z("",!0)]),s("div",wf,[m[1]||(m[1]=G(" Effect: ")),s("span",_f,E(a.value),1)])])]),s("div",Sf,[s("div",$f,[o.value.maxLevel===null||o.value.level.lt(o.value.maxLevel)?(v(),w("span",Ef,[m[2]||(m[2]=G(" Next: ")),s("span",Cf,E(l.value),1)])):(v(),w("span",Mf,"MAX LEVEL"))]),ve(xn,{onAction:u,disabled:!n.value,class:ne(n.value?"px-3 py-1 text-xs rounded-md font-medium bg-amber-500 hover:bg-amber-600 dark:bg-amber-600 dark:hover:bg-amber-700 text-white":"px-3 py-1 text-xs rounded-md font-medium bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed"),"initial-delay":400,"repeat-interval":200,accelerate:!0},{default:Ve(()=>[o.value.maxLevel===null||o.value.level.lt(o.value.maxLevel)?(v(),w("span",Af," Adapt ("+E(I(re)(o.value.cost,0))+" pts) ",1)):(v(),w("span",If,"Maxed"))]),_:1},8,["disabled","class"])])])):z("",!0)}}),Tf={key:0,class:"fixed inset-0 z-50"},Lf={class:"bg-gradient-to-r from-amber-800 to-amber-700 dark:from-amber-900 dark:to-amber-800 text-amber-50 shadow-lg"},qf={class:"p-2 md:p-3"},Ff={class:"flex items-center justify-between"},Nf={class:"text-lg md:text-xl font-bold tracking-tight flex items-center opacity-0 animate-fadeIn",style:{animationDelay:"150ms",animationFillMode:"forwards"}},Rf={class:"flex-1 overflow-y-auto p-4 pb-6 scroll-smooth"},Uf={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md border border-amber-200 dark:border-amber-700 p-3 mb-4 opacity-0 animate-fadeIn",style:{animationDelay:"200ms",animationFillMode:"forwards"}},Bf={class:"flex flex-col md:flex-row md:justify-between md:items-center gap-3"},Of={class:"text-xl font-bold text-amber-800 dark:text-amber-300 flex items-center"},Df={class:"text-xl font-bold text-amber-800 dark:text-amber-300 flex items-center"},Hf={class:"mt-3"},jf={class:"text-sm text-amber-800 dark:text-amber-300 font-medium mb-1 flex justify-between"},Qf={class:"h-2.5 bg-amber-100 dark:bg-amber-900/50 rounded-full overflow-hidden"},Gf={class:"flex justify-between mt-1 text-xs text-amber-700 dark:text-amber-400"},Wf={class:"mt-3 pt-3 border-t border-amber-200 dark:border-amber-700"},Vf={class:"text-xs text-amber-700 dark:text-amber-400"},zf={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 opacity-0 animate-fadeIn",style:{animationDelay:"300ms",animationFillMode:"forwards"}},Kf=we({__name:"GeneratorUpgradeModal",props:{show:{type:Boolean},selectedGenerator:{},generatorInfo:{}},emits:["close"],setup(t,{emit:e}){const r=t,o=e,n=at(),a=H(!1),l=H(!1),u=B(()=>r.selectedGenerator?n.getUpgradesForGenerator(r.selectedGenerator):[]);Ee(()=>r.show,f=>{f?l.value=!0:a.value=!1});const c=()=>{a.value=!0,setTimeout(()=>{o("close"),l.value=!1},400)},m=B(()=>af(r.selectedGenerator)),d=B(()=>lf(r.selectedGenerator));return(f,p)=>{var g,b,x,U;return l.value?(v(),w("div",Tf,[s("div",{class:ne(["absolute inset-0 bg-black/50 animate-fadeIn",{"animate-fadeOut":a.value}])},null,2),f.selectedGenerator?(v(),w("div",{key:0,class:ne(["fixed inset-0 flex flex-col animate-fadeIn",{"animate-fadeOut":a.value}])},[s("div",{class:ne(["w-full h-full flex flex-col bg-amber-50 dark:bg-gray-900 text-amber-900 dark:text-amber-100 font-sans animate-slideUp",{"animate-slideDown":a.value}])},[s("header",Lf,[s("div",qf,[s("div",Ff,[s("h1",Nf,[s("span",{class:ne([(g=f.generatorInfo[f.selectedGenerator])==null?void 0:g.icon,"text-amber-300 dark:text-amber-200 mr-2"])},null,2),G(" "+E((b=f.generatorInfo[f.selectedGenerator])==null?void 0:b.name)+" Adaptations ",1)]),s("button",{onClick:c,class:"text-amber-50 hover:text-amber-300 transition-colors p-1.5 rounded-full hover:bg-amber-900/30 dark:hover:bg-amber-950/40"},p[0]||(p[0]=[s("span",{class:"i-heroicons-x-mark text-lg"},null,-1)]))])])]),s("main",Rf,[s("div",Uf,[s("div",Bf,[s("div",null,[p[2]||(p[2]=s("div",{class:"text-sm text-amber-800 dark:text-amber-300 font-medium"},"Current Level",-1)),s("div",Of,[p[1]||(p[1]=s("span",{class:"i-heroicons-star text-amber-500 dark:text-amber-400 mr-1"},null,-1)),G(" Level "+E((x=I(n).generatorLevels[f.selectedGenerator])==null?void 0:x.toNumber()),1)])]),s("div",null,[p[4]||(p[4]=s("div",{class:"text-sm text-amber-800 dark:text-amber-300 font-medium"},"Available Points",-1)),s("div",Df,[p[3]||(p[3]=s("span",{class:"i-heroicons-bolt text-amber-500 dark:text-amber-400 mr-1"},null,-1)),G(" "+E(I(n).formatPoints(f.selectedGenerator))+" points ",1)])])]),s("div",Hf,[s("div",jf,[p[5]||(p[5]=s("span",null,"Progress to Next Level",-1)),s("span",null,E(I(n).formatProgressPercentage(f.selectedGenerator))+"%",1)]),s("div",Qf,[s("div",{class:"h-full bg-amber-500 dark:bg-amber-600 transition-all duration-300 ease-out",style:Xe({width:`${I(n).formatProgressPercentage(f.selectedGenerator)}%`})},null,4)]),s("div",Gf,[s("span",null,"Current: "+E((U=I(n).levelProgress[f.selectedGenerator])==null?void 0:U.toFixed(0)),1),s("span",null,"Next: "+E(I(n).formatNextLevelRequirement(f.selectedGenerator))+" "+E(d.value),1)])]),s("div",Wf,[s("div",Vf,E(m.value),1)])]),p[6]||(p[6]=s("h4",{class:"text-base font-bold text-amber-800 dark:text-amber-300 mb-3 flex items-center opacity-0 animate-fadeIn",style:{animationDelay:"250ms",animationFillMode:"forwards"}},[s("span",{class:"i-heroicons-adjustments-horizontal text-amber-600 dark:text-amber-500 mr-2"}),G(" Available Adaptations ")],-1)),s("div",zf,[(v(!0),w(ye,null,Ie(u.value,O=>(v(),Qe(Pf,{key:O.id,upgradeId:O.id},null,8,["upgradeId"]))),128))])]),s("footer",{class:"bg-gradient-to-r from-amber-800 to-amber-700 dark:from-amber-900 dark:to-amber-800 text-amber-50 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]"},[s("div",{class:"flex justify-end p-3"},[s("button",{onClick:c,class:"px-3 py-2 bg-amber-900/20 dark:bg-amber-950/40 hover:bg-amber-900/30 dark:hover:bg-amber-950/50 rounded-lg text-amber-50 font-medium transition-colors duration-200 flex items-center justify-center active:scale-95 border border-amber-600 dark:border-amber-700"},p[7]||(p[7]=[s("span",{class:"i-heroicons-arrow-left text-base mr-1"},null,-1),G(" Return to Dashboard ")]))])])],2)],2)):z("",!0)])):z("",!0)}}}),Yf=et(Kf,[["__scopeId","data-v-ad2f3e47"]]),Jf={class:"grid grid-cols-3 gap-2"},Xf={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},Zf={class:"text-sm font-bold flex items-center"},ep={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},tp={class:"text-sm font-bold flex items-center"},rp={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},op={class:"text-sm font-bold flex items-center"},np={key:0,class:"text-xs text-amber-600 dark:text-amber-500"},sp={class:"mt-2 pt-2 border-t border-amber-200/50 dark:border-amber-700/50 text-xs"},ip={class:"flex flex-wrap gap-x-3 gap-y-1 mb-1"},ap=["href"],lp=["href"],up=["href"],cp=we({__name:"HomeColonyStatusCard",props:{className:{},githubIssuesUrl:{},discordUrl:{},buyMeCoffeeUrl:{}},setup(t){const e=Oe(),r=De(),o=B(()=>re(e.foodPerSecond,2)),n=B(()=>e.getGenerator("worker")),a=B(()=>n.value?n.value.count.sub(n.value.manualPurchases):0),l=B(()=>typeof a.value!="number"&&a.value.gt(0)),u=B(()=>e.formatGeneratorCount("worker"));return B(()=>Math.round(r.currentLoopTicks.div(r.ticksPerLoop).mul(100).toNumber())),(c,m)=>(v(),w("section",{class:ne(["bg-gradient-to-br from-amber-100 to-amber-50 dark:from-amber-900/40 dark:to-amber-800/30 rounded-xl p-3 shadow-md",c.className])},[m[10]||(m[10]=s("h2",{class:"text-base font-bold mb-2 flex items-center"},[s("span",{class:"i-heroicons-chart-bar text-amber-700 dark:text-amber-500 mr-2"}),G(" Colony Status ")],-1)),s("div",Jf,[s("div",Xf,[m[1]||(m[1]=s("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Food",-1)),s("div",Zf,[m[0]||(m[0]=s("span",{class:"i-heroicons-cake text-amber-600 dark:text-amber-500 mr-1 text-xs"},null,-1)),G(" "+E(I(e).formatFood()),1)])]),s("div",ep,[m[3]||(m[3]=s("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Food/Trip",-1)),s("div",tp,[m[2]||(m[2]=s("span",{class:"i-heroicons-arrow-trending-up text-amber-600 dark:text-amber-500 mr-1 text-xs"},null,-1)),G(" "+E(o.value),1)])]),s("div",rp,[m[5]||(m[5]=s("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Worker Ants",-1)),s("div",op,[m[4]||(m[4]=s("span",{class:"i-heroicons-bug-ant text-amber-600 dark:text-amber-500 mr-1 text-xs"},null,-1)),G(" "+E(I(e).formatGeneratorCount("worker")),1)]),l.value?(v(),w("div",np," ("+E(u.value)+" auto) ",1)):z("",!0)])]),s("div",sp,[s("div",ip,[s("a",{href:c.githubIssuesUrl,target:"_blank",rel:"noopener noreferrer",class:"text-amber-700 dark:text-amber-400 hover:underline inline-flex items-center"},m[6]||(m[6]=[s("span",{class:"i-heroicons-bug-ant text-xs mr-1"},null,-1),G(" Report Issues ")]),8,ap),s("a",{href:c.discordUrl,target:"_blank",rel:"noopener noreferrer",class:"text-amber-700 dark:text-amber-400 hover:underline inline-flex items-center"},m[7]||(m[7]=[s("span",{class:"i-heroicons-chat-bubble-left-right text-xs mr-1"},null,-1),G(" Discord ")]),8,lp),s("a",{href:c.buyMeCoffeeUrl,target:"_blank",rel:"noopener noreferrer",class:"text-amber-700 dark:text-amber-400 hover:underline inline-flex items-center"},m[8]||(m[8]=[s("span",{class:"i-heroicons-heart text-xs mr-1"},null,-1),G(" Buy me a coffee ")]),8,up)]),m[9]||(m[9]=s("div",{class:"flex flex-wrap items-center justify-between gap-2 text-amber-700/80 dark:text-amber-400/80"},[s("span",{class:"text-[11px]"},"Made with ❤️ by Mezeman"),s("span",{class:"text-[11px] font-medium"},"Remember to export your save!")],-1))])],2))}}),dp={class:"space-y-1 sm:space-y-2"},mp={class:"grid grid-cols-2 gap-1 sm:gap-2"},fp={class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},pp={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},gp={key:0},hp={key:1},vp={class:"text-xs sm:text-sm font-bold flex items-center"},bp={class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},xp={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},yp={key:0},kp={key:1},wp={class:"text-xs sm:text-sm font-bold flex items-center"},_p={class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},Sp={class:"flex justify-between items-center mb-0.5 sm:mb-1"},$p={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},Ep={key:0},Cp={key:1},Mp={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300"},Ap={class:"h-1.5 sm:h-2 bg-purple-100 dark:bg-purple-900/50 rounded-full overflow-hidden"},Ip={class:"text-2xs sm:text-xs text-purple-600 dark:text-purple-400 mt-0.5 sm:mt-1"},Pp={key:0},Tp={key:1},Lp={class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},qp={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium mb-0.5 sm:mb-1"},Fp={key:0},Np={key:1},Rp={class:"grid grid-cols-2 gap-1"},Up={class:"text-2xs sm:text-xs font-medium flex items-center text-purple-700 dark:text-purple-400"},Bp={key:0},Op={key:1},Dp={class:"text-2xs sm:text-xs font-medium flex items-center text-purple-700 dark:text-purple-400"},Hp={key:0},jp={key:1},Qp=we({__name:"MetamorphosisCard",props:{className:{}},setup(t){const e=De(),{width:r}=ru(),o=B(()=>r.value<640),n=B(()=>e.formatEvolutionCount()),a=B(()=>e.formatEP()),l=B(()=>e.formatLoopsCompleted()),u=B(()=>re(e.requiredLoops,1)),c=B(()=>re(e.ticksPerLoop,1)),m=B(()=>re(e.foodForNextLoop,0)),d=B(()=>Math.min(100,Math.round(e.loopsCompleted.div(e.requiredLoops).toNumber()*100)));return(f,p)=>{const g=Es("router-link");return v(),w("section",{class:ne(["bg-gradient-to-br from-purple-200 to-purple-100 dark:from-purple-900/40 dark:to-purple-800/40 rounded-xl p-2 sm:p-3 shadow-md border border-purple-300/50 dark:border-purple-700/50 dark:text-purple-100",f.className])},[p[4]||(p[4]=s("h2",{class:"text-sm sm:text-base font-bold mb-1 sm:mb-2 flex items-center text-purple-800 dark:text-purple-200"},[s("span",{class:"i-heroicons-sparkles text-purple-700 dark:text-purple-400 mr-1 sm:mr-2"}),G(" Metamorphosis ")],-1)),xo(f.$slots,"explanation"),s("div",dp,[s("div",mp,[s("div",fp,[s("div",pp,[o.value?(v(),w("span",gp,"Meta Count")):(v(),w("span",hp,"Metamorphosis Count"))]),s("div",vp,[p[0]||(p[0]=s("span",{class:"i-heroicons-sparkles text-purple-600 dark:text-purple-400 mr-0.5 sm:mr-1 text-2xs sm:text-xs"},null,-1)),G(" "+E(n.value),1)])]),s("div",bp,[s("div",xp,[o.value?(v(),w("span",yp,"Evo Points")):(v(),w("span",kp,"Evolution Points"))]),s("div",wp,[p[1]||(p[1]=s("span",{class:"i-heroicons-sparkles text-purple-600 dark:text-purple-400 mr-0.5 sm:mr-1 text-2xs sm:text-xs"},null,-1)),G(" "+E(a.value),1)])])]),s("div",_p,[s("div",Sp,[s("div",$p,[o.value?(v(),w("span",Ep,"Cycles Done")):(v(),w("span",Cp,"Foraging Cycles Completed"))]),s("div",Mp,[s("span",null,E(d.value)+"%",1)])]),s("div",Ap,[s("div",{class:"h-full bg-purple-600 dark:bg-purple-500 transition-all duration-300 ease-out",style:Xe({width:`${d.value}%`})},null,4)]),s("div",Ip,[G(E(l.value)+" / "+E(u.value)+" ",1),o.value?(v(),w("span",Pp,"cycles")):(v(),w("span",Tp,"cycles required"))])]),s("div",Lp,[s("div",qp,[o.value?(v(),w("span",Fp,"Cycle Reqs")):(v(),w("span",Np,"Cycle Requirements"))]),s("div",Rp,[s("div",Up,[p[2]||(p[2]=s("span",{class:"i-heroicons-clock text-purple-600 dark:text-purple-400 mr-0.5 sm:mr-1 text-2xs sm:text-xs"},null,-1)),G(" "+E(c.value)+" ",1),o.value?(v(),w("span",Bp,"trips")):(v(),w("span",Op,"trips"))]),s("div",Dp,[p[3]||(p[3]=s("span",{class:"i-heroicons-cake text-purple-600 dark:text-purple-400 mr-0.5 sm:mr-1 text-2xs sm:text-xs"},null,-1)),G(" "+E(m.value)+" food ",1)])])]),ve(g,{to:"/upgrades",class:"block w-full px-2 sm:px-3 py-1 sm:py-1.5 bg-gradient-to-r from-purple-700 to-purple-600 hover:from-purple-800 hover:to-purple-700 dark:from-purple-800 dark:to-purple-700 dark:hover:from-purple-900 dark:hover:to-purple-800 text-white rounded-md text-2xs sm:text-xs font-medium text-center shadow-sm transition-colors duration-200"},{default:Ve(()=>[o.value?(v(),w("span",Hp,"View Adaptations")):(v(),w("span",jp,"View Evolutionary Adaptations"))]),_:1})])],2)}}}),Gp={key:0,class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden border border-gray-300 dark:border-gray-700 transition-all duration-200 opacity-75 relative"},Wp={class:"absolute inset-0 bg-gray-100/80 dark:bg-gray-900/80 flex items-center justify-center z-10"},Vp={class:"text-center p-3"},zp={class:"text-sm font-bold text-gray-700"},Kp={class:"text-xs text-gray-600 mt-1"},Yp={class:"mt-2 w-full"},Jp={class:"text-xs text-gray-700 flex justify-between"},Xp={class:"h-1.5 bg-gray-200 rounded-full mt-1 overflow-hidden"},Zp={class:"flex flex-col"},eg={class:"bg-gradient-to-r from-gray-500 to-gray-400 py-1.5 px-2 flex items-center justify-between text-white"},tg={class:"flex items-center"},rg={class:"font-bold text-sm"},og={class:"p-2 text-gray-700"},ng={class:"flex mb-1.5"},sg={class:"flex-grow pr-2"},ig={class:"text-xs mb-1"},ag={class:"text-xs text-gray-600"},lg={class:"flex justify-between"},ug=we({__name:"NextUnlockableGenerator",props:{generator:{}},setup(t){const e=t,r=B(()=>{if(!e.generator)return"";switch(e.generator.tier){case 1:return"food";case 2:return"worker ants";case 3:return"nurseries";case 4:return"queen chambers";default:return"colonies"}}),o=B(()=>10),n=Oe(),a=B(()=>{if(!e.generator)return;const u=e.generator.tier-1;return n.unlockedGenerators.find(c=>c.tier===u)}),l=B(()=>{if(!a.value||!e.generator)return 0;const u=a.value.count.toNumber();return Math.min(100,Math.round(u/o.value*100))});return(u,c)=>{var m;return u.generator?(v(),w("div",Gp,[s("div",Wp,[s("div",Vp,[c[1]||(c[1]=s("span",{class:"i-heroicons-lock-closed text-2xl text-gray-500 mb-2 inline-block"},null,-1)),s("h4",zp,"Unlock "+E(u.generator.name),1),s("p",Kp," Requires "+E(o.value)+" "+E(((m=a.value)==null?void 0:m.name)||"previous tier"),1),s("div",Yp,[s("div",Jp,[c[0]||(c[0]=s("span",null,"Progress:",-1)),s("span",null,E(l.value)+"%",1)]),s("div",Xp,[s("div",{class:"h-full bg-amber-500 transition-all duration-300 ease-out",style:Xe({width:`${l.value}%`})},null,4)])])])]),s("div",Zp,[s("div",eg,[s("div",tg,[s("span",{class:ne([u.generator.icon,"text-xl mr-1.5 text-gray-300"])},null,2),s("h3",rg,E(u.generator.name),1)]),c[2]||(c[2]=s("div",{class:"text-xs font-medium bg-gray-600/30 px-1.5 py-0.5 rounded"}," 0 ",-1))]),s("div",og,[s("div",ng,[s("div",sg,[s("p",ig,E(u.generator.description),1),s("div",ag,[s("div",lg,[c[3]||(c[3]=s("span",null,"Base Production:",-1)),s("span",null,E(I(n).getBaseProduction(u.generator.id).toString())+" "+E(r.value)+"/trip",1)])])])]),c[4]||(c[4]=s("button",{disabled:"",class:"w-full py-1.5 px-3 rounded text-xs font-medium bg-gray-200 text-gray-500 cursor-not-allowed"},[s("span",{class:"i-heroicons-lock-closed text-sm mr-1"}),G(" Locked ")],-1))])])])):z("",!0)}}});function as(){const t=xt(),e=n=>{const a=t.achievementList.filter(u=>u.completed&&u.modifiers&&u.modifiers.length>0),l=[];return a.forEach(u=>{u.modifiers&&u.modifiers.forEach(c=>{(c.target===n||n!=="ep"&&c.target==="global")&&l.push({...c,achievementName:u.name,achievementId:u.id})})}),l},r=n=>{const a=e(n);return a.length===0?i(1):a.reduce((l,u)=>l.mul(u.multiplier),i(1))};return{getModifiersByTarget:e,getTotalMultiplier:r,getModifierSummary:n=>{const a=e(n);if(a.length===0)return"";const u=r(n).sub(1).mul(100);let c=n;return n==="global"?c="All generators":n==="ep"?c="Evolution points":n==="worker"?c="Workers":n==="nursery"?c="Nurseries":n==="queenChamber"?c="Queen chambers":n==="colony"?c="Colonies":n==="megacolony"?c="Megacolonies":n==="hivemind"?c="Hiveminds":n==="antopolis"&&(c="Antopolis"),`${c} +${mt(u)} from ${a.length} achievement${a.length>1?"s":""}`}}}function iu(){const t=Ht(),e=Ze(),{getTotalMultiplier:r}=as(),o=m=>{const d=t.getMultiplierBreakdown(m,!0),f=a(m),p=new Map;d.forEach(b=>{!b.name.includes("Bonus")&&!b.name.includes("Equipment")&&p.set(b.name,b)}),f.forEach(b=>{p.set(b.name,b)});const g=n(m);return g.gt(1)&&p.set("Achievement Bonuses",{name:"Achievement Bonuses",value:g,formatted:re(g,2)+"x",id:"achievement_combined"}),Array.from(p.values()).sort((b,x)=>x.value.cmp(b.value))},n=m=>{const d=r("global"),f=r(m);return d.mul(f)},a=m=>{var f;const d=[];return e.equipmentSlots.forEach(p=>{var g,b,x;if(p.item&&!p.locked){const U=e.getItem(p.item);if(U){if((b=(g=U.specialModifiers)==null?void 0:g.global)!=null&&b.gt(1)){let O=U.specialModifiers.global;if(p.mergeLevel&&p.mergeLevel>0){const F=Math.pow(1.15,p.mergeLevel);O=O.mul(F),d.push({name:`${U.name} +${p.mergeLevel} Global Bonus`,value:O,formatted:re(O,2)+"x",id:`equipment_${U.id}_global_merged`})}else d.push({name:`${U.name} Global Bonus`,value:O,formatted:re(O,2)+"x",id:`equipment_${U.id}_global`})}if(U.productionModifiers&&((x=U.productionModifiers[m])!=null&&x.gt(1))){let O=U.productionModifiers[m];if(p.mergeLevel&&p.mergeLevel>0){const F=Math.pow(1.15,p.mergeLevel);O=O.mul(F),d.push({name:`${U.name} +${p.mergeLevel} Bonus`,value:O,formatted:re(O,2)+"x",id:`equipment_${U.id}_${m}_merged`})}else d.push({name:`${U.name} Bonus`,value:O,formatted:re(O,2)+"x",id:`equipment_${U.id}_${m}`})}}}}),(f=e.totalSpecialModifiers.global)!=null&&f.gt(1)&&d.push({name:"Global Production Bonus (All Equipment)",value:e.totalSpecialModifiers.global,formatted:re(e.totalSpecialModifiers.global,2)+"x",id:"equipment_global_total"}),d},l=m=>{const d=o(m);let f=i(1);return d.forEach(p=>{f=f.mul(p.value)}),f};return{getEnhancedMultiplierBreakdown:o,getTotalMultiplier:l,getFormattedTotalMultiplier:m=>{const d=l(m);return d.lt(1e3)?`${d.toFixed(2)}x`:re(d,2)+"x"},getAchievementMultiplier:n,getAchievementMultiplierBreakdown:m=>{const{getModifiersByTarget:d}=as(),f=d("global"),p=d(m),g=[];return f.forEach(b=>{g.push({name:`${b.achievementName} (Global)`,value:b.multiplier,formatted:re(b.multiplier,2)+"x",id:`achievement_${b.achievementId}_global`})}),p.forEach(b=>{g.push({name:b.achievementName,value:b.multiplier,formatted:re(b.multiplier,2)+"x",id:`achievement_${b.achievementId}_${m}`})}),g.sort((b,x)=>x.value.cmp(b.value))}}}const cg={class:"text-base font-bold mb-3 flex items-center text-amber-800 dark:text-amber-300 p-5 pb-2 border-b border-amber-200 dark:border-amber-700"},dg={class:"overflow-y-auto px-5 flex-grow"},mg={class:"space-y-2 mb-4"},fg={class:"text-amber-700 dark:text-amber-400"},pg={class:"font-medium text-amber-900 dark:text-amber-200"},gg={key:0,class:"mt-6 mb-4"},hg={class:"border-t border-amber-200 dark:border-amber-700 pt-4 mb-3"},vg={class:"flex items-center"},bg={class:"font-medium text-green-900 dark:text-green-200 mr-2"},xg={key:0,class:"pl-2 space-y-2 mb-4 animate-fadeIn"},yg={class:"text-green-700 dark:text-green-400 text-sm"},kg={class:"font-medium text-green-900 dark:text-green-200 text-sm"},wg={class:"border-t-2 border-amber-200 dark:border-amber-700 pt-3 flex justify-between items-center font-bold text-amber-900 dark:text-amber-200 px-5"},_g={class:"bg-amber-200 dark:bg-amber-700 px-3 py-1 rounded-lg"},Sg={class:"mt-4 flex justify-end px-5 pb-5"},$g=we({__name:"MultiplierBreakdownModal",props:{show:{type:Boolean},generatorId:{},generatorName:{}},emits:["close"],setup(t,{emit:e}){const r=t,o=e,n=H(!1),{getEnhancedMultiplierBreakdown:a,getFormattedTotalMultiplier:l,getAchievementMultiplier:u,getAchievementMultiplierBreakdown:c}=iu(),m=B(()=>a(r.generatorId)),d=B(()=>c(r.generatorId)),f=B(()=>d.value.length>0),p=B(()=>{const x=u(r.generatorId);return x.lt(1e3)?`${x.toFixed(2)}x`:re(x,2)+"x"}),g=B(()=>l(r.generatorId)),b=()=>{n.value=!n.value};return(x,U)=>x.show?(v(),w("div",{key:0,class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",onClick:U[2]||(U[2]=O=>o("close"))},[s("div",{class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] flex flex-col mx-auto border border-amber-200 dark:border-amber-700",onClick:U[1]||(U[1]=Ls(()=>{},["stop"]))},[s("h3",cg,[U[3]||(U[3]=s("span",{class:"i-heroicons-chart-bar text-amber-600 dark:text-amber-400 mr-2"},null,-1)),G(" "+E(x.generatorName)+" Multiplier Breakdown ",1)]),s("div",dg,[s("div",mg,[(v(!0),w(ye,null,Ie(m.value,(O,F)=>(v(),w("div",{key:F,class:"flex justify-between items-center py-2 px-3 rounded-lg bg-amber-50 dark:bg-amber-900/30"},[s("span",fg,E(O.name),1),s("span",pg,E(O.formatted),1)]))),128))]),f.value?(v(),w("div",gg,[s("div",hg,[s("button",{onClick:b,class:"flex justify-between items-center w-full py-2 px-3 rounded-lg bg-green-50 dark:bg-green-900/30 hover:bg-green-100 dark:hover:bg-green-900/50 transition-colors"},[U[4]||(U[4]=s("span",{class:"text-green-700 dark:text-green-400 flex items-center"},[s("span",{class:"i-heroicons-trophy mr-2"}),G(" Achievement Bonuses ")],-1)),s("div",vg,[s("span",bg,E(p.value),1),s("span",{class:ne([{"i-heroicons-chevron-down":!n.value,"i-heroicons-chevron-up":n.value},"text-green-600 dark:text-green-400"])},null,2)])])]),n.value?(v(),w("div",xg,[(v(!0),w(ye,null,Ie(d.value,(O,F)=>(v(),w("div",{key:F,class:"flex justify-between items-center py-2 px-3 rounded-lg bg-green-50/50 dark:bg-green-900/20"},[s("span",yg,E(O.name),1),s("span",kg,E(O.formatted),1)]))),128))])):z("",!0)])):z("",!0)]),s("div",wg,[U[5]||(U[5]=s("span",null,"Total Multiplier",-1)),s("span",_g,E(g.value),1)]),s("div",Sg,[s("button",{onClick:U[0]||(U[0]=O=>o("close")),class:"py-2 px-4 bg-amber-600 hover:bg-amber-700 dark:bg-amber-700 dark:hover:bg-amber-800 rounded-lg text-white text-sm font-medium transition-colors"}," Close ")])])])):z("",!0)}}),Eg=et($g,[["__scopeId","data-v-c6d3f423"]]),Cg={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden border border-amber-200 dark:border-amber-700 transition-all duration-200"},Mg={class:"flex flex-col h-full"},Ag={class:"bg-gradient-to-r from-amber-600 to-amber-500 dark:from-amber-700 dark:to-amber-600 py-1.5 px-2.5 flex items-center justify-between text-white"},Ig={class:"flex items-center"},Pg={class:"font-bold text-xs md:text-sm"},Tg={class:"text-xs font-medium bg-amber-700/30 dark:bg-amber-800/40 px-1.5 py-0.5 rounded"},Lg={class:"px-2.5 pt-2 pb-1 text-amber-900 dark:text-amber-100 flex-grow text-xs"},qg={class:"mb-1.5"},Fg={class:"grid grid-cols-2 gap-x-2 gap-y-0.5 mb-1.5"},Ng={class:"text-right text-amber-700 dark:text-amber-400"},Rg={class:"text-right text-amber-600 dark:text-amber-500"},Ug={key:1},Bg={class:"text-right text-amber-700 dark:text-amber-400"},Og={class:"text-right text-amber-700 dark:text-amber-400"},Dg={key:0,class:"border-t border-amber-100 dark:border-amber-800 pt-1.5 mb-1.5"},Hg={class:"flex justify-between items-center mb-1"},jg={class:"text-xs bg-amber-100 dark:bg-amber-900 text-amber-800 dark:text-amber-200 px-1.5 py-0.5 rounded-full"},Qg={class:"h-1.5 bg-amber-100 dark:bg-amber-900/50 rounded-full overflow-hidden"},Gg={class:"flex justify-between mt-0.5 text-2xs text-amber-700 dark:text-amber-400"},Wg={key:1,class:"flex justify-between items-center mb-1.5 border-t border-amber-100 dark:border-amber-800 pt-1.5"},Vg={class:"px-2.5 py-2 mt-auto border-t border-amber-100 dark:border-amber-800"},zg={key:0,class:"text-xs text-red-600 dark:text-red-400 mb-1 flex items-center"},Kg=we({__name:"GeneratorItem",props:{generator:{}},emits:["upgrade"],setup(t,{emit:e}){const r=t,o=Oe(),n=De();Ht();const a=Nt(),l=at(),u=H(!1),{getTotalMultiplier:c,getFormattedTotalMultiplier:m,getEnhancedMultiplierBreakdown:d}=iu(),f=B(()=>o.getGeneratorCost(r.generator.id)),p=B(()=>re(f.value,2)),g=B(()=>o.food.gte(f.value)),b=B(()=>re(r.generator.count,0)),x=B(()=>re(r.generator.manualPurchases,0)),U=B(()=>r.generator.count.sub(r.generator.manualPurchases)),O=B(()=>re(U.value,0)),F=B(()=>re(o.getBaseProduction(r.generator.id),1)),L=B(()=>c(r.generator.id)),A=B(()=>m(r.generator.id)),M=B(()=>o.getBaseProduction(r.generator.id).mul(L.value).mul(r.generator.count)),S=B(()=>re(M.value,1)),$=B(()=>d(r.generator.id)),y={worker:"autoWorker",nursery:"autoNursery",queenChamber:"autoQueenChamber",colony:"autoColony",megacolony:"autoMegacolony",hivemind:"autoHivemind",antopolis:"autoAntopolis"},k=B(()=>{const se=y[r.generator.id];return se?n.getUpgradeMultiplier(se).gt(0):!1}),N=()=>{o.toggleAutoPurchase(r.generator.id)},P=()=>{g.value&&!h.value&&o.buyGenerator(r.generator.id)},h=B(()=>{if(r.generator.id==="hivemind"){const se=o.getGenerator("megacolony");return!se||se.count.eq(0)}else if(r.generator.id==="antopolis"){const se=o.getGenerator("hivemind");return!se||se.count.eq(0)}return!1}),_=B(()=>r.generator.id==="hivemind"?"Requires at least one Mega Colony":r.generator.id==="antopolis"?"Requires at least one Hive Mind":""),W=B(()=>{switch(r.generator.tier){case 1:return"food";case 2:return"worker ants";case 3:return"nurseries";case 4:return"queen chambers";case 5:return"colonies";case 6:return"mega colonies";case 7:return"hive minds";default:return"resources"}}),R=B(()=>g.value&&!h.value?"w-full py-1.5 px-2.5 rounded text-xs font-medium bg-amber-600 hover:bg-amber-700 dark:bg-amber-700 dark:hover:bg-amber-800 text-white":"w-full py-1.5 px-2.5 rounded text-xs font-medium bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed"),pe=B(()=>a.isFeatureUnlocked.upgrades),Z=B(()=>{var se;return((se=l.generatorLevels[r.generator.id])==null?void 0:se.toNumber())||0}),he=B(()=>l.formatProgressPercentage(r.generator.id)),Ce=B(()=>l.formatPoints(r.generator.id));H(!1);const de=()=>{ae("upgrade",r.generator.id)},ae=e;return(se,Q)=>(v(),w(ye,null,[s("div",Cg,[s("div",Mg,[s("div",Ag,[s("div",Ig,[s("span",{class:ne([se.generator.icon,"text-lg mr-1.5 text-amber-200 dark:text-amber-100"])},null,2),s("h3",Pg,E(se.generator.name),1)]),s("div",Tg,E(b.value),1)]),s("div",Lg,[s("p",qg,E(se.generator.description),1),s("div",Fg,[Q[2]||(Q[2]=s("div",{class:"font-medium text-amber-700 dark:text-amber-400"},"Production:",-1)),s("div",Ng,E(S.value)+" "+E(W.value)+"/trip",1),Q[3]||(Q[3]=s("div",{class:"font-medium text-amber-600 dark:text-amber-500"},"Base × Multiplier:",-1)),s("div",Rg,[G(E(F.value)+" × ",1),$.value.length>0?(v(),w("span",{key:0,class:"cursor-pointer underline decoration-dotted",onClick:Q[0]||(Q[0]=ee=>u.value=!0)},E(A.value),1)):(v(),w("span",Ug,E(A.value),1))]),Q[4]||(Q[4]=s("div",{class:"font-medium text-amber-700 dark:text-amber-400"},"Bought:",-1)),s("div",Bg,E(x.value),1),Q[5]||(Q[5]=s("div",{class:"font-medium text-amber-700 dark:text-amber-400"},"Generated:",-1)),s("div",Og,E(O.value),1)]),pe.value&&se.generator.count.gt(0)?(v(),w("div",Dg,[s("div",Hg,[Q[6]||(Q[6]=s("span",{class:"font-medium text-amber-800 dark:text-amber-300 flex items-center"},[s("span",{class:"i-heroicons-star text-amber-600 dark:text-amber-400 mr-1 text-xs"}),G(" Specialization: ")],-1)),s("span",jg," Lvl "+E(Z.value),1)]),s("div",Qg,[s("div",{class:"h-full bg-amber-500 dark:bg-amber-600 transition-all duration-700 ease-out",style:Xe({width:`${he.value}%`})},null,4)]),s("div",Gg,[s("span",null,E(Ce.value)+" points",1),s("span",null,E(he.value)+"%",1)]),s("button",{onClick:de,class:"mt-1 w-full text-xs bg-amber-600 dark:bg-amber-700 text-white px-2 py-1 rounded-md flex items-center justify-center hover:bg-amber-700 dark:hover:bg-amber-800 transition-colors"},Q[7]||(Q[7]=[s("span",{class:"i-heroicons-arrow-up-circle text-xs mr-1"},null,-1),G(" Upgrade Specialization ")]))])):z("",!0),k.value?(v(),w("div",Wg,[Q[8]||(Q[8]=s("span",{class:"font-medium text-amber-800 dark:text-amber-300"},"Auto-purchase:",-1)),s("button",{onClick:N,class:ne(["w-8 h-4 rounded-full relative cursor-pointer transition-colors duration-200 ease-in-out",se.generator.autoPurchaseEnabled?"bg-green-500 dark:bg-green-600":"bg-gray-300 dark:bg-gray-600"])},[s("span",{class:ne(["absolute top-0.5 left-0.5 w-3 h-3 bg-white dark:bg-gray-200 rounded-full shadow transform transition-transform duration-200 ease-in-out",se.generator.autoPurchaseEnabled?"translate-x-4":"translate-x-0"])},null,2)],2)])):z("",!0)]),s("div",Vg,[h.value?(v(),w("div",zg,[Q[9]||(Q[9]=s("span",{class:"i-heroicons-exclamation-triangle text-xs mr-1"},null,-1)),G(" "+E(_.value),1)])):z("",!0),ve(xn,{onAction:P,disabled:!g.value||h.value,class:ne(R.value),"initial-delay":400,"repeat-interval":150,accelerate:!0,"min-interval":30},{default:Ve(()=>[Q[10]||(Q[10]=s("span",{class:"i-heroicons-shopping-cart text-xs mr-1"},null,-1)),G(" Buy for "+E(p.value)+" food ",1)]),_:1},8,["disabled","class"])])])]),ve(Eg,{show:u.value,"generator-id":se.generator.id,"generator-name":se.generator.name,onClose:Q[1]||(Q[1]=ee=>u.value=!1)},null,8,["show","generator-id","generator-name"])],64))}}),Yg=et(Kg,[["__scopeId","data-v-442402be"]]),Jg={class:"text-base font-bold mb-2 flex items-center justify-between"},Xg={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3"},Zg=we({__name:"AntHierarchySection",props:{className:{}},emits:["upgrade","showInfo"],setup(t,{emit:e}){const r=e,o=Oe(),n=Nt(),a=B(()=>o.unlockedGenerators),l=B(()=>o.nextUnlockableGenerator),u=d=>{r("upgrade",d)},c=B(()=>n.isFeatureUnlocked.upgrades),m=()=>{r("showInfo")};return(d,f)=>{const p=Yg,g=ug;return v(),w("section",{id:"generator-section",class:ne(["bg-gradient-to-br from-amber-100 to-amber-50 rounded-xl p-3 shadow-md dark:from-amber-900/30 dark:to-amber-800/30 dark:text-amber-50",d.className])},[s("h2",Jg,[f[1]||(f[1]=s("div",{class:"flex items-center"},[s("span",{class:"i-heroicons-cog-6-tooth text-amber-700 mr-2"}),G(" Ant Hierarchy ")],-1)),I(c)?(v(),w("button",{key:0,onClick:m,class:"w-5 h-5 rounded-full bg-amber-200 hover:bg-amber-300 dark:bg-amber-800 dark:hover:bg-amber-700 flex items-center justify-center text-amber-700 dark:text-amber-300 transition-colors"},f[0]||(f[0]=[s("span",{class:"i-heroicons-question-mark-circle text-base"},null,-1)]))):z("",!0)]),s("div",Xg,[(v(!0),w(ye,null,Ie(I(a),b=>(v(),Qe(p,{key:b.id,generator:b,onUpgrade:u},null,8,["generator"]))),128)),I(l)?(v(),Qe(g,{key:0,generator:I(l)},null,8,["generator"])):z("",!0)])],2)}}}),eh={class:"space-y-4"},th={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},rh="https://discord.gg/kNXpD53Q4F",oh="https://discord.gg/cHyAFTx9kj",nh="https://buymeacoffee.com/idleantfarm",sh=we({__name:"IndexPage",setup(t){nr(),Oe(),De();const e=Nt();at();const{isFeatureUnlocked:r}=e,{shouldAnimateFeature:o}=su(),n=H(!1),a=H(!1),l=H(!1),u=H(null),c=H(!1),m=g=>{u.value=g,c.value=!0},d=()=>{c.value=!1},f=H(!1),p=()=>{f.value=!f.value};return He(()=>{o("colonyStatus")&&(n.value=!0,setTimeout(()=>{n.value=!1},1500)),o("upgrades")&&(a.value=!0,setTimeout(()=>{a.value=!1},1500)),o("upgrades")&&(l.value=!0,setTimeout(()=>{l.value=!1},1500))}),Ee(()=>r.colonyStatus,(g,b)=>{g&&!b&&(n.value=!0,setTimeout(()=>{n.value=!1},1500))}),Ee(()=>r.upgrades,(g,b)=>{g&&!b&&(a.value=!0,l.value=!0,setTimeout(()=>{a.value=!1,l.value=!1},1500))}),(g,b)=>(v(),w("div",eh,[s("div",th,[I(r).colonyStatus?(v(),Qe(cp,{key:0,class:ne(["md:col-span-2",{"feature-unlock-pulse":n.value}]),"github-issues-url":rh,"discord-url":oh,"buy-me-coffee-url":nh},null,8,["class"])):z("",!0),I(r).evolution?(v(),Qe(Qp,{key:1,class:ne({"feature-unlock-pulse":a.value})},_c({_:2},[I(r).showMetamorphosisExplanation?{name:"explanation",fn:Ve(()=>[b[0]||(b[0]=s("div",{class:"p-3 bg-blue-100 dark:bg-blue-900 rounded-md mb-3 text-sm"},[s("p",{class:"font-medium"},"What is Metamorphosis?"),s("p",{class:"mt-1"},"Metamorphosis allows you to evolve your colony and gain powerful bonuses. Purchase ants and other generators to increase your Evolution Points (EP).")],-1))]),key:"0"}:void 0]),1032,["class"])):z("",!0)]),ve(Zg,{onUpgrade:m,onShowInfo:p}),ve(df,{show:f.value,onClose:p},null,8,["show"]),ve(Yf,{show:c.value,"selected-generator":u.value,"generator-info":I(sf),onClose:d},null,8,["show","selected-generator","generator-info"]),ve(So,{threshold:400})]))}});function ih(){const t=H(null),e=H(!1),r=H(!1),o=H(!0),n=()=>{(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0||document.referrer.includes("android-app://"))&&(r.value=!0)},a=()=>{const m=navigator.userAgent.toLowerCase(),d=m.indexOf("chrome")>-1&&m.indexOf("edg")===-1,f=m.indexOf("edg")>-1,p=m.indexOf("safari")>-1&&m.indexOf("chrome")===-1,g=m.indexOf("firefox")>-1,b=m.indexOf("arc")>-1,x=m.indexOf("macintosh")>-1;(r.value||b||p&&x||!d&&!f&&!p&&!g)&&(o.value=!1)},l=m=>{m.preventDefault(),t.value=m,e.value=!0},u=()=>{r.value=!0,e.value=!1,t.value=null,console.log("PWA was installed")},c=async()=>{if(!t.value){o.value&&alert('To install this app: tap the share/menu button in your browser and select "Add to Home Screen" or "Install"');return}t.value.prompt(),(await t.value.userChoice).outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),t.value=null,e.value=!1};return He(()=>{n(),a(),window.addEventListener("beforeinstallprompt",l),window.addEventListener("appinstalled",u)}),yr(()=>{window.removeEventListener("beforeinstallprompt",l),window.removeEventListener("appinstalled",u)}),{isInstallable:e,isInstalled:r,browserSupportsInstall:o,promptInstall:c}}const ah="0.6.0";function au(){return{version:ah}}function lu(t){let e=t;return e=e.replace(/```([^`]+)```/g,(r,o)=>`<pre class="bg-amber-100 dark:bg-amber-950/40 p-4 rounded-lg overflow-x-auto my-3"><code>${o.trim()}</code></pre>`),e=e.replace(/`([^`]+)`/g,(r,o)=>`<code class="bg-amber-100 dark:bg-amber-950/40 px-1 py-0.5 rounded font-mono text-sm">${o}</code>`),e=e.replace(/^## (.+)$/gm,(r,o)=>`<h2 class="text-xl font-bold mt-6 mb-3 text-amber-800 dark:text-amber-300">${o}</h2>`),e=e.replace(/^### (.+)$/gm,(r,o)=>`<h3 class="text-lg font-bold mt-4 mb-2 text-amber-700 dark:text-amber-400">${o}</h3>`),e=e.replace(/\*\*([^*]+)\*\*/g,(r,o)=>`<strong class="font-bold">${o}</strong>`),e=e.replace(/\*([^*]+)\*/g,(r,o)=>`<em class="italic">${o}</em>`),e=e.replace(/\[([^\]]+)\]\(([^)]+)\)/g,(r,o,n)=>`<a href="${n}" class="text-amber-600 dark:text-amber-400 hover:underline" target="_blank" rel="noopener noreferrer">${o}</a>`),e=e.replace(/^\s*-\s+(.+)$/gm,(r,o)=>`<li class="mb-1">${o}</li>`),e=e.replace(/<li class="mb-1">(.+)<\/li>\n<li class="mb-1">/g,`<li class="mb-1">$1</li>
<li class="mb-1">`),e=e.replace(/(<li class="mb-1">.+<\/li>\n)+/g,r=>`<ul class="list-disc pl-6 my-3">${r}</ul>`),e=e.replace(/^([^<\n].+)$/gm,(r,o)=>`<p class="my-2">${o}</p>`),e=e.replace(/## \[(.+)\] - (.+)/g,(r,o,n)=>`<h2 class="text-xl font-bold mt-6 mb-3 text-amber-800 dark:text-amber-300">
      <span class="inline-block bg-amber-200 dark:bg-amber-800/80 text-amber-800 dark:text-amber-200 px-2 py-1 rounded mr-2">${o}</span>
      <span class="text-amber-600 dark:text-amber-400 text-base">${n}</span>
    </h2>`),e}const oa="idle-ant-farm-last-version",na="idle-ant-farm-announcements-enabled",zr=(t,e)=>{const r=t.split(".").map(Number),o=e.split(".").map(Number);for(let n=0;n<Math.max(r.length,o.length);n++){const a=n<r.length?r[n]:0,l=n<o.length?o[n]:0;if(a>l)return 1;if(a<l)return-1}return 0};function uu(){const{version:t}=au(),e=H(!1),r=H(!0),o=H({versionRange:"",date:"",content:""}),n=H(!0),a=()=>localStorage.getItem(oa)||"0.0.0",l=()=>{localStorage.setItem(oa,t)},u=()=>{const x=localStorage.getItem(na);x!==null&&(r.value=x==="true")},c=()=>{r.value=!r.value,localStorage.setItem(na,r.value.toString())},m=B(()=>{const x=a();return zr(t,x)>0}),d=(x,U)=>{const O=`## [${U}]`,F=x.indexOf(O);if(F===-1)return null;const L=x.substring(F).match(/## \[[^\]]+\] - ([^\n]+)/);if(!L)return null;const A=L[1],M=x.indexOf(`

`,F)+2,S=x.indexOf("## [",M),$=S!==-1?S:x.length,y=x.substring(M,$).trim();return{version:U,date:A,content:y}},f=x=>{const U=[],O=/## \[([^\]]+)\] - ([^\n]+)/g;let F;for(;(F=O.exec(x))!==null;){const L=F[1];F[2];const A=d(x,L);A&&U.push(A)}return U.sort((L,A)=>zr(A.version,L.version)),U},p=(x,U,O)=>{const F=f(x);if(F.length===0)return null;const L=F.filter(S=>zr(S.version,U)>0&&zr(S.version,O)<=0);if(L.length===0)return null;L.sort((S,$)=>zr($.version,S.version));let A="";return L.forEach(S=>{A+=`<h2 class="text-xl font-bold mt-6 mb-3 text-amber-800 dark:text-amber-300">
        <span class="inline-block bg-amber-200 dark:bg-amber-800/80 text-amber-800 dark:text-amber-200 px-2 py-1 rounded mr-2">v${S.version}</span>
        <span class="text-amber-600 dark:text-amber-400 text-base">${S.date}</span>
      </h2>
${lu(S.content)}

`}),{versionRange:L.length===1?L[0].version:`${L[L.length-1].version} to ${L[0].version}`,date:L[0].date,content:A}},g=async()=>{try{n.value=!0;const U=await(await fetch("/CHANGELOG.md")).text(),O=a(),F=p(U,O,t);F&&(o.value=F,m.value&&r.value&&(e.value=!0))}catch(x){console.error("Failed to load changelog:",x)}finally{n.value=!1}},b=()=>{e.value=!1,l()};return u(),He(()=>{g()}),{showAnnouncement:e,updateDetails:o,isLoading:n,hasVersionUpdate:m,closeAnnouncement:b,announcementsEnabled:r,toggleAnnouncementsEnabled:c}}const lh=lt("darkMode",()=>{const t=H(!1);function e(){const a=localStorage.getItem("darkMode");a==="true"?t.value=!0:a==="false"?t.value=!1:t.value=window.matchMedia("(prefers-color-scheme: dark)").matches,n(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",l=>{localStorage.getItem("darkMode")===null&&o(l.matches)})}function r(){t.value=!t.value,n()}function o(a){t.value=a,n()}function n(){t.value?(document.documentElement.classList.add("dark"),localStorage.setItem("darkMode","true")):(document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode","false"))}return{isDarkMode:t,initialize:e,toggleDarkMode:r,setDarkMode:o}});function yn(){const t=lh();return He(()=>{t.initialize()}),{isDarkMode:t.isDarkMode,toggleDarkMode:t.toggleDarkMode,setDarkMode:t.setDarkMode}}const uh={class:"flex items-center justify-between"},ch={class:"relative inline-flex items-center cursor-pointer"},dh=we({__name:"DarkModeToggle",setup(t){const{isDarkMode:e,toggleDarkMode:r}=yn();return(o,n)=>(v(),w("div",uh,[n[3]||(n[3]=s("div",null,[s("div",{class:"text-sm font-medium"},"Dark Mode"),s("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Toggle between light and dark theme")],-1)),s("label",ch,[Be(s("input",{type:"checkbox","onUpdate:modelValue":n[0]||(n[0]=a=>Pe(e)?e.value=a:null),onChange:n[1]||(n[1]=(...a)=>I(r)&&I(r)(...a)),class:"sr-only peer"},null,544),[[dt,I(e)]]),n[2]||(n[2]=s("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])]))}}),mh="0.6.0",fh={class:"space-y-4 dark:bg-gray-900 dark:text-gray-100"},ph={key:0,class:"bg-gradient-to-br from-green-100 to-green-50 dark:from-green-900 dark:to-green-800 rounded-xl p-3 shadow-md"},gh={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-green-200 dark:border-green-700"},hh={class:"text-xs text-green-800 dark:text-green-200"},vh={class:"text-xs font-medium mt-1"},bh={class:"mt-2 flex justify-end"},xh={key:1,class:"bg-gradient-to-br from-blue-100 to-blue-50 dark:from-blue-900 dark:to-blue-800 rounded-xl p-3 shadow-md"},yh={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-blue-200 dark:border-blue-700"},kh={key:1,class:"text-sm text-blue-800 dark:text-blue-200"},wh={class:"bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-800 dark:to-gray-700 rounded-xl p-3 shadow-md"},_h={class:"space-y-2"},Sh={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},$h={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},Eh={class:"flex items-center justify-between"},Ch={class:"relative inline-flex items-center cursor-pointer"},Mh={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},Ah={class:"flex items-center justify-between"},Ih={class:"relative inline-flex items-center cursor-pointer"},Ph={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},Th={class:"flex items-center justify-between"},Lh={class:"relative inline-flex items-center cursor-pointer"},qh={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},Fh={class:"flex items-center justify-between"},Nh={class:"relative inline-flex items-center cursor-pointer"},Rh={key:2,class:"bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-800 dark:to-gray-700 rounded-xl p-3 shadow-md"},Uh={class:"space-y-2"},Bh={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},Oh={class:"flex items-center justify-between"},Dh={class:"relative inline-flex items-center cursor-pointer"},Hh={class:"bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-800 dark:to-gray-700 rounded-xl p-3 shadow-md"},jh={class:"space-y-2"},Qh={key:0,class:"bg-green-100 dark:bg-green-900 p-2 rounded-lg border border-green-200 dark:border-green-700"},Gh={class:"text-xs text-green-800 dark:text-green-200 flex items-center"},Wh={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},Vh={class:"mb-2"},zh={key:0,class:"mt-1"},Kh={key:0,class:"text-xs text-green-600 dark:text-green-400 mt-0.5"},Yh={class:"grid grid-cols-2 gap-2 mb-2"},Jh={class:"bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md p-1.5 mb-1 h-16 flex flex-col justify-center"},Xh={key:0,class:"text-xs text-red-600 dark:text-red-400 mt-0.5"},Zh={key:1,class:"text-xs text-green-600 dark:text-green-400 mt-0.5"},ev={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},tv={key:1,class:"space-y-1"},rv={class:"grid grid-cols-2 gap-2"},ov={class:"bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-800 dark:to-gray-700 rounded-xl p-3 shadow-md"},nv={class:"grid grid-cols-2 gap-2"},sv={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},iv={class:"text-sm font-medium"},av={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},lv={class:"text-sm font-medium"},uv=we({__name:"SettingsPage",setup(t){const e=kr(),r=nr(),o=De(),n=xt(),{announcementsEnabled:a,toggleAnnouncementsEnabled:l}=uu(),{isInstallable:u,promptInstall:c,browserSupportsInstall:m}=ih();H(1);const d=H(""),f=H(""),p=H(""),g=H(!1),b=H(!1),x=H(null),U=H(!1),O=H(!1),F=H(!1),L=H(null);Ee(()=>e.isCalculatingOfflineProgress,h=>{!h&&e.offlineProgressTotalTicks>0&&(L.value={elapsedTime:e.offlineProgressElapsedTime,ticks:e.offlineProgressTotalTicks})});const A=()=>{const h=e.exportSave();h&&(d.value=h,b.value=!0,setTimeout(()=>{b.value=!1},3e3))},M=()=>{if(p.value="",!f.value){p.value="Please enter a save string";return}try{e.importSave(f.value)?(g.value=!0,f.value="",setTimeout(()=>{g.value=!1},3e3)):p.value="Invalid save data"}catch(h){p.value="Error importing save",console.error(h)}},S=async h=>{p.value="";const _=h.target;if(!_.files||_.files.length===0){p.value="No file selected";return}const W=_.files[0];try{await e.importSaveFromFile(W)?(g.value=!0,setTimeout(()=>{g.value=!1},3e3)):p.value="Invalid save data in file"}catch(R){p.value="Error importing save from file",console.error(R)}x.value&&(x.value.value="")},$=()=>{e.exportSaveToFile()},y=()=>{e.saveGame()&&(U.value=!0,setTimeout(()=>{U.value=!1},3e3))},k=()=>{e.loadGame()&&(O.value=!0,setTimeout(()=>{O.value=!1},3e3))},N=()=>{F.value?e.resetGame():(F.value=!0,setTimeout(()=>{F.value=!1},5e3))},P=h=>{if(h<60)return`${Math.floor(h)} seconds`;if(h<3600){const _=Math.floor(h/60);return`${_} minute${_!==1?"s":""}`}else{const _=Math.floor(h/3600),W=Math.floor(h%3600/60);return`${_} hour${_!==1?"s":""} ${W>0?`and ${W} minute${W!==1?"s":""}`:""}`}};return He(()=>{}),(h,_)=>{const W=So;return v(),w(ye,null,[s("div",fh,[L.value?(v(),w("section",ph,[_[15]||(_[15]=s("h2",{class:"text-base font-bold mb-2 flex items-center text-green-800 dark:text-green-200"},[s("span",{class:"i-heroicons-clock text-green-700 dark:text-green-300 mr-2"}),G(" Offline Progress Applied ")],-1)),s("div",gh,[s("p",hh," While you were away for "+E(P(L.value.elapsedTime))+", your colony continued to work! ",1),s("p",vh,[_[14]||(_[14]=s("span",{class:"i-heroicons-check-circle text-green-600 dark:text-green-400 mr-1"},null,-1)),G(" "+E(L.value.ticks)+" game cycles completed ",1)])]),s("div",bh,[s("button",{onClick:_[0]||(_[0]=R=>L.value=null),class:"text-xs text-green-800 dark:text-green-200 bg-green-200 dark:bg-green-700 hover:bg-green-300 dark:hover:bg-green-600 px-2 py-1 rounded-md"}," Dismiss ")])])):z("",!0),I(u)||I(m)?(v(),w("section",xh,[_[21]||(_[21]=s("h2",{class:"text-base font-bold mb-2 flex items-center text-blue-800 dark:text-blue-200"},[s("span",{class:"i-heroicons-device-phone-mobile text-blue-700 dark:text-blue-300 mr-2"}),G(" Install Colony App ")],-1)),s("div",yh,[_[20]||(_[20]=s("p",{class:"text-sm text-blue-800 dark:text-blue-200 mb-2"}," Install Idle Ant Farm as an app on your device for the best experience! ",-1)),I(u)?(v(),w("button",{key:0,onClick:_[1]||(_[1]=(...R)=>I(c)&&I(c)(...R)),class:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium flex items-center justify-center"},_[16]||(_[16]=[s("span",{class:"i-heroicons-arrow-down-tray text-base mr-2"},null,-1),G(" Install App ")]))):I(m)?(v(),w("div",kh,[_[18]||(_[18]=s("p",{class:"mb-2"},"To install this app on your device:",-1)),_[19]||(_[19]=s("ol",{class:"list-decimal pl-5 space-y-1"},[s("li",null,"Tap the share/menu button in your browser"),s("li",null,'Select "Add to Home Screen" or "Install"')],-1)),s("button",{onClick:_[2]||(_[2]=(...R)=>I(c)&&I(c)(...R)),class:"mt-2 w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium flex items-center justify-center"},_[17]||(_[17]=[s("span",{class:"i-heroicons-information-circle text-base mr-2"},null,-1),G(" Show Installation Help ")]))])):z("",!0)])])):z("",!0),s("section",wh,[_[30]||(_[30]=s("h2",{class:"text-base font-bold mb-2 flex items-center"},[s("span",{class:"i-heroicons-cog-6-tooth text-gray-700 dark:text-gray-300 mr-2"}),G(" Colony Settings ")],-1)),s("div",_h,[s("div",Sh,[ve(dh)]),s("div",$h,[s("div",Eh,[_[23]||(_[23]=s("div",null,[s("div",{class:"text-sm font-medium"},"Achievement Notifications"),s("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Show popup notifications when achievements are unlocked")],-1)),s("label",Ch,[Be(s("input",{type:"checkbox","onUpdate:modelValue":_[3]||(_[3]=R=>I(n).notificationsEnabled=R),class:"sr-only peer"},null,512),[[dt,I(n).notificationsEnabled]]),_[22]||(_[22]=s("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])]),s("div",Mh,[s("div",Ah,[_[25]||(_[25]=s("div",null,[s("div",{class:"text-sm font-medium"},"Update Announcements"),s("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Show popup with details when the game is updated ")],-1)),s("label",Ih,[Be(s("input",{type:"checkbox","onUpdate:modelValue":_[4]||(_[4]=R=>Pe(a)?a.value=R:null),onChange:_[5]||(_[5]=(...R)=>I(l)&&I(l)(...R)),class:"sr-only peer"},null,544),[[dt,I(a)]]),_[24]||(_[24]=s("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])]),s("div",Ph,[s("div",Th,[_[27]||(_[27]=s("div",null,[s("div",{class:"text-sm font-medium"},"Pheromone Trail Preservation"),s("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Automatically save your colony progress every minute ")],-1)),s("label",Lh,[Be(s("input",{type:"checkbox","onUpdate:modelValue":_[6]||(_[6]=R=>I(e).autoSaveEnabled=R),class:"sr-only peer"},null,512),[[dt,I(e).autoSaveEnabled]]),_[26]||(_[26]=s("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])]),s("div",qh,[s("div",Fh,[_[29]||(_[29]=s("div",null,[s("div",{class:"text-sm font-medium"},"Hibernation Progress"),s("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Calculate colony progress while you're away")],-1)),s("label",Nh,[Be(s("input",{type:"checkbox","onUpdate:modelValue":_[7]||(_[7]=R=>I(e).offlineProgressEnabled=R),class:"sr-only peer"},null,512),[[dt,I(e).offlineProgressEnabled]]),_[28]||(_[28]=s("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])])])]),I(o).hasEvolved?(v(),w("section",Rh,[_[33]||(_[33]=s("h2",{class:"text-base font-bold mb-2 flex items-center"},[s("span",{class:"i-heroicons-arrow-path text-gray-700 dark:text-gray-300 mr-2"}),G(" Evolution Settings ")],-1)),s("div",Uh,[s("div",Bh,[s("div",Oh,[_[32]||(_[32]=s("div",null,[s("div",{class:"text-sm font-medium"},"Auto-Enable Auto Purchases After Evolution"),s("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Automatically enable all auto-purchases after evolving")],-1)),s("label",Dh,[Be(s("input",{type:"checkbox","onUpdate:modelValue":_[8]||(_[8]=R=>I(e).autoEnableGeneratorsAfterPrestige=R),class:"sr-only peer"},null,512),[[dt,I(e).autoEnableGeneratorsAfterPrestige]]),_[31]||(_[31]=s("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])])])])):z("",!0),s("section",Hh,[_[51]||(_[51]=s("h2",{class:"text-base font-bold mb-2 flex items-center"},[s("span",{class:"i-heroicons-document-text text-gray-700 dark:text-gray-300 mr-2"}),G(" Colony Memory Management ")],-1)),s("div",jh,[s("div",{class:"grid grid-cols-2 gap-2"},[s("button",{onClick:y,class:"py-1.5 px-3 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},_[34]||(_[34]=[s("span",{class:"i-heroicons-document-arrow-down text-base mr-1"},null,-1),G(" Save Colony ")])),s("button",{onClick:k,class:"py-1.5 px-3 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},_[35]||(_[35]=[s("span",{class:"i-heroicons-document-arrow-up text-base mr-1"},null,-1),G(" Load Colony ")]))]),U.value||O.value?(v(),w("div",Qh,[s("p",Gh,[_[36]||(_[36]=s("span",{class:"i-heroicons-check-circle text-green-600 dark:text-green-400 mr-1"},null,-1)),s("span",null,E(U.value?"Colony saved successfully!":"Colony loaded successfully!"),1)])])):z("",!0),s("div",Wh,[_[46]||(_[46]=s("div",{class:"text-sm font-medium mb-1"},"Export/Import Colony Data",-1)),s("div",Vh,[s("div",{class:"grid grid-cols-2 gap-2"},[s("button",{onClick:A,class:"py-1.5 px-3 bg-gray-600 hover:bg-gray-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},_[37]||(_[37]=[s("span",{class:"i-heroicons-arrow-down-tray text-base mr-1"},null,-1),G(" Export as Code ")])),s("button",{onClick:$,class:"py-1.5 px-3 bg-gray-600 hover:bg-gray-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},_[38]||(_[38]=[s("span",{class:"i-heroicons-document-arrow-down text-base mr-1"},null,-1),G(" Export as File ")]))]),d.value?(v(),w("div",zh,[_[39]||(_[39]=s("div",{class:"text-xs text-gray-600 dark:text-gray-400 mb-0.5"},"Copy this code to save your colony data: ",-1)),Be(s("textarea",{readonly:"",class:"w-full p-1.5 text-xs bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md h-16 font-mono dark:text-gray-200","onUpdate:modelValue":_[9]||(_[9]=R=>d.value=R)},null,512),[[Xo,d.value]]),b.value?(v(),w("div",Kh," Colony data exported successfully! ")):z("",!0)])):z("",!0)]),s("div",null,[_[45]||(_[45]=s("div",{class:"text-xs text-gray-600 dark:text-gray-400 mb-0.5"},"Import your colony data:",-1)),s("div",Yh,[s("div",null,[_[41]||(_[41]=s("div",{class:"text-xs text-gray-600 dark:text-gray-400 mb-0.5"},"Paste code:",-1)),Be(s("textarea",{class:"w-full p-1.5 text-xs bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md h-16 font-mono mb-1 dark:text-gray-200","onUpdate:modelValue":_[10]||(_[10]=R=>f.value=R),placeholder:"Paste your colony data here..."},null,512),[[Xo,f.value]]),s("button",{onClick:M,class:"w-full py-1.5 px-3 bg-gray-600 hover:bg-gray-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},_[40]||(_[40]=[s("span",{class:"i-heroicons-arrow-up-tray text-base mr-1"},null,-1),G(" Import from Code ")]))]),s("div",null,[_[44]||(_[44]=s("div",{class:"text-xs text-gray-600 dark:text-gray-400 mb-0.5"},"Select file:",-1)),s("div",Jh,[s("input",{type:"file",ref_key:"fileInputRef",ref:x,accept:".txt",class:"text-xs w-full dark:text-gray-200 hidden",onChange:S,id:"file-import-input"},null,544),_[42]||(_[42]=s("label",{for:"file-import-input",class:"cursor-pointer bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md py-1.5 px-3 text-xs font-medium text-center flex items-center justify-center"},[s("span",{class:"i-heroicons-document-plus text-base mr-1"}),G(" Choose Save File ")],-1))]),s("button",{onClick:_[11]||(_[11]=()=>{var R;return(R=x.value)==null?void 0:R.click()}),class:"w-full py-1.5 px-3 bg-gray-600 hover:bg-gray-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},_[43]||(_[43]=[s("span",{class:"i-heroicons-folder-open text-base mr-1"},null,-1),G(" Import from File ")]))])]),p.value?(v(),w("div",Xh,E(p.value),1)):z("",!0),g.value?(v(),w("div",Zh," Colony data imported successfully! ")):z("",!0)])]),s("div",ev,[_[49]||(_[49]=s("div",{class:"text-sm font-medium mb-1"},"Reset Colony",-1)),_[50]||(_[50]=s("p",{class:"text-xs text-gray-600 dark:text-gray-400 mb-2"}," This will completely reset your colony progress. This action cannot be undone. ",-1)),F.value?(v(),w("div",tv,[_[48]||(_[48]=s("p",{class:"text-xs text-red-600 dark:text-red-400 font-medium"},"Are you sure you want to reset your colony? ",-1)),s("div",rv,[s("button",{onClick:_[13]||(_[13]=R=>F.value=!1),class:"py-1.5 px-3 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md text-xs font-medium"}," Cancel "),s("button",{onClick:N,class:"py-1.5 px-3 bg-red-600 hover:bg-red-700 text-white rounded-md text-xs font-medium"}," Yes, Reset ")])])):(v(),w("button",{key:0,onClick:_[12]||(_[12]=R=>F.value=!0),class:"w-full py-1.5 px-3 bg-red-600 hover:bg-red-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},_[47]||(_[47]=[s("span",{class:"i-heroicons-trash text-base mr-1"},null,-1),G(" Reset Colony ")])))])])]),z("",!0),s("section",ov,[_[57]||(_[57]=s("h2",{class:"text-base font-bold mb-2 flex items-center"},[s("span",{class:"i-heroicons-information-circle text-gray-700 dark:text-gray-300 mr-2"}),G(" Game Information ")],-1)),s("div",nv,[s("div",sv,[_[55]||(_[55]=s("div",{class:"text-xs text-gray-800 dark:text-gray-400"},"Game Version:",-1)),s("div",iv,"v"+E(I(mh)),1)]),s("div",av,[_[56]||(_[56]=s("div",{class:"text-xs text-gray-800 dark:text-gray-400"},"Total Ticks:",-1)),s("div",lv,E(I(r).formattedTotalTicks),1)])])])]),ve(W,{threshold:400})],64)}}}),cv={key:0,class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm"},dv={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-2xl w-full p-5 mx-auto max-h-[80vh] overflow-y-auto border border-purple-200 dark:border-purple-700"},mv={class:"flex justify-between items-center mb-3 pb-2 border-b border-purple-200 dark:border-purple-700"},fv={class:"mt-4 flex justify-end"},pv=we({__name:"AboutEvolutionDialog",props:{show:{type:Boolean}},emits:["close"],setup(t,{emit:e}){const r=e;return(o,n)=>o.show?(v(),w("div",cv,[s("div",dv,[s("div",mv,[n[3]||(n[3]=s("h3",{class:"text-base font-bold flex items-center text-purple-800 dark:text-purple-300"},[s("span",{class:"i-heroicons-information-circle text-purple-600 dark:text-purple-400 mr-2"}),G(" About Metamorphosis ")],-1)),s("button",{onClick:n[0]||(n[0]=a=>r("close")),class:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700"},n[2]||(n[2]=[s("span",{class:"i-heroicons-x-mark text-lg"},null,-1)]))]),n[4]||(n[4]=yo('<div class="space-y-4"><div class="bg-purple-50 dark:bg-purple-900/30 p-4 rounded-lg border border-purple-200 dark:border-purple-700"><h4 class="text-sm font-semibold text-purple-800 dark:text-purple-300 mb-2">Metamorphosis Basics</h4><p class="text-sm text-purple-800 dark:text-purple-300 mb-2"> Metamorphosis allows your ant colony to grow stronger with each generation. When you metamorphose: </p><ul class="text-sm text-purple-800 dark:text-purple-300 list-disc pl-5 space-y-1"><li>You gain Evolution Points (EP) based on the number of foraging cycles completed</li><li>Each cycle provides more EP than the previous one (10% increase per cycle)</li><li>EP can be spent on permanent genetic adaptations to enhance your colony</li><li>Your progress and resources reset, but your adaptations remain</li><li>Each metamorphosis increases the cycle requirement, following a scaling pattern: <ul class="list-disc pl-5 mt-1"><li>Evolutions 1-100: +0.95 cycles per evolution</li><li>Evolutions 101-150: +1.35 cycles per evolution</li><li>Evolutions 151-200: +1.95 cycles per evolution</li><li>And so on with increasing requirements</li></ul></li><li>Higher metamorphosis counts provide a bonus to EP gain (10% per 10 evolutions)</li></ul></div><div class="bg-blue-50 dark:bg-blue-900/30 p-4 rounded-lg border border-blue-200 dark:border-blue-700"><h4 class="text-sm font-semibold text-blue-800 dark:text-blue-300 mb-2">How Foraging Cycles Work</h4><ul class="text-sm text-blue-800 dark:text-blue-300 list-disc pl-5 space-y-1"><li>Foraging cycles can be completed in two ways:</li><li class="ml-5">1. Activity-based: Accumulate enough foraging trips to complete the cycle</li><li class="ml-5">2. Food-based: Gather enough food to instantly complete a cycle</li><li>The base requirement is 3 foraging trips per cycle or 1,000 food</li><li>As you complete cycles, requirements increase: <ul class="list-disc pl-5 mt-1"><li>Trips required: 3 + (completed cycles × 0.5) × (1.05^(completed cycles ÷ 5))</li><li>Food required: 1,000 × (1.5^(completed cycles^0.8))</li></ul></li><li>Metamorphosis resets both requirements back to their base values</li></ul></div><div class="bg-green-50 dark:bg-green-900/30 p-4 rounded-lg border border-green-200 dark:border-green-700"><h4 class="text-sm font-semibold text-green-800 dark:text-green-300 mb-2">Evolution Points Calculation</h4><ul class="text-sm text-green-800 dark:text-green-300 list-disc pl-5 space-y-1"><li>Base EP gain follows a progression where each cycle is worth more than the last</li><li>The formula is: n + n(n-1) × 0.05, where n is the number of completed cycles</li><li>This means: <ul class="list-disc pl-5 mt-1"><li>First cycle: 1 EP</li><li>Second cycle: 1.05 EP</li><li>Third cycle: 1.1 EP</li><li>And so on with increasing returns</li></ul></li><li>Evolution count provides a multiplier: 1 + (evolution count ÷ 10)</li><li>Several adaptations can boost EP gain: <ul class="list-disc pl-5 mt-1"><li>&quot;Evolution Mastery&quot; increases EP by 10% per level</li><li>&quot;Evolution Synergy&quot; provides a bonus based on evolution count</li><li>Special items can provide additional EP boosts</li></ul></li></ul></div><div class="bg-amber-50 dark:bg-amber-900/30 p-4 rounded-lg border border-amber-200 dark:border-amber-700"><h4 class="text-sm font-semibold text-amber-800 dark:text-amber-300 mb-2">Key Adaptations for Progression</h4><ul class="text-sm text-amber-800 dark:text-amber-300 list-disc pl-5 space-y-1"><li>&quot;Cycle Food Reduction&quot; - Reduces food required for cycles by 5% per level (max 75%)</li><li>&quot;Prestige Acceleration&quot; - Start with more completed cycles after metamorphosis</li><li>&quot;Starting Resources&quot; - Begin with 10× more food per level after metamorphosis</li><li>&quot;Evolution Mastery&quot; - Increases EP gained by 10% per level</li><li>&quot;Generator Synergy&quot; - Each generator type boosts all others (2% per level per type)</li><li>&quot;Evolution Synergy&quot; - Each evolution boosts production (1% per level per evolution)</li></ul></div></div>',1)),s("div",fv,[s("button",{onClick:n[1]||(n[1]=a=>r("close")),class:"py-2 px-4 bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-800 text-white rounded-lg text-sm font-medium transition-colors"}," Close ")])])])):z("",!0)}}),gv={key:0,class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm"},hv={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-5 mx-auto border border-purple-200 dark:border-purple-700"},vv={class:"text-sm text-gray-700 dark:text-gray-300 mb-4 leading-relaxed"},bv={class:"font-bold text-purple-600 dark:text-purple-400"},xv={key:0,class:"mb-4 p-2 bg-purple-50 dark:bg-purple-900/30 rounded-lg border border-purple-200 dark:border-purple-700"},yv={class:"text-xs text-purple-800 dark:text-purple-300 flex items-center"},kv={key:1,class:"mb-4 p-2 bg-purple-50 dark:bg-purple-900/30 rounded-lg border border-purple-200 dark:border-purple-700"},wv={class:"text-xs text-purple-800 dark:text-purple-300 flex items-center"},_v={class:"flex space-x-3"},Sv=we({__name:"EvolutionConfirmationDialog",props:{show:{type:Boolean}},emits:["confirm","cancel"],setup(t,{emit:e}){const r=e,o=De(),n=Ht(),a=B(()=>{const u=n.getQueenChamberEPBoost();return u.gt(1)?re(u.sub(1).mul(100),2)+"%":null}),l=B(()=>{const u=n.getEPBoostMultiplier();return u.gt(1)?re(u.sub(1).mul(100),2)+"%":null});return(u,c)=>u.show?(v(),w("div",gv,[s("div",hv,[c[10]||(c[10]=s("h3",{class:"text-base font-bold mb-3 flex items-center text-purple-800 dark:text-purple-300 pb-2 border-b border-purple-200 dark:border-purple-700"},[s("span",{class:"i-heroicons-sparkles text-purple-600 dark:text-purple-400 mr-2"}),G(" Confirm Metamorphosis ")],-1)),s("p",vv,[c[2]||(c[2]=G(" You are about to metamorphose your colony. You will gain ")),s("span",bv,E(I(o).formatPotentialEPGain())+" Evolution Points",1),c[3]||(c[3]=G(". ")),c[4]||(c[4]=s("br",null,null,-1)),c[5]||(c[5]=G("Your progress will reset, but your evolutionary adaptations will remain. "))]),a.value?(v(),w("div",xv,[s("div",yv,[c[6]||(c[6]=s("span",{class:"i-heroicons-crown text-purple-600 dark:text-purple-400 mr-1"},null,-1)),s("span",null,"Queen Chamber Bonus: +"+E(a.value),1)]),c[7]||(c[7]=s("p",{class:"text-2xs text-purple-700 dark:text-purple-400 mt-1"}," Your queen chambers are enhancing your evolution potential, providing a bonus to EP gain. This bonus comes from the Royal Evolution upgrade. ",-1))])):z("",!0),l.value?(v(),w("div",kv,[s("div",wv,[c[8]||(c[8]=s("span",{class:"i-heroicons-sparkles text-purple-600 dark:text-purple-400 mr-1"},null,-1)),s("span",null,"Item Bonus: +"+E(l.value),1)]),c[9]||(c[9]=s("p",{class:"text-2xs text-purple-700 dark:text-purple-400 mt-1"}," Your equipped items are enhancing your evolution potential, providing a bonus to EP gain. ",-1))])):z("",!0),s("div",_v,[s("button",{onClick:c[0]||(c[0]=m=>r("cancel")),class:"flex-1 py-2 px-4 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 text-sm font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"}," Cancel "),s("button",{onClick:c[1]||(c[1]=m=>r("confirm")),class:"flex-1 py-2 px-4 bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-800 rounded-lg text-white text-sm font-medium transition-colors"}," Metamorphose ")])])])):z("",!0)}}),$v={class:"p-2.5"},Ev={class:"flex justify-between items-center mb-1.5"},Cv={class:"flex items-center"},Mv={key:0},Av={class:"flex justify-between items-center"},Iv={key:0},Pv={key:0},Tv={key:0,class:"text-xs text-red-500 dark:text-red-400 mt-1"},Lv=we({__name:"EvolutionUpgradeItem",props:{upgrade:{}},setup(t){const e=t,r=De(),o=B(()=>re(e.upgrade.cost,2)),n=B(()=>re(e.upgrade.level,0)),a=B(()=>e.upgrade.maxLevel?re(e.upgrade.maxLevel,0):"∞"),l=B(()=>{const A=e.upgrade.effect(e.upgrade.level);return e.upgrade.formatEffect(A)}),u=B(()=>r.evolutionPoints.gte(e.upgrade.cost)),c=B(()=>e.upgrade.maxLevel?e.upgrade.level.gte(e.upgrade.maxLevel):!1),m=B(()=>{if(!e.upgrade.isUnlocked())return!0;if(e.upgrade.id==="unlockHivemind"){const M=Oe().getGenerator("megacolony");return!M||M.count.eq(0)}else if(e.upgrade.id==="unlockAntopolis"){const M=Oe().getGenerator("hivemind");return!M||M.count.eq(0)}return!1}),d=B(()=>e.upgrade.isUnlocked()?e.upgrade.id==="unlockHivemind"?"Requires at least one Mega Colony":e.upgrade.id==="unlockAntopolis"?"Requires at least one Hive Mind":"":"Upgrade not yet unlocked"),f=()=>{u.value&&!c.value&&!m.value&&r.purchaseUpgrade(e.upgrade.id)},p=()=>{switch(e.upgrade.category){case"production":return"border-purple-200 dark:border-purple-800";case"efficiency":return"border-blue-200 dark:border-blue-800";case"automation":return"border-red-200 dark:border-red-800";case"research":return"border-amber-200 dark:border-amber-800";case"synergy":return"border-green-200 dark:border-green-800";case"prestige":return"border-indigo-200 dark:border-indigo-800";default:return"border-gray-200 dark:border-gray-700"}},g=()=>{switch(e.upgrade.category){case"production":return"text-purple-600 dark:text-purple-400";case"efficiency":return"text-blue-600 dark:text-blue-400";case"automation":return"text-red-600 dark:text-red-400";case"research":return"text-amber-600 dark:text-amber-400";case"synergy":return"text-green-600 dark:text-green-400";case"prestige":return"text-indigo-600 dark:text-indigo-400";default:return"text-gray-600 dark:text-gray-400"}},b=()=>{switch(e.upgrade.category){case"production":return"text-purple-900 dark:text-purple-200";case"efficiency":return"text-blue-900 dark:text-blue-200";case"automation":return"text-red-900 dark:text-red-200";case"research":return"text-amber-900 dark:text-amber-200";case"synergy":return"text-green-900 dark:text-green-200";case"prestige":return"text-indigo-900 dark:text-indigo-200";default:return"text-gray-900 dark:text-gray-200"}},x=()=>{switch(e.upgrade.category){case"production":return"text-purple-700 dark:text-purple-300";case"efficiency":return"text-blue-700 dark:text-blue-300";case"automation":return"text-red-700 dark:text-red-300";case"research":return"text-amber-700 dark:text-amber-300";case"synergy":return"text-green-700 dark:text-green-300";case"prestige":return"text-indigo-700 dark:text-indigo-300";default:return"text-gray-700 dark:text-gray-300"}},U=()=>{switch(e.upgrade.category){case"production":return"text-purple-600 dark:text-purple-400";case"efficiency":return"text-blue-600 dark:text-blue-400";case"automation":return"text-red-600 dark:text-red-400";case"research":return"text-amber-600 dark:text-amber-400";case"synergy":return"text-green-600 dark:text-green-400";case"prestige":return"text-indigo-600 dark:text-indigo-400";default:return"text-gray-600 dark:text-gray-400"}},O=()=>{switch(e.upgrade.category){case"production":return"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200";case"efficiency":return"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200";case"automation":return"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200";case"research":return"bg-amber-100 dark:bg-amber-900 text-amber-800 dark:text-amber-200";case"synergy":return"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200";case"prestige":return"bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200";default:return"bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200"}},F=()=>{switch(e.upgrade.category){case"production":return"bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-800 text-white";case"efficiency":return"bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 text-white";case"automation":return"bg-red-600 hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-800 text-white";case"research":return"bg-amber-600 hover:bg-amber-700 dark:bg-amber-700 dark:hover:bg-amber-800 text-white";case"synergy":return"bg-green-600 hover:bg-green-700 dark:bg-green-700 dark:hover:bg-green-800 text-white";case"prestige":return"bg-indigo-600 hover:bg-indigo-700 dark:bg-indigo-700 dark:hover:bg-indigo-800 text-white";default:return"bg-gray-600 hover:bg-gray-700 dark:bg-gray-700 dark:hover:bg-gray-800 text-white"}},L=B(()=>u.value&&!c.value&&!m.value?F():"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed");return(A,M)=>(v(),w("div",{class:ne(["bg-white/90 dark:bg-gray-800/90 rounded-lg shadow-sm overflow-hidden border transition-all duration-200 hover:shadow-md",[p(),{"opacity-75":!u.value||c.value||m.value}]])},[s("div",$v,[s("div",Ev,[s("div",Cv,[s("span",{class:ne([A.upgrade.icon,"text-lg mr-1.5",g()])},null,2),s("h3",{class:ne(["font-medium text-sm",b()])},E(A.upgrade.name),3)]),s("div",{class:ne(["text-xs font-medium px-1.5 py-0.5 rounded",O()])},[G(" Lv. "+E(n.value),1),A.upgrade.maxLevel?(v(),w("span",Mv,"/"+E(a.value),1)):z("",!0)],2)]),s("p",{class:ne(["text-xs mb-2",x()])},E(A.upgrade.description),3),s("div",Av,[s("div",{class:ne(["text-xs",U()])},[e.upgrade.level.gt(0)?(v(),w("span",Iv,"Effect: "+E(l.value),1)):z("",!0)],2),ve(xn,{onAction:f,disabled:!u.value||c.value||m.value,class:ne(["py-1 px-2 rounded text-xs font-medium transition-colors",L.value])},{default:Ve(()=>[c.value?(v(),w("span",Pv,"Max")):(v(),w(ye,{key:1},[G(E(o.value)+" EP ",1)],64))]),_:1},8,["disabled","class"])]),m.value?(v(),w("div",Tv,E(d.value),1)):z("",!0)])],2))}}),qv=["production","efficiency","automation","research","synergy","prestige","reproduction","cost"],Os=()=>[...qv],Fv=()=>["all",...Os()],cu=[{id:"default",label:"Default",compareFn:()=>0},{id:"cost-asc",label:"Cost (Low to High)",compareFn:(t,e)=>!t.cost||!e.cost?0:t.cost.cmp(e.cost)},{id:"cost-desc",label:"Cost (High to Low)",compareFn:(t,e)=>!t.cost||!e.cost?0:e.cost.cmp(t.cost)},{id:"level-asc",label:"Level (Low to High)",compareFn:(t,e)=>!t.level||!e.level?0:t.level.cmp(e.level)},{id:"level-desc",label:"Level (High to Low)",compareFn:(t,e)=>!t.level||!e.level?0:e.level.cmp(t.level)},{id:"name-asc",label:"Name (A to Z)",compareFn:(t,e)=>t.name.localeCompare(e.name)},{id:"name-desc",label:"Name (Z to A)",compareFn:(t,e)=>e.name.localeCompare(t.name)}],du=()=>{const t=De(),e=H(!1),r=H(!0),o=H(!0),n=H(""),a=cu,l=H(a[0].id),u=B(()=>{const p=t.evolutionUpgrades;if(!n.value.trim())return p;const g=n.value.toLowerCase();return p.filter(b=>b.name.toLowerCase().includes(g)||b.description.toLowerCase().includes(g))}),c=B(()=>{const p=a.find(g=>g.id===l.value);return p?p.compareFn:(console.warn(`Sort option "${l.value}" not found, using default.`),a[0].compareFn)});return{showMaxed:e,showAffordable:r,showUnlocked:o,searchQuery:n,sortOptions:a,selectedSort:l,textFilteredUpgrades:u,getCurrentSortFunction:c,resetFilters:()=>{e.value=!1,r.value=!0,o.value=!0,n.value="",l.value=a[0].id},syncWithStore:()=>{e.value=t.showMaxed,r.value=t.showAffordable,o.value=t.showUnlocked},saveToStore:()=>{t.showMaxed=e.value,t.showAffordable=r.value,t.showUnlocked=o.value}}},Nv={class:"space-y-4"},Rv={key:0,class:"text-center py-8"},Uv={key:1,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3"},Bv=we({__name:"UpgradeGrid",props:{category:{},showMaxed:{type:Boolean},showAffordable:{type:Boolean},showUnlocked:{type:Boolean},searchQuery:{},selectedSort:{}},emits:["resetFilters"],setup(t,{expose:e,emit:r}){const o=t,n=r,a=cu,l=De(),u=B(()=>l.evolutionUpgrades),c=B(()=>{const p=Object.fromEntries(Os().map(g=>[g,[]]));return u.value.forEach(g=>{p[g.category]&&p[g.category].push(g)}),p}),m=p=>{const g=a.find(b=>b.id===p);return g?g.compareFn:(console.warn(`Sort option "${p}" not found, using default.`),a[0].compareFn)},d=B(()=>{let p=[];if(o.category==="all"?Object.values(c.value).forEach(b=>{p=[...p,...b]}):o.category in c.value&&(p=c.value[o.category]||[]),o.searchQuery.trim()){const b=o.searchQuery.toLowerCase();p=p.filter(x=>x.name.toLowerCase().includes(b)||x.description.toLowerCase().includes(b))}const g=p.filter(b=>{const x=o.showMaxed?!(b.maxLevel&&b.level.gte(b.maxLevel)):!0,U=!o.showAffordable||l.evolutionPoints.gte(b.cost),O=!o.showUnlocked||b.isUnlocked();return x&&U&&O});if(o.selectedSort&&o.selectedSort!=="default"){const b=m(o.selectedSort);return[...g].sort(b)}return g}),f=B(()=>{var p;if(o.category==="all"){let g=0;return Object.values(c.value).forEach(b=>{g+=b.length}),g}return((p=c.value[o.category])==null?void 0:p.length)||0});return e({count:f}),(p,g)=>(v(),w("div",Nv,[d.value.length===0?(v(),w("div",Rv,[g[1]||(g[1]=s("div",{class:"text-gray-400 dark:text-gray-500 i-heroicons-face-frown text-4xl mx-auto mb-2"},null,-1)),g[2]||(g[2]=s("p",{class:"text-gray-600 dark:text-gray-400"},"No upgrades match your filters",-1)),s("button",{onClick:g[0]||(g[0]=b=>n("resetFilters")),class:"mt-2 text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-300 text-sm"}," Reset filters ")])):(v(),w("div",Uv,[(v(!0),w(ye,null,Ie(d.value,b=>(v(),Qe(Lv,{key:b.id,upgrade:b},null,8,["upgrade"]))),128))]))]))}}),Ov={class:"mb-4 flex flex-col sm:flex-row gap-3 w-full"},Dv={class:"relative flex-1"},Hv={class:"relative"},jv=["value"],Qv=["value"],Gv=we({__name:"UpgradeSearchBar",props:{searchQuery:{},sortOptions:{},selectedSort:{}},emits:["update:searchQuery","update:selectedSort","search"],setup(t,{emit:e}){const r=t,o=e,n=H(r.searchQuery),a=H(r.selectedSort);let l=null;const u=()=>{l&&clearTimeout(l),l=setTimeout(()=>{o("update:searchQuery",n.value),o("search")},300)},c=m=>{const f=m.target.value;f&&(a.value=f,o("update:selectedSort",f))};return Ee(()=>r.searchQuery,m=>{n.value=m}),Ee(()=>r.selectedSort,m=>{a.value=m}),(m,d)=>(v(),w("div",Ov,[s("div",Dv,[d[3]||(d[3]=s("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[s("span",{class:"i-heroicons-magnifying-glass text-gray-400"})],-1)),Be(s("input",{"onUpdate:modelValue":d[0]||(d[0]=f=>n.value=f),type:"text",placeholder:"Search upgrades...",onInput:u,class:"w-full pl-10 pr-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-gray-900 dark:text-gray-100"},null,544),[[Xo,n.value]]),n.value?(v(),w("button",{key:0,onClick:d[1]||(d[1]=f=>{n.value="",o("update:searchQuery",""),o("search")}),class:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"},d[2]||(d[2]=[s("span",{class:"i-heroicons-x-mark"},null,-1)]))):z("",!0)]),s("div",Hv,[s("select",{value:a.value,onChange:c,class:"appearance-none w-full sm:w-52 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg pl-3 pr-10 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 text-gray-900 dark:text-gray-100"},[(v(!0),w(ye,null,Ie(m.sortOptions,f=>(v(),w("option",{key:f.id,value:f.id},E(f.label),9,Qv))),128))],40,jv),d[4]||(d[4]=s("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500 dark:text-gray-400"},[s("span",{class:"i-heroicons-chevron-down"})],-1))])]))}}),Wv={class:"space-y-4"},Vv={class:"flex flex-col sm:flex-row flex-wrap items-start sm:items-center justify-start sm:justify-end gap-3 sm:gap-4"},zv={class:"flex items-center space-x-2"},Kv={class:"flex items-center space-x-2"},Yv={class:"flex items-center space-x-2"},Jv=we({__name:"UpgradeFilters",props:{showMaxed:{type:Boolean},showAffordable:{type:Boolean},showUnlocked:{type:Boolean},searchQuery:{},selectedSort:{}},emits:["update:showMaxed","update:showAffordable","update:showUnlocked","update:searchQuery","update:selectedSort","resetFilters","search"],setup(t,{emit:e}){const r=t,o=e,{showMaxed:n,showAffordable:a,showUnlocked:l,searchQuery:u,sortOptions:c,selectedSort:m,resetFilters:d}=du();He(()=>{n.value=r.showMaxed,a.value=r.showAffordable,l.value=r.showUnlocked,u.value=r.searchQuery,m.value=r.selectedSort});const f=g=>{m.value=g,o("update:selectedSort",g)};Ee(()=>r.showMaxed,g=>{n.value=g}),Ee(()=>r.showAffordable,g=>{a.value=g}),Ee(()=>r.showUnlocked,g=>{l.value=g}),Ee(()=>r.searchQuery,g=>{u.value=g}),Ee(()=>r.selectedSort,g=>{m.value!==g&&(m.value=g)}),Ee(n,g=>{g!==r.showMaxed&&o("update:showMaxed",g)}),Ee(a,g=>{g!==r.showAffordable&&o("update:showAffordable",g)}),Ee(l,g=>{g!==r.showUnlocked&&o("update:showUnlocked",g)}),Ee(u,g=>{g!==r.searchQuery&&o("update:searchQuery",g)}),Ee(m,g=>{g!==r.selectedSort&&o("update:selectedSort",g)});const p=()=>{d(),o("resetFilters")};return(g,b)=>(v(),w("div",Wv,[ve(Gv,{searchQuery:I(u),sortOptions:I(c),selectedSort:I(m),"onUpdate:searchQuery":b[0]||(b[0]=x=>o("update:searchQuery",x)),"onUpdate:selectedSort":f,onSearch:b[1]||(b[1]=x=>o("search"))},null,8,["searchQuery","sortOptions","selectedSort"]),s("div",Vv,[s("div",zv,[Be(s("input",{"onUpdate:modelValue":b[2]||(b[2]=x=>Pe(l)?l.value=x:null),type:"checkbox",id:"show-unlocked",class:"form-checkbox h-4 w-4 sm:h-5 sm:w-5 text-purple-600 rounded border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 focus:ring-purple-500 dark:focus:ring-purple-400"},null,512),[[dt,I(l)]]),b[5]||(b[5]=s("label",{for:"show-unlocked",class:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 font-medium"},"Show Unlocked",-1))]),s("div",Kv,[Be(s("input",{"onUpdate:modelValue":b[3]||(b[3]=x=>Pe(n)?n.value=x:null),type:"checkbox",id:"show-maxed",class:"form-checkbox h-4 w-4 sm:h-5 sm:w-5 text-purple-600 rounded border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 focus:ring-purple-500 dark:focus:ring-purple-400"},null,512),[[dt,I(n)]]),b[6]||(b[6]=s("label",{for:"show-maxed",class:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 font-medium"},"Hide Maxed",-1))]),s("div",Yv,[Be(s("input",{"onUpdate:modelValue":b[4]||(b[4]=x=>Pe(a)?a.value=x:null),type:"checkbox",id:"show-affordable",class:"form-checkbox h-4 w-4 sm:h-5 sm:w-5 text-purple-600 rounded border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 focus:ring-purple-500 dark:focus:ring-purple-400"},null,512),[[dt,I(a)]]),b[7]||(b[7]=s("label",{for:"show-affordable",class:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 font-medium"},"Show Affordable",-1))]),I(n)||!I(a)||!I(l)||I(u)?(v(),w("button",{key:0,onClick:p,class:"text-xs sm:text-sm text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-300 font-medium mt-2 sm:mt-0"}," Reset filters ")):z("",!0)])]))}}),Xv={class:"sticky top-0 z-20 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-b border-gray-200 dark:border-gray-700",role:"tablist","aria-label":"Upgrade Categories"},Zv={class:"flex overflow-x-auto scrollbar-hide"},eb=["onClick","onKeydown","id","aria-selected","aria-controls","tabindex"],tb=we({__name:"UpgradeTabsNavigation",props:{activeTab:{},categories:{}},emits:["update:activeTab"],setup(t,{emit:e}){const r=t,o=e,n=c=>{switch(c){case"production":return"i-heroicons-bolt";case"efficiency":return"i-heroicons-cog-6-tooth";case"automation":return"i-heroicons-cog-8-tooth";case"research":return"i-heroicons-beaker";case"synergy":return"i-heroicons-puzzle-piece";case"prestige":return"i-heroicons-star";case"all":return"i-heroicons-squares-2x2";default:return"i-heroicons-face-frown"}},a=c=>{switch(c){case"production":return"Production";case"efficiency":return"Efficiency";case"automation":return"Automation";case"research":return"Research";case"synergy":return"Synergy";case"prestige":return"Prestige";case"all":return"All";default:return c.charAt(0).toUpperCase()+c.slice(1)}},l=(c,m)=>{if(c.key==="ArrowRight"){const d=(m+1)%r.categories.length;o("update:activeTab",r.categories[d]),u(d),c.preventDefault()}else if(c.key==="ArrowLeft"){const d=(m-1+r.categories.length)%r.categories.length;o("update:activeTab",r.categories[d]),u(d),c.preventDefault()}else if(c.key==="Home")o("update:activeTab",r.categories[0]),u(0),c.preventDefault();else if(c.key==="End"){const d=r.categories.length-1;o("update:activeTab",r.categories[d]),u(d),c.preventDefault()}},u=c=>{const m=`tab-${r.categories[c]}`;setTimeout(()=>{const d=document.getElementById(m);d&&d.focus()},10)};return(c,m)=>(v(),w("div",Xv,[s("div",Zv,[(v(!0),w(ye,null,Ie(c.categories,(d,f)=>(v(),w("button",{key:d,onClick:p=>o("update:activeTab",d),onKeydown:p=>l(p,f),class:ne(["px-4 py-3 font-medium text-sm whitespace-nowrap transition-colors outline-none",c.activeTab===d?"border-b-2 border-purple-600 dark:border-purple-500 text-purple-700 dark:text-purple-400":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"]),id:`tab-${d}`,"aria-selected":c.activeTab===d,"aria-controls":`panel-${d}`,role:"tab",tabindex:c.activeTab===d?0:-1},[s("span",{class:ne([n(d),"mr-1.5"])},null,2),G(" "+E(a(d))+" ",1),xo(c.$slots,"badge",{category:d},void 0,!0)],42,eb))),128))])]))}}),rb=et(tb,[["__scopeId","data-v-63de947e"]]),ob={class:"bg-gradient-to-br from-purple-200 to-purple-100 dark:from-purple-900/40 dark:to-purple-800/40 rounded-xl p-2 sm:p-4 shadow-md border border-purple-300/50 dark:border-purple-700/50 dark:text-purple-100"},nb={class:"flex flex-col space-y-2 sm:space-y-3"},sb={class:"flex items-center justify-between"},ib={class:"text-sm sm:text-base font-bold flex items-center text-purple-800 dark:text-purple-200"},ab={key:0},lb={key:1},ub={class:"flex items-center space-x-1 sm:space-x-2"},cb={class:"grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3"},db={class:"sm:col-span-2 grid grid-cols-2 gap-2 sm:gap-3"},mb={class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},fb={class:"flex justify-between items-center"},pb={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},gb={key:0},hb={key:1},vb={class:"text-xs sm:text-sm font-bold flex items-center"},bb={class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},xb={class:"flex justify-between items-center"},yb={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},kb={key:0},wb={key:1},_b={class:"text-xs sm:text-sm font-bold flex items-center"},Sb={class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},$b={class:"flex justify-between items-center"},Eb={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},Cb={key:0},Mb={key:1},Ab={class:"text-xs sm:text-sm font-bold flex items-center text-purple-700 dark:text-purple-400"},Ib={class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},Pb={class:"flex justify-between items-center"},Tb={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},Lb={key:0},qb={key:1},Fb={class:"text-xs sm:text-sm font-bold flex items-center text-purple-700 dark:text-purple-400"},Nb={class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},Rb={class:"flex justify-between items-center mb-0.5 sm:mb-1"},Ub={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},Bb={key:0},Ob={key:1},Db={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300"},Hb={class:"ml-1 text-purple-500 dark:text-purple-400"},jb={class:"h-1.5 sm:h-2 bg-purple-100 dark:bg-purple-900/50 rounded-full overflow-hidden"},Qb={class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},Gb={class:"flex justify-between items-center mb-0.5 sm:mb-1"},Wb={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},Vb={key:0},zb={key:1},Kb={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300"},Yb={class:"ml-1 text-purple-500 dark:text-purple-400"},Jb={class:"h-1.5 sm:h-2 bg-purple-100 dark:bg-purple-900/50 rounded-full overflow-hidden"},Xb={class:"flex sm:flex-col space-x-2 sm:space-x-0 sm:space-y-2"},Zb={key:0,class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700 flex-grow"},ex={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},tx={key:0},rx={key:1},ox={class:"text-xs sm:text-sm font-bold flex items-center text-purple-700 dark:text-purple-400"},nx={class:"mt-1 space-y-0.5"},sx={class:"group relative cursor-help"},ix={class:"absolute bottom-full left-0 mb-1 hidden group-hover:block w-48 p-1.5 bg-gray-800 text-white text-2xs rounded shadow-lg z-10"},ax={key:0},lx=["disabled"],ux={key:0,class:"text-2xs sm:text-sm"},cx={key:0},dx={key:1},mx={key:1,class:"text-2xs sm:text-xs"},fx={key:0,class:"bg-blue-50 dark:bg-blue-900/30 p-2 sm:p-3 rounded-lg text-2xs sm:text-xs text-blue-800 dark:text-blue-300 border border-blue-200 dark:border-blue-800"},px={class:"grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3"},gx={class:"list-disc pl-4 mt-1 space-y-0.5"},hx=we({__name:"EvolutionStatusSection",props:{showAboutEvolution:{type:Boolean}},emits:["toggleAboutEvolution","confirmEvolution"],setup(t,{emit:e}){const r=e,o=De(),n=Oe();Ht();const a=at(),{width:l}=ru(),u=B(()=>l.value<640),c=B(()=>o.canEvolve),m=B(()=>Math.round(o.currentLoopTicks.div(o.ticksPerLoop).mul(100).toNumber())),d=B(()=>{if(o.previousFoodRequirement.gt(0)){const F=n.food,L=o.previousFoodRequirement,M=o.foodForNextLoop.sub(L),S=F.sub(L);return Math.min(100,Math.max(0,Math.round(S.div(M).mul(100).toNumber())))}else return Math.min(100,Math.round(n.food.div(o.foodForNextLoop).mul(100).toNumber()))}),f=B(()=>re(o.requiredLoops,1)),p=B(()=>re(o.currentLoopTicks,0)),g=B(()=>re(o.ticksPerLoop,1)),b=B(()=>re(n.food,0)),x=B(()=>re(o.foodForNextLoop,0)),U=B(()=>o.getEPModifiers()),O=F=>re(F.sub(1).mul(100),2)+"%";return(F,L)=>(v(),w("section",ob,[s("div",nb,[s("div",sb,[s("h2",ib,[L[2]||(L[2]=s("span",{class:"i-heroicons-sparkles text-purple-700 dark:text-purple-400 mr-1 sm:mr-2"},null,-1)),u.value?(v(),w("span",ab,"Meta Status")):(v(),w("span",lb,"Metamorphosis Status"))]),s("div",ub,[s("button",{onClick:L[0]||(L[0]=A=>r("toggleAboutEvolution")),class:"w-5 h-5 sm:w-6 sm:h-6 rounded-full bg-purple-300 dark:bg-purple-700 hover:bg-purple-400 dark:hover:bg-purple-600 flex items-center justify-center text-purple-800 dark:text-purple-200 transition-colors"},L[3]||(L[3]=[s("span",{class:"i-heroicons-question-mark-circle text-sm sm:text-base"},null,-1)]))])]),s("div",cb,[s("div",db,[s("div",mb,[s("div",fb,[s("div",pb,[u.value?(v(),w("span",gb,"Evo Points")):(v(),w("span",hb,"Evolution Points"))]),s("div",vb,[L[4]||(L[4]=s("span",{class:"i-heroicons-sparkles text-purple-600 dark:text-purple-400 mr-0.5 sm:mr-1 text-2xs sm:text-xs"},null,-1)),G(" "+E(I(o).formatEP()),1)])])]),s("div",bb,[s("div",xb,[s("div",yb,[u.value?(v(),w("span",kb,"Meta")):(v(),w("span",wb,"Metamorphosis"))]),s("div",_b,[L[5]||(L[5]=s("span",{class:"i-heroicons-arrow-path text-purple-600 dark:text-purple-400 mr-0.5 sm:mr-1 text-2xs sm:text-xs"},null,-1)),G(" "+E(I(o).formatEvolutionCount()),1)])])]),s("div",Sb,[s("div",$b,[s("div",Eb,[u.value?(v(),w("span",Cb,"Cycles")):(v(),w("span",Mb,"Foraging Cycles"))]),s("div",Ab,[L[6]||(L[6]=s("span",{class:"i-heroicons-arrow-path text-purple-600 dark:text-purple-400 mr-0.5 sm:mr-1 text-2xs sm:text-xs"},null,-1)),G(" "+E(I(o).formatLoopsCompleted()),1)])])]),s("div",Ib,[s("div",Pb,[s("div",Tb,[u.value?(v(),w("span",Lb,"Evo Req")):(v(),w("span",qb,"Evolution Requirement"))]),s("div",Fb,[L[7]||(L[7]=s("span",{class:"i-heroicons-sparkles text-purple-600 dark:text-purple-400 mr-0.5 sm:mr-1 text-2xs sm:text-xs"},null,-1)),G(" "+E(f.value)+" Cycles ",1)])])]),s("div",Nb,[s("div",Rb,[s("div",Ub,[u.value?(v(),w("span",Bb,"Trip Prog to Next Cycle")):(v(),w("span",Ob,"Trip Progress towards Next Cycle"))]),s("div",Db,[s("span",null,E(m.value)+"%",1),s("span",Hb," ("+E(p.value)+"/"+E(g.value)+") ",1)])]),s("div",jb,[s("div",{class:"h-full bg-purple-600 dark:bg-purple-500 transition-all duration-300 ease-out",style:Xe({width:`${m.value}%`})},null,4)])]),s("div",Qb,[s("div",Gb,[s("div",Wb,[u.value?(v(),w("span",Vb,"Food Prog to Next Cycle")):(v(),w("span",zb,"Food Progress towards Next Cycle"))]),s("div",Kb,[s("span",null,E(d.value)+"%",1),s("span",Yb," ("+E(b.value)+"/"+E(x.value)+") ",1)])]),s("div",Jb,[s("div",{class:"h-full bg-purple-600 dark:bg-purple-500 transition-all duration-300 ease-out",style:Xe({width:`${d.value}%`})},null,4)])])]),s("div",Xb,[c.value?(v(),w("div",Zb,[s("div",ex,[u.value?(v(),w("span",tx,"Potential")):(v(),w("span",rx,"Potential Gain"))]),s("div",ox,[L[8]||(L[8]=s("span",{class:"i-heroicons-sparkles text-purple-600 dark:text-purple-400 mr-0.5 sm:mr-1 text-2xs sm:text-xs"},null,-1)),G(" +"+E(I(o).formatPotentialEPGain())+" EP ",1)]),s("div",nx,[(v(!0),w(ye,null,Ie(U.value,(A,M)=>{var S;return v(),w("div",{key:M,class:"text-2xs text-purple-600 dark:text-purple-400 flex items-center"},[L[9]||(L[9]=s("span",{class:"i-heroicons-sparkles text-2xs mr-0.5"},null,-1)),s("span",sx,[G(E(A.description)+": +"+E(O(A.value))+" ",1),s("div",ix,[s("p",null,E(A.tooltip),1),M==="queenChamberEPBoost"?(v(),w("p",ax,E((S=I(a).getUpgrade("queenChamberEvolution"))==null?void 0:S.description),1)):z("",!0)])])])}),128))])])):z("",!0),s("button",{onClick:L[1]||(L[1]=A=>r("confirmEvolution")),class:ne(["py-1.5 sm:py-2 px-2 sm:px-3 rounded-lg text-white font-bold transition-colors duration-200 flex items-center justify-center flex-grow",c.value?"bg-gradient-to-r from-purple-700 to-purple-600 hover:from-purple-800 hover:to-purple-700 dark:from-purple-800 dark:to-purple-700 dark:hover:from-purple-900 dark:hover:to-purple-800 shadow-lg":"bg-gray-300 dark:bg-gray-700 cursor-not-allowed"]),disabled:!c.value},[L[10]||(L[10]=s("span",{class:"i-heroicons-sparkles text-sm sm:text-base mr-1 sm:mr-1.5"},null,-1)),c.value?(v(),w("span",ux,[u.value?(v(),w("span",cx,"Transform")):(v(),w("span",dx,"Metamorphose"))])):(v(),w("span",mx," Need "+E(f.value)+" Cycles ",1))],10,lx)])]),I(o).hasEvolved?z("",!0):(v(),w("div",fx,[s("div",px,[s("div",null,[L[15]||(L[15]=s("p",{class:"font-medium mb-1"},"Foraging Cycles",-1)),s("p",null,[L[11]||(L[11]=G("You need ")),s("strong",null,E(f.value)+" cycles",1),L[12]||(L[12]=G(" to evolve. Each cycle requires either:"))]),s("ul",gx,[s("li",null,[s("strong",null,E(g.value),1),L[13]||(L[13]=G(" foraging trips"))]),s("li",null,[s("strong",null,E(x.value),1),L[14]||(L[14]=G(" food collected"))])])]),L[16]||(L[16]=s("div",null,[s("p",{class:"font-medium mb-1"},"Trip Progress"),s("p",null,"Shows how many foraging trips you've completed toward the next cycle."),s("p",{class:"mt-1"},"Your ants automatically make trips over time. Upgrades can speed this up or allow more simultaneous trips.")],-1)),L[17]||(L[17]=s("div",null,[s("p",{class:"font-medium mb-1"},"Food Progress"),s("p",null,"Shows how much food you've collected toward instantly completing a cycle."),s("p",{class:"mt-1"},"Collecting enough food is an alternative way to complete cycles, especially useful later in the game.")],-1))]),L[18]||(L[18]=s("p",{class:"mt-2 text-center"},[G("Click the "),s("span",{class:"i-heroicons-question-mark-circle inline-block align-text-bottom"}),G(" button above for more detailed information.")],-1))]))])]))}}),vx={class:"space-y-4"},bx={key:0,class:"bg-white dark:bg-gray-800 rounded-xl shadow-md border border-gray-200/50 dark:border-gray-700/50"},xx={class:"sticky top-0 z-20 bg-white dark:bg-gray-800"},yx={key:0,class:"ml-1.5 px-1.5 py-0.5 text-xs rounded-full bg-gray-100 dark:bg-gray-700"},kx={class:"p-4"},wx=["id","aria-labelledby","hidden"],_x={key:1},Sx=we({__name:"UpgradesPage",setup(t){const e=De(),r=B(()=>e.evolutionUpgrades),{showMaxed:o,showAffordable:n,showUnlocked:a,searchQuery:l,selectedSort:u,sortOptions:c,resetFilters:m}=du(),d=B(()=>{const M=Object.fromEntries(Os().map(S=>[S,[]]));return r.value.forEach(S=>{M[S.category]&&M[S.category].push(S)}),M}),f=M=>{var S;if(M==="all"){let $=0;return Object.values(d.value).forEach(y=>{$+=y.length}),$}return((S=d.value[M])==null?void 0:S.length)||0};He(()=>{o.value=e.showMaxed,n.value=e.showAffordable,a.value=e.showUnlocked,l.value=e.searchQuery||"",u.value=e.selectedSort||c[0].id}),Ee([o,n,a,l,u],()=>{e.showMaxed!==o.value&&(e.showMaxed=o.value),e.showAffordable!==n.value&&(e.showAffordable=n.value),e.showUnlocked!==a.value&&(e.showUnlocked=a.value),e.searchQuery!==l.value&&(e.searchQuery=l.value),e.selectedSort!==u.value&&(e.selectedSort=u.value)},{deep:!0});const p=B({get:()=>e.activeTab,set:M=>e.activeTab=M}),g=H(!1),b=H(!1),x=()=>{e.canEvolve&&(g.value=!0)},U=()=>{e.canEvolve&&(e.evolve(),g.value=!1)},O=()=>{g.value=!1},F=()=>{b.value=!b.value},L=()=>{m(),e.resetFilters()},A=Fv();return(M,S)=>{const $=hx,y=rb,k=Jv,N=Bv,P=Sv,h=pv,_=So;return v(),w("div",vx,[ve($,{showAboutEvolution:b.value,onToggleAboutEvolution:F,onConfirmEvolution:x},null,8,["showAboutEvolution"]),I(e).hasEvolved?(v(),w("div",bx,[s("div",xx,[ve(y,{activeTab:p.value,"onUpdate:activeTab":S[0]||(S[0]=W=>p.value=W),categories:I(A)},{badge:Ve(({category:W})=>[W!=="all"?(v(),w("span",yx,E(f(W)),1)):z("",!0)]),_:1},8,["activeTab","categories"])]),s("div",kx,[ve(k,{showMaxed:I(o),"onUpdate:showMaxed":S[1]||(S[1]=W=>Pe(o)?o.value=W:null),showAffordable:I(n),"onUpdate:showAffordable":S[2]||(S[2]=W=>Pe(n)?n.value=W:null),showUnlocked:I(a),"onUpdate:showUnlocked":S[3]||(S[3]=W=>Pe(a)?a.value=W:null),searchQuery:I(l),"onUpdate:searchQuery":S[4]||(S[4]=W=>Pe(l)?l.value=W:null),selectedSort:I(u),"onUpdate:selectedSort":S[5]||(S[5]=W=>Pe(u)?u.value=W:null),onResetFilters:L,onSearch:W=>{}},null,8,["showMaxed","showAffordable","showUnlocked","searchQuery","selectedSort"]),(v(!0),w(ye,null,Ie(I(A),W=>(v(),w("div",{key:`panel-${W}`,id:`panel-${W}`,role:"tabpanel","aria-labelledby":`tab-${W}`,hidden:p.value!==W},[ve(N,{category:W,showMaxed:I(o),showAffordable:I(n),showUnlocked:I(a),searchQuery:I(l),selectedSort:I(u),onResetFilters:L},null,8,["category","showMaxed","showAffordable","showUnlocked","searchQuery","selectedSort"])],8,wx))),128))])])):(v(),w("div",_x,S[6]||(S[6]=[s("div",{class:"p-4"},[s("div",{class:"border border-gray-200/50 dark:border-gray-700/50 rounded-xl shadow-md p-4 text-center text-gray-500 dark:text-gray-400"},[s("p",null,"You need to evolve to access the upgrades.")])],-1)]))),ve(P,{show:g.value,onConfirm:U,onCancel:O},null,8,["show"]),ve(h,{show:b.value,onClose:F},null,8,["show"]),ve(_,{threshold:400})])}}}),$x=et(Sx,[["__scopeId","data-v-932062a7"]]),Ex={class:"space-y-4"},Cx={class:"bg-gradient-to-br from-purple-100 to-purple-50 dark:from-purple-900/40 dark:to-purple-800/30 rounded-xl p-4 shadow-md"},Mx={class:"flex items-center mb-4 p-3 bg-purple-50 dark:bg-purple-900/50 rounded-lg"},Ax={class:"text-xl font-bold text-purple-800 dark:text-purple-300"},Ix=we({__name:"PheromoneShopTab",setup(t){const e=Ze();return(r,o)=>(v(),w("div",Ex,[s("div",Cx,[o[2]||(o[2]=s("h2",{class:"text-lg font-bold mb-2 flex items-center"},[s("span",{class:"i-heroicons-beaker text-purple-700 dark:text-purple-500 mr-2"}),G(" Pheromone Essence Shop ")],-1)),s("div",Mx,[o[1]||(o[1]=s("span",{class:"i-heroicons-flask text-purple-600 dark:text-purple-400 text-xl mr-2"},null,-1)),s("div",null,[o[0]||(o[0]=s("div",{class:"text-sm text-purple-600 dark:text-purple-400"},"Available Essence",-1)),s("div",Ax,E(I(e).formattedPheromoneEssence),1)])]),o[3]||(o[3]=yo('<div class="border-2 border-dashed border-purple-300 dark:border-purple-700 rounded-lg p-4 text-center"><p class="text-purple-700 dark:text-purple-400 mb-2"> The Colony Alchemists are working on new formulations... </p><p class="text-sm text-purple-600 dark:text-purple-500"> Soon you&#39;ll be able to spend your Pheromone Essence on powerful upgrades and bonuses! </p><div class="mt-4 flex justify-center"><span class="i-heroicons-arrow-path text-purple-500 dark:text-purple-400 text-xl animate-spin"></span></div></div><div class="mt-4 text-sm text-purple-600 dark:text-purple-400 bg-purple-50 dark:bg-purple-900/50 p-3 rounded-lg"><div class="flex items-start"><span class="i-heroicons-information-circle text-purple-600 dark:text-purple-400 mt-0.5 mr-2"></span><div><p class="mb-1">Pheromone Essence is collected from defeated enemies in the Adventure mode.</p><p>Higher-level enemies provide more essence. Defeat tougher bugs to collect more!</p></div></div></div>',2))])]))}}),Px={class:"space-y-4 px-2 sm:px-0"},Tx={class:"flex border-b border-gray-200 dark:border-gray-700 mb-4"},Lx={class:"ml-1 text-xs bg-purple-100 dark:bg-purple-900/50 px-1.5 py-0.5 rounded-full text-purple-800 dark:text-purple-300"},qx={key:0},Fx={class:"bg-gradient-to-br from-red-100 to-red-50 dark:from-red-900/40 dark:to-red-800/30 rounded-xl p-3 shadow-md"},Nx={class:"flex items-center justify-between mb-2"},Rx={class:"text-xs bg-red-900/30 dark:bg-red-950/50 px-2 py-0.5 rounded-full whitespace-nowrap"},Ux={class:"w-full h-2 bg-red-900/30 dark:bg-red-950/50 rounded-full overflow-hidden"},Bx={class:"text-xs text-red-600 dark:text-red-400 mt-1"},Ox={key:0,class:"bg-gradient-to-br from-amber-100 to-amber-50 dark:from-amber-900/40 dark:to-amber-800/30 rounded-xl p-3 shadow-md border-2 border-amber-300 dark:border-amber-700"},Dx={class:"flex items-center gap-2 mb-2"},Hx={class:"font-medium text-amber-800 dark:text-amber-300 text-sm"},jx={class:"mb-2"},Qx={class:"flex justify-between text-xs text-amber-700 dark:text-amber-400 mb-1"},Gx={class:"h-3 bg-amber-100 dark:bg-amber-900/50 rounded-full overflow-hidden"},Wx={class:"text-xs text-amber-700 dark:text-amber-400 mt-1"},Vx={class:"grid grid-cols-2 gap-2 text-xs"},zx={class:"bg-amber-50 dark:bg-amber-900/30 p-2 rounded-lg text-amber-700 dark:text-amber-400"},Kx={class:"bg-amber-50 dark:bg-amber-900/30 p-2 rounded-lg text-amber-700 dark:text-amber-400"},Yx={class:"flex mt-2 gap-2 text-xs"},Jx={class:"flex-1 bg-amber-50 dark:bg-amber-900/30 p-2 rounded-lg text-amber-700 dark:text-amber-400"},Xx={class:"flex items-center"},Zx={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},ey={class:"bg-gradient-to-br from-red-100 to-red-50 dark:from-red-900/40 dark:to-red-800/30 rounded-xl p-3 shadow-md lg:col-span-2"},ty={class:"grid grid-cols-2 sm:grid-cols-4 gap-2"},ry={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-red-200 dark:border-red-700"},oy={class:"text-sm font-bold flex items-center"},ny={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-red-200 dark:border-red-700"},sy={class:"text-sm font-bold flex items-center"},iy={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-red-200 dark:border-red-700"},ay={class:"text-sm font-bold flex items-center"},ly={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-red-200 dark:border-red-700"},uy={class:"text-sm font-bold flex items-center"},cy={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-red-200 dark:border-red-700 mt-2"},dy={class:"text-xs text-red-700 dark:text-red-400 font-medium flex justify-between"},my={class:"h-3 bg-red-100 dark:bg-red-900/50 rounded-full mt-1 overflow-hidden"},fy={class:"text-xs text-red-600 dark:text-red-400 mt-1"},py={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-red-200 dark:border-red-700 mt-2"},gy={class:"bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-800 dark:to-gray-700 rounded-xl p-3 shadow-md"},hy={class:"flex items-center justify-between mb-2"},vy={key:0,class:"text-xs text-gray-600 dark:text-gray-400"},by={key:1,class:"space-y-1"},xy={class:"text-gray-500 dark:text-gray-400 mr-1"},yy={key:1,class:"mt-2 text-xs text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 p-2 rounded-lg border border-gray-200 dark:border-gray-600"},ky={class:"bg-gradient-to-br from-blue-100 to-blue-50 dark:from-blue-900/40 dark:to-blue-800/30 rounded-xl p-3 shadow-md relative"},wy={class:"sticky top-[-20px] z-10 bg-gradient-to-br from-blue-100 to-blue-50 dark:from-blue-900/40 dark:to-blue-800/30 -mx-3 -mt-3 px-3 pt-3 pb-3"},_y={class:"flex flex-col gap-3"},Sy={class:"flex items-center justify-between"},$y={class:"flex items-center gap-2"},Ey={class:"mr-1"},Cy={class:"flex flex-wrap items-center gap-2 text-xs bg-blue-50/50 dark:bg-blue-900/30 p-2 rounded-lg"},My={class:"flex items-center gap-2"},Ay={class:"flex items-center gap-2"},Iy={class:"flex items-center gap-2"},Py={class:"space-y-3 mt-3 overflow-y-auto rounded-lg"},Ty={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-2"},Ly={class:"flex items-center"},qy={class:"font-medium text-blue-700 dark:text-blue-300"},Fy={key:0,class:"ml-2 text-xs bg-green-100 dark:bg-green-900/50 px-2 py-0.5 rounded-full text-green-700 dark:text-green-400"},Ny={key:1,class:"ml-2 text-xs bg-yellow-100 dark:bg-yellow-900/50 px-2 py-0.5 rounded-full text-yellow-700 dark:text-yellow-400 flex items-center"},Ry={class:"flex items-center space-x-2"},Uy=["onClick"],By=["onClick"],Oy={class:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-3"},Dy={class:"bg-blue-50/50 dark:bg-blue-900/30 rounded-lg p-3"},Hy={class:"grid grid-cols-2 gap-2 text-xs"},jy={class:"font-medium text-blue-700 dark:text-blue-300"},Qy={class:"font-medium text-blue-700 dark:text-blue-300"},Gy={class:"font-medium text-blue-700 dark:text-blue-300"},Wy={class:"font-medium text-blue-700 dark:text-blue-300"},Vy={class:"mt-2 text-xs"},zy={class:"font-medium text-blue-700 dark:text-blue-300 flex items-center"},Ky={class:"bg-blue-50/50 dark:bg-blue-900/30 rounded-lg p-3"},Yy={class:"space-y-2 text-xs"},Jy={class:"font-medium text-blue-700 dark:text-blue-300"},Xy={class:"font-medium text-blue-700 dark:text-blue-300"},Zy={class:"font-medium text-blue-700 dark:text-blue-300"},e1={class:"text-xs text-blue-500 dark:text-blue-300 mt-3"},t1={key:1},r1={key:2,class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm"},o1={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md p-4 sm:p-5 mx-auto border border-blue-200 dark:border-blue-700 max-h-[90vh] overflow-y-auto"},n1={class:"flex items-center justify-between pb-2 border-b border-blue-200 dark:border-blue-700"},s1={class:"text-base font-bold flex items-center text-blue-800 dark:text-blue-300"},i1={class:"space-y-3 mt-3"},a1={class:"text-sm text-gray-700 dark:text-gray-300"},l1={class:"space-y-2"},u1={class:"flex items-center space-x-2"},c1={class:"text-xs text-gray-500"},d1={class:"text-sm text-gray-600 dark:text-gray-400"},m1=we({__name:"AdventurePage",setup(t){const e=vn(),r=nr(),o=ou(),n=kt(),a=Ze(),l=H(null),u=H(0),c=H("combat"),m=W=>{c.value=W},d=H(null),f=W=>{d.value=W},p=()=>{d.value=null},g=B(()=>re(e.currentHealth)),b=B(()=>re(e.playerMaxHealth)),x=B(()=>re(e.playerDamage)),U=B(()=>re(e.playerRegen)),O=B(()=>re(e.playerDefense)),F=B(()=>o.selectedBug?re(o.selectedBug.health):"0"),L=B(()=>o.selectedBug?re(o.selectedBug.maxHealth):"0"),A=B(()=>o.selectedBug?re(o.selectedBug.damage):"0"),M=B(()=>e.playerMaxHealth.eq(0)?0:e.currentHealth.div(e.playerMaxHealth).mul(100).toNumber()),S=B(()=>o.getBugHealthPercentage),$=H(!0),y=()=>{$.value=!$.value,$.value&&Dr(()=>{N()})},k=()=>{e.showAllEnemies=!e.showAllEnemies},N=()=>{l.value&&requestAnimationFrame(()=>{l.value&&(l.value.scrollTop=l.value.scrollHeight)})},P=()=>{l.value&&(l.value.scrollTop=l.value.scrollHeight),setTimeout(()=>{l.value&&(l.value.scrollTop=l.value.scrollHeight)},50),setTimeout(()=>{l.value&&(l.value.scrollTop=l.value.scrollHeight)},150)};$s(()=>{const W=e.logs.length;W>u.value&&(u.value=W,P())}),He(()=>{u.value=e.logs.length,P(),l.value&&new MutationObserver(()=>{P()}).observe(l.value,{childList:!0,subtree:!0})}),Ee(()=>e.logs.length,(W,R)=>{W>R&&(u.value=W,P())},{flush:"post"});const h=B(()=>{let W=o.bugs;return e.showAllEnemies||(W=W.slice(0,3)),e.showOneHitOnly&&(W=W.filter(R=>e.canOneHitBug(R.id))),e.showCanKillOnly&&(W=W.filter(R=>e.calculateDamage(e.playerDamage,R.defense).gt(0))),W}),_=W=>{const R=o.bugs.findIndex(de=>de.id===W.id),pe=be.fromNumber(10).mul(be.pow(1.2,R)),Z=R>50?pe.mul(be.fromNumber(50+(R-50)*.5)):pe,he=be.fromNumber(5).mul(be.pow(1.15,R)),Ce=R>50?he.mul(be.fromNumber(50+(R-50)*.3)):he;return{food:Z,essence:Ce.floor()}};return(W,R)=>{const pe=So;return v(),w("div",Px,[R[53]||(R[53]=s("h1",{class:"text-xl font-bold mb-2 flex items-center"},[s("span",{class:"i-heroicons-shield-exclamation text-red-700 dark:text-red-500 mr-2"}),G(" Adventure ")],-1)),s("div",Tx,[s("button",{onClick:R[0]||(R[0]=Z=>m("combat")),class:ne(["px-4 py-2 text-sm font-medium rounded-t-lg transition-colors duration-200",c.value==="combat"?"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200 border-b-2 border-red-500":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800/50"])},R[5]||(R[5]=[s("span",{class:"i-heroicons-bolt mr-1 inline-block"},null,-1),G(" Combat ")]),2),s("button",{onClick:R[1]||(R[1]=Z=>m("shop")),class:ne(["px-4 py-2 text-sm font-medium rounded-t-lg transition-colors duration-200 flex items-center",c.value==="shop"?"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200 border-b-2 border-purple-500":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800/50"])},[R[6]||(R[6]=s("span",{class:"i-heroicons-beaker mr-1 inline-block"},null,-1)),R[7]||(R[7]=G(" Shop ")),s("span",Lx,E(I(a).formattedPheromoneEssence),1)],2)]),c.value==="combat"?(v(),w("div",qx,[s("div",Fx,[s("div",Nx,[R[8]||(R[8]=s("h2",{class:"text-base font-bold flex items-center"},[s("span",{class:"i-heroicons-clock text-red-700 dark:text-red-500 mr-2"}),G(" Adventure Progress ")],-1)),s("span",Rx,E(I(r).adventureTimeRemaining)+"s ",1)]),s("div",Ux,[s("div",{class:"h-full bg-gradient-to-r from-red-600 to-red-500 dark:from-red-500 dark:to-red-400 transition-all duration-100 ease-linear",style:Xe({width:`${I(r).adventureProgressPercentage}%`})},null,4)]),s("div",Bx,E(I(r).adventureProgressPercentage)+"% ",1)]),I(e).isInCombat&&I(o).selectedBug?(v(),w("section",Ox,[R[15]||(R[15]=s("div",{class:"flex items-center justify-between mb-2"},[s("h2",{class:"text-base font-bold flex items-center"},[s("span",{class:"i-heroicons-bolt text-amber-700 dark:text-amber-500 mr-2"}),G(" Active Combat ")]),s("span",{class:"text-xs bg-amber-200 dark:bg-amber-900/50 px-2 py-1 rounded-full text-amber-800 dark:text-amber-300 font-medium"}," In Combat ")],-1)),s("div",Dx,[R[9]||(R[9]=s("span",{class:"i-heroicons-bug-ant text-amber-600 dark:text-amber-400 text-lg"},null,-1)),s("span",Hx,E(I(o).selectedBug.name),1)]),s("div",jx,[s("div",Qx,[R[10]||(R[10]=s("span",null,"Enemy Health",-1)),s("span",null,E(Math.round(S.value))+"%",1)]),s("div",Gx,[s("div",{class:"h-full bg-gradient-to-r from-amber-600 to-amber-500 dark:from-amber-500 dark:to-amber-400 transition-all duration-300 ease-out",style:Xe({width:`${S.value}%`})},null,4)]),s("div",Wx,E(F.value)+" / "+E(L.value),1)]),s("div",Vx,[s("div",zx,[R[11]||(R[11]=s("div",{class:"font-medium"},"Damage",-1)),s("div",null,E(A.value),1)]),s("div",Kx,[R[12]||(R[12]=s("div",{class:"font-medium"},"Food Reward",-1)),s("div",null,E(I(re)(_(I(o).selectedBug).food)),1)])]),s("div",Yx,[s("div",Jx,[R[14]||(R[14]=s("div",{class:"font-medium"},"Essence Reward",-1)),s("div",Xx,[R[13]||(R[13]=s("span",{class:"i-heroicons-flask text-amber-600 dark:text-amber-400 mr-1"},null,-1)),G(" "+E(I(re)(_(I(o).selectedBug).essence)),1)])])]),R[16]||(R[16]=s("div",{class:"text-xs text-amber-700 dark:text-amber-400 mt-3 bg-amber-50 dark:bg-amber-900/30 p-2 rounded-lg"},[s("span",{class:"i-heroicons-information-circle mr-1 inline-block"}),G(" To change enemies, select a different bug from the Adventure Map below. ")],-1))])):z("",!0),s("div",Zx,[s("section",ey,[R[27]||(R[27]=s("h2",{class:"text-base font-bold mb-2 flex items-center"},[s("span",{class:"i-heroicons-user-circle text-red-700 dark:text-red-500 mr-2"}),G(" Player Stats ")],-1)),s("div",ty,[s("div",ry,[R[18]||(R[18]=s("div",{class:"text-xs text-red-700 dark:text-red-400 font-medium"},"Health",-1)),s("div",oy,[R[17]||(R[17]=s("span",{class:"i-heroicons-heart text-red-600 dark:text-red-500 mr-1 text-xs"},null,-1)),G(" "+E(g.value)+" / "+E(b.value),1)])]),s("div",ny,[R[20]||(R[20]=s("div",{class:"text-xs text-red-700 dark:text-red-400 font-medium"},"Attack Damage",-1)),s("div",sy,[R[19]||(R[19]=s("span",{class:"i-heroicons-bolt text-red-600 dark:text-red-500 mr-1 text-xs"},null,-1)),G(" "+E(x.value),1)])]),s("div",iy,[R[22]||(R[22]=s("div",{class:"text-xs text-red-700 dark:text-red-400 font-medium"},"Defense",-1)),s("div",ay,[R[21]||(R[21]=s("span",{class:"i-heroicons-shield-check text-red-600 dark:text-red-500 mr-1 text-xs"},null,-1)),G(" "+E(O.value),1)])]),s("div",ly,[R[24]||(R[24]=s("div",{class:"text-xs text-red-700 dark:text-red-400 font-medium"},"Health Regen",-1)),s("div",uy,[R[23]||(R[23]=s("span",{class:"i-heroicons-arrow-path text-red-600 dark:text-red-500 mr-1 text-xs"},null,-1)),G(" "+E(U.value)+" / tick ",1)])])]),s("div",cy,[s("div",dy,[R[25]||(R[25]=s("span",null,"Health",-1)),s("span",null,E(Math.round(M.value))+"%",1)]),s("div",my,[s("div",{class:"h-full bg-gradient-to-r from-red-600 to-red-500 dark:from-red-500 dark:to-red-400 transition-all duration-300 ease-out",style:Xe({width:`${M.value}%`})},null,4)]),s("div",fy,E(g.value)+" / "+E(b.value),1)]),s("div",py,[R[26]||(R[26]=s("div",{class:"text-xs text-red-700 dark:text-red-400 font-medium"},"Status",-1)),s("div",{class:ne(["text-sm font-bold flex items-center",I(e).isDead?"text-red-600 dark:text-red-500":"text-green-600 dark:text-green-500"])},[s("span",{class:ne([I(e).isDead?"i-heroicons-x-circle":"i-heroicons-check-circle","mr-1 text-xs"])},null,2),G(" "+E(I(e).isDead?"Dead":"Alive"),1)],2)])]),s("section",gy,[s("div",hy,[R[28]||(R[28]=s("h2",{class:"text-base font-bold flex items-center"},[s("span",{class:"i-heroicons-document-text text-gray-700 dark:text-gray-300 mr-2"}),G(" Combat Log ")],-1)),s("button",{onClick:y,class:"md:hidden text-gray-600 dark:text-gray-400 p-1 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700"},[s("span",{class:ne($.value?"i-heroicons-chevron-up":"i-heroicons-chevron-down")},null,2)])]),$.value?(v(),w("div",{key:0,ref_key:"logContainer",ref:l,class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 h-48 sm:h-64 overflow-y-auto scroll-smooth"},[I(e).logs.length===0?(v(),w("div",vy,R[29]||(R[29]=[s("p",{class:"mb-1"},"• Adventure mode initialized",-1),s("p",{class:"mb-1"},"• Select an enemy to begin combat",-1),s("p",{class:"mb-1"},"• Combat is turn-based: you attack, then the enemy attacks",-1)]))):(v(),w("div",by,[(v(!0),w(ye,null,Ie(I(e).logs,Z=>(v(),w("div",{key:Z.timestamp+Z.message,class:"text-xs"},[s("span",xy,E(new Date(Z.timestamp).toLocaleTimeString()),1),s("span",{class:ne({"text-gray-600 dark:text-gray-300":Z.type==="info","text-red-600 dark:text-red-400":Z.type==="combat","text-green-600 dark:text-green-400":Z.type==="reward"})},E(Z.message),3)]))),128)),R[30]||(R[30]=s("div",{class:"h-1",id:"log-end"},null,-1))]))],512)):z("",!0),$.value?(v(),w("div",yy,R[31]||(R[31]=[s("span",{class:"i-heroicons-information-circle text-gray-600 dark:text-gray-400 mr-1 inline-block"},null,-1),G(" Combat is turn-based. Your damage scales with your ant count! ")]))):z("",!0)])]),s("section",ky,[s("div",wy,[s("div",_y,[s("div",Sy,[R[32]||(R[32]=s("h2",{class:"text-base font-bold flex items-center"},[s("span",{class:"i-heroicons-map text-blue-700 dark:text-blue-500 mr-2"}),G(" Adventure Map ")],-1)),s("div",$y,[s("button",{onClick:k,class:"text-blue-600 dark:text-blue-400 text-xs px-2 py-1 rounded-md bg-blue-50 dark:bg-blue-900/30 hover:bg-blue-100 dark:hover:bg-blue-800/50 transition-colors flex items-center"},[s("span",Ey,E(I(e).showAllEnemies?"Show Less":"Show All"),1),s("span",{class:ne(I(e).showAllEnemies?"i-heroicons-chevron-up":"i-heroicons-chevron-down")},null,2)])])]),s("div",Cy,[R[36]||(R[36]=s("span",{class:"font-medium text-blue-700 dark:text-blue-300"},"Filters:",-1)),s("label",My,[Be(s("input",{type:"checkbox","onUpdate:modelValue":R[2]||(R[2]=Z=>I(e).showOneHitOnly=Z),class:"rounded border-blue-300 text-blue-600 focus:ring-blue-500 dark:border-blue-700 dark:bg-blue-900/30"},null,512),[[dt,I(e).showOneHitOnly]]),R[33]||(R[33]=s("span",{class:"whitespace-nowrap text-blue-700 dark:text-blue-400"},"One Hit Only",-1))]),s("label",Ay,[Be(s("input",{type:"checkbox","onUpdate:modelValue":R[3]||(R[3]=Z=>I(e).showCanKillOnly=Z),class:"rounded border-blue-300 text-blue-600 focus:ring-blue-500 dark:border-blue-700 dark:bg-blue-900/30"},null,512),[[dt,I(e).showCanKillOnly]]),R[34]||(R[34]=s("span",{class:"whitespace-nowrap text-blue-700 dark:text-blue-400"},"Can Kill",-1))]),s("label",Iy,[Be(s("input",{type:"checkbox","onUpdate:modelValue":R[4]||(R[4]=Z=>I(e).autoAdvance=Z),class:"rounded border-blue-300 text-blue-600 focus:ring-blue-500 dark:border-blue-700 dark:bg-blue-900/30"},null,512),[[dt,I(e).autoAdvance]]),R[35]||(R[35]=s("span",{class:"whitespace-nowrap text-blue-700 dark:text-blue-400"},"Auto Advance (One Hit)",-1))])])])]),s("div",Py,[(v(!0),w(ye,null,Ie(h.value,Z=>(v(),w("div",{key:Z.id,class:ne(["bg-white/80 dark:bg-gray-800/80 p-3 rounded-lg shadow-sm border border-blue-200 dark:border-blue-700",{"border-2 border-green-400 dark:border-green-500":I(e).selectedBugId===Z.id&&I(e).isInCombat}])},[s("div",Ty,[s("div",Ly,[R[38]||(R[38]=s("span",{class:"i-heroicons-bug-ant text-blue-600 dark:text-blue-400 mr-2 text-lg"},null,-1)),s("span",qy,E(Z.name),1),I(e).selectedBugId===Z.id&&I(e).isInCombat?(v(),w("span",Fy," Active ")):z("",!0),I(e).canOneHitBug(Z.id)?(v(),w("span",Ny,R[37]||(R[37]=[s("span",{class:"i-heroicons-bolt-slash mr-1"},null,-1),G(" One Hit Kill ")]))):z("",!0)]),s("div",Ry,[s("button",{onClick:he=>f(Z),class:"p-2 rounded-full hover:bg-blue-100 dark:hover:bg-blue-800/50 transition-colors"},R[39]||(R[39]=[s("span",{class:"i-heroicons-information-circle text-blue-600 dark:text-blue-400 text-lg"},null,-1)]),8,Uy),s("button",{onClick:he=>I(e).toggleAutoCombat(Z.id),class:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 px-4 py-2 rounded-lg text-white text-sm font-medium transition-colors duration-200 flex-grow sm:flex-grow-0"}," Fight ",8,By)])]),s("div",Oy,[s("div",Dy,[R[46]||(R[46]=s("h4",{class:"text-xs font-medium text-blue-700 dark:text-blue-300 mb-2"},"Combat Stats",-1)),s("div",Hy,[s("div",null,[R[40]||(R[40]=s("span",{class:"text-blue-500 dark:text-blue-400"},"Health:",-1)),s("div",jy,E(I(re)(Z.maxHealth)),1)]),s("div",null,[R[41]||(R[41]=s("span",{class:"text-blue-500 dark:text-blue-400"},"Damage:",-1)),s("div",Qy,E(I(re)(Z.damage)),1)]),s("div",null,[R[42]||(R[42]=s("span",{class:"text-blue-500 dark:text-blue-400"},"Defense:",-1)),s("div",Gy,E(I(re)(Z.defense)),1)]),s("div",null,[R[43]||(R[43]=s("span",{class:"text-blue-500 dark:text-blue-400"},"Food Reward:",-1)),s("div",Wy,E(I(re)(_(Z).food)),1)])]),s("div",Vy,[R[45]||(R[45]=s("span",{class:"text-blue-500 dark:text-blue-400"},"Essence Reward:",-1)),s("div",zy,[R[44]||(R[44]=s("span",{class:"i-heroicons-flask text-blue-600 dark:text-blue-400 mr-1"},null,-1)),G(" "+E(I(re)(_(Z).essence)),1)])])]),s("div",Ky,[R[50]||(R[50]=s("h4",{class:"text-xs font-medium text-blue-700 dark:text-blue-300 mb-2"},"Combat Analysis",-1)),s("div",Yy,[s("div",null,[R[47]||(R[47]=s("span",{class:"text-blue-500 dark:text-blue-400"},"Time to Kill:",-1)),s("div",Jy,E(I(re)(Z.maxHealth.div(I(e).calculateDamage(I(e).playerDamage,Z.defense))))+" hits ",1)]),s("div",null,[R[48]||(R[48]=s("span",{class:"text-blue-500 dark:text-blue-400"},"Damage Taken/Hit:",-1)),s("div",Xy,E(I(re)(I(e).calculateDamage(Z.damage,I(e).playerDefense))),1)]),s("div",null,[R[49]||(R[49]=s("span",{class:"text-blue-500 dark:text-blue-400"},"Survivability:",-1)),s("div",Zy,E(I(re)(I(e).playerMaxHealth.div(I(e).calculateDamage(Z.damage,I(e).playerDefense))))+" hits ",1)])])])]),s("div",e1,E(Z.description),1)],2))),128))])])])):c.value==="shop"?(v(),w("div",t1,[ve(Ix)])):z("",!0),d.value?(v(),w("div",r1,[s("div",o1,[s("div",n1,[s("h3",s1,[R[51]||(R[51]=s("span",{class:"i-heroicons-bug-ant text-blue-600 dark:text-blue-400 mr-2"},null,-1)),G(" "+E(d.value.name)+" Drop Table ",1)]),s("button",{onClick:p,class:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700"},R[52]||(R[52]=[s("span",{class:"i-heroicons-x-mark text-gray-600 dark:text-gray-400 text-lg"},null,-1)]))]),s("div",i1,[s("div",a1,E(d.value.description),1),s("div",l1,[(v(!0),w(ye,null,Ie(d.value.drops,Z=>{var he,Ce;return v(),w("div",{key:Z.itemId,class:"flex items-center justify-between p-2 rounded-lg bg-gray-50 dark:bg-gray-700/50"},[s("div",u1,[s("span",{class:ne(["text-sm font-medium",I(n).getRarityColor(((he=I(n).getItem(Z.itemId))==null?void 0:he.rarity)||"common")])},E((Ce=I(n).getItem(Z.itemId))==null?void 0:Ce.name),3),s("span",c1,E((Z.chance*100).toFixed(1))+"% ",1)]),s("div",d1,E(Z.minQuantity)+"-"+E(Z.maxQuantity)+"x ",1)])}),128))])]),s("div",{class:"flex justify-end mt-4"},[s("button",{onClick:p,class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 rounded-lg text-white text-sm font-medium transition-colors"}," Close ")])])])):z("",!0),ve(pe,{threshold:400})])}}}),f1={class:"sticky top-0 z-20 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-b border-gray-200 dark:border-gray-700",role:"tablist","aria-label":"Inventory Sections"},p1={class:"flex overflow-x-auto scrollbar-hide"},g1=["aria-selected","tabindex"],h1=["aria-selected","tabindex"],v1=we({__name:"InventoryTabsNavigation",props:{activeTab:{}},emits:["update:activeTab"],setup(t,{emit:e}){const r=e,o=(a,l)=>{a.key==="ArrowRight"?(r("update:activeTab","inventory"),n(1),a.preventDefault()):a.key==="ArrowLeft"&&(r("update:activeTab","equipment"),n(0),a.preventDefault())},n=a=>{const l=`tab-${a===0?"equipment":"inventory"}`;setTimeout(()=>{const u=document.getElementById(l);u&&u.focus()},10)};return(a,l)=>(v(),w("div",f1,[s("div",p1,[s("button",{onClick:l[0]||(l[0]=u=>r("update:activeTab","equipment")),onKeydown:l[1]||(l[1]=u=>o(u)),class:ne(["px-4 py-3 font-medium text-sm whitespace-nowrap transition-colors outline-none",a.activeTab==="equipment"?"border-b-2 border-purple-600 dark:border-purple-500 text-purple-700 dark:text-purple-400":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"]),id:"tab-equipment","aria-selected":a.activeTab==="equipment","aria-controls":"panel-equipment",role:"tab",tabindex:a.activeTab==="equipment"?0:-1},l[4]||(l[4]=[s("span",{class:"i-heroicons-shield-check mr-1.5"},null,-1),G(" Equipment ")]),42,g1),s("button",{onClick:l[2]||(l[2]=u=>r("update:activeTab","inventory")),onKeydown:l[3]||(l[3]=u=>o(u)),class:ne(["px-4 py-3 font-medium text-sm whitespace-nowrap transition-colors outline-none",a.activeTab==="inventory"?"border-b-2 border-purple-600 dark:border-purple-500 text-purple-700 dark:text-purple-400":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"]),id:"tab-inventory","aria-selected":a.activeTab==="inventory","aria-controls":"panel-inventory",role:"tab",tabindex:a.activeTab==="inventory"?0:-1},l[5]||(l[5]=[s("span",{class:"i-heroicons-shopping-bag mr-1.5"},null,-1),G(" Inventory ")]),42,h1)])]))}}),b1=et(v1,[["__scopeId","data-v-122a1ba3"]]),x1={class:"bg-gradient-to-br from-amber-100 to-amber-50 dark:from-amber-900/40 dark:to-amber-800/30 rounded-xl p-3 shadow-md"},y1={class:"mt-3"},k1={class:"grid grid-cols-3 gap-2"},w1={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},_1={class:"text-sm font-bold text-amber-600 dark:text-amber-500"},S1={key:0,class:"text-xs text-amber-500 dark:text-amber-400 mt-1"},$1={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},E1={class:"text-sm font-bold text-amber-600 dark:text-amber-500"},C1={key:0,class:"text-xs text-amber-500 dark:text-amber-400 mt-1"},M1={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},A1={class:"text-sm font-bold text-amber-600 dark:text-amber-500"},I1={key:0,class:"text-xs text-amber-500 dark:text-amber-400 mt-1"},P1={key:0,class:"mt-3"},T1={class:"grid grid-cols-2 gap-2"},L1={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},q1={class:"text-sm font-bold text-amber-600 dark:text-amber-500"},F1={class:"text-xs text-amber-500 dark:text-amber-400 mt-1"},N1={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},R1={class:"text-sm font-bold text-amber-600 dark:text-amber-500"},U1={class:"text-xs text-amber-500 dark:text-amber-400 mt-1"},B1={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},O1={class:"text-sm font-bold text-amber-600 dark:text-amber-500"},D1={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},H1={class:"text-sm font-bold text-amber-600 dark:text-amber-500"},j1={key:1,class:"mt-3"},Q1={class:"grid grid-cols-2 gap-2"},G1={key:0,class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},W1={class:"text-sm font-bold text-amber-600 dark:text-amber-500"},V1={key:1,class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},z1={class:"text-sm font-bold text-amber-600 dark:text-amber-500"},K1={key:0,class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},Y1={class:"text-xs text-amber-700 dark:text-amber-400 font-medium capitalize"},J1={class:"text-sm font-bold text-amber-600 dark:text-amber-500"},X1={key:2,class:"mt-3 bg-amber-50 dark:bg-amber-900/30 p-3 rounded-lg text-sm"},Z1={class:"text-amber-600 dark:text-amber-300 text-xs"},ek={key:3,class:"mt-3"},tk={class:"grid grid-cols-2 gap-2"},rk={class:"text-xs text-amber-700 dark:text-amber-400 font-medium capitalize"},ok={class:"text-sm font-bold text-amber-600 dark:text-amber-500"},nk={class:"text-base font-bold mb-3 flex items-center bg-gradient-to-br from-amber-100 to-amber-50 dark:from-amber-900/40 dark:to-amber-800/30 py-2 z-10"},sk={class:"ml-2 text-xs text-amber-600 dark:text-amber-400"},ik={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-2"},ak=["onClick"],lk={key:0,class:"absolute inset-0 flex flex-col items-center justify-center bg-amber-900/80 p-2 text-center"},uk={class:"flex-1 flex flex-col items-center justify-center p-2 text-center"},ck={key:0,class:"absolute top-1 right-1 bg-blue-200/90 dark:bg-blue-900/90 text-blue-900 dark:text-blue-200 rounded-md px-1.5 py-0.5 text-xs font-medium"},dk={key:2,class:"absolute inset-0 flex flex-col items-center justify-center text-amber-600 dark:text-amber-400"},mk={class:"mt-4 flex justify-center"},sa=we({__name:"EquipmentSection",props:{onSlotClick:{type:Function}},setup(t){const e=Ze(),r=kt(),o=Oe(),n=vn(),a=B(()=>o.generators[0].count),l=B(()=>g(a.value)),u=B(()=>e.totalStats.damage.mul(a.value)),c=B(()=>e.totalStats.health.mul(a.value)),m=B(()=>e.totalStats.regen.mul(a.value)),d=B(()=>n.playerDamage),f=B(()=>n.playerMaxHealth),p=B(()=>n.playerRegen),g=A=>re(A,0),b=B(()=>a.value.gt(0)),x=A=>r.getItem(A),U=(A,M)=>{const S=e.equipmentSlots[M];if(S&&S.item===A)return S.mergeLevel||0;const $=r.getItem(A);return($==null?void 0:$.mergeLevel)||0},O=A=>re(A.sub(1).mul(100),2)+"%",F=B(()=>{const A=e.totalSpecialModifiers;return Object.keys(A).some(M=>A[M].gt(1))}),L=A=>{e.toggleSection(A)};return(A,M)=>{var S,$;return v(),w("section",x1,[s("div",y1,[s("div",{onClick:M[0]||(M[0]=y=>L("equipmentStats")),class:"flex justify-between items-center cursor-pointer text-xs text-amber-700 dark:text-amber-400 font-medium mb-2 p-1 hover:bg-amber-100 dark:hover:bg-amber-800/30 rounded transition-colors"},[M[5]||(M[5]=s("span",null,"Equipment Stats",-1)),s("span",{class:ne(I(e).collapsedSections.equipmentStats?"i-heroicons-chevron-down":"i-heroicons-chevron-up")},null,2)]),Be(s("div",k1,[s("div",w1,[M[6]||(M[6]=s("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Damage",-1)),s("div",_1," +"+E(g(I(e).totalStats.damage)),1),b.value?(v(),w("div",S1," Boosted: +"+E(g(u.value)),1)):z("",!0)]),s("div",$1,[M[7]||(M[7]=s("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Health",-1)),s("div",E1," +"+E(g(I(e).totalStats.health)),1),b.value?(v(),w("div",C1," Boosted: +"+E(g(c.value)),1)):z("",!0)]),s("div",M1,[M[8]||(M[8]=s("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Regen",-1)),s("div",A1," +"+E(g(I(e).totalStats.regen)),1),b.value?(v(),w("div",I1," Boosted: +"+E(g(m.value)),1)):z("",!0)])],512),[[fr,!I(e).collapsedSections.equipmentStats]])]),b.value?(v(),w("div",P1,[s("div",{onClick:M[1]||(M[1]=y=>L("combatStats")),class:"flex justify-between items-center cursor-pointer text-xs text-amber-700 dark:text-amber-400 font-medium mb-2 p-1 hover:bg-amber-100 dark:hover:bg-amber-800/30 rounded transition-colors"},[M[9]||(M[9]=s("span",null,"Total Combat Stats",-1)),s("span",{class:ne(I(e).collapsedSections.combatStats?"i-heroicons-chevron-down":"i-heroicons-chevron-up")},null,2)]),Be(s("div",T1,[s("div",L1,[M[10]||(M[10]=s("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Total Damage",-1)),s("div",q1,E(g(d.value)),1),s("div",F1,E(g(a.value))+" worker ants ",1)]),s("div",N1,[M[11]||(M[11]=s("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Total Health",-1)),s("div",R1,E(g(f.value)),1),s("div",U1,E(g(I(n).currentHealth))+"/"+E(g(f.value)),1)]),s("div",B1,[M[12]||(M[12]=s("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Total Regen",-1)),s("div",O1,E(g(p.value)),1),M[13]||(M[13]=s("div",{class:"text-xs text-amber-500 dark:text-amber-400 mt-1"}," per second ",-1))]),s("div",D1,[M[14]||(M[14]=s("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Defense",-1)),s("div",H1,E(g(I(n).playerDefense)),1),M[15]||(M[15]=s("div",{class:"text-xs text-amber-500 dark:text-amber-400 mt-1"}," damage reduction ",-1))])],512),[[fr,!I(e).collapsedSections.combatStats]])])):z("",!0),F.value?(v(),w("div",j1,[s("div",{onClick:M[2]||(M[2]=y=>L("specialModifiers")),class:"flex justify-between items-center cursor-pointer text-xs text-amber-700 dark:text-amber-400 font-medium mb-2 p-1 hover:bg-amber-100 dark:hover:bg-amber-800/30 rounded transition-colors"},[M[16]||(M[16]=s("span",null,"Special Bonuses",-1)),s("span",{class:ne(I(e).collapsedSections.specialModifiers?"i-heroicons-chevron-down":"i-heroicons-chevron-up")},null,2)]),Be(s("div",Q1,[(S=I(e).totalSpecialModifiers.epBoost)!=null&&S.gt(1)?(v(),w("div",G1,[M[17]||(M[17]=s("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium flex items-center"},[s("span",{class:"i-heroicons-sparkles text-amber-600 dark:text-amber-400 mr-1"}),G(" Evolution Points ")],-1)),s("div",W1," +"+E(O(I(e).totalSpecialModifiers.epBoost)),1),M[18]||(M[18]=s("div",{class:"text-xs text-amber-500 dark:text-amber-400 mt-1"}," Bonus to EP gain ",-1))])):z("",!0),($=I(e).totalSpecialModifiers.global)!=null&&$.gt(1)?(v(),w("div",V1,[M[19]||(M[19]=s("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium flex items-center"},[s("span",{class:"i-heroicons-globe-alt text-amber-600 dark:text-amber-400 mr-1"}),G(" Global Production ")],-1)),s("div",z1," +"+E(O(I(e).totalSpecialModifiers.global)),1),M[20]||(M[20]=s("div",{class:"text-xs text-amber-500 dark:text-amber-400 mt-1"}," All production increased ",-1))])):z("",!0),(v(!0),w(ye,null,Ie(I(e).totalSpecialModifiers,(y,k)=>(v(),w(ye,{key:k},[k!=="epBoost"&&k!=="global"&&y.gt(1)?(v(),w("div",K1,[s("div",Y1,E(k.replace(/([A-Z])/g," $1").trim()),1),s("div",J1," +"+E(O(y)),1)])):z("",!0)],64))),128))],512),[[fr,!I(e).collapsedSections.specialModifiers]])])):z("",!0),b.value?(v(),w("div",X1,[M[21]||(M[21]=s("div",{class:"font-medium text-amber-700 dark:text-amber-400 mb-1"},[s("span",{class:"i-heroicons-information-circle mr-1"}),G(" Equipment Boost ")],-1)),s("p",Z1," Your equipment stats are boosted by your worker ants! Each stat is multiplied by your worker ant count (currently "+E(l.value)+"), giving you a significant combat advantage. ",1)])):z("",!0),Object.keys(I(e).totalProductionModifiers).length>0?(v(),w("div",ek,[s("div",{onClick:M[3]||(M[3]=y=>L("productionModifiers")),class:"flex justify-between items-center cursor-pointer text-xs text-amber-700 dark:text-amber-400 font-medium mb-2 p-1 hover:bg-amber-100 dark:hover:bg-amber-800/30 rounded transition-colors"},[M[22]||(M[22]=s("span",null,"Production Bonuses",-1)),s("span",{class:ne(I(e).collapsedSections.productionModifiers?"i-heroicons-chevron-down":"i-heroicons-chevron-up")},null,2)]),Be(s("div",tk,[(v(!0),w(ye,null,Ie(I(e).totalProductionModifiers,(y,k)=>(v(),w("div",{key:k,class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},[s("div",rk,E(k),1),s("div",ok," +"+E(y.minus(1).mul(100))+"% ",1)]))),128))],512),[[fr,!I(e).collapsedSections.productionModifiers]])])):z("",!0),s("h2",nk,[M[23]||(M[23]=s("span",{class:"i-heroicons-shield-check text-amber-700 dark:text-amber-500 mr-2"},null,-1)),M[24]||(M[24]=G(" Equipment ")),s("div",sk," ("+E(I(e).unlockedEquipmentSlots)+"/"+E(I(e).maxEquipmentSlots)+" slots unlocked) ",1)]),s("div",ik,[(v(!0),w(ye,null,Ie(I(e).equipmentSlots,(y,k)=>{var N,P,h;return v(),w("div",{key:k,class:ne(["relative aspect-square rounded-lg border-2 overflow-hidden",{"border-amber-700/30 bg-amber-900/10 dark:border-amber-700/50":y.locked,"border-amber-500 hover:border-amber-400 bg-amber-50/50 dark:bg-amber-900/20":!y.locked&&!y.item,"border-amber-500 hover:border-amber-400":y.item}]),onClick:_=>A.onSlotClick(y,k)},[y.locked?(v(),w("div",lk,M[25]||(M[25]=[s("div",{class:"i-heroicons-lock-closed text-2xl text-amber-500 mb-1"},null,-1),s("div",{class:"text-xs text-amber-400"},"Locked Slot",-1),s("div",{class:"text-[10px] text-amber-500 mt-1"},"Unlock via Evolution",-1)]))):y.item?(v(),w("div",{key:1,class:ne(["flex flex-col h-full",I(r).getRarityBackground(((N=x(y.item))==null?void 0:N.rarity)||"common")])},[s("div",uk,[s("div",{class:ne(["text-base font-bold line-clamp-2 mt-4",I(r).getRarityColor(((P=x(y.item))==null?void 0:P.rarity)||"common")])},E((h=x(y.item))==null?void 0:h.name),3)]),y.item&&U(y.item,k)>0?(v(),w("div",ck," +"+E(U(y.item,k)),1)):z("",!0),M[26]||(M[26]=s("div",{class:"bg-amber-800/60 py-0.5 text-[10px] text-center text-amber-200"}," Click to unequip ",-1))],2)):(v(),w("div",dk,M[27]||(M[27]=[s("div",{class:"i-heroicons-plus text-2xl mb-1"},null,-1),s("div",{class:"text-xs text-center"},"Empty Slot",-1),s("div",{class:"text-[10px] text-amber-500 dark:text-amber-500 mt-1"},"Click to browse items",-1)])))],10,ak)}),128))]),s("div",mk,[s("button",{onClick:M[4]||(M[4]=y=>I(e).initializeEquipmentSlots()),class:"bg-amber-500 hover:bg-amber-600 text-white px-4 py-2 rounded-lg shadow-md transition-colors flex items-center"},M[28]||(M[28]=[s("span",{class:"i-heroicons-refresh mr-2"},null,-1),G(" Refresh Equipment Slots ")]))])])}}}),fk={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-4xl mx-auto border border-purple-200 dark:border-purple-700 max-h-[90vh] flex flex-col overflow-hidden"},pk={class:"p-3 sm:p-5 border-b border-purple-200 dark:border-purple-700 bg-white dark:bg-gray-800"},gk={class:"flex justify-between items-start"},hk={class:"mt-3 sm:mt-4"},vk={class:"relative"},bk={class:"flex-1 overflow-y-auto p-3 sm:p-5 min-h-0 overscroll-contain"},xk={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-4"},yk={class:"flex items-start justify-between"},kk={class:"flex-1 min-w-0 mr-3"},wk={class:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 line-clamp-2"},_k=["onClick"],Sk={key:0,class:"py-6 text-center text-gray-500 dark:text-gray-400"},$k=we({__name:"ItemFilterModal",props:{isOpen:{type:Boolean}},emits:["close"],setup(t,{emit:e}){const r=e,o=Bs(),n=H(""),a=B(()=>{const m=o.getAllAvailableItems();return(n.value?m.filter(f=>f.name.toLowerCase().includes(n.value.toLowerCase())||f.description.toLowerCase().includes(n.value.toLowerCase())):m).reduce((f,p)=>(f[p.rarity]||(f[p.rarity]=[]),f[p.rarity].push(p),f),{})}),l=["common","uncommon","rare","epic","legendary","mythic","divine"],u=m=>{switch(m){case"common":return"text-gray-400";case"uncommon":return"text-green-400";case"rare":return"text-blue-400";case"epic":return"text-purple-400";case"legendary":return"text-yellow-400";case"mythic":return"text-pink-400";case"divine":return"text-red-400";default:return"text-gray-400"}},c=m=>{m.target.classList.contains("modal-backdrop")&&m.preventDefault()};return(m,d)=>m.isOpen?(v(),w("div",{key:0,class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-2 sm:p-4 backdrop-blur-sm overflow-hidden modal-backdrop",onTouchmove:Ls(c,["self"])},[s("div",fk,[s("div",pk,[s("div",gk,[d[3]||(d[3]=s("h3",{class:"text-base font-bold flex items-center text-purple-800 dark:text-purple-300"},[s("span",{class:"i-heroicons-funnel text-purple-600 dark:text-purple-400 mr-2"}),G(" Item Filter Settings ")],-1)),s("button",{onClick:d[0]||(d[0]=f=>r("close")),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors"},d[2]||(d[2]=[s("span",{class:"i-heroicons-x-mark text-xl"},null,-1)]))]),d[5]||(d[5]=s("p",{class:"text-sm text-gray-700 dark:text-gray-300 mt-3 leading-relaxed hidden sm:block"},' Configure which items your colony should collect. Items marked as "Filtered" will be automatically discarded when dropped. This is useful for preventing your inventory from filling up with lower-tier items as you progress. ',-1)),d[6]||(d[6]=s("p",{class:"text-sm text-gray-700 dark:text-gray-300 mt-3 leading-relaxed sm:hidden"}," Configure which items to collect or filter out. ",-1)),s("div",hk,[s("div",vk,[d[4]||(d[4]=s("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3"},[s("span",{class:"i-heroicons-magnifying-glass text-gray-400"})],-1)),Be(s("input",{"onUpdate:modelValue":d[1]||(d[1]=f=>n.value=f),type:"text",placeholder:"Search items...",class:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-gray-900 dark:text-gray-100"},null,512),[[Xo,n.value]])])])]),s("div",bk,[(v(),w(ye,null,Ie(l,f=>{var p;return Be(s("div",{key:f},[s("h3",{class:ne(["text-base sm:text-lg font-semibold mb-2 capitalize sticky top-0 bg-white dark:bg-gray-800 py-2 z-10",u(f)])},E(f),3),s("div",xk,[(v(!0),w(ye,null,Ie(a.value[f],g=>(v(),w("div",{key:g.id,class:"bg-gray-100 dark:bg-gray-700 rounded-lg p-3 flex flex-col border border-gray-200 dark:border-gray-600"},[s("div",yk,[s("div",kk,[s("h4",{class:ne(["font-semibold truncate",u(g.rarity)])},E(g.name),3),s("p",wk,E(g.description),1)]),s("button",{onClick:b=>I(o).toggleItemFilter(g.id),class:ne(["shrink-0 px-2 sm:px-3 py-1 rounded text-xs sm:text-sm font-medium transition-colors",I(o).isItemFiltered(g.id)?"bg-red-600 hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 text-white"])},E(I(o).isItemFiltered(g.id)?"Filtered":"Collect"),11,_k)])]))),128))])]),[[fr,(p=a.value[f])==null?void 0:p.length]])}),64)),Object.keys(a.value).length===0||Object.values(a.value).every(f=>f.length===0)?(v(),w("div",Sk,d[7]||(d[7]=[s("div",{class:"i-heroicons-magnifying-glass text-3xl mx-auto mb-2"},null,-1),s("p",null,"No items match your search query.",-1)]))):z("",!0)])])],32)):z("",!0)}}),Ek={key:0,class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-2 sm:p-4 backdrop-blur-sm"},Ck={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full mx-auto border border-purple-200 dark:border-purple-700"},Mk={class:"p-4 sm:p-5"},Ak={key:0,class:"mt-2 max-h-28 sm:max-h-32 overflow-y-auto text-xs"},Ik={key:1,class:"mt-2 max-h-28 sm:max-h-32 overflow-y-auto text-xs"},Pk={class:"mb-3 sm:mb-4 text-xs sm:text-sm text-gray-600 dark:text-gray-400"},Tk={class:"mt-1 sm:mt-2"},Lk={class:"font-bold"},qk={class:"mb-3 sm:mb-4 flex items-center"},Fk={key:1,class:"mb-3 sm:mb-4"},Nk=["disabled"],Rk={key:0,class:"i-heroicons-arrow-path animate-spin mr-2"},Uk={key:2,class:"space-y-2 sm:space-y-3 max-h-48 sm:max-h-60 overflow-y-auto pr-2"},Bk=["onClick"],Ok={class:"flex justify-between items-center"},Dk={class:"text-xs text-gray-500 dark:text-gray-400"},Hk={class:"text-xs px-2 py-1 rounded-full bg-purple-100 dark:bg-purple-900/50 text-purple-800 dark:text-purple-300"},jk={key:3,class:"py-4 sm:py-6 text-center text-gray-500 dark:text-gray-400"},Qk={class:"mt-4 sm:mt-6 flex gap-2 sm:gap-3"},Gk=["disabled"],Wk=we({__name:"MergeItemsModal",props:{isOpen:{type:Boolean},onClose:{type:Function}},setup(t){const e=t,r=Ze(),o=kt(),n=H(null),a=H([]),l=H(null),u=H(!1),c=H([]),m=H([]),d=H(!0),f=L=>o.getFormattedItemName(L),p=()=>{a.value=r.findMergeableItems()},g=L=>{l.value=L},b=async()=>{if(!l.value)return;let L,A=0;const M=r.mergeItems(l.value.indices);if(n.value=M,M.success){if(A++,L=M.item,d.value&&M.item){let S=!0;for(;S&&L;){p();const $=a.value.find(y=>y.item.id===(L==null?void 0:L.id)&&(L?y.item.mergeLevel===L.mergeLevel:!1));if($&&$.count>=$.requiredItems){const y=r.mergeItems($.indices);y.success&&y.item?(A++,L=y.item,c.value.push(`Merged to create ${f(y.item)}`)):(S=!1,y.message&&m.value.push(y.message))}else S=!1}}A>1&&(n.value={success:!0,message:`Performed ${A} merge operations!`,item:L}),p(),l.value=null}},x=async()=>{var L;u.value=!0,c.value=[],m.value=[],n.value=null;try{const A=[...a.value];let M=0,S=0;const $=new Map;for(const y of A){const k=r.mergeItems(y.indices);if(k.success&&k.item){c.value.push(`Merged ${y.requiredItems}x ${f(y.item)} → ${f(k.item)}`),M++;const N=`${k.item.id}-${k.item.mergeLevel}`;$.set(N,k.item)}else if((L=k.message)!=null&&L.includes("inventory space")){m.value.push(`Error: ${k.message}`),S++;break}else m.value.push(`Failed to merge ${f(y.item)}: ${k.message}`),S++;await new Promise(N=>setTimeout(N,50))}if(d.value&&$.size>0){let y=0,k=!0;for(;k;){k=!1,p();for(const N of a.value){const P=N.item,h=`${P.id}-${P.mergeLevel}`;if(N.count>=N.requiredItems){const _=r.mergeItems(N.indices);if(_.success&&_.item){c.value.push(`Merged ${N.requiredItems}x ${f(N.item)} → ${f(_.item)}`),M++,y++;const W=`${_.item.id}-${_.item.mergeLevel}`;$.set(W,_.item),k=!0,await new Promise(R=>setTimeout(R,50)),p();break}else _.message&&(m.value.push(`Failed to merge ${f(N.item)}: ${_.message}`),S++)}}}y>0&&c.value.push(`Performed ${y} additional merges to higher levels.`)}if(p(),M>0){const y=S>0?`Successfully merged ${M} item groups with ${S} errors`:`Successfully merged ${M} item groups`;n.value={success:!0,message:y}}else S>0?n.value={success:!1,message:"Failed to merge any items due to errors"}:n.value={success:!1,message:"No items were eligible for merging"}}catch(A){n.value={success:!1,message:`An error occurred: ${A}`}}finally{u.value=!1}},U=B(()=>a.value.length>0),O=()=>{n.value=null,c.value=[],m.value=[],l.value=null,e.onClose()};He(()=>{p()});const F=()=>{e.isOpen&&p()};return Ee(()=>e.isOpen,L=>{L&&F()}),(L,A)=>L.isOpen?(v(),w("div",Ek,[s("div",Ck,[s("div",Mk,[s("div",{class:"flex justify-between items-start mb-3 sm:mb-4"},[A[2]||(A[2]=s("h3",{class:"text-base sm:text-lg font-bold text-purple-700 dark:text-purple-400"}," Merge Items ",-1)),s("button",{onClick:O,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors"},A[1]||(A[1]=[s("span",{class:"i-heroicons-x-mark text-xl"},null,-1)]))]),n.value?(v(),w("div",{key:0,class:ne(["p-3 mb-3 sm:mb-4 rounded-lg text-sm",n.value.success?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"])},[s("div",null,E(n.value.message),1),c.value.length>0?(v(),w("div",Ak,[(v(!0),w(ye,null,Ie(c.value,(M,S)=>(v(),w("div",{key:`success-${S}`,class:"mb-1 text-green-700 dark:text-green-400"},E(M),1))),128))])):z("",!0),m.value.length>0?(v(),w("div",Ik,[(v(!0),w(ye,null,Ie(m.value,(M,S)=>(v(),w("div",{key:`error-${S}`,class:"mb-1 text-red-700 dark:text-red-400"},E(M),1))),128))])):z("",!0)],2)):z("",!0),s("div",Pk,[A[4]||(A[4]=s("p",null,"Merge identical items to create more powerful versions. Each merge level increases stats by 20% and modifiers by 15%.",-1)),s("p",Tk,[A[3]||(A[3]=G("Maximum merge level: ")),s("span",Lk,"+"+E(I(r).MAX_MERGE_LEVEL),1)]),A[5]||(A[5]=s("p",{class:"mt-1 sm:mt-2 text-amber-600 dark:text-amber-400"},[s("span",{class:"i-heroicons-information-circle mr-1"}),G(" Make sure you have enough inventory space when merging multiple items. ")],-1))]),s("div",qk,[Be(s("input",{type:"checkbox",id:"continue-merging","onUpdate:modelValue":A[0]||(A[0]=M=>d.value=M),class:"w-4 h-4 text-indigo-600 rounded border-gray-300 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600"},null,512),[[dt,d.value]]),A[6]||(A[6]=s("label",{for:"continue-merging",class:"ml-2 text-xs sm:text-sm text-gray-700 dark:text-gray-300"},"Continue merging to higher levels when possible",-1))]),U.value?(v(),w("div",Fk,[s("button",{onClick:x,disabled:u.value,class:"w-full px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center"},[u.value?(v(),w("span",Rk)):z("",!0),A[7]||(A[7]=s("span",{class:"i-heroicons-bolt mr-2"},null,-1)),G(" "+E(u.value?"Merging...":"Merge All Items"),1)],8,Nk)])):z("",!0),a.value.length>0?(v(),w("div",Uk,[(v(!0),w(ye,null,Ie(a.value,(M,S)=>(v(),w("div",{key:S,class:ne(["p-2 sm:p-3 rounded-lg border-2 cursor-pointer transition-colors",[l.value===M?"border-purple-500 bg-purple-50 dark:bg-purple-900/30":"border-gray-200 dark:border-gray-700 hover:border-purple-300 dark:hover:border-purple-700",I(o).getRarityBackground(M.item.rarity)]]),onClick:$=>g(M)},[s("div",Ok,[s("div",null,[s("div",{class:ne(["text-sm sm:text-base font-medium",I(o).getRarityColor(M.item.rarity)])},E(f(M.item)),3),s("div",Dk,E(M.count)+" available / "+E(M.requiredItems)+" needed ",1)]),s("div",Hk,E(M.mergeLevel<I(r).MAX_MERGE_LEVEL?`→ +${M.mergeLevel+1}`:"MAX"),1)])],10,Bk))),128))])):(v(),w("div",jk,A[8]||(A[8]=[s("div",{class:"i-heroicons-exclamation-circle text-2xl sm:text-3xl mx-auto mb-2"},null,-1),s("p",{class:"text-sm sm:text-base"},"No mergeable items found. Collect more identical items to merge them.",-1)]))),s("div",Qk,[s("button",{onClick:O,class:"flex-1 px-3 sm:px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors"}," Close "),s("button",{onClick:b,disabled:!l.value||u.value,class:ne(["flex-1 px-3 sm:px-4 py-2 text-white rounded-lg text-sm font-medium transition-colors",l.value&&!u.value?"bg-purple-600 hover:bg-purple-700":"bg-gray-400 cursor-not-allowed"])}," Merge Selected ",10,Gk)])])])])):z("",!0)}}),Lo=t=>{let e=0;t.stats&&(t.stats.damage&&(e+=t.stats.damage.toNumber()),t.stats.health&&(e+=t.stats.health.toNumber()*.5),t.stats.defense&&(e+=t.stats.defense.toNumber()*.8),t.stats.regen&&(e+=t.stats.regen.toNumber()*2)),t.productionModifiers&&Object.values(t.productionModifiers).forEach(o=>{e+=(o.toNumber()-1)*10}),t.specialModifiers&&(t.specialModifiers.epBoost&&(e+=(t.specialModifiers.epBoost.toNumber()-1)*20),t.specialModifiers.global&&(e+=(t.specialModifiers.global.toNumber()-1)*15));const r=t.mergeLevel||0;return e*(1+r*.2)},qo={common:0,uncommon:1,rare:2,epic:3,legendary:4,mythic:5,divine:6},Vk=[{id:"default",label:"Default",compareFn:()=>0},{id:"rarity-asc",label:"Rarity (Low to High)",compareFn:(t,e)=>qo[t.rarity]-qo[e.rarity]},{id:"rarity-desc",label:"Rarity (High to Low)",compareFn:(t,e)=>qo[e.rarity]-qo[t.rarity]},{id:"merge-asc",label:"Quality (Low to High)",compareFn:(t,e)=>{const r=t.mergeLevel||0,o=e.mergeLevel||0;return r-o}},{id:"merge-desc",label:"Quality (High to Low)",compareFn:(t,e)=>{const r=t.mergeLevel||0;return(e.mergeLevel||0)-r}},{id:"power-asc",label:"Power (Low to High)",compareFn:(t,e)=>Lo(t)-Lo(e)},{id:"power-desc",label:"Power (High to Low)",compareFn:(t,e)=>Lo(e)-Lo(t)},{id:"name-asc",label:"Name (A to Z)",compareFn:(t,e)=>t.name.localeCompare(e.name)},{id:"name-desc",label:"Name (Z to A)",compareFn:(t,e)=>e.name.localeCompare(t.name)},{id:"quantity-asc",label:"Quantity (Low to High)",compareFn:(t,e)=>{var n,a;const r=((n=t.quantity)==null?void 0:n.toNumber())||1,o=((a=e.quantity)==null?void 0:a.toNumber())||1;return r-o}},{id:"quantity-desc",label:"Quantity (High to Low)",compareFn:(t,e)=>{var n,a;const r=((n=t.quantity)==null?void 0:n.toNumber())||1;return(((a=e.quantity)==null?void 0:a.toNumber())||1)-r}}],zk=()=>{kt();const t=Vk,e=H(t[0].id),r=B(()=>{const a=t.find(l=>l.id===e.value);return a?a.compareFn:(console.warn(`Sort option "${e.value}" not found, using default.`),t[0].compareFn)});return{sortOptions:t,selectedSort:e,getCurrentSortFunction:r,sortItems:a=>{const l=r.value;return[...a].sort(l)},resetSort:()=>{e.value=t[0].id}}},Kk={class:"relative w-full"},Yk=["value"],Jk=["value"],ia=we({__name:"InventorySortDropdown",props:{selectedSort:{},sortOptions:{}},emits:["update:selectedSort"],setup(t,{emit:e}){const r=e,o=n=>{const a=n.target;r("update:selectedSort",a.value)};return(n,a)=>(v(),w("div",Kk,[s("select",{class:"w-full bg-amber-50 dark:bg-amber-800 text-amber-900 dark:text-amber-100 rounded-lg px-3 py-1.5 text-sm appearance-none pr-8 border border-amber-300 dark:border-amber-700",value:n.selectedSort,onChange:o},[(v(!0),w(ye,null,Ie(n.sortOptions,l=>(v(),w("option",{key:l.id,value:l.id},E(l.label),9,Jk))),128))],40,Yk),a[0]||(a[0]=s("div",{class:"absolute right-2 top-1/2 transform -translate-y-1/2 pointer-events-none"},[s("span",{class:"i-heroicons-chevron-down text-amber-700 dark:text-amber-300"})],-1))]))}}),Xk={class:"bg-gradient-to-br from-amber-100 to-amber-50 dark:from-amber-900/40 dark:to-amber-800/30 rounded-xl p-3 shadow-md"},Zk={class:"sm:hidden"},ew={class:"flex justify-between items-center mb-3"},tw={class:"flex items-center"},rw={class:"flex items-center bg-amber-100 dark:bg-amber-900/30 px-3 py-1 rounded-lg relative group cursor-help mr-2"},ow={class:"text-sm font-medium text-amber-800 dark:text-amber-300"},nw={class:"text-xs text-amber-700 dark:text-amber-400"},sw={class:"font-medium"},iw={key:0,class:"bg-amber-50 dark:bg-amber-800/50 rounded-lg p-3 mb-3 animate-fadeIn"},aw={class:"flex flex-col space-y-2"},lw={key:0,class:"ml-1 w-2 h-2 bg-yellow-400 rounded-full"},uw={key:0,class:"ml-1 w-2 h-2 bg-green-400 rounded-full"},cw={class:"w-full"},dw={class:"hidden sm:block"},mw={class:"flex justify-between items-center mb-3"},fw={class:"flex items-center justify-between flex-1"},pw={class:"flex items-center bg-amber-100 dark:bg-amber-900/30 px-3 py-1 rounded-lg relative group cursor-help mr-4"},gw={class:"text-sm font-medium text-amber-800 dark:text-amber-300"},hw={class:"text-sm text-amber-700 dark:text-amber-400 mr-4"},vw={class:"font-medium"},bw={class:"flex flex-end items-center gap-1"},xw={class:"relative"},yw={key:0,class:"ml-1 w-2 h-2 bg-yellow-400 rounded-full"},kw={key:0,class:"absolute top-full left-0 mt-1 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-amber-200 dark:border-amber-800 animate-fadeIn z-10"},ww={class:"p-2"},_w={key:0,class:"w-2 h-2 bg-yellow-400 rounded-full"},Sw={key:0,class:"w-2 h-2 bg-green-400 rounded-full"},$w={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2"},Ew=["onClick"],Cw={class:"flex-1 flex flex-col items-center justify-center p-2 text-center"},Mw={class:"absolute top-0 left-0 right-0 flex justify-between p-1"},Aw={key:0,class:"bg-amber-200/90 dark:bg-amber-900/90 text-amber-900 dark:text-amber-200 rounded-md px-1.5 py-0.5 text-xs font-medium"},Iw={key:1,class:"bg-blue-200/90 dark:bg-blue-900/90 text-blue-900 dark:text-blue-200 rounded-md px-1.5 py-0.5 text-xs font-medium"},Pw={key:0,class:"absolute bottom-0 left-0 right-0 bg-green-600/90 dark:bg-green-500/90 py-0.5 text-xs text-white text-center"},aa=we({__name:"InventorySection",props:{onItemClick:{type:Function},isItemEquipped:{type:Function}},setup(t){const e=Ze(),r=kt(),o=H(!1),n=H(!1),a=H(!1),l=H(!1),{sortOptions:u,selectedSort:c,sortItems:m}=zk();c.value=e.selectedInventorySort,Ee(c,b=>{e.selectedInventorySort=b});const d=B(()=>m(e.inventory)),f=B(()=>{var b;return((b=e.findMergeableItems())==null?void 0:b.length)>0}),p=b=>r.getFormattedItemName(b),g=()=>{e.isAutoMergeUnlocked&&e.toggleAutoMerge()};return(b,x)=>(v(),w("section",Xk,[s("div",Zk,[s("div",ew,[s("div",tw,[s("div",rw,[x[10]||(x[10]=s("span",{class:"i-heroicons-beaker text-amber-600 dark:text-amber-400 mr-1"},null,-1)),s("span",ow,E(I(e).formattedPheromoneEssence),1),x[11]||(x[11]=s("span",{class:"i-heroicons-information-circle text-amber-600 dark:text-amber-400 ml-1 text-sm"},null,-1)),x[12]||(x[12]=s("div",{class:"absolute bottom-full left-0 mb-2 w-48 p-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg text-xs text-gray-700 dark:text-gray-300 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 border border-amber-200 dark:border-amber-800"},[s("p",{class:"font-medium text-amber-700 dark:text-amber-400 mb-1"},"Work in Progress"),s("p",null,"Pheromone Essence will be used to craft and upgrade items in a future update.")],-1))]),s("div",nw,[s("span",sw,E(I(e).inventory.length)+"/"+E(I(e).maxInventorySlots.toNumber()),1)])]),s("button",{onClick:x[0]||(x[0]=U=>a.value=!a.value),class:"px-3 py-1 bg-amber-600 hover:bg-amber-700 rounded-lg text-sm text-white flex items-center"},x[13]||(x[13]=[s("span",{class:"i-heroicons-ellipsis-horizontal text-white mr-1"},null,-1),G(" Actions ")]))]),a.value?(v(),w("div",iw,[s("div",aw,[s("button",{onClick:x[1]||(x[1]=U=>{n.value=!0,a.value=!1}),class:"px-3 py-2 bg-amber-600 hover:bg-amber-700 rounded-lg text-sm text-white flex items-center justify-between"},[x[14]||(x[14]=s("div",{class:"flex items-center"},[s("span",{class:"i-heroicons-arrow-path text-white mr-1"}),G(" Merge Items ")],-1)),f.value?(v(),w("span",lw)):z("",!0)]),I(e).isAutoMergeUnlocked?(v(),w("button",{key:0,onClick:g,class:ne(["px-3 py-2 rounded-lg text-sm flex items-center justify-between",I(e).isAutoMergeEnabled?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"])},[x[15]||(x[15]=s("div",{class:"flex items-center"},[s("span",{class:"i-heroicons-arrow-path text-white mr-1"}),G(" Auto Merge ")],-1)),I(e).isAutoMergeEnabled?(v(),w("span",uw)):z("",!0)],2)):z("",!0),s("div",cw,[ve(ia,{selectedSort:I(c),sortOptions:I(u),"onUpdate:selectedSort":x[2]||(x[2]=U=>c.value=U)},null,8,["selectedSort","sortOptions"])]),s("button",{onClick:x[3]||(x[3]=U=>{o.value=!0,a.value=!1}),class:"px-3 py-2 bg-amber-600 hover:bg-amber-700 rounded-lg text-sm text-white flex items-center justify-between"},x[16]||(x[16]=[s("div",{class:"flex items-center"},[s("span",{class:"i-heroicons-funnel text-white mr-1"}),G(" Filter Items ")],-1)]))])])):z("",!0)]),s("div",dw,[s("div",mw,[s("div",fw,[s("div",pw,[x[17]||(x[17]=s("span",{class:"i-heroicons-beaker text-amber-600 dark:text-amber-400 mr-1"},null,-1)),s("span",gw,E(I(e).formattedPheromoneEssence)+" Essence ",1),x[18]||(x[18]=s("span",{class:"i-heroicons-information-circle text-amber-600 dark:text-amber-400 ml-1 text-sm"},null,-1)),x[19]||(x[19]=s("div",{class:"absolute bottom-full left-0 mb-2 w-48 p-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg text-xs text-gray-700 dark:text-gray-300 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10 border border-amber-200 dark:border-amber-800"},[s("p",{class:"font-medium text-amber-700 dark:text-amber-400 mb-1"},"Work in Progress"),s("p",null,"Pheromone Essence will be used to craft and upgrade items in a future update.")],-1))]),s("div",hw,[s("span",vw,E(I(e).inventory.length)+"/"+E(I(e).maxInventorySlots.toNumber()),1),x[20]||(x[20]=G(" slots used "))]),s("div",bw,[s("div",xw,[s("button",{onClick:x[4]||(x[4]=U=>l.value=!l.value),class:"px-3 py-1 bg-amber-600 hover:bg-amber-700 rounded-lg text-sm text-white flex items-center"},[x[21]||(x[21]=s("span",{class:"i-heroicons-bars-3 text-white mr-1"},null,-1)),x[22]||(x[22]=G(" Actions ")),f.value?(v(),w("span",yw)):z("",!0),x[23]||(x[23]=s("span",{class:"i-heroicons-chevron-down text-white ml-1"},null,-1))]),l.value?(v(),w("div",kw,[s("div",ww,[s("button",{onClick:x[5]||(x[5]=U=>{n.value=!0,l.value=!1}),class:"w-full px-3 py-2 hover:bg-amber-100 dark:hover:bg-amber-900/30 rounded-lg text-left text-sm text-amber-800 dark:text-amber-300 flex items-center justify-between"},[x[24]||(x[24]=s("div",{class:"flex items-center"},[s("span",{class:"i-heroicons-arrow-path text-amber-600 dark:text-amber-400 mr-2"}),G(" Merge Items ")],-1)),f.value?(v(),w("span",_w)):z("",!0)]),I(e).isAutoMergeUnlocked?(v(),w("button",{key:0,onClick:x[6]||(x[6]=U=>{l.value=!1}),class:"w-full px-3 py-2 hover:bg-amber-100 dark:hover:bg-amber-900/30 rounded-lg text-left text-sm text-amber-800 dark:text-amber-300 flex items-center justify-between"},[x[25]||(x[25]=s("div",{class:"flex items-center"},[s("span",{class:"i-heroicons-arrow-path text-amber-600 dark:text-amber-400 mr-2"}),G(" Auto Merge ")],-1)),I(e).isAutoMergeEnabled?(v(),w("span",Sw)):z("",!0)])):z("",!0),s("button",{onClick:x[7]||(x[7]=U=>{o.value=!0,l.value=!1}),class:"w-full px-3 py-2 hover:bg-amber-100 dark:hover:bg-amber-900/30 rounded-lg text-left text-sm text-amber-800 dark:text-amber-300 flex items-center"},x[26]||(x[26]=[s("span",{class:"i-heroicons-funnel text-amber-600 dark:text-amber-400 mr-2"},null,-1),G(" Filter Items ")]))])])):z("",!0)]),s("div",null,[ve(ia,{selectedSort:I(c),sortOptions:I(u),"onUpdate:selectedSort":x[8]||(x[8]=U=>c.value=U)},null,8,["selectedSort","sortOptions"])])])])])]),s("div",$w,[(v(!0),w(ye,null,Ie(d.value,(U,O)=>(v(),w("div",{key:O,class:ne(["relative aspect-square rounded-lg border-2 border-amber-700 overflow-hidden cursor-pointer hover:border-amber-500 flex flex-col",I(r).getRarityBackground(U.rarity)]),onClick:F=>b.onItemClick(U)},[s("div",Cw,[s("div",{class:ne(["text-base font-bold line-clamp-2 mt-4",I(r).getRarityColor(U.rarity)])},E(p(U)),3)]),s("div",Mw,[U.quantity?(v(),w("div",Aw," x"+E(U.quantity),1)):z("",!0),U.mergeLevel&&U.mergeLevel>0?(v(),w("div",Iw," +"+E(U.mergeLevel),1)):z("",!0)]),b.isItemEquipped(U.id,U.mergeLevel)?(v(),w("div",Pw," Equipped ")):z("",!0)],10,Ew))),128)),(v(!0),w(ye,null,Ie(I(e).maxInventorySlots.toNumber()-I(e).inventory.length,U=>(v(),w("div",{key:`empty-${U}`,class:"relative aspect-square rounded-lg border-2 border-amber-700 overflow-hidden"},x[27]||(x[27]=[s("div",{class:"absolute inset-0 flex items-center justify-center text-amber-600"},[s("div",{class:"i-heroicons-plus text-2xl"})],-1)])))),128))]),ve($k,{"is-open":o.value,onClose:x[9]||(x[9]=U=>o.value=!1)},null,8,["is-open"]),ve(Wk,{"is-open":n.value,"on-close":()=>n.value=!1},null,8,["is-open","on-close"])]))}}),Tw={class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm overflow-hidden"},Lw={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full mx-auto border border-purple-200 dark:border-purple-700"},qw={class:"p-5"},Fw={class:"flex justify-between items-start mb-4"},Nw={key:0,class:"mt-1"},Rw={key:2,class:"p-3 mb-4 rounded-lg bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"},Uw={class:"space-y-4"},Bw={class:"text-sm text-gray-600 dark:text-gray-400"},Ow={key:0,class:"space-y-2"},Dw={class:"grid grid-cols-2 gap-2"},Hw={key:0,class:"text-sm text-red-600 dark:text-red-400"},jw={key:1,class:"text-sm text-green-600 dark:text-green-400"},Qw={key:2,class:"text-sm text-blue-600 dark:text-blue-400"},Gw={key:3,class:"text-sm text-purple-600 dark:text-purple-400"},Ww={key:1,class:"space-y-2"},Vw={class:"grid grid-cols-1 gap-1"},zw={key:2,class:"space-y-2"},Kw={class:"grid grid-cols-1 gap-1"},Yw={key:3,class:"space-y-2"},Jw={class:"text-sm text-gray-600 dark:text-gray-400"},Xw={key:0,class:"mt-2 p-2 rounded-lg bg-blue-50 dark:bg-blue-900/20"},Zw={key:0,class:"text-blue-700 dark:text-blue-400"},e_={key:1,class:"text-amber-700 dark:text-amber-400"},t_={key:1,class:"mt-2 p-2 rounded-lg bg-yellow-50 dark:bg-yellow-900/20"},r_={class:"space-y-2"},o_={class:"text-sm text-gray-600 dark:text-gray-400"},n_={class:"mt-2 p-2 rounded-lg bg-amber-50 dark:bg-amber-900/20"},s_={class:"text-amber-700 dark:text-amber-400 flex items-center"},i_={class:"font-semibold"},a_={class:"mt-6"},l_={key:0,class:"flex flex-col gap-3"},u_={class:"flex gap-3"},c_=["disabled"],d_={key:0,class:"flex flex-col gap-3"},m_={class:"flex items-center mb-1"},f_={class:"flex gap-3"},p_=["disabled"],g_={key:0,class:"i-heroicons-arrow-path animate-spin mr-2"},h_={key:1,class:"i-heroicons-arrow-path mr-2"},v_=["disabled"],b_={key:0,class:"i-heroicons-arrow-path animate-spin mr-2"},x_={key:1,class:"i-heroicons-sparkles mr-2"},y_={key:1,class:"flex flex-col gap-3"},k_={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},w_={key:0,class:"block mt-1 text-amber-600 dark:text-amber-400"},__={class:"flex gap-3"},S_=["disabled"],$_={key:0,class:"i-heroicons-arrow-path animate-spin mr-2"},E_={key:2,class:"flex flex-col gap-3"},C_={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},M_={class:"flex gap-3"},A_=["disabled"],I_={key:0,class:"i-heroicons-arrow-path animate-spin mr-2"},P_=we({__name:"ItemModal",props:{item:{},isItemEquipped:{type:Function},onEquipAction:{type:Function},onClose:{type:Function}},setup(t){const e=t,r=kt(),o=Ze(),n=H(!1),a=H(!1),l=H(null),u=H(null),c=H(!1),m=H(!1),d=H(!0),f=()=>{e.onEquipAction(e.item)},p=()=>{n.value=!0},g=async()=>{m.value=!0,u.value=null;const P=o.inventory.findIndex(h=>h.id===e.item.id&&(h.mergeLevel||0)===(e.item.mergeLevel||0));if(P!==-1){const h=o.salvageItem(P);u.value=h,h.success&&(await new Promise(_=>setTimeout(_,1500)),e.onClose())}else u.value={success:!1,message:"Item not found in inventory"};n.value=!1,m.value=!1},b=()=>{n.value=!1},x=B(()=>r.getFormattedItemName(e.item)),U=B(()=>(e.item.mergeLevel||0)>=o.MAX_MERGE_LEVEL),O=B(()=>{const P=e.item.mergeLevel||0;return P===0?"":P>=o.MAX_MERGE_LEVEL?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":P>=3?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"}),F=B(()=>{var W;if(U.value)return!1;const P=((W=e.item.quantity)==null?void 0:W.toNumber())||1,h=e.item.mergeLevel||0,_=o.getItemsRequiredForMerge(h);return P>=_}),L=B(()=>{const P=e.item.mergeLevel||0;return o.getItemsRequiredForMerge(P)}),A=B(()=>o.calculateSalvageValue(e.item)),M=()=>{a.value=!0},S=async()=>{c.value=!0,l.value=null;const P=o.inventory.findIndex(h=>h.id===e.item.id&&(h.mergeLevel||0)===(e.item.mergeLevel||0));if(P!==-1){const h=o.mergeItems([P]);l.value=h,h.success&&h.item&&(await new Promise(_=>setTimeout(_,1e3)),e.onClose())}else l.value={success:!1,message:"Item not found in inventory"};a.value=!1,c.value=!1},$=()=>{a.value=!1},y=async()=>{var P,h;c.value=!0,l.value=null;try{let _=0,W=0,R=!0,pe=null,Z;for(;R;){const Ce=o.inventory.findIndex(ee=>ee.id===e.item.id&&(ee.mergeLevel||0)===(e.item.mergeLevel||0));if(Ce===-1){R=!1;continue}const de=o.inventory[Ce],ae=((P=de.quantity)==null?void 0:P.toNumber())||1,se=o.getItemsRequiredForMerge(de.mergeLevel||0);if(ae<se){R=!1;continue}const Q=o.mergeItems([Ce]);if(pe=Q,!Q.success){R=!1;continue}Q.item&&(Z=Q.item),_++}if(d.value&&Z&&_>0){let Ce=!0,de=Z;for(;Ce;){const ae=o.inventory.findIndex(D=>D.id===de.id&&(D.mergeLevel||0)===(de.mergeLevel||0));if(ae===-1){Ce=!1;continue}const se=o.inventory[ae],Q=((h=se.quantity)==null?void 0:h.toNumber())||1,ee=o.getItemsRequiredForMerge(se.mergeLevel||0);if(Q<ee){Ce=!1;continue}const oe=o.mergeItems([ae]);if(!oe.success||!oe.item){Ce=!1;continue}de=oe.item,W++}}if(_+W>0){let Ce=`Successfully performed ${_} merge operations!`;W>0&&(Ce+=` And continued to merge ${W} more times to higher levels.`),l.value={success:!0,message:Ce,item:pe==null?void 0:pe.item},await new Promise(de=>setTimeout(de,1e3)),e.onClose()}else l.value={success:!1,message:"No more items can be merged."}}catch(_){l.value={success:!1,message:`Error performing merge: ${_}`}}finally{c.value=!1}},k=B(()=>be.fromNumber(o.inventory.length).gte(o.maxInventorySlots)),N=B(()=>e.isItemEquipped(e.item.id,e.item.mergeLevel)&&k.value);return(P,h)=>(v(),w("div",Tw,[s("div",Lw,[s("div",qw,[s("div",Fw,[s("div",null,[s("h3",{class:ne(["text-lg font-bold",I(r).getRarityColor(P.item.rarity)])},E(x.value),3),P.item.mergeLevel?(v(),w("div",Nw,[s("span",{class:ne(["text-xs px-2 py-1 rounded-full",O.value])},E(U.value?"MAX LEVEL":`Merge Level ${P.item.mergeLevel}/${I(o).MAX_MERGE_LEVEL}`),3)])):z("",!0)]),s("button",{onClick:h[0]||(h[0]=(..._)=>P.onClose&&P.onClose(..._)),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors"},h[2]||(h[2]=[s("span",{class:"i-heroicons-x-mark text-xl"},null,-1)]))]),l.value?(v(),w("div",{key:0,class:ne(["p-3 mb-4 rounded-lg text-sm",l.value.success?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"])},E(l.value.message),3)):z("",!0),u.value?(v(),w("div",{key:1,class:ne(["p-3 mb-4 rounded-lg text-sm",u.value.success?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"])},E(u.value.message),3)):z("",!0),N.value?(v(),w("div",Rw,h[3]||(h[3]=[s("div",{class:"flex items-start"},[s("span",{class:"i-heroicons-exclamation-triangle mr-2 mt-0.5"}),s("div",null,[s("p",{class:"font-medium"},"Warning: Inventory Full"),s("p",{class:"text-xs mt-1"},"You cannot unequip this item because your inventory is full. Free up space first. ")])],-1)]))):z("",!0),s("div",Uw,[s("p",Bw,E(P.item.description),1),P.item.stats?(v(),w("div",Ow,[h[4]||(h[4]=s("h4",{class:"font-semibold text-sm text-gray-700 dark:text-gray-300"},"Stats:",-1)),s("div",Dw,[P.item.stats.damage?(v(),w("div",Hw," Damage: +"+E(P.item.stats.damage),1)):z("",!0),P.item.stats.health?(v(),w("div",jw," Health: +"+E(P.item.stats.health),1)):z("",!0),P.item.stats.defense?(v(),w("div",Qw," Defense: +"+E(P.item.stats.defense),1)):z("",!0),P.item.stats.regen?(v(),w("div",Gw," Regen: +"+E(P.item.stats.regen),1)):z("",!0)])])):z("",!0),P.item.productionModifiers?(v(),w("div",Ww,[h[5]||(h[5]=s("h4",{class:"font-semibold text-sm text-gray-700 dark:text-gray-300"},"Production Modifiers:",-1)),s("div",Vw,[(v(!0),w(ye,null,Ie(Object.entries(P.item.productionModifiers),([_,W])=>(v(),w("div",{key:_,class:"text-sm text-amber-600 dark:text-amber-400"},E(_.charAt(0).toUpperCase()+_.slice(1))+": "+E(W.minus(1).mul(100).toFixed(0))+"% increase ",1))),128))])])):z("",!0),P.item.specialModifiers?(v(),w("div",zw,[h[6]||(h[6]=s("h4",{class:"font-semibold text-sm text-gray-700 dark:text-gray-300"},"Special Modifiers:",-1)),s("div",Kw,[(v(!0),w(ye,null,Ie(Object.entries(P.item.specialModifiers),([_,W])=>(v(),w("div",{key:_,class:"text-sm text-indigo-600 dark:text-indigo-400"},E(_==="epBoost"?"EP Gain":_)+": "+E(W.minus(1).mul(100).toFixed(0))+"% increase ",1))),128))])])):z("",!0),P.item.mergeLevel!==void 0?(v(),w("div",Yw,[h[12]||(h[12]=s("h4",{class:"font-semibold text-sm text-gray-700 dark:text-gray-300"},"Merge Information:",-1)),s("div",Jw,[h[10]||(h[10]=s("p",null,"Each merge level provides:",-1)),h[11]||(h[11]=s("ul",{class:"list-disc pl-5 mt-1"},[s("li",null,"+20% to all stats"),s("li",null,"+15% to all production and special modifiers")],-1)),U.value?(v(),w("div",t_,h[9]||(h[9]=[s("p",{class:"text-yellow-700 dark:text-yellow-400"},[s("span",{class:"i-heroicons-trophy mr-1"}),G(" This item is at maximum merge level ")],-1)]))):(v(),w("div",Xw,[F.value?(v(),w("p",Zw,[h[7]||(h[7]=s("span",{class:"i-heroicons-check-circle mr-1"},null,-1)),G(" You have enough items to merge ("+E(P.item.quantity)+" / "+E(L.value)+" needed) ",1)])):(v(),w("p",e_,[h[8]||(h[8]=s("span",{class:"i-heroicons-exclamation-triangle mr-1"},null,-1)),G(" Need "+E(L.value)+" items to merge (have "+E(P.item.quantity||1)+") ",1)]))]))])])):z("",!0),s("div",r_,[h[17]||(h[17]=s("h4",{class:"font-semibold text-sm text-gray-700 dark:text-gray-300"},"Salvage Information:",-1)),s("div",o_,[h[16]||(h[16]=s("p",null,"Salvaging this item will yield:",-1)),s("div",n_,[s("p",s_,[h[13]||(h[13]=s("span",{class:"i-heroicons-beaker mr-1"},null,-1)),s("span",i_,E(A.value),1),h[14]||(h[14]=s("span",{class:"ml-1"},"Pheromone Essence",-1))]),h[15]||(h[15]=s("p",{class:"text-xs mt-1 text-gray-500 dark:text-gray-400"}," Higher rarity and merge level items yield more essence ",-1))])])])]),s("div",a_,[!n.value&&!a.value?(v(),w("div",l_,[s("div",u_,[s("button",{onClick:f,class:ne(["flex-1 px-4 py-2 text-white rounded-lg text-sm font-medium transition-colors",[P.isItemEquipped(P.item.id,P.item.mergeLevel)&&!N.value?"bg-purple-600 hover:bg-purple-700":P.isItemEquipped(P.item.id,P.item.mergeLevel)&&N.value?"bg-gray-400 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700"]]),disabled:N.value},E(P.isItemEquipped(P.item.id,P.item.mergeLevel)?"Unequip":"Equip"),11,c_),s("button",{onClick:p,class:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-lg text-sm font-medium transition-colors flex items-center"},h[18]||(h[18]=[s("span",{class:"i-heroicons-beaker mr-1"},null,-1),G(" Salvage ")]))]),U.value?z("",!0):(v(),w("div",d_,[s("div",m_,[Be(s("input",{type:"checkbox",id:"continue-merging","onUpdate:modelValue":h[1]||(h[1]=_=>d.value=_),class:"w-4 h-4 text-indigo-600 rounded border-gray-300 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600"},null,512),[[dt,d.value]]),h[19]||(h[19]=s("label",{for:"continue-merging",class:"ml-2 text-xs text-gray-700 dark:text-gray-300"},"Continue merging to higher levels when possible",-1))]),s("div",f_,[s("button",{onClick:M,disabled:!F.value||c.value,class:ne(["flex-1 px-4 py-2 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center",F.value&&!c.value?"bg-indigo-600 hover:bg-indigo-700":"bg-gray-400 cursor-not-allowed"])},[c.value?(v(),w("span",g_)):(v(),w("span",h_)),h[20]||(h[20]=G(" Merge Item "))],10,p_),s("button",{onClick:y,disabled:!F.value||c.value,class:ne(["flex-1 px-4 py-2 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center",F.value&&!c.value?"bg-green-600 hover:bg-green-700":"bg-gray-400 cursor-not-allowed"])},[c.value?(v(),w("span",b_)):(v(),w("span",x_)),h[21]||(h[21]=G(" Merge All "))],10,v_)])]))])):z("",!0),n.value?(v(),w("div",y_,[s("p",k_,[G(" Salvage "+E(P.item.name)+" for "+E(A.value)+" Pheromone Essence? ",1),P.item.quantity&&P.item.quantity.gt(1)?(v(),w("span",w_," This will salvage all "+E(P.item.quantity)+" items. ",1)):z("",!0)]),s("div",__,[s("button",{onClick:b,class:"flex-1 px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors"}," Cancel "),s("button",{onClick:g,disabled:m.value,class:ne(["flex-1 px-4 py-2 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center",m.value?"bg-amber-400":"bg-amber-600 hover:bg-amber-700"])},[m.value?(v(),w("span",$_)):z("",!0),h[22]||(h[22]=G(" Confirm Salvage "))],10,S_)])])):z("",!0),a.value?(v(),w("div",E_,[s("p",C_," Merge "+E(L.value)+"x "+E(P.item.name)+" to create a +"+E((P.item.mergeLevel||0)+1)+" version? ",1),s("div",M_,[s("button",{onClick:$,class:"flex-1 px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors"}," Cancel "),s("button",{onClick:S,disabled:c.value,class:ne(["flex-1 px-4 py-2 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center",c.value?"bg-indigo-400":"bg-indigo-600 hover:bg-indigo-700"])},[c.value?(v(),w("span",I_)):z("",!0),h[23]||(h[23]=G(" Confirm Merge "))],10,A_)])])):z("",!0)])])])]))}}),T_={class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm"},L_={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-5 mx-auto border border-purple-200 dark:border-purple-700"},q_={class:"space-y-3"},F_={class:"bg-purple-50 dark:bg-purple-900/30 p-3 rounded-lg border border-purple-200 dark:border-purple-700"},N_={class:"text-sm font-bold text-purple-600 dark:text-purple-500"},R_={class:"flex justify-end mt-4"},U_=we({__name:"LockedSlotModal",props:{onClose:{type:Function}},setup(t){const e=Ze();return(r,o)=>(v(),w("div",T_,[s("div",L_,[o[4]||(o[4]=s("h3",{class:"text-base font-bold mb-3 flex items-center text-purple-800 dark:text-purple-300 pb-2 border-b border-purple-200 dark:border-purple-700"},[s("span",{class:"i-heroicons-lock-closed text-purple-600 dark:text-purple-400 mr-2"}),G(" Locked Equipment Slot ")],-1)),s("div",q_,[o[2]||(o[2]=s("div",{class:"text-sm text-gray-700 dark:text-gray-300"},' This equipment slot is currently locked. You can unlock additional equipment slots through the prestige upgrade "Equipment Mastery". ',-1)),s("div",F_,[o[1]||(o[1]=s("div",{class:"text-xs text-purple-700 dark:text-purple-400 font-medium mb-1"},"Current Progress",-1)),s("div",N_,E(I(e).unlockedEquipmentSlots)+"/"+E(I(e).maxEquipmentSlots)+" slots unlocked ",1)]),o[3]||(o[3]=s("div",{class:"text-xs text-gray-500 dark:text-gray-400"}," Tip: Each level of Equipment Mastery unlocks one additional slot, up to a maximum of 10 bonus slots. ",-1))]),s("div",R_,[s("button",{onClick:o[0]||(o[0]=(...n)=>r.onClose&&r.onClose(...n)),class:"py-2 px-4 bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-800 rounded-lg text-white text-sm font-medium transition-colors"}," Close ")])])]))}}),B_={class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm"},O_={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-5 mx-auto border border-purple-200 dark:border-purple-700"},D_={class:"space-y-4"},H_={class:"text-sm text-gray-700 dark:text-gray-300"},j_={class:"font-medium text-purple-600 dark:text-purple-400"},Q_={key:0,class:"p-3 bg-red-100 dark:bg-red-900/30 rounded-lg border border-red-200 dark:border-red-800"},G_={class:"grid grid-cols-2 gap-2"},W_=["onClick"],V_={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},z_={class:"text-xs text-gray-500 dark:text-gray-400"},K_={key:0,class:"absolute top-1 right-1 bg-blue-200/90 dark:bg-blue-900/90 text-blue-900 dark:text-blue-200 rounded-md px-1.5 py-0.5 text-xs font-medium"},Y_={class:"flex justify-end space-x-3 mt-4"},J_=we({__name:"SlotSelectionModal",props:{item:{},onClose:{type:Function},onSlotSelect:{type:Function}},setup(t){const e=t,r=Ze(),o=kt(),n=B(()=>be.fromNumber(r.inventory.length).gte(r.maxInventorySlots)),a=c=>o.getItem(c),l=(c,m=0)=>{const d=a(c);return d?m>0?`${d.name} +${m}`:d.name:""},u=r.equipmentSlots.filter(c=>!c.locked);return(c,m)=>(v(),w("div",B_,[s("div",O_,[m[5]||(m[5]=s("h3",{class:"text-base font-bold mb-3 flex items-center text-purple-800 dark:text-purple-300 pb-2 border-b border-purple-200 dark:border-purple-700"},[s("span",{class:"i-heroicons-squares-2x2 text-purple-600 dark:text-purple-400 mr-2"}),G(" Select Slot to Replace ")],-1)),s("div",D_,[s("div",H_,[m[1]||(m[1]=G(" All equipment slots are occupied. Select which item you want to replace with ")),s("span",j_,E(e.item.name),1),m[2]||(m[2]=G(". "))]),n.value?(v(),w("div",Q_,m[3]||(m[3]=[yo('<div class="flex items-start"><span class="i-heroicons-exclamation-triangle text-red-600 dark:text-red-400 mr-2 mt-0.5"></span><div class="flex-1"><p class="text-sm font-medium text-red-800 dark:text-red-400">Inventory Full Warning</p><p class="text-xs text-red-700 dark:text-red-300 mt-1"> Your inventory is full! If you replace an equipped item, it may be discarded as there&#39;s no space to store it. Consider freeing up space first. </p></div></div>',1)]))):z("",!0),s("div",G_,[(v(!0),w(ye,null,Ie(I(u),(d,f)=>{var p;return v(),w("button",{key:f,onClick:g=>c.onSlotSelect(I(r).equipmentSlots.indexOf(d)),class:ne(["relative p-3 rounded-lg border-2 border-gray-200 dark:border-gray-700 hover:border-purple-500 dark:hover:border-purple-400 transition-colors text-left",{"border-red-300 dark:border-red-700":n.value}])},[s("div",V_,E(l(d.item,d.mergeLevel||0)),1),s("div",z_,E((p=a(d.item))==null?void 0:p.type),1),d.mergeLevel&&d.mergeLevel>0?(v(),w("div",K_," +"+E(d.mergeLevel),1)):z("",!0),m[4]||(m[4]=s("div",{class:"text-[10px] text-gray-400 dark:text-gray-500 mt-1"}," Click to replace ",-1))],10,W_)}),128))]),s("div",Y_,[s("button",{onClick:m[0]||(m[0]=(...d)=>c.onClose&&c.onClose(...d)),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 text-sm font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"}," Cancel ")])])])]))}}),X_={class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm"},Z_={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-5 mx-auto border border-purple-200 dark:border-purple-700"},e2={class:"space-y-4"},t2={class:"grid grid-cols-2 gap-2 max-h-[60vh] overflow-y-auto p-1"},r2=["onClick"],o2={class:"text-xs text-gray-500 dark:text-gray-400"},n2={class:"absolute top-1 right-1 flex space-x-1"},s2={key:0,class:"bg-purple-200/90 dark:bg-purple-900/90 text-purple-900 dark:text-purple-200 rounded-md px-1.5 py-0.5 text-xs font-medium"},i2={key:1,class:"bg-blue-200/90 dark:bg-blue-900/90 text-blue-900 dark:text-blue-200 rounded-md px-1.5 py-0.5 text-xs font-medium"},a2={class:"flex justify-end space-x-3 mt-4"},l2=we({__name:"ItemSelectionModal",props:{onClose:{type:Function},onItemSelect:{type:Function}},setup(t){const e=Ze(),r=kt(),o=e.inventory.filter(a=>a.type==="equipment"),n=a=>r.getFormattedItemName(a);return(a,l)=>(v(),w("div",X_,[s("div",Z_,[l[2]||(l[2]=s("h3",{class:"text-base font-bold mb-3 flex items-center text-purple-800 dark:text-purple-300 pb-2 border-b border-purple-200 dark:border-purple-700"},[s("span",{class:"i-heroicons-squares-2x2 text-purple-600 dark:text-purple-400 mr-2"}),G(" Select Item to Equip ")],-1)),s("div",e2,[l[1]||(l[1]=s("div",{class:"text-sm text-gray-700 dark:text-gray-300"}," Select an item from your inventory to equip in this slot. ",-1)),s("div",t2,[(v(!0),w(ye,null,Ie(I(o),u=>(v(),w("button",{key:u.id,onClick:c=>a.onItemSelect(u),class:ne(["relative p-3 rounded-lg border-2 border-gray-200 dark:border-gray-700 hover:border-purple-500 dark:hover:border-purple-400 transition-colors text-left",I(r).getRarityBackground(u.rarity)])},[s("div",{class:ne(["text-sm font-medium",I(r).getRarityColor(u.rarity)])},E(n(u)),3),s("div",o2,E(u.type),1),s("div",n2,[u.quantity&&u.quantity.gt(1)?(v(),w("div",s2," x"+E(u.quantity),1)):z("",!0),u.mergeLevel&&u.mergeLevel>0?(v(),w("div",i2," +"+E(u.mergeLevel),1)):z("",!0)])],10,r2))),128))]),s("div",a2,[s("button",{onClick:l[0]||(l[0]=(...u)=>a.onClose&&a.onClose(...u)),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 text-sm font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"}," Cancel ")])])])]))}}),u2={class:"space-y-4"},c2={class:"md:hidden bg-white dark:bg-gray-800 rounded-xl shadow-md border border-amber-200 dark:border-amber-700"},d2={class:"sticky top-[-20px] z-20 bg-white dark:bg-gray-800"},m2={class:"p-4"},f2={class:"hidden md:grid md:grid-cols-2 md:gap-4"},p2={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md border border-amber-200 dark:border-amber-700"},g2={class:"p-4"},h2={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md border border-amber-200 dark:border-amber-700"},v2={class:"p-4"},b2=we({__name:"InventoryPage",setup(t){const e=Ze(),r=kt(),{showToast:o}=Nr(),n=H(null),a=H(!1),l=H(!1),u=H(!1),c=H(null),m=H("equipment"),d=F=>{n.value=F},f=()=>{n.value=null},p=(F,L)=>{if(F.locked){a.value=!0;return}if(F.item){const A=r.getItem(F.item);if(A){const M={...A,mergeLevel:F.mergeLevel||0};d(M)}}else c.value=L,u.value=!0},g=F=>{d(F)},b=F=>{if(O(F.id,F.mergeLevel)){const L=e.equipmentSlots.findIndex(A=>A.item===F.id&&A.mergeLevel===(F.mergeLevel||0));if(L!==-1&&!e.unequipItem(L)){o("Inventory is full! Free up space to unequip items.","error",5e3);return}}else{const L=e.equipmentSlots.findIndex(A=>!A.locked&&!A.item);if(L!==-1){const A=e.inventory.findIndex(M=>M.id===F.id&&(M.mergeLevel||0)===(F.mergeLevel||0));if(A!==-1&&!e.equipItem(F.id,L,A)){o("Cannot equip item! Inventory is full and item in slot cannot be unequipped.","error",5e3);return}}else{l.value=!0;return}}f()},x=F=>{if(n.value){const L=e.inventory.findIndex(A=>A.id===n.value.id&&(A.mergeLevel||0)===(n.value.mergeLevel||0));if(L!==-1){if(!e.equipItem(n.value.id,F,L)){o("Cannot equip item! Inventory is full and item in slot cannot be unequipped.","error",5e3);return}l.value=!1,f()}}},U=F=>{if(c.value!==null){const L=e.inventory.findIndex(A=>A.id===F.id&&(A.mergeLevel||0)===(F.mergeLevel||0));if(L!==-1){if(!e.equipItem(F.id,c.value,L)){o("Cannot equip item! Inventory is full and item in slot cannot be unequipped.","error",5e3);return}u.value=!1,c.value=null}}},O=(F,L)=>e.equipmentSlots.some(A=>A.item===F&&(L===void 0||A.mergeLevel===L));return(F,L)=>(v(),w("div",u2,[L[3]||(L[3]=s("h1",{class:"text-xl font-bold mb-2 flex items-center"},[s("span",{class:"i-heroicons-squares-2x2 text-amber-700 dark:text-amber-500 mr-2"}),G(" Inventory ")],-1)),s("div",c2,[s("div",d2,[ve(b1,{activeTab:m.value,"onUpdate:activeTab":L[0]||(L[0]=A=>m.value=A)},null,8,["activeTab"])]),s("div",m2,[Be(ve(sa,{"on-slot-click":p},null,512),[[fr,m.value==="equipment"]]),Be(ve(aa,{"on-item-click":g,"is-item-equipped":O},null,512),[[fr,m.value==="inventory"]])])]),s("div",f2,[s("div",p2,[s("div",g2,[L[1]||(L[1]=s("h2",{class:"text-lg font-semibold mb-4 flex items-center"},[s("span",{class:"i-heroicons-shield-check text-amber-700 dark:text-amber-500 mr-2"}),G(" Equipment ")],-1)),ve(sa,{"on-slot-click":p})])]),s("div",h2,[s("div",v2,[L[2]||(L[2]=s("h2",{class:"text-lg font-semibold mb-4 flex items-center"},[s("span",{class:"i-heroicons-shopping-bag text-amber-700 dark:text-amber-500 mr-2"}),G(" Inventory ")],-1)),ve(aa,{"on-item-click":g,"is-item-equipped":O})])])]),a.value?(v(),Qe(U_,{key:0,"on-close":()=>a.value=!1},null,8,["on-close"])):z("",!0),n.value?(v(),Qe(P_,{key:1,item:n.value,"is-item-equipped":O,"on-equip-action":b,"on-close":f},null,8,["item"])):z("",!0),l.value&&n.value?(v(),Qe(J_,{key:2,item:n.value,"on-close":()=>l.value=!1,"on-slot-select":x},null,8,["item","on-close"])):z("",!0),u.value?(v(),Qe(l2,{key:3,"on-close":()=>{u.value=!1,c.value=null},"on-item-select":U},null,8,["on-close"])):z("",!0),ve(So,{threshold:400})]))}}),x2={key:0,class:"bg-white dark:bg-gray-800 rounded-xl shadow-md border border-gray-200/50 dark:border-gray-700/50 p-4"},y2={class:"space-y-2"},k2={class:"text-sm text-amber-700 dark:text-amber-400"},w2={class:"text-sm font-medium text-green-600 dark:text-green-400"},_2=we({__name:"AchievementModifiersPanel",setup(t){const{getTotalMultiplier:e}=as(),r=xt(),o=B(()=>{const u=new Set;return r.achievementList.filter(m=>m.completed&&m.modifiers&&m.modifiers.length>0).forEach(m=>{m.modifiers&&m.modifiers.forEach(d=>{u.add(d.target)})}),Array.from(u).sort((m,d)=>m==="global"?-1:d==="global"||m==="ep"?1:d==="ep"?-1:m.localeCompare(d))}),n=B(()=>o.value.length>0),a=u=>({global:"All Generators",worker:"Workers",nursery:"Nurseries",queenChamber:"Queen Chambers",colony:"Colonies",megacolony:"Megacolonies",hivemind:"Hiveminds",antopolis:"Antopolis",ep:"Evolution Points"})[u]||u,l=u=>{const m=e(u).sub(1).mul(100);return`+${mt(m)}`};return(u,c)=>n.value?(v(),w("div",x2,[c[0]||(c[0]=s("div",{class:"flex items-center gap-2 mb-3"},[s("span",{class:"i-heroicons-trophy text-amber-500 text-lg"}),s("h3",{class:"text-amber-800 dark:text-amber-300 font-medium"},"Achievement Bonuses")],-1)),s("div",y2,[(v(!0),w(ye,null,Ie(o.value,m=>(v(),w("div",{key:m,class:"flex items-center justify-between"},[s("div",k2,E(a(m)),1),s("div",w2,E(l(m)),1)]))),128))]),c[1]||(c[1]=s("div",{class:"mt-3 text-xs text-amber-600 dark:text-amber-500 opacity-80"}," Complete more achievements to earn additional bonuses! ",-1))])):z("",!0)}}),S2={class:"space-y-4"},$2={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-4 border border-gray-200/50 dark:border-gray-700/50"},E2={class:"flex items-center justify-between"},C2={class:"flex flex-col items-center gap-3"},M2={class:"text-center"},A2={class:"text-sm text-amber-700 dark:text-amber-400"},I2={class:"w-32 h-2 mt-1 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},P2={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden border border-gray-200/50 dark:border-gray-700/50"},T2={class:"flex overflow-x-auto scrollbar-hide"},L2=["onClick"],q2={class:"flex items-center gap-2"},F2={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md border border-gray-200/50 dark:border-gray-700/50 divide-y divide-gray-100 dark:divide-gray-700"},N2={key:0,class:"p-8 text-center text-amber-700 dark:text-amber-400"},R2={class:"flex items-center gap-4"},U2={class:"flex-1 min-w-0"},B2={class:"flex items-baseline justify-between"},O2={key:0,class:"ml-2 flex-shrink-0 text-xs text-amber-500 dark:text-amber-400"},D2={class:"mt-1 text-sm text-amber-600 dark:text-amber-400"},H2={key:0,class:"mt-1 text-sm text-green-600 dark:text-green-400 flex items-center gap-1"},j2={key:0},Q2={class:"mt-2 flex items-center"},G2={class:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},W2={class:"ml-2 text-xs text-amber-700 dark:text-amber-400 whitespace-nowrap"},V2=we({__name:"AchievementsPage",setup(t){yn();const e=xt(),r=e.categories,{totalAchievements:o,completedAchievements:n,completionPercentage:a}=e,l=H("general"),u=g=>{l.value=g},c=B(()=>e.getAchievementsByCategory(l.value).filter(g=>!g.hiddenUntilCompleted||g.completed)),m=g=>g?new Date(g).toLocaleDateString():"",d=g=>{if(g.completed)return 100;const b=g.currentValue,x=g.requirement;if(x.eq(0))return 0;const U=b.div(x).mul(100).toNumber();return Math.min(Math.floor(U),99)},f=g=>g.formatMultiplier(g.multiplier),p=g=>!!g.modifiers&&g.modifiers.length>0;return(g,b)=>(v(),w("div",S2,[s("div",$2,[s("div",E2,[b[1]||(b[1]=s("div",null,[s("h1",{class:"text-2xl font-bold text-amber-800 dark:text-amber-300"},"Achievements"),s("p",{class:"text-amber-700 dark:text-amber-400 text-sm"}," Complete tasks to earn rewards and recognition ")],-1)),s("div",C2,[b[0]||(b[0]=s("span",{class:"i-heroicons-trophy text-3xl text-amber-500"},null,-1)),s("div",M2,[s("div",A2,E(I(n))+" / "+E(I(o))+" completed ",1),s("div",I2,[s("div",{class:"h-full bg-amber-500 dark:bg-amber-600 rounded-full",style:Xe({width:`${I(a)}%`})},null,4)])])])])]),ve(_2),s("div",P2,[s("div",T2,[(v(!0),w(ye,null,Ie(I(r),x=>(v(),w("button",{key:x.id,onClick:U=>u(x.id),class:ne(["px-4 py-3 whitespace-nowrap transition-colors duration-200",[l.value===x.id?"text-amber-800 dark:text-amber-300 font-medium border-b-2 border-amber-500":"text-amber-600 dark:text-amber-400 hover:text-amber-800 dark:hover:text-amber-300 hover:bg-amber-50 dark:hover:bg-amber-900/20"]])},[s("div",q2,[s("span",{class:ne([x.icon])},null,2),G(" "+E(x.name),1)])],10,L2))),128))])]),s("div",F2,[c.value.length===0?(v(),w("div",N2,b[2]||(b[2]=[s("div",{class:"flex flex-col items-center space-y-3"},[s("span",{class:"i-heroicons-trophy text-5xl opacity-30"}),s("h3",{class:"text-lg font-medium"},"No Achievements Found"),s("p",{class:"max-w-md text-sm opacity-80"}," There are no achievements in this category yet, or they're all hidden until completed. ")],-1)]))):z("",!0),(v(!0),w(ye,null,Ie(c.value,x=>(v(),w("div",{key:x.id,class:"p-4 hover:bg-amber-50/50 dark:hover:bg-amber-900/10 transition-colors duration-200"},[s("div",R2,[s("div",{class:ne(["flex-shrink-0",[x.completed?"text-amber-500":"text-gray-400 dark:text-gray-500"]])},[s("div",{class:ne(["w-10 h-10 rounded-full border-2 flex items-center justify-center",[x.completed?"border-amber-500 bg-amber-100 dark:bg-amber-900/30":"border-gray-300 dark:border-gray-600"]])},[s("span",{class:ne([x.icon,"text-xl"])},null,2)],2)],2),s("div",U2,[s("div",B2,[s("h3",{class:ne(["text-md font-medium truncate",[x.completed?"text-amber-800 dark:text-amber-300":"text-gray-700 dark:text-gray-300"]])},E(x.name),3),x.completed?(v(),w("div",O2,E(m(x.completionDate)),1)):z("",!0)]),s("p",D2,E(x.description),1),x.completed&&p(x)?(v(),w("div",H2,[b[3]||(b[3]=s("span",{class:"i-heroicons-arrow-trending-up"},null,-1)),(v(!0),w(ye,null,Ie(x.modifiers,(U,O)=>(v(),w("span",{key:O},[G(E(f(U))+" ",1),O<x.modifiers.length-1?(v(),w("span",j2,", ")):z("",!0)]))),128))])):z("",!0),s("div",Q2,[s("div",G2,[s("div",{class:ne(["h-full rounded-full",[x.completed?"bg-amber-500 dark:bg-amber-600":"bg-amber-300 dark:bg-amber-800"]]),style:Xe({width:`${d(x)}%`})},null,6)]),s("div",W2,E(I(re)(x.currentValue.gt(x.requirement)?x.requirement:x.currentValue,0))+" / "+E(I(re)(x.requirement,0)),1)])])])]))),128))])]))}}),z2=et(V2,[["__scopeId","data-v-a7e6a91f"]]),K2={class:"max-w-3xl mx-auto px-2 sm:px-0"},Y2={class:"mb-6"},J2={class:"text-amber-700 dark:text-amber-400"},X2={class:"font-medium bg-amber-100 dark:bg-amber-800/50 px-2 py-0.5 rounded"},Z2={key:0,class:"flex flex-col items-center justify-center py-8"},e5={key:1,class:"bg-red-100 dark:bg-red-900/20 border border-red-300 dark:border-red-700 rounded-lg p-4 my-4"},t5={class:"flex items-start"},r5={class:"text-red-700 dark:text-red-400 text-sm mt-1"},o5={key:2,class:"bg-amber-50 dark:bg-amber-950/10 border border-amber-200 dark:border-amber-800/30 rounded-lg p-4 md:p-6 shadow-sm"},n5=["innerHTML"],s5=we({__name:"ChangelogPage",setup(t){const e=H(""),r=H(!0),o=H(!1),n=H(""),{version:a}=au(),l=B(()=>e.value?lu(e.value):"");return He(async()=>{try{const u=await fetch("/CHANGELOG.md");if(!u.ok)throw new Error(`Failed to fetch changelog: ${u.status} ${u.statusText}`);e.value=await u.text(),r.value=!1}catch(u){r.value=!1,o.value=!0,n.value=u instanceof Error?u.message:"An unknown error occurred",console.error("Error loading changelog:",u)}}),(u,c)=>(v(),w("div",K2,[s("header",Y2,[c[1]||(c[1]=s("h1",{class:"text-2xl font-bold text-amber-900 dark:text-amber-200"},"Changelog",-1)),s("p",J2,[c[0]||(c[0]=G(" Current version: ")),s("span",X2,E(I(a)),1)])]),r.value?(v(),w("div",Z2,c[2]||(c[2]=[s("div",{class:"h-8 w-8 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"},null,-1),s("span",{class:"mt-3 text-amber-700 dark:text-amber-400"},"Loading changelog...",-1)]))):o.value?(v(),w("div",e5,[s("div",t5,[c[5]||(c[5]=s("span",{class:"i-heroicons-exclamation-triangle text-red-600 dark:text-red-400 mr-3 text-xl"},null,-1)),s("div",null,[c[3]||(c[3]=s("p",{class:"font-medium text-red-800 dark:text-red-300"},"Failed to load changelog",-1)),s("p",r5,E(n.value),1),c[4]||(c[4]=s("p",{class:"text-red-700 dark:text-red-400 text-sm mt-2"}," Please try refreshing the page or check if the CHANGELOG.md file exists. ",-1))])])])):(v(),w("div",o5,[s("div",{class:"prose prose-amber dark:prose-invert prose-sm md:prose-base max-w-none",innerHTML:l.value},null,8,n5)]))]))}});function Ds(){const t="gdpr_consent_status",e=H(localStorage.getItem(t)||"pending");return{consentStatus:e,acceptConsent:()=>(e.value="accepted",localStorage.setItem(t,e.value),!0),declineConsent:()=>(e.value="declined",localStorage.setItem(t,e.value),!1),hasConsent:()=>e.value==="accepted",isPending:()=>e.value==="pending"}}var kn=function(){return typeof document<"u"&&typeof window<"u"},i5=function(e,r){return new Promise(function(o,n){var a=document.head||document.getElementsByTagName("head")[0],l=document.createElement("script");if(l.async=!0,l.src=e,l.charset="utf-8",r){var u=document.createElement("link");u.href=r,u.rel="preconnect",a.appendChild(u)}a.appendChild(l),l.onload=o,l.onerror=n})},a5=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Object.keys(r).forEach(function(o){e[o]=r[o]})},mu=xr({property:null,isEnabled:!0,disableScriptLoader:!1,useDebugger:!1,globalObjectName:"gtag",dataLayerName:"dataLayer",resourceURL:"https://ww1w.googletagwewew23q141341qaefmanager.com/gtag/js",preconnectOrigin:"https://www.google2323422442aqfafatagmanager.com",customResource:null,appName:null,appId:null,appVersion:null}),sr=function(){return Da(mu)},fu=B(function(){var t=sr(),e=t.property;if(e.value)return Array.isArray(e.value)?e.value.find(function(r){return r.default===!0})||e.value[0]:e.value}),l5=B(function(){var t=sr(),e=t.property;return!!(e.value&&e.value.id!==null)}),ho=B(function(){var t=sr(),e=t.property;return Array.isArray(e.value)?e.value:[e.value]}),u5=B(function(){var t=sr(),e=t.isEnabled,r=fu.value;return!!(r&&r.id&&e.value)}),$o=function(){var t;if(kn()){for(var e=sr(),r=e.globalObjectName,o=e.useDebugger,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];o.value&&console.warn("[vue-gtag] Debugger:",a),(t=window)[r.value].apply(t,a)}},Hs=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];ho.value.forEach(function(o){$o.apply(void 0,["config",o.id].concat(e))})},c5=function(t){Hs({custom_map:t})},d5=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;kn()&&ho.value.forEach(function(e){window["ga-disable-".concat(e.id)]=t})},wr=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=Object.assign({},e);!r.send_to&&ho.value.length>1&&(r.send_to=ho.value.map(function(o){return o.id})),$o("event",t,r)},m5=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];wr.apply(void 0,["exception"].concat(e))},f5=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];Hs.apply(void 0,["linker"].concat(e))},p5=function(t){var e={};typeof t=="string"?e={page_path:t,page_location:window.location.href}:e=t,typeof e.send_page_view>"u"&&(e.send_page_view=!0),wr("page_view",e)},g5=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];wr.apply(void 0,["purchase"].concat(e))},h5=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];wr.apply(void 0,["refund"].concat(e))},v5=function(){for(var t=sr(),e=t.appName,r=t.appId,o=t.appVersion,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];var u=a[0],c={};typeof u=="string"?c={screen_name:u}:c=u,c.app_name==null&&e.value!=null&&(c.app_name=e.value),c.app_id==null&&r.value!=null&&(c.app_id=r.value),c.app_version==null&&o.value!=null&&(c.app_version=o.value),wr("screen_view",c)},b5=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];$o.apply(void 0,["set"].concat(e))},x5=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];wr.apply(void 0,["timing_complete"].concat(e))},pu=Object.freeze({__proto__:null,config:Hs,customMap:c5,disable:d5,event:wr,exception:m5,linker:f5,pageview:p5,purchase:g5,query:$o,refund:h5,screenview:v5,set:b5,time:x5}),la=H(!1),ua=H(!1),y5=function(){var e=sr(),r=e.disableScriptLoader,o=e.preconnectOrigin,n=e.resourceURL,a=e.dataLayerName;if(!(!kn()||!l5.value||ua.value)){if(ua.value=!0,ho.value.forEach(function(u){var c=Object.assign({send_page_view:!1},u.params);$o("config",u.id,c)}),r.value){la.value=!0;return}var l="".concat(n.value,"?id=").concat(fu.value.id,"&l=").concat(a.value);i5(l,o.value).then(function(){la.value=!0})}},k5=function(){Ee(function(){return u5.value},function(e){return e&&y5()},{immediate:!0})},w5=function(){if(kn()){var t=sr(),e=t.globalObjectName,r=t.dataLayerName;window[e.value]==null&&(window[r.value]=window[r.value]||[],window[e.value]=function(){window[r.value].push(arguments)}),window[e.value]("js",new Date)}},_5=function(){return pu};xr({template:null,useScreenview:!1,skipSamePath:!0});var S5={install:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a5(mu,r),w5(),k5(),e.config.globalProperties.$gtag=pu}};function $5(){const{consentStatus:t,hasConsent:e}=Ds(),{isEnabled:r,enable:o,disable:n,query:a,pageView:l,event:u,screenView:c,customMap:m,time:d,exception:f}=_5();return Ee(()=>t.value,b=>{b==="accepted"?o():n()}),{isAnalyticsEnabled:r,trackPageView:(b,x)=>{e()&&l(b,x)},trackEvent:(b,x)=>{e()&&u(b,x)},screenView:(b,x)=>{e()&&c(b,x)},exception:(b,x=!1)=>{e()&&f(b,x)},time:b=>e()?d(b):{send:()=>{}}}}const E5=[{path:"/",component:sh,meta:{title:"Home"}},{path:"/settings",component:uv,meta:{title:"Settings"}},{path:"/upgrades",component:$x,meta:{title:"Upgrades"},beforeEnter:(t,e,r)=>{if(Nt().isFeatureUnlocked.upgrades)r();else{r("/");try{const{showToast:n}=Nr();n("Complete 10 trips to unlock Evolution","info")}catch{console.warn("Toast system not available")}}}},{path:"/adventure",component:m1,meta:{title:"Adventure"},beforeEnter:(t,e,r)=>{const{isAdventureUnlocked:o}=ta();if(o.value)r();else{r("/upgrades");try{const{showToast:n}=Nr();n("You need to unlock Adventure Mode first (50 EP)","error")}catch{console.warn("Toast system not available")}}}},{path:"/inventory",component:b2,meta:{title:"Inventory"},beforeEnter:(t,e,r)=>{const{isAdventureUnlocked:o}=ta();if(o.value)r();else{r("/");const{showToast:n}=Nr();n("Purchase Adventure Mode from the Evolution tab (50 EP)","info")}}},{path:"/achievements",component:z2,meta:{title:"Achievements"}},{path:"/changelog",component:s5,meta:{title:"Changelog"}}],ls=Ym({history:$m(),routes:E5});ls.isReady().then(()=>{const{trackPageView:t}=$5();ls.afterEach(e=>{t(e.path,e.meta.title)})});const C5={class:"flex flex-col h-full bg-amber-50 dark:bg-gray-900 text-amber-900 dark:text-amber-100 font-sans w-full"},M5={class:"bg-gradient-to-r from-amber-800 to-amber-700 dark:from-amber-900 dark:to-amber-800 text-amber-50 shadow-lg"},A5={class:"p-2 md:p-3"},I5={class:"flex items-center justify-between mb-2"},P5={class:"flex items-center gap-3"},T5={class:"text-xs bg-amber-900/30 dark:bg-amber-950/50 px-2 py-0.5 rounded-full whitespace-nowrap"},L5={class:"flex items-center bg-amber-900/20 dark:bg-amber-950/40 rounded-full px-2 py-1"},q5={class:"text-xs md:text-sm font-medium"},F5={class:"flex items-center bg-amber-900/20 dark:bg-amber-950/40 rounded-full px-2 py-1"},N5={class:"text-xs md:text-sm font-medium"},R5={class:"flex items-center bg-amber-900/20 dark:bg-amber-950/40 rounded-full px-2 py-1"},U5={class:"text-xs md:text-sm font-medium"},B5={class:"flex items-center bg-amber-900/20 dark:bg-amber-950/40 rounded-full px-2 py-1"},O5={class:"text-xs md:text-sm font-medium"},D5={class:"flex items-center bg-amber-900/20 dark:bg-amber-950/40 rounded-full px-2 py-1"},H5={class:"text-xs md:text-sm font-medium"},j5={key:0,class:"flex items-center bg-amber-900/20 dark:bg-amber-950/40 rounded-full px-2 py-1"},Q5={class:"text-xs md:text-sm font-medium"},G5={class:"relative mx-2 md:mx-3 mb-2"},W5={class:"flex justify-between items-center mb-0.5 px-1"},V5={class:"text-2xs text-amber-200 dark:text-amber-300"},z5={class:"h-3 bg-amber-900/30 dark:bg-amber-950/50 rounded-lg overflow-hidden relative"},K5={class:"absolute left-0 top-0 h-full w-full overflow-hidden"},Y5={key:0,class:"absolute left-[10%] bottom-0 flex items-center ant-entry",style:{"animation-delay":"0.3s"}},J5={key:1,class:"absolute left-[15%] top-0 flex items-center ant-entry",style:{"animation-delay":"0.4s"}},X5={key:2,class:"absolute left-[25%] top-0.5 flex items-center ant-entry",style:{"animation-delay":"0.5s"}},Z5={key:3,class:"absolute left-[30%] bottom-0 flex items-center ant-entry",style:{"animation-delay":"0.6s"}},e3={key:4,class:"absolute left-[45%] top-0 flex items-center ant-entry",style:{"animation-delay":"0.7s"}},t3={key:5,class:"absolute left-[50%] bottom-0.5 flex items-center ant-entry",style:{"animation-delay":"0.8s"}},r3={key:6,class:"absolute left-[65%] top-0 flex items-center ant-entry",style:{"animation-delay":"0.9s"}},o3={key:7,class:"absolute left-[70%] bottom-0 flex items-center ant-entry",style:{"animation-delay":"1s"}},n3={key:8,class:"absolute left-[85%] top-0.5 flex items-center ant-entry",style:{"animation-delay":"1.1s"}},s3={key:9,class:"absolute left-[90%] bottom-0 flex items-center ant-entry",style:{"animation-delay":"1.2s"}},i3={class:"flex-1 overflow-y-auto p-4 pb-6 scroll-smooth"},a3={class:"bg-gradient-to-r from-amber-800 to-amber-700 dark:from-amber-900 dark:to-amber-800 text-amber-50 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]"},l3={class:"flex justify-around items-center"},u3=["title"],c3={class:"text-xs mt-1 font-medium"},d3={class:"text-xs mt-1 font-medium"},m3=["onClick"],f3={class:"text-xs mt-1 font-medium"},p3={key:0,class:"fixed inset-x-0 bottom-0 z-20"},g3={class:"relative bg-gradient-to-r from-amber-50 to-amber-100 dark:from-gray-900 dark:to-gray-800 text-amber-900 dark:text-amber-100 rounded-t-xl shadow-lg transform max-h-[80vh] overflow-y-auto"},h3={class:"p-2"},v3={class:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 p-2"},b3={class:"mt-1 text-xs font-medium text-center"},x3=we({__name:"MainLayout",setup(t){const e=nr(),r=Oe(),o=De(),n=Nt(),{showToast:a}=Nr();Ns();const{isFeatureUnlocked:l}=n0(n),{shouldAnimateFeature:u}=su(),c=H({upgrades:!1,adventure:!1,inventory:!1}),m=H(0),d=B(()=>Math.round(m.value));let f=null;const p=()=>{e.updateProgress(),n.checkProgression();const y=e.progressPercentage,k=y-m.value;Math.abs(k)>.1?m.value+=k*.1:m.value=y,f=requestAnimationFrame(p)};He(()=>{u("upgrades")&&(c.value.upgrades=!0,setTimeout(()=>{c.value.upgrades=!1},1500)),m.value=e.progressPercentage,f=requestAnimationFrame(p),document.addEventListener("click",$)}),Ee(()=>l.value.upgrades,(y,k)=>{y&&!k&&(c.value.upgrades=!0,setTimeout(()=>{c.value.upgrades=!1},1500))});const g=B(()=>o.getUpgradeCount("unlockAdventure").gt(0));Ee(()=>g.value,(y,k)=>{y&&!k&&(c.value.adventure=!0,c.value.inventory=!0,setTimeout(()=>{c.value.adventure=!1,c.value.inventory=!1},1500))});const b=(y,k)=>{a(k,"info")},x=H(null),U=y=>{x.value===y?x.value=null:x.value=y},O=B(()=>[{name:"Colony",icon:"i-heroicons-bug-ant",route:"/",disabled:!1},{name:"Evolution",icon:"i-heroicons-sparkles",route:"/upgrades",disabled:!l.value.evolution,tooltip:"Purchase 5 nurseries to unlock Evolution"},{name:"Adventure",icon:"i-heroicons-bolt",route:g.value?"/adventure":"#",disabled:!g.value,tooltip:"Unlock Adventure Mode from the Evolution tab (50 EP)"},{name:"Inventory",icon:"i-heroicons-squares-2x2",route:g.value?"/inventory":"#",disabled:!g.value,tooltip:"Unlock Adventure Mode from the Evolution tab (50 EP)"},{name:"More",icon:"i-heroicons-ellipsis-horizontal",action:"toggleMorePanel",route:"#",disabled:!1}]),F=H(!1),L=()=>{F.value=!F.value},A=[{name:"Achievements",icon:"i-heroicons-trophy",route:"/achievements",disabled:!1},{name:"Changelog",icon:"i-heroicons-document-text",route:"/changelog",disabled:!1},{name:"Settings",icon:"i-heroicons-cog-6-tooth",route:"/settings",disabled:!1}],{isDarkMode:M}=yn(),S=Vl(),$=y=>{x.value!==null&&!y.target.closest(".nav-item")&&(x.value=null)};return Ee(()=>S.path,()=>{F.value=!1}),yr(()=>{f!==null&&cancelAnimationFrame(f),document.removeEventListener("click",$)}),(y,k)=>{const N=Es("router-link");return v(),w("div",{class:ne([{dark:I(M)},"h-dvh w-full overflow-hidden"])},[s("div",C5,[s("header",M5,[s("div",A5,[s("div",I5,[k[0]||(k[0]=s("div",{class:"flex items-center gap-3"},[s("h1",{class:"text-lg md:text-xl font-extrabold tracking-tight"},"Idle Ant Farm")],-1)),s("div",P5,[s("span",T5,E(I(e).timeRemaining)+"s ",1)])]),I(l).colonyStatus?(v(),w("div",{key:0,class:ne(["flex flex-wrap items-center gap-2 md:gap-3",{"feature-unlock-pulse":I(u)("colonyStatus")}]),id:"resource-counter"},[s("div",L5,[k[1]||(k[1]=s("span",{class:"i-heroicons-cake text-amber-300 dark:text-amber-400 mr-1"},null,-1)),s("span",q5,E(I(r).formatFood()),1)]),s("div",F5,[k[2]||(k[2]=s("span",{class:"i-heroicons-bug-ant text-amber-300 dark:text-amber-400 mr-1"},null,-1)),s("span",N5,E(I(r).formatGeneratorCount("worker")),1)]),s("div",R5,[k[3]||(k[3]=s("span",{class:"i-heroicons-clock text-amber-300 dark:text-amber-400 mr-1"},null,-1)),s("span",U5,E(I(e).tickDuration.toFixed(1))+"s/trip",1)]),s("div",B5,[k[4]||(k[4]=s("span",{class:"i-heroicons-clock text-amber-300 dark:text-amber-400 mr-1"},null,-1)),s("span",O5,E(I(e).formattedCurrentEvolutionTicks)+" trips",1)]),s("div",D5,[k[5]||(k[5]=s("span",{class:"i-heroicons-arrow-trending-up text-amber-300 dark:text-amber-400 mr-1"},null,-1)),s("span",H5,E(I(re)(I(r).foodPerSecond,1))+"/trip",1)]),I(l).upgrades?(v(),w("div",j5,[k[6]||(k[6]=s("span",{class:"i-heroicons-sparkles text-amber-300 dark:text-amber-400 mr-1"},null,-1)),s("span",Q5,E(I(o).formatEP())+" EP",1)])):z("",!0)],2)):z("",!0)]),s("div",G5,[s("div",W5,[k[7]||(k[7]=s("span",{class:"text-2xs text-amber-200 dark:text-amber-300 font-medium flex items-center"},[s("span",{class:"i-heroicons-arrow-path-rounded-square text-2xs mr-0.5"}),G(" Foraging Trip ")],-1)),s("span",V5,E(d.value)+"% ",1)]),s("div",z5,[k[19]||(k[19]=s("div",{class:"absolute inset-0 h-full w-full opacity-30 bg-dotted-pattern"},null,-1)),s("div",{class:"h-full bg-gradient-to-r from-amber-500/70 to-amber-400/70 dark:from-amber-600/70 dark:to-amber-500/70 progress-fill",style:Xe({"--progress":`${d.value}%`})},null,4),s("div",K5,[k[18]||(k[18]=yo('<div class="absolute left-0 top-0 flex items-center ant-entry" data-v-8786d371><span class="i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march ant-shadow rotate-90" data-v-8786d371></span></div><div class="absolute left-2 bottom-0 flex items-center ant-entry" style="animation-delay:0.1s;" data-v-8786d371><span class="i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-2 ant-shadow rotate-90" data-v-8786d371></span></div><div class="absolute left-4 top-0.5 flex items-center ant-entry" style="animation-delay:0.2s;" data-v-8786d371><span class="i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-3 ant-shadow rotate-90" data-v-8786d371></span></div>',3)),d.value>=10?(v(),w("div",Y5,k[8]||(k[8]=[s("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-4 ant-shadow rotate-90"},null,-1)]))):z("",!0),d.value>=15?(v(),w("div",J5,k[9]||(k[9]=[s("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-5 ant-shadow rotate-90"},null,-1)]))):z("",!0),d.value>=25?(v(),w("div",X5,k[10]||(k[10]=[s("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-6 ant-shadow rotate-90"},null,-1)]))):z("",!0),d.value>=30?(v(),w("div",Z5,k[11]||(k[11]=[s("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-7 ant-shadow rotate-90"},null,-1)]))):z("",!0),d.value>=45?(v(),w("div",e3,k[12]||(k[12]=[s("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-8 ant-shadow rotate-90"},null,-1)]))):z("",!0),d.value>=50?(v(),w("div",t3,k[13]||(k[13]=[s("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-9 ant-shadow rotate-90"},null,-1)]))):z("",!0),d.value>=65?(v(),w("div",r3,k[14]||(k[14]=[s("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march ant-shadow rotate-90"},null,-1)]))):z("",!0),d.value>=70?(v(),w("div",o3,k[15]||(k[15]=[s("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-2 ant-shadow rotate-90"},null,-1)]))):z("",!0),d.value>=85?(v(),w("div",n3,k[16]||(k[16]=[s("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-3 ant-shadow rotate-90"},null,-1)]))):z("",!0),d.value>=90?(v(),w("div",s3,k[17]||(k[17]=[s("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-4 ant-shadow rotate-90"},null,-1)]))):z("",!0)])])])]),s("main",i3,[xo(y.$slots,"default",{},void 0,!0)]),s("footer",a3,[s("nav",l3,[(v(!0),w(ye,null,Ie(O.value,(P,h)=>(v(),w("div",{key:P.name,class:"relative w-full group nav-item",title:P.tooltip},[P.action==="toggleMorePanel"?(v(),w("div",{key:0,onClick:L,class:ne(["flex flex-col items-center py-3 px-2 w-full transition-colors duration-200 select-none cursor-pointer hover:bg-amber-900/10 dark:hover:bg-amber-950/30",{"text-amber-300 border-t-2 border-amber-300 bg-amber-900/20 dark:bg-amber-950/40":F.value}])},[s("span",{class:ne([P.icon,"text-xl"])},null,2),s("span",c3,E(P.name),1)],2)):P.disabled?(v(),w("div",{key:2,class:"flex flex-col items-center py-3 px-2 w-full transition-colors duration-200 select-none opacity-50 cursor-not-allowed",onClick:Ls(_=>{U(h),b(P.name,P.tooltip||"")},["stop"])},[s("span",{class:ne([P.icon,"text-xl"])},null,2),s("span",f3,E(P.name),1),s("span",{class:ne(["absolute -top-12 left-1/2 transform -translate-x-1/2 bg-amber-900 text-amber-50 text-xs rounded px-3 py-2 w-max pointer-events-none z-10 shadow-lg",["opacity-0 group-hover:opacity-100 transition-opacity duration-200",{"opacity-100":x.value===h}]])},[G(E(P.tooltip)+" ",1),k[20]||(k[20]=s("span",{class:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-amber-900 rotate-45"},null,-1))],2)],8,m3)):(v(),Qe(N,{key:1,to:P.route,class:ne(["flex flex-col items-center py-3 px-2 w-full transition-colors duration-200 select-none",{"text-amber-300 border-t-2 border-amber-300 bg-amber-900/20 dark:bg-amber-950/40":I(S).path===P.route,"hover:bg-amber-900/10 dark:hover:bg-amber-950/30":I(S).path!==P.route}])},{default:Ve(()=>[s("span",{class:ne([P.icon,"text-xl"])},null,2),s("span",d3,E(P.name),1)]),_:2},1032,["to","class"]))],8,u3))),128))])]),ve(Hr,{name:"slide-panel"},{default:Ve(()=>[F.value?(v(),w("div",p3,[s("div",{class:"fixed inset-0 bg-black/30 dark:bg-black/50",onClick:L}),s("div",g3,[s("div",{class:"p-4 border-b border-amber-200 dark:border-amber-900/50 flex justify-between items-center sticky top-0 bg-inherit z-10"},[k[22]||(k[22]=s("h3",{class:"text-lg font-bold"},"More Options",-1)),s("button",{onClick:L,class:"p-1 rounded-full hover:bg-amber-200 dark:hover:bg-amber-900/40 transition-colors"},k[21]||(k[21]=[s("span",{class:"i-heroicons-x-mark text-xl"},null,-1)]))]),s("div",h3,[s("div",v3,[(v(),w(ye,null,Ie(A,P=>ve(N,{key:P.name,to:P.route,class:ne(["flex flex-col items-center p-3 rounded-lg transition-colors duration-200",{"bg-amber-200/50 dark:bg-amber-900/20 hover:bg-amber-200 dark:hover:bg-amber-900/30":!P.disabled,"opacity-50 cursor-not-allowed":P.disabled}]),onClick:L},{default:Ve(()=>[s("span",{class:ne([P.icon,"text-2xl text-amber-700 dark:text-amber-300"])},null,2),s("span",b3,E(P.name),1)]),_:2},1032,["to","class"])),64))])])])])):z("",!0)]),_:1})])],2)}}}),y3=et(x3,[["__scopeId","data-v-8786d371"]]),k3={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-5 mx-auto border border-amber-200 dark:border-amber-700"},w3={class:"text-sm text-gray-700 dark:text-gray-300 mb-4 leading-relaxed"},_3={class:"font-bold text-amber-600 dark:text-amber-400"},S3={class:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full mb-2 overflow-hidden"},$3={class:"text-xs text-gray-600 dark:text-gray-400 mb-4 flex justify-between"},E3={class:"flex justify-end"},C3=we({__name:"OfflineProgressModal",props:{isVisible:{type:Boolean},totalTicks:{},ticksProcessed:{},elapsedTime:{}},emits:["close"],setup(t,{emit:e}){const r=t,o=e,n=B(()=>r.totalTicks===0?0:Math.min(100,Math.round(r.ticksProcessed/r.totalTicks*100))),a=c=>{if(c<60)return`${Math.floor(c)} seconds`;if(c<3600){const m=Math.floor(c/60);return`${m} minute${m!==1?"s":""}`}else{const m=Math.floor(c/3600),d=Math.floor(c%3600/60);return`${m} hour${m!==1?"s":""} ${d>0?`and ${d} minute${d!==1?"s":""}`:""}`}},l=()=>{o("close")},u=c=>{r.isVisible&&(c.preventDefault(),c.stopPropagation())};return(c,m)=>c.isVisible?(v(),w("div",{key:0,class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm overflow-hidden",onTouchmove:u},[s("div",k3,[m[3]||(m[3]=s("h3",{class:"text-base font-bold mb-3 flex items-center text-amber-800 dark:text-amber-300 pb-2 border-b border-amber-200 dark:border-amber-700"},[s("span",{class:"i-heroicons-clock text-amber-600 dark:text-amber-400 mr-2"}),G(" Colony Hibernation Progress ")],-1)),s("p",w3,[m[0]||(m[0]=G(" Your colony has been hibernating for ")),s("span",_3,E(a(c.elapsedTime)),1),m[1]||(m[1]=G(". We're calculating the progress made during this time. "))]),s("div",S3,[s("div",{class:"h-full bg-amber-500 dark:bg-amber-400 transition-all duration-300 ease-out",style:Xe({width:`${n.value}%`})},null,4)]),s("div",$3,[s("span",null,"Processing foraging trips: "+E(c.ticksProcessed)+" / "+E(c.totalTicks),1),s("span",null,E(n.value)+"% complete",1)]),s("div",E3,[ve(xn,{onAction:l,class:ne("py-2 px-4 bg-amber-600 hover:bg-amber-700 dark:bg-amber-700 dark:hover:bg-amber-800 text-white rounded-lg text-sm font-medium transition-colors"),"initial-delay":300,"repeat-interval":100},{default:Ve(()=>m[2]||(m[2]=[G(" Continue ")])),_:1})])])],32)):z("",!0)}}),M3="modulepreload",A3=function(t){return"/"+t},ca={},I3=function(e,r,o){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));n=Promise.allSettled(r.map(c=>{if(c=A3(c),c in ca)return;ca[c]=!0;const m=c.endsWith(".css"),d=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=m?"stylesheet":M3,m||(f.as="script"),f.crossOrigin="",f.href=c,u&&f.setAttribute("nonce",u),document.head.appendChild(f),m)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return n.then(l=>{for(const u of l||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})};function P3(t={}){const{immediate:e=!1,onNeedRefresh:r,onOfflineReady:o,onRegistered:n,onRegisteredSW:a,onRegisterError:l}=t;let u,c;const m=async(f=!0)=>{await c};async function d(){if("serviceWorker"in navigator){if(u=await I3(async()=>{const{Workbox:f}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:f}},[]).then(({Workbox:f})=>new f("/sw.js",{scope:"/",type:"classic"})).catch(f=>{l==null||l(f)}),!u)return;u.addEventListener("activated",f=>{(f.isUpdate||f.isExternal)&&window.location.reload()}),u.addEventListener("installed",f=>{f.isUpdate||o==null||o()}),u.register({immediate:e}).then(f=>{a?a("/sw.js",f):n==null||n(f)}).catch(f=>{l==null||l(f)})}}return c=d(),m}function gu(t={}){const{immediate:e=!0,onNeedRefresh:r,onOfflineReady:o,onRegistered:n,onRegisteredSW:a,onRegisterError:l}=t,u=H(!1),c=H(!1);return{updateServiceWorker:P3({immediate:e,onNeedRefresh(){u.value=!0,r==null||r()},onOfflineReady(){c.value=!0,o==null||o()},onRegistered:n,onRegisteredSW:a,onRegisterError:l}),offlineReady:c,needRefresh:u}}function T3(t=60*60*1e3){const{updateServiceWorker:e}=gu();let r;const o=()=>{console.log("Checking for PWA updates..."),e()};return He(()=>{o(),r=window.setInterval(o,t)}),yr(()=>{r&&clearInterval(r)}),{checkForUpdates:o}}const L3={key:0,class:"fixed bottom-4 left-0 right-0 mx-auto w-full max-w-sm px-4"},q3=we({__name:"PWAUpdateNotification",setup(t){const{needRefresh:e,updateServiceWorker:r}=gu(),o=H(!1);T3(),He(()=>{Ee(e,a=>{o.value=a})});const n=()=>{r(),o.value=!1};return(a,l)=>(v(),Qe(Hr,{name:"slide-up"},{default:Ve(()=>[o.value?(v(),w("div",L3,[s("div",{class:"rounded-lg bg-indigo-600 dark:bg-indigo-700 p-4 shadow-lg"},[s("div",{class:"flex items-center justify-between"},[l[0]||(l[0]=s("div",{class:"flex-1"},[s("h3",{class:"text-sm font-medium text-white"}," App Update Available "),s("p",{class:"mt-1 text-sm text-indigo-100"}," A new version is available. Click to update. ")],-1)),s("div",{class:"ml-4 flex flex-shrink-0"},[s("button",{type:"button",onClick:n,class:"inline-flex rounded-md bg-indigo-500 dark:bg-indigo-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-indigo-400 dark:hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-400 dark:focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-indigo-600 dark:focus:ring-offset-indigo-700"}," Update ")])])])])):z("",!0)]),_:1}))}}),F3=et(q3,[["__scopeId","data-v-f9203a9f"]]),N3={key:0,class:"fixed inset-0 bg-black/30 dark:bg-black/60 z-50 backdrop-blur-sm flex items-center justify-center p-4"},R3={class:"relative bg-white dark:bg-slate-900 rounded-lg shadow-lg max-w-3xl w-full max-h-[calc(100vh-2rem)] overflow-hidden"},U3={class:"px-6 py-4 border-b border-amber-200 dark:border-amber-700 flex items-center"},B3={class:"flex-grow"},O3={key:0,class:"text-sm text-amber-600 dark:text-amber-400 mt-1"},D3={key:1,class:"text-sm text-amber-600 dark:text-amber-400 mt-1"},H3={class:"p-6 overflow-y-auto max-h-[60vh]"},j3=["innerHTML"],Q3=we({__name:"UpdateAnnouncementModal",setup(t){const{showAnnouncement:e,updateDetails:r,closeAnnouncement:o}=uu(),n=H(!1);Ee(e,l=>{n.value=l});const a=()=>{n.value=!1,o()};return(l,u)=>(v(),Qe(Hr,{name:"fade"},{default:Ve(()=>[n.value?(v(),w("div",N3,[s("div",R3,[s("div",U3,[s("div",B3,[u[0]||(u[0]=s("h2",{class:"text-xl font-bold text-amber-800 dark:text-amber-300"}," What's New in Idle Ant Farm ",-1)),I(r).versionRange.includes("to")?(v(),w("div",O3," Updates from v"+E(I(r).versionRange),1)):(v(),w("div",D3," Version "+E(I(r).versionRange)+" - "+E(I(r).date),1))]),s("button",{onClick:a,class:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors","aria-label":"Close modal"},u[1]||(u[1]=[s("svg",{class:"w-5 h-5 text-slate-500 dark:text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),s("div",H3,[s("div",{class:"prose prose-amber dark:prose-invert max-w-none",innerHTML:I(r).content},null,8,j3)]),s("div",{class:"px-6 py-4 border-t border-amber-200 dark:border-amber-700 flex justify-end"},[s("button",{onClick:a,class:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-md transition-colors font-medium"}," Got it ")])])])):z("",!0)]),_:1}))}}),G3=et(Q3,[["__scopeId","data-v-0289a72a"]]),W3={class:"fixed top-4 right-4 z-50 flex flex-col gap-2 max-w-md"},V3={class:"flex-grow"},z3={class:"text-sm"},K3=["onClick"],Y3=we({__name:"ToastContainer",setup(t){const{toasts:e,removeToast:r}=Nr(),o=a=>{switch(a){case"success":return"i-heroicons-check-circle";case"warning":return"i-heroicons-exclamation-triangle";case"error":return"i-heroicons-x-circle";case"info":default:return"i-heroicons-information-circle"}},n=a=>{switch(a){case"success":return"bg-green-700 dark:bg-green-800";case"warning":return"bg-yellow-700 dark:bg-yellow-800";case"error":return"bg-red-700 dark:bg-red-800";case"info":default:return"bg-amber-700 dark:bg-amber-800"}};return(a,l)=>(v(),w("div",W3,[ve(Fd,{name:"toast"},{default:Ve(()=>[(v(!0),w(ye,null,Ie(I(e),u=>(v(),w("div",{key:u.id,class:ne(["rounded-lg shadow-lg text-white p-3 flex items-start gap-2",n(u.type)])},[s("span",{class:ne([o(u.type),"text-xl flex-shrink-0 mt-0.5"])},null,2),s("div",V3,[s("p",z3,E(u.message),1)]),s("button",{onClick:c=>I(r)(u.id),class:"text-white hover:text-gray-200 flex-shrink-0"},l[0]||(l[0]=[s("span",{class:"i-heroicons-x-mark text-lg"},null,-1)]),8,K3)],2))),128))]),_:1})]))}}),J3=et(Y3,[["__scopeId","data-v-34c8d993"]]),X3={key:0,class:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 shadow-lg p-4 z-50 border-t border-gray-200 dark:border-gray-700"},Z3={class:"container mx-auto flex flex-col md:flex-row items-center justify-between gap-4"},eS={class:"flex gap-3"},tS=we({__name:"GdprConsentBanner",setup(t){const{acceptConsent:e,declineConsent:r,isPending:o}=Ds();return(n,a)=>(v(),Qe(Hr,{name:"slide-up"},{default:Ve(()=>[I(o)()?(v(),w("div",X3,[s("div",Z3,[a[2]||(a[2]=s("div",{class:"text-sm text-gray-700 dark:text-gray-300"},[s("p",null,' We use cookies and similar technologies to analyze traffic, enhance site functionality, and improve your experience. By clicking "Accept", you consent to the use of cookies for analytics purposes. ')],-1)),s("div",eS,[s("button",{onClick:a[0]||(a[0]=(...l)=>I(r)&&I(r)(...l)),class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"}," Decline "),s("button",{onClick:a[1]||(a[1]=(...l)=>I(e)&&I(e)(...l)),class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Accept ")])])])):z("",!0)]),_:1}))}}),rS=et(tS,[["__scopeId","data-v-cceb1ffe"]]),oS={key:0,class:"font-bold text-lg mb-2 text-gray-900 dark:text-white"},nS={class:"text-gray-700 dark:text-gray-300 mb-4"},sS={class:"text-xs text-gray-500 dark:text-gray-400 mb-3"},iS={class:"flex justify-between"},aS={key:1,class:"flex-1"},lS=we({__name:"TourTooltip",props:{step:{},isFirstStep:{type:Boolean},isLastStep:{type:Boolean},currentStepIndex:{},totalSteps:{}},emits:["next","prev","skip"],setup(t,{emit:e}){const r=t,o=e,n=H(null),a=bn();return He(()=>{n.value&&(a.tooltipElement&&(a.tooltipElement=n.value),console.log("Tooltip element set in store",n.value),setTimeout(()=>{console.log("Positioning tooltip on mount"),a.positionTooltip()},100))}),Ee(()=>r.step,()=>{setTimeout(()=>{n.value&&(a.tooltipElement=n.value,console.log("Tooltip element updated in store on step change"),a.highlightTarget(),a.positionTooltip())},100)}),(l,u)=>(v(),w("div",{ref_key:"tooltipRef",ref:n,class:ne(["fixed z-50 p-4 bg-white dark:bg-gray-800 rounded-lg shadow-lg max-w-sm tour-tooltip",`tour-tooltip-${l.step.placement||"bottom"}`])},[l.step.title?(v(),w("div",oS,E(l.step.title),1)):z("",!0),s("div",nS,E(l.step.content),1),s("div",sS," Step "+E(l.currentStepIndex+1)+" of "+E(l.totalSteps),1),s("div",iS,[l.isFirstStep?(v(),w("div",aS)):(v(),w("button",{key:0,onClick:u[0]||(u[0]=c=>o("prev")),class:"px-3 py-1 text-sm bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"}," Previous ")),s("button",{onClick:u[1]||(u[1]=c=>o("skip")),class:"px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors"}," Skip Tour "),s("button",{onClick:u[2]||(u[2]=c=>o("next")),class:"px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors"},E(l.isLastStep?"Finish":"Next"),1)])],2))}}),uS=et(lS,[["__scopeId","data-v-ca46d417"]]),cS={key:0,class:"tour-container"},dS=we({__name:"Tour",setup(t){const e=bn();return Ee(()=>e.isActive,r=>{r&&setTimeout(()=>{e.highlightTarget()},100)},{immediate:!0}),He(()=>{e.isActive&&setTimeout(()=>{e.highlightTarget()},100)}),(r,o)=>(v(),Qe(lc,{to:"body"},[I(e).isActive&&I(e).currentStep?(v(),w("div",cS,[o[0]||(o[0]=s("div",{class:"fixed inset-0 z-40 pointer-events-none bg-opacity-30 backdrop-blur-sm"},null,-1)),ve(uS,{step:I(e).currentStep,"is-first-step":I(e).isFirstStep,"is-last-step":I(e).isLastStep,"current-step-index":I(e).currentStepIndex,"total-steps":I(e).totalSteps,onNext:I(e).nextStep,onPrev:I(e).prevStep,onSkip:I(e).skipTour},null,8,["step","is-first-step","is-last-step","current-step-index","total-steps","onNext","onPrev","onSkip"])])):z("",!0)]))}}),mS=we({__name:"TourRestartButton",props:{buttonText:{default:"Start Tour"},buttonClass:{default:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors"}},setup(t){const e=bn(),r=()=>{console.log("Restarting tour"),e.resetTour(),e.startTour()};return(o,n)=>(v(),w("button",{class:ne(o.buttonClass),onClick:r},[xo(o.$slots,"default",{},()=>[G(E(o.buttonText),1)])],2))}}),fS={key:0,class:"fixed bottom-24 right-6 z-50 w-80 bg-amber-50 dark:bg-gray-800 rounded-lg shadow-lg border border-amber-200 dark:border-amber-800 overflow-hidden"},pS={class:"p-4"},gS={class:"flex items-center gap-3"},hS={class:"flex-shrink-0 w-10 h-10 rounded-full bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center"},vS={class:"flex-1"},bS={class:"mt-1 text-sm font-medium text-amber-700 dark:text-amber-200"},xS={class:"mt-0.5 text-xs text-amber-600/90 dark:text-amber-400/90"},yS=we({__name:"AchievementNotification",setup(t){const e=xt(),r=B(()=>e.recentlyCompleted[0]),o=B(()=>e.showNotification);return(n,a)=>(v(),Qe(Hr,{name:"slide-fade"},{default:Ve(()=>[o.value&&r.value?(v(),w("div",fS,[s("div",pS,[s("div",gS,[s("div",hS,[s("span",{class:ne([r.value.icon,"text-xl text-amber-600 dark:text-amber-300"])},null,2)]),s("div",vS,[a[0]||(a[0]=s("div",{class:"flex items-baseline justify-between"},[s("h3",{class:"text-sm font-medium text-amber-800 dark:text-amber-300"},"Achievement Unlocked!"),s("span",{class:"text-xs text-amber-600 dark:text-amber-400 font-bold px-2 py-0.5 rounded-full bg-amber-100 dark:bg-amber-900/30"}," +1 ")],-1)),s("p",bS,E(r.value.name),1),s("p",xS,E(r.value.description),1)])])]),a[1]||(a[1]=s("div",{class:"h-1 bg-amber-500 dark:bg-amber-600 animate-shrink"},null,-1))])):z("",!0)]),_:1}))}}),kS=et(yS,[["__scopeId","data-v-a854f96c"]]);function wS(){const t=H(!0),e=H(Date.now()),r=kr(),o=()=>{const a=t.value;if(t.value=document.visibilityState==="visible",t.value&&!a){const u=(Date.now()-e.value)/1e3;u>=5&&r.calculateOfflineProgress(u,!0)}e.value=Date.now()},n=()=>{localStorage.setItem("lastActiveTimestamp",e.value.toString())};return He(()=>{const a=localStorage.getItem("lastActiveTimestamp");if(a){const l=Date.now(),u=parseInt(a,10),c=(l-u)/1e3;c>=5&&r.calculateOfflineProgress(c,!0),e.value=l,localStorage.removeItem("lastActiveTimestamp")}document.addEventListener("visibilitychange",o),window.addEventListener("beforeunload",n)}),yr(()=>{document.removeEventListener("visibilitychange",o),window.removeEventListener("beforeunload",n)}),{isVisible:xs(t)}}const _S={key:1,class:"fixed bottom-4 right-4 z-30"},SS=we({__name:"App",setup(t){Ze();const e=kr(),r=H(!1);wS(),yn(),nu({debounceTime:150,storageKey:"idleAntFarmScrollPositions",scrollElementSelector:"main"});const o=()=>{e.offlineProgressTicksProcessed>=e.offlineProgressTotalTicks&&(e.isCalculatingOfflineProgress=!1)};return(n,a)=>{const l=Es("router-view");return v(),w(ye,null,[ve(y3,null,{default:Ve(()=>[ve(l)]),_:1}),ve(C3,{"is-visible":I(e).isCalculatingOfflineProgress,"total-ticks":I(e).offlineProgressTotalTicks,"ticks-processed":I(e).offlineProgressTicksProcessed,"elapsed-time":I(e).offlineProgressElapsedTime,onClose:o},null,8,["is-visible","total-ticks","ticks-processed","elapsed-time"]),ve(G3),ve(F3),ve(J3),ve(kS),ve(rS),!I(e).isCalculatingOfflineProgress&&r.value?(v(),Qe(dS,{key:0})):z("",!0),r.value?(v(),w("div",_S,[ve(mS,{buttonClass:"px-4 py-2 bg-blue-500 text-white rounded-full shadow-lg hover:bg-blue-600 transition-colors flex items-center"},{default:Ve(()=>a[0]||(a[0]=[s("span",{class:"mr-1"},"?",-1),G(" Help & Tour ")])),_:1})])):z("",!0)],64)}}}),wn=Wd(SS),$S=Xm();wn.use($S);wn.use(ls);const{hasConsent:da}=Ds();wn.use(S5,{property:{id:"G-B1PSTMRJMF"},isEnabled:da(),useDebugger:!1,disableScriptLoad:!da()});wn.mount("#app");const hu=kr(),ma=hu.loadGame();ma&&console.log("Loaded game with offline progress:",ma);hu.startAutoSave();
