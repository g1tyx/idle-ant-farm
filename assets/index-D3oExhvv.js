(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function o(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=o(a);fetch(a.href,l)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ua(e){const t=Object.create(null);for(const o of e.split(","))t[o]=1;return o=>o in t}const ot={},xo=[],gr=()=>{},Rd=()=>!1,zs=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ca=e=>e.startsWith("onUpdate:"),_t=Object.assign,da=(e,t)=>{const o=e.indexOf(t);o>-1&&e.splice(o,1)},Dd=Object.prototype.hasOwnProperty,et=(e,t)=>Dd.call(e,t),qe=Array.isArray,yo=e=>is(e)==="[object Map]",Xs=e=>is(e)==="[object Set]",wl=e=>is(e)==="[object Date]",Ne=e=>typeof e=="function",pt=e=>typeof e=="string",nr=e=>typeof e=="symbol",rt=e=>e!==null&&typeof e=="object",tu=e=>(rt(e)||Ne(e))&&Ne(e.then)&&Ne(e.catch),ru=Object.prototype.toString,is=e=>ru.call(e),qd=e=>is(e).slice(8,-1),ou=e=>is(e)==="[object Object]",ma=e=>pt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,No=ua(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ks=e=>{const t=Object.create(null);return o=>t[o]||(t[o]=e(o))},Nd=/-(\w)/g,Kt=Ks(e=>e.replace(Nd,(t,o)=>o?o.toUpperCase():"")),Od=/\B([A-Z])/g,Dr=Ks(e=>e.replace(Od,"-$1").toLowerCase()),Ys=Ks(e=>e.charAt(0).toUpperCase()+e.slice(1)),xn=Ks(e=>e?`on${Ys(e)}`:""),Ur=(e,t)=>!Object.is(e,t),Ps=(e,...t)=>{for(let o=0;o<e.length;o++)e[o](...t)},su=(e,t,o,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:o})},jn=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Bd=e=>{const t=pt(e)?Number(e):NaN;return isNaN(t)?e:t};let $l;const Js=()=>$l||($l=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function je(e){if(qe(e)){const t={};for(let o=0;o<e.length;o++){const n=e[o],a=pt(n)?Gd(n):je(n);if(a)for(const l in a)t[l]=a[l]}return t}else if(pt(e)||rt(e))return e}const Qd=/;(?![^(]*\))/g,jd=/:([^]+)/,Hd=/\/\*[^]*?\*\//g;function Gd(e){const t={};return e.replace(Hd,"").split(Qd).forEach(o=>{if(o){const n=o.split(jd);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function ee(e){let t="";if(pt(e))t=e;else if(qe(e))for(let o=0;o<e.length;o++){const n=ee(e[o]);n&&(t+=n+" ")}else if(rt(e))for(const o in e)e[o]&&(t+=o+" ");return t.trim()}const Vd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Wd=ua(Vd);function nu(e){return!!e||e===""}function zd(e,t){if(e.length!==t.length)return!1;let o=!0;for(let n=0;o&&n<e.length;n++)o=Zs(e[n],t[n]);return o}function Zs(e,t){if(e===t)return!0;let o=wl(e),n=wl(t);if(o||n)return o&&n?e.getTime()===t.getTime():!1;if(o=nr(e),n=nr(t),o||n)return e===t;if(o=qe(e),n=qe(t),o||n)return o&&n?zd(e,t):!1;if(o=rt(e),n=rt(t),o||n){if(!o||!n)return!1;const a=Object.keys(e).length,l=Object.keys(t).length;if(a!==l)return!1;for(const i in e){const u=e.hasOwnProperty(i),c=t.hasOwnProperty(i);if(u&&!c||!u&&c||!Zs(e[i],t[i]))return!1}}return String(e)===String(t)}function au(e,t){return e.findIndex(o=>Zs(o,t))}const lu=e=>!!(e&&e.__v_isRef===!0),v=e=>pt(e)?e:e==null?"":qe(e)||rt(e)&&(e.toString===ru||!Ne(e.toString))?lu(e)?v(e.value):JSON.stringify(e,iu,2):String(e),iu=(e,t)=>lu(t)?iu(e,t.value):yo(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((o,[n,a],l)=>(o[yn(n,l)+" =>"]=a,o),{})}:Xs(t)?{[`Set(${t.size})`]:[...t.values()].map(o=>yn(o))}:nr(t)?yn(t):rt(t)&&!qe(t)&&!ou(t)?String(t):t,yn=(e,t="")=>{var o;return nr(e)?`Symbol(${(o=e.description)!=null?o:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ft;class uu{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ft,!t&&Ft&&(this.index=(Ft.scopes||(Ft.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,o;if(this.scopes)for(t=0,o=this.scopes.length;t<o;t++)this.scopes[t].pause();for(t=0,o=this.effects.length;t<o;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,o;if(this.scopes)for(t=0,o=this.scopes.length;t<o;t++)this.scopes[t].resume();for(t=0,o=this.effects.length;t<o;t++)this.effects[t].resume()}}run(t){if(this._active){const o=Ft;try{return Ft=this,t()}finally{Ft=o}}}on(){Ft=this}off(){Ft=this.parent}stop(t){if(this._active){this._active=!1;let o,n;for(o=0,n=this.effects.length;o<n;o++)this.effects[o].stop();for(this.effects.length=0,o=0,n=this.cleanups.length;o<n;o++)this.cleanups[o]();if(this.cleanups.length=0,this.scopes){for(o=0,n=this.scopes.length;o<n;o++)this.scopes[o].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function cu(e){return new uu(e)}function pa(){return Ft}function du(e,t=!1){Ft&&Ft.cleanups.push(e)}let at;const kn=new WeakSet;class mu{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ft&&Ft.active&&Ft.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,kn.has(this)&&(kn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||fu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Cl(this),gu(this);const t=at,o=sr;at=this,sr=!0;try{return this.fn()}finally{vu(this),at=t,sr=o,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)va(t);this.deps=this.depsTail=void 0,Cl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?kn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Hn(this)&&this.run()}get dirty(){return Hn(this)}}let pu=0,Oo,Bo;function fu(e,t=!1){if(e.flags|=8,t){e.next=Bo,Bo=e;return}e.next=Oo,Oo=e}function fa(){pu++}function ga(){if(--pu>0)return;if(Bo){let t=Bo;for(Bo=void 0;t;){const o=t.next;t.next=void 0,t.flags&=-9,t=o}}let e;for(;Oo;){let t=Oo;for(Oo=void 0;t;){const o=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=o}}if(e)throw e}function gu(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function vu(e){let t,o=e.depsTail,n=o;for(;n;){const a=n.prevDep;n.version===-1?(n===o&&(o=a),va(n),Xd(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=a}e.deps=t,e.depsTail=o}function Hn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(bu(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function bu(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Xo))return;e.globalVersion=Xo;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Hn(e)){e.flags&=-3;return}const o=at,n=sr;at=e,sr=!0;try{gu(e);const a=e.fn(e._value);(t.version===0||Ur(a,e._value))&&(e._value=a,t.version++)}catch(a){throw t.version++,a}finally{at=o,sr=n,vu(e),e.flags&=-3}}function va(e,t=!1){const{dep:o,prevSub:n,nextSub:a}=e;if(n&&(n.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=n,e.nextSub=void 0),o.subs===e&&(o.subs=n,!n&&o.computed)){o.computed.flags&=-5;for(let l=o.computed.deps;l;l=l.nextDep)va(l,!0)}!t&&!--o.sc&&o.map&&o.map.delete(o.key)}function Xd(e){const{prevDep:t,nextDep:o}=e;t&&(t.nextDep=o,e.prevDep=void 0),o&&(o.prevDep=t,e.nextDep=void 0)}let sr=!0;const hu=[];function qr(){hu.push(sr),sr=!1}function Nr(){const e=hu.pop();sr=e===void 0?!0:e}function Cl(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const o=at;at=void 0;try{t()}finally{at=o}}}let Xo=0;class Kd{constructor(t,o){this.sub=t,this.dep=o,this.version=o.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ba{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!at||!sr||at===this.computed)return;let o=this.activeLink;if(o===void 0||o.sub!==at)o=this.activeLink=new Kd(at,this),at.deps?(o.prevDep=at.depsTail,at.depsTail.nextDep=o,at.depsTail=o):at.deps=at.depsTail=o,xu(o);else if(o.version===-1&&(o.version=this.version,o.nextDep)){const n=o.nextDep;n.prevDep=o.prevDep,o.prevDep&&(o.prevDep.nextDep=n),o.prevDep=at.depsTail,o.nextDep=void 0,at.depsTail.nextDep=o,at.depsTail=o,at.deps===o&&(at.deps=n)}return o}trigger(t){this.version++,Xo++,this.notify(t)}notify(t){fa();try{for(let o=this.subs;o;o=o.prevSub)o.sub.notify()&&o.sub.dep.notify()}finally{ga()}}}function xu(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)xu(n)}const o=e.dep.subs;o!==e&&(e.prevSub=o,o&&(o.nextSub=e)),e.dep.subs=e}}const qs=new WeakMap,Zr=Symbol(""),Gn=Symbol(""),Ko=Symbol("");function At(e,t,o){if(sr&&at){let n=qs.get(e);n||qs.set(e,n=new Map);let a=n.get(o);a||(n.set(o,a=new ba),a.map=n,a.key=o),a.track()}}function kr(e,t,o,n,a,l){const i=qs.get(e);if(!i){Xo++;return}const u=c=>{c&&c.trigger()};if(fa(),t==="clear")i.forEach(u);else{const c=qe(e),d=c&&ma(o);if(c&&o==="length"){const m=Number(n);i.forEach((b,x)=>{(x==="length"||x===Ko||!nr(x)&&x>=m)&&u(b)})}else switch((o!==void 0||i.has(void 0))&&u(i.get(o)),d&&u(i.get(Ko)),t){case"add":c?d&&u(i.get("length")):(u(i.get(Zr)),yo(e)&&u(i.get(Gn)));break;case"delete":c||(u(i.get(Zr)),yo(e)&&u(i.get(Gn)));break;case"set":yo(e)&&u(i.get(Zr));break}}ga()}function Yd(e,t){const o=qs.get(e);return o&&o.get(t)}function io(e){const t=Xe(e);return t===e?t:(At(t,"iterate",Ko),zt(e)?t:t.map(Et))}function en(e){return At(e=Xe(e),"iterate",Ko),e}const Jd={__proto__:null,[Symbol.iterator](){return _n(this,Symbol.iterator,Et)},concat(...e){return io(this).concat(...e.map(t=>qe(t)?io(t):t))},entries(){return _n(this,"entries",e=>(e[1]=Et(e[1]),e))},every(e,t){return hr(this,"every",e,t,void 0,arguments)},filter(e,t){return hr(this,"filter",e,t,o=>o.map(Et),arguments)},find(e,t){return hr(this,"find",e,t,Et,arguments)},findIndex(e,t){return hr(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return hr(this,"findLast",e,t,Et,arguments)},findLastIndex(e,t){return hr(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return hr(this,"forEach",e,t,void 0,arguments)},includes(...e){return wn(this,"includes",e)},indexOf(...e){return wn(this,"indexOf",e)},join(e){return io(this).join(e)},lastIndexOf(...e){return wn(this,"lastIndexOf",e)},map(e,t){return hr(this,"map",e,t,void 0,arguments)},pop(){return Lo(this,"pop")},push(...e){return Lo(this,"push",e)},reduce(e,...t){return Sl(this,"reduce",e,t)},reduceRight(e,...t){return Sl(this,"reduceRight",e,t)},shift(){return Lo(this,"shift")},some(e,t){return hr(this,"some",e,t,void 0,arguments)},splice(...e){return Lo(this,"splice",e)},toReversed(){return io(this).toReversed()},toSorted(e){return io(this).toSorted(e)},toSpliced(...e){return io(this).toSpliced(...e)},unshift(...e){return Lo(this,"unshift",e)},values(){return _n(this,"values",Et)}};function _n(e,t,o){const n=en(e),a=n[t]();return n!==e&&!zt(e)&&(a._next=a.next,a.next=()=>{const l=a._next();return l.value&&(l.value=o(l.value)),l}),a}const Zd=Array.prototype;function hr(e,t,o,n,a,l){const i=en(e),u=i!==e&&!zt(e),c=i[t];if(c!==Zd[t]){const b=c.apply(e,l);return u?Et(b):b}let d=o;i!==e&&(u?d=function(b,x){return o.call(this,Et(b),x,e)}:o.length>2&&(d=function(b,x){return o.call(this,b,x,e)}));const m=c.call(i,d,n);return u&&a?a(m):m}function Sl(e,t,o,n){const a=en(e);let l=o;return a!==e&&(zt(e)?o.length>3&&(l=function(i,u,c){return o.call(this,i,u,c,e)}):l=function(i,u,c){return o.call(this,i,Et(u),c,e)}),a[t](l,...n)}function wn(e,t,o){const n=Xe(e);At(n,"iterate",Ko);const a=n[t](...o);return(a===-1||a===!1)&&ka(o[0])?(o[0]=Xe(o[0]),n[t](...o)):a}function Lo(e,t,o=[]){qr(),fa();const n=Xe(e)[t].apply(e,o);return ga(),Nr(),n}const e0=ua("__proto__,__v_isRef,__isVue"),yu=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(nr));function t0(e){nr(e)||(e=String(e));const t=Xe(this);return At(t,"has",e),t.hasOwnProperty(e)}class ku{constructor(t=!1,o=!1){this._isReadonly=t,this._isShallow=o}get(t,o,n){if(o==="__v_skip")return t.__v_skip;const a=this._isReadonly,l=this._isShallow;if(o==="__v_isReactive")return!a;if(o==="__v_isReadonly")return a;if(o==="__v_isShallow")return l;if(o==="__v_raw")return n===(a?l?d0:Cu:l?$u:wu).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const i=qe(t);if(!a){let c;if(i&&(c=Jd[o]))return c;if(o==="hasOwnProperty")return t0}const u=Reflect.get(t,o,ze(t)?t:n);return(nr(o)?yu.has(o):e0(o))||(a||At(t,"get",o),l)?u:ze(u)?i&&ma(o)?u:u.value:rt(u)?a?xa(u):so(u):u}}class _u extends ku{constructor(t=!1){super(!1,t)}set(t,o,n,a){let l=t[o];if(!this._isShallow){const c=to(l);if(!zt(n)&&!to(n)&&(l=Xe(l),n=Xe(n)),!qe(t)&&ze(l)&&!ze(n))return c?!1:(l.value=n,!0)}const i=qe(t)&&ma(o)?Number(o)<t.length:et(t,o),u=Reflect.set(t,o,n,ze(t)?t:a);return t===Xe(a)&&(i?Ur(n,l)&&kr(t,"set",o,n):kr(t,"add",o,n)),u}deleteProperty(t,o){const n=et(t,o);t[o];const a=Reflect.deleteProperty(t,o);return a&&n&&kr(t,"delete",o,void 0),a}has(t,o){const n=Reflect.has(t,o);return(!nr(o)||!yu.has(o))&&At(t,"has",o),n}ownKeys(t){return At(t,"iterate",qe(t)?"length":Zr),Reflect.ownKeys(t)}}class r0 extends ku{constructor(t=!1){super(!0,t)}set(t,o){return!0}deleteProperty(t,o){return!0}}const o0=new _u,s0=new r0,n0=new _u(!0);const Vn=e=>e,bs=e=>Reflect.getPrototypeOf(e);function a0(e,t,o){return function(...n){const a=this.__v_raw,l=Xe(a),i=yo(l),u=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,d=a[e](...n),m=o?Vn:t?Wn:Et;return!t&&At(l,"iterate",c?Gn:Zr),{next(){const{value:b,done:x}=d.next();return x?{value:b,done:x}:{value:u?[m(b[0]),m(b[1])]:m(b),done:x}},[Symbol.iterator](){return this}}}}function hs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function l0(e,t){const o={get(a){const l=this.__v_raw,i=Xe(l),u=Xe(a);e||(Ur(a,u)&&At(i,"get",a),At(i,"get",u));const{has:c}=bs(i),d=t?Vn:e?Wn:Et;if(c.call(i,a))return d(l.get(a));if(c.call(i,u))return d(l.get(u));l!==i&&l.get(a)},get size(){const a=this.__v_raw;return!e&&At(Xe(a),"iterate",Zr),Reflect.get(a,"size",a)},has(a){const l=this.__v_raw,i=Xe(l),u=Xe(a);return e||(Ur(a,u)&&At(i,"has",a),At(i,"has",u)),a===u?l.has(a):l.has(a)||l.has(u)},forEach(a,l){const i=this,u=i.__v_raw,c=Xe(u),d=t?Vn:e?Wn:Et;return!e&&At(c,"iterate",Zr),u.forEach((m,b)=>a.call(l,d(m),d(b),i))}};return _t(o,e?{add:hs("add"),set:hs("set"),delete:hs("delete"),clear:hs("clear")}:{add(a){!t&&!zt(a)&&!to(a)&&(a=Xe(a));const l=Xe(this);return bs(l).has.call(l,a)||(l.add(a),kr(l,"add",a,a)),this},set(a,l){!t&&!zt(l)&&!to(l)&&(l=Xe(l));const i=Xe(this),{has:u,get:c}=bs(i);let d=u.call(i,a);d||(a=Xe(a),d=u.call(i,a));const m=c.call(i,a);return i.set(a,l),d?Ur(l,m)&&kr(i,"set",a,l):kr(i,"add",a,l),this},delete(a){const l=Xe(this),{has:i,get:u}=bs(l);let c=i.call(l,a);c||(a=Xe(a),c=i.call(l,a)),u&&u.call(l,a);const d=l.delete(a);return c&&kr(l,"delete",a,void 0),d},clear(){const a=Xe(this),l=a.size!==0,i=a.clear();return l&&kr(a,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(a=>{o[a]=a0(a,e,t)}),o}function ha(e,t){const o=l0(e,t);return(n,a,l)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?n:Reflect.get(et(o,a)&&a in n?o:n,a,l)}const i0={get:ha(!1,!1)},u0={get:ha(!1,!0)},c0={get:ha(!0,!1)};const wu=new WeakMap,$u=new WeakMap,Cu=new WeakMap,d0=new WeakMap;function m0(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function p0(e){return e.__v_skip||!Object.isExtensible(e)?0:m0(qd(e))}function so(e){return to(e)?e:ya(e,!1,o0,i0,wu)}function Su(e){return ya(e,!1,n0,u0,$u)}function xa(e){return ya(e,!0,s0,c0,Cu)}function ya(e,t,o,n,a){if(!rt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const l=a.get(e);if(l)return l;const i=p0(e);if(i===0)return e;const u=new Proxy(e,i===2?n:o);return a.set(e,u),u}function wr(e){return to(e)?wr(e.__v_raw):!!(e&&e.__v_isReactive)}function to(e){return!!(e&&e.__v_isReadonly)}function zt(e){return!!(e&&e.__v_isShallow)}function ka(e){return e?!!e.__v_raw:!1}function Xe(e){const t=e&&e.__v_raw;return t?Xe(t):e}function _a(e){return!et(e,"__v_skip")&&Object.isExtensible(e)&&su(e,"__v_skip",!0),e}const Et=e=>rt(e)?so(e):e,Wn=e=>rt(e)?xa(e):e;function ze(e){return e?e.__v_isRef===!0:!1}function B(e){return Au(e,!1)}function Ut(e){return Au(e,!0)}function Au(e,t){return ze(e)?e:new f0(e,t)}class f0{constructor(t,o){this.dep=new ba,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=o?t:Xe(t),this._value=o?t:Et(t),this.__v_isShallow=o}get value(){return this.dep.track(),this._value}set value(t){const o=this._rawValue,n=this.__v_isShallow||zt(t)||to(t);t=n?t:Xe(t),Ur(t,o)&&(this._rawValue=t,this._value=n?t:Et(t),this.dep.trigger())}}function f(e){return ze(e)?e.value:e}function vr(e){return Ne(e)?e():f(e)}const g0={get:(e,t,o)=>t==="__v_raw"?e:f(Reflect.get(e,t,o)),set:(e,t,o,n)=>{const a=e[t];return ze(a)&&!ze(o)?(a.value=o,!0):Reflect.set(e,t,o,n)}};function Eu(e){return wr(e)?e:new Proxy(e,g0)}function Mu(e){const t=qe(e)?new Array(e.length):{};for(const o in e)t[o]=Pu(e,o);return t}class v0{constructor(t,o,n){this._object=t,this._key=o,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Yd(Xe(this._object),this._key)}}class b0{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function h0(e,t,o){return ze(e)?e:Ne(e)?new b0(e):rt(e)&&arguments.length>1?Pu(e,t,o):B(e)}function Pu(e,t,o){const n=e[t];return ze(n)?n:new v0(e,t,o)}class x0{constructor(t,o,n){this.fn=t,this.setter=o,this._value=void 0,this.dep=new ba(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Xo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!o,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&at!==this)return fu(this,!0),!0}get value(){const t=this.dep.track();return bu(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function y0(e,t,o=!1){let n,a;return Ne(e)?n=e:(n=e.get,a=e.set),new x0(n,a,o)}const xs={},Ns=new WeakMap;let Vr;function k0(e,t=!1,o=Vr){if(o){let n=Ns.get(o);n||Ns.set(o,n=[]),n.push(e)}}function _0(e,t,o=ot){const{immediate:n,deep:a,once:l,scheduler:i,augmentJob:u,call:c}=o,d=P=>a?P:zt(P)||a===!1||a===0?_r(P,1):_r(P);let m,b,x,h,C=!1,w=!1;if(ze(e)?(b=()=>e.value,C=zt(e)):wr(e)?(b=()=>d(e),C=!0):qe(e)?(w=!0,C=e.some(P=>wr(P)||zt(P)),b=()=>e.map(P=>{if(ze(P))return P.value;if(wr(P))return d(P);if(Ne(P))return c?c(P,2):P()})):Ne(e)?t?b=c?()=>c(e,2):e:b=()=>{if(x){qr();try{x()}finally{Nr()}}const P=Vr;Vr=m;try{return c?c(e,3,[h]):e(h)}finally{Vr=P}}:b=gr,t&&a){const P=b,I=a===!0?1/0:a;b=()=>_r(P(),I)}const M=pa(),S=()=>{m.stop(),M&&M.active&&da(M.effects,m)};if(l&&t){const P=t;t=(...I)=>{P(...I),S()}}let _=w?new Array(e.length).fill(xs):xs;const y=P=>{if(!(!(m.flags&1)||!m.dirty&&!P))if(t){const I=m.run();if(a||C||(w?I.some((U,q)=>Ur(U,_[q])):Ur(I,_))){x&&x();const U=Vr;Vr=m;try{const q=[I,_===xs?void 0:w&&_[0]===xs?[]:_,h];c?c(t,3,q):t(...q),_=I}finally{Vr=U}}}else m.run()};return u&&u(y),m=new mu(b),m.scheduler=i?()=>i(y,!1):y,h=P=>k0(P,!1,m),x=m.onStop=()=>{const P=Ns.get(m);if(P){if(c)c(P,4);else for(const I of P)I();Ns.delete(m)}},t?n?y(!0):_=m.run():i?i(y.bind(null,!0),!0):m.run(),S.pause=m.pause.bind(m),S.resume=m.resume.bind(m),S.stop=S,S}function _r(e,t=1/0,o){if(t<=0||!rt(e)||e.__v_skip||(o=o||new Set,o.has(e)))return e;if(o.add(e),t--,ze(e))_r(e.value,t,o);else if(qe(e))for(let n=0;n<e.length;n++)_r(e[n],t,o);else if(Xs(e)||yo(e))e.forEach(n=>{_r(n,t,o)});else if(ou(e)){for(const n in e)_r(e[n],t,o);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&_r(e[n],t,o)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function us(e,t,o,n){try{return n?e(...n):e()}catch(a){tn(a,t,o)}}function ar(e,t,o,n){if(Ne(e)){const a=us(e,t,o,n);return a&&tu(a)&&a.catch(l=>{tn(l,t,o)}),a}if(qe(e)){const a=[];for(let l=0;l<e.length;l++)a.push(ar(e[l],t,o,n));return a}}function tn(e,t,o,n=!0){const a=t?t.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||ot;if(t){let u=t.parent;const c=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${o}`;for(;u;){const m=u.ec;if(m){for(let b=0;b<m.length;b++)if(m[b](e,c,d)===!1)return}u=u.parent}if(l){qr(),us(l,null,10,[e,c,d]),Nr();return}}w0(e,o,a,n,i)}function w0(e,t,o,n=!0,a=!1){if(a)throw e;console.error(e)}const Rt=[];let mr=-1;const ko=[];let Tr=null,go=0;const Tu=Promise.resolve();let Os=null;function cs(e){const t=Os||Tu;return e?t.then(this?e.bind(this):e):t}function $0(e){let t=mr+1,o=Rt.length;for(;t<o;){const n=t+o>>>1,a=Rt[n],l=Yo(a);l<e||l===e&&a.flags&2?t=n+1:o=n}return t}function wa(e){if(!(e.flags&1)){const t=Yo(e),o=Rt[Rt.length-1];!o||!(e.flags&2)&&t>=Yo(o)?Rt.push(e):Rt.splice($0(t),0,e),e.flags|=1,Lu()}}function Lu(){Os||(Os=Tu.then(Fu))}function C0(e){qe(e)?ko.push(...e):Tr&&e.id===-1?Tr.splice(go+1,0,e):e.flags&1||(ko.push(e),e.flags|=1),Lu()}function Al(e,t,o=mr+1){for(;o<Rt.length;o++){const n=Rt[o];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;Rt.splice(o,1),o--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Iu(e){if(ko.length){const t=[...new Set(ko)].sort((o,n)=>Yo(o)-Yo(n));if(ko.length=0,Tr){Tr.push(...t);return}for(Tr=t,go=0;go<Tr.length;go++){const o=Tr[go];o.flags&4&&(o.flags&=-2),o.flags&8||o(),o.flags&=-2}Tr=null,go=0}}const Yo=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Fu(e){try{for(mr=0;mr<Rt.length;mr++){const t=Rt[mr];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),us(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;mr<Rt.length;mr++){const t=Rt[mr];t&&(t.flags&=-2)}mr=-1,Rt.length=0,Iu(),Os=null,(Rt.length||ko.length)&&Fu()}}let kt=null,Uu=null;function Bs(e){const t=kt;return kt=e,Uu=e&&e.type.__scopeId||null,t}function it(e,t=kt,o){if(!t||e._n)return e;const n=(...a)=>{n._d&&Bl(-1);const l=Bs(t);let i;try{i=e(...a)}finally{Bs(l),n._d&&Bl(1)}return i};return n._n=!0,n._c=!0,n._d=!0,n}function tt(e,t){if(kt===null)return e;const o=an(kt),n=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[l,i,u,c=ot]=t[a];l&&(Ne(l)&&(l={mounted:l,updated:l}),l.deep&&_r(i),n.push({dir:l,instance:o,value:i,oldValue:void 0,arg:u,modifiers:c}))}return e}function Qr(e,t,o,n){const a=e.dirs,l=t&&t.dirs;for(let i=0;i<a.length;i++){const u=a[i];l&&(u.oldValue=l[i].value);let c=u.dir[n];c&&(qr(),ar(c,o,8,[e.el,u,e,t]),Nr())}}const Ru=Symbol("_vte"),Du=e=>e.__isTeleport,Qo=e=>e&&(e.disabled||e.disabled===""),El=e=>e&&(e.defer||e.defer===""),Ml=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Pl=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,zn=(e,t)=>{const o=e&&e.to;return pt(o)?t?t(o):null:o},qu={name:"Teleport",__isTeleport:!0,process(e,t,o,n,a,l,i,u,c,d){const{mc:m,pc:b,pbc:x,o:{insert:h,querySelector:C,createText:w,createComment:M}}=d,S=Qo(t.props);let{shapeFlag:_,children:y,dynamicChildren:P}=t;if(e==null){const I=t.el=w(""),U=t.anchor=w("");h(I,o,n),h(U,o,n);const q=(W,le)=>{_&16&&(a&&a.isCE&&(a.ce._teleportTarget=W),m(y,W,le,a,l,i,u,c))},k=()=>{const W=t.target=zn(t.props,C),le=Nu(W,t,w,h);W&&(i!=="svg"&&Ml(W)?i="svg":i!=="mathml"&&Pl(W)&&(i="mathml"),S||(q(W,le),Ts(t,!1)))};S&&(q(o,U),Ts(t,!0)),El(t.props)?It(()=>{k(),t.el.__isMounted=!0},l):k()}else{if(El(t.props)&&!e.el.__isMounted){It(()=>{qu.process(e,t,o,n,a,l,i,u,c,d),delete e.el.__isMounted},l);return}t.el=e.el,t.targetStart=e.targetStart;const I=t.anchor=e.anchor,U=t.target=e.target,q=t.targetAnchor=e.targetAnchor,k=Qo(e.props),W=k?o:U,le=k?I:q;if(i==="svg"||Ml(U)?i="svg":(i==="mathml"||Pl(U))&&(i="mathml"),P?(x(e.dynamicChildren,P,W,a,l,i,u),Ea(e,t,!0)):c||b(e,t,W,le,a,l,i,u,!1),S)k?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):ys(t,o,I,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const X=t.target=zn(t.props,C);X&&ys(t,X,null,d,0)}else k&&ys(t,U,q,d,1);Ts(t,S)}},remove(e,t,o,{um:n,o:{remove:a}},l){const{shapeFlag:i,children:u,anchor:c,targetStart:d,targetAnchor:m,target:b,props:x}=e;if(b&&(a(d),a(m)),l&&a(c),i&16){const h=l||!Qo(x);for(let C=0;C<u.length;C++){const w=u[C];n(w,t,o,h,!!w.dynamicChildren)}}},move:ys,hydrate:S0};function ys(e,t,o,{o:{insert:n},m:a},l=2){l===0&&n(e.targetAnchor,t,o);const{el:i,anchor:u,shapeFlag:c,children:d,props:m}=e,b=l===2;if(b&&n(i,t,o),(!b||Qo(m))&&c&16)for(let x=0;x<d.length;x++)a(d[x],t,o,2);b&&n(u,t,o)}function S0(e,t,o,n,a,l,{o:{nextSibling:i,parentNode:u,querySelector:c,insert:d,createText:m}},b){const x=t.target=zn(t.props,c);if(x){const h=Qo(t.props),C=x._lpa||x.firstChild;if(t.shapeFlag&16)if(h)t.anchor=b(i(e),t,u(e),o,n,a,l),t.targetStart=C,t.targetAnchor=C&&i(C);else{t.anchor=i(e);let w=C;for(;w;){if(w&&w.nodeType===8){if(w.data==="teleport start anchor")t.targetStart=w;else if(w.data==="teleport anchor"){t.targetAnchor=w,x._lpa=t.targetAnchor&&i(t.targetAnchor);break}}w=i(w)}t.targetAnchor||Nu(x,t,m,d),b(C&&i(C),t,x,o,n,a,l)}Ts(t,h)}return t.anchor&&i(t.anchor)}const A0=qu;function Ts(e,t){const o=e.ctx;if(o&&o.ut){let n,a;for(t?(n=e.el,a=e.anchor):(n=e.targetStart,a=e.targetAnchor);n&&n!==a;)n.nodeType===1&&n.setAttribute("data-v-owner",o.uid),n=n.nextSibling;o.ut()}}function Nu(e,t,o,n){const a=t.targetStart=o(""),l=t.targetAnchor=o("");return a[Ru]=l,e&&(n(a,e),n(l,e)),l}const Lr=Symbol("_leaveCb"),ks=Symbol("_enterCb");function Ou(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return He(()=>{e.isMounted=!0}),Zt(()=>{e.isUnmounting=!0}),e}const Wt=[Function,Array],Bu={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Wt,onEnter:Wt,onAfterEnter:Wt,onEnterCancelled:Wt,onBeforeLeave:Wt,onLeave:Wt,onAfterLeave:Wt,onLeaveCancelled:Wt,onBeforeAppear:Wt,onAppear:Wt,onAfterAppear:Wt,onAppearCancelled:Wt},Qu=e=>{const t=e.subTree;return t.component?Qu(t.component):t},E0={name:"BaseTransition",props:Bu,setup(e,{slots:t}){const o=ds(),n=Ou();return()=>{const a=t.default&&$a(t.default(),!0);if(!a||!a.length)return;const l=ju(a),i=Xe(e),{mode:u}=i;if(n.isLeaving)return $n(l);const c=Tl(l);if(!c)return $n(l);let d=Jo(c,i,n,o,b=>d=b);c.type!==Dt&&ro(c,d);let m=o.subTree&&Tl(o.subTree);if(m&&m.type!==Dt&&!zr(c,m)&&Qu(o).type!==Dt){let b=Jo(m,i,n,o);if(ro(m,b),u==="out-in"&&c.type!==Dt)return n.isLeaving=!0,b.afterLeave=()=>{n.isLeaving=!1,o.job.flags&8||o.update(),delete b.afterLeave,m=void 0},$n(l);u==="in-out"&&c.type!==Dt?b.delayLeave=(x,h,C)=>{const w=Hu(n,m);w[String(m.key)]=m,x[Lr]=()=>{h(),x[Lr]=void 0,delete d.delayedLeave,m=void 0},d.delayedLeave=()=>{C(),delete d.delayedLeave,m=void 0}}:m=void 0}else m&&(m=void 0);return l}}};function ju(e){let t=e[0];if(e.length>1){for(const o of e)if(o.type!==Dt){t=o;break}}return t}const M0=E0;function Hu(e,t){const{leavingVNodes:o}=e;let n=o.get(t.type);return n||(n=Object.create(null),o.set(t.type,n)),n}function Jo(e,t,o,n,a){const{appear:l,mode:i,persisted:u=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:m,onEnterCancelled:b,onBeforeLeave:x,onLeave:h,onAfterLeave:C,onLeaveCancelled:w,onBeforeAppear:M,onAppear:S,onAfterAppear:_,onAppearCancelled:y}=t,P=String(e.key),I=Hu(o,e),U=(W,le)=>{W&&ar(W,n,9,le)},q=(W,le)=>{const X=le[1];U(W,le),qe(W)?W.every(j=>j.length<=1)&&X():W.length<=1&&X()},k={mode:i,persisted:u,beforeEnter(W){let le=c;if(!o.isMounted)if(l)le=M||c;else return;W[Lr]&&W[Lr](!0);const X=I[P];X&&zr(e,X)&&X.el[Lr]&&X.el[Lr](),U(le,[W])},enter(W){let le=d,X=m,j=b;if(!o.isMounted)if(l)le=S||d,X=_||m,j=y||b;else return;let T=!1;const K=W[ks]=fe=>{T||(T=!0,fe?U(j,[W]):U(X,[W]),k.delayedLeave&&k.delayedLeave(),W[ks]=void 0)};le?q(le,[W,K]):K()},leave(W,le){const X=String(e.key);if(W[ks]&&W[ks](!0),o.isUnmounting)return le();U(x,[W]);let j=!1;const T=W[Lr]=K=>{j||(j=!0,le(),K?U(w,[W]):U(C,[W]),W[Lr]=void 0,I[X]===e&&delete I[X])};I[X]=e,h?q(h,[W,T]):T()},clone(W){const le=Jo(W,t,o,n,a);return a&&a(le),le}};return k}function $n(e){if(rn(e))return e=Rr(e),e.children=null,e}function Tl(e){if(!rn(e))return Du(e.type)&&e.children?ju(e.children):e;const{shapeFlag:t,children:o}=e;if(o){if(t&16)return o[0];if(t&32&&Ne(o.default))return o.default()}}function ro(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ro(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function $a(e,t=!1,o){let n=[],a=0;for(let l=0;l<e.length;l++){let i=e[l];const u=o==null?i.key:String(o)+String(i.key!=null?i.key:l);i.type===$e?(i.patchFlag&128&&a++,n=n.concat($a(i.children,t,u))):(t||i.type!==Dt)&&n.push(u!=null?Rr(i,{key:u}):i)}if(a>1)for(let l=0;l<n.length;l++)n[l].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function Ie(e,t){return Ne(e)?_t({name:e.name},t,{setup:e}):e}function Gu(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Qs(e,t,o,n,a=!1){if(qe(e)){e.forEach((C,w)=>Qs(C,t&&(qe(t)?t[w]:t),o,n,a));return}if(_o(n)&&!a){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Qs(e,t,o,n.component.subTree);return}const l=n.shapeFlag&4?an(n.component):n.el,i=a?null:l,{i:u,r:c}=e,d=t&&t.r,m=u.refs===ot?u.refs={}:u.refs,b=u.setupState,x=Xe(b),h=b===ot?()=>!1:C=>et(x,C);if(d!=null&&d!==c&&(pt(d)?(m[d]=null,h(d)&&(b[d]=null)):ze(d)&&(d.value=null)),Ne(c))us(c,u,12,[i,m]);else{const C=pt(c),w=ze(c);if(C||w){const M=()=>{if(e.f){const S=C?h(c)?b[c]:m[c]:c.value;a?qe(S)&&da(S,l):qe(S)?S.includes(l)||S.push(l):C?(m[c]=[l],h(c)&&(b[c]=m[c])):(c.value=[l],e.k&&(m[e.k]=c.value))}else C?(m[c]=i,h(c)&&(b[c]=i)):w&&(c.value=i,e.k&&(m[e.k]=i))};i?(M.id=-1,It(M,o)):M()}}}Js().requestIdleCallback;Js().cancelIdleCallback;const _o=e=>!!e.type.__asyncLoader,rn=e=>e.type.__isKeepAlive;function P0(e,t){Vu(e,"a",t)}function T0(e,t){Vu(e,"da",t)}function Vu(e,t,o=$t){const n=e.__wdc||(e.__wdc=()=>{let a=o;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(on(t,n,o),o){let a=o.parent;for(;a&&a.parent;)rn(a.parent.vnode)&&L0(n,t,o,a),a=a.parent}}function L0(e,t,o,n){const a=on(t,e,n,!0);er(()=>{da(n[t],a)},o)}function on(e,t,o=$t,n=!1){if(o){const a=o[e]||(o[e]=[]),l=t.__weh||(t.__weh=(...i)=>{qr();const u=ms(o),c=ar(t,o,e,i);return u(),Nr(),c});return n?a.unshift(l):a.push(l),l}}const Cr=e=>(t,o=$t)=>{(!ts||e==="sp")&&on(e,(...n)=>t(...n),o)},I0=Cr("bm"),He=Cr("m"),F0=Cr("bu"),Wu=Cr("u"),Zt=Cr("bum"),er=Cr("um"),U0=Cr("sp"),R0=Cr("rtg"),D0=Cr("rtc");function q0(e,t=$t){on("ec",e,t)}const N0="components";function Ca(e,t){return B0(N0,e,!0,t)||e}const O0=Symbol.for("v-ndc");function B0(e,t,o=!0,n=!1){const a=kt||$t;if(a){const l=a.type;{const u=Em(l,!1);if(u&&(u===t||u===Kt(t)||u===Ys(Kt(t))))return l}const i=Ll(a[e]||l[e],t)||Ll(a.appContext[e],t);return!i&&n?l:i}}function Ll(e,t){return e&&(e[t]||e[Kt(t)]||e[Ys(Kt(t))])}function Te(e,t,o,n){let a;const l=o,i=qe(e);if(i||pt(e)){const u=i&&wr(e);let c=!1;u&&(c=!zt(e),e=en(e)),a=new Array(e.length);for(let d=0,m=e.length;d<m;d++)a[d]=t(c?Et(e[d]):e[d],d,void 0,l)}else if(typeof e=="number"){a=new Array(e);for(let u=0;u<e;u++)a[u]=t(u+1,u,void 0,l)}else if(rt(e))if(e[Symbol.iterator])a=Array.from(e,(u,c)=>t(u,c,void 0,l));else{const u=Object.keys(e);a=new Array(u.length);for(let c=0,d=u.length;c<d;c++){const m=u[c];a[c]=t(e[m],m,c,l)}}else a=[];return a}function Q0(e,t){for(let o=0;o<t.length;o++){const n=t[o];if(qe(n))for(let a=0;a<n.length;a++)e[n[a].name]=n[a].fn;else n&&(e[n.name]=n.key?(...a)=>{const l=n.fn(...a);return l&&(l.key=n.key),l}:n.fn)}return e}function Mo(e,t,o={},n,a){if(kt.ce||kt.parent&&_o(kt.parent)&&kt.parent.ce)return t!=="default"&&(o.name=t),p(),Ge($e,null,[Ee("slot",o,n&&n())],64);let l=e[t];l&&l._c&&(l._d=!1),p();const i=l&&zu(l(o)),u=o.key||i&&i.key,c=Ge($e,{key:(u&&!nr(u)?u:`_${t}`)+(!i&&n?"_fb":"")},i||(n?n():[]),i&&e._===1?64:-2);return!a&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),l&&l._c&&(l._d=!0),c}function zu(e){return e.some(t=>es(t)?!(t.type===Dt||t.type===$e&&!zu(t.children)):!0)?e:null}const Xn=e=>e?pc(e)?an(e):Xn(e.parent):null,jo=_t(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Xn(e.parent),$root:e=>Xn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ku(e),$forceUpdate:e=>e.f||(e.f=()=>{wa(e.update)}),$nextTick:e=>e.n||(e.n=cs.bind(e.proxy)),$watch:e=>um.bind(e)}),Cn=(e,t)=>e!==ot&&!e.__isScriptSetup&&et(e,t),j0={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:o,setupState:n,data:a,props:l,accessCache:i,type:u,appContext:c}=e;let d;if(t[0]!=="$"){const h=i[t];if(h!==void 0)switch(h){case 1:return n[t];case 2:return a[t];case 4:return o[t];case 3:return l[t]}else{if(Cn(n,t))return i[t]=1,n[t];if(a!==ot&&et(a,t))return i[t]=2,a[t];if((d=e.propsOptions[0])&&et(d,t))return i[t]=3,l[t];if(o!==ot&&et(o,t))return i[t]=4,o[t];Kn&&(i[t]=0)}}const m=jo[t];let b,x;if(m)return t==="$attrs"&&At(e.attrs,"get",""),m(e);if((b=u.__cssModules)&&(b=b[t]))return b;if(o!==ot&&et(o,t))return i[t]=4,o[t];if(x=c.config.globalProperties,et(x,t))return x[t]},set({_:e},t,o){const{data:n,setupState:a,ctx:l}=e;return Cn(a,t)?(a[t]=o,!0):n!==ot&&et(n,t)?(n[t]=o,!0):et(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(l[t]=o,!0)},has({_:{data:e,setupState:t,accessCache:o,ctx:n,appContext:a,propsOptions:l}},i){let u;return!!o[i]||e!==ot&&et(e,i)||Cn(t,i)||(u=l[0])&&et(u,i)||et(n,i)||et(jo,i)||et(a.config.globalProperties,i)},defineProperty(e,t,o){return o.get!=null?e._.accessCache[t]=0:et(o,"value")&&this.set(e,t,o.value,null),Reflect.defineProperty(e,t,o)}};function Il(e){return qe(e)?e.reduce((t,o)=>(t[o]=null,t),{}):e}let Kn=!0;function H0(e){const t=Ku(e),o=e.proxy,n=e.ctx;Kn=!1,t.beforeCreate&&Fl(t.beforeCreate,e,"bc");const{data:a,computed:l,methods:i,watch:u,provide:c,inject:d,created:m,beforeMount:b,mounted:x,beforeUpdate:h,updated:C,activated:w,deactivated:M,beforeDestroy:S,beforeUnmount:_,destroyed:y,unmounted:P,render:I,renderTracked:U,renderTriggered:q,errorCaptured:k,serverPrefetch:W,expose:le,inheritAttrs:X,components:j,directives:T,filters:K}=t;if(d&&G0(d,n,null),i)for(const Se in i){const pe=i[Se];Ne(pe)&&(n[Se]=pe.bind(o))}if(a){const Se=a.call(o,o);rt(Se)&&(e.data=so(Se))}if(Kn=!0,l)for(const Se in l){const pe=l[Se],ce=Ne(pe)?pe.bind(o,o):Ne(pe.get)?pe.get.bind(o,o):gr,ke=!Ne(pe)&&Ne(pe.set)?pe.set.bind(o):gr,ue=L({get:ce,set:ke});Object.defineProperty(n,Se,{enumerable:!0,configurable:!0,get:()=>ue.value,set:Z=>ue.value=Z})}if(u)for(const Se in u)Xu(u[Se],n,o,Se);if(c){const Se=Ne(c)?c.call(o):c;Reflect.ownKeys(Se).forEach(pe=>{Ls(pe,Se[pe])})}m&&Fl(m,e,"c");function we(Se,pe){qe(pe)?pe.forEach(ce=>Se(ce.bind(o))):pe&&Se(pe.bind(o))}if(we(I0,b),we(He,x),we(F0,h),we(Wu,C),we(P0,w),we(T0,M),we(q0,k),we(D0,U),we(R0,q),we(Zt,_),we(er,P),we(U0,W),qe(le))if(le.length){const Se=e.exposed||(e.exposed={});le.forEach(pe=>{Object.defineProperty(Se,pe,{get:()=>o[pe],set:ce=>o[pe]=ce})})}else e.exposed||(e.exposed={});I&&e.render===gr&&(e.render=I),X!=null&&(e.inheritAttrs=X),j&&(e.components=j),T&&(e.directives=T),W&&Gu(e)}function G0(e,t,o=gr){qe(e)&&(e=Yn(e));for(const n in e){const a=e[n];let l;rt(a)?"default"in a?l=Gt(a.from||n,a.default,!0):l=Gt(a.from||n):l=Gt(a),ze(l)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>l.value,set:i=>l.value=i}):t[n]=l}}function Fl(e,t,o){ar(qe(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,o)}function Xu(e,t,o,n){let a=n.includes(".")?ic(o,n):()=>o[n];if(pt(e)){const l=t[e];Ne(l)&&De(a,l)}else if(Ne(e))De(a,e.bind(o));else if(rt(e))if(qe(e))e.forEach(l=>Xu(l,t,o,n));else{const l=Ne(e.handler)?e.handler.bind(o):t[e.handler];Ne(l)&&De(a,l,e)}}function Ku(e){const t=e.type,{mixins:o,extends:n}=t,{mixins:a,optionsCache:l,config:{optionMergeStrategies:i}}=e.appContext,u=l.get(t);let c;return u?c=u:!a.length&&!o&&!n?c=t:(c={},a.length&&a.forEach(d=>js(c,d,i,!0)),js(c,t,i)),rt(t)&&l.set(t,c),c}function js(e,t,o,n=!1){const{mixins:a,extends:l}=t;l&&js(e,l,o,!0),a&&a.forEach(i=>js(e,i,o,!0));for(const i in t)if(!(n&&i==="expose")){const u=V0[i]||o&&o[i];e[i]=u?u(e[i],t[i]):t[i]}return e}const V0={data:Ul,props:Rl,emits:Rl,methods:qo,computed:qo,beforeCreate:Lt,created:Lt,beforeMount:Lt,mounted:Lt,beforeUpdate:Lt,updated:Lt,beforeDestroy:Lt,beforeUnmount:Lt,destroyed:Lt,unmounted:Lt,activated:Lt,deactivated:Lt,errorCaptured:Lt,serverPrefetch:Lt,components:qo,directives:qo,watch:z0,provide:Ul,inject:W0};function Ul(e,t){return t?e?function(){return _t(Ne(e)?e.call(this,this):e,Ne(t)?t.call(this,this):t)}:t:e}function W0(e,t){return qo(Yn(e),Yn(t))}function Yn(e){if(qe(e)){const t={};for(let o=0;o<e.length;o++)t[e[o]]=e[o];return t}return e}function Lt(e,t){return e?[...new Set([].concat(e,t))]:t}function qo(e,t){return e?_t(Object.create(null),e,t):t}function Rl(e,t){return e?qe(e)&&qe(t)?[...new Set([...e,...t])]:_t(Object.create(null),Il(e),Il(t??{})):t}function z0(e,t){if(!e)return t;if(!t)return e;const o=_t(Object.create(null),e);for(const n in t)o[n]=Lt(e[n],t[n]);return o}function Yu(){return{app:null,config:{isNativeTag:Rd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let X0=0;function K0(e,t){return function(n,a=null){Ne(n)||(n=_t({},n)),a!=null&&!rt(a)&&(a=null);const l=Yu(),i=new WeakSet,u=[];let c=!1;const d=l.app={_uid:X0++,_component:n,_props:a,_container:null,_context:l,_instance:null,version:Pm,get config(){return l.config},set config(m){},use(m,...b){return i.has(m)||(m&&Ne(m.install)?(i.add(m),m.install(d,...b)):Ne(m)&&(i.add(m),m(d,...b))),d},mixin(m){return l.mixins.includes(m)||l.mixins.push(m),d},component(m,b){return b?(l.components[m]=b,d):l.components[m]},directive(m,b){return b?(l.directives[m]=b,d):l.directives[m]},mount(m,b,x){if(!c){const h=d._ceVNode||Ee(n,a);return h.appContext=l,x===!0?x="svg":x===!1&&(x=void 0),e(h,m,x),c=!0,d._container=m,m.__vue_app__=d,an(h.component)}},onUnmount(m){u.push(m)},unmount(){c&&(ar(u,d._instance,16),e(null,d._container),delete d._container.__vue_app__)},provide(m,b){return l.provides[m]=b,d},runWithContext(m){const b=eo;eo=d;try{return m()}finally{eo=b}}};return d}}let eo=null;function Ls(e,t){if($t){let o=$t.provides;const n=$t.parent&&$t.parent.provides;n===o&&(o=$t.provides=Object.create(n)),o[e]=t}}function Gt(e,t,o=!1){const n=$t||kt;if(n||eo){const a=eo?eo._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return o&&Ne(t)?t.call(n&&n.proxy):t}}function Sa(){return!!($t||kt||eo)}const Ju={},Zu=()=>Object.create(Ju),ec=e=>Object.getPrototypeOf(e)===Ju;function Y0(e,t,o,n=!1){const a={},l=Zu();e.propsDefaults=Object.create(null),tc(e,t,a,l);for(const i in e.propsOptions[0])i in a||(a[i]=void 0);o?e.props=n?a:Su(a):e.type.props?e.props=a:e.props=l,e.attrs=l}function J0(e,t,o,n){const{props:a,attrs:l,vnode:{patchFlag:i}}=e,u=Xe(a),[c]=e.propsOptions;let d=!1;if((n||i>0)&&!(i&16)){if(i&8){const m=e.vnode.dynamicProps;for(let b=0;b<m.length;b++){let x=m[b];if(sn(e.emitsOptions,x))continue;const h=t[x];if(c)if(et(l,x))h!==l[x]&&(l[x]=h,d=!0);else{const C=Kt(x);a[C]=Jn(c,u,C,h,e,!1)}else h!==l[x]&&(l[x]=h,d=!0)}}}else{tc(e,t,a,l)&&(d=!0);let m;for(const b in u)(!t||!et(t,b)&&((m=Dr(b))===b||!et(t,m)))&&(c?o&&(o[b]!==void 0||o[m]!==void 0)&&(a[b]=Jn(c,u,b,void 0,e,!0)):delete a[b]);if(l!==u)for(const b in l)(!t||!et(t,b))&&(delete l[b],d=!0)}d&&kr(e.attrs,"set","")}function tc(e,t,o,n){const[a,l]=e.propsOptions;let i=!1,u;if(t)for(let c in t){if(No(c))continue;const d=t[c];let m;a&&et(a,m=Kt(c))?!l||!l.includes(m)?o[m]=d:(u||(u={}))[m]=d:sn(e.emitsOptions,c)||(!(c in n)||d!==n[c])&&(n[c]=d,i=!0)}if(l){const c=Xe(o),d=u||ot;for(let m=0;m<l.length;m++){const b=l[m];o[b]=Jn(a,c,b,d[b],e,!et(d,b))}}return i}function Jn(e,t,o,n,a,l){const i=e[o];if(i!=null){const u=et(i,"default");if(u&&n===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&Ne(c)){const{propsDefaults:d}=a;if(o in d)n=d[o];else{const m=ms(a);n=d[o]=c.call(null,t),m()}}else n=c;a.ce&&a.ce._setProp(o,n)}i[0]&&(l&&!u?n=!1:i[1]&&(n===""||n===Dr(o))&&(n=!0))}return n}const Z0=new WeakMap;function rc(e,t,o=!1){const n=o?Z0:t.propsCache,a=n.get(e);if(a)return a;const l=e.props,i={},u=[];let c=!1;if(!Ne(e)){const m=b=>{c=!0;const[x,h]=rc(b,t,!0);_t(i,x),h&&u.push(...h)};!o&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}if(!l&&!c)return rt(e)&&n.set(e,xo),xo;if(qe(l))for(let m=0;m<l.length;m++){const b=Kt(l[m]);Dl(b)&&(i[b]=ot)}else if(l)for(const m in l){const b=Kt(m);if(Dl(b)){const x=l[m],h=i[b]=qe(x)||Ne(x)?{type:x}:_t({},x),C=h.type;let w=!1,M=!0;if(qe(C))for(let S=0;S<C.length;++S){const _=C[S],y=Ne(_)&&_.name;if(y==="Boolean"){w=!0;break}else y==="String"&&(M=!1)}else w=Ne(C)&&C.name==="Boolean";h[0]=w,h[1]=M,(w||et(h,"default"))&&u.push(b)}}const d=[i,u];return rt(e)&&n.set(e,d),d}function Dl(e){return e[0]!=="$"&&!No(e)}const oc=e=>e[0]==="_"||e==="$stable",Aa=e=>qe(e)?e.map(pr):[pr(e)],em=(e,t,o)=>{if(t._n)return t;const n=it((...a)=>Aa(t(...a)),o);return n._c=!1,n},sc=(e,t,o)=>{const n=e._ctx;for(const a in e){if(oc(a))continue;const l=e[a];if(Ne(l))t[a]=em(a,l,n);else if(l!=null){const i=Aa(l);t[a]=()=>i}}},nc=(e,t)=>{const o=Aa(t);e.slots.default=()=>o},ac=(e,t,o)=>{for(const n in t)(o||n!=="_")&&(e[n]=t[n])},tm=(e,t,o)=>{const n=e.slots=Zu();if(e.vnode.shapeFlag&32){const a=t._;a?(ac(n,t,o),o&&su(n,"_",a,!0)):sc(t,n)}else t&&nc(e,t)},rm=(e,t,o)=>{const{vnode:n,slots:a}=e;let l=!0,i=ot;if(n.shapeFlag&32){const u=t._;u?o&&u===1?l=!1:ac(a,t,o):(l=!t.$stable,sc(t,a)),i=t}else t&&(nc(e,t),i={default:1});if(l)for(const u in a)!oc(u)&&i[u]==null&&delete a[u]},It=vm;function om(e){return sm(e)}function sm(e,t){const o=Js();o.__VUE__=!0;const{insert:n,remove:a,patchProp:l,createElement:i,createText:u,createComment:c,setText:d,setElementText:m,parentNode:b,nextSibling:x,setScopeId:h=gr,insertStaticContent:C}=e,w=(O,$,A,Q=null,ne=null,re=null,V=void 0,be=null,R=!!$.dynamicChildren)=>{if(O===$)return;O&&!zr(O,$)&&(Q=F(O),Z(O,ne,re,!0),O=null),$.patchFlag===-2&&(R=!1,$.dynamicChildren=null);const{type:H,ref:ve,shapeFlag:ye}=$;switch(H){case nn:M(O,$,A,Q);break;case Dt:S(O,$,A,Q);break;case Is:O==null&&_($,A,Q,V);break;case $e:j(O,$,A,Q,ne,re,V,be,R);break;default:ye&1?I(O,$,A,Q,ne,re,V,be,R):ye&6?T(O,$,A,Q,ne,re,V,be,R):(ye&64||ye&128)&&H.process(O,$,A,Q,ne,re,V,be,R,me)}ve!=null&&ne&&Qs(ve,O&&O.ref,re,$||O,!$)},M=(O,$,A,Q)=>{if(O==null)n($.el=u($.children),A,Q);else{const ne=$.el=O.el;$.children!==O.children&&d(ne,$.children)}},S=(O,$,A,Q)=>{O==null?n($.el=c($.children||""),A,Q):$.el=O.el},_=(O,$,A,Q)=>{[O.el,O.anchor]=C(O.children,$,A,Q,O.el,O.anchor)},y=({el:O,anchor:$},A,Q)=>{let ne;for(;O&&O!==$;)ne=x(O),n(O,A,Q),O=ne;n($,A,Q)},P=({el:O,anchor:$})=>{let A;for(;O&&O!==$;)A=x(O),a(O),O=A;a($)},I=(O,$,A,Q,ne,re,V,be,R)=>{$.type==="svg"?V="svg":$.type==="math"&&(V="mathml"),O==null?U($,A,Q,ne,re,V,be,R):W(O,$,ne,re,V,be,R)},U=(O,$,A,Q,ne,re,V,be)=>{let R,H;const{props:ve,shapeFlag:ye,transition:D,dirs:z}=O;if(R=O.el=i(O.type,re,ve&&ve.is,ve),ye&8?m(R,O.children):ye&16&&k(O.children,R,null,Q,ne,Sn(O,re),V,be),z&&Qr(O,null,Q,"created"),q(R,O,O.scopeId,V,Q),ve){for(const se in ve)se!=="value"&&!No(se)&&l(R,se,null,ve[se],re,Q);"value"in ve&&l(R,"value",null,ve.value,re),(H=ve.onVnodeBeforeMount)&&cr(H,Q,O)}z&&Qr(O,null,Q,"beforeMount");const J=nm(ne,D);J&&D.beforeEnter(R),n(R,$,A),((H=ve&&ve.onVnodeMounted)||J||z)&&It(()=>{H&&cr(H,Q,O),J&&D.enter(R),z&&Qr(O,null,Q,"mounted")},ne)},q=(O,$,A,Q,ne)=>{if(A&&h(O,A),Q)for(let re=0;re<Q.length;re++)h(O,Q[re]);if(ne){let re=ne.subTree;if($===re||cc(re.type)&&(re.ssContent===$||re.ssFallback===$)){const V=ne.vnode;q(O,V,V.scopeId,V.slotScopeIds,ne.parent)}}},k=(O,$,A,Q,ne,re,V,be,R=0)=>{for(let H=R;H<O.length;H++){const ve=O[H]=be?Ir(O[H]):pr(O[H]);w(null,ve,$,A,Q,ne,re,V,be)}},W=(O,$,A,Q,ne,re,V)=>{const be=$.el=O.el;let{patchFlag:R,dynamicChildren:H,dirs:ve}=$;R|=O.patchFlag&16;const ye=O.props||ot,D=$.props||ot;let z;if(A&&jr(A,!1),(z=D.onVnodeBeforeUpdate)&&cr(z,A,$,O),ve&&Qr($,O,A,"beforeUpdate"),A&&jr(A,!0),(ye.innerHTML&&D.innerHTML==null||ye.textContent&&D.textContent==null)&&m(be,""),H?le(O.dynamicChildren,H,be,A,Q,Sn($,ne),re):V||pe(O,$,be,null,A,Q,Sn($,ne),re,!1),R>0){if(R&16)X(be,ye,D,A,ne);else if(R&2&&ye.class!==D.class&&l(be,"class",null,D.class,ne),R&4&&l(be,"style",ye.style,D.style,ne),R&8){const J=$.dynamicProps;for(let se=0;se<J.length;se++){const xe=J[se],Ae=ye[xe],Me=D[xe];(Me!==Ae||xe==="value")&&l(be,xe,Ae,Me,ne,A)}}R&1&&O.children!==$.children&&m(be,$.children)}else!V&&H==null&&X(be,ye,D,A,ne);((z=D.onVnodeUpdated)||ve)&&It(()=>{z&&cr(z,A,$,O),ve&&Qr($,O,A,"updated")},Q)},le=(O,$,A,Q,ne,re,V)=>{for(let be=0;be<$.length;be++){const R=O[be],H=$[be],ve=R.el&&(R.type===$e||!zr(R,H)||R.shapeFlag&70)?b(R.el):A;w(R,H,ve,null,Q,ne,re,V,!0)}},X=(O,$,A,Q,ne)=>{if($!==A){if($!==ot)for(const re in $)!No(re)&&!(re in A)&&l(O,re,$[re],null,ne,Q);for(const re in A){if(No(re))continue;const V=A[re],be=$[re];V!==be&&re!=="value"&&l(O,re,be,V,ne,Q)}"value"in A&&l(O,"value",$.value,A.value,ne)}},j=(O,$,A,Q,ne,re,V,be,R)=>{const H=$.el=O?O.el:u(""),ve=$.anchor=O?O.anchor:u("");let{patchFlag:ye,dynamicChildren:D,slotScopeIds:z}=$;z&&(be=be?be.concat(z):z),O==null?(n(H,A,Q),n(ve,A,Q),k($.children||[],A,ve,ne,re,V,be,R)):ye>0&&ye&64&&D&&O.dynamicChildren?(le(O.dynamicChildren,D,A,ne,re,V,be),($.key!=null||ne&&$===ne.subTree)&&Ea(O,$,!0)):pe(O,$,A,ve,ne,re,V,be,R)},T=(O,$,A,Q,ne,re,V,be,R)=>{$.slotScopeIds=be,O==null?$.shapeFlag&512?ne.ctx.activate($,A,Q,V,R):K($,A,Q,ne,re,V,R):fe(O,$,R)},K=(O,$,A,Q,ne,re,V)=>{const be=O.component=wm(O,Q,ne);if(rn(O)&&(be.ctx.renderer=me),$m(be,!1,V),be.asyncDep){if(ne&&ne.registerDep(be,we,V),!O.el){const R=be.subTree=Ee(Dt);S(null,R,$,A)}}else we(be,O,$,A,ne,re,V)},fe=(O,$,A)=>{const Q=$.component=O.component;if(fm(O,$,A))if(Q.asyncDep&&!Q.asyncResolved){Se(Q,$,A);return}else Q.next=$,Q.update();else $.el=O.el,Q.vnode=$},we=(O,$,A,Q,ne,re,V)=>{const be=()=>{if(O.isMounted){let{next:ye,bu:D,u:z,parent:J,vnode:se}=O;{const Ue=lc(O);if(Ue){ye&&(ye.el=se.el,Se(O,ye,V)),Ue.asyncDep.then(()=>{O.isUnmounted||be()});return}}let xe=ye,Ae;jr(O,!1),ye?(ye.el=se.el,Se(O,ye,V)):ye=se,D&&Ps(D),(Ae=ye.props&&ye.props.onVnodeBeforeUpdate)&&cr(Ae,J,ye,se),jr(O,!0);const Me=Nl(O),Le=O.subTree;O.subTree=Me,w(Le,Me,b(Le.el),F(Le),O,ne,re),ye.el=Me.el,xe===null&&gm(O,Me.el),z&&It(z,ne),(Ae=ye.props&&ye.props.onVnodeUpdated)&&It(()=>cr(Ae,J,ye,se),ne)}else{let ye;const{el:D,props:z}=$,{bm:J,m:se,parent:xe,root:Ae,type:Me}=O,Le=_o($);jr(O,!1),J&&Ps(J),!Le&&(ye=z&&z.onVnodeBeforeMount)&&cr(ye,xe,$),jr(O,!0);{Ae.ce&&Ae.ce._injectChildStyle(Me);const Ue=O.subTree=Nl(O);w(null,Ue,A,Q,O,ne,re),$.el=Ue.el}if(se&&It(se,ne),!Le&&(ye=z&&z.onVnodeMounted)){const Ue=$;It(()=>cr(ye,xe,Ue),ne)}($.shapeFlag&256||xe&&_o(xe.vnode)&&xe.vnode.shapeFlag&256)&&O.a&&It(O.a,ne),O.isMounted=!0,$=A=Q=null}};O.scope.on();const R=O.effect=new mu(be);O.scope.off();const H=O.update=R.run.bind(R),ve=O.job=R.runIfDirty.bind(R);ve.i=O,ve.id=O.uid,R.scheduler=()=>wa(ve),jr(O,!0),H()},Se=(O,$,A)=>{$.component=O;const Q=O.vnode.props;O.vnode=$,O.next=null,J0(O,$.props,Q,A),rm(O,$.children,A),qr(),Al(O),Nr()},pe=(O,$,A,Q,ne,re,V,be,R=!1)=>{const H=O&&O.children,ve=O?O.shapeFlag:0,ye=$.children,{patchFlag:D,shapeFlag:z}=$;if(D>0){if(D&128){ke(H,ye,A,Q,ne,re,V,be,R);return}else if(D&256){ce(H,ye,A,Q,ne,re,V,be,R);return}}z&8?(ve&16&&ae(H,ne,re),ye!==H&&m(A,ye)):ve&16?z&16?ke(H,ye,A,Q,ne,re,V,be,R):ae(H,ne,re,!0):(ve&8&&m(A,""),z&16&&k(ye,A,Q,ne,re,V,be,R))},ce=(O,$,A,Q,ne,re,V,be,R)=>{O=O||xo,$=$||xo;const H=O.length,ve=$.length,ye=Math.min(H,ve);let D;for(D=0;D<ye;D++){const z=$[D]=R?Ir($[D]):pr($[D]);w(O[D],z,A,null,ne,re,V,be,R)}H>ve?ae(O,ne,re,!0,!1,ye):k($,A,Q,ne,re,V,be,R,ye)},ke=(O,$,A,Q,ne,re,V,be,R)=>{let H=0;const ve=$.length;let ye=O.length-1,D=ve-1;for(;H<=ye&&H<=D;){const z=O[H],J=$[H]=R?Ir($[H]):pr($[H]);if(zr(z,J))w(z,J,A,null,ne,re,V,be,R);else break;H++}for(;H<=ye&&H<=D;){const z=O[ye],J=$[D]=R?Ir($[D]):pr($[D]);if(zr(z,J))w(z,J,A,null,ne,re,V,be,R);else break;ye--,D--}if(H>ye){if(H<=D){const z=D+1,J=z<ve?$[z].el:Q;for(;H<=D;)w(null,$[H]=R?Ir($[H]):pr($[H]),A,J,ne,re,V,be,R),H++}}else if(H>D)for(;H<=ye;)Z(O[H],ne,re,!0),H++;else{const z=H,J=H,se=new Map;for(H=J;H<=D;H++){const Fe=$[H]=R?Ir($[H]):pr($[H]);Fe.key!=null&&se.set(Fe.key,H)}let xe,Ae=0;const Me=D-J+1;let Le=!1,Ue=0;const Oe=new Array(Me);for(H=0;H<Me;H++)Oe[H]=0;for(H=z;H<=ye;H++){const Fe=O[H];if(Ae>=Me){Z(Fe,ne,re,!0);continue}let nt;if(Fe.key!=null)nt=se.get(Fe.key);else for(xe=J;xe<=D;xe++)if(Oe[xe-J]===0&&zr(Fe,$[xe])){nt=xe;break}nt===void 0?Z(Fe,ne,re,!0):(Oe[nt-J]=H+1,nt>=Ue?Ue=nt:Le=!0,w(Fe,$[nt],A,null,ne,re,V,be,R),Ae++)}const Je=Le?am(Oe):xo;for(xe=Je.length-1,H=Me-1;H>=0;H--){const Fe=J+H,nt=$[Fe],lt=Fe+1<ve?$[Fe+1].el:Q;Oe[H]===0?w(null,nt,A,lt,ne,re,V,be,R):Le&&(xe<0||H!==Je[xe]?ue(nt,A,lt,2):xe--)}}},ue=(O,$,A,Q,ne=null)=>{const{el:re,type:V,transition:be,children:R,shapeFlag:H}=O;if(H&6){ue(O.component.subTree,$,A,Q);return}if(H&128){O.suspense.move($,A,Q);return}if(H&64){V.move(O,$,A,me);return}if(V===$e){n(re,$,A);for(let ye=0;ye<R.length;ye++)ue(R[ye],$,A,Q);n(O.anchor,$,A);return}if(V===Is){y(O,$,A);return}if(Q!==2&&H&1&&be)if(Q===0)be.beforeEnter(re),n(re,$,A),It(()=>be.enter(re),ne);else{const{leave:ye,delayLeave:D,afterLeave:z}=be,J=()=>n(re,$,A),se=()=>{ye(re,()=>{J(),z&&z()})};D?D(re,J,se):se()}else n(re,$,A)},Z=(O,$,A,Q=!1,ne=!1)=>{const{type:re,props:V,ref:be,children:R,dynamicChildren:H,shapeFlag:ve,patchFlag:ye,dirs:D,cacheIndex:z}=O;if(ye===-2&&(ne=!1),be!=null&&Qs(be,null,A,O,!0),z!=null&&($.renderCache[z]=void 0),ve&256){$.ctx.deactivate(O);return}const J=ve&1&&D,se=!_o(O);let xe;if(se&&(xe=V&&V.onVnodeBeforeUnmount)&&cr(xe,$,O),ve&6)te(O.component,A,Q);else{if(ve&128){O.suspense.unmount(A,Q);return}J&&Qr(O,null,$,"beforeUnmount"),ve&64?O.type.remove(O,$,A,me,Q):H&&!H.hasOnce&&(re!==$e||ye>0&&ye&64)?ae(H,$,A,!1,!0):(re===$e&&ye&384||!ne&&ve&16)&&ae(R,$,A),Q&&de(O)}(se&&(xe=V&&V.onVnodeUnmounted)||J)&&It(()=>{xe&&cr(xe,$,O),J&&Qr(O,null,$,"unmounted")},A)},de=O=>{const{type:$,el:A,anchor:Q,transition:ne}=O;if($===$e){oe(A,Q);return}if($===Is){P(O);return}const re=()=>{a(A),ne&&!ne.persisted&&ne.afterLeave&&ne.afterLeave()};if(O.shapeFlag&1&&ne&&!ne.persisted){const{leave:V,delayLeave:be}=ne,R=()=>V(A,re);be?be(O.el,re,R):R()}else re()},oe=(O,$)=>{let A;for(;O!==$;)A=x(O),a(O),O=A;a($)},te=(O,$,A)=>{const{bum:Q,scope:ne,job:re,subTree:V,um:be,m:R,a:H}=O;ql(R),ql(H),Q&&Ps(Q),ne.stop(),re&&(re.flags|=8,Z(V,O,$,A)),be&&It(be,$),It(()=>{O.isUnmounted=!0},$),$&&$.pendingBranch&&!$.isUnmounted&&O.asyncDep&&!O.asyncResolved&&O.suspenseId===$.pendingId&&($.deps--,$.deps===0&&$.resolve())},ae=(O,$,A,Q=!1,ne=!1,re=0)=>{for(let V=re;V<O.length;V++)Z(O[V],$,A,Q,ne)},F=O=>{if(O.shapeFlag&6)return F(O.component.subTree);if(O.shapeFlag&128)return O.suspense.next();const $=x(O.anchor||O.el),A=$&&$[Ru];return A?x(A):$};let E=!1;const N=(O,$,A)=>{O==null?$._vnode&&Z($._vnode,null,null,!0):w($._vnode||null,O,$,null,null,null,A),$._vnode=O,E||(E=!0,Al(),Iu(),E=!1)},me={p:w,um:Z,m:ue,r:de,mt:K,mc:k,pc:pe,pbc:le,n:F,o:e};return{render:N,hydrate:void 0,createApp:K0(N)}}function Sn({type:e,props:t},o){return o==="svg"&&e==="foreignObject"||o==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:o}function jr({effect:e,job:t},o){o?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function nm(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ea(e,t,o=!1){const n=e.children,a=t.children;if(qe(n)&&qe(a))for(let l=0;l<n.length;l++){const i=n[l];let u=a[l];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=a[l]=Ir(a[l]),u.el=i.el),!o&&u.patchFlag!==-2&&Ea(i,u)),u.type===nn&&(u.el=i.el)}}function am(e){const t=e.slice(),o=[0];let n,a,l,i,u;const c=e.length;for(n=0;n<c;n++){const d=e[n];if(d!==0){if(a=o[o.length-1],e[a]<d){t[n]=a,o.push(n);continue}for(l=0,i=o.length-1;l<i;)u=l+i>>1,e[o[u]]<d?l=u+1:i=u;d<e[o[l]]&&(l>0&&(t[n]=o[l-1]),o[l]=n)}}for(l=o.length,i=o[l-1];l-- >0;)o[l]=i,i=t[i];return o}function lc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:lc(t)}function ql(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const lm=Symbol.for("v-scx"),im=()=>Gt(lm);function Wr(e,t){return Ma(e,null,t)}function De(e,t,o){return Ma(e,t,o)}function Ma(e,t,o=ot){const{immediate:n,deep:a,flush:l,once:i}=o,u=_t({},o),c=t&&n||!t&&l!=="post";let d;if(ts){if(l==="sync"){const h=im();d=h.__watcherHandles||(h.__watcherHandles=[])}else if(!c){const h=()=>{};return h.stop=gr,h.resume=gr,h.pause=gr,h}}const m=$t;u.call=(h,C,w)=>ar(h,m,C,w);let b=!1;l==="post"?u.scheduler=h=>{It(h,m&&m.suspense)}:l!=="sync"&&(b=!0,u.scheduler=(h,C)=>{C?h():wa(h)}),u.augmentJob=h=>{t&&(h.flags|=4),b&&(h.flags|=2,m&&(h.id=m.uid,h.i=m))};const x=_0(e,t,u);return ts&&(d?d.push(x):c&&x()),x}function um(e,t,o){const n=this.proxy,a=pt(e)?e.includes(".")?ic(n,e):()=>n[e]:e.bind(n,n);let l;Ne(t)?l=t:(l=t.handler,o=t);const i=ms(this),u=Ma(a,l.bind(n),o);return i(),u}function ic(e,t){const o=t.split(".");return()=>{let n=e;for(let a=0;a<o.length&&n;a++)n=n[o[a]];return n}}const cm=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Kt(t)}Modifiers`]||e[`${Dr(t)}Modifiers`];function dm(e,t,...o){if(e.isUnmounted)return;const n=e.vnode.props||ot;let a=o;const l=t.startsWith("update:"),i=l&&cm(n,t.slice(7));i&&(i.trim&&(a=o.map(m=>pt(m)?m.trim():m)),i.number&&(a=o.map(jn)));let u,c=n[u=xn(t)]||n[u=xn(Kt(t))];!c&&l&&(c=n[u=xn(Dr(t))]),c&&ar(c,e,6,a);const d=n[u+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,ar(d,e,6,a)}}function uc(e,t,o=!1){const n=t.emitsCache,a=n.get(e);if(a!==void 0)return a;const l=e.emits;let i={},u=!1;if(!Ne(e)){const c=d=>{const m=uc(d,t,!0);m&&(u=!0,_t(i,m))};!o&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!l&&!u?(rt(e)&&n.set(e,null),null):(qe(l)?l.forEach(c=>i[c]=null):_t(i,l),rt(e)&&n.set(e,i),i)}function sn(e,t){return!e||!zs(t)?!1:(t=t.slice(2).replace(/Once$/,""),et(e,t[0].toLowerCase()+t.slice(1))||et(e,Dr(t))||et(e,t))}function Nl(e){const{type:t,vnode:o,proxy:n,withProxy:a,propsOptions:[l],slots:i,attrs:u,emit:c,render:d,renderCache:m,props:b,data:x,setupState:h,ctx:C,inheritAttrs:w}=e,M=Bs(e);let S,_;try{if(o.shapeFlag&4){const P=a||n,I=P;S=pr(d.call(I,P,m,b,h,x,C)),_=u}else{const P=t;S=pr(P.length>1?P(b,{attrs:u,slots:i,emit:c}):P(b,null)),_=t.props?u:mm(u)}}catch(P){Ho.length=0,tn(P,e,1),S=Ee(Dt)}let y=S;if(_&&w!==!1){const P=Object.keys(_),{shapeFlag:I}=y;P.length&&I&7&&(l&&P.some(ca)&&(_=pm(_,l)),y=Rr(y,_,!1,!0))}return o.dirs&&(y=Rr(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(o.dirs):o.dirs),o.transition&&ro(y,o.transition),S=y,Bs(M),S}const mm=e=>{let t;for(const o in e)(o==="class"||o==="style"||zs(o))&&((t||(t={}))[o]=e[o]);return t},pm=(e,t)=>{const o={};for(const n in e)(!ca(n)||!(n.slice(9)in t))&&(o[n]=e[n]);return o};function fm(e,t,o){const{props:n,children:a,component:l}=e,{props:i,children:u,patchFlag:c}=t,d=l.emitsOptions;if(t.dirs||t.transition)return!0;if(o&&c>=0){if(c&1024)return!0;if(c&16)return n?Ol(n,i,d):!!i;if(c&8){const m=t.dynamicProps;for(let b=0;b<m.length;b++){const x=m[b];if(i[x]!==n[x]&&!sn(d,x))return!0}}}else return(a||u)&&(!u||!u.$stable)?!0:n===i?!1:n?i?Ol(n,i,d):!0:!!i;return!1}function Ol(e,t,o){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let a=0;a<n.length;a++){const l=n[a];if(t[l]!==e[l]&&!sn(o,l))return!0}return!1}function gm({vnode:e,parent:t},o){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=o,t=t.parent;else break}}const cc=e=>e.__isSuspense;function vm(e,t){t&&t.pendingBranch?qe(e)?t.effects.push(...e):t.effects.push(e):C0(e)}const $e=Symbol.for("v-fgt"),nn=Symbol.for("v-txt"),Dt=Symbol.for("v-cmt"),Is=Symbol.for("v-stc"),Ho=[];let Ht=null;function p(e=!1){Ho.push(Ht=e?null:[])}function bm(){Ho.pop(),Ht=Ho[Ho.length-1]||null}let Zo=1;function Bl(e,t=!1){Zo+=e,e<0&&Ht&&t&&(Ht.hasOnce=!0)}function dc(e){return e.dynamicChildren=Zo>0?Ht||xo:null,bm(),Zo>0&&Ht&&Ht.push(e),e}function g(e,t,o,n,a,l){return dc(r(e,t,o,n,a,l,!0))}function Ge(e,t,o,n,a){return dc(Ee(e,t,o,n,a,!0))}function es(e){return e?e.__v_isVNode===!0:!1}function zr(e,t){return e.type===t.type&&e.key===t.key}const mc=({key:e})=>e??null,Fs=({ref:e,ref_key:t,ref_for:o})=>(typeof e=="number"&&(e=""+e),e!=null?pt(e)||ze(e)||Ne(e)?{i:kt,r:e,k:t,f:!!o}:e:null);function r(e,t=null,o=null,n=0,a=null,l=e===$e?0:1,i=!1,u=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&mc(t),ref:t&&Fs(t),scopeId:Uu,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:kt};return u?(Pa(c,o),l&128&&e.normalize(c)):o&&(c.shapeFlag|=pt(o)?8:16),Zo>0&&!i&&Ht&&(c.patchFlag>0||l&6)&&c.patchFlag!==32&&Ht.push(c),c}const Ee=hm;function hm(e,t=null,o=null,n=0,a=null,l=!1){if((!e||e===O0)&&(e=Dt),es(e)){const u=Rr(e,t,!0);return o&&Pa(u,o),Zo>0&&!l&&Ht&&(u.shapeFlag&6?Ht[Ht.indexOf(e)]=u:Ht.push(u)),u.patchFlag=-2,u}if(Mm(e)&&(e=e.__vccOpts),t){t=xm(t);let{class:u,style:c}=t;u&&!pt(u)&&(t.class=ee(u)),rt(c)&&(ka(c)&&!qe(c)&&(c=_t({},c)),t.style=je(c))}const i=pt(e)?1:cc(e)?128:Du(e)?64:rt(e)?4:Ne(e)?2:0;return r(e,t,o,n,a,i,l,!0)}function xm(e){return e?ka(e)||ec(e)?_t({},e):e:null}function Rr(e,t,o=!1,n=!1){const{props:a,ref:l,patchFlag:i,children:u,transition:c}=e,d=t?ym(a||{},t):a,m={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&mc(d),ref:t&&t.ref?o&&l?qe(l)?l.concat(Fs(t)):[l,Fs(t)]:Fs(t):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==$e?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Rr(e.ssContent),ssFallback:e.ssFallback&&Rr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&n&&ro(m,c.clone(m)),m}function Y(e=" ",t=0){return Ee(nn,null,e,t)}function ct(e,t){const o=Ee(Is,null,e);return o.staticCount=t,o}function G(e="",t=!1){return t?(p(),Ge(Dt,null,e)):Ee(Dt,null,e)}function pr(e){return e==null||typeof e=="boolean"?Ee(Dt):qe(e)?Ee($e,null,e.slice()):es(e)?Ir(e):Ee(nn,null,String(e))}function Ir(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Rr(e)}function Pa(e,t){let o=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(qe(t))o=16;else if(typeof t=="object")if(n&65){const a=t.default;a&&(a._c&&(a._d=!1),Pa(e,a()),a._c&&(a._d=!0));return}else{o=32;const a=t._;!a&&!ec(t)?t._ctx=kt:a===3&&kt&&(kt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ne(t)?(t={default:t,_ctx:kt},o=32):(t=String(t),n&64?(o=16,t=[Y(t)]):o=8);e.children=t,e.shapeFlag|=o}function ym(...e){const t={};for(let o=0;o<e.length;o++){const n=e[o];for(const a in n)if(a==="class")t.class!==n.class&&(t.class=ee([t.class,n.class]));else if(a==="style")t.style=je([t.style,n.style]);else if(zs(a)){const l=t[a],i=n[a];i&&l!==i&&!(qe(l)&&l.includes(i))&&(t[a]=l?[].concat(l,i):i)}else a!==""&&(t[a]=n[a])}return t}function cr(e,t,o,n=null){ar(e,t,7,[o,n])}const km=Yu();let _m=0;function wm(e,t,o){const n=e.type,a=(t?t.appContext:e.appContext)||km,l={uid:_m++,vnode:e,type:n,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new uu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:rc(n,a),emitsOptions:uc(n,a),emit:null,emitted:null,propsDefaults:ot,inheritAttrs:n.inheritAttrs,ctx:ot,data:ot,props:ot,attrs:ot,slots:ot,refs:ot,setupState:ot,setupContext:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=t?t.root:l,l.emit=dm.bind(null,l),e.ce&&e.ce(l),l}let $t=null;const ds=()=>$t||kt;let Hs,Zn;{const e=Js(),t=(o,n)=>{let a;return(a=e[o])||(a=e[o]=[]),a.push(n),l=>{a.length>1?a.forEach(i=>i(l)):a[0](l)}};Hs=t("__VUE_INSTANCE_SETTERS__",o=>$t=o),Zn=t("__VUE_SSR_SETTERS__",o=>ts=o)}const ms=e=>{const t=$t;return Hs(e),e.scope.on(),()=>{e.scope.off(),Hs(t)}},Ql=()=>{$t&&$t.scope.off(),Hs(null)};function pc(e){return e.vnode.shapeFlag&4}let ts=!1;function $m(e,t=!1,o=!1){t&&Zn(t);const{props:n,children:a}=e.vnode,l=pc(e);Y0(e,n,l,t),tm(e,a,o);const i=l?Cm(e,t):void 0;return t&&Zn(!1),i}function Cm(e,t){const o=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,j0);const{setup:n}=o;if(n){qr();const a=e.setupContext=n.length>1?Am(e):null,l=ms(e),i=us(n,e,0,[e.props,a]),u=tu(i);if(Nr(),l(),(u||e.sp)&&!_o(e)&&Gu(e),u){if(i.then(Ql,Ql),t)return i.then(c=>{jl(e,c)}).catch(c=>{tn(c,e,0)});e.asyncDep=i}else jl(e,i)}else fc(e)}function jl(e,t,o){Ne(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:rt(t)&&(e.setupState=Eu(t)),fc(e)}function fc(e,t,o){const n=e.type;e.render||(e.render=n.render||gr);{const a=ms(e);qr();try{H0(e)}finally{Nr(),a()}}}const Sm={get(e,t){return At(e,"get",""),e[t]}};function Am(e){const t=o=>{e.exposed=o||{}};return{attrs:new Proxy(e.attrs,Sm),slots:e.slots,emit:e.emit,expose:t}}function an(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Eu(_a(e.exposed)),{get(t,o){if(o in t)return t[o];if(o in jo)return jo[o](e)},has(t,o){return o in t||o in jo}})):e.proxy}function Em(e,t=!0){return Ne(e)?e.displayName||e.name:e.name||t&&e.__name}function Mm(e){return Ne(e)&&"__vccOpts"in e}const L=(e,t)=>y0(e,t,ts);function or(e,t,o){const n=arguments.length;return n===2?rt(t)&&!qe(t)?es(t)?Ee(e,null,[t]):Ee(e,t):Ee(e,null,t):(n>3?o=Array.prototype.slice.call(arguments,2):n===3&&es(o)&&(o=[o]),Ee(e,t,o))}const Pm="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ea;const Hl=typeof window<"u"&&window.trustedTypes;if(Hl)try{ea=Hl.createPolicy("vue",{createHTML:e=>e})}catch{}const gc=ea?e=>ea.createHTML(e):e=>e,Tm="http://www.w3.org/2000/svg",Lm="http://www.w3.org/1998/Math/MathML",yr=typeof document<"u"?document:null,Gl=yr&&yr.createElement("template"),Im={insert:(e,t,o)=>{t.insertBefore(e,o||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,o,n)=>{const a=t==="svg"?yr.createElementNS(Tm,e):t==="mathml"?yr.createElementNS(Lm,e):o?yr.createElement(e,{is:o}):yr.createElement(e);return e==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:e=>yr.createTextNode(e),createComment:e=>yr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>yr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,o,n,a,l){const i=o?o.previousSibling:t.lastChild;if(a&&(a===l||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),o),!(a===l||!(a=a.nextSibling)););else{Gl.innerHTML=gc(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const u=Gl.content;if(n==="svg"||n==="mathml"){const c=u.firstChild;for(;c.firstChild;)u.appendChild(c.firstChild);u.removeChild(c)}t.insertBefore(u,o)}return[i?i.nextSibling:t.firstChild,o?o.previousSibling:t.lastChild]}},Sr="transition",Io="animation",$o=Symbol("_vtc"),vc={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},bc=_t({},Bu,vc),Fm=e=>(e.displayName="Transition",e.props=bc,e),no=Fm((e,{slots:t})=>or(M0,hc(e),t)),Hr=(e,t=[])=>{qe(e)?e.forEach(o=>o(...t)):e&&e(...t)},Vl=e=>e?qe(e)?e.some(t=>t.length>1):e.length>1:!1;function hc(e){const t={};for(const j in e)j in vc||(t[j]=e[j]);if(e.css===!1)return t;const{name:o="v",type:n,duration:a,enterFromClass:l=`${o}-enter-from`,enterActiveClass:i=`${o}-enter-active`,enterToClass:u=`${o}-enter-to`,appearFromClass:c=l,appearActiveClass:d=i,appearToClass:m=u,leaveFromClass:b=`${o}-leave-from`,leaveActiveClass:x=`${o}-leave-active`,leaveToClass:h=`${o}-leave-to`}=e,C=Um(a),w=C&&C[0],M=C&&C[1],{onBeforeEnter:S,onEnter:_,onEnterCancelled:y,onLeave:P,onLeaveCancelled:I,onBeforeAppear:U=S,onAppear:q=_,onAppearCancelled:k=y}=t,W=(j,T,K,fe)=>{j._enterCancelled=fe,Er(j,T?m:u),Er(j,T?d:i),K&&K()},le=(j,T)=>{j._isLeaving=!1,Er(j,b),Er(j,h),Er(j,x),T&&T()},X=j=>(T,K)=>{const fe=j?q:_,we=()=>W(T,j,K);Hr(fe,[T,we]),Wl(()=>{Er(T,j?c:l),dr(T,j?m:u),Vl(fe)||zl(T,n,w,we)})};return _t(t,{onBeforeEnter(j){Hr(S,[j]),dr(j,l),dr(j,i)},onBeforeAppear(j){Hr(U,[j]),dr(j,c),dr(j,d)},onEnter:X(!1),onAppear:X(!0),onLeave(j,T){j._isLeaving=!0;const K=()=>le(j,T);dr(j,b),j._enterCancelled?(dr(j,x),ta()):(ta(),dr(j,x)),Wl(()=>{j._isLeaving&&(Er(j,b),dr(j,h),Vl(P)||zl(j,n,M,K))}),Hr(P,[j,K])},onEnterCancelled(j){W(j,!1,void 0,!0),Hr(y,[j])},onAppearCancelled(j){W(j,!0,void 0,!0),Hr(k,[j])},onLeaveCancelled(j){le(j),Hr(I,[j])}})}function Um(e){if(e==null)return null;if(rt(e))return[An(e.enter),An(e.leave)];{const t=An(e);return[t,t]}}function An(e){return Bd(e)}function dr(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.add(o)),(e[$o]||(e[$o]=new Set)).add(t)}function Er(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const o=e[$o];o&&(o.delete(t),o.size||(e[$o]=void 0))}function Wl(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Rm=0;function zl(e,t,o,n){const a=e._endId=++Rm,l=()=>{a===e._endId&&n()};if(o!=null)return setTimeout(l,o);const{type:i,timeout:u,propCount:c}=xc(e,t);if(!i)return n();const d=i+"end";let m=0;const b=()=>{e.removeEventListener(d,x),l()},x=h=>{h.target===e&&++m>=c&&b()};setTimeout(()=>{m<c&&b()},u+1),e.addEventListener(d,x)}function xc(e,t){const o=window.getComputedStyle(e),n=C=>(o[C]||"").split(", "),a=n(`${Sr}Delay`),l=n(`${Sr}Duration`),i=Xl(a,l),u=n(`${Io}Delay`),c=n(`${Io}Duration`),d=Xl(u,c);let m=null,b=0,x=0;t===Sr?i>0&&(m=Sr,b=i,x=l.length):t===Io?d>0&&(m=Io,b=d,x=c.length):(b=Math.max(i,d),m=b>0?i>d?Sr:Io:null,x=m?m===Sr?l.length:c.length:0);const h=m===Sr&&/\b(transform|all)(,|$)/.test(n(`${Sr}Property`).toString());return{type:m,timeout:b,propCount:x,hasTransform:h}}function Xl(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((o,n)=>Kl(o)+Kl(e[n])))}function Kl(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function ta(){return document.body.offsetHeight}function Dm(e,t,o){const n=e[$o];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):o?e.setAttribute("class",t):e.className=t}const Gs=Symbol("_vod"),yc=Symbol("_vsh"),Yr={beforeMount(e,{value:t},{transition:o}){e[Gs]=e.style.display==="none"?"":e.style.display,o&&t?o.beforeEnter(e):Fo(e,t)},mounted(e,{value:t},{transition:o}){o&&t&&o.enter(e)},updated(e,{value:t,oldValue:o},{transition:n}){!t!=!o&&(n?t?(n.beforeEnter(e),Fo(e,!0),n.enter(e)):n.leave(e,()=>{Fo(e,!1)}):Fo(e,t))},beforeUnmount(e,{value:t}){Fo(e,t)}};function Fo(e,t){e.style.display=t?e[Gs]:"none",e[yc]=!t}const qm=Symbol(""),Nm=/(^|;)\s*display\s*:/;function Om(e,t,o){const n=e.style,a=pt(o);let l=!1;if(o&&!a){if(t)if(pt(t))for(const i of t.split(";")){const u=i.slice(0,i.indexOf(":")).trim();o[u]==null&&Us(n,u,"")}else for(const i in t)o[i]==null&&Us(n,i,"");for(const i in o)i==="display"&&(l=!0),Us(n,i,o[i])}else if(a){if(t!==o){const i=n[qm];i&&(o+=";"+i),n.cssText=o,l=Nm.test(o)}}else t&&e.removeAttribute("style");Gs in e&&(e[Gs]=l?n.display:"",e[yc]&&(n.display="none"))}const Yl=/\s*!important$/;function Us(e,t,o){if(qe(o))o.forEach(n=>Us(e,t,n));else if(o==null&&(o=""),t.startsWith("--"))e.setProperty(t,o);else{const n=Bm(e,t);Yl.test(o)?e.setProperty(Dr(n),o.replace(Yl,""),"important"):e[n]=o}}const Jl=["Webkit","Moz","ms"],En={};function Bm(e,t){const o=En[t];if(o)return o;let n=Kt(t);if(n!=="filter"&&n in e)return En[t]=n;n=Ys(n);for(let a=0;a<Jl.length;a++){const l=Jl[a]+n;if(l in e)return En[t]=l}return t}const Zl="http://www.w3.org/1999/xlink";function ei(e,t,o,n,a,l=Wd(t)){n&&t.startsWith("xlink:")?o==null?e.removeAttributeNS(Zl,t.slice(6,t.length)):e.setAttributeNS(Zl,t,o):o==null||l&&!nu(o)?e.removeAttribute(t):e.setAttribute(t,l?"":nr(o)?String(o):o)}function ti(e,t,o,n,a){if(t==="innerHTML"||t==="textContent"){o!=null&&(e[t]=t==="innerHTML"?gc(o):o);return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){const u=l==="OPTION"?e.getAttribute("value")||"":e.value,c=o==null?e.type==="checkbox"?"on":"":String(o);(u!==c||!("_value"in e))&&(e.value=c),o==null&&e.removeAttribute(t),e._value=o;return}let i=!1;if(o===""||o==null){const u=typeof e[t];u==="boolean"?o=nu(o):o==null&&u==="string"?(o="",i=!0):u==="number"&&(o=0,i=!0)}try{e[t]=o}catch{}i&&e.removeAttribute(a||t)}function Xr(e,t,o,n){e.addEventListener(t,o,n)}function Qm(e,t,o,n){e.removeEventListener(t,o,n)}const ri=Symbol("_vei");function jm(e,t,o,n,a=null){const l=e[ri]||(e[ri]={}),i=l[t];if(n&&i)i.value=n;else{const[u,c]=Hm(t);if(n){const d=l[t]=Wm(n,a);Xr(e,u,d,c)}else i&&(Qm(e,u,i,c),l[t]=void 0)}}const oi=/(?:Once|Passive|Capture)$/;function Hm(e){let t;if(oi.test(e)){t={};let n;for(;n=e.match(oi);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Dr(e.slice(2)),t]}let Mn=0;const Gm=Promise.resolve(),Vm=()=>Mn||(Gm.then(()=>Mn=0),Mn=Date.now());function Wm(e,t){const o=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=o.attached)return;ar(zm(n,o.value),t,5,[n])};return o.value=e,o.attached=Vm(),o}function zm(e,t){if(qe(t)){const o=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{o.call(e),e._stopped=!0},t.map(n=>a=>!a._stopped&&n&&n(a))}else return t}const si=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Xm=(e,t,o,n,a,l)=>{const i=a==="svg";t==="class"?Dm(e,n,i):t==="style"?Om(e,o,n):zs(t)?ca(t)||jm(e,t,o,n,l):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Km(e,t,n,i))?(ti(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ei(e,t,n,i,l,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!pt(n))?ti(e,Kt(t),n,l,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),ei(e,t,n,i))};function Km(e,t,o,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&si(t)&&Ne(o));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return si(t)&&pt(o)?!1:t in e}const kc=new WeakMap,_c=new WeakMap,Vs=Symbol("_moveCb"),ni=Symbol("_enterCb"),Ym=e=>(delete e.props.mode,e),Jm=Ym({name:"TransitionGroup",props:_t({},bc,{tag:String,moveClass:String}),setup(e,{slots:t}){const o=ds(),n=Ou();let a,l;return Wu(()=>{if(!a.length)return;const i=e.moveClass||`${e.name||"v"}-move`;if(!op(a[0].el,o.vnode.el,i))return;a.forEach(ep),a.forEach(tp);const u=a.filter(rp);ta(),u.forEach(c=>{const d=c.el,m=d.style;dr(d,i),m.transform=m.webkitTransform=m.transitionDuration="";const b=d[Vs]=x=>{x&&x.target!==d||(!x||/transform$/.test(x.propertyName))&&(d.removeEventListener("transitionend",b),d[Vs]=null,Er(d,i))};d.addEventListener("transitionend",b)})}),()=>{const i=Xe(e),u=hc(i);let c=i.tag||$e;if(a=[],l)for(let d=0;d<l.length;d++){const m=l[d];m.el&&m.el instanceof Element&&(a.push(m),ro(m,Jo(m,u,n,o)),kc.set(m,m.el.getBoundingClientRect()))}l=t.default?$a(t.default()):[];for(let d=0;d<l.length;d++){const m=l[d];m.key!=null&&ro(m,Jo(m,u,n,o))}return Ee(c,null,l)}}}),Zm=Jm;function ep(e){const t=e.el;t[Vs]&&t[Vs](),t[ni]&&t[ni]()}function tp(e){_c.set(e,e.el.getBoundingClientRect())}function rp(e){const t=kc.get(e),o=_c.get(e),n=t.left-o.left,a=t.top-o.top;if(n||a){const l=e.el.style;return l.transform=l.webkitTransform=`translate(${n}px,${a}px)`,l.transitionDuration="0s",e}}function op(e,t,o){const n=e.cloneNode(),a=e[$o];a&&a.forEach(u=>{u.split(/\s+/).forEach(c=>c&&n.classList.remove(c))}),o.split(/\s+/).forEach(u=>u&&n.classList.add(u)),n.style.display="none";const l=t.nodeType===1?t:t.parentNode;l.appendChild(n);const{hasTransform:i}=xc(n);return l.removeChild(n),i}const Ws=e=>{const t=e.props["onUpdate:modelValue"]||!1;return qe(t)?o=>Ps(t,o):t};function sp(e){e.target.composing=!0}function ai(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const wo=Symbol("_assign"),oo={created(e,{modifiers:{lazy:t,trim:o,number:n}},a){e[wo]=Ws(a);const l=n||a.props&&a.props.type==="number";Xr(e,t?"change":"input",i=>{if(i.target.composing)return;let u=e.value;o&&(u=u.trim()),l&&(u=jn(u)),e[wo](u)}),o&&Xr(e,"change",()=>{e.value=e.value.trim()}),t||(Xr(e,"compositionstart",sp),Xr(e,"compositionend",ai),Xr(e,"change",ai))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:o,modifiers:{lazy:n,trim:a,number:l}},i){if(e[wo]=Ws(i),e.composing)return;const u=(l||e.type==="number")&&!/^0\d/.test(e.value)?jn(e.value):e.value,c=t??"";u!==c&&(document.activeElement===e&&e.type!=="range"&&(n&&t===o||a&&e.value.trim()===c)||(e.value=c))}},Mt={deep:!0,created(e,t,o){e[wo]=Ws(o),Xr(e,"change",()=>{const n=e._modelValue,a=np(e),l=e.checked,i=e[wo];if(qe(n)){const u=au(n,a),c=u!==-1;if(l&&!c)i(n.concat(a));else if(!l&&c){const d=[...n];d.splice(u,1),i(d)}}else if(Xs(n)){const u=new Set(n);l?u.add(a):u.delete(a),i(u)}else i(wc(e,l))})},mounted:li,beforeUpdate(e,t,o){e[wo]=Ws(o),li(e,t,o)}};function li(e,{value:t,oldValue:o},n){e._modelValue=t;let a;if(qe(t))a=au(t,n.props.value)>-1;else if(Xs(t))a=t.has(n.props.value);else{if(t===o)return;a=Zs(t,wc(e,!0))}e.checked!==a&&(e.checked=a)}function np(e){return"_value"in e?e._value:e.value}function wc(e,t){const o=t?"_trueValue":"_falseValue";return o in e?e[o]:t}const ap=["ctrl","shift","alt","meta"],lp={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ap.some(o=>e[`${o}Key`]&&!t.includes(o))},Ye=(e,t)=>{const o=e._withMods||(e._withMods={}),n=t.join(".");return o[n]||(o[n]=(a,...l)=>{for(let i=0;i<t.length;i++){const u=lp[t[i]];if(u&&u(a,t))return}return e(a,...l)})},ip={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ta=(e,t)=>{const o=e._withKeys||(e._withKeys={}),n=t.join(".");return o[n]||(o[n]=a=>{if(!("key"in a))return;const l=Dr(a.key);if(t.some(i=>i===l||ip[i]===l))return e(a)})},up=_t({patchProp:Xm},Im);let ii;function cp(){return ii||(ii=om(up))}const dp=(...e)=>{const t=cp().createApp(...e),{mount:o}=t;return t.mount=n=>{const a=pp(n);if(!a)return;const l=t._component;!Ne(l)&&!l.render&&!l.template&&(l.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const i=o(a,!1,mp(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),i},t};function mp(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function pp(e){return pt(e)?document.querySelector(e):e}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const vo=typeof document<"u";function $c(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function fp(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&$c(e.default)}const Ze=Object.assign;function Pn(e,t){const o={};for(const n in t){const a=t[n];o[n]=lr(a)?a.map(e):e(a)}return o}const Go=()=>{},lr=Array.isArray,Cc=/#/g,gp=/&/g,vp=/\//g,bp=/=/g,hp=/\?/g,Sc=/\+/g,xp=/%5B/g,yp=/%5D/g,Ac=/%5E/g,kp=/%60/g,Ec=/%7B/g,_p=/%7C/g,Mc=/%7D/g,wp=/%20/g;function La(e){return encodeURI(""+e).replace(_p,"|").replace(xp,"[").replace(yp,"]")}function $p(e){return La(e).replace(Ec,"{").replace(Mc,"}").replace(Ac,"^")}function ra(e){return La(e).replace(Sc,"%2B").replace(wp,"+").replace(Cc,"%23").replace(gp,"%26").replace(kp,"`").replace(Ec,"{").replace(Mc,"}").replace(Ac,"^")}function Cp(e){return ra(e).replace(bp,"%3D")}function Sp(e){return La(e).replace(Cc,"%23").replace(hp,"%3F")}function Ap(e){return e==null?"":Sp(e).replace(vp,"%2F")}function rs(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Ep=/\/$/,Mp=e=>e.replace(Ep,"");function Tn(e,t,o="/"){let n,a={},l="",i="";const u=t.indexOf("#");let c=t.indexOf("?");return u<c&&u>=0&&(c=-1),c>-1&&(n=t.slice(0,c),l=t.slice(c+1,u>-1?u:t.length),a=e(l)),u>-1&&(n=n||t.slice(0,u),i=t.slice(u,t.length)),n=Ip(n??t,o),{fullPath:n+(l&&"?")+l+i,path:n,query:a,hash:rs(i)}}function Pp(e,t){const o=t.query?e(t.query):"";return t.path+(o&&"?")+o+(t.hash||"")}function ui(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Tp(e,t,o){const n=t.matched.length-1,a=o.matched.length-1;return n>-1&&n===a&&Co(t.matched[n],o.matched[a])&&Pc(t.params,o.params)&&e(t.query)===e(o.query)&&t.hash===o.hash}function Co(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Pc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const o in e)if(!Lp(e[o],t[o]))return!1;return!0}function Lp(e,t){return lr(e)?ci(e,t):lr(t)?ci(t,e):e===t}function ci(e,t){return lr(t)?e.length===t.length&&e.every((o,n)=>o===t[n]):e.length===1&&e[0]===t}function Ip(e,t){if(e.startsWith("/"))return e;if(!e)return t;const o=t.split("/"),n=e.split("/"),a=n[n.length-1];(a===".."||a===".")&&n.push("");let l=o.length-1,i,u;for(i=0;i<n.length;i++)if(u=n[i],u!==".")if(u==="..")l>1&&l--;else break;return o.slice(0,l).join("/")+"/"+n.slice(i).join("/")}const Ar={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var os;(function(e){e.pop="pop",e.push="push"})(os||(os={}));var Vo;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Vo||(Vo={}));function Fp(e){if(!e)if(vo){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Mp(e)}const Up=/^[^#]+#/;function Rp(e,t){return e.replace(Up,"#")+t}function Dp(e,t){const o=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-o.left-(t.left||0),top:n.top-o.top-(t.top||0)}}const ln=()=>({left:window.scrollX,top:window.scrollY});function qp(e){let t;if("el"in e){const o=e.el,n=typeof o=="string"&&o.startsWith("#"),a=typeof o=="string"?n?document.getElementById(o.slice(1)):document.querySelector(o):o;if(!a)return;t=Dp(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function di(e,t){return(history.state?history.state.position-t:-1)+e}const oa=new Map;function Np(e,t){oa.set(e,t)}function Op(e){const t=oa.get(e);return oa.delete(e),t}let Bp=()=>location.protocol+"//"+location.host;function Tc(e,t){const{pathname:o,search:n,hash:a}=t,l=e.indexOf("#");if(l>-1){let u=a.includes(e.slice(l))?e.slice(l).length:1,c=a.slice(u);return c[0]!=="/"&&(c="/"+c),ui(c,"")}return ui(o,e)+n+a}function Qp(e,t,o,n){let a=[],l=[],i=null;const u=({state:x})=>{const h=Tc(e,location),C=o.value,w=t.value;let M=0;if(x){if(o.value=h,t.value=x,i&&i===C){i=null;return}M=w?x.position-w.position:0}else n(h);a.forEach(S=>{S(o.value,C,{delta:M,type:os.pop,direction:M?M>0?Vo.forward:Vo.back:Vo.unknown})})};function c(){i=o.value}function d(x){a.push(x);const h=()=>{const C=a.indexOf(x);C>-1&&a.splice(C,1)};return l.push(h),h}function m(){const{history:x}=window;x.state&&x.replaceState(Ze({},x.state,{scroll:ln()}),"")}function b(){for(const x of l)x();l=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",m)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",m,{passive:!0}),{pauseListeners:c,listen:d,destroy:b}}function mi(e,t,o,n=!1,a=!1){return{back:e,current:t,forward:o,replaced:n,position:window.history.length,scroll:a?ln():null}}function jp(e){const{history:t,location:o}=window,n={value:Tc(e,o)},a={value:t.state};a.value||l(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function l(c,d,m){const b=e.indexOf("#"),x=b>-1?(o.host&&document.querySelector("base")?e:e.slice(b))+c:Bp()+e+c;try{t[m?"replaceState":"pushState"](d,"",x),a.value=d}catch(h){console.error(h),o[m?"replace":"assign"](x)}}function i(c,d){const m=Ze({},t.state,mi(a.value.back,c,a.value.forward,!0),d,{position:a.value.position});l(c,m,!0),n.value=c}function u(c,d){const m=Ze({},a.value,t.state,{forward:c,scroll:ln()});l(m.current,m,!0);const b=Ze({},mi(n.value,c,null),{position:m.position+1},d);l(c,b,!1),n.value=c}return{location:n,state:a,push:u,replace:i}}function Hp(e){e=Fp(e);const t=jp(e),o=Qp(e,t.state,t.location,t.replace);function n(l,i=!0){i||o.pauseListeners(),history.go(l)}const a=Ze({location:"",base:e,go:n,createHref:Rp.bind(null,e)},t,o);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function Gp(e){return typeof e=="string"||e&&typeof e=="object"}function Lc(e){return typeof e=="string"||typeof e=="symbol"}const Ic=Symbol("");var pi;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(pi||(pi={}));function So(e,t){return Ze(new Error,{type:e,[Ic]:!0},t)}function xr(e,t){return e instanceof Error&&Ic in e&&(t==null||!!(e.type&t))}const fi="[^/]+?",Vp={sensitive:!1,strict:!1,start:!0,end:!0},Wp=/[.+*?^${}()[\]/\\]/g;function zp(e,t){const o=Ze({},Vp,t),n=[];let a=o.start?"^":"";const l=[];for(const d of e){const m=d.length?[]:[90];o.strict&&!d.length&&(a+="/");for(let b=0;b<d.length;b++){const x=d[b];let h=40+(o.sensitive?.25:0);if(x.type===0)b||(a+="/"),a+=x.value.replace(Wp,"\\$&"),h+=40;else if(x.type===1){const{value:C,repeatable:w,optional:M,regexp:S}=x;l.push({name:C,repeatable:w,optional:M});const _=S||fi;if(_!==fi){h+=10;try{new RegExp(`(${_})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${C}" (${_}): `+P.message)}}let y=w?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;b||(y=M&&d.length<2?`(?:/${y})`:"/"+y),M&&(y+="?"),a+=y,h+=20,M&&(h+=-8),w&&(h+=-20),_===".*"&&(h+=-50)}m.push(h)}n.push(m)}if(o.strict&&o.end){const d=n.length-1;n[d][n[d].length-1]+=.7000000000000001}o.strict||(a+="/?"),o.end?a+="$":o.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const i=new RegExp(a,o.sensitive?"":"i");function u(d){const m=d.match(i),b={};if(!m)return null;for(let x=1;x<m.length;x++){const h=m[x]||"",C=l[x-1];b[C.name]=h&&C.repeatable?h.split("/"):h}return b}function c(d){let m="",b=!1;for(const x of e){(!b||!m.endsWith("/"))&&(m+="/"),b=!1;for(const h of x)if(h.type===0)m+=h.value;else if(h.type===1){const{value:C,repeatable:w,optional:M}=h,S=C in d?d[C]:"";if(lr(S)&&!w)throw new Error(`Provided param "${C}" is an array but it is not repeatable (* or + modifiers)`);const _=lr(S)?S.join("/"):S;if(!_)if(M)x.length<2&&(m.endsWith("/")?m=m.slice(0,-1):b=!0);else throw new Error(`Missing required param "${C}"`);m+=_}}return m||"/"}return{re:i,score:n,keys:l,parse:u,stringify:c}}function Xp(e,t){let o=0;for(;o<e.length&&o<t.length;){const n=t[o]-e[o];if(n)return n;o++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Fc(e,t){let o=0;const n=e.score,a=t.score;for(;o<n.length&&o<a.length;){const l=Xp(n[o],a[o]);if(l)return l;o++}if(Math.abs(a.length-n.length)===1){if(gi(n))return 1;if(gi(a))return-1}return a.length-n.length}function gi(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Kp={type:0,value:""},Yp=/[a-zA-Z0-9_]/;function Jp(e){if(!e)return[[]];if(e==="/")return[[Kp]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(h){throw new Error(`ERR (${o})/"${d}": ${h}`)}let o=0,n=o;const a=[];let l;function i(){l&&a.push(l),l=[]}let u=0,c,d="",m="";function b(){d&&(o===0?l.push({type:0,value:d}):o===1||o===2||o===3?(l.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:d,regexp:m,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),d="")}function x(){d+=c}for(;u<e.length;){if(c=e[u++],c==="\\"&&o!==2){n=o,o=4;continue}switch(o){case 0:c==="/"?(d&&b(),i()):c===":"?(b(),o=1):x();break;case 4:x(),o=n;break;case 1:c==="("?o=2:Yp.test(c)?x():(b(),o=0,c!=="*"&&c!=="?"&&c!=="+"&&u--);break;case 2:c===")"?m[m.length-1]=="\\"?m=m.slice(0,-1)+c:o=3:m+=c;break;case 3:b(),o=0,c!=="*"&&c!=="?"&&c!=="+"&&u--,m="";break;default:t("Unknown state");break}}return o===2&&t(`Unfinished custom RegExp for param "${d}"`),b(),i(),a}function Zp(e,t,o){const n=zp(Jp(e.path),o),a=Ze(n,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function ef(e,t){const o=[],n=new Map;t=xi({strict:!1,end:!0,sensitive:!1},t);function a(b){return n.get(b)}function l(b,x,h){const C=!h,w=bi(b);w.aliasOf=h&&h.record;const M=xi(t,b),S=[w];if("alias"in b){const P=typeof b.alias=="string"?[b.alias]:b.alias;for(const I of P)S.push(bi(Ze({},w,{components:h?h.record.components:w.components,path:I,aliasOf:h?h.record:w})))}let _,y;for(const P of S){const{path:I}=P;if(x&&I[0]!=="/"){const U=x.record.path,q=U[U.length-1]==="/"?"":"/";P.path=x.record.path+(I&&q+I)}if(_=Zp(P,x,M),h?h.alias.push(_):(y=y||_,y!==_&&y.alias.push(_),C&&b.name&&!hi(_)&&i(b.name)),Uc(_)&&c(_),w.children){const U=w.children;for(let q=0;q<U.length;q++)l(U[q],_,h&&h.children[q])}h=h||_}return y?()=>{i(y)}:Go}function i(b){if(Lc(b)){const x=n.get(b);x&&(n.delete(b),o.splice(o.indexOf(x),1),x.children.forEach(i),x.alias.forEach(i))}else{const x=o.indexOf(b);x>-1&&(o.splice(x,1),b.record.name&&n.delete(b.record.name),b.children.forEach(i),b.alias.forEach(i))}}function u(){return o}function c(b){const x=of(b,o);o.splice(x,0,b),b.record.name&&!hi(b)&&n.set(b.record.name,b)}function d(b,x){let h,C={},w,M;if("name"in b&&b.name){if(h=n.get(b.name),!h)throw So(1,{location:b});M=h.record.name,C=Ze(vi(x.params,h.keys.filter(y=>!y.optional).concat(h.parent?h.parent.keys.filter(y=>y.optional):[]).map(y=>y.name)),b.params&&vi(b.params,h.keys.map(y=>y.name))),w=h.stringify(C)}else if(b.path!=null)w=b.path,h=o.find(y=>y.re.test(w)),h&&(C=h.parse(w),M=h.record.name);else{if(h=x.name?n.get(x.name):o.find(y=>y.re.test(x.path)),!h)throw So(1,{location:b,currentLocation:x});M=h.record.name,C=Ze({},x.params,b.params),w=h.stringify(C)}const S=[];let _=h;for(;_;)S.unshift(_.record),_=_.parent;return{name:M,path:w,params:C,matched:S,meta:rf(S)}}e.forEach(b=>l(b));function m(){o.length=0,n.clear()}return{addRoute:l,resolve:d,removeRoute:i,clearRoutes:m,getRoutes:u,getRecordMatcher:a}}function vi(e,t){const o={};for(const n of t)n in e&&(o[n]=e[n]);return o}function bi(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:tf(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function tf(e){const t={},o=e.props||!1;if("component"in e)t.default=o;else for(const n in e.components)t[n]=typeof o=="object"?o[n]:o;return t}function hi(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function rf(e){return e.reduce((t,o)=>Ze(t,o.meta),{})}function xi(e,t){const o={};for(const n in e)o[n]=n in t?t[n]:e[n];return o}function of(e,t){let o=0,n=t.length;for(;o!==n;){const l=o+n>>1;Fc(e,t[l])<0?n=l:o=l+1}const a=sf(e);return a&&(n=t.lastIndexOf(a,n-1)),n}function sf(e){let t=e;for(;t=t.parent;)if(Uc(t)&&Fc(e,t)===0)return t}function Uc({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function nf(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<n.length;++a){const l=n[a].replace(Sc," "),i=l.indexOf("="),u=rs(i<0?l:l.slice(0,i)),c=i<0?null:rs(l.slice(i+1));if(u in t){let d=t[u];lr(d)||(d=t[u]=[d]),d.push(c)}else t[u]=c}return t}function yi(e){let t="";for(let o in e){const n=e[o];if(o=Cp(o),n==null){n!==void 0&&(t+=(t.length?"&":"")+o);continue}(lr(n)?n.map(l=>l&&ra(l)):[n&&ra(n)]).forEach(l=>{l!==void 0&&(t+=(t.length?"&":"")+o,l!=null&&(t+="="+l))})}return t}function af(e){const t={};for(const o in e){const n=e[o];n!==void 0&&(t[o]=lr(n)?n.map(a=>a==null?null:""+a):n==null?n:""+n)}return t}const lf=Symbol(""),ki=Symbol(""),un=Symbol(""),Ia=Symbol(""),sa=Symbol("");function Uo(){let e=[];function t(n){return e.push(n),()=>{const a=e.indexOf(n);a>-1&&e.splice(a,1)}}function o(){e=[]}return{add:t,list:()=>e.slice(),reset:o}}function Fr(e,t,o,n,a,l=i=>i()){const i=n&&(n.enterCallbacks[a]=n.enterCallbacks[a]||[]);return()=>new Promise((u,c)=>{const d=x=>{x===!1?c(So(4,{from:o,to:t})):x instanceof Error?c(x):Gp(x)?c(So(2,{from:t,to:x})):(i&&n.enterCallbacks[a]===i&&typeof x=="function"&&i.push(x),u())},m=l(()=>e.call(n&&n.instances[a],t,o,d));let b=Promise.resolve(m);e.length<3&&(b=b.then(d)),b.catch(x=>c(x))})}function Ln(e,t,o,n,a=l=>l()){const l=[];for(const i of e)for(const u in i.components){let c=i.components[u];if(!(t!=="beforeRouteEnter"&&!i.instances[u]))if($c(c)){const m=(c.__vccOpts||c)[t];m&&l.push(Fr(m,o,n,i,u,a))}else{let d=c();l.push(()=>d.then(m=>{if(!m)throw new Error(`Couldn't resolve component "${u}" at "${i.path}"`);const b=fp(m)?m.default:m;i.mods[u]=m,i.components[u]=b;const h=(b.__vccOpts||b)[t];return h&&Fr(h,o,n,i,u,a)()}))}}return l}function _i(e){const t=Gt(un),o=Gt(Ia),n=L(()=>{const c=f(e.to);return t.resolve(c)}),a=L(()=>{const{matched:c}=n.value,{length:d}=c,m=c[d-1],b=o.matched;if(!m||!b.length)return-1;const x=b.findIndex(Co.bind(null,m));if(x>-1)return x;const h=wi(c[d-2]);return d>1&&wi(m)===h&&b[b.length-1].path!==h?b.findIndex(Co.bind(null,c[d-2])):x}),l=L(()=>a.value>-1&&pf(o.params,n.value.params)),i=L(()=>a.value>-1&&a.value===o.matched.length-1&&Pc(o.params,n.value.params));function u(c={}){if(mf(c)){const d=t[f(e.replace)?"replace":"push"](f(e.to)).catch(Go);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:n,href:L(()=>n.value.href),isActive:l,isExactActive:i,navigate:u}}function uf(e){return e.length===1?e[0]:e}const cf=Ie({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:_i,setup(e,{slots:t}){const o=so(_i(e)),{options:n}=Gt(un),a=L(()=>({[$i(e.activeClass,n.linkActiveClass,"router-link-active")]:o.isActive,[$i(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:o.isExactActive}));return()=>{const l=t.default&&uf(t.default(o));return e.custom?l:or("a",{"aria-current":o.isExactActive?e.ariaCurrentValue:null,href:o.href,onClick:o.navigate,class:a.value},l)}}}),df=cf;function mf(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function pf(e,t){for(const o in t){const n=t[o],a=e[o];if(typeof n=="string"){if(n!==a)return!1}else if(!lr(a)||a.length!==n.length||n.some((l,i)=>l!==a[i]))return!1}return!0}function wi(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const $i=(e,t,o)=>e??t??o,ff=Ie({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:o}){const n=Gt(sa),a=L(()=>e.route||n.value),l=Gt(ki,0),i=L(()=>{let d=f(l);const{matched:m}=a.value;let b;for(;(b=m[d])&&!b.components;)d++;return d}),u=L(()=>a.value.matched[i.value]);Ls(ki,L(()=>i.value+1)),Ls(lf,u),Ls(sa,a);const c=B();return De(()=>[c.value,u.value,e.name],([d,m,b],[x,h,C])=>{m&&(m.instances[b]=d,h&&h!==m&&d&&d===x&&(m.leaveGuards.size||(m.leaveGuards=h.leaveGuards),m.updateGuards.size||(m.updateGuards=h.updateGuards))),d&&m&&(!h||!Co(m,h)||!x)&&(m.enterCallbacks[b]||[]).forEach(w=>w(d))},{flush:"post"}),()=>{const d=a.value,m=e.name,b=u.value,x=b&&b.components[m];if(!x)return Ci(o.default,{Component:x,route:d});const h=b.props[m],C=h?h===!0?d.params:typeof h=="function"?h(d):h:null,M=or(x,Ze({},C,t,{onVnodeUnmounted:S=>{S.component.isUnmounted&&(b.instances[m]=null)},ref:c}));return Ci(o.default,{Component:M,route:d})||M}}});function Ci(e,t){if(!e)return null;const o=e(t);return o.length===1?o[0]:o}const gf=ff;function vf(e){const t=ef(e.routes,e),o=e.parseQuery||nf,n=e.stringifyQuery||yi,a=e.history,l=Uo(),i=Uo(),u=Uo(),c=Ut(Ar);let d=Ar;vo&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=Pn.bind(null,F=>""+F),b=Pn.bind(null,Ap),x=Pn.bind(null,rs);function h(F,E){let N,me;return Lc(F)?(N=t.getRecordMatcher(F),me=E):me=F,t.addRoute(me,N)}function C(F){const E=t.getRecordMatcher(F);E&&t.removeRoute(E)}function w(){return t.getRoutes().map(F=>F.record)}function M(F){return!!t.getRecordMatcher(F)}function S(F,E){if(E=Ze({},E||c.value),typeof F=="string"){const A=Tn(o,F,E.path),Q=t.resolve({path:A.path},E),ne=a.createHref(A.fullPath);return Ze(A,Q,{params:x(Q.params),hash:rs(A.hash),redirectedFrom:void 0,href:ne})}let N;if(F.path!=null)N=Ze({},F,{path:Tn(o,F.path,E.path).path});else{const A=Ze({},F.params);for(const Q in A)A[Q]==null&&delete A[Q];N=Ze({},F,{params:b(A)}),E.params=b(E.params)}const me=t.resolve(N,E),ie=F.hash||"";me.params=m(x(me.params));const O=Pp(n,Ze({},F,{hash:$p(ie),path:me.path})),$=a.createHref(O);return Ze({fullPath:O,hash:ie,query:n===yi?af(F.query):F.query||{}},me,{redirectedFrom:void 0,href:$})}function _(F){return typeof F=="string"?Tn(o,F,c.value.path):Ze({},F)}function y(F,E){if(d!==F)return So(8,{from:E,to:F})}function P(F){return q(F)}function I(F){return P(Ze(_(F),{replace:!0}))}function U(F){const E=F.matched[F.matched.length-1];if(E&&E.redirect){const{redirect:N}=E;let me=typeof N=="function"?N(F):N;return typeof me=="string"&&(me=me.includes("?")||me.includes("#")?me=_(me):{path:me},me.params={}),Ze({query:F.query,hash:F.hash,params:me.path!=null?{}:F.params},me)}}function q(F,E){const N=d=S(F),me=c.value,ie=F.state,O=F.force,$=F.replace===!0,A=U(N);if(A)return q(Ze(_(A),{state:typeof A=="object"?Ze({},ie,A.state):ie,force:O,replace:$}),E||N);const Q=N;Q.redirectedFrom=E;let ne;return!O&&Tp(n,me,N)&&(ne=So(16,{to:Q,from:me}),ue(me,me,!0,!1)),(ne?Promise.resolve(ne):le(Q,me)).catch(re=>xr(re)?xr(re,2)?re:ke(re):pe(re,Q,me)).then(re=>{if(re){if(xr(re,2))return q(Ze({replace:$},_(re.to),{state:typeof re.to=="object"?Ze({},ie,re.to.state):ie,force:O}),E||Q)}else re=j(Q,me,!0,$,ie);return X(Q,me,re),re})}function k(F,E){const N=y(F,E);return N?Promise.reject(N):Promise.resolve()}function W(F){const E=oe.values().next().value;return E&&typeof E.runWithContext=="function"?E.runWithContext(F):F()}function le(F,E){let N;const[me,ie,O]=bf(F,E);N=Ln(me.reverse(),"beforeRouteLeave",F,E);for(const A of me)A.leaveGuards.forEach(Q=>{N.push(Fr(Q,F,E))});const $=k.bind(null,F,E);return N.push($),ae(N).then(()=>{N=[];for(const A of l.list())N.push(Fr(A,F,E));return N.push($),ae(N)}).then(()=>{N=Ln(ie,"beforeRouteUpdate",F,E);for(const A of ie)A.updateGuards.forEach(Q=>{N.push(Fr(Q,F,E))});return N.push($),ae(N)}).then(()=>{N=[];for(const A of O)if(A.beforeEnter)if(lr(A.beforeEnter))for(const Q of A.beforeEnter)N.push(Fr(Q,F,E));else N.push(Fr(A.beforeEnter,F,E));return N.push($),ae(N)}).then(()=>(F.matched.forEach(A=>A.enterCallbacks={}),N=Ln(O,"beforeRouteEnter",F,E,W),N.push($),ae(N))).then(()=>{N=[];for(const A of i.list())N.push(Fr(A,F,E));return N.push($),ae(N)}).catch(A=>xr(A,8)?A:Promise.reject(A))}function X(F,E,N){u.list().forEach(me=>W(()=>me(F,E,N)))}function j(F,E,N,me,ie){const O=y(F,E);if(O)return O;const $=E===Ar,A=vo?history.state:{};N&&(me||$?a.replace(F.fullPath,Ze({scroll:$&&A&&A.scroll},ie)):a.push(F.fullPath,ie)),c.value=F,ue(F,E,N,$),ke()}let T;function K(){T||(T=a.listen((F,E,N)=>{if(!te.listening)return;const me=S(F),ie=U(me);if(ie){q(Ze(ie,{replace:!0,force:!0}),me).catch(Go);return}d=me;const O=c.value;vo&&Np(di(O.fullPath,N.delta),ln()),le(me,O).catch($=>xr($,12)?$:xr($,2)?(q(Ze(_($.to),{force:!0}),me).then(A=>{xr(A,20)&&!N.delta&&N.type===os.pop&&a.go(-1,!1)}).catch(Go),Promise.reject()):(N.delta&&a.go(-N.delta,!1),pe($,me,O))).then($=>{$=$||j(me,O,!1),$&&(N.delta&&!xr($,8)?a.go(-N.delta,!1):N.type===os.pop&&xr($,20)&&a.go(-1,!1)),X(me,O,$)}).catch(Go)}))}let fe=Uo(),we=Uo(),Se;function pe(F,E,N){ke(F);const me=we.list();return me.length?me.forEach(ie=>ie(F,E,N)):console.error(F),Promise.reject(F)}function ce(){return Se&&c.value!==Ar?Promise.resolve():new Promise((F,E)=>{fe.add([F,E])})}function ke(F){return Se||(Se=!F,K(),fe.list().forEach(([E,N])=>F?N(F):E()),fe.reset()),F}function ue(F,E,N,me){const{scrollBehavior:ie}=e;if(!vo||!ie)return Promise.resolve();const O=!N&&Op(di(F.fullPath,0))||(me||!N)&&history.state&&history.state.scroll||null;return cs().then(()=>ie(F,E,O)).then($=>$&&qp($)).catch($=>pe($,F,E))}const Z=F=>a.go(F);let de;const oe=new Set,te={currentRoute:c,listening:!0,addRoute:h,removeRoute:C,clearRoutes:t.clearRoutes,hasRoute:M,getRoutes:w,resolve:S,options:e,push:P,replace:I,go:Z,back:()=>Z(-1),forward:()=>Z(1),beforeEach:l.add,beforeResolve:i.add,afterEach:u.add,onError:we.add,isReady:ce,install(F){const E=this;F.component("RouterLink",df),F.component("RouterView",gf),F.config.globalProperties.$router=E,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>f(c)}),vo&&!de&&c.value===Ar&&(de=!0,P(a.location).catch(ie=>{}));const N={};for(const ie in Ar)Object.defineProperty(N,ie,{get:()=>c.value[ie],enumerable:!0});F.provide(un,E),F.provide(Ia,Su(N)),F.provide(sa,c);const me=F.unmount;oe.add(F),F.unmount=function(){oe.delete(F),oe.size<1&&(d=Ar,T&&T(),T=null,c.value=Ar,de=!1,Se=!1),me()}}};function ae(F){return F.reduce((E,N)=>E.then(()=>W(N)),Promise.resolve())}return te}function bf(e,t){const o=[],n=[],a=[],l=Math.max(t.matched.length,e.matched.length);for(let i=0;i<l;i++){const u=t.matched[i];u&&(e.matched.find(d=>Co(d,u))?n.push(u):o.push(u));const c=e.matched[i];c&&(t.matched.find(d=>Co(d,c))||a.push(c))}return[o,n,a]}function ps(){return Gt(un)}function Rc(e){return Gt(Ia)}/*!
 * pinia v3.0.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Dc;const cn=e=>Dc=e,qc=Symbol();function na(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Wo;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Wo||(Wo={}));function hf(){const e=cu(!0),t=e.run(()=>B({}));let o=[],n=[];const a=_a({install(l){cn(a),a._a=l,l.provide(qc,a),l.config.globalProperties.$pinia=a,n.forEach(i=>o.push(i)),n=[]},use(l){return this._a?o.push(l):n.push(l),this},_p:o,_a:null,_e:e,_s:new Map,state:t});return a}const Nc=()=>{};function Si(e,t,o,n=Nc){e.push(t);const a=()=>{const l=e.indexOf(t);l>-1&&(e.splice(l,1),n())};return!o&&pa()&&du(a),a}function uo(e,...t){e.slice().forEach(o=>{o(...t)})}const xf=e=>e(),Ai=Symbol(),In=Symbol();function aa(e,t){e instanceof Map&&t instanceof Map?t.forEach((o,n)=>e.set(n,o)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const o in t){if(!t.hasOwnProperty(o))continue;const n=t[o],a=e[o];na(a)&&na(n)&&e.hasOwnProperty(o)&&!ze(n)&&!wr(n)?e[o]=aa(a,n):e[o]=n}return e}const yf=Symbol();function kf(e){return!na(e)||!e.hasOwnProperty(yf)}const{assign:Mr}=Object;function _f(e){return!!(ze(e)&&e.effect)}function wf(e,t,o,n){const{state:a,actions:l,getters:i}=t,u=o.state.value[e];let c;function d(){u||(o.state.value[e]=a?a():{});const m=Mu(o.state.value[e]);return Mr(m,l,Object.keys(i||{}).reduce((b,x)=>(b[x]=_a(L(()=>{cn(o);const h=o._s.get(e);return i[x].call(h,h)})),b),{}))}return c=Oc(e,d,t,o,n,!0),c}function Oc(e,t,o={},n,a,l){let i;const u=Mr({actions:{}},o),c={deep:!0};let d,m,b=[],x=[],h;const C=n.state.value[e];!l&&!C&&(n.state.value[e]={}),B({});let w;function M(k){let W;d=m=!1,typeof k=="function"?(k(n.state.value[e]),W={type:Wo.patchFunction,storeId:e,events:h}):(aa(n.state.value[e],k),W={type:Wo.patchObject,payload:k,storeId:e,events:h});const le=w=Symbol();cs().then(()=>{w===le&&(d=!0)}),m=!0,uo(b,W,n.state.value[e])}const S=l?function(){const{state:W}=o,le=W?W():{};this.$patch(X=>{Mr(X,le)})}:Nc;function _(){i.stop(),b=[],x=[],n._s.delete(e)}const y=(k,W="")=>{if(Ai in k)return k[In]=W,k;const le=function(){cn(n);const X=Array.from(arguments),j=[],T=[];function K(Se){j.push(Se)}function fe(Se){T.push(Se)}uo(x,{args:X,name:le[In],store:I,after:K,onError:fe});let we;try{we=k.apply(this&&this.$id===e?this:I,X)}catch(Se){throw uo(T,Se),Se}return we instanceof Promise?we.then(Se=>(uo(j,Se),Se)).catch(Se=>(uo(T,Se),Promise.reject(Se))):(uo(j,we),we)};return le[Ai]=!0,le[In]=W,le},P={_p:n,$id:e,$onAction:Si.bind(null,x),$patch:M,$reset:S,$subscribe(k,W={}){const le=Si(b,k,W.detached,()=>X()),X=i.run(()=>De(()=>n.state.value[e],j=>{(W.flush==="sync"?m:d)&&k({storeId:e,type:Wo.direct,events:h},j)},Mr({},c,W)));return le},$dispose:_},I=so(P);n._s.set(e,I);const q=(n._a&&n._a.runWithContext||xf)(()=>n._e.run(()=>(i=cu()).run(()=>t({action:y}))));for(const k in q){const W=q[k];if(ze(W)&&!_f(W)||wr(W))l||(C&&kf(W)&&(ze(W)?W.value=C[k]:aa(W,C[k])),n.state.value[e][k]=W);else if(typeof W=="function"){const le=y(W,k);q[k]=le,u.actions[k]=W}}return Mr(I,q),Mr(Xe(I),q),Object.defineProperty(I,"$state",{get:()=>n.state.value[e],set:k=>{M(W=>{Mr(W,k)})}}),n._p.forEach(k=>{Mr(I,i.run(()=>k({store:I,app:n._a,pinia:n,options:u})))}),C&&l&&o.hydrate&&o.hydrate(I.$state,C),d=!0,m=!0,I}/*! #__NO_SIDE_EFFECTS__ */function ft(e,t,o){let n;const a=typeof t=="function";n=a?o:t;function l(i,u){const c=Sa();return i=i||(c?Gt(qc,null):null),i&&cn(i),i=Dc,i._s.has(e)||(a?Oc(e,t,n,i):wf(e,n,i)),i._s.get(e)}return l.$id=e,l}function Bc(e){const t=Xe(e),o={};for(const n in t){const a=t[n];a.effect?o[n]=L({get:()=>e[n],set(l){e[n]=l}}):(ze(a)||wr(a))&&(o[n]=h0(e,n))}return o}function $f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fn,Ei;function Cf(){return Ei||(Ei=1,Fn=function(e,t,o){if(e==null||t==null)return e;var n=String(e),a=typeof t=="number"?t:parseInt(t,10);if(isNaN(a)||!isFinite(a))return n;var l=n.length;if(l>=a)return n;var i=o==null?"":String(o);i===""&&(i=" ");for(var u=a-l;i.length<u;)i+=i;var c=i.length>u?i.substr(0,u):i;return n+c}),Fn}var Sf=Cf();const Un=$f(Sf);var bo=9e15,_s=function(){for(var e=[],t=-323;t<=308;t++)e.push(+("1e"+t));return function(o){return e[o+323]}}(),Pe=function(e){return e instanceof he?e:new he(e)},qt=function(e,t){return new he().fromMantissaExponent(e,t)},Kr=function(e,t){return new he().fromMantissaExponent_noNormalize(e,t)};function Af(e,t,o,n){var a=t.mul(o.pow(n));return he.floor(e.div(a).mul(o.sub(1)).add(1).log10()/o.log10())}function Ef(e,t,o,n){return t.mul(o.pow(n)).mul(he.sub(1,o.pow(e))).div(he.sub(1,o))}var he=function(){function e(t){this.mantissa=NaN,this.exponent=NaN,t===void 0?(this.m=0,this.e=0):t instanceof e?this.fromDecimal(t):typeof t=="number"?this.fromNumber(t):this.fromString(t)}return Object.defineProperty(e.prototype,"m",{get:function(){return this.mantissa},set:function(t){this.mantissa=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"e",{get:function(){return this.exponent},set:function(t){this.exponent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"s",{get:function(){return this.sign()},set:function(t){if(t===0)return this.e=0,void(this.m=0);this.sgn()!==t&&(this.m=-this.m)},enumerable:!1,configurable:!0}),e.fromMantissaExponent=function(t,o){return new e().fromMantissaExponent(t,o)},e.fromMantissaExponent_noNormalize=function(t,o){return new e().fromMantissaExponent_noNormalize(t,o)},e.fromDecimal=function(t){return new e().fromDecimal(t)},e.fromNumber=function(t){return new e().fromNumber(t)},e.fromString=function(t){return new e().fromString(t)},e.fromValue=function(t){return new e().fromValue(t)},e.fromValue_noAlloc=function(t){return t instanceof e?t:new e(t)},e.abs=function(t){return Pe(t).abs()},e.neg=function(t){return Pe(t).neg()},e.negate=function(t){return Pe(t).neg()},e.negated=function(t){return Pe(t).neg()},e.sign=function(t){return Pe(t).sign()},e.sgn=function(t){return Pe(t).sign()},e.round=function(t){return Pe(t).round()},e.floor=function(t){return Pe(t).floor()},e.ceil=function(t){return Pe(t).ceil()},e.trunc=function(t){return Pe(t).trunc()},e.add=function(t,o){return Pe(t).add(o)},e.plus=function(t,o){return Pe(t).add(o)},e.sub=function(t,o){return Pe(t).sub(o)},e.subtract=function(t,o){return Pe(t).sub(o)},e.minus=function(t,o){return Pe(t).sub(o)},e.mul=function(t,o){return Pe(t).mul(o)},e.multiply=function(t,o){return Pe(t).mul(o)},e.times=function(t,o){return Pe(t).mul(o)},e.div=function(t,o){return Pe(t).div(o)},e.divide=function(t,o){return Pe(t).div(o)},e.recip=function(t){return Pe(t).recip()},e.reciprocal=function(t){return Pe(t).recip()},e.reciprocate=function(t){return Pe(t).reciprocate()},e.cmp=function(t,o){return Pe(t).cmp(o)},e.compare=function(t,o){return Pe(t).cmp(o)},e.eq=function(t,o){return Pe(t).eq(o)},e.equals=function(t,o){return Pe(t).eq(o)},e.neq=function(t,o){return Pe(t).neq(o)},e.notEquals=function(t,o){return Pe(t).notEquals(o)},e.lt=function(t,o){return Pe(t).lt(o)},e.lte=function(t,o){return Pe(t).lte(o)},e.gt=function(t,o){return Pe(t).gt(o)},e.gte=function(t,o){return Pe(t).gte(o)},e.max=function(t,o){return Pe(t).max(o)},e.min=function(t,o){return Pe(t).min(o)},e.clamp=function(t,o,n){return Pe(t).clamp(o,n)},e.clampMin=function(t,o){return Pe(t).clampMin(o)},e.clampMax=function(t,o){return Pe(t).clampMax(o)},e.cmp_tolerance=function(t,o,n){return Pe(t).cmp_tolerance(o,n)},e.compare_tolerance=function(t,o,n){return Pe(t).cmp_tolerance(o,n)},e.eq_tolerance=function(t,o,n){return Pe(t).eq_tolerance(o,n)},e.equals_tolerance=function(t,o,n){return Pe(t).eq_tolerance(o,n)},e.neq_tolerance=function(t,o,n){return Pe(t).neq_tolerance(o,n)},e.notEquals_tolerance=function(t,o,n){return Pe(t).notEquals_tolerance(o,n)},e.lt_tolerance=function(t,o,n){return Pe(t).lt_tolerance(o,n)},e.lte_tolerance=function(t,o,n){return Pe(t).lte_tolerance(o,n)},e.gt_tolerance=function(t,o,n){return Pe(t).gt_tolerance(o,n)},e.gte_tolerance=function(t,o,n){return Pe(t).gte_tolerance(o,n)},e.log10=function(t){return Pe(t).log10()},e.absLog10=function(t){return Pe(t).absLog10()},e.pLog10=function(t){return Pe(t).pLog10()},e.log=function(t,o){return Pe(t).log(o)},e.log2=function(t){return Pe(t).log2()},e.ln=function(t){return Pe(t).ln()},e.logarithm=function(t,o){return Pe(t).logarithm(o)},e.pow10=function(t){return Number.isInteger(t)?Kr(1,t):qt(Math.pow(10,t%1),Math.trunc(t))},e.pow=function(t,o){return typeof t=="number"&&t===10&&typeof o=="number"&&Number.isInteger(o)?Kr(1,o):Pe(t).pow(o)},e.exp=function(t){return Pe(t).exp()},e.sqr=function(t){return Pe(t).sqr()},e.sqrt=function(t){return Pe(t).sqrt()},e.cube=function(t){return Pe(t).cube()},e.cbrt=function(t){return Pe(t).cbrt()},e.dp=function(t){return Pe(t).dp()},e.decimalPlaces=function(t){return Pe(t).dp()},e.affordGeometricSeries=function(t,o,n,a){return Af(Pe(t),Pe(o),Pe(n),a)},e.sumGeometricSeries=function(t,o,n,a){return Ef(t,Pe(o),Pe(n),a)},e.affordArithmeticSeries=function(t,o,n,a){return function(l,i,u,c){var d=i.add(c.mul(u)).sub(u.div(2)),m=d.pow(2);return d.neg().add(m.add(u.mul(l).mul(2)).sqrt()).div(u).floor()}(Pe(t),Pe(o),Pe(n),Pe(a))},e.sumArithmeticSeries=function(t,o,n,a){return function(l,i,u,c){var d=i.add(c.mul(u));return l.div(2).mul(d.mul(2).plus(l.sub(1).mul(u)))}(Pe(t),Pe(o),Pe(n),Pe(a))},e.efficiencyOfPurchase=function(t,o,n){return function(a,l,i){return a.div(l).add(a.div(i))}(Pe(t),Pe(o),Pe(n))},e.randomDecimalForTesting=function(t){if(20*Math.random()<1)return Kr(0,0);var o=10*Math.random();10*Math.random()<1&&(o=Math.round(o)),o*=Math.sign(2*Math.random()-1);var n=Math.floor(Math.random()*t*2)-t;return qt(o,n)},e.prototype.normalize=function(){if(this.m>=1&&this.m<10)return this;if(this.m===0)return this.m=0,this.e=0,this;var t=Math.floor(Math.log10(Math.abs(this.m)));return this.m=t===-324?10*this.m/1e-323:this.m/_s(t),this.e+=t,this},e.prototype.fromMantissaExponent=function(t,o){return isFinite(t)&&isFinite(o)?(this.m=t,this.e=o,this.normalize(),this):(t=Number.NaN,o=Number.NaN,this)},e.prototype.fromMantissaExponent_noNormalize=function(t,o){return this.m=t,this.e=o,this},e.prototype.fromDecimal=function(t){return this.m=t.m,this.e=t.e,this},e.prototype.fromNumber=function(t){return isNaN(t)?(this.m=Number.NaN,this.e=Number.NaN):t===Number.POSITIVE_INFINITY?(this.m=1,this.e=bo):t===Number.NEGATIVE_INFINITY?(this.m=-1,this.e=bo):t===0?(this.m=0,this.e=0):(this.e=Math.floor(Math.log10(Math.abs(t))),this.m=this.e===-324?10*t/1e-323:t/_s(this.e),this.normalize()),this},e.prototype.fromString=function(t){if(t.indexOf("e")!==-1){var o=t.split("e");this.m=parseFloat(o[0]),this.e=parseFloat(o[1]),this.normalize()}else if(t==="NaN")this.m=Number.NaN,this.e=Number.NaN;else if(this.fromNumber(parseFloat(t)),isNaN(this.m))throw Error("[DecimalError] Invalid argument: "+t);return this},e.prototype.fromValue=function(t){return t instanceof e?this.fromDecimal(t):typeof t=="number"?this.fromNumber(t):typeof t=="string"?this.fromString(t):(this.m=0,this.e=0,this)},e.prototype.toNumber=function(){if(!isFinite(this.e))return Number.NaN;if(this.e>308)return this.m>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;if(this.e<-324)return 0;if(this.e===-324)return this.m>0?5e-324:-5e-324;var t=this.m*_s(this.e);if(!isFinite(t)||this.e<0)return t;var o=Math.round(t);return Math.abs(o-t)<1e-10?o:t},e.prototype.mantissaWithDecimalPlaces=function(t){if(isNaN(this.m)||isNaN(this.e))return Number.NaN;if(this.m===0)return 0;var o=t+1,n=Math.ceil(Math.log10(Math.abs(this.m))),a=Math.round(this.m*Math.pow(10,o-n))*Math.pow(10,n-o);return parseFloat(a.toFixed(Math.max(o-n,0)))},e.prototype.toString=function(){return isNaN(this.m)||isNaN(this.e)?"NaN":this.e>=bo?this.m>0?"Infinity":"-Infinity":this.e<=-9e15||this.m===0?"0":this.e<21&&this.e>-7?this.toNumber().toString():this.m+"e"+(this.e>=0?"+":"")+this.e},e.prototype.toExponential=function(t){if(isNaN(this.m)||isNaN(this.e))return"NaN";if(this.e>=bo)return this.m>0?"Infinity":"-Infinity";if(this.e<=-9e15||this.m===0)return"0"+(t>0?Un(".",t+1,"0"):"")+"e+0";if(this.e>-324&&this.e<308)return this.toNumber().toExponential(t);isFinite(t)||(t=17);var o=t+1,n=Math.max(1,Math.ceil(Math.log10(Math.abs(this.m))));return(Math.round(this.m*Math.pow(10,o-n))*Math.pow(10,n-o)).toFixed(Math.max(o-n,0))+"e"+(this.e>=0?"+":"")+this.e},e.prototype.toFixed=function(t){return isNaN(this.m)||isNaN(this.e)?"NaN":this.e>=bo?this.m>0?"Infinity":"-Infinity":this.e<=-9e15||this.m===0?"0"+(t>0?Un(".",t+1,"0"):""):this.e>=17?this.m.toString().replace(".","").padEnd(this.e+1,"0")+(t>0?Un(".",t+1,"0"):""):this.toNumber().toFixed(t)},e.prototype.toPrecision=function(t){return this.e<=-7?this.toExponential(t-1):t>this.e?this.toFixed(t-this.e-1):this.toExponential(t-1)},e.prototype.valueOf=function(){return this.toString()},e.prototype.toJSON=function(){return this.toString()},e.prototype.toStringWithDecimalPlaces=function(t){return this.toExponential(t)},e.prototype.abs=function(){return Kr(Math.abs(this.m),this.e)},e.prototype.neg=function(){return Kr(-this.m,this.e)},e.prototype.negate=function(){return this.neg()},e.prototype.negated=function(){return this.neg()},e.prototype.sign=function(){return Math.sign(this.m)},e.prototype.sgn=function(){return this.sign()},e.prototype.round=function(){return this.e<-1?new e(0):this.e<17?new e(Math.round(this.toNumber())):this},e.prototype.floor=function(){return this.e<-1?Math.sign(this.m)>=0?new e(0):new e(-1):this.e<17?new e(Math.floor(this.toNumber())):this},e.prototype.ceil=function(){return this.e<-1?Math.sign(this.m)>0?new e(1):new e(0):this.e<17?new e(Math.ceil(this.toNumber())):this},e.prototype.trunc=function(){return this.e<0?new e(0):this.e<17?new e(Math.trunc(this.toNumber())):this},e.prototype.add=function(t){var o,n,a=Pe(t);if(this.m===0)return a;if(a.m===0)return this;if(this.e>=a.e?(o=this,n=a):(o=a,n=this),o.e-n.e>17)return o;var l=Math.round(1e14*o.m+1e14*n.m*_s(n.e-o.e));return qt(l,o.e-14)},e.prototype.plus=function(t){return this.add(t)},e.prototype.sub=function(t){return this.add(Pe(t).neg())},e.prototype.subtract=function(t){return this.sub(t)},e.prototype.minus=function(t){return this.sub(t)},e.prototype.mul=function(t){if(typeof t=="number")return t<1e307&&t>-1e307?qt(this.m*t,this.e):qt(1e-307*this.m*t,this.e+307);var o=typeof t=="string"?new e(t):t;return qt(this.m*o.m,this.e+o.e)},e.prototype.multiply=function(t){return this.mul(t)},e.prototype.times=function(t){return this.mul(t)},e.prototype.div=function(t){return this.mul(Pe(t).recip())},e.prototype.divide=function(t){return this.div(t)},e.prototype.divideBy=function(t){return this.div(t)},e.prototype.dividedBy=function(t){return this.div(t)},e.prototype.recip=function(){return qt(1/this.m,-this.e)},e.prototype.reciprocal=function(){return this.recip()},e.prototype.reciprocate=function(){return this.recip()},e.prototype.cmp=function(t){var o=Pe(t);if(this.m===0){if(o.m===0)return 0;if(o.m<0)return 1;if(o.m>0)return-1}if(o.m===0){if(this.m<0)return-1;if(this.m>0)return 1}if(this.m>0)return o.m<0||this.e>o.e?1:this.e<o.e?-1:this.m>o.m?1:this.m<o.m?-1:0;if(this.m<0)return o.m>0||this.e>o.e?-1:this.e<o.e||this.m>o.m?1:this.m<o.m?-1:0;throw Error("Unreachable code")},e.prototype.compare=function(t){return this.cmp(t)},e.prototype.eq=function(t){var o=Pe(t);return this.e===o.e&&this.m===o.m},e.prototype.equals=function(t){return this.eq(t)},e.prototype.neq=function(t){return!this.eq(t)},e.prototype.notEquals=function(t){return this.neq(t)},e.prototype.lt=function(t){var o=Pe(t);return this.m===0?o.m>0:o.m===0?this.m<=0:this.e===o.e?this.m<o.m:this.m>0?o.m>0&&this.e<o.e:o.m>0||this.e>o.e},e.prototype.lte=function(t){return!this.gt(t)},e.prototype.gt=function(t){var o=Pe(t);return this.m===0?o.m<0:o.m===0?this.m>0:this.e===o.e?this.m>o.m:this.m>0?o.m<0||this.e>o.e:o.m<0&&this.e<o.e},e.prototype.gte=function(t){return!this.lt(t)},e.prototype.max=function(t){var o=Pe(t);return this.lt(o)?o:this},e.prototype.min=function(t){var o=Pe(t);return this.gt(o)?o:this},e.prototype.clamp=function(t,o){return this.max(t).min(o)},e.prototype.clampMin=function(t){return this.max(t)},e.prototype.clampMax=function(t){return this.min(t)},e.prototype.cmp_tolerance=function(t,o){var n=Pe(t);return this.eq_tolerance(n,o)?0:this.cmp(n)},e.prototype.compare_tolerance=function(t,o){return this.cmp_tolerance(t,o)},e.prototype.eq_tolerance=function(t,o){var n=Pe(t);return e.lte(this.sub(n).abs(),e.max(this.abs(),n.abs()).mul(o))},e.prototype.equals_tolerance=function(t,o){return this.eq_tolerance(t,o)},e.prototype.neq_tolerance=function(t,o){return!this.eq_tolerance(t,o)},e.prototype.notEquals_tolerance=function(t,o){return this.neq_tolerance(t,o)},e.prototype.lt_tolerance=function(t,o){var n=Pe(t);return!this.eq_tolerance(n,o)&&this.lt(n)},e.prototype.lte_tolerance=function(t,o){var n=Pe(t);return this.eq_tolerance(n,o)||this.lt(n)},e.prototype.gt_tolerance=function(t,o){var n=Pe(t);return!this.eq_tolerance(n,o)&&this.gt(n)},e.prototype.gte_tolerance=function(t,o){var n=Pe(t);return this.eq_tolerance(n,o)||this.gt(n)},e.prototype.log10=function(){return this.e+Math.log10(this.m)},e.prototype.absLog10=function(){return this.e+Math.log10(Math.abs(this.m))},e.prototype.pLog10=function(){return this.m<=0||this.e<0?0:this.log10()},e.prototype.log=function(t){return Math.LN10/Math.log(t)*this.log10()},e.prototype.log2=function(){return 3.321928094887362*this.log10()},e.prototype.ln=function(){return 2.302585092994045*this.log10()},e.prototype.logarithm=function(t){return this.log(t)},e.prototype.pow=function(t){var o,n=t instanceof e?t.toNumber():t,a=this.e*n;if(Number.isSafeInteger(a)&&(o=Math.pow(this.m,n),isFinite(o)&&o!==0))return qt(o,a);var l=Math.trunc(a),i=a-l;if(o=Math.pow(10,n*Math.log10(this.m)+i),isFinite(o)&&o!==0)return qt(o,l);var u=e.pow10(n*this.absLog10());return this.sign()===-1?Math.abs(n%2)===1?u.neg():Math.abs(n%2)===0?u:new e(Number.NaN):u},e.prototype.pow_base=function(t){return Pe(t).pow(this)},e.prototype.factorial=function(){var t=this.toNumber()+1;return e.pow(t/Math.E*Math.sqrt(t*Math.sinh(1/t)+1/(810*Math.pow(t,6))),t).mul(Math.sqrt(2*Math.PI/t))},e.prototype.exp=function(){var t=this.toNumber();return-706<t&&t<709?e.fromNumber(Math.exp(t)):e.pow(Math.E,t)},e.prototype.sqr=function(){return qt(Math.pow(this.m,2),2*this.e)},e.prototype.sqrt=function(){return this.m<0?new e(Number.NaN):this.e%2!=0?qt(3.16227766016838*Math.sqrt(this.m),Math.floor(this.e/2)):qt(Math.sqrt(this.m),Math.floor(this.e/2))},e.prototype.cube=function(){return qt(Math.pow(this.m,3),3*this.e)},e.prototype.cbrt=function(){var t=1,o=this.m;o<0&&(t=-1,o=-o);var n=t*Math.pow(o,1/3),a=this.e%3;return qt(a===1||a===-1?2.154434690031883*n:a!==0?4.641588833612778*n:n,Math.floor(this.e/3))},e.prototype.sinh=function(){return this.exp().sub(this.negate().exp()).div(2)},e.prototype.cosh=function(){return this.exp().add(this.negate().exp()).div(2)},e.prototype.tanh=function(){return this.sinh().div(this.cosh())},e.prototype.asinh=function(){return e.ln(this.add(this.sqr().add(1).sqrt()))},e.prototype.acosh=function(){return e.ln(this.add(this.sqr().sub(1).sqrt()))},e.prototype.atanh=function(){return this.abs().gte(1)?Number.NaN:e.ln(this.add(1).div(new e(1).sub(this)))/2},e.prototype.ascensionPenalty=function(t){return t===0?this:this.pow(Math.pow(10,-t))},e.prototype.egg=function(){return this.add(9)},e.prototype.lessThanOrEqualTo=function(t){return this.cmp(t)<1},e.prototype.lessThan=function(t){return this.cmp(t)<0},e.prototype.greaterThanOrEqualTo=function(t){return this.cmp(t)>-1},e.prototype.greaterThan=function(t){return this.cmp(t)>0},e.prototype.decimalPlaces=function(){return this.dp()},e.prototype.dp=function(){if(!isFinite(this.mantissa))return NaN;if(this.exponent>=17)return 0;for(var t=this.mantissa,o=-this.exponent,n=1;Math.abs(Math.round(t*n)/n-t)>1e-10;)n*=10,o++;return o>0?o:0},Object.defineProperty(e,"MAX_VALUE",{get:function(){return Mf},enumerable:!1,configurable:!0}),Object.defineProperty(e,"MIN_VALUE",{get:function(){return Pf},enumerable:!1,configurable:!0}),Object.defineProperty(e,"NUMBER_MAX_VALUE",{get:function(){return Tf},enumerable:!1,configurable:!0}),Object.defineProperty(e,"NUMBER_MIN_VALUE",{get:function(){return Lf},enumerable:!1,configurable:!0}),e}(),Mf=Kr(1,bo),Pf=Kr(1,-9e15),Tf=Pe(Number.MAX_VALUE),Lf=Pe(Number.MIN_VALUE);function s(e){return new he(e)}function ge(e,t=2){if(!e)return"0";try{if(e.eq(e).toString()==="false")return"0"}catch{return"0"}if(e.eq(0)||e.lt(.01))return"0";if(e.lt(1e3)){const o=e.toFixed(t);return o.includes(".")?o.replace(/\.?0+$/,""):o}else return e.lt(1e6)?`${e.div(1e3).toFixed(t)}K`:e.lt(1e9)?`${e.div(1e6).toFixed(t)}M`:e.lt(1e12)?`${e.div(1e9).toFixed(t)}B`:e.lt(1e15)?`${e.div(1e12).toFixed(t)}T`:e.lt(1e18)?`${e.div(1e15).toFixed(t)}Qa`:e.lt(1e21)?`${e.div(1e18).toFixed(t)}Qi`:e.lt(1e24)?`${e.div(1e21).toFixed(t)}Sx`:e.lt(1e27)?`${e.div(1e24).toFixed(t)}Sp`:e.toExponential(t)}function If(e){const t=e,o=s(3),n=s(1.065).add(s(.004).mul(t)),a=t,l=t.sub(999).max(0).div(1e3),i=a.mul(s(1).add(l));return o.mul(n.pow(i))}function Ff(e){const t=e,o=s(2e3),n=s(2.9).add(s(.3).mul(t)),a=t,l=t.sub(199).max(0).div(500),i=a.mul(s(1).add(l));return o.mul(n.pow(i))}function Uf(e){const t=e,o=s(1e8),n=s(20).add(s(10).mul(t)),a=t,l=t.sub(99).max(0).div(s(1e3).div(3)),i=a.mul(s(1).add(l));return o.mul(n.pow(i))}function Rf(e){const t=e,o=s(4e18),n=s(50).add(s(30).mul(t)),a=t,l=t.sub(74).max(0).div(200),i=a.mul(s(1).add(l));return o.mul(n.pow(i))}function Df(e){const t=e,o=s("5e46"),n=s(220).add(s(80).mul(t)),a=t,l=t.sub(49).max(0).div(200),i=a.mul(s(1).add(l));return o.mul(n.pow(i))}function qf(e){const t=e,o=s("6e200"),n=s("6e5").add(s("6e5").mul(t)),a=t,l=t.div(s(500).div(3)),i=a.mul(s(1).add(l));return o.mul(n.pow(i))}function Nf(e){const t=e,o=s("7e500"),n=s("7e7").add(s("7e7").mul(t)),a=t,l=t.div(50),i=a.mul(s(1).add(l));return o.mul(n.pow(i))}function Qc(e,t){switch(e){case 1:return If(t);case 2:return Ff(t);case 3:return Uf(t);case 4:return Rf(t);case 5:return Df(t);case 6:return qf(t);case 7:return Nf(t);default:return s(10).mul(s(1.1).pow(t))}}function Ct(e){const t=typeof e=="number"?new he(e):e;if(t.lt(1e-4))return`${t.mul(100).toExponential(2)}%`;if(t.lt(.01))return`${t.mul(100).toFixed(4)}%`;if(t.lt(.1))return`${t.mul(100).toFixed(3)}%`;if(t.lt(1))return`${t.mul(100).toFixed(2)}%`;if(t.lt(10))return`${t.mul(100).toFixed(1)}%`;if(t.lt(10))return`${t.mul(100).toFixed(0)}%`;{const o=t.mul(100);return o.lt(1e3)?`${o.toFixed(0)}%`:o.lt(1e6)?`${o.div(1e3).toFixed(2)}K%`:o.lt(1e9)?`${o.div(1e6).toFixed(2)}M%`:o.lt(1e12)?`${o.div(1e9).toFixed(2)}B%`:o.lt(1e15)?`${o.div(1e12).toFixed(2)}T%`:`${o.toExponential(2)}%`}}const Of="modulepreload",Bf=function(e){return"/"+e},Mi={},jc=function(t,o,n){let a=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),u=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(o.map(c=>{if(c=Bf(c),c in Mi)return;Mi[c]=!0;const d=c.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const b=document.createElement("link");if(b.rel=d?"stylesheet":Of,d||(b.as="script"),b.crossOrigin="",b.href=c,u&&b.setAttribute("nonce",u),document.head.appendChild(b),d)return new Promise((x,h)=>{b.addEventListener("load",x),b.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function l(i){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=i,window.dispatchEvent(u),!u.defaultPrevented)throw i}return a.then(i=>{for(const u of i||[])u.status==="rejected"&&l(u.reason);return t().catch(l)})},Qf=[{id:"workerEfficiency",generatorId:"worker",name:"Worker Efficiency",description:"Increases food production of worker ants",cost:s(1),level:s(0),maxLevel:s(10),effect:e=>s(1).add(e.mul(.2)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased food production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"workerTraining",generatorId:"worker",name:"Worker Training",description:"Decreases the cost of worker ants",cost:s(1),level:s(0),maxLevel:s(5),effect:e=>s(1).sub(e.mul(.05)),formatEffect:e=>`${s(1).sub(e).mul(100).toFixed(0)}% decreased worker cost`,icon:"i-heroicons-academic-cap",unlocked:!0},{id:"workerForaging",generatorId:"worker",name:"Advanced Foraging",description:"Workers find higher quality food sources",cost:s(2),level:s(0),maxLevel:s(8),effect:e=>s(1).add(e.mul(.15)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased food quality`,icon:"i-heroicons-map",unlocked:!0},{id:"workerEndurance",generatorId:"worker",name:"Worker Endurance",description:"Workers can carry more food per trip",cost:s(2),level:s(0),maxLevel:s(7),effect:e=>s(1).add(e.mul(.1)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased carrying capacity`,icon:"i-heroicons-battery-100",unlocked:!0},{id:"workerBase",generatorId:"worker",name:"Worker Base",description:"Increases base food production of workers by 10",cost:s(2),level:s(0),maxLevel:s(7),formatEffect:e=>`+${e.mul(10).toFixed(0)} base food production`,icon:"i-heroicons-building-storefront",unlocked:!0},{id:"nurseryEfficiency",generatorId:"nursery",name:"Nursery Efficiency",description:"Increases worker ant production of nurseries",cost:s(1),level:s(0),maxLevel:s(10),effect:e=>s(1).add(e.mul(.2)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased worker production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"nurseryExpansion",generatorId:"nursery",name:"Nursery Expansion",description:"Decreases the cost of nurseries",cost:s(1),level:s(0),maxLevel:s(5),effect:e=>s(1).sub(e.mul(.05)),formatEffect:e=>`${s(1).sub(e).mul(100).toFixed(0)}% decreased nursery cost`,icon:"i-heroicons-home",unlocked:!0},{id:"nurseryNutrition",generatorId:"nursery",name:"Larval Nutrition",description:"Better nutrition leads to faster worker development",cost:s(2),level:s(0),maxLevel:s(8),effect:e=>s(1).add(e.mul(.12)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% faster worker development`,icon:"i-heroicons-beaker",unlocked:!0},{id:"nurseryCapacity",generatorId:"nursery",name:"Nursery Capacity",description:"Nurseries can care for more larvae simultaneously",cost:s(2),level:s(0),maxLevel:s(6),effect:e=>s(1).add(e.mul(.15)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased larvae capacity`,icon:"i-heroicons-cube",unlocked:!0},{id:"nurseryBase",generatorId:"nursery",name:"Nursery Base",description:"Increases base worker production of nurseries by 1",cost:s(2),level:s(0),maxLevel:s(7),formatEffect:e=>`+${e.toFixed(0)} base worker production`,icon:"i-heroicons-building-storefront",unlocked:!0},{id:"queenChamberEfficiency",generatorId:"queenChamber",name:"Queen Efficiency",description:"Increases nursery production of queen chambers",cost:s(1),level:s(0),maxLevel:s(10),effect:e=>s(1).add(e.mul(.2)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased nursery production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"queenChamberLongevity",generatorId:"queenChamber",name:"Queen Longevity",description:"Decreases the cost of queen chambers",cost:s(1),level:s(0),maxLevel:s(5),effect:e=>s(1).sub(e.mul(.05)),formatEffect:e=>`${s(1).sub(e).mul(100).toFixed(0)}% decreased queen chamber cost`,icon:"i-heroicons-clock",unlocked:!0},{id:"queenChamberFertility",generatorId:"queenChamber",name:"Queen Fertility",description:"Queen chambers occasionally create new queens",cost:s(3),level:s(0),maxLevel:s(5),effect:e=>s(e.mul(.005)),formatEffect:e=>`${e.mul(100).toFixed(1)}% chance to generate a free queen chamber per tick`,icon:"i-heroicons-heart",unlocked:!0},{id:"queenChamberRoyalJelly",generatorId:"queenChamber",name:"Royal Jelly",description:"Special food increases queen egg production",cost:s(2),level:s(0),maxLevel:s(7),effect:e=>s(1).add(e.mul(.15)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased egg production`,icon:"i-heroicons-fire",unlocked:!0},{id:"queenChamberGuards",generatorId:"queenChamber",name:"Royal Guards",description:"Special guards protect the queen, increasing productivity",cost:s(2),level:s(0),maxLevel:s(6),effect:e=>s(1).add(e.mul(.1)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased productivity`,icon:"i-heroicons-shield-check",unlocked:!0},{id:"queenChamberEvolution",generatorId:"queenChamber",name:"Royal Evolution",description:"Queens enhance evolution potential, increasing EP gain by 0.05% per level per manual purchase of queen chamber per evolution done",cost:s(3),level:s(0),maxLevel:s(5),effect:e=>s(e.mul(5e-4)),formatEffect:e=>`+${e.mul(100).toFixed(3)}% EP gain per queen chamber per evolution`,icon:"i-heroicons-sparkles",unlocked:!0},{id:"queenChamberBase",generatorId:"queenChamber",name:"Queen Chamber Base",description:"Increases base nursery production of queen chambers by 1",cost:s(2),level:s(0),maxLevel:s(7),formatEffect:e=>`+${e.toFixed(0)} base nursery production`,icon:"i-heroicons-building-storefront",unlocked:!0},{id:"colonyEfficiency",generatorId:"colony",name:"Colony Efficiency",description:"Increases queen chamber production of colonies",cost:s(1),level:s(0),maxLevel:s(10),effect:e=>s(1).add(e.mul(.2)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased queen chamber production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"colonyExpansion",generatorId:"colony",name:"Colony Expansion",description:"Decreases the cost of colonies",cost:s(1),level:s(0),maxLevel:s(5),effect:e=>s(1).sub(e.mul(.05)),formatEffect:e=>`${s(1).sub(e).mul(100).toFixed(0)}% decreased colony cost`,icon:"i-heroicons-building-office-2",unlocked:!0},{id:"colonyOrganization",generatorId:"colony",name:"Colony Organization",description:"Better organization leads to increased productivity",cost:s(2),level:s(0),maxLevel:s(8),effect:e=>s(1).add(e.mul(.15)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased productivity`,icon:"i-heroicons-squares-2x2",unlocked:!0},{id:"colonyInfrastructure",generatorId:"colony",name:"Colony Infrastructure",description:"Improved tunnels and chambers increase overall efficiency",cost:s(2),level:s(0),maxLevel:s(7),effect:e=>s(1).add(e.mul(.12)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased efficiency`,icon:"i-heroicons-cube-transparent",unlocked:!0},{id:"colonyBase",generatorId:"colony",name:"Colony Base",description:"Increases base queen chamber production of colonies by 1",cost:s(2),level:s(0),maxLevel:s(7),formatEffect:e=>`+${e.toFixed(0)} base queen chamber production`,icon:"i-heroicons-building-storefront",unlocked:!0},{id:"megacolonyEfficiency",generatorId:"megacolony",name:"Megacolony Efficiency",description:"Increases colony production of megacolonies",cost:s(1),level:s(0),maxLevel:s(10),effect:e=>s(1).add(e.mul(.2)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased colony production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"megacolonyExpansion",generatorId:"megacolony",name:"Megacolony Expansion",description:"Decreases the cost of megacolonies",cost:s(1),level:s(0),maxLevel:s(5),effect:e=>s(1).sub(e.mul(.05)),formatEffect:e=>`${s(1).sub(e).mul(100).toFixed(0)}% decreased megacolony cost`,icon:"i-heroicons-building-office",unlocked:!0},{id:"megacolonyNetworking",generatorId:"megacolony",name:"Colony Networking",description:"Enhanced communication between colonies increases production",cost:s(2),level:s(0),maxLevel:s(8),effect:e=>s(1).add(e.mul(.15)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased production`,icon:"i-heroicons-share",unlocked:!0},{id:"megacolonyTerritory",generatorId:"megacolony",name:"Territory Control",description:"Better territory management improves resource gathering",cost:s(2),level:s(0),maxLevel:s(7),effect:e=>s(1).add(e.mul(.12)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% improved resource gathering`,icon:"i-heroicons-map",unlocked:!0},{id:"megacolonyBase",generatorId:"megacolony",name:"Megacolony Base",description:"Increases base colony production of megacolonies by 1",cost:s(2),level:s(0),maxLevel:s(7),formatEffect:e=>`+${e.toFixed(0)} base colony production`,icon:"i-heroicons-building-storefront",unlocked:!0},{id:"hivemindEfficiency",generatorId:"hivemind",name:"Hivemind Efficiency",description:"Increases megacolony production of hiveminds",cost:s(1),level:s(0),maxLevel:s(10),effect:e=>s(1).add(e.mul(.2)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased megacolony production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"hivemindExpansion",generatorId:"hivemind",name:"Hivemind Expansion",description:"Decreases the cost of hiveminds",cost:s(1),level:s(0),maxLevel:s(5),effect:e=>s(1).sub(e.mul(.05)),formatEffect:e=>`${s(1).sub(e).mul(100).toFixed(0)}% decreased hivemind cost`,icon:"i-heroicons-globe-americas",unlocked:!0},{id:"hivemindSynergy",generatorId:"hivemind",name:"Collective Synergy",description:"Enhanced collective consciousness improves coordination",cost:s(2),level:s(0),maxLevel:s(8),effect:e=>s(1).add(e.mul(.15)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% improved coordination`,icon:"i-heroicons-cpu-chip",unlocked:!0},{id:"hivemindIntelligence",generatorId:"hivemind",name:"Collective Intelligence",description:"Increased cognitive capacity improves decision making",cost:s(2),level:s(0),maxLevel:s(7),effect:e=>s(1).add(e.mul(.12)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% improved decision making`,icon:"i-heroicons-brain",unlocked:!0},{id:"hivemindBase",generatorId:"hivemind",name:"Hivemind Base",description:"Increases base megacolony production of hiveminds by 1",cost:s(2),level:s(0),maxLevel:s(7),formatEffect:e=>`+${e.toFixed(0)} base megacolony production`,icon:"i-heroicons-building-storefront",unlocked:!0},{id:"antopolisEfficiency",generatorId:"antopolis",name:"Antopolis Efficiency",description:"Increases hivemind production of antopolis",cost:s(1),level:s(0),maxLevel:s(10),effect:e=>s(1).add(e.mul(.2)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased hivemind production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"antopolisExpansion",generatorId:"antopolis",name:"Antopolis Expansion",description:"Decreases the cost of antopolis",cost:s(1),level:s(0),maxLevel:s(5),effect:e=>s(1).sub(e.mul(.05)),formatEffect:e=>`${s(1).sub(e).mul(100).toFixed(0)}% decreased antopolis cost`,icon:"i-heroicons-building-library",unlocked:!0},{id:"antopolisInnovation",generatorId:"antopolis",name:"Technological Innovation",description:"Advanced technology increases overall productivity",cost:s(2),level:s(0),maxLevel:s(8),effect:e=>s(1).add(e.mul(.15)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased productivity`,icon:"i-heroicons-light-bulb",unlocked:!0},{id:"antopolisCivilization",generatorId:"antopolis",name:"Ant Civilization",description:"Cultural and social advances improve efficiency",cost:s(2),level:s(0),maxLevel:s(7),effect:e=>s(1).add(e.mul(.12)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% improved efficiency`,icon:"i-heroicons-academic-cap",unlocked:!0},{id:"antopolisBase",generatorId:"antopolis",name:"Antopolis Base",description:"Increases base hivemind production of antopolis by 1",cost:s(2),level:s(0),maxLevel:s(7),formatEffect:e=>`+${e.toFixed(0)} base hivemind production`,icon:"i-heroicons-building-storefront",unlocked:!0}],Hc={training_sword:{id:"training_sword",name:"Training Sword",description:"A basic sword for training. Better than nothing!",type:"equipment",rarity:"common",stats:{damage:s(5)},productionModifiers:{worker:s(2),nursery:s(1.5)},level:s(1),xp:s(0),maxXp:s(10)},training_armor:{id:"training_armor",name:"Training Armor",description:"Basic protective gear for training.",type:"equipment",rarity:"common",stats:{health:s(20),damage:s(5)},productionModifiers:{worker:s(2),nursery:s(1.7)},level:s(1),xp:s(0),maxXp:s(10)},wooden_shield:{id:"wooden_shield",name:"Wooden Shield",description:"A simple wooden shield that offers basic protection.",type:"equipment",rarity:"common",stats:{health:s(15),defense:s(3)},productionModifiers:{worker:s(2.1),nursery:s(1.78)},level:s(1),xp:s(0),maxXp:s(100)},foraging_tools:{id:"foraging_tools",name:"Foraging Tools",description:"Basic tools that help ants gather resources more efficiently.",type:"equipment",rarity:"common",stats:{damage:s(2)},productionModifiers:{worker:s(2.2),nursery:s(1.1)},level:s(1),xp:s(0),maxXp:s(100)},leaf_cloak:{id:"leaf_cloak",name:"Leaf Cloak",description:"A simple cloak made from leaves that provides minimal protection.",type:"equipment",rarity:"common",stats:{health:s(10),defense:s(1)},productionModifiers:{worker:s(1.7),nursery:s(1.8),queenChamber:s(1.2)},level:s(1),xp:s(0),maxXp:s(100)},pebble_hammer:{id:"pebble_hammer",name:"Pebble Hammer",description:"A small pebble attached to a stick. Crude but effective.",type:"equipment",rarity:"common",stats:{damage:s(7)},productionModifiers:{worker:s(1.8),nursery:s(1.6),queenChamber:s(1.3)},level:s(1),xp:s(0),maxXp:s(100)},worker_sword:{id:"worker_sword",name:"Worker Sword",description:"A sturdy sword used by worker ants.",type:"equipment",rarity:"uncommon",stats:{damage:s(15)},productionModifiers:{nursery:s(2.5),queenChamber:s(1.5)},level:s(1),xp:s(0),maxXp:s(15)},worker_armor:{id:"worker_armor",name:"Worker Armor",description:"Durable armor worn by worker ants.",type:"equipment",rarity:"uncommon",stats:{health:s(50)},productionModifiers:{nursery:s(2.2),queenChamber:s(1.7)},level:s(1),xp:s(0),maxXp:s(15)},reinforced_mandibles:{id:"reinforced_mandibles",name:"Reinforced Mandibles",description:"Strengthened mandibles that can cut through tougher materials.",type:"equipment",rarity:"uncommon",stats:{damage:s(20),defense:s(5)},productionModifiers:{worker:s(2.3),nursery:s(3),queenChamber:s(1.8)},level:s(1),xp:s(0),maxXp:s(15)},resin_helmet:{id:"resin_helmet",name:"Resin Helmet",description:"A helmet crafted from hardened tree resin, offering good protection.",type:"equipment",rarity:"uncommon",stats:{health:s(40),defense:s(10)},productionModifiers:{worker:s(2.4),nursery:s(2.7),queenChamber:s(1.9)},level:s(1),xp:s(0),maxXp:s(15)},thorn_spear:{id:"thorn_spear",name:"Thorn Spear",description:"A spear tipped with a sharp rose thorn. Excellent for piercing.",type:"equipment",rarity:"uncommon",stats:{damage:s(25)},productionModifiers:{worker:s(2.5),nursery:s(2.9),queenChamber:s(2)},level:s(1),xp:s(0),maxXp:s(15)},beetle_shell_shield:{id:"beetle_shell_shield",name:"Beetle Shell Shield",description:"A shield made from a small beetle's shell. Surprisingly durable.",type:"equipment",rarity:"uncommon",stats:{health:s(60),defense:s(15)},productionModifiers:{worker:s(2.6),nursery:s(2.6),queenChamber:s(2.1)},level:s(1),xp:s(0),maxXp:s(15)},mandible_crusher:{id:"mandible_crusher",name:"Mandible Crusher",description:"A fearsome weapon forged from the mandibles of giant beetles.",type:"equipment",rarity:"rare",stats:{damage:s(100),defense:s(25)},productionModifiers:{worker:s(2.7),nursery:s(2.8),queenChamber:s(2.2),colony:s(2)},level:s(1),xp:s(0),maxXp:s(25)},exoskeleton_plate:{id:"exoskeleton_plate",name:"Exoskeleton Plate",description:"Armor crafted from the hardened exoskeleton of a giant stag beetle.",type:"equipment",rarity:"rare",stats:{health:s(300),defense:s(50),regen:s(5)},productionModifiers:{queenChamber:s(3.5),colony:s(2.5)},level:s(1),xp:s(0),maxXp:s(25)},venom_dagger:{id:"venom_dagger",name:"Venom Dagger",description:"A deadly dagger coated with scorpion venom that melts through defenses.",type:"equipment",rarity:"rare",stats:{damage:s(150),regen:s(3)},productionModifiers:{queenChamber:s(4),colony:s(3)},level:s(1),xp:s(0),maxXp:s(25)},evolution_crystal:{id:"evolution_crystal",name:"Evolution Crystal",description:"A mysterious crystal that resonates with evolutionary energy, enhancing EP gains.",type:"equipment",rarity:"rare",stats:{damage:s(50),health:s(100),regen:s(2)},productionModifiers:{queenChamber:s(3),colony:s(2)},specialModifiers:{epBoost:s(1.3)},level:s(1),xp:s(0),maxXp:s(25)},hive_amplifier:{id:"hive_amplifier",name:"Hive Amplifier",description:"A powerful artifact that amplifies the productivity of the entire colony.",type:"equipment",rarity:"rare",stats:{damage:s(75),health:s(150),defense:s(30)},productionModifiers:{global:s(1.5)},level:s(1),xp:s(0),maxXp:s(25)},void_reaver:{id:"void_reaver",name:"Void Reaver",description:"A mythical blade that tears through the fabric of reality.",type:"equipment",rarity:"epic",stats:{damage:s(500),defense:s(100),regen:s(10)},productionModifiers:{colony:s(5),megacolony:s(3)},level:s(1),xp:s(0),maxXp:s(40)},chronos_shell:{id:"chronos_shell",name:"Chronos Shell",description:"Armor that manipulates time itself, allowing the wearer to exist slightly out of phase with reality.",type:"equipment",rarity:"epic",stats:{health:s(1e3),defense:s(200),regen:s(20)},productionModifiers:{colony:s(6),megacolony:s(4)},level:s(1),xp:s(0),maxXp:s(40)},entropy_fangs:{id:"entropy_fangs",name:"Entropy Fangs",description:"Mandibles that accelerate entropy in whatever they touch.",type:"equipment",rarity:"epic",stats:{damage:s(750),defense:s(150),regen:s(15)},productionModifiers:{colony:s(7),megacolony:s(5)},level:s(1),xp:s(0),maxXp:s(40)},ascension_matrix:{id:"ascension_matrix",name:"Ascension Matrix",description:"A mythical matrix of pure evolutionary potential.",type:"equipment",rarity:"epic",stats:{damage:s(300),health:s(500),defense:s(100),regen:s(10)},productionModifiers:{colony:s(4),megacolony:s(3)},specialModifiers:{epBoost:s(2)},level:s(1),xp:s(0),maxXp:s(40)},omnipotent_catalyst:{id:"omnipotent_catalyst",name:"Omnipotent Catalyst",description:"A mythical catalyst that exponentially increases productivity.",type:"equipment",rarity:"epic",stats:{damage:s(400),health:s(600),defense:s(120),regen:s(12)},productionModifiers:{global:s(2)},level:s(1),xp:s(0),maxXp:s(40)},infinity_shard:{id:"infinity_shard",name:"Infinity Shard",description:"A fragment of the universe's beginning.",type:"equipment",rarity:"legendary",stats:{damage:s(5e3),defense:s(1e3),regen:s(50),health:s(5e3)},productionModifiers:{megacolony:s(10),hivemind:s(5)},level:s(1),xp:s(0),maxXp:s(60)},eternity_weave:{id:"eternity_weave",name:"Eternity Weave",description:"Armor woven from the threads of eternity itself.",type:"equipment",rarity:"legendary",stats:{health:s(1e4),defense:s(2e3),regen:s(100),damage:s(2e3)},productionModifiers:{megacolony:s(12),hivemind:s(6)},level:s(1),xp:s(0),maxXp:s(60)},genesis_claw:{id:"genesis_claw",name:"Genesis Claw",description:"A weapon that contains the power of creation itself.",type:"equipment",rarity:"legendary",stats:{damage:s(7500),defense:s(1500),regen:s(75),health:s(3e3)},productionModifiers:{megacolony:s(15),hivemind:s(8)},level:s(1),xp:s(0),maxXp:s(60)},transcendence_core:{id:"transcendence_core",name:"Transcendence Core",description:"A divine core of pure evolutionary essence.",type:"equipment",rarity:"legendary",stats:{damage:s(3e3),health:s(5e3),defense:s(500),regen:s(50)},productionModifiers:{megacolony:s(8),hivemind:s(4)},specialModifiers:{epBoost:s(3)},level:s(1),xp:s(0),maxXp:s(60)},universal_amplifier:{id:"universal_amplifier",name:"Universal Amplifier",description:"A divine artifact that amplifies productivity to godlike levels.",type:"equipment",rarity:"legendary",stats:{damage:s(4e3),health:s(6e3),defense:s(600),regen:s(60)},productionModifiers:{global:s(3)},level:s(1),xp:s(0),maxXp:s(60)},quantum_mandibles:{id:"quantum_mandibles",name:"Quantum Mandibles",description:"Mandibles that exist in multiple dimensions at once.",type:"equipment",rarity:"mythic",stats:{damage:s(1e4),defense:s(2e3),regen:s(150),health:s(5e3)},productionModifiers:{hivemind:s(20),antopolis:s(10)},level:s(1),xp:s(0),maxXp:s(100)},mythic_ascension_matrix:{id:"mythic_ascension_matrix",name:"Ascension Matrix",description:"A mythical matrix of pure evolutionary potential.",type:"equipment",rarity:"mythic",stats:{damage:s(5e3),health:s(7500),defense:s(1e3),regen:s(100)},productionModifiers:{hivemind:s(15),antopolis:s(8)},specialModifiers:{epBoost:s(5)},level:s(1),xp:s(0),maxXp:s(100)},mythic_catalyst:{id:"mythic_catalyst",name:"Omnipotent Catalyst",description:"A mythical catalyst that exponentially increases productivity.",type:"equipment",rarity:"mythic",stats:{damage:s(6e3),health:s(9e3),defense:s(1200),regen:s(120)},productionModifiers:{global:s(5)},level:s(1),xp:s(0),maxXp:s(100)},divine_infinity_shard:{id:"divine_infinity_shard",name:"Infinity Shard",description:"A fragment of the universe's beginning.",type:"equipment",rarity:"divine",stats:{damage:s(5e4),defense:s(5e3),regen:s(500),health:s(5e4)},productionModifiers:{hivemind:s(50),antopolis:s(30)},level:s(1),xp:s(0),maxXp:s(200)},divine_eternity_weave:{id:"divine_eternity_weave",name:"Eternity Weave",description:"Armor woven from the threads of eternity itself.",type:"equipment",rarity:"divine",stats:{health:s(1e5),defense:s(1e4),regen:s(1e3),damage:s(1e4)},productionModifiers:{hivemind:s(60),antopolis:s(40)},level:s(1),xp:s(0),maxXp:s(200)},divine_genesis_claw:{id:"divine_genesis_claw",name:"Genesis Claw",description:"A weapon that contains the power of creation itself.",type:"equipment",rarity:"divine",stats:{damage:s(75e3),defense:s(7500),regen:s(750),health:s(25e3)},productionModifiers:{hivemind:s(80),antopolis:s(50)},level:s(1),xp:s(0),maxXp:s(200)},divine_transcendence_core:{id:"divine_transcendence_core",name:"Transcendence Core",description:"A divine core of pure evolutionary essence.",type:"equipment",rarity:"divine",stats:{damage:s(3e4),health:s(5e4),defense:s(5e3),regen:s(500)},productionModifiers:{hivemind:s(40),antopolis:s(25)},specialModifiers:{epBoost:s(10)},level:s(1),xp:s(0),maxXp:s(200)},divine_universal_amplifier:{id:"divine_universal_amplifier",name:"Universal Amplifier",description:"A divine artifact that amplifies productivity to godlike levels.",type:"equipment",rarity:"divine",stats:{damage:s(4e4),health:s(6e4),defense:s(6e3),regen:s(600)},productionModifiers:{global:s(10)},level:s(1),xp:s(0),maxXp:s(200)},divine_ant_queen_crown:{id:"divine_ant_queen_crown",name:"Ant Queen Crown",description:"A crown forged from the essence of ant queens, granting supreme authority.",type:"equipment",rarity:"divine",stats:{damage:s(45e3),health:s(55e3),defense:s(5500),regen:s(550)},productionModifiers:{hivemind:s(45),antopolis:s(35)},specialModifiers:{epBoost:s(8)},level:s(1),xp:s(0),maxXp:s(200)},mythic_swarm_controller:{id:"mythic_swarm_controller",name:"Swarm Controller",description:"A mystical device that allows control over vast swarms of insects.",type:"equipment",rarity:"mythic",stats:{damage:s(5500),health:s(8500),defense:s(1100),regen:s(110)},productionModifiers:{hivemind:s(18),antopolis:s(10)},specialModifiers:{epBoost:s(4)},level:s(1),xp:s(0),maxXp:s(100)},epic_ant_commander_armor:{id:"epic_ant_commander_armor",name:"Ant Commander Armor",description:"Armor that marks you as a supreme commander of ant armies.",type:"equipment",rarity:"epic",stats:{damage:s(600),health:s(800),defense:s(150),regen:s(15)},productionModifiers:{colony:s(8),megacolony:s(5)},specialModifiers:{epBoost:s(1.5)},level:s(1),xp:s(0),maxXp:s(15)},rare_ant_tactician_helm:{id:"rare_ant_tactician_helm",name:"Ant Tactician Helm",description:"A helm that enhances tactical thinking and ant coordination.",type:"equipment",rarity:"rare",stats:{damage:s(150),health:s(200),defense:s(40),regen:s(4)},productionModifiers:{queenChamber:s(4),colony:s(2.5)},specialModifiers:{epBoost:s(1.2)},level:s(1),xp:s(0),maxXp:s(15)},uncommon_ant_scout_gear:{id:"uncommon_ant_scout_gear",name:"Ant Scout Gear",description:"Lightweight gear perfect for ant scouts.",type:"equipment",rarity:"uncommon",stats:{damage:s(30),health:s(40),defense:s(8),regen:s(1)},productionModifiers:{nursery:s(3),queenChamber:s(2)},specialModifiers:{epBoost:s(1.1)},level:s(1),xp:s(0),maxXp:s(15)},common_ant_training_kit:{id:"common_ant_training_kit",name:"Ant Training Kit",description:"Basic training equipment for young ants.",type:"equipment",rarity:"common",stats:{damage:s(8),health:s(12),defense:s(3)},productionModifiers:{worker:s(2.5),nursery:s(1.8)},specialModifiers:{epBoost:s(1.05)},level:s(1),xp:s(0),maxXp:s(10)}},Rn=.2,Pi=.1,Dn=.1,Ti=.05,jf=1.1,dt=ft("item",()=>{const e=B(Hc),t=q=>e.value[q],o=(q,k=he.fromNumber(1),W=he.fromNumber(0))=>{const le=t(q);if(!le)return;const X=n(k,le.rarity);return{...le,level:k,xp:W,maxXp:X}},n=(q,k)=>{const X={common:.8,uncommon:.9,rare:1,epic:1.1,legendary:1.2,mythic:1.3,divine:1.5}[k]||1;if(q.equals(1))return he.fromNumber(0);const j=q.toNumber();let T=Math.floor(1/4*Math.floor(j+300*Math.pow(2,j/7)));return T=Math.floor(T*.85*X),he.fromNumber(T)},a=q=>{if(q.toNumber()<=10)return he.fromNumber(1).add(q.minus(1).mul(Rn));{const W=he.fromNumber(9).mul(Rn),le=q.minus(10).mul(Pi);return he.fromNumber(1).add(W).add(le)}},l=q=>{if(q.toNumber()<=10)return he.fromNumber(1).add(q.minus(1).mul(Dn));{const W=he.fromNumber(9).mul(Dn),le=q.minus(10).mul(Ti);return he.fromNumber(1).add(W).add(le)}},i={common:"text-gray-600 dark:text-gray-400",uncommon:"text-green-600 dark:text-green-300",rare:"text-blue-600 dark:text-blue-300",epic:"text-purple-600 dark:text-purple-300",legendary:"text-amber-600 dark:text-amber-300",mythic:"text-pink-600 dark:text-pink-300",divine:"text-yellow-600 dark:text-yellow-300"},u={common:"bg-gray-200 dark:bg-gray-700",uncommon:"bg-green-200 dark:bg-green-800",rare:"bg-blue-200 dark:bg-blue-800",epic:"bg-purple-300 dark:bg-purple-800",legendary:"bg-amber-300 dark:bg-amber-700",mythic:"bg-pink-300 dark:bg-pink-800",divine:"bg-yellow-300 dark:bg-yellow-700"},c=q=>i[q]||i.common,d=q=>u[q]||u.common,m=q=>`${q.name} (Lvl ${q.level.toString()})`,b=q=>{const k=t(q.id);if(!k||!k.stats)return null;const W=a(q.level),le={};return Object.entries(k.stats).forEach(([X,j])=>{j&&(le[X]=j.mul(W))}),le},x=q=>{const k=t(q.id);if(!k||!k.productionModifiers)return null;const W=l(q.level),le={};return Object.entries(k.productionModifiers).forEach(([X,j])=>{const K=j.minus(1).mul(W);le[X]=he.fromNumber(1).plus(K)}),le},h=q=>{const k=t(q.id);if(!k||!k.specialModifiers)return null;const W=l(q.level),le={};return Object.entries(k.specialModifiers).forEach(([X,j])=>{if(j){const K=j.minus(1).mul(W);le[X]=he.fromNumber(1).plus(K)}}),le},C=q=>{const k=t(q.id);return(k==null?void 0:k.productionModifiers)||null},w=q=>{const k=t(q.id);return(k==null?void 0:k.specialModifiers)||null},M=q=>{const k=t(q.id);return(k==null?void 0:k.stats)||null},S=q=>q.minus(1).mul(100).toFixed(1)+"%",_=(q,k,W=!1)=>{const le=q.div(k).mul(100).toFixed(1);return W?`${le}% (${q.floor().toString()} / ${k.floor().toString()})`:`${le}%`},y=q=>q.maxXp.equals(0)?100:q.xp.div(q.maxXp).mul(100).toNumber(),P=(q,k)=>{if(q.equals(1))return he.fromNumber(0);let W=he.fromNumber(0);for(let le=2;le<=q.toNumber();le++)W=W.add(n(he.fromNumber(le-1),k));return W},I=(q,k)=>{if(q.equals(1))return he.fromNumber(0);const W=.85,X={common:.8,uncommon:.9,rare:1,epic:1.1,legendary:1.2,mythic:1.3,divine:1.5}[k]||1,j=q.toNumber(),T=Math.pow(2,1/7),K=T/(T-1),fe=1/8*(Math.pow(j,2)-j+600*Math.pow(2,j/7)-K);return he.fromNumber(Math.floor(fe*W*X))};return{items:e,getItem:t,createItem:o,calculateMaxXp:n,calculateTotalXpForLevel:P,calculateApproximateTotalXp:I,getLevelFromXp:(q,k,W=100)=>{if(q.equals(0))return 1;let le=1,X=W;for(;le<=X;){const j=Math.floor((le+X)/2),T=I(he.fromNumber(j),k),K=I(he.fromNumber(j+1),k);if(q.gte(T)&&q.lt(K))return j;q.lt(T)?X=j-1:le=j+1}return Math.min(le,W)},getLevelModifier:a,getLevelProductionModifier:l,getRarityColor:c,getRarityBackground:d,getFormattedItemName:m,getItemStats:b,getItemProductionModifiers:x,getItemSpecialModifiers:h,getBaseStats:M,getBaseProductionModifiers:C,getBaseSpecialModifiers:w,formatModifierValue:S,formatXpProgress:_,getLevelProgress:y,LEVEL_STAT_MULTIPLIER_EARLY:Rn,LEVEL_STAT_MULTIPLIER:Pi,LEVEL_MODIFIER_MULTIPLIER_EARLY:Dn,LEVEL_MODIFIER_MULTIPLIER:Ti,XP_SCALING_FACTOR:jf}}),Hf=[{id:"safe",name:"Training Bug",description:"A weak bug used for training. Perfect for beginners.",health:s(100),maxHealth:s(100),damage:s(0),defense:s(0),drops:[{itemId:"training_sword",chance:.15,minQuantity:1,maxQuantity:1},{itemId:"training_armor",chance:.15,minQuantity:1,maxQuantity:1},{itemId:"wooden_shield",chance:.1,minQuantity:1,maxQuantity:1},{itemId:"leaf_cloak",chance:.1,minQuantity:1,maxQuantity:1},{itemId:"pebble_hammer",chance:1e-5,minQuantity:1,maxQuantity:1}]},{id:"worker",name:"Worker Ant",description:"A common worker ant. Slightly tougher than training bugs.",health:s(500),maxHealth:s(500),damage:s(25),defense:s(10),drops:[{itemId:"worker_sword",chance:.08,minQuantity:1,maxQuantity:1},{itemId:"worker_armor",chance:.08,minQuantity:1,maxQuantity:1},{itemId:"foraging_tools",chance:.1,minQuantity:1,maxQuantity:1},{itemId:"pebble_hammer",chance:.05,minQuantity:1,maxQuantity:1},{itemId:"reinforced_mandibles",chance:.03,minQuantity:1,maxQuantity:1}]},{id:"soldier",name:"Soldier Ant",description:"A powerful soldier ant. Much tougher than worker ants.",health:s(2500),maxHealth:s(2500),damage:s(100),defense:s(50),drops:[{itemId:"reinforced_mandibles",chance:.06,minQuantity:1,maxQuantity:1},{itemId:"resin_helmet",chance:.06,minQuantity:1,maxQuantity:1},{itemId:"thorn_spear",chance:.04,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.04,minQuantity:1,maxQuantity:1}]},{id:"ladybug",name:"Ladybug",health:s(1e4),maxHealth:s(1e4),damage:s(500),defense:s(200),description:"Looks cute but can be surprisingly tough!",drops:[{itemId:"mandible_crusher",chance:.01,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.03,minQuantity:1,maxQuantity:1},{itemId:"venom_dagger",chance:.015,minQuantity:1,maxQuantity:1}]},{id:"housefly",name:"Housefly",health:s(1e5),maxHealth:s(1e5),damage:s(2500),defense:s(1e3),description:"Annoying and surprisingly durable.",drops:[{itemId:"exoskeleton_plate",chance:.008,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.02,minQuantity:1,maxQuantity:1}]},{id:"mosquito",name:"Mosquito",health:s(1e6),maxHealth:s(1e6),damage:s(1e4),defense:s(5e3),description:"Small but extremely irritating.",drops:[{itemId:"venom_dagger",chance:.006,minQuantity:1,maxQuantity:1},{itemId:"hive_amplifier",chance:.025,minQuantity:1,maxQuantity:1}]},{id:"beetle",name:"Beetle",health:s(1e8),maxHealth:s(1e8),damage:s(1e5),defense:s(2e4),description:"Hard shell, strong bite.",drops:[{itemId:"exoskeleton_plate",chance:.015,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.04,minQuantity:1,maxQuantity:1}]},{id:"grasshopper",name:"Grasshopper",health:s(1e10),maxHealth:s(1e10),damage:s(1e7),defense:s(1e5),description:"Jumps around and avoids attacks!",drops:[{itemId:"mandible_crusher",chance:.012,minQuantity:1,maxQuantity:1},{itemId:"thorn_spear",chance:.03,minQuantity:1,maxQuantity:1}]},{id:"cockroach",name:"Cockroach",health:s(1e13),maxHealth:s(1e13),damage:s(1e10),defense:s(1e6),description:"Survivor of everything. Just won't die.",drops:[{itemId:"venom_dagger",chance:.012,minQuantity:1,maxQuantity:1},{itemId:"chronos_shell",chance:2e-4,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.02,minQuantity:1,maxQuantity:1}]},{id:"fire_ant",name:"Fire Ant",health:s(1e16),maxHealth:s(1e16),damage:s(1e13),defense:s(1e8),description:"Burns everything in its path.",drops:[{itemId:"void_reaver",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"entropy_fangs",chance:4e-4,minQuantity:1,maxQuantity:1},{itemId:"venom_dagger",chance:.03,minQuantity:1,maxQuantity:1}]},{id:"termite",name:"Termite",health:s(1e20),maxHealth:s(1e20),damage:s(1e16),defense:s(1e10),description:"Destroys everything it touches.",drops:[{itemId:"mandible_crusher",chance:.02,minQuantity:1,maxQuantity:1},{itemId:"reinforced_mandibles",chance:.05,minQuantity:1,maxQuantity:1}]},{id:"wasp",name:"Wasp",health:s(1e25),maxHealth:s(1e25),damage:s(1e20),defense:s(1e12),description:"Faster and angrier than a hornet!",drops:[{itemId:"void_reaver",chance:.004,minQuantity:1,maxQuantity:1},{itemId:"entropy_fangs",chance:6e-4,minQuantity:1,maxQuantity:1},{itemId:"venom_dagger",chance:.04,minQuantity:1,maxQuantity:1}]},{id:"scorpion",name:"Scorpion",health:s(1e30),maxHealth:s(1e30),damage:s(1e25),defense:s(1e15),description:"Big pincers, bigger stinger.",drops:[{itemId:"venom_dagger",chance:.03,minQuantity:1,maxQuantity:1},{itemId:"void_reaver",chance:8e-4,minQuantity:1,maxQuantity:1},{itemId:"entropy_fangs",chance:.05,minQuantity:1,maxQuantity:1}]},{id:"giant_moth",name:"Giant Moth",health:s(1e40),maxHealth:s(1e40),damage:s(1e30),defense:s(1e20),description:"Loves lights. Too bad it's also huge.",drops:[{itemId:"infinity_shard",chance:.001,minQuantity:1,maxQuantity:1},{itemId:"chronos_shell",chance:4e-4,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.04,minQuantity:1,maxQuantity:1},{itemId:"eternity_weave",chance:6e-4,minQuantity:1,maxQuantity:1}]},{id:"tarantula",name:"Tarantula",health:s(1e50),maxHealth:s(1e50),damage:s(1e40),defense:s(1e25),description:"Fluffy but terrifying.",drops:[{itemId:"exoskeleton_plate",chance:.025,minQuantity:1,maxQuantity:1},{itemId:"entropy_fangs",chance:.001,minQuantity:1,maxQuantity:1},{itemId:"venom_dagger",chance:.06,minQuantity:1,maxQuantity:1}]},{id:"giant_stag_beetle",name:"Giant Stag Beetle",health:s(1e65),maxHealth:s(1e65),damage:s(1e50),defense:s(1e30),description:"Massive pincers that can crush anything.",drops:[{itemId:"mandible_crusher",chance:.04,minQuantity:1,maxQuantity:1},{itemId:"entropy_fangs",chance:.0015,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.07,minQuantity:1,maxQuantity:1}]},{id:"army_ant",name:"Army Ant",health:s(1e80),maxHealth:s(1e80),damage:s(1e65),defense:s(1e40),description:"A relentless horde of ants.",drops:[{itemId:"void_reaver",chance:.006,minQuantity:1,maxQuantity:1},{itemId:"infinity_shard",chance:1e-4,minQuantity:1,maxQuantity:1},{itemId:"reinforced_mandibles",chance:.08,minQuantity:1,maxQuantity:3}]},{id:"stag_beetle_swarm",name:"Stag Beetle Swarm",health:s(1e100),maxHealth:s(1e100),damage:s(1e80),defense:s(1e50),description:"Too many beetles to count.",drops:[{itemId:"quantum_mandibles",chance:.0015,minQuantity:1,maxQuantity:1},{itemId:"divine_eternity_weave",chance:15e-5,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.1,minQuantity:1,maxQuantity:5}]},{id:"mutant_fly",name:"Mutant Fly",health:s(1e125),maxHealth:s(1e125),damage:s(1e100),defense:s(1e65),description:"Somehow even more annoying than a normal fly.",drops:[{itemId:"divine_infinity_shard",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"void_reaver",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.06,minQuantity:1,maxQuantity:2}]},{id:"giant_firefly",name:"Giant Firefly",health:s(1e150),maxHealth:s(1e150),damage:s(1e120),defense:s(1e80),description:"Brighter than the sun, dangerous too.",drops:[{itemId:"divine_infinity_shard",chance:.003,minQuantity:1,maxQuantity:1},{itemId:"chronos_shell",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.07,minQuantity:1,maxQuantity:2}]},{id:"ultra_beetle",name:"Ultra Beetle",health:s(1e200),maxHealth:s(1e200),damage:s(1e160),defense:s(1e100),description:"Bigger. Stronger. Shinier.",drops:[{itemId:"quantum_mandibles",chance:.0025,minQuantity:1,maxQuantity:1},{itemId:"entropy_fangs",chance:.003,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.12,minQuantity:2,maxQuantity:5},{itemId:"genesis_claw",chance:.0015,minQuantity:1,maxQuantity:1},{itemId:"universal_amplifier",chance:.001,minQuantity:1,maxQuantity:1}]},{id:"queen_wasp",name:"Queen Wasp",health:s("1e300"),maxHealth:s("1e300"),damage:s("1e250"),defense:s("1e150"),description:"Controls an entire hive of wasps.",drops:[{itemId:"divine_genesis_claw",chance:.01,minQuantity:1,maxQuantity:1},{itemId:"infinity_shard",chance:4e-4,minQuantity:1,maxQuantity:1},{itemId:"venom_dagger",chance:.1,minQuantity:1,maxQuantity:3}]},{id:"colossal_cockroach",name:"Colossal Cockroach",health:s("1e500"),maxHealth:s("1e500"),damage:s("1e400"),defense:s("1e200"),description:"Even harder to kill than before.",drops:[{itemId:"exoskeleton_plate",chance:.005,minQuantity:1,maxQuantity:1},{itemId:"divine_eternity_weave",chance:6e-4,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.08,minQuantity:1,maxQuantity:3},{itemId:"transcendence_core",chance:4e-4,minQuantity:1,maxQuantity:1},{itemId:"mythic_catalyst",chance:2e-4,minQuantity:1,maxQuantity:1}]},{id:"apocalyptic_termites",name:"Apocalyptic Termites",health:s("1e750"),maxHealth:s("1e750"),damage:s("1e600"),defense:s("1e300"),description:"Capable of reducing everything to dust.",drops:[{itemId:"quantum_mandibles",chance:.004,minQuantity:1,maxQuantity:1},{itemId:"divine_genesis_claw",chance:2e-4,minQuantity:1,maxQuantity:1},{itemId:"reinforced_mandibles",chance:.12,minQuantity:2,maxQuantity:5}]},{id:"radioactive_spider",name:"Radioactive Spider",health:s("1e1000"),maxHealth:s("1e1000"),damage:s("1e800"),defense:s("1e400"),description:"Not the kind that gives you superpowers.",drops:[{itemId:"venom_dagger",chance:.006,minQuantity:1,maxQuantity:1},{itemId:"divine_infinity_shard",chance:8e-4,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.1,minQuantity:2,maxQuantity:4}]},{id:"endless_ant_swarms",name:"Endless Ant Swarm",health:s("1e2000"),maxHealth:s("1e2000"),damage:s("1e1500"),defense:s("1e750"),description:"A never-ending army of ants.",drops:[{itemId:"divine_genesis_claw",chance:.008,minQuantity:1,maxQuantity:1},{itemId:"divine_eternity_weave",chance:.001,minQuantity:1,maxQuantity:1},{itemId:"reinforced_mandibles",chance:.14,minQuantity:3,maxQuantity:8}]},{id:"galactic_moth",name:"Galactic Moth",health:s("1e5000"),maxHealth:s("1e5000"),damage:s("1e4000"),defense:s("1e2000"),description:"It seeks the biggest, brightest lights in the universe.",drops:[{itemId:"divine_infinity_shard",chance:.006,minQuantity:1,maxQuantity:1},{itemId:"divine_genesis_claw",chance:4e-4,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.12,minQuantity:2,maxQuantity:5}]},{id:"quantum_beetle",name:"Quantum Beetle",health:s("1e10000"),maxHealth:s("1e10000"),damage:s("1e8000"),defense:s("1e4000"),description:"Exists in multiple places at once.",drops:[{itemId:"quantum_mandibles",chance:.01,minQuantity:1,maxQuantity:1},{itemId:"divine_genesis_claw",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"divine_infinity_shard",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"divine_eternity_weave",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"divine_transcendence_core",chance:.0015,minQuantity:1,maxQuantity:1},{itemId:"divine_universal_amplifier",chance:.0015,minQuantity:1,maxQuantity:1},{itemId:"mythic_ascension_matrix",chance:.001,minQuantity:1,maxQuantity:1},{itemId:"ascension_matrix",chance:.003,minQuantity:1,maxQuantity:1},{itemId:"omnipotent_catalyst",chance:.0025,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.2,minQuantity:5,maxQuantity:10},{itemId:"evolution_crystal",chance:.2,minQuantity:3,maxQuantity:8}]},{id:"ant_queen_guardian",name:"Ant Queen Guardian",health:s("1e15000"),maxHealth:s("1e15000"),damage:s("1e12000"),defense:s("1e6000"),description:"The ultimate protector of ant queens.",drops:[{itemId:"divine_ant_queen_crown",chance:.005,minQuantity:1,maxQuantity:1},{itemId:"mythic_swarm_controller",chance:.01,minQuantity:1,maxQuantity:1},{itemId:"divine_infinity_shard",chance:.003,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.15,minQuantity:3,maxQuantity:6}]},{id:"swarm_lord",name:"Swarm Lord",health:s("1e20000"),maxHealth:s("1e20000"),damage:s("1e16000"),defense:s("1e8000"),description:"Commands vast swarms of insects with deadly precision.",drops:[{itemId:"mythic_swarm_controller",chance:.008,minQuantity:1,maxQuantity:1},{itemId:"epic_ant_commander_armor",chance:.015,minQuantity:1,maxQuantity:1},{itemId:"divine_eternity_weave",chance:.004,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.18,minQuantity:4,maxQuantity:8}]},{id:"ant_legion_commander",name:"Ant Legion Commander",health:s("1e25000"),maxHealth:s("1e25000"),damage:s("1e20000"),defense:s("1e10000"),description:"Leads massive ant legions into battle.",drops:[{itemId:"epic_ant_commander_armor",chance:.01,minQuantity:1,maxQuantity:1},{itemId:"rare_ant_tactician_helm",chance:.02,minQuantity:1,maxQuantity:1},{itemId:"divine_genesis_claw",chance:.005,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.2,minQuantity:5,maxQuantity:10}]},{id:"ant_tactician",name:"Ant Tactician",health:s("1e30000"),maxHealth:s("1e30000"),damage:s("1e24000"),defense:s("1e12000"),description:"Masters the art of ant warfare and strategy.",drops:[{itemId:"rare_ant_tactician_helm",chance:.015,minQuantity:1,maxQuantity:1},{itemId:"uncommon_ant_scout_gear",chance:.03,minQuantity:1,maxQuantity:1},{itemId:"divine_transcendence_core",chance:.006,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.22,minQuantity:6,maxQuantity:12}]},{id:"ant_scout_master",name:"Ant Scout Master",health:s("1e35000"),maxHealth:s("1e35000"),damage:s("1e28000"),defense:s("1e14000"),description:"The ultimate scout, gathering intelligence with unmatched speed.",drops:[{itemId:"uncommon_ant_scout_gear",chance:.02,minQuantity:1,maxQuantity:1},{itemId:"common_ant_training_kit",chance:.04,minQuantity:1,maxQuantity:1},{itemId:"divine_universal_amplifier",chance:.007,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.25,minQuantity:7,maxQuantity:14}]},{id:"ant_training_master",name:"Ant Training Master",health:s("1e40000"),maxHealth:s("1e40000"),damage:s("1e32000"),defense:s("1e16000"),description:"Transforms young ants into elite warriors.",drops:[{itemId:"common_ant_training_kit",chance:.025,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.28,minQuantity:8,maxQuantity:16},{itemId:"mythic_ascension_matrix",chance:.008,minQuantity:1,maxQuantity:1},{itemId:"divine_ant_queen_crown",chance:.003,minQuantity:1,maxQuantity:1}]}],Fa=ft("filter",()=>{const e=B(new Set);return{filteredItems:e,toggleItemFilter:i=>{e.value.has(i)?e.value.delete(i):e.value.add(i)},isItemFiltered:i=>e.value.has(i),getAllAvailableItems:()=>Object.values(Hc),getState:()=>({filteredItems:Array.from(e.value)}),loadState:i=>{i.filteredItems&&(e.value=new Set(i.filteredItems))}}}),Gf=!1;console.log("[Idle Ant Farm] Debug logging disabled (env: undefined, version: undefined)");const Re=(e,...t)=>{},Gc=(e,...t)=>{console.warn(`[Idle Ant Farm][WARN] ${e}`,...t)},Qt=(e,...t)=>{console.error(`[Idle Ant Farm][ERROR] ${e}`,...t)},Ua=()=>Gf,Bt=ft("adventure",()=>{const e=st(),t=ir(),o=Pt(),n=St(),a=Ve(),l=Fa(),i=Vt(),u=dt(),c=ht(),d=L(()=>a.getUpgradeCount("unlockAdventure").gt(0)),m=L(()=>a.getUpgradeCount("unlockAutoQuestAdvance").gt(0)),b=L(()=>{const V=a.getUpgradeCount("doubleKill");return he.fromNumber(.01).mul(V)}),x=L(()=>{const V=a.getUpgradeCount("doubleKillEffect");return he.fromNumber(2).mul(V)}),h=L(()=>{const V=e.generators[0].count.mul(he.fromNumber(10)),be=e.generators[0].count,R=o.totalStats.damage.mul(be);return V.plus(R)}),C=L(()=>{const V=e.generators[0].count.mul(he.fromNumber(100)),be=e.generators[0].count,R=o.totalStats.health.mul(be);return V.plus(R)}),w=L(()=>{const V=e.generators[0].count,be=e.generators[0].count,R=o.totalStats.regen.mul(be);return V.plus(R)}),M=L(()=>{const V=e.generators[0].count.mul(he.fromNumber(10)),be=e.generators[0].count,R=o.totalStats.defense.mul(be);return V.plus(R)}),S=B(C.value),_=B(!0),y=B(!0),P=B("safe"),I=B([]),U=30,q=B(!1),k=B(!1),W=B(!1),le=B("combat"),X=B(!1),j=B(!1),T=B(!1),K=B("comfortable"),fe=(V,be)=>{const R=V.minus(be);return V.gt(0)&&R.lte(0)?new he(1):he.max(R,new he(0))},we=(V,be="info")=>{const R={timestamp:Date.now(),message:V,type:be};I.value.push(R),I.value.length>U&&(I.value=I.value.slice(-30))},Se=()=>{we("You died! Returning to safe training...","info"),S.value=C.value,P.value="safe",ie("safe"),q.value=!0},pe=()=>{t.selectedBug&&(t.selectedBug.health=t.selectedBug.maxHealth,we(`A new ${t.selectedBug.name} appears with ${ge(t.selectedBug.maxHealth)} health!`,"info"))},ce=V=>{const be=t.getBugById(V);return be?fe(h.value,be.defense).gte(be.maxHealth):!1},ke=V=>{const be=t.bugs.findIndex(R=>R.id===V);return be===-1||be===t.bugs.length-1?null:t.bugs[be+1].id},ue=V=>{const be=t.bugs.findIndex(z=>z.id===V.id),R=he.fromNumber(.1).add(he.fromNumber(.02).mul(be)),H=he.min(R,he.fromNumber(2)),ye=e.foodPerSecond.mul(H);return{reward:he.max(ye,he.fromNumber(10)),percentage:H}},Z=V=>{const be=t.bugs.findIndex(H=>H.id===V.id),R=he.fromNumber(5).mul(he.pow(1.15,be));return be>50?R.mul(he.fromNumber(50+(be-50)*.3)):R.floor()},de=V=>{const be=w.value.mul(V);S.value=he.min(C.value,S.value.add(be))},oe=V=>{var H;if(!t.selectedBug)return!1;if(q.value)return pe(),q.value=!1,!1;if(t.isBugDead)return!1;const be=fe(h.value,t.selectedBug.defense);if(t.attackBug(be),V&&we(`You deal ${ge(be)} damage to ${t.selectedBug.name} (${ge(t.selectedBug.health)}/${ge(t.selectedBug.maxHealth)} HP)`,"combat"),t.isBugDead){const ve=c.activeQuest!==null,ye=((H=c.activeQuest)==null?void 0:H.title)||"";return ae(t.selectedBug,V),ve&&c.activeQuest===null&&we(`Quest completed: ${ye}!`,"reward"),!1}const R=fe(t.selectedBug.damage,M.value);return N(R),V&&we(`${t.selectedBug.name} deals ${ge(R)} damage to you (${ge(S.value)}/${ge(C.value)} HP)`,"combat"),me.value},te=V=>{const be=t.getRandomDrops();if(be.length===0)return;const R=be.filter(ve=>!l.isItemFiltered(ve.itemId)),H=be.filter(ve=>l.isItemFiltered(ve.itemId));if(R.length>0&&R.forEach(ve=>{o.addItem(ve.itemId,he.fromNumber(ve.quantity)),V&&we(`You found ${ve.quantity}x ${ve.itemId}!`,"reward")}),H.length>0&&o.isAutoSalvageUnlocked&&o.isAutoSalvageEnabled){let ve=s(0);if(H.forEach(ye=>{const D=u.getItem(ye.itemId);if(!D)return;const z={...D,level:he.fromNumber(ye.quantity)||he.fromNumber(1)},J=n.calculateSalvageValue(z);ve=ve.add(J)}),ve.gt(0)){const ye=i.getPheromoneGainMultiplier(),D=n.addPheromoneEssence(ve);if(V)if(ye.gt(1)){const z=ge(ve),J=ge(D.sub(ve));we(`Auto-salvaged filtered items for ${z} + ${J} bonus Pheromone Essence!`,"reward")}else we(`Auto-salvaged filtered items for ${ge(D)} Pheromone Essence!`,"reward")}}else be.length!==R.length&&V&&we("Some items were filtered out based on your settings.","info")},ae=(V,be)=>{var se;const{reward:R,percentage:H}=ue(V);if(e.food=e.food.add(R),be){const xe=ge(H.mul(100),0);we(`You defeated ${V.name} and gained ${ge(R)} food (${xe}% of your food/sec)!`,"reward")}const ve=Z(V),ye=i.getPheromoneGainMultiplier(),D=n.addPheromoneEssence(ve);if(be)if(ye.gt(1)){const xe=ge(ve),Ae=ge(D.sub(ve));we(`You collected ${xe} + ${Ae} bonus Pheromone Essence (${ge(ye)}x multiplier)!`,"reward")}else we(`You collected ${ge(D)} Pheromone Essence!`,"reward");te(be);let z=1;if(Math.random()<b.value.toNumber()){be&&we(`DOUBLE KILL! (${ge(x.value)}x multiplier)`,"reward");const xe=R.mul(x.value);e.food=e.food.add(xe);const Ae=ve.mul(x.value),Me=n.addPheromoneEssence(Ae);be&&we(`Double kill bonus: +${ge(xe)} food and +${ge(Me)} Pheromone Essence!`,"reward"),te(be),z=2*x.value.toNumber()}try{if(c.activeQuest){const xe=c.activeQuest.goals.filter(Ae=>Ae.type===mt.KILL_BUGS);if(xe.length>0)for(const Ae of xe){const Me=!Ae.target,Le=Ae.target&&V.id===Ae.target,Ue=["bug_slayer_initiate","extreme_bug_hunter"].includes(c.activeQuest.id)||c.activeQuest.id.includes("exterminator_");if(Me||Le||Ue){let Oe=Ae.currentAmount instanceof he?Ae.currentAmount:s(Ae.currentAmount||0);if(Oe=Oe.add(z),Ae.currentAmount=Oe,be){const Je=Ae.requiredAmount instanceof he?Ae.requiredAmount:s(Ae.requiredAmount||0);we(Me||Ue?`Quest progress: ${ge(Oe)}/${ge(Je)} total kills`:`Quest progress: ${ge(Oe)}/${ge(Je)} ${V.name} kills`,"info")}}}c.tick()}}catch(xe){Qt("Error updating quest progress for bug defeat:",xe)}let J=!1;if(W.value&&c.activeQuest&&m.value){const xe=ne();if(xe&&xe!==P.value){const Ae=t.getBugById(xe);Ae&&(be&&we(`Prioritizing Quest: Auto advancing to target ${Ae.name}`,"info"),O(xe),J=!0)}}if(!J&&k.value){const xe=ke(P.value);xe&&xe!==P.value&&ce(xe)&&(be&&we(`Auto advancing to next one-hit kill bug: ${(se=t.getBugById(xe))==null?void 0:se.name}`,"info"),O(xe),J=!0)}q.value=!0},F=(V=1)=>{if(!d.value)return;if(de(V),V===1){oe(!0)&&Se();return}if(!t.selectedBug)return;if(q.value){pe(),q.value=!1,oe(!1)&&Se();return}const be=fe(h.value,t.selectedBug.defense),R=t.selectedBug.health;if(be.lte(0)){oe(!1)&&Se();return}const H=R.div(be).ceil(),ve=fe(t.selectedBug.damage,M.value);if(H.lte(1)||ve.lte(0)){oe(!1);return}const ye=S.value.div(ve).floor(),D=he.min(V,ye).toNumber();if(H.gt(ye)){for(let J=0;J<D;J++)oe(!1);D>=ye.toNumber()&&Se();return}const z=he.min(H,V).toNumber();for(let J=0;J<z;J++)if(oe(!1)){Se();break}},E=()=>{const V=S.value;if(S.value=S.value.plus(w.value).clamp(0,C.value),S.value.gt(V)&&w.value.gt(0)){const be=S.value.minus(V);be.gt(0)&&we(`You regenerate ${ge(be)} health (${ge(S.value)}/${ge(C.value)} HP)`,"info")}},N=V=>{S.value=S.value.minus(V).clamp(0,C.value)},me=L(()=>S.value.lte(0)),ie=V=>{var R,H,ve;const be=t.selectedBug;if(t.selectBug(V),(be==null?void 0:be.id)!==V){we(`You start fighting ${(R=t.selectedBug)==null?void 0:R.name} (${ge(((H=t.selectedBug)==null?void 0:H.damage)||he.fromNumber(0))} damage, ${ge(((ve=t.selectedBug)==null?void 0:ve.maxHealth)||he.fromNumber(0))} health)`,"info");const ye=e.generators[0].count.mul(he.fromNumber(10)),D=e.generators[0].count,z=o.totalStats.damage.mul(D);z.gt(0)&&we(`Your equipment provides a damage boost of ${ge(z)} (${ge(ye)} base + ${ge(z)} equipment boost)`,"info"),q.value=!0}},O=V=>{var be,R;P.value!==V&&we(`Switching target from ${((be=t.getBugById(P.value))==null?void 0:be.name)||"unknown"} to ${((R=t.getBugById(V))==null?void 0:R.name)||"unknown"}`,"info"),P.value=V,ie(V)},$=V=>{V.currentHealth&&(S.value=s(V.currentHealth)),V.selectedBugId&&(P.value=V.selectedBugId,ie(V.selectedBugId)),typeof V.autoAdvance=="boolean"&&(k.value=V.autoAdvance),typeof V.autoQuestAdvance=="boolean"&&(W.value=V.autoQuestAdvance),V.filters&&(typeof V.filters.showOneHitOnly=="boolean"&&(X.value=V.filters.showOneHitOnly),typeof V.filters.showCanKillOnly=="boolean"&&(j.value=V.filters.showCanKillOnly),typeof V.filters.showAllEnemies=="boolean"&&(T.value=V.filters.showAllEnemies),V.filters.gridDensity&&(K.value=V.filters.gridDensity)),V.activeTab&&(le.value=V.activeTab),we("Adventure state loaded","info")},A=()=>({currentHealth:S.value.toString(),selectedBugId:P.value,autoAdvance:k.value,autoQuestAdvance:W.value,activeTab:le.value,filters:{showOneHitOnly:X.value,showCanKillOnly:j.value,showAllEnemies:T.value,gridDensity:K.value}}),Q=V=>{if(!c.activeQuest)return!1;const be=c.activeQuest.goals.filter(R=>R.type===mt.KILL_BUGS);return be.length===0?!1:be.some(R=>{const H=!R.target,ve=R.target===V,ye=["bug_slayer_initiate","extreme_bug_hunter"].includes(c.activeQuest.id)||c.activeQuest.id.includes("exterminator_");return H||ve||ye})},ne=()=>{if(!c.activeQuest)return null;const V=c.activeQuest.goals.filter(ye=>ye.type===mt.KILL_BUGS);if(V.length===0)return null;if(["bug_slayer_initiate","extreme_bug_hunter"].includes(c.activeQuest.id)||c.activeQuest.id.includes("exterminator_")){for(let ye=t.bugs.length-1;ye>=0;ye--){const D=t.bugs[ye];if(D&&ce(D.id))return D.id}return"safe"}const R=V.filter(ye=>{const D=typeof ye.currentAmount=="string"?s(ye.currentAmount):ye.currentAmount||s(0),z=typeof ye.requiredAmount=="string"?s(ye.requiredAmount):ye.requiredAmount||s(0);return D.lt(z)});if(R.length===0)return P.value;const H=R.filter(ye=>ye.target).map(ye=>ye.target);if(H.length===0)return P.value||"safe";const ve=[...t.bugs].reverse();for(const ye of ve)if(H.includes(ye.id)&&ce(ye.id))return ye.id;return H[0]},re=V=>{if(!d.value||!t.selectedBug)return{kills:0,totalFoodGained:new he(0),totalEssenceGained:new he(0),totalDoubleKills:0};const be=new he(S.value),R={kills:0,totalFoodGained:new he(0),totalEssenceGained:new he(0),totalDoubleKills:0},H=t.selectedBug,ve=fe(h.value,H.defense),ye=fe(H.damage,M.value);if(ve.lte(0))return R;const D=H.maxHealth.div(ve).ceil();let z=new he(0);if(ye.gt(0)){const Ae=ye.mul(D);z=w.value.mul(D).sub(Ae)}else z=w.value.mul(D);let J=new he(be),se=new he(V);if(z.gte(0)||ye.lte(0)){R.kills=Math.floor(se.div(D).toNumber());const Ae=z.mul(R.kills);J=he.min(C.value,J.add(Ae))}else for(;se.gte(D)&&J.gt(0);){const Ae=J.div(ye.mul(D).sub(w.value.mul(D)).neg()).floor(),Me=he.min(Ae,se.div(D).floor()).toNumber();if(Me<=0||(R.kills+=Me,se=se.sub(D.mul(Me)),J=J.add(z.mul(Me)),J.lte(0)))break}const xe=b.value.toNumber();if(R.totalDoubleKills=Math.floor(R.kills*xe),R.kills>0){const{reward:Ae}=ue(H);if(R.totalFoodGained=Ae.mul(R.kills),R.totalDoubleKills>0){const Le=Ae.mul(x.value).mul(R.totalDoubleKills);R.totalFoodGained=R.totalFoodGained.add(Le)}const Me=Z(H);if(R.totalEssenceGained=Me.mul(R.kills),R.totalDoubleKills>0){const Le=Me.mul(x.value).mul(R.totalDoubleKills);R.totalEssenceGained=R.totalEssenceGained.add(Le)}}return S.value=J.gt(0)?J:C.value,R};return ie("safe"),{currentHealth:S,playerMaxHealth:C,playerDamage:h,playerRegen:w,playerDefense:M,isDead:me,isInCombat:_,autoCombatEnabled:y,selectedBugId:P,logs:I,isAdventureUnlocked:d,tick:F,takeDamage:N,regenHealth:E,startCombat:ie,toggleAutoCombat:O,loadState:$,getState:A,autoAdvance:k,autoQuestAdvance:W,isAutoQuestAdvanceUnlocked:m,canOneHitBug:ce,willProgressQuest:Q,getBestQuestTarget:ne,showOneHitOnly:X,showCanKillOnly:j,showAllEnemies:T,gridDensity:K,activeTab:le,calculateDamage:fe,addLog:we,calculateOfflineCombatProgress:re}}),ir=ft("bug",()=>{const e=B(Hf),t=B(e.value[0]),o=B("safe"),n=Ve(),a=L(()=>n.getUpgradeCount("reRollChance").div(100)),l=L(()=>t.value?t.value.health.lte(0):!1),i=L(()=>t.value?t.value.health.div(t.value.maxHealth).mul(100).toNumber():0),u=w=>{const M=e.value.find(S=>S.id===w);M&&(t.value=M,o.value=w,M.health=M.maxHealth)},c=w=>{t.value&&(t.value.health=t.value.health.minus(w).clamp(0,t.value.maxHealth))},d=()=>{if(!t.value)return[];const w=[],M=Bt();return t.value.drops.forEach(S=>{if(Math.random()<=S.chance){const _=Math.floor(Math.random()*(S.maxQuantity-S.minQuantity+1)+S.minQuantity);w.push({itemId:S.itemId,quantity:_})}if(a.value.gt(0)&&Math.random()<=a.value.toNumber()){const _=Math.floor(Math.random()*(S.maxQuantity-S.minQuantity+1)+S.minQuantity);w.push({itemId:S.itemId,quantity:_}),M.addLog(`Re-roll successful! Gained ${_}x ${S.itemId}!`,"reward")}}),w},m=w=>{w.selectedBugId&&(u(w.selectedBugId),w.selectedBugHealth&&(t.value.health=s(w.selectedBugHealth)))},b=()=>{var w,M;return{selectedBugId:((w=t.value)==null?void 0:w.id)||null,selectedBugHealth:((M=t.value)==null?void 0:M.health.toString())||null}},x=w=>e.value.find(M=>M.id===w),h=w=>e.value.filter(M=>M.drops.some(S=>S.itemId===w)),C=(w,M)=>{const S=x(M);if(!S)return 0;const _=S.drops.find(y=>y.itemId===w);return _?_.chance:0};return{bugs:e.value.sort((w,M)=>w.health.minus(M.health).toNumber()),selectedBug:t,selectedBugId:o,isBugDead:l,getBugHealthPercentage:i,selectBug:u,attackBug:c,getRandomDrops:d,loadState:m,getState:b,getBugById:x,getBugsByItemId:h,getBugDropChance:C}});var mt=(e=>(e.KILL_BUGS="kill_bugs",e.COLLECT_FOOD="collect_food",e.COLLECT_PHEROMONE="collect_pheromone",e))(mt||{}),fr=(e=>(e.ITEM="item",e.FOOD="food",e.PHEROMONE="pheromone",e.EP="ep",e.MULTIPLIER="multiplier",e))(fr||{});const Ra=[{id:"kill_training_bugs",title:"Basic Training",description:"Defeat 25 training bugs to practice your combat skills.",goals:[{type:"kill_bugs",target:"safe",requiredAmount:"25",currentAmount:"0"}],rewards:[{type:"food",value:5e3},{type:"pheromone",value:100}],isCompleted:!1,isActive:!1},{id:"kill_grasshopper",title:"Grasshopper Hunter",description:"Defeat 15 grasshoppers to protect your colony.",goals:[{type:"kill_bugs",target:"grasshopper",requiredAmount:"15",currentAmount:"0"}],rewards:[{type:"pheromone",value:200},{type:"multiplier",value:1.1,target:"global"}],isCompleted:!1,isActive:!1},{id:"kill_tarantula",title:"Spider Slayer",description:"Defeat 10 tarantulas to prove your colony's strength.",goals:[{type:"kill_bugs",target:"tarantula",requiredAmount:"10",currentAmount:"0"}],rewards:[{type:"ep",value:1e3},{type:"pheromone",value:350}],isCompleted:!1,isActive:!1},{id:"kill_beetle",title:"Beetle Buster",description:"Defeat 8 beetles to claim their territory.",goals:[{type:"kill_bugs",target:"beetle",requiredAmount:"8",currentAmount:"0"}],rewards:[{type:"pheromone",value:500},{type:"multiplier",value:1.15,target:"soldier"}],isCompleted:!1,isActive:!1},{id:"kill_scorpion",title:"Scorpion Subjugator",description:"Defeat 5 scorpions to secure your colony's dominance.",goals:[{type:"kill_bugs",target:"scorpion",requiredAmount:"5",currentAmount:"0"}],rewards:[{type:"ep",value:2500},{type:"multiplier",value:1.2,target:"global"}],isCompleted:!1,isActive:!1},{id:"kill_army_ant",title:"Ant Terminator",description:"Defeat 3 army ants to demonstrate your colony's prowess.",goals:[{type:"kill_bugs",target:"army_ant",requiredAmount:"3",currentAmount:"0"}],rewards:[{type:"pheromone",value:1e3},{type:"ep",value:5e3}],isCompleted:!1,isActive:!1},{id:"collect_food_basic",title:"Colony Provisions",description:"Collect 50,000 food to support your growing colony.",goals:[{type:"collect_food",requiredAmount:"50000",currentAmount:"0"}],rewards:[{type:"multiplier",value:1.25,target:"worker"}],isCompleted:!1,isActive:!1},{id:"collect_food_intermediate",title:"Winter Storage",description:"Collect 250,000 food to prepare for harsher seasons.",goals:[{type:"collect_food",requiredAmount:"250000",currentAmount:"0"}],rewards:[{type:"multiplier",value:1.35,target:"food"},{type:"ep",value:2e3}],isCompleted:!1,isActive:!1},{id:"collect_food_advanced",title:"Feast Preparation",description:"Collect 1,000,000 food for a colony-wide celebration.",goals:[{type:"collect_food",requiredAmount:"1000000",currentAmount:"0"}],rewards:[{type:"multiplier",value:1.5,target:"global"},{type:"ep",value:5e3}],isCompleted:!1,isActive:!1},{id:"collect_food_expert",title:"Food Empire",description:"Collect 10,000,000 food to establish your colony as a food powerhouse.",goals:[{type:"collect_food",requiredAmount:"10000000",currentAmount:"0"}],rewards:[{type:"multiplier",value:2,target:"food"},{type:"ep",value:1e4}],isCompleted:!1,isActive:!1},{id:"collect_pheromone_basic",title:"Essence Collector",description:"Collect 500 pheromone essence to unlock new mystical powers.",goals:[{type:"collect_pheromone",requiredAmount:"500",currentAmount:"0"}],rewards:[{type:"multiplier",value:1.2,target:"pheromone"}],isCompleted:!1,isActive:!1},{id:"collect_pheromone_intermediate",title:"Essence Master",description:"Collect 2,000 pheromone essence to enhance your colony's powers.",goals:[{type:"collect_pheromone",requiredAmount:"2000",currentAmount:"0"}],rewards:[{type:"multiplier",value:1.3,target:"pheromone"},{type:"ep",value:3e3}],isCompleted:!1,isActive:!1},{id:"collect_pheromone_advanced",title:"Essence Harvester",description:"Collect 5,000 pheromone essence to reach new heights of power.",goals:[{type:"collect_pheromone",requiredAmount:"5000",currentAmount:"0"}],rewards:[{type:"multiplier",value:1.5,target:"global"},{type:"ep",value:7500}],isCompleted:!1,isActive:!1},{id:"collect_pheromone_expert",title:"Essence Architect",description:"Collect 15,000 pheromone essence to reshape the destiny of your colony.",goals:[{type:"collect_pheromone",requiredAmount:"15000",currentAmount:"0"}],rewards:[{type:"multiplier",value:2,target:"pheromone"},{type:"ep",value:15e3}],isCompleted:!1,isActive:!1},{id:"bug_slayer_initiate",title:"Bug Slayer Initiate",description:"Defeat 50 bugs of any type to begin your path as a bug slayer.",goals:[{type:"kill_bugs",requiredAmount:"50",currentAmount:"0"}],rewards:[{type:"food",value:1e5},{type:"pheromone",value:2500},{type:"multiplier",value:1.5,target:"global"}],isCompleted:!1,isActive:!1},{id:"resource_champion",title:"Resource Champion",description:"Collect 500,000 food and 1,000 pheromone essence to prove your mastery of resources.",goals:[{type:"collect_food",requiredAmount:"500000",currentAmount:"0",description:"Collect 500,000 food"},{type:"collect_pheromone",requiredAmount:"1000",currentAmount:"0",description:"Collect 1,000 pheromone essence"}],rewards:[{type:"multiplier",value:1.5,target:"global"},{type:"ep",value:1e4}],isCompleted:!1,isActive:!1},{id:"exterminator_novice",title:"Exterminator Novice",description:"Defeat 100 bugs of any type to begin your career as an exterminator.",goals:[{type:"kill_bugs",requiredAmount:"1e2",currentAmount:"0"}],rewards:[{type:"multiplier",value:1.3,target:"global"},{type:"ep",value:7500}],isCompleted:!1,isActive:!1},{id:"exterminator_adept",title:"Exterminator Adept",description:"Defeat 1,000 bugs of any type to advance your extermination skills.",goals:[{type:"kill_bugs",requiredAmount:"1e3",currentAmount:"0"}],rewards:[{type:"multiplier",value:1.4,target:"global"},{type:"ep",value:15e3}],isCompleted:!1,isActive:!1},{id:"exterminator_expert",title:"Exterminator Expert",description:"Defeat 10,000 bugs of any type to become a legend among exterminators.",goals:[{type:"kill_bugs",requiredAmount:"1e4",currentAmount:"0"}],rewards:[{type:"multiplier",value:2,target:"global"},{type:"ep",value:5e4}],isCompleted:!1,isActive:!1},{id:"exterminator_master",title:"Exterminator Master",description:"Defeat 100,000 bugs of any type to achieve mastery in the art of bug hunting.",goals:[{type:"kill_bugs",requiredAmount:"1e5",currentAmount:"0"}],rewards:[{type:"multiplier",value:3,target:"global"},{type:"ep",value:25e4}],isCompleted:!1,isActive:!1},{id:"beetle_genocide",title:"Beetle Genocide",description:"Defeat 5,000 beetles to eliminate their threat forever.",goals:[{type:"kill_bugs",target:"beetle",requiredAmount:"5e3",currentAmount:"0"}],rewards:[{type:"multiplier",value:2.5,target:"soldier"},{type:"ep",value:1e5}],isCompleted:!1,isActive:!1},{id:"scorpion_slaughter",title:"Scorpion Slaughter",description:"Defeat 2,500 scorpions to eliminate their threat.",goals:[{type:"kill_bugs",target:"scorpion",requiredAmount:"2.5e3",currentAmount:"0"}],rewards:[{type:"multiplier",value:2.75,target:"global"},{type:"ep",value:15e4}],isCompleted:!1,isActive:!1},{id:"tarantula_terror",title:"Tarantula Terror",description:"Defeat 3,000 tarantulas to free the colony from fear.",goals:[{type:"kill_bugs",target:"tarantula",requiredAmount:"3e3",currentAmount:"0"}],rewards:[{type:"multiplier",value:3.25,target:"soldier"},{type:"ep",value:2e5}],isCompleted:!1,isActive:!1},{id:"army_ant_annihilation",title:"Army Ant Annihilation",description:"Defeat 1,000 army ants to prove your colony's supremacy.",goals:[{type:"kill_bugs",target:"army_ant",requiredAmount:"1e3",currentAmount:"0"}],rewards:[{type:"multiplier",value:3.5,target:"global"},{type:"ep",value:3e5}],isCompleted:!1,isActive:!1},{id:"food_tycoon",title:"Food Tycoon",description:"Collect 100,000,000 food to become a food industry mogul.",goals:[{type:"collect_food",requiredAmount:"1e8",currentAmount:"0"}],rewards:[{type:"multiplier",value:5,target:"food"},{type:"ep",value:5e4}],isCompleted:!1,isActive:!1},{id:"food_billionaire",title:"Food Billionaire",description:"Collect 1,000,000,000 food to join the elite of food collectors.",goals:[{type:"collect_food",requiredAmount:"1e9",currentAmount:"0"}],rewards:[{type:"multiplier",value:10,target:"food"},{type:"ep",value:1e5}],isCompleted:!1,isActive:!1},{id:"food_trillionaire",title:"Food Trillionaire",description:"Collect 1,000,000,000,000 food to become a legend among food collectors.",goals:[{type:"collect_food",requiredAmount:"1e12",currentAmount:"0"}],rewards:[{type:"multiplier",value:25,target:"food"},{type:"ep",value:5e5}],isCompleted:!1,isActive:!1},{id:"essence_virtuoso",title:"Essence Virtuoso",description:"Collect 100,000 pheromone essence to master the mystical arts.",goals:[{type:"collect_pheromone",requiredAmount:"1e5",currentAmount:"0"}],rewards:[{type:"multiplier",value:5,target:"pheromone"},{type:"ep",value:75e3}],isCompleted:!1,isActive:!1},{id:"essence_grandmaster",title:"Essence Grandmaster",description:"Collect 1,000,000 pheromone essence to achieve grandmaster status.",goals:[{type:"collect_pheromone",requiredAmount:"1e6",currentAmount:"0"}],rewards:[{type:"multiplier",value:10,target:"pheromone"},{type:"ep",value:15e4}],isCompleted:!1,isActive:!1},{id:"essence_transcendent",title:"Essence Transcendent",description:"Collect 10,000,000 pheromone essence to transcend mortal limitations.",goals:[{type:"collect_pheromone",requiredAmount:"1e7",currentAmount:"0"}],rewards:[{type:"multiplier",value:25,target:"pheromone"},{type:"ep",value:75e4}],isCompleted:!1,isActive:!1},{id:"supreme_resource_master",title:"Supreme Resource Master",description:"Collect 5,000,000 food and 100,000 pheromone essence simultaneously.",goals:[{type:"collect_food",requiredAmount:"5e6",currentAmount:"0",description:"Collect 5,000,000 food"},{type:"collect_pheromone",requiredAmount:"1e5",currentAmount:"0",description:"Collect 100,000 pheromone essence"}],rewards:[{type:"multiplier",value:5,target:"global"},{type:"ep",value:2e5}],isCompleted:!1,isActive:!1},{id:"universal_harvester",title:"Universal Harvester",description:"Collect 50,000,000 food and 1,000,000 pheromone essence simultaneously.",goals:[{type:"collect_food",requiredAmount:"5e7",currentAmount:"0",description:"Collect 50,000,000 food"},{type:"collect_pheromone",requiredAmount:"1e6",currentAmount:"0",description:"Collect 1,000,000 pheromone essence"}],rewards:[{type:"multiplier",value:10,target:"global"},{type:"ep",value:1e6}],isCompleted:!1,isActive:!1},{id:"extreme_bug_hunter",title:"Extreme Bug Hunter",description:"Defeat a total of 1,000,000 bugs of any type to become the ultimate predator.",goals:[{type:"kill_bugs",requiredAmount:"1e6",currentAmount:"0"}],rewards:[{type:"multiplier",value:50,target:"global"},{type:"ep",value:5e6}],isCompleted:!1,isActive:!1},{id:"quantum_beetle_hunter",title:"Quantum Beetle Hunter",description:"Defeat 100 quantum beetles to harness their reality-bending power.",goals:[{type:"kill_bugs",target:"quantum_beetle",requiredAmount:"1e2",currentAmount:"0"}],rewards:[{type:"multiplier",value:100,target:"global"},{type:"ep",value:1e7}],isCompleted:!1,isActive:!1},{id:"galactic_moth_hunter",title:"Galactic Moth Hunter",description:"Defeat 250 galactic moths to harness their cosmic energy.",goals:[{type:"kill_bugs",target:"galactic_moth",requiredAmount:"2.5e2",currentAmount:"0"}],rewards:[{type:"multiplier",value:75,target:"global"},{type:"ep",value:75e5}],isCompleted:!1,isActive:!1},{id:"endless_ant_swarm_challenge",title:"Endless Swarm Challenge",description:"Defeat 500 endless ant swarms to claim ultimate hive dominance.",goals:[{type:"kill_bugs",target:"endless_ant_swarms",requiredAmount:"5e2",currentAmount:"0"}],rewards:[{type:"multiplier",value:125,target:"global"},{type:"ep",value:15e6}],isCompleted:!1,isActive:!1},{id:"cosmic_food_harvester",title:"Cosmic Food Harvester",description:"Collect 1e20 food to feed the entire universe.",goals:[{type:"collect_food",requiredAmount:"1e20",currentAmount:"0"}],rewards:[{type:"multiplier",value:1e3,target:"food"},{type:"ep",value:5e7}],isCompleted:!1,isActive:!1},{id:"pheromone_transcendence",title:"Pheromone Transcendence",description:"Collect 1e15 pheromone essence to unlock the secrets of the universe.",goals:[{type:"collect_pheromone",requiredAmount:"1e15",currentAmount:"0"}],rewards:[{type:"multiplier",value:1e3,target:"pheromone"},{type:"ep",value:1e8}],isCompleted:!1,isActive:!1},{id:"ladybug_hunt",title:"Ladybug Hunt",description:"Defeat 20 ladybugs to protect your territory.",goals:[{type:"kill_bugs",target:"ladybug",requiredAmount:"20",currentAmount:"0"}],rewards:[{type:"food",value:25e3},{type:"multiplier",value:1.2,target:"global"}],isCompleted:!1,isActive:!1},{id:"housefly_swatter",title:"Fly Swatter",description:"Defeat 30 houseflies to stop them from buzzing around your colony.",goals:[{type:"kill_bugs",target:"housefly",requiredAmount:"30",currentAmount:"0"}],rewards:[{type:"pheromone",value:500},{type:"ep",value:3e3}],isCompleted:!1,isActive:!1},{id:"mosquito_massacre",title:"Mosquito Massacre",description:"Defeat 40 mosquitoes to prevent them from stealing your resources.",goals:[{type:"kill_bugs",target:"mosquito",requiredAmount:"40",currentAmount:"0"}],rewards:[{type:"food",value:5e4},{type:"multiplier",value:1.3,target:"worker"}],isCompleted:!1,isActive:!1},{id:"cockroach_crusher",title:"Cockroach Crusher",description:"Defeat 25 cockroaches to clear them from your territory.",goals:[{type:"kill_bugs",target:"cockroach",requiredAmount:"25",currentAmount:"0"}],rewards:[{type:"ep",value:6e3},{type:"multiplier",value:1.25,target:"soldier"}],isCompleted:!1,isActive:!1},{id:"fire_ant_extinguisher",title:"Fire Ant Extinguisher",description:"Defeat 20 fire ants to protect your colony from their burning attacks.",goals:[{type:"kill_bugs",target:"fire_ant",requiredAmount:"20",currentAmount:"0"}],rewards:[{type:"pheromone",value:750},{type:"multiplier",value:1.35,target:"global"}],isCompleted:!1,isActive:!1},{id:"termite_terminator",title:"Termite Terminator",description:"Defeat 35 termites to prevent them from destroying your colony's structures.",goals:[{type:"kill_bugs",target:"termite",requiredAmount:"35",currentAmount:"0"}],rewards:[{type:"food",value:75e3},{type:"ep",value:8e3}],isCompleted:!1,isActive:!1},{id:"wasp_warrior",title:"Wasp Warrior",description:"Defeat 15 wasps to eliminate their aggressive presence.",goals:[{type:"kill_bugs",target:"wasp",requiredAmount:"15",currentAmount:"0"}],rewards:[{type:"pheromone",value:1250},{type:"multiplier",value:1.4,target:"soldier"}],isCompleted:!1,isActive:!1},{id:"giant_moth_hunter",title:"Moth Hunter",description:"Defeat 10 giant moths to prevent them from damaging your resources.",goals:[{type:"kill_bugs",target:"giant_moth",requiredAmount:"10",currentAmount:"0"}],rewards:[{type:"ep",value:12e3},{type:"multiplier",value:1.5,target:"global"}],isCompleted:!1,isActive:!1},{id:"giant_stag_beetle_hunter",title:"Stag Beetle Hunter",description:"Defeat 12 giant stag beetles to claim their powerful mandibles.",goals:[{type:"kill_bugs",target:"giant_stag_beetle",requiredAmount:"12",currentAmount:"0"}],rewards:[{type:"food",value:1e5},{type:"pheromone",value:1500}],isCompleted:!1,isActive:!1},{id:"stag_beetle_swarm_survivor",title:"Swarm Survivor",description:"Survive and defeat 5 stag beetle swarms.",goals:[{type:"kill_bugs",target:"stag_beetle_swarm",requiredAmount:"5",currentAmount:"0"}],rewards:[{type:"ep",value:25e3},{type:"multiplier",value:2,target:"global"}],isCompleted:!1,isActive:!1},{id:"mutant_fly_dissector",title:"Mutant Fly Dissector",description:"Defeat 8 mutant flies to study their genetic mutations.",goals:[{type:"kill_bugs",target:"mutant_fly",requiredAmount:"8",currentAmount:"0"}],rewards:[{type:"pheromone",value:2500},{type:"multiplier",value:2.25,target:"worker"}],isCompleted:!1,isActive:!1},{id:"giant_firefly_hunter",title:"Firefly Hunter",description:"Defeat 7 giant fireflies to capture their luminous essence.",goals:[{type:"kill_bugs",target:"giant_firefly",requiredAmount:"7",currentAmount:"0"}],rewards:[{type:"ep",value:35e3},{type:"multiplier",value:2.5,target:"global"}],isCompleted:!1,isActive:!1},{id:"ultra_beetle_challenge",title:"Ultra Beetle Challenge",description:"Defeat 4 ultra beetles to prove your colony's ultimate strength.",goals:[{type:"kill_bugs",target:"ultra_beetle",requiredAmount:"4",currentAmount:"0"}],rewards:[{type:"food",value:5e5},{type:"multiplier",value:3,target:"soldier"}],isCompleted:!1,isActive:!1},{id:"queen_wasp_regicide",title:"Wasp Regicide",description:"Defeat 3 queen wasps to destroy the leadership of the wasp colonies.",goals:[{type:"kill_bugs",target:"queen_wasp",requiredAmount:"3",currentAmount:"0"}],rewards:[{type:"ep",value:1e5},{type:"multiplier",value:4,target:"global"}],isCompleted:!1,isActive:!1},{id:"colossal_cockroach_conqueror",title:"Colossal Conqueror",description:"Defeat 2 colossal cockroaches to prove that nothing is too big to squash.",goals:[{type:"kill_bugs",target:"colossal_cockroach",requiredAmount:"2",currentAmount:"0"}],rewards:[{type:"pheromone",value:5e3},{type:"multiplier",value:5,target:"global"}],isCompleted:!1,isActive:!1},{id:"apocalyptic_termites_defender",title:"Apocalypse Defender",description:"Defend your colony by defeating 2 swarms of apocalyptic termites.",goals:[{type:"kill_bugs",target:"apocalyptic_termites",requiredAmount:"2",currentAmount:"0"}],rewards:[{type:"ep",value:5e5},{type:"multiplier",value:8,target:"global"}],isCompleted:!1,isActive:!1},{id:"radioactive_spider_hunter",title:"Radioactive Hunter",description:"Defeat 3 radioactive spiders without getting any genetic mutations.",goals:[{type:"kill_bugs",target:"radioactive_spider",requiredAmount:"3",currentAmount:"0"}],rewards:[{type:"pheromone",value:1e4},{type:"multiplier",value:10,target:"soldier"}],isCompleted:!1,isActive:!1},{id:"ant_queen_guardian_challenge",title:"Queen's Guardian Challenge",description:"Defeat 2 ant queen guardians to assert your colony's dominance.",goals:[{type:"kill_bugs",target:"ant_queen_guardian",requiredAmount:"2",currentAmount:"0"}],rewards:[{type:"ep",value:1e6},{type:"multiplier",value:15,target:"global"}],isCompleted:!1,isActive:!1},{id:"swarm_lord_subjugator",title:"Swarm Subjugator",description:"Defeat a swarm lord to become the undisputed ruler of all insect swarms.",goals:[{type:"kill_bugs",target:"swarm_lord",requiredAmount:"1",currentAmount:"0"}],rewards:[{type:"pheromone",value:5e4},{type:"multiplier",value:20,target:"global"}],isCompleted:!1,isActive:!1},{id:"ant_legion_commander_defeat",title:"Legion Commander Defeat",description:"Defeat an ant legion commander to disrupt the enemy's military structure.",goals:[{type:"kill_bugs",target:"ant_legion_commander",requiredAmount:"1",currentAmount:"0"}],rewards:[{type:"ep",value:25e5},{type:"multiplier",value:30,target:"global"}],isCompleted:!1,isActive:!1},{id:"ant_tactician_challenge",title:"Tactician's Challenge",description:"Outmaneuver and defeat an ant tactician in a battle of wits and strength.",goals:[{type:"kill_bugs",target:"ant_tactician",requiredAmount:"1",currentAmount:"0"}],rewards:[{type:"pheromone",value:1e5},{type:"multiplier",value:40,target:"soldier"}],isCompleted:!1,isActive:!1},{id:"ant_scout_master_tracker",title:"Scout Master Tracker",description:"Track down and defeat the elusive ant scout master.",goals:[{type:"kill_bugs",target:"ant_scout_master",requiredAmount:"1",currentAmount:"0"}],rewards:[{type:"ep",value:5e6},{type:"multiplier",value:50,target:"global"}],isCompleted:!1,isActive:!1},{id:"ant_training_master_graduate",title:"Training Master Graduate",description:"Prove yourself by defeating the ant training master in combat.",goals:[{type:"kill_bugs",target:"ant_training_master",requiredAmount:"1",currentAmount:"0"}],rewards:[{type:"food",value:1e10},{type:"pheromone",value:5e5},{type:"multiplier",value:100,target:"global"},{type:"ep",value:1e7}],isCompleted:!1,isActive:!1},{id:"flying_bugs_hunter",title:"Flying Bug Hunter",description:"Defeat a variety of flying bugs to clear the skies.",goals:[{type:"kill_bugs",target:"housefly",requiredAmount:"10",currentAmount:"0",description:"Defeat 10 houseflies"},{type:"kill_bugs",target:"mosquito",requiredAmount:"10",currentAmount:"0",description:"Defeat 10 mosquitoes"},{type:"kill_bugs",target:"wasp",requiredAmount:"5",currentAmount:"0",description:"Defeat 5 wasps"}],rewards:[{type:"multiplier",value:2,target:"soldier"},{type:"ep",value:2e4}],isCompleted:!1,isActive:!1},{id:"beetle_variety_collection",title:"Beetle Variety Collection",description:"Collect a variety of beetle specimens for your colony's study.",goals:[{type:"kill_bugs",target:"beetle",requiredAmount:"5",currentAmount:"0",description:"Defeat 5 beetles"},{type:"kill_bugs",target:"giant_stag_beetle",requiredAmount:"3",currentAmount:"0",description:"Defeat 3 giant stag beetles"},{type:"kill_bugs",target:"ultra_beetle",requiredAmount:"1",currentAmount:"0",description:"Defeat 1 ultra beetle"}],rewards:[{type:"pheromone",value:3e3},{type:"multiplier",value:2.5,target:"global"}],isCompleted:!1,isActive:!1},{id:"ant_hierarchy_challenge",title:"Ant Hierarchy Challenge",description:"Challenge the ant hierarchy by defeating members at each level.",goals:[{type:"kill_bugs",target:"worker",requiredAmount:"20",currentAmount:"0",description:"Defeat 20 worker ants"},{type:"kill_bugs",target:"soldier",requiredAmount:"10",currentAmount:"0",description:"Defeat 10 soldier ants"},{type:"kill_bugs",target:"army_ant",requiredAmount:"5",currentAmount:"0",description:"Defeat 5 army ants"}],rewards:[{type:"food",value:2e5},{type:"ep",value:3e4},{type:"multiplier",value:3,target:"global"}],isCompleted:!1,isActive:!1}],ws=B([]);let Vf=0;function Ot(){const e=(o,n="info",a=3e3)=>{const l=Vf++;return ws.value.push({id:l,message:o,type:n,timeout:a}),setTimeout(()=>{t(l)},a),l},t=o=>{const n=ws.value.findIndex(a=>a.id===o);n!==-1&&ws.value.splice(n,1)};return{toasts:ws,showToast:e,removeToast:t}}var Vc=(e=>(e.DEFAULT="default",e.ALPHABETICAL="alphabetical",e.GOAL_TYPE="goal_type",e.REWARD_TYPE="reward_type",e))(Vc||{});function qn(e,t){for(const o of e.goals)if(!(o.type!==mt.KILL_BUGS||!o.target)&&!(e.id==="bug_slayer_initiate"||e.id.includes("exterminator_"))&&!t.getBugById(o.target))return!1;return!0}const ht=ft("quest",()=>{Vt();const e=st(),t=ir(),o=St(),n=Pt(),a=Ve(),{showToast:l}=Ot(),i=B("available"),u=L(()=>!0),c=B("comfortable"),d=B("default"),m=B(null),b=B(null),x=B(""),h=B(!0),C=B(s(0)),w=B(s(0)),M=B([]),S=B(null),_=B([]),y=B([]),P=B(!0),I=B(!1),U=L(()=>{let R=[...M.value];if(x.value.trim()){const H=x.value.toLowerCase().trim();R=R.filter(ve=>ve.title.toLowerCase().includes(H)||ve.description.toLowerCase().includes(H))}switch(m.value&&(R=R.filter(H=>H.goals.some(ve=>ve.type===m.value))),b.value&&(R=R.filter(H=>H.rewards.some(ve=>ve.type===b.value))),d.value){case"alphabetical":R.sort((H,ve)=>H.title.localeCompare(ve.title));break;case"goal_type":R.sort((H,ve)=>{var ye,D,z,J;return((ye=H.goals[0])==null?void 0:ye.type)<((D=ve.goals[0])==null?void 0:D.type)?-1:((z=H.goals[0])==null?void 0:z.type)>((J=ve.goals[0])==null?void 0:J.type)?1:H.title.localeCompare(ve.title)});break;case"reward_type":R.sort((H,ve)=>{var ye,D,z,J;return((ye=H.rewards[0])==null?void 0:ye.type)<((D=ve.rewards[0])==null?void 0:D.type)?-1:((z=H.rewards[0])==null?void 0:z.type)>((J=ve.rewards[0])==null?void 0:J.type)?1:H.title.localeCompare(ve.title)});break}return R}),q=L(()=>{let R=[..._.value];if(x.value.trim()){const H=x.value.toLowerCase().trim();R=R.filter(ve=>ve.title.toLowerCase().includes(H)||ve.description.toLowerCase().includes(H))}switch(m.value&&(R=R.filter(H=>H.goals.some(ve=>ve.type===m.value))),b.value&&(R=R.filter(H=>H.rewards.some(ve=>ve.type===b.value))),d.value){case"alphabetical":R.sort((H,ve)=>H.title.localeCompare(ve.title));break;case"goal_type":R.sort((H,ve)=>{var ye,D,z,J;return((ye=H.goals[0])==null?void 0:ye.type)<((D=ve.goals[0])==null?void 0:D.type)?-1:((z=H.goals[0])==null?void 0:z.type)>((J=ve.goals[0])==null?void 0:J.type)?1:H.title.localeCompare(ve.title)});break;case"reward_type":R.sort((H,ve)=>{var ye,D,z,J;return((ye=H.rewards[0])==null?void 0:ye.type)<((D=ve.rewards[0])==null?void 0:D.type)?-1:((z=H.rewards[0])==null?void 0:z.type)>((J=ve.rewards[0])==null?void 0:J.type)?1:H.title.localeCompare(ve.title)});break;case"default":default:R.reverse();break}return R}),k=()=>{m.value=null,b.value=null,x.value="",h.value=!0},W=R=>{d.value=R},le=R=>{m.value=R},X=R=>{b.value=R},j=R=>{x.value=R},T=R=>{h.value=R};De(S,R=>{!R&&i.value==="inProgress"&&(i.value="available")});const K=()=>{if(!S.value&&P.value&&y.value.length>0){const R=y.value[0],H=re(R);H&&(l(`Starting quest from queue: ${H.title}`,"info"),A());return}if(S.value){if(S.value.goals)for(const R of S.value.goals)(!(R.currentAmount instanceof he)&&typeof R.currentAmount!="string"||!(R.requiredAmount instanceof he)&&typeof R.requiredAmount!="string")&&(console.error("Invalid goal amounts in tick",{current:R.currentAmount,required:R.requiredAmount}),!(R.currentAmount instanceof he)&&typeof R.currentAmount!="string"&&(console.log("Fixing invalid currentAmount in goal"),R.currentAmount=s(0)),!(R.requiredAmount instanceof he)&&typeof R.requiredAmount!="string"&&(console.log("Fixing invalid requiredAmount in goal"),R.requiredAmount=s(10)));else{console.error("Quest has no goals array",S.value);return}Se()}},fe=R=>{if(!S.value||!S.value.goals)return;let H=!1;for(const ve of S.value.goals)if(ve.type===mt.COLLECT_FOOD){const ye=ve.currentAmount instanceof he?ve.currentAmount:s(ve.currentAmount||0);ve.currentAmount=ye.add(R),H=!0}H&&Se()},we=R=>{if(!S.value||!S.value.goals)return;let H=!1;for(const ve of S.value.goals)if(ve.type===mt.COLLECT_PHEROMONE){const ye=ve.currentAmount instanceof he?ve.currentAmount:s(ve.currentAmount||0);ve.currentAmount=ye.add(R),H=!0}H&&Se()},Se=()=>{if(!S.value||!S.value.goals)return;const R=S.value.goals.every(H=>{try{const ve=H.currentAmount instanceof he?H.currentAmount:s(H.currentAmount||0),ye=H.requiredAmount instanceof he?H.requiredAmount:s(H.requiredAmount||0);return ve.gte(ye)}catch(ve){return console.error("Error comparing goal amounts:",ve,{current:H.currentAmount,required:H.requiredAmount}),!1}});return R&&ke(S.value),R},pe=R=>{if(S.value)return console.warn("Cannot start a new quest while another is active"),!1;const H=M.value.find(D=>D.id===R);if(!H)return console.warn(`Quest with ID ${R} not found`),!1;if(!qn(H,t))return Gc(`Cannot start quest ${R} - one or more target bugs do not exist`),!1;if(!H.goals||H.goals.length===0)return console.warn(`Quest ${R} has no goals`),!1;for(const D of H.goals)!(D.requiredAmount instanceof he)&&typeof D.requiredAmount!="string"&&(console.warn(`Quest ${R} has invalid requiredAmount in goal, fixing`,D.requiredAmount),D.requiredAmount=s(D.requiredAmount||10)),D.currentAmount instanceof he||(console.warn(`Quest ${R} has invalid currentAmount in goal, fixing`,D.currentAmount),D.currentAmount=s(0));console.log("Starting quest with values:",{id:H.id,title:H.title,goals:H.goals.map(D=>({type:D.type,requiredAmount:D.requiredAmount.toString?D.requiredAmount.toString():D.requiredAmount,currentAmount:D.currentAmount.toString()}))});for(const D of H.goals)D.currentAmount=s(0);H.isActive=!0;const ve=H.goals.some(D=>D.type===mt.COLLECT_FOOD),ye=H.goals.some(D=>D.type===mt.COLLECT_PHEROMONE);return ve&&(C.value=new he(e.food)),ye&&(w.value=new he(o.pheromoneEssence)),S.value=H,M.value=M.value.filter(D=>D.id!==R),!0},ce=()=>{if(!S.value)return console.warn("No active quest to cancel"),!1;const R={...S.value};R.goals&&Array.isArray(R.goals)&&(R.goals=R.goals.map(ve=>({...ve,currentAmount:s(0)}))),R.isActive=!1;const H=M.value.findIndex(ve=>ve.id===R.id);if(H===-1?M.value.push(R):M.value[H]=R,S.value=null,P.value&&y.value.length>0){const ve=y.value[0],ye=re(ve);ye&&l(`Starting next quest: ${ye.title}`,"info"),A()}return!0},ke=R=>{if(R.isCompleted=!0,R.isActive=!1,R.rewards.forEach(H=>{ue(H)}),_.value.push({...R}),S.value=null,l(`Quest completed: ${R.title}`,"success",5e3),console.log(`Quest completed: ${R.title}`),P.value&&y.value.length>0){const H=y.value[0],ve=re(H);ve&&l(`Starting next quest: ${ve.title}`,"info"),A()}return!0},ue=R=>{switch(R.type){case fr.ITEM:if(typeof R.value=="string"&&R.quantity){const H=typeof R.quantity=="number"?s(R.quantity):s(1);n.addItem(R.value,H)}else console.error("Invalid item reward:",R);break;case fr.EP:try{let H;R.value instanceof he?H=new he(R.value):typeof R.value=="number"||typeof R.value=="string"&&!isNaN(Number(R.value))?H=s(R.value):(console.error("Invalid EP reward value:",R.value),H=s(0)),a.evolutionPoints=a.evolutionPoints.add(H),console.log(`Added ${H.toString()} Evolution Points from quest reward`)}catch(H){console.error("Error processing EP reward:",H)}break;case fr.FOOD:try{let H;R.value instanceof he?H=new he(R.value):typeof R.value=="number"||typeof R.value=="string"&&!isNaN(Number(R.value))?H=s(R.value):(console.error("Invalid FOOD reward value:",R.value),H=s(0)),e.food=e.food.add(H),console.log(`Added ${H.toString()} Food from quest reward`)}catch(H){console.error("Error processing FOOD reward:",H)}break;case fr.PHEROMONE:try{let H;R.value instanceof he?H=new he(R.value):typeof R.value=="number"||typeof R.value=="string"&&!isNaN(Number(R.value))?H=s(R.value):(console.error("Invalid PHEROMONE reward value:",R.value),H=s(0)),o.addPheromoneEssence(H),console.log(`Added ${H.toString()} Pheromone Essence from quest reward`)}catch(H){console.error("Error processing PHEROMONE reward:",H)}break;case fr.MULTIPLIER:if(typeof R.value=="number"&&typeof R.target=="string"){const H=R.value;console.log(`Applied permanent multiplier: ${H}x to ${R.target}`)}else console.error("Invalid MULTIPLIER reward:",R);break;default:console.warn(`Unhandled reward type: ${R.type}`)}},Z=()=>{const R=Ra.map(ve=>({...ve,goals:ve.goals.map(D=>({...D,requiredAmount:typeof D.requiredAmount=="string"?D.requiredAmount:s(D.requiredAmount||0).toString(),currentAmount:typeof D.currentAmount=="string"?D.currentAmount:s(D.currentAmount||0).toString()}))})),H=R.filter(ve=>qn(ve,t));M.value=[...H],console.log(`Initialized ${M.value.length} quests (filtered from ${R.length} total templates)`)},de=()=>({activeTab:i.value,gridDensity:c.value,sortOption:d.value,filterQuestType:m.value,filterRewardType:b.value,filterText:x.value,activeQuest:S.value,completedQuests:_.value,foodAtQuestStart:C.value.toString(),pheromoneAtQuestStart:w.value.toString(),questQueue:y.value,autoStartNextQuest:P.value,isQueueModalOpen:I.value}),oe=R=>{var ye,D;if(console.log("Loading quest store state:",R),R.activeTab&&(i.value=R.activeTab),R.filters&&(R.filters.sortOption&&(d.value=R.filters.sortOption),R.filters.filterQuestType&&(m.value=R.filters.filterQuestType),R.filters.filterRewardType&&(b.value=R.filters.filterRewardType),R.filters.filterText&&(x.value=R.filters.filterText),typeof R.filters.showTooStrongBugs=="boolean"&&(h.value=R.filters.showTooStrongBugs),R.filters.gridDensity&&(c.value=R.filters.gridDensity)),Z(),Array.isArray(R.questQueue)&&(y.value=R.questQueue),typeof R.autoStartNextQuest=="boolean"&&(P.value=R.autoStartNextQuest),typeof R.isQueueModalOpen=="boolean"&&(I.value=R.isQueueModalOpen),_.value=[],R.completedQuests&&Array.isArray(R.completedQuests))try{_.value=R.completedQuests.map(z=>({...z,goals:Array.isArray(z.goals)?z.goals.map(J=>({...J,requiredAmount:typeof J.requiredAmount=="string"?J.requiredAmount:s(J.requiredAmount||0).toString(),currentAmount:typeof J.currentAmount=="string"?J.currentAmount:s(J.currentAmount||0).toString()})):[]}))}catch(z){console.error("Error loading completed quests:",z)}if(S.value=null,R.activeQuest)try{const z={...R.activeQuest,goals:Array.isArray(R.activeQuest.goals)?R.activeQuest.goals.map(J=>({...J,requiredAmount:s(J.requiredAmount||0),currentAmount:s(J.currentAmount||0)})):[]};S.value=z}catch(z){console.error("Error loading active quest:",z)}const H=_.value.map(z=>z.id),ve=(ye=S.value)==null?void 0:ye.id;M.value=M.value.filter(z=>!H.includes(z.id)&&z.id!==ve),M.value=M.value.filter(z=>qn(z,t)),R.foodAtQuestStart&&(C.value=s(R.foodAtQuestStart)),R.pheromoneAtQuestStart&&(w.value=s(R.pheromoneAtQuestStart)),console.log(`Loaded ${M.value.length} available quests, ${_.value.length} completed quests, active quest: ${((D=S.value)==null?void 0:D.id)||"none"}`)},te=()=>{var R;return{activeTab:i.value,activeQuestId:((R=S.value)==null?void 0:R.id)||null,availableQuests:M.value.map(H=>({...H,goals:H.goals.map(ve=>({...ve,requiredAmount:ve.requiredAmount.toString(),currentAmount:ve.currentAmount.toString()}))})),activeQuest:S.value?{...S.value,goals:S.value.goals.map(H=>({...H,requiredAmount:H.requiredAmount.toString(),currentAmount:H.currentAmount.toString()}))}:null,completedQuests:_.value.map(H=>({...H,goals:H.goals.map(ve=>({...ve,requiredAmount:ve.requiredAmount.toString(),currentAmount:ve.currentAmount.toString()}))})),autoStartNextQuest:P.value,questQueue:y.value,filters:{sortOption:d.value,filterQuestType:m.value,filterRewardType:b.value,filterText:x.value,showTooStrongBugs:h.value,gridDensity:c.value},foodAtQuestStart:C.value.toString(),pheromoneAtQuestStart:w.value.toString()}},ae=()=>{M.value=[],_.value=[],S.value=null,C.value=s(0),w.value=s(0),Z(),console.log("Quests reset to initial state")},F=()=>{ae(),console.log("Quests reset for ascension")},E=(R,H)=>{if(console.log("Updating defeat bug progress for bugId:",R,"with quantity:",H),!S.value||!S.value.goals)return;let ve=!1;for(const ye of S.value.goals){if(ye.type!==mt.KILL_BUGS||ye.target&&ye.target!==R)continue;let D=typeof ye.currentAmount=="string"?s(ye.currentAmount):ye.currentAmount;D=D.add(H),ye.currentAmount=D.toString(),ve=!0}ve&&Se()},N=R=>{S.value&&Se()},me=R=>{if(y.value.includes(R))return l("This quest is already in the queue","warning"),!1;const H=M.value.find(ve=>ve.id===R);return H?(y.value.push(R),l(`Added "${H.title}" to the quest queue`,"success"),!0):(console.error(`Quest with ID ${R} not found in available quests`),!1)},ie=R=>{const H=y.value.length;if(y.value=y.value.filter(ve=>ve!==R),y.value.length<H){const ve=M.value.find(ye=>ye.id===R);return ve&&l(`Removed "${ve.title}" from the quest queue`,"info"),!0}return!1},O=R=>{if(!R.length)return!1;let H=0,ve=0;for(const ye of R){if(y.value.includes(ye)){ve++;continue}M.value.find(z=>z.id===ye)&&(y.value.push(ye),H++)}return H>0?(l(`Added ${H} quests to the queue`,"success"),!0):(ve>0?l("All selected quests are already in the queue","warning"):l("No quests added to queue","warning"),H>0)},$=(R,H)=>{if(R<0||R>=y.value.length||H<0||H>=y.value.length)return!1;const ve=y.value[R];return y.value.splice(R,1),y.value.splice(H,0,ve),!0},A=()=>{if(y.value.length===0)return!1;const R=y.value[0];return pe(R)?(y.value.shift(),!0):!1},Q=()=>{y.value=[],l("Quest queue cleared","info")},ne=()=>(P.value=!P.value,P.value),re=R=>M.value.find(H=>H.id===R),V=()=>{I.value=!0},be=()=>{I.value=!1};return Z(),{activeTab:i,availableQuests:M,activeQuest:S,completedQuests:_,isQuestsUnlocked:u,gridDensity:c,questQueue:y,autoStartNextQuest:P,isQueueModalOpen:I,foodAtQuestStart:C,pheromoneAtQuestStart:w,sortOption:d,filterQuestType:m,filterRewardType:b,filterText:x,showTooStrongBugs:h,filteredAvailableQuests:U,filteredCompletedQuests:q,startQuest:pe,cancelQuest:ce,isQuestComplete:Se,completeQuest:ke,tick:K,updateDefeatBugProgress:E,trackFoodGain:fe,trackPheromoneGain:we,setQuestTypeFilter:le,setRewardTypeFilter:X,setSortOption:W,setTextFilter:j,setShowTooStrongBugs:T,clearFilters:k,getSaveState:de,loadState:oe,getState:te,resetQuests:ae,resetForAscension:F,updateQuestProgress:N,addQuestToQueue:me,removeQuestFromQueue:ie,reorderQuestQueue:$,startNextQuestFromQueue:A,clearQuestQueue:Q,toggleAutoStartNextQuest:ne,getAvailableQuestById:re,openQueueModal:V,closeQueueModal:be,addMultipleQuestsToQueue:O}}),St=ft("pheromoneEssence",()=>{const e=B(s(0)),t=B(s(0)),o=Vt(),n=L(()=>ge(e.value,2)),a=L(()=>ge(t.value,2)),l=x=>{let h=1;switch(x.rarity){case"common":h=1;break;case"uncommon":h=3;break;case"rare":h=10;break;case"epic":h=25;break;case"legendary":h=75;break;case"mythic":h=200;break;case"divine":h=500;break;default:h=1}return h=h*(1+(x.level.toNumber()-1)*.5),x.maxXp.gt(0)&&(h=h*(1+x.xp.div(x.maxXp).toNumber()*.2)),s(Math.round(h))};return{pheromoneEssence:e,totalCollectedEssence:t,formattedPheromoneEssence:n,formattedTotalCollectedEssence:a,calculateSalvageValue:l,addPheromoneEssence:x=>{const h=x.mul(o.getPheromoneGainMultiplier());e.value=e.value.add(h),t.value=t.value.add(h);try{ht().trackPheromoneGain(h)}catch(C){console.error("Error tracking pheromone gain for quests:",C)}try{bt().updateMegacolonyProgress(h)}catch(C){console.error("Error updating megacolony progress:",C)}return h},spendPheromoneEssence:x=>e.value.lt(x)?!1:(e.value=e.value.sub(x),!0),salvageItem:x=>{if(!x)return{success:!1,message:"Item not found"};const h=l(x),C=o.getPheromoneGainMultiplier(),w=h.mul(C);e.value=e.value.add(w),t.value=t.value.add(w);let M=`Salvaged ${x.name} (Lvl ${x.level.toString()}) for ${ge(w)} Pheromone Essence`;if(C.gt(1)){const S=ge(h),_=ge(w.sub(h));M=`Salvaged ${x.name} (Lvl ${x.level.toString()}) for ${S} + ${_} bonus Pheromone Essence`}return{success:!0,message:M,salvageValue:w}},resetForAscension:()=>{e.value=s(0)},getState:()=>({pheromoneEssence:e.value.toString(),totalCollectedEssence:t.value.toString()}),loadState:x=>{x.pheromoneEssence&&(e.value=s(x.pheromoneEssence)),x.totalCollectedEssence&&(t.value=s(x.totalCollectedEssence))}}});function Wf(){const e=B([]),t=(l,i)=>{const u=`${l}-${Date.now()}-${Math.random().toString(36).substring(2,9)}`;return e.value.push({id:u,itemId:l,amount:i,timestamp:Date.now()}),setTimeout(()=>{n(u)},2e3),u},o=(l,i)=>{const u=e.value.find(c=>c.id===l);u&&(u.position=i)},n=l=>{const i=e.value.findIndex(u=>u.id===l);i!==-1&&e.value.splice(i,1)};return{indicators:e,addXpIndicator:t,updateIndicatorPosition:o,removeXpIndicator:n,getItemIndicators:l=>e.value.filter(i=>i.itemId===l)}}const Pt=ft("inventory",()=>{const e=dt(),t=Ve();ir();const o=B([]),n=20,a=B([]),l=10,i=L(()=>t.getUpgradeCount("equipmentSlots")),u=B(!0),c=L(()=>t.getUpgradeCount("unlockAutoSalvage").gt(0)),d=L(()=>t.getUpgradeCount("unlockSalvageAll").gt(0)),m=B("default"),b=B("none"),x=B("equipment"),h=B({equipmentStats:!1,combatStats:!1,specialModifiers:!1,productionModifiers:!1}),C=A=>{h.value[A]=!h.value[A]},w=A=>{x.value=A},M=L(()=>{const A=s(n),Q=t.getUpgradeMultiplier("inventorySlots");return A.add(Q)}),S=L(()=>l),_=Wf(),{indicators:y,addXpIndicator:P}=_,I=()=>{const A=dt();a.value.forEach(Q=>{if(Q.item&&!o.value.some(re=>re.id===Q.item||typeof re.id=="string"&&typeof Q.item=="string"&&re.id.trim()===Q.item.trim())){const re=A.getItem(Q.item);if(re){const V=s(1),be=s(0),R=A.calculateMaxXp(V,re.rarity);o.value.push({...re,level:V,xp:be,maxXp:R,isLocked:Q.itemIsLocked||!1})}else console.warn(`Item with ID ${Q.item} not found in item store but referenced in equipment.`)}})},U=()=>{a.value.forEach(A=>{A.item&&(Object.prototype.hasOwnProperty.call(A,"itemIsLocked")?A.itemIsLocked===void 0&&(A.itemIsLocked=!1):A.itemIsLocked=!1)})},q=()=>{const A=a.value.map(re=>({id:re.id!==void 0?re.id:0,item:re.item,locked:re.locked,itemIsLocked:re.itemIsLocked})),Q=[],ne=S.value;for(let re=0;re<ne;re++){const V=A.find(H=>H.id===re||typeof H.id=="string"&&parseInt(H.id)===re),be=re>=i.value.toNumber(),R=(V==null?void 0:V.item)!==null&&(V==null?void 0:V.item)!==void 0;Q.push({id:re,item:(V==null?void 0:V.item)||null,locked:R?!1:be,itemIsLocked:(V==null?void 0:V.itemIsLocked)||!1})}a.value=Q,I()},k=A=>e.getItem(A),W=L(()=>{const A={damage:he.fromNumber(0),health:he.fromNumber(0),regen:he.fromNumber(0),defense:he.fromNumber(0)};return a.value.forEach(Q=>{if(Q.item){const ne=o.value.find(re=>re.id===Q.item);if(ne){const re=e.getItemStats(ne);re&&(re.damage&&(A.damage=A.damage.plus(re.damage)),re.health&&(A.health=A.health.plus(re.health)),re.regen&&(A.regen=A.regen.plus(re.regen)),re.defense&&(A.defense=A.defense.plus(re.defense)))}}}),A}),le=L(()=>{const A={};return a.value.forEach(Q=>{if(Q.item){const ne=o.value.find(re=>re.id===Q.item);if(ne){const re=e.getItemProductionModifiers(ne);re&&Object.entries(re).forEach(([V,be])=>{A[V]||(A[V]=he.fromNumber(1)),A[V]=A[V].add(be)})}}}),Object.fromEntries(Object.entries(A).filter(([Q,ne])=>ne.gt(1)))}),X=L(()=>{const A={epBoost:he.fromNumber(1),global:he.fromNumber(1)};return a.value.forEach(Q=>{if(Q.item){const ne=o.value.find(re=>re.id===Q.item);if(ne){const re=e.getItemSpecialModifiers(ne);re&&Object.entries(re).forEach(([V,be])=>{A[V]||(A[V]=he.fromNumber(1)),A[V]=A[V].add(be)})}}}),A}),j=A=>{const Q=o.value.findIndex(re=>re.id===A);if(Q!==-1)return{location:"inventory",index:Q};const ne=a.value.findIndex(re=>re.item===A);return ne!==-1?{location:"equipment",index:ne}:null},T=(A,Q)=>{const ne=dt();let re=!1;for(A.xp=A.xp.add(Q),Q.gt(0)&&P(A.id,Q);A.xp.gte(A.maxXp);)A.level=A.level.add(1),re=!0,A.xp=A.xp.sub(A.maxXp),A.maxXp=ne.calculateMaxXp(A.level,A.rarity);return{leveledUp:re,newLevel:A.level}},K=()=>{dt();const A=new Set;for(let Q=0;Q<o.value.length;Q++)for(let ne=Q+1;ne<o.value.length;ne++)if(o.value[Q].id===o.value[ne].id){A.add(o.value[Q].id);break}A.forEach(Q=>{const ne=o.value.filter(R=>R.id===Q);if(ne.length<=1)return;let re=ne[0];const V=[...ne];for(let R=1;R<ne.length;R++)ne[R].level.gt(re.level)&&(re=ne[R]);const be=V.findIndex(R=>R===re);be!==-1&&V.splice(be,1),V.forEach(R=>{let H=he.fromNumber(5);H=H.add(R.level.mul(3)),R.maxXp.gt(0)&&(H=H.add(R.xp.div(R.maxXp).mul(5))),T(re,H)}),o.value=o.value.filter(R=>R===re||R.id!==Q)})},fe=()=>{K()},we=(A,Q=he.fromNumber(5),ne=!1)=>{const re=dt();ir();const V=j(A),be=re.getItem(A);if(!be)return;if(Q.eq(1)){const ve={common:2,uncommon:5,rare:12,epic:30,legendary:75,mythic:180,divine:450}[be.rarity]||5;Q=s(Math.round(ve))}if(V){let H;if(V.location==="inventory")H=o.value[V.index];else{const ve=a.value[V.index].item;if(!ve)return;const ye=o.value.findIndex(D=>D.id===ve);if(ye===-1){const D=re.createItem(A,he.fromNumber(1),he.fromNumber(0));if(!D)return;D.isLocked=ne,o.value.push(D);return}H=o.value[ye]}T(H,Q);return}const R=re.createItem(A);R&&(R.isLocked=ne,o.value.push(R),ce())},Se=A=>{o.value.splice(A,1),fe()},pe=(A,Q,ne)=>{if(ne<0||ne>=o.value.length)return console.error("Invalid inventory index"),!1;if(Q<0||Q>=a.value.length)return console.error("Invalid equipment slot index"),!1;const re=a.value[Q];if(re.locked)return console.error("Cannot equip to a locked slot"),!1;if(re.item&&(re.itemIsLocked,!ke(Q)))return console.error("Failed to unequip current item"),!1;const V=o.value[ne].isLocked||!1;return re.item=A,re.itemIsLocked=V,!0},ce=()=>{o.value.sort((A,Q)=>{const ne={common:0,uncommon:1,rare:2,epic:3,legendary:4,mythic:5,divine:6},re=(ne[Q.rarity]||0)-(ne[A.rarity]||0);return re!==0?re:Q.level.cmp(A.level)})},ke=A=>{if(A<0||A>=a.value.length)return!1;const Q=a.value[A];if(!Q.item||Q.locked)return!1;const ne=Q.item;return!o.value.find(V=>V.id===ne)&&s(o.value.length).gte(M.value)?!1:(Q.itemIsLocked,Q.item=null,Q.itemIsLocked=!1,!0)},ue=St(),Z=ue.formattedPheromoneEssence,de=A=>{let Q=1;switch(A.rarity){case"common":Q=1;break;case"uncommon":Q=3;break;case"rare":Q=10;break;case"epic":Q=25;break;case"legendary":Q=75;break;case"mythic":Q=200;break;case"divine":Q=500;break;default:Q=1}return Q=Q*(1+(A.level.toNumber()-1)*.5),A.maxXp.gt(0)&&(Q=Q*(1+A.xp.div(A.maxXp).toNumber()*.2)),s(Math.round(Q))},oe=A=>{if(A<0||A>=o.value.length)return{success:!1,message:"Item not found"};const Q=o.value[A];if(Q.isLocked)return{success:!1,message:"This item is locked. Unlock it first to salvage."};de(Q);const re=St().salvageItem(Q);return re.success&&o.value.splice(A,1),re},te=()=>{if(!d.value)return;const A=o.value.filter(ne=>!ne.isLocked);let Q=s(0);A.forEach(ne=>{const re=de(ne);Q=Q.add(re)}),Q.gt(0)&&(St().addPheromoneEssence(Q),o.value=o.value.filter(re=>re.isLocked))},ae=()=>{c.value&&(u.value=!u.value)},F=A=>{const Q=a.value.find(re=>re.item===A);if(Q&&Q.itemIsLocked)return!0;const ne=o.value.find(re=>re.id===A);return!!(ne&&ne.isLocked)},E=(A,Q)=>{const ne=o.value.find(re=>re.id===A);ne&&(ne.isLocked=Q),a.value.forEach(re=>{re.item===A&&(re.itemIsLocked=Q)})},N=A=>{const Q=o.value[A];if(!Q)return!1;const ne=F(Q.id);return E(Q.id,!ne),!0},me=A=>{const Q=a.value[A];if(!Q||Q.locked||!Q.item)return!1;const ne=F(Q.item);return E(Q.item,!ne),!0},ie=()=>({inventory:o.value.map(A=>({id:A.id,level:A.level.toString(),xp:A.xp.toString(),isLocked:A.isLocked})),equipmentSlots:a.value.map(A=>({id:A.id,item:A.item,locked:A.locked,itemIsLocked:A.itemIsLocked})),maxInventorySlots:M.value.toString(),selectedInventorySort:m.value,selectedInventoryFilter:b.value,collapsedSections:h.value,activeTab:x.value}),O=A=>{const Q=dt();let ne=[];if(A.inventory&&(ne=A.inventory.map(V=>{const be=Q.getItem(V.id);if(!be)return null;let R=s(1);V.mergeLevel?R=s(s(V.mergeLevel).mul(2)):R=V.level?s(V.level):s(1);const H=V.xp?s(V.xp):s(0),ve=Q.calculateMaxXp(R,be.rarity);return{...be,level:R,xp:H,maxXp:ve,isLocked:V.isLocked||!1}}).filter(Boolean)),A.equipmentSlots){const V=A.equipmentSlots.map((be,R)=>{if(be.item&&be.mergeLevel!==void 0){const H=Q.getItem(be.item);if(H){const ve=s(be.mergeLevel).mul(2),ye=s(0),D=Q.calculateMaxXp(ve,H.rarity),z={...H,level:ve,xp:ye,maxXp:D,isLocked:be.itemIsLocked||!1};ne.push(z)}}return{id:be.id!==void 0?be.id:R,item:be.item,locked:be.locked,itemIsLocked:be.itemIsLocked||!1}});a.value=V}q(),ne.sort((V,be)=>be.level.cmp(V.level));const re=new Map;ne.forEach(V=>{(!re.has(V.id)||V.level.gt(re.get(V.id).level))&&re.set(V.id,V)}),o.value=Array.from(re.values()),A.selectedInventorySort&&(m.value=A.selectedInventorySort),A.selectedInventoryFilter&&(b.value=A.selectedInventoryFilter),A.collapsedSections&&(h.value=A.collapsedSections),A.activeTab&&(x.value=A.activeTab),ce()},$=(A,Q)=>{P(A,Q)};return{inventory:o,maxInventorySlots:M,equipmentSlots:a,maxEquipmentSlots:S,unlockedEquipmentSlots:i,totalStats:W,totalProductionModifiers:le,totalSpecialModifiers:X,collapsedSections:h,toggleSection:C,addItem:we,removeItem:Se,equipItem:pe,unequipItem:ke,stackItems:fe,getState:ie,loadState:O,getItem:k,initializeEquipmentSlots:q,pheromoneEssence:ue.pheromoneEssence,formattedPheromoneEssence:Z,salvageItem:oe,calculateSalvageValue:de,salvageAll:te,isSalvageAllUnlocked:d,toggleItemLock:N,toggleEquippedItemLock:me,isItemLocked:F,migrateEquippedItemsLockStatus:U,setItemLockStatus:E,isAutoSalvageEnabled:u,isAutoSalvageUnlocked:c,toggleAutoSalvage:ae,selectedInventorySort:m,selectedInventoryFilter:b,activeTab:x,setActiveTab:w,addItemXp:T,xpIndicators:y,..._,triggerXpIndicator:$}}),zf=()=>{const e=[100,1e3,1e4,1e5,1e6,1e7,1e8,"1e9","1e10","1e12","1e15","1e18","1e21","1e24","1e27","1e30","1e33","1e36","1e40","1e45","1e50","1e60","1e70","1e80","1e90","1e100","1e120","1e150","1e200","1e250","1e300","1e350","1e400","1e450","1e500"],t=["Hungry Beginnings","First Snack","Food Stock","Small Pantry","Food Hoarder","Nutritional Wealth","Food Supply Chain","Food Mountain","Endless Buffet","Food Empire","Quantum Nutrients","Interdimensional Feast","Sextillion Snack","Septillion Supper","Octillion Omelets","Nonillion Nourishment","Decillion Dinner","Undecillion Utopia","Duodecillion Delicacies","Tredecillion Treats","Quattuordecillion Quantities","Quintillion Quotient","Sextillion Surplus","Septillion Stores","Octillion Overstock","Googol Gastronomy","Trigintillion Triumph","Quantum Realm Cuisine","Cosmic Consumables","Universal Eatery","Multiversal Meals","Hyperdimensional Hunger","Transcendent Treats","Infinite Ingestion","Unlimited Appetite"],o=e.map(l=>`Collect ${l} food in total`),a=(()=>{const l=[];for(let u=0;u<5;u++){const c=1.02+u*.02;l.push({target:"worker",multiplier:c,description:`Worker production +${Math.round((c-1)*100)}%`})}for(let u=0;u<3;u++){const c=1.05+u*.05;l.push({target:"nursery",multiplier:c,description:`Nursery production +${Math.round((c-1)*100)}%`})}for(let u=0;u<3;u++){const c=1.05+u*.05;l.push({target:"queenChamber",multiplier:c,description:`Queen Chamber production +${Math.round((c-1)*100)}%`})}for(let u=0;u<3;u++){const c=1.05+u*.05;l.push({target:"colony",multiplier:c,description:`Colony production +${Math.round((c-1)*100)}%`})}for(let u=0;u<3;u++){const c=1.05+u*.05;l.push({target:"megacolony",multiplier:c,description:`Megacolony production +${Math.round((c-1)*100)}%`})}for(let u=0;u<2;u++){const c=1.05+u*.05;l.push({target:"hivemind",multiplier:c,description:`Hivemind production +${Math.round((c-1)*100)}%`})}for(let u=0;u<2;u++){const c=1.05+u*.05;l.push({target:"antopolis",multiplier:c,description:`Antopolis production +${Math.round((c-1)*100)}%`})}const i=e.length-l.length;for(let u=0;u<i;u++){let c;u<5?c=3+u*2:u<8?c=15+(u-5)*5:c=30+(u-8)*10,l.push({target:"global",multiplier:1+c/100,description:`All generators +${c}%`})}return l})();return e.map((l,i)=>({id:`food-${i+1}`,name:t[i],description:o[i],categoryId:"general",icon:"i-heroicons-cake",requirement:s(l),currentValue:s(0),completed:!1,completionDate:void 0,rewardDescription:a[i].description,hiddenUntilCompleted:!1,targetStat:"totalFood",modifiers:[{target:a[i].target,multiplier:s(a[i].multiplier),formatMultiplier:u=>`+${Ct(u.sub(1).mul(100))} ${a[i].target==="global"?"all generators":`${a[i].target} production`}`}]}))},Xf=()=>{const e=[3600,86400,604800],t=["Dedicated","Ant Enthusiast","Colony Manager"],o=["Play for 1 hour in total","Play for 1 day in total","Play for 1 week in total"];return e.map((n,a)=>({id:`time-${a+1}`,name:t[a],description:o[a],categoryId:"general",icon:"i-heroicons-clock",requirement:s(n),currentValue:s(0),completed:!1,completionDate:void 0,hiddenUntilCompleted:!1,targetStat:"totalGameTime"}))},Kf=()=>{const e=[10,100,1e3,1e6,1e9,1e12,1e15,1e20,1e25,1e30,1e40,1e50,1e60,1e75,1e90,1e100,1e125,1e150,1e175,1e200,1e225,1e250,1e275,1e300,1/0,1/0,1/0,1/0,1/0],t=["First Workers","Worker Army","Worker Legion","Worker Nation","Worker Empire","Worker Planet","Worker Galaxy","Worker Universe","Worker Dimension","Worker Multiverse","Worker Hyperverse","Worker Omniverse","Worker Xenoverse","Worker Megaverse","Worker Gigaverse","Worker Teraverse","Worker Petaverse","Worker Exaverse","Worker Zettaverse","Worker Yottaverse","Worker Xennaverse","Worker Wekaverse","Worker Vendaverse","Worker Udaverse","Worker Tredaverse","Worker Sornaverse","Worker Rinnaverse","Worker Quentaverse","Worker Immortal Empire"],o=["Have 10 worker ants","Have 100 worker ants","Have 1,000 worker ants","Have a million worker ants","Have a billion worker ants","Have a trillion worker ants","Have a quadrillion worker ants","Have 1e20 worker ants","Have 1e25 worker ants","Have 1e30 worker ants","Have 1e40 worker ants","Have 1e50 worker ants","Have 1e60 worker ants","Have 1e75 worker ants","Have 1e90 worker ants","Have 1e100 worker ants","Have 1e125 worker ants","Have 1e150 worker ants","Have 1e175 worker ants","Have 1e200 worker ants","Have 1e225 worker ants","Have 1e250 worker ants","Have 1e275 worker ants","Have 1e300 worker ants","Have 1e325 worker ants","Have 1e350 worker ants","Have 1e400 worker ants","Have 1e450 worker ants","Have 1e500 worker ants"],n=[null,null,{multiplier:1.05,description:"Worker production +5%"},{multiplier:1.1,description:"Worker production +10%"},{multiplier:1.15,description:"Worker production +15%"},{multiplier:1.2,description:"Worker production +20%"},{multiplier:1.25,description:"Worker production +25%"},{multiplier:1.3,description:"Worker production +30%"},{multiplier:1.35,description:"Worker production +35%"},{multiplier:1.4,description:"Worker production +40%"},{multiplier:1.45,description:"Worker production +45%"},{multiplier:1.5,description:"Worker production +50%"},{multiplier:1.55,description:"Worker production +55%"},{multiplier:1.6,description:"Worker production +60%"},{multiplier:1.65,description:"Worker production +65%"},{multiplier:1.68,description:"Worker production +68%"},{multiplier:1.71,description:"Worker production +71%"},{multiplier:1.74,description:"Worker production +74%"},{multiplier:1.77,description:"Worker production +77%"},{multiplier:1.8,description:"Worker production +80%"},{multiplier:1.83,description:"Worker production +83%"},{multiplier:1.86,description:"Worker production +86%"},{multiplier:1.89,description:"Worker production +89%"},{multiplier:1.92,description:"Worker production +92%"},{multiplier:1.94,description:"Worker production +94%"},{multiplier:1.96,description:"Worker production +96%"},{multiplier:1.98,description:"Worker production +98%"},{multiplier:1.99,description:"Worker production +99%"},{multiplier:2,description:"Worker production +100%"}];return e.map((a,l)=>{const i={id:`workers-${l+1}`,name:t[l],description:o[l],categoryId:"colony",icon:"i-heroicons-bug-ant",requirement:s(a),currentValue:s(0),completed:!1,completionDate:void 0,hiddenUntilCompleted:l>5,targetStat:"workers"};return n[l]&&(i.rewardDescription=n[l].description,i.modifiers=[{target:"worker",multiplier:s(n[l].multiplier),formatMultiplier:u=>`+${Ct(u.sub(1).mul(100))} worker production`}]),i})},Yf=()=>{const e=[1,5,10,25,50,100],t=["First Evolution","Evolving Species","Evolution Expert","Evolution Master","Darwin Would Be Proud","Evolutionary Apex"],o=e.map(a=>`Perform ${a} evolution${a>1?"s":""}`),n=[null,{multiplier:1.02,description:"All generators +2%"},null,{multiplier:1.05,description:"All generators +5%"},{multiplier:1.1,description:"All generators +10%"},{multiplier:1.2,description:"All generators +20%"}];return e.map((a,l)=>{const i={id:`evolution-${a===1?"1":a}`,name:t[l],description:o[l],categoryId:"evolution",icon:"i-heroicons-sparkles",requirement:s(a),currentValue:s(0),completed:!1,completionDate:void 0,hiddenUntilCompleted:!1,targetStat:"totalEvolutions"};return n[l]&&(i.rewardDescription=n[l].description,i.modifiers=[{target:"global",multiplier:s(n[l].multiplier),formatMultiplier:u=>`+${Ct(u.sub(1).mul(100))} all generators`}]),i})},Jf=()=>{const e=[10,25,50],t=["Loop Master","Loop Expert","Loop Legend"],o=e.map(a=>`Complete ${a} loops in a single evolution`),n=[null,null,{multiplier:1.1,description:"Evolution Points +10%"}];return e.map((a,l)=>{const i={id:`loops-${l+1}`,name:t[l],description:o[l],categoryId:"evolution",icon:"i-heroicons-arrow-path",requirement:s(a),currentValue:s(0),completed:!1,completionDate:void 0,hiddenUntilCompleted:!1,targetStat:"maxLoopsInEvolution"};return n[l]&&(i.rewardDescription=n[l].description,i.modifiers=[{target:"ep",multiplier:s(n[l].multiplier),formatMultiplier:u=>`+${Ct(u.sub(1).mul(100))} evolution points`}]),i})},Zf=()=>{const e=[10,100,1e3],t=["Evolution Points","Evolution Wealth","Evolution Fortune"],o=e.map(a=>`Earn ${a} evolution points in total`),n=[null,null,{multiplier:1.05,description:"Evolution Points +5%"}];return e.map((a,l)=>{const i={id:`ep-${l+1}`,name:t[l],description:o[l],categoryId:"evolution",icon:"i-heroicons-bolt",requirement:s(a),currentValue:s(0),completed:!1,completionDate:void 0,hiddenUntilCompleted:!1,targetStat:"totalEvolutionPoints"};return n[l]&&(i.rewardDescription=n[l].description,i.modifiers=[{target:"ep",multiplier:s(n[l].multiplier),formatMultiplier:u=>`+${Ct(u.sub(1).mul(100))} evolution points`}]),i})},Nn=(e,t,o,n,a=null,l=1.2)=>{const i=n.map((d,m)=>m===0?`First ${t}`:m===1?`${t} Network`:m===2?`${t} Empire`:m===3?`${t} Dominion`:m===4?`${t} Supremacy`:m===5?`${t} Mastery`:m===6?`${t} Abundance`:m===7?`${t} Legacy`:m===8?`${t} Infinity`:m===9?`Cosmic ${t}`:m===10?`Galactic ${t}`:m===11?`Universal ${t}`:m===12?`Multiversal ${t}`:m===13?`Transcendent ${t}`:`Omnipotent ${t}`),u=n.map(d=>{const m=String(d);let b;if(m.includes("e")){const[x,h]=m.split("e"),C=parseInt(h,10);if(C<6)b=Number(m).toLocaleString();else if(C<21){const w=["Million","Million","Million","Billion","Billion","Billion","Trillion","Trillion","Trillion","Quadrillion","Quadrillion","Quadrillion","Quintillion","Quintillion","Quintillion"],M=C-6,S=w[M];b=`${(Math.pow(10,C%3)*parseFloat(x)).toFixed(2)} ${S}`}else b=`10^${h}`}else Number(m)>=1e6?b=`${(Number(m)/1e6).toFixed(1)}M`:Number(m)>=1e3?b=`${(Number(m)/1e3).toFixed(1)}K`:b=m;return`Have ${b} ${t.toLowerCase()}${Number(m)>1?"s":""}`}),c={nursery:"nurseries",queenChamber:"queenChambers",colony:"colonies",megacolony:"megacolonies",hivemind:"hiveminds",antopolis:"antopolis"};return n.map((d,m)=>{const b={id:`${e.toLowerCase()}-${m+1}`,name:i[m],description:u[m],categoryId:"colony",icon:o,requirement:s(d),currentValue:s(0),completed:!1,completionDate:void 0,hiddenUntilCompleted:m>4,targetStat:c[e]||`${e.toLowerCase()}s`};if(a!==null&&m===a){const x=Math.round((l-1)*100);b.rewardDescription=`${t} production +${x}%`,b.modifiers=[{target:e,multiplier:s(l),formatMultiplier:h=>`+${Ct(h.sub(1).mul(100))} ${e.toLowerCase()} production`}]}if(m>5){const x=Math.min(1,.1+(m-5)*.05),h=Math.round(x*100);if(b.rewardDescription=`${t} production +${h}%`,b.modifiers=[{target:e,multiplier:s(1+x),formatMultiplier:C=>`+${Ct(C.sub(1).mul(100))} ${e.toLowerCase()} production`}],m>=10){const C=.05+(m-10)*.05,w=Math.round(C*100);b.rewardDescription+=` and all generators +${w}%`,b.modifiers.push({target:"global",multiplier:s(1+C),formatMultiplier:M=>`+${Ct(M.sub(1).mul(100))} all generators`})}}return b})},eg=()=>[{id:"megacolony",name:"Mega Colony",displayName:"Mega Expansion",icon:"i-heroicons-building-office-2",statName:"megacolonies"},{id:"hivemind",name:"Hive Mind",displayName:"Collective Consciousness",icon:"i-heroicons-cpu-chip",statName:"hiveminds"},{id:"antopolis",name:"Antopolis",displayName:"Ant City",icon:"i-heroicons-building-library",statName:"antopolis"}].map(t=>({id:`${t.id}-1`,name:t.displayName,description:`Have your first ${t.name.toLowerCase()}`,categoryId:"colony",icon:t.icon,requirement:s(1),currentValue:s(0),completed:!1,completionDate:void 0,rewardDescription:`${t.name} production +5%`,hiddenUntilCompleted:!1,targetStat:t.statName,modifiers:[{target:t.id,multiplier:s(1.05),formatMultiplier:o=>`+${Ct(o.sub(1).mul(100))} ${t.id} production`}]})),tg=()=>({id:"adventure-unlock",name:"Adventure Begins",description:"Unlock adventure mode",categoryId:"adventure",icon:"i-heroicons-map",requirement:s(1),currentValue:s(0),completed:!1,completionDate:void 0,rewardDescription:"",hiddenUntilCompleted:!0}),rg=()=>[{id:"general",name:"General",description:"General game achievements",icon:"i-heroicons-trophy",sortOrder:0,achievements:[]},{id:"colony",name:"Colony",description:"Achievements related to your ant colony",icon:"i-heroicons-bug-ant",sortOrder:1,achievements:[]},{id:"evolution",name:"Evolution",description:"Achievements related to evolution progress",icon:"i-heroicons-sparkles",sortOrder:2,achievements:[]},{id:"adventure",name:"Adventure",description:"Achievements related to adventure mode",icon:"i-heroicons-map",sortOrder:3,achievements:[]}],og=()=>{const e=[10,100,1e3,1e4,1e5,"1e6","1e9","1e12","1e15","1e20","1e30","1e50","1e75","1e100","1e150","1e200","1e250"],t=[10,100,1e3,1e4,"1e5",...e.slice(5)];return[...zf(),...Xf(),...Kf(),...Nn("nursery","Nursery","i-heroicons-home-modern",e,4,1.2),...Nn("queenChamber","Queen Chamber","i-heroicons-crown",e,4,1.1),...Nn("colony","Colony","i-heroicons-building-storefront",t,3,1.05),...eg(),...Yf(),...Zf(),...Jf(),tg()]},Wc=rg(),zc=og();zc.forEach(e=>{const t=Wc.find(o=>o.id===e.categoryId);t&&t.achievements.push(e)});function Da(e){return pa()?(du(e),!0):!1}const On=new WeakMap,sg=(...e)=>{var t;const o=e[0],n=(t=ds())==null?void 0:t.proxy;if(n==null&&!Sa())throw new Error("injectLocal must be called in setup");return n&&On.has(n)&&o in On.get(n)?On.get(n)[o]:Gt(...e)},ng=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ag=e=>e!=null,lg=Object.prototype.toString,ig=e=>lg.call(e)==="[object Object]",Li=()=>{};function ug(e,t){function o(...n){return new Promise((a,l)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(a).catch(l)})}return o}function cg(e,t={}){let o,n,a=Li;const l=c=>{clearTimeout(c),a(),a=Li};let i;return c=>{const d=vr(e),m=vr(t.maxWait);return o&&l(o),d<=0||m!==void 0&&m<=0?(n&&(l(n),n=null),Promise.resolve(c())):new Promise((b,x)=>{a=t.rejectOnCancel?x:b,i=c,m&&!n&&(n=setTimeout(()=>{o&&l(o),n=null,b(i())},m)),o=setTimeout(()=>{n&&l(n),n=null,b(c())},d)})}}function Ii(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function Rs(e){return Array.isArray(e)?e:[e]}function dg(e){return ds()}function mg(e,t=200,o={}){return ug(cg(t,o),e)}function Xc(e,t=!0,o){dg()?He(e,o):t?e():cs(e)}function pg(e,t,o){return De(e,t,{...o,immediate:!0})}const fs=ng?window:void 0;function Ao(e){var t;const o=vr(e);return(t=o==null?void 0:o.$el)!=null?t:o}function ss(...e){const t=[],o=()=>{t.forEach(u=>u()),t.length=0},n=(u,c,d,m)=>(u.addEventListener(c,d,m),()=>u.removeEventListener(c,d,m)),a=L(()=>{const u=Rs(vr(e[0])).filter(c=>c!=null);return u.every(c=>typeof c!="string")?u:void 0}),l=pg(()=>{var u,c;return[(c=(u=a.value)==null?void 0:u.map(d=>Ao(d)))!=null?c:[fs].filter(d=>d!=null),Rs(vr(a.value?e[1]:e[0])),Rs(f(a.value?e[2]:e[1])),vr(a.value?e[3]:e[2])]},([u,c,d,m])=>{if(o(),!(u!=null&&u.length)||!(c!=null&&c.length)||!(d!=null&&d.length))return;const b=ig(m)?{...m}:m;t.push(...u.flatMap(x=>c.flatMap(h=>d.map(C=>n(x,h,C,b)))))},{flush:"post"}),i=()=>{l(),o()};return Da(o),i}function fg(){const e=Ut(!1),t=ds();return t&&He(()=>{e.value=!0},t),e}function qa(e){const t=fg();return L(()=>(t.value,!!e()))}function gg(e,t,o={}){const{window:n=fs,...a}=o;let l;const i=qa(()=>n&&"MutationObserver"in n),u=()=>{l&&(l.disconnect(),l=void 0)},c=L(()=>{const x=vr(e),h=Rs(x).map(Ao).filter(ag);return new Set(h)}),d=De(()=>c.value,x=>{u(),i.value&&x.size&&(l=new MutationObserver(t),x.forEach(h=>l.observe(h,a)))},{immediate:!0,flush:"post"}),m=()=>l==null?void 0:l.takeRecords(),b=()=>{d(),u()};return Da(b),{isSupported:i,stop:b,takeRecords:m}}const vg=Symbol("vueuse-ssr-width");function bg(){const e=Sa()?sg(vg,null):null;return typeof e=="number"?e:void 0}function Kc(e,t={}){const{window:o=fs,ssrWidth:n=bg()}=t,a=qa(()=>o&&"matchMedia"in o&&typeof o.matchMedia=="function"),l=Ut(typeof n=="number"),i=Ut(),u=Ut(!1),c=d=>{u.value=d.matches};return Wr(()=>{if(l.value){l.value=!a.value;const d=vr(e).split(",");u.value=d.some(m=>{const b=m.includes("not all"),x=m.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),h=m.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let C=!!(x||h);return x&&C&&(C=n>=Ii(x[1])),h&&C&&(C=n<=Ii(h[1])),b?!C:C});return}a.value&&(i.value=o.matchMedia(vr(e)),u.value=i.value.matches)}),ss(i,"change",c,{passive:!0}),L(()=>u.value)}function hg(e,t,o={}){const{window:n=fs,...a}=o;let l;const i=qa(()=>n&&"ResizeObserver"in n),u=()=>{l&&(l.disconnect(),l=void 0)},c=L(()=>{const b=vr(e);return Array.isArray(b)?b.map(x=>Ao(x)):[Ao(b)]}),d=De(c,b=>{if(u(),i.value&&n){l=new ResizeObserver(t);for(const x of b)x&&l.observe(x,a)}},{immediate:!0,flush:"post"}),m=()=>{u(),d()};return Da(m),{isSupported:i,stop:m}}function xg(e,t={}){const{reset:o=!0,windowResize:n=!0,windowScroll:a=!0,immediate:l=!0,updateTiming:i="sync"}=t,u=Ut(0),c=Ut(0),d=Ut(0),m=Ut(0),b=Ut(0),x=Ut(0),h=Ut(0),C=Ut(0);function w(){const S=Ao(e);if(!S){o&&(u.value=0,c.value=0,d.value=0,m.value=0,b.value=0,x.value=0,h.value=0,C.value=0);return}const _=S.getBoundingClientRect();u.value=_.height,c.value=_.bottom,d.value=_.left,m.value=_.right,b.value=_.top,x.value=_.width,h.value=_.x,C.value=_.y}function M(){i==="sync"?w():i==="next-frame"&&requestAnimationFrame(()=>w())}return hg(e,M),De(()=>Ao(e),S=>!S&&M()),gg(e,M,{attributeFilter:["style","class"]}),a&&ss("scroll",M,{capture:!0,passive:!0}),n&&ss("resize",M,{passive:!0}),Xc(()=>{l&&M()}),{height:u,bottom:c,left:d,right:m,top:b,width:x,x:h,y:C,update:M}}function dn(e={}){const{window:t=fs,initialWidth:o=Number.POSITIVE_INFINITY,initialHeight:n=Number.POSITIVE_INFINITY,listenOrientation:a=!0,includeScrollbar:l=!0,type:i="inner"}=e,u=Ut(o),c=Ut(n),d=()=>{if(t)if(i==="outer")u.value=t.outerWidth,c.value=t.outerHeight;else if(i==="visual"&&t.visualViewport){const{width:b,height:x,scale:h}=t.visualViewport;u.value=Math.round(b*h),c.value=Math.round(x*h)}else l?(u.value=t.innerWidth,c.value=t.innerHeight):(u.value=t.document.documentElement.clientWidth,c.value=t.document.documentElement.clientHeight)};d(),Xc(d);const m={passive:!0};if(ss("resize",d,m),t&&i==="visual"&&t.visualViewport&&ss(t.visualViewport,"resize",d,m),a){const b=Kc("(orientation: portrait)");De(b,()=>d())}return{width:u,height:c}}const Fi=[{id:"welcome",target:"#header-title",title:"Welcome to Idle Ant Farm!",content:"This tour will guide you through the basics of the game.",placement:"bottom"},{id:"resources",target:"#resource-counter",title:"Resources",content:"Here you can see your current resources. These are used to purchase upgrades and ants.",placement:"bottom"},{id:"generators",target:"#generator-section",title:"Generators",content:"Generators produce resources automatically. Purchase more to increase your production.",placement:"right"},{id:"colony",target:"#colony-tab",title:"Colony",content:"Click here to access your colony, and upgrade your ants.",placement:"bottom",route:"/colony"},{id:"prestige",target:"#prestige-section",title:"Prestige",content:"When you've progressed far enough, you can prestige to earn permanent bonuses.",placement:"left",route:"/prestige"},{id:"home",target:"#home-tab",title:"Home",content:"Return to the main screen to see your colony status.",placement:"bottom",route:"/"},{id:"complete",target:"#header-title",title:"Tour Complete!",content:"You now know the basics of Idle Ant Farm. Happy farming!",placement:"bottom"}],mn=ft("tourStore",()=>{const e=ur(),t=ps(),o=B(!1),n=B(0),a=B(Fi),l=B(!1),i=B(!1),u=B(null),c=B(null),{width:d,height:m,top:b,left:x,right:h,bottom:C,x:w,y:M,update:S}=xg(u),_=L(()=>a.value[n.value]||null),y=L(()=>n.value===0),P=L(()=>n.value===a.value.length-1),I=L(()=>a.value.length);De(()=>e.isCalculatingOfflineProgress,ke=>{i.value&&!ke&&(i.value=!1,l.value||setTimeout(()=>{j()},500))}),De(_,async ke=>{if(console.log("Current step changed",ke),!ke||!o.value){console.log("Skipping target update: no step or tour inactive");return}const ue=ke.target;if(ue){if(console.log("Looking for target element",ue),await new Promise(Z=>setTimeout(Z,100)),ue.startsWith("#")){const Z=ue.substring(1);u.value=document.getElementById(Z),console.log("Found target by ID",Z,u.value)}else u.value=document.querySelector(ue),console.log("Found target by selector",ue,u.value);u.value?(S(),console.log("Updated bounding box",{width:d.value,height:m.value,top:b.value,left:x.value}),W(),k()):console.warn(`Tour target element not found: ${ue}`)}});const U=ke=>{ke&&ke.length>0&&(a.value=ke)},q=()=>{a.value=Fi},k=()=>{if(console.log("Positioning tooltip",{targetElement:u.value,tooltipElement:c.value}),!u.value||!c.value){console.warn("Cannot position tooltip: missing elements",{targetElement:!!u.value,tooltipElement:!!c.value});return}const ke=u.value.getBoundingClientRect(),ue=c.value.getBoundingClientRect(),Z=20;console.log("Element rects",{targetRect:ke,tooltipRect:ue});let de=ke.left+ke.width/2-ue.width/2,oe=0,te="bottom";const ae=window.innerWidth,F=10;de=Math.max(F,Math.min(de,ae-ue.width-F)),window.innerHeight-ke.bottom-Z>=ue.height?(oe=ke.bottom+Z,te="bottom"):(oe=ke.top-ue.height-Z,te="top"),oe<F&&(oe=ke.bottom+Z,te="bottom"),console.log("Final position",{tooltipX:de,tooltipY:oe,placement:te}),c.value.style.left=`${de}px`,c.value.style.top=`${oe}px`,c.value.dataset.placement=te,c.value.getBoundingClientRect()},W=()=>{u.value&&(u.value.classList.add("tour-highlight"),u.value.scrollIntoView({behavior:"smooth",block:"center"}))},le=()=>{u.value&&u.value.classList.remove("tour-highlight")},X=()=>{S(),k()},j=async()=>{var ke;if(console.log("Starting tour",{isCalculatingOfflineProgress:e.isCalculatingOfflineProgress,hasSeenTour:l.value}),e.isCalculatingOfflineProgress){console.log("Waiting for offline progress calculation to complete"),i.value=!0;return}n.value=0,console.log("Reset to first step",_.value),(ke=_.value)!=null&&ke.onBeforeShow&&(console.log("Running onBeforeShow hook"),await _.value.onBeforeShow()),o.value=!0,console.log("Tour activated")},T=()=>{le(),o.value=!1,l.value=!0},K=async()=>{if(P.value){T();return}le(),n.value++;const ke=_.value;ke!=null&&ke.route&&await t.push(ke.route),ke!=null&&ke.onBeforeShow&&await ke.onBeforeShow()},fe=async()=>{if(y.value)return;le(),n.value--;const ke=_.value;ke!=null&&ke.route&&await t.push(ke.route),ke!=null&&ke.onBeforeShow&&await ke.onBeforeShow()},we=()=>{T()},Se=()=>{l.value=!1};return He(()=>{window.addEventListener("resize",X),!e.isCalculatingOfflineProgress&&!l.value&&setTimeout(()=>{j()},500)}),Zt(()=>{window.removeEventListener("resize",X),le()}),{isActive:o,currentStepIndex:n,steps:a,hasSeenTour:l,isWaitingForOfflineProgress:i,targetElement:u,tooltipElement:c,currentStep:_,isFirstStep:y,isLastStep:P,totalSteps:I,targetBounding:{width:d,height:m,top:b,left:x,right:h,bottom:C,x:w,y:M},setTourSteps:U,resetTourSteps:q,startTour:j,endTour:T,nextStep:K,prevStep:fe,skipTour:we,resetTour:Se,positionTooltip:k,highlightTarget:W,removeHighlight:le,collectState:()=>({hasSeenTour:l.value}),applyState:ke=>{ke&&typeof ke.hasSeenTour=="boolean"&&(l.value=ke.hasSeenTour)}}}),Yt=ft("progression",()=>{const e=B("initial"),t=B({initial:!0,colonyStatus:!1,upgrades:!1,evolution:!1,complete:!1}),o=L(()=>({colonyStatus:t.value.colonyStatus,colonyPage:t.value.colonyStatus,upgrades:t.value.upgrades,evolution:t.value.evolution,aphidFarm:t.value.evolution,showMetamorphosisExplanation:!t.value.complete,tour:!1}));return{currentStage:e,stageCompleted:t,isFeatureUnlocked:o,checkProgression:()=>{var c;const i=st(),u=Jt();if(!t.value.colonyStatus){const d=i.getGenerator("worker");d&&d.count.gt(0)&&(t.value.colonyStatus=!0,e.value="colonyStatus")}t.value.colonyStatus&&!t.value.upgrades&&u.totalTicks.gte(10)&&(t.value.upgrades=!0,e.value="upgrades"),t.value.upgrades&&!t.value.evolution&&(c=i.getGenerator("nursery"))!=null&&c.count.gte(5)&&(t.value.evolution=!0,e.value="evolution"),t.value.evolution&&!t.value.complete&&Ve().hasEvolved&&(t.value.complete=!0,e.value="complete")},getState:()=>({currentStage:e.value,stageCompleted:t.value}),loadState:i=>{i.currentStage&&(e.value=i.currentStage),i.stageCompleted&&(t.value={...t.value,...i.stageCompleted})}}}),gs=ft("pheromoneShop",()=>{const e=St(),t=B([{id:"food_amplifier",name:"Food Amplifier",description:"Enhances food production through advanced pheromone manipulation.",maxLevel:100,baseCost:s(100),modifiers:[{target:"worker",multiplier:k=>s(1).add(k*.1),unlockLevel:1,description:"Food Production +10% per level"},{target:"pheromone",multiplier:k=>s(1).add((k-5)*.05),unlockLevel:5,description:"Pheromone Gain +5% per level above 5"},{target:"ep",multiplier:k=>s(1).add((k-10)*.05),unlockLevel:10,description:"EP Gain +5% per level above 10"},{target:"pheromone",multiplier:k=>s(1).add((k-25)*.03),unlockLevel:25,description:"Pheromone Gain +3% per level above 25"}]},{id:"evolution_catalyst",name:"Evolution Catalyst",description:"Accelerates evolutionary progress through pheromone enhancement.",maxLevel:100,baseCost:s(200),modifiers:[{target:"ep",multiplier:k=>s(1).add(k*.15),unlockLevel:1,description:"EP Gain +15% per level"},{target:"worker",multiplier:k=>s(1).add((k-15)*.08),unlockLevel:15,description:"Food Production +8% per level above 15"},{target:"pheromone",multiplier:k=>s(1).add((k-30)*.04),unlockLevel:30,description:"Pheromone Gain +4% per level above 30"}],unlockRequirement:{type:"itemLevel",target:"food_amplifier",value:5,description:"Reach level 5 with Food Amplifier"}},{id:"ant_i_gravity",name:"Ant-i-Gravity",description:"Defying the laws of physics, just like ants carrying 50x their weight!",maxLevel:150,baseCost:s(1e3),modifiers:[{target:"global",multiplier:k=>s(1).add(k*.05),unlockLevel:1,description:"All Generators +5% per level"},{target:"nursery",multiplier:k=>s(1).add((k-20)*.15),unlockLevel:20,description:"Nursery Production +15% per level above 20"},{target:"pheromone",multiplier:k=>s(1).add((k-50)*.08),unlockLevel:50,description:"Pheromone Gain +8% per level above 50"},{target:"ep",multiplier:k=>s(1).add((k-75)*.12),unlockLevel:75,description:"EP Gain +12% per level above 75"}],unlockRequirement:{type:"itemLevel",target:"evolution_catalyst",value:10,description:"Reach level 10 with Evolution Catalyst"}},{id:"formicidable_power",name:"Formicidable Power",description:"Unleash the formidable power of the Formicidae family!",maxLevel:200,baseCost:s(2500),modifiers:[{target:"queenChamber",multiplier:k=>s(1).add(k*.2),unlockLevel:1,description:"Queen Chamber Production +20% per level"},{target:"colony",multiplier:k=>s(1).add(k*.2),unlockLevel:1,description:"Colony Production +20% per level"},{target:"global",multiplier:k=>s(1).add((k-25)*.08),unlockLevel:25,description:"All Generators +8% per level above 25"},{target:"ep",multiplier:k=>s(1).add((k-100)*.15),unlockLevel:100,description:"EP Gain +15% per level above 100"}],unlockRequirement:{type:"essence",value:5e3,description:"Collect 5,000 Pheromone Essence total"}},{id:"hill_of_a_deal",name:"Hill of a Deal",description:"This deal is too good to pass up! Trust me, I'm an antrepreneur.",maxLevel:300,baseCost:s(1e5),modifiers:[{target:"pheromone",multiplier:k=>s(1).add(k),unlockLevel:1,description:"Pheromone Gain +100% per level"},{target:"megacolony",multiplier:k=>s(1).add(k*.3),unlockLevel:1,description:"Megacolony Production +30% per level"},{target:"hivemind",multiplier:k=>s(1).add(k*.3),unlockLevel:1,description:"Hivemind Production +30% per level"},{target:"global",multiplier:k=>s(1).add((k-50)*.1),unlockLevel:50,description:"All Generators +10% per level above 50"},{target:"ep",multiplier:k=>s(1).add((k-150)*.2),unlockLevel:150,description:"EP Gain +20% per level above 150"}],unlockRequirement:{type:"itemLevel",target:"formicidable_power",value:25,description:"Reach level 25 with Formicidable Power"}},{id:"antstronaut",name:"ANTstronaut Program",description:"One small step for ant, one giant leap for ant-kind!",maxLevel:500,baseCost:s(1e6),modifiers:[{target:"antopolis",multiplier:k=>s(1).add(k*.5),unlockLevel:1,description:"Antopolis Production +50% per level"},{target:"global",multiplier:k=>s(1).add(k*.15),unlockLevel:1,description:"All Generators +15% per level"},{target:"pheromone",multiplier:k=>s(1).add((k-100)*.3),unlockLevel:100,description:"Pheromone Gain +30% per level above 100"},{target:"ep",multiplier:k=>s(1).add((k-200)*.4),unlockLevel:200,description:"EP Gain +40% per level above 200"},{target:"global",multiplier:k=>s(1).add((k-400)*1),unlockLevel:400,description:"All Generators +100% per level above 400"}],unlockRequirement:{type:"itemLevel",target:"hill_of_a_deal",value:50,description:"Reach level 50 with Hill of a Deal"}},{id:"no_picant",name:"No Pic-ant",description:"We packed the perfect pheromones for this pic-ant! Spicy!",maxLevel:100,baseCost:s(5e3),modifiers:[{target:"worker",multiplier:k=>s(1).add(k*.25),unlockLevel:1,description:"Food Production +25% per level"},{target:"global",multiplier:k=>s(1).add((k-25)*.1),unlockLevel:25,description:"All Generators +10% per level above 25"},{target:"pheromone",multiplier:k=>s(1).add((k-50)*.15),unlockLevel:50,description:"Pheromone Gain +15% per level above 50"}],unlockRequirement:{type:"itemLevel",target:"ant_i_gravity",value:15,description:"Reach level 15 with Ant-i-Gravity"}},{id:"uncl_ant",name:"Uncl-Ant Power",description:"With great power comes great respANTsibility.",maxLevel:250,baseCost:s(25e3),modifiers:[{target:"global",multiplier:k=>s(1).add(k*.12),unlockLevel:1,description:"All Generators +12% per level"},{target:"ep",multiplier:k=>s(1).add(k*.18),unlockLevel:1,description:"EP Gain +18% per level"},{target:"pheromone",multiplier:k=>s(1).add((k-100)*.2),unlockLevel:100,description:"Pheromone Gain +20% per level above 100"}],unlockRequirement:{type:"itemLevel",target:"no_picant",value:20,description:"Reach level 20 with No Pic-ant"}},{id:"ant_trail_blazer",name:"Ant Trail Blazer",description:"Mark your path to success with powerful pheromone trails.",maxLevel:50,baseCost:s(50),modifiers:[{target:"worker",multiplier:k=>s(1).add(k*.05),unlockLevel:1,description:"Food Production +5% per level"},{target:"nursery",multiplier:k=>s(1).add(k*.05),unlockLevel:1,description:"Nursery Production +5% per level"},{target:"pheromone",multiplier:k=>s(1).add((k-10)*.03),unlockLevel:10,description:"Pheromone Gain +3% per level above 10"}]},{id:"sweet_scent",name:"Sweet Scent",description:"A sweet pheromone blend that makes all ants work more efficiently.",maxLevel:75,baseCost:s(150),modifiers:[{target:"global",multiplier:k=>s(1).add(k*.03),unlockLevel:1,description:"All Generators +3% per level"},{target:"ep",multiplier:k=>s(1).add((k-20)*.04),unlockLevel:20,description:"EP Gain +4% per level above 20"},{target:"pheromone",multiplier:k=>s(1).add((k-50)*.02),unlockLevel:50,description:"Pheromone Gain +2% per level above 50"}],unlockRequirement:{type:"itemLevel",target:"ant_trail_blazer",value:5,description:"Reach level 5 with Ant Trail Blazer"}},{id:"formic_boost",name:"Formic Boost",description:"Harness the power of formic acid to supercharge your colony.",maxLevel:80,baseCost:s(400),modifiers:[{target:"worker",multiplier:k=>s(1).add(k*.08),unlockLevel:1,description:"Food Production +8% per level"},{target:"queenChamber",multiplier:k=>s(1).add(k*.07),unlockLevel:1,description:"Queen Chamber Production +7% per level"},{target:"nursery",multiplier:k=>s(1).add(k*.04),unlockLevel:1,description:"Nursery Production +4% per level"},{target:"pheromone",multiplier:k=>s(1).add((k-15)*.04),unlockLevel:15,description:"Pheromone Gain +4% per level above 15"}],unlockRequirement:{type:"itemLevel",target:"sweet_scent",value:10,description:"Reach level 10 with Sweet Scent"}}]),o=B({}),n=B({by:"unlocked",direction:"desc"}),a=B(!1),l=k=>o.value[k]||0,i=k=>{const W=t.value.find(X=>X.id===k);if(!W)return!1;if(!W.unlockRequirement)return!0;const le=W.unlockRequirement;switch(le.type){case"essence":return e.totalCollectedEssence.gte(le.value);case"itemLevel":return le.target?l(le.target)>=le.value:!1;case"level":return!1;default:return!1}},u=L(()=>t.value.filter(k=>i(k.id))),c=k=>{const W=t.value.find(X=>X.id===k);if(!W)return s(0);const le=l(k);return le>=W.maxLevel?s(0):W.baseCost.mul(s(1.2).pow(le))},d=k=>{const W=t.value.find(X=>X.id===k);if(!W)return[];const le=l(k);return W.modifiers.filter(X=>le>=X.unlockLevel)},m=(k,W)=>{const le=t.value.find(T=>T.id===k);if(!le||!le.modifiers[W])return s(1);const X=l(k),j=le.modifiers[W];return X<j.unlockLevel?s(1):j.multiplier(X)},b=k=>{const W=t.value.find(le=>le.id===k);return!W||!W.unlockRequirement?"":W.unlockRequirement.description},x=L(()=>{const k=t.value.map(le=>({...le,unlocked:i(le.id),level:l(le.id),nextCost:c(le.id),isMaxed:l(le.id)>=le.maxLevel}));let W=k;return a.value&&(W=k.filter(le=>!le.isMaxed)),h(W)});function h(k){const{by:W,direction:le}=n.value;return[...k].sort((j,T)=>{if(W==="unlocked"){if(le==="asc"){if(j.unlocked!==T.unlocked)return j.unlocked?-1:1}else if(j.unlocked!==T.unlocked)return j.unlocked?1:-1}switch(W){case"price":return le==="asc"?j.nextCost.cmp(T.nextCost):T.nextCost.cmp(j.nextCost);case"level":return le==="asc"?j.level-T.level:T.level-j.level;case"maxLevel":return le==="asc"?j.maxLevel-T.maxLevel:T.maxLevel-j.maxLevel;case"name":return le==="asc"?j.name.localeCompare(T.name):T.name.localeCompare(j.name);case"unlocked":return j.name.localeCompare(T.name);default:return 0}})}const C=(k,W)=>{n.value={by:k,direction:W}},w=(k,W)=>{if(W<=0)return s(0);const le=t.value.find(T=>T.id===k);if(!le)return s(0);const X=l(k);let j=s(0);for(let T=0;T<W;T++)j=j.add(le.baseCost.mul(s(1.2).pow(X+T)));return j},M=k=>{const W=t.value.find(fe=>fe.id===k);if(!W||!i(k))return 0;const le=l(k);if(le>=W.maxLevel)return 0;const X=e.pheromoneEssence,j=W.maxLevel-le,T=1.2,K=W.baseCost.mul(s(T).pow(le));try{const fe=X.mul(T-1).div(K).add(1),we=Math.floor(Math.log(fe.toNumber())/Math.log(T));return Math.min(we,j)||0}catch{let we=0,Se=s(0);for(;we<j;){const pe=c(k);if(Se.add(pe).gt(X)||(Se=Se.add(pe),o.value[k]=(o.value[k]||0)+1,we++,we>1e3))break}return o.value[k]=le,we}};return{shopItems:t,unlockedShopItems:u,getAllShopItemsWithStatus:x,getItemLevel:l,getNextLevelCost:c,getActiveModifiers:d,getCurrentModifierValue:m,upgradeItem:k=>{const W=t.value.find(j=>j.id===k);if(!W||!i(k)||l(k)>=W.maxLevel)return!1;const X=c(k);return e.spendPheromoneEssence(X)?(o.value[k]=(o.value[k]||0)+1,!0):!1},maxBuyItem:k=>{const W=t.value.find(T=>T.id===k);if(!W||!i(k))return 0;const le=l(k);if(le>=W.maxLevel)return 0;const X=M(k);if(X<=0)return 0;const j=w(k,X);return e.spendPheromoneEssence(j)?(o.value[k]=le+X,X):0},calculateMaxBuyLevels:M,calculateMaxBuyCost:k=>{const W=M(k);return w(k,W)},isItemUnlocked:i,getUnlockRequirementText:b,setSortPreference:C,sortPreference:n,hideMaxedItems:a,toggleHideMaxedItems:()=>{a.value=!a.value},resetForAscension:()=>{o.value={}},getState:()=>({itemLevels:o.value,sortPreference:n.value,hideMaxedItems:a.value}),loadState:k=>{k.itemLevels&&(o.value=k.itemLevels),k.sortPreference&&(n.value=k.sortPreference),k.hideMaxedItems!==void 0&&(a.value=k.hideMaxedItems)}}}),ns=ft("colonyRush",()=>{const e=B(50),t=B(30),o=B(30),n=Ve(),a=L(()=>n.getUpgradeCount("unlockColonyRush").gt(0)),l=L(()=>{const k=n.getUpgradeCount("rushMaxPerDay").mul(2);return e.value+k.toNumber()}),i=L(()=>{const k=n.getUpgradeCount("rushCooldownReduction").mul(2);return Math.max(1,t.value-k.toNumber())}),u=L(()=>{const k=n.getUpgradeCount("rushDurationIncrease").mul(10);return o.value+k.toNumber()}),c=B(0),d=B(0),m=B(""),b=B(0),x=B(!1),h=L(()=>l.value-c.value),C=L(()=>a.value&&h.value>0&&b.value>=i.value&&!x.value),w=L(()=>b.value>=i.value?100:Math.floor(b.value/i.value*100)),M=L(()=>b.value>=i.value?0:i.value-b.value),S=L(()=>{const k=M.value;return k<=0?"Ready":`${k} trips`});function _(){y()}function y(){const k=new Date().toDateString();m.value!==k&&(c.value=0,m.value=k)}function P(){x.value||(b.value++,y())}async function I(){if(!C.value)return!1;const k=ur();c.value++,d.value=Date.now(),b.value=0,x.value=!0;try{const W=u.value,le=k.getStores(),X=le.gameStore.tickDuration,j=Math.floor(W/X);return j>0?(Re(`[ColonyRush] Executing rush: Processing ${j} ticks individually.`),setTimeout(async()=>{try{await k.processRealTicks(j,le,!0),k.updateGeneratorStats(),Re(`[ColonyRush] Rush completed processing ${j} ticks.`)}catch(T){Qt("Error during async rush processing:",T)}finally{x.value=!1,Re("[ColonyRush] isProcessingRush set to false.")}},10)):(Re(`[ColonyRush] Rush duration (${W}s) resulted in zero ticks. Skipping.`),x.value=!1),!0}catch(W){return Qt("Error executing colony rush:",W),x.value=!1,!1}}const U=()=>({baseMaxRushesPerDay:e.value,baseRushCooldownTicks:t.value,baseRushDurationSeconds:o.value,rushesUsedToday:c.value,lastRushTimestamp:d.value,lastRushResetDate:m.value,ticksSinceLastRush:b.value}),q=k=>{k&&(k.baseMaxRushesPerDay!==void 0?e.value=k.baseMaxRushesPerDay:k.maxRushesPerDay!==void 0&&(e.value=k.maxRushesPerDay),k.baseRushCooldownTicks!==void 0?t.value=k.baseRushCooldownTicks:k.rushCooldownTicks!==void 0&&(t.value=k.rushCooldownTicks),k.baseRushDurationSeconds!==void 0?o.value=k.baseRushDurationSeconds:k.rushDurationSeconds!==void 0&&(o.value=k.rushDurationSeconds),k.rushesUsedToday!==void 0&&(c.value=k.rushesUsedToday),k.lastRushTimestamp!==void 0&&(d.value=k.lastRushTimestamp),k.lastRushResetDate!==void 0&&(m.value=k.lastRushResetDate),k.ticksSinceLastRush!==void 0&&(b.value=k.ticksSinceLastRush),y())};return _(),{baseMaxRushesPerDay:e,baseRushCooldownTicks:t,baseRushDurationSeconds:o,maxRushesPerDay:l,rushCooldownTicks:i,rushDurationSeconds:u,rushesUsedToday:c,rushesRemaining:h,lastRushTimestamp:d,lastRushResetDate:m,ticksSinceLastRush:b,isRushAvailable:C,isFeatureUnlocked:a,cooldownPercentage:w,ticksUntilNextRush:M,formatTripsUntilNextRush:S,initialize:_,trackTick:P,executeRush:I,getState:U,loadState:q,isProcessingRush:x}}),Or=ft("wiki",()=>{const e=B("prestige-upgrades"),t=B({"prestige-upgrades":"","pheromone-shop":"","mega-ant":"","bugs-wiki":"","items-wiki":"","generators-wiki":""}),o=B({"prestige-upgrades":10,"pheromone-shop":10,"mega-ant":10,"bugs-wiki":10,"items-wiki":10,"generators-wiki":10}),n=B({"prestige-upgrades":{},"pheromone-shop":{},"mega-ant":{},"bugs-wiki":{},"items-wiki":{},"generators-wiki":{}}),a=B({"prestige-upgrades":{},"pheromone-shop":{},"mega-ant":{},"bugs-wiki":{},"items-wiki":{},"generators-wiki":{}}),l=B({"prestige-upgrades":[],"pheromone-shop":[],"mega-ant":[],"bugs-wiki":[],"items-wiki":[],"generators-wiki":[]}),i=y=>{e.value=y},u=(y,P)=>{t.value[y]=P},c=y=>t.value[y]||"",d=(y,P)=>{o.value[y]=P},m=y=>o.value[y]||10,b=(y,P)=>{n.value[y]||(n.value[y]={}),n.value[y][P]=!n.value[y][P],n.value[y][P]&&w(y,P)},x=(y,P)=>!!(n.value[y]&&n.value[y][P]),h=(y,P)=>{a.value[y]||(a.value[y]={}),a.value[y][P]=!a.value[y][P]},C=(y,P)=>!!(a.value[y]&&a.value[y][P]),w=(y,P)=>{l.value[y]||(l.value[y]=[]);const I=l.value[y].filter(U=>U!==P);I.unshift(P),l.value[y]=I.slice(0,10)};return{activeTab:e,setActiveTab:i,setSearchQuery:u,getSearchQuery:c,setMaxPreviewLevel:d,getMaxPreviewLevel:m,toggleItemExpanded:b,isItemExpanded:x,toggleIgnoreMaxLevel:h,shouldIgnoreMaxLevel:C,addToRecentlyViewed:w,getRecentlyViewedItems:y=>l.value[y]||[],getState:()=>({activeTab:e.value,searchQueries:t.value,maxPreviewLevels:o.value,expandedItemsMap:n.value,ignoreMaxLevelMap:a.value,recentlyViewedItems:l.value}),loadState:y=>{y.activeTab&&(e.value=y.activeTab),y.searchQueries&&(t.value=y.searchQueries),y.maxPreviewLevels&&(o.value=y.maxPreviewLevels),y.expandedItemsMap&&(n.value=y.expandedItemsMap),y.recentlyViewedItems&&(l.value=y.recentlyViewedItems)}}}),Yc="idle-ant-farm-quest-completion-percent",jt=B(65);try{const e=localStorage.getItem(Yc);e&&(jt.value=parseInt(e,10))}catch(e){console.error("Error loading quest requirement from localStorage:",e)}function Na(){const e=ht(),t=L(()=>Ra.length),o=L(()=>e.completedQuests.length),n=L(()=>t.value===0?0:o.value/t.value*100),a=L(()=>n.value>=jt.value),l=L(()=>{if(a.value)return"";const i=Math.ceil(t.value*jt.value/100),u=i-o.value;return`Complete ${u} more quest${u!==1?"s":""} to unlock Ascension (${o.value}/${i} required)`});return De(jt,i=>{try{localStorage.setItem(Yc,i.toString())}catch(u){console.error("Error saving quest requirement to localStorage:",u)}}),{totalQuests:t,completedQuestsCount:o,questCompletionPercentage:n,requiredQuestCompletionPercent:jt,canAscend:a,ascensionLockExplanation:l}}var ut=(e=>(e.STOMACH_CAPACITY="stomachCapacity",e.DECAY_RATE="decayRate",e.EFFICIENCY="efficiency",e.PHEROMONE_STOMACH_CAPACITY="pheromoneStomachCapacity",e.PHEROMONE_DECAY_RATE="pheromoneDecayRate",e.PHEROMONE_EFFICIENCY="pheromoneEfficiency",e))(ut||{}),Nt=(e=>(e.EP_BOOST="epBoost",e.PHEROMONE_BOOST="pheromoneBoost",e.GLOBAL_PRODUCTION="globalProduction",e))(Nt||{});const gt=ft("megaAnt",()=>{const e=Ve();Jt();const t=ht(),o=st(),n=St(),a=B(s(1)),l=B(s(0)),i=B(s(1)),u=B(s(0)),c=B(Date.now()),d=B(0),m=B(0),b=B(0),x=B(!0),h=B(!1),C=B(!1),w=B(0),M=10,S=s(100),_=s(1),y=s(50),P=s(.5),I=B(s(0)),U=B(Date.now()),q=B([]),k=B(s(0)),W=B(Date.now()),le=B([]),X=B([{id:"stomachCapacity",name:"Digestive Capacity",description:"Increase the maximum amount of food and pheromone essence your Mega Ant can store in both stomachs.",baseValue:S,level:0,costPerLevel:1,getEffectValue:_e=>S.add(s(_e).mul(25))},{id:"decayRate",name:"Digestive Speed",description:"Increase how quickly your Mega Ant processes both food and pheromone essence.",baseValue:_,level:0,maxLevel:10,costPerLevel:1,getEffectValue:_e=>_.add(s(_e).mul(.2))},{id:"efficiency",name:"Digestive Efficiency",description:"Increase how much experience your Mega Ant gains from both food and pheromone essence digestion.",baseValue:s(1),level:0,costPerLevel:1,getEffectValue:_e=>s(1).add(s(_e).mul(.25))}]),j=B([{id:"epBoost",name:"Evolution Synergy",description:"The colony's knowledge enhances your evolutionary progress, increasing EP gain. Each evolution increases the effectiveness of this upgrade by 10%.",target:"ep",level:0,costPerLevel:1,getMultiplier:_e=>{const Ce=1+_e*.05,Qe=e.evolutionCount.toNumber();return Ce*(1+Qe*.1)},formatEffect:_e=>`${(_e*100).toFixed(0)}% EP gain`},{id:"pheromoneBoost",name:"Pheromone Enhancement",description:"The colony specializes in pheromone production, increasing pheromone essence gain. Each evolution increases the effectiveness of this upgrade by 10%.",target:"pheromone",level:0,costPerLevel:1,getMultiplier:_e=>{const Ce=1+_e*.1,Qe=e.evolutionCount.toNumber();return Ce*(1+Qe*.1)},formatEffect:_e=>`${(_e*100).toFixed(0)}% pheromone gain`},{id:"globalProduction",name:"Colony Coordination",description:"The colony helps coordinate all ant activities, increasing global production. Each evolution increases the effectiveness of this upgrade by 10%.",target:"global",level:0,costPerLevel:1,getMultiplier:_e=>{const Ce=1+_e*.05,Qe=e.evolutionCount.toNumber();return Ce*(1+Qe*.1)},formatEffect:_e=>`${(_e*100).toFixed(0)}% global production`}]),T=L(()=>Math.max(0,a.value.toNumber()-1-d.value)),K=L(()=>Math.max(0,i.value.toNumber()-1-m.value)),fe=_e=>X.value.find(Ce=>Ce.id===_e),we=_e=>j.value.find(Ce=>Ce.id===_e),Se=L(()=>{const _e=fe("stomachCapacity");return _e?_e.getEffectValue(_e.level).div(_e.baseValue):s(1)}),pe=L(()=>{const _e=fe("decayRate");return _e?_e.getEffectValue(_e.level).div(_e.baseValue):s(1)}),ce=L(()=>{const _e=fe("efficiency");return _e?_e.getEffectValue(_e.level).div(_e.baseValue):s(1)}),ke=L(()=>{const _e=fe("stomachCapacity");if(!_e)return s(1);const Ce=s(15);return y.add(s(_e.level).mul(Ce)).div(y)}),ue=L(()=>{const _e=fe("decayRate");if(!_e)return s(1);const Ce=s(.15);return P.add(s(_e.level).mul(Ce)).div(P)}),Z=L(()=>ce.value),de=_e=>{const Ce=we(_e);return!Ce||Ce.maxLevel&&Ce.level>=Ce.maxLevel||K.value<Ce.costPerLevel?!1:(Ce.level++,m.value+=Ce.costPerLevel,!0)},oe=_e=>{const Ce=we(_e);return Ce?Ce.maxLevel?Ce.level<Ce.maxLevel&&K.value>=Ce.costPerLevel:K.value>=Ce.costPerLevel:!1},te=_e=>{const Ce=we(_e);return Ce&&Ce.maxLevel?Ce.level>=Ce.maxLevel:!1},ae=_e=>{const Ce=we(_e);return Ce?Ce.getMultiplier(Ce.level):1},F=_e=>{let Ce=1;for(const Qe of j.value)Qe.target===_e&&Qe.level>0&&(Ce*=Qe.getMultiplier(Qe.level));return["global","ep","pheromone"].includes(_e)&&b.value>0&&(Ce=s(Ce).mul(me.value).toNumber()),Ce},E=_e=>{const Ce=we(_e);return Ce?Ce.formatEffect(Ce.getMultiplier(Ce.level)):"0%"},N=L(()=>e.getUpgradeCount("unlockMegaAnt").gt(0)),me=L(()=>s(1).add(s(b.value).mul(.25))),ie=L(()=>s(100).mul(s(1.5).pow(a.value.minus(1)))),O=L(()=>s(75).mul(s(1.4).pow(i.value.minus(1)))),$=L(()=>l.value.gte(ie.value)?100:l.value.div(ie.value).mul(100).toNumber()),A=L(()=>u.value.gte(O.value)?100:u.value.div(O.value).mul(100).toNumber()),Q=L(()=>S.mul(Se.value)),ne=L(()=>_.mul(pe.value)),re=L(()=>I.value.div(Q.value).mul(100).toNumber()),V=L(()=>I.value.gte(Q.value)),be=L(()=>y.mul(ke.value)),R=L(()=>P.mul(ue.value)),H=L(()=>k.value.div(be.value).mul(100).toNumber()),ve=L(()=>k.value.gte(be.value)),ye=_e=>{if(!N.value)return;const Ce=typeof _e=="number"?s(_e):_e;l.value=l.value.plus(Ce),se(),c.value=Date.now()},D=_e=>{if(!N.value)return;const Ce=typeof _e=="number"?s(_e):_e;u.value=u.value.plus(Ce),xe(),c.value=Date.now()},z=_e=>{if(!N.value)return{xpValue:s(0),foodConsumed:s(0)};if(_e.lte(0))return{xpValue:s(0),foodConsumed:s(0)};Je();const Ce=Q.value.sub(I.value);if(Ce.lte(0))return{xpValue:s(0),foodConsumed:s(0)};const Qe=_e.toString(),xt=s(Math.max(1,Math.floor(Math.log10(parseFloat(Qe))))),wt=Ce.min(xt);I.value=I.value.add(wt);let Tt=xt.equals(wt)?_e:s(10).pow(wt);return Tt=Tt.min(_e),{xpValue:wt,foodConsumed:Tt}},J=_e=>{if(!N.value)return{xpValue:s(0),essenceConsumed:s(0)};if(_e.lte(0))return{xpValue:s(0),essenceConsumed:s(0)};Fe();const Ce=be.value.sub(k.value);if(Ce.lte(0))return{xpValue:s(0),essenceConsumed:s(0)};const Qe=_e.toString(),xt=s(Math.max(1,Math.floor(Math.log10(parseFloat(Qe))))).mul(2),wt=Ce.min(xt);k.value=k.value.add(wt);let Tt=xt.equals(wt)?_e:s(10).pow(wt.div(2));return Tt=Tt.min(_e),{xpValue:wt,essenceConsumed:Tt}},se=()=>{for(;l.value.gte(ie.value);)l.value=l.value.minus(ie.value),a.value=a.value.plus(1)},xe=()=>{for(;u.value.gte(O.value);)u.value=u.value.minus(O.value),i.value=i.value.plus(1)},Ae=_e=>{const Ce=fe(_e);return!Ce||Ce.maxLevel&&Ce.level>=Ce.maxLevel||T.value<Ce.costPerLevel?!1:(Ce.level++,d.value+=Ce.costPerLevel,!0)},Me=_e=>{const Ce=fe(_e);return Ce?Ce.maxLevel?Ce.level<Ce.maxLevel&&T.value>=Ce.costPerLevel:T.value>=Ce.costPerLevel:!1},Le=_e=>{const Ce=fe(_e);return Ce&&Ce.maxLevel?Ce.level>=Ce.maxLevel:!1},Ue=_e=>{const Ce=fe(_e);return Ce?Ce.getEffectValue(Ce.level):s(0)},Oe=_e=>{const Ce=fe(_e);return!Ce||Ce.maxLevel&&Ce.level>=Ce.maxLevel?s(0):Ce.getEffectValue(Ce.level+1)},Je=()=>{const _e=Date.now(),Ce=s(_e-U.value).div(1e3);if(Ce.lte(0)||I.value.lte(0)){U.value=_e;return}const Qe=I.value.min(ne.value.mul(Ce));I.value=I.value.sub(Qe);const xt=Qe.mul(ce.value).mul(me.value);if(ye(xt),Qe.gt(0)){const wt={timestamp:_e,amount:Qe,xpGained:xt};q.value.push(wt),q.value.length>10&&(q.value=q.value.slice(-10))}U.value=_e},Fe=()=>{const _e=Date.now(),Ce=s(_e-W.value).div(1e3);if(Ce.lte(0)||k.value.lte(0)){W.value=_e;return}const Qe=k.value.min(R.value.mul(Ce));k.value=k.value.sub(Qe);const xt=Qe.mul(Z.value).mul(me.value);if(D(xt),Qe.gt(0)){const wt={timestamp:_e,amount:Qe,xpGained:xt};le.value.push(wt),le.value.length>10&&(le.value=le.value.slice(-10))}W.value=_e},nt=()=>{vt.value&&(h.value=!h.value)},lt=()=>{vt.value&&(C.value=!C.value)},vt=L(()=>e.getUpgradeCount("unlockAutoFeed").gt(0)),Ke=()=>{if(!N.value||!h.value||!vt.value||V.value||I.value.gt(0)||o.food.lte(0))return;const _e=o.food.mul(.01),{xpValue:Ce,foodConsumed:Qe}=z(_e);Qe.gt(0)&&(o.food=o.food.sub(Qe))},To=()=>{if(!N.value||!C.value||!vt.value||ve.value||k.value.gt(0)||n.pheromoneEssence.lte(0))return;const _e=n.pheromoneEssence.mul(.01),{xpValue:Ce,essenceConsumed:Qe}=J(_e);Qe.gt(0)&&(n.pheromoneEssence=n.pheromoneEssence.sub(Qe))},Id=()=>{if(!e.getUpgradeCount("unlockMegaAnt").gt(0))return;Je(),Fe();const _e=e.getUpgradeCount("unlockAutoFeed").gt(0);_e||(h.value=!1,C.value=!1),w.value++,w.value>=M&&(h.value&&_e&&Ke(),C.value&&_e&&To(),w.value=0)},Fd=_e=>{if(!e.getUpgradeCount("unlockMegaAnt").gt(0))return;const Ce=s(_e);if(Ce.lte(0))return;const Qe=Date.now();if(I.value.gt(0)&&ne.value.gt(0)){const wt=I.value.div(ne.value),Tt=Ce.min(wt),tr=ne.value.mul(Tt);if(tr.gt(0)){I.value=I.value.sub(tr).max(0);const rr=tr.mul(ce.value).mul(me.value);ye(rr),q.value.push({timestamp:Qe,amount:tr,xpGained:rr}),q.value.length>10&&(q.value=q.value.slice(-10))}}if(U.value+=Ce.mul(1e3).toNumber(),k.value.gt(0)&&R.value.gt(0)){const wt=k.value.div(R.value),Tt=Ce.min(wt),tr=R.value.mul(Tt);if(tr.gt(0)){k.value=k.value.sub(tr).max(0);const rr=tr.mul(Z.value).mul(me.value);D(rr),le.value.push({timestamp:Qe,amount:tr,xpGained:rr}),le.value.length>10&&(le.value=le.value.slice(-10))}}if(W.value+=Ce.mul(1e3).toNumber(),e.getUpgradeCount("unlockAutoFeed").gt(0)&&(h.value||C.value)&&Math.floor(Ce.toNumber()/M)>0){if(h.value&&I.value.lte(0)&&!V.value&&o.food.gt(0)){const Tt=o.food.mul(.01),{xpValue:tr,foodConsumed:rr}=z(Tt);rr.gt(0)&&(o.food=o.food.sub(rr))}if(C.value&&k.value.lte(0)&&!ve.value&&n.pheromoneEssence.gt(0)){const Tt=n.pheromoneEssence.mul(.01),{xpValue:tr,essenceConsumed:rr}=J(Tt);rr.gt(0)&&(n.pheromoneEssence=n.pheromoneEssence.sub(rr))}}c.value=Qe+Ce.mul(1e3).toNumber(),se(),xe()},hn=(_e=!1)=>{a.value=s(1),l.value=s(0),i.value=s(1),u.value=s(0),c.value=Date.now(),d.value=0,m.value=0,I.value=s(0),U.value=Date.now(),q.value=[],k.value=s(0),W.value=Date.now(),le.value=[],_e||(X.value.forEach(Ce=>{Ce.level=0}),j.value.forEach(Ce=>{Ce.level=0}))},Ud=()=>{const _e=Ve();Jt(),hn(!0),d.value=0,_e.resetForAscension()};return{level:a,experience:l,colonyLevel:i,colonyExperience:u,lastUpdated:c,spentLevels:d,spentColonyLevels:m,ascensionCount:b,showHelpSection:x,autoFeedEnabled:h,autoFeedPheromoneEnabled:C,autoFeedTickCounter:w,AUTO_FEED_INTERVAL:M,stomachContent:I,lastDecayTime:U,decayLogs:q,pheromoneStomachContent:k,lastPheromoneDecayTime:W,pheromoneDecayLogs:le,upgrades:X,colonyUpgrades:j,availableLevels:T,availableColonyLevels:K,stomachCapacityMultiplier:Se,decayRateMultiplier:pe,decayEfficiencyMultiplier:ce,pheromoneStomachCapacityMultiplier:ke,pheromoneDecayRateMultiplier:ue,pheromoneEfficiencyMultiplier:Z,effectiveStomachCapacity:Q,effectiveDecayRate:ne,stomachFillPercentage:re,isStomachFull:V,effectivePheromoneStomachCapacity:be,effectivePheromoneDecayRate:R,pheromoneStomachFillPercentage:H,isPheromoneStomachFull:ve,isUnlocked:N,isAutoFeedUnlocked:vt,ascensionMultiplier:me,experienceForNextLevel:ie,colonyExperienceForNextLevel:O,levelProgress:$,colonyLevelProgress:A,getUpgrade:fe,getColonyUpgrade:we,addExperience:ye,addColonyExperience:D,feedAnt:z,feedAntPheromone:J,checkLevelUp:se,checkColonyLevelUp:xe,purchaseUpgrade:Ae,canUpgrade:Me,isUpgradeMaxed:Le,getUpgradeEffectValue:Ue,getNextUpgradeEffectValue:Oe,processDecay:Je,processPheromoneDecay:Fe,update:Id,processOfflineProgress:Fd,resetUpgrades:hn,reset:hn,ascend:()=>{const _e=jt.value,Ce=Ra.length,Qe=t.completedQuests.length,xt=Ce>0?Qe/Ce*100:0;return xt<_e?(console.warn(`Cannot ascend: Not enough quests completed (${xt.toFixed(1)}% of ${_e}% required)`),!1):(b.value++,Ud(),b.value)},toggleHelpSection:_e=>{_e!==void 0?x.value=_e:x.value=!x.value},getState:()=>({level:a.value.toString(),experience:l.value.toString(),colonyLevel:i.value.toString(),colonyExperience:u.value.toString(),lastUpdated:c.value,spentLevels:d.value,spentColonyLevels:m.value,ascensionCount:b.value,autoFeedEnabled:h.value,autoFeedPheromoneEnabled:C.value,autoFeedTickCounter:w.value,stomachContent:I.value.toString(),lastDecayTime:U.value,decayLogs:q.value.map(_e=>({timestamp:_e.timestamp,amount:_e.amount.toString(),xpGained:_e.xpGained.toString()})),pheromoneStomachContent:k.value.toString(),lastPheromoneDecayTime:W.value,pheromoneDecayLogs:le.value.map(_e=>({timestamp:_e.timestamp,amount:_e.amount.toString(),xpGained:_e.xpGained.toString()})),upgrades:X.value.map(_e=>({id:_e.id,level:_e.level})),colonyUpgrades:j.value.map(_e=>({id:_e.id,level:_e.level})),showHelpSection:x.value}),loadState:_e=>{_e.level&&(a.value=s(_e.level)),_e.experience&&(l.value=s(_e.experience)),_e.colonyLevel&&(i.value=s(_e.colonyLevel)),_e.colonyExperience&&(u.value=s(_e.colonyExperience)),_e.lastUpdated&&(c.value=_e.lastUpdated),_e.spentLevels!==void 0&&(d.value=_e.spentLevels),_e.spentColonyLevels!==void 0&&(m.value=_e.spentColonyLevels),_e.ascensionCount!==void 0&&(b.value=_e.ascensionCount),_e.autoFeedEnabled!==void 0&&(h.value=_e.autoFeedEnabled),_e.autoFeedPheromoneEnabled!==void 0&&(C.value=_e.autoFeedPheromoneEnabled),_e.autoFeedTickCounter!==void 0&&(w.value=_e.autoFeedTickCounter),_e.stomachContent!==void 0&&(I.value=s(_e.stomachContent)),_e.lastDecayTime&&(U.value=_e.lastDecayTime),_e.decayLogs&&(q.value=_e.decayLogs.map(Ce=>({timestamp:Ce.timestamp,amount:s(Ce.amount),xpGained:s(Ce.xpGained)}))),_e.pheromoneStomachContent!==void 0&&(k.value=s(_e.pheromoneStomachContent)),_e.lastPheromoneDecayTime&&(W.value=_e.lastPheromoneDecayTime),_e.pheromoneDecayLogs&&(le.value=_e.pheromoneDecayLogs.map(Ce=>({timestamp:Ce.timestamp,amount:s(Ce.amount),xpGained:s(Ce.xpGained)}))),_e.upgrades&&_e.upgrades.forEach(Ce=>{const Qe=X.value.find(xt=>xt.id===Ce.id);Qe&&(Qe.level=Ce.level)}),_e.colonyUpgrades&&_e.colonyUpgrades.forEach(Ce=>{const Qe=j.value.find(xt=>xt.id===Ce.id);Qe&&(Qe.level=Ce.level)}),_e.showHelpSection!==void 0&&(x.value=_e.showHelpSection)},toggleAutoFeed:nt,toggleAutoFeedPheromone:lt,purchaseColonyUpgrade:de,canColonyUpgrade:oe,isColonyUpgradeMaxed:te,getColonyUpgradeMultiplier:ae,getColonyMultiplierForTarget:F,getFormattedColonyEffect:E}}),$s={greenleaf:{id:"greenleaf",name:"Greenleaf Aphid",description:"Common aphid that produces small amounts of honeydew quickly.",baseYield:s(100),growthTime:50,unlockCost:s(0),color:"text-green-500 dark:text-green-400"},golden:{id:"golden",name:"Golden Aphid",description:"Uncommon aphid that produces moderate amounts of honeydew.",baseYield:s(500),growthTime:100,unlockCost:s(2e3),color:"text-amber-500 dark:text-amber-400"},bubbleback:{id:"bubbleback",name:"Bubbleback Aphid",description:"Rare aphid that secretes rich honeydew from specialized glands.",baseYield:s(1500),growthTime:200,unlockCost:s(1e4),color:"text-blue-500 dark:text-blue-400"},fungal:{id:"fungal",name:"Fungal Aphid",description:"Exotic aphid that cultivates fungi for enhanced honeydew production.",baseYield:s(5e3),growthTime:400,unlockCost:s(5e4),color:"text-purple-500 dark:text-purple-400"},pheromelion:{id:"pheromelion",name:"Pheromelion Aphid",description:"Legendary aphid that secretes honeydew infused with pheromone essence.",baseYield:s(2e4),growthTime:1e3,unlockCost:s(25e4),color:"text-pink-500 dark:text-pink-400"}},$r=ft("aphidFarm",()=>{Jt(),Ve();const e=Yt(),t=B(s(0)),o=B([]),n=B(new Set(["greenleaf"])),a=B("greenleaf"),l=B([{id:"greenleaf-growth",name:"Rapid Photosynthesis",description:"Reduce Greenleaf Aphid growth time by {effect}%",aphidType:"greenleaf",maxLevel:5,baseCost:s(1e3),costScaling:3,effect:$=>$*10},{id:"greenleaf-yield",name:"Enhanced Secretion",description:"Increase Greenleaf Aphid honeydew yield by {effect}%",aphidType:"greenleaf",maxLevel:10,baseCost:s(1500),costScaling:2.5,effect:$=>$*15},{id:"golden-aura",name:"Golden Aura",description:"Golden Aphids boost adjacent fields' yields by {effect}%",aphidType:"golden",maxLevel:5,baseCost:s(5e3),costScaling:3,effect:$=>$*20},{id:"golden-shine",name:"Radiant Harvest",description:"Golden Aphids have a {effect}% chance to yield double honeydew",aphidType:"golden",maxLevel:3,baseCost:s(7500),costScaling:4,effect:$=>$*10},{id:"bubbleback-efficiency",name:"Bubble Efficiency",description:"Bubbleback Aphids produce {effect}% more honeydew with each field level",aphidType:"bubbleback",maxLevel:5,baseCost:s(12e3),costScaling:3,effect:$=>$*5},{id:"fungal-fields",name:"Mycological Network",description:"Fungal Aphids yield bonus honeydew based on total fields: {effect}% per field",aphidType:"fungal",maxLevel:3,baseCost:s(2e4),costScaling:5,effect:$=>$*8},{id:"pheromelion-catalyst",name:"Pheromone Catalyst",description:"Pheromelion Aphids accelerate growth of all aphid types by {effect}%",aphidType:"pheromelion",maxLevel:2,baseCost:s(5e4),costScaling:10,effect:$=>$*15}]),i=B({}),u=()=>{o.value=[{id:"field1",type:null,level:1,progress:0,isHarvestable:!1,hasAutoFarming:!1,autoFarmingEnabled:!1,preferredAphidType:null},{id:"field2",type:null,level:1,progress:0,isHarvestable:!1,hasAutoFarming:!1,autoFarmingEnabled:!1,preferredAphidType:null},{id:"field3",type:null,level:1,progress:0,isHarvestable:!1,hasAutoFarming:!1,autoFarmingEnabled:!1,preferredAphidType:null}]};u();const c=L(()=>o.value.filter($=>$.type!==null)),d=L(()=>o.value.reduce(($,A)=>$+A.level,0)),m=$=>i.value[$]||0,b=$=>{const A=l.value.find(ne=>ne.id===$);if(!A)return s(0);const Q=m($);return Q>=A.maxLevel?s(0):A.baseCost.mul(s(A.costScaling).pow(Q))},x=$=>{const A=l.value.find(re=>re.id===$);if(!A||m($)>=A.maxLevel||!n.value.has(A.aphidType))return!1;const ne=b($);return t.value.gte(ne)},h=$=>{if(!x($))return!1;const A=b($);t.value=t.value.sub(A);const Q=m($);return i.value[$]=Q+1,!0},C=$=>{const A=l.value.find(ne=>ne.id===$);if(!A)return 0;const Q=m($);return A.effect(Q)},w=$=>{const A=l.value.find(ne=>ne.id===$);if(!A)return"";const Q=C($);return A.description.replace("{effect}",Q.toString())},M=$=>l.value.filter(A=>A.aphidType===$),S=($,A)=>{const Q=$s[$];if(!Q)return s(0);let ne=Q.baseYield.mul(s(1).add(s(A-1).mul(.5)));if($==="greenleaf"){const re=C("greenleaf-yield");re>0&&(ne=ne.mul(s(1).add(s(re).div(100))))}else if($==="bubbleback"){const re=C("bubbleback-efficiency");re>0&&(ne=ne.mul(s(1).add(s(re).mul(A).div(100))))}else if($==="fungal"){const re=C("fungal-fields");if(re>0){const V=o.value.length;ne=ne.mul(s(1).add(s(re).mul(V).div(100)))}}else if($==="golden"){const re=C("golden-shine");re>0&&Math.random()<re/100&&(ne=ne.mul(2))}return ne},_=$=>{const A=$s[$];if(!A)return 0;let Q=A.growthTime;if($==="greenleaf"){const re=C("greenleaf-growth");re>0&&(Q*=1-re/100)}const ne=C("pheromelion-catalyst");return ne>0&&o.value.some(V=>V.type==="pheromelion")&&(Q*=1-ne/100),Math.max(1,Math.floor(Q))},y=()=>{const $=o.value.length;return $<=3?s(5e3):s(5e3).mul(s(5).pow($-3))},P=()=>{const $=y();return t.value.gte($)},I=()=>{const $=y();if(t.value.lt($))return!1;t.value=t.value.sub($);const A=`field${o.value.length+1}`;return o.value.push({id:A,type:null,level:1,progress:0,isHarvestable:!1,hasAutoFarming:!1,autoFarmingEnabled:!1,preferredAphidType:null}),!0},U=()=>{o.value.length===0&&u()},q=$=>{if(n.value.has($))return!0;const A=$s[$];return A&&t.value.gte(A.unlockCost)?(t.value=t.value.sub(A.unlockCost),n.value.add($),!0):!1},k=($,A)=>{if(!n.value.has(A))return!1;const Q=o.value.findIndex(ne=>ne.id===$);return Q===-1?!1:(o.value[Q].type=A,o.value[Q].progress=0,o.value[Q].isHarvestable=!1,!0)},W=$=>{const A=o.value.findIndex(V=>V.id===$);if(A===-1||!o.value[A].isHarvestable)return s(0);const Q=o.value[A];if(!Q.type)return s(0);let ne=S(Q.type,Q.level);const re=X($);return ne=ne.mul(re),t.value=t.value.add(ne),Q.progress=0,Q.isHarvestable=!1,Q.type=null,ne},le=$=>{const A=o.value.findIndex(ne=>ne.id===$);return A===-1?[]:[A-1,A+1].filter(ne=>ne>=0&&ne<o.value.length).map(ne=>o.value[ne].id)},X=$=>{const A=C("golden-aura");if(A<=0)return s(1);const Q=le($),ne=o.value.filter(re=>Q.includes(re.id)&&re.type==="golden").length;return ne<=0?s(1):s(1).add(s(A).mul(ne).div(100))},j=$=>{const A=o.value.findIndex(re=>re.id===$);if(A===-1)return!1;const Q=o.value[A],ne=T(Q);return t.value.gte(ne)?(t.value=t.value.sub(ne),Q.level+=1,!0):!1},T=$=>{const A=o.value.findIndex(Q=>Q.id===$.id);return s(100).mul(s(1.5).pow($.level-1)).mul(s(A+1))},K=$=>{const A=o.value.findIndex(Q=>Q.id===$);return A===-1?s(0):s(1e4).mul(s(A+1).pow(1.2))},fe=$=>{const A=o.value.find(ne=>ne.id===$);if(!A||A.hasAutoFarming||A.level<10)return!1;const Q=K($);return t.value.gte(Q)},we=$=>{const A=o.value.find(ne=>ne.id===$);if(!A||A.hasAutoFarming||A.level<10)return!1;const Q=K($);return t.value.lt(Q)?!1:(t.value=t.value.sub(Q),A.hasAutoFarming=!0,A.autoFarmingEnabled=!0,!0)},Se=($,A=null)=>{const Q=o.value.find(ne=>ne.id===$);return!Q||!Q.hasAutoFarming?!1:(Q.autoFarmingEnabled=!Q.autoFarmingEnabled,A&&n.value.has(A)?Q.preferredAphidType=A:!Q.preferredAphidType&&Q.type?Q.preferredAphidType=Q.type:Q.preferredAphidType||(Q.preferredAphidType=Array.from(n.value)[0]),!0)},pe=($,A)=>{const Q=o.value.find(ne=>ne.id===$);return!Q||!Q.hasAutoFarming||!n.value.has(A)?!1:(Q.preferredAphidType=A,!0)},ce=()=>{if(e.isFeatureUnlocked.aphidFarm)for(const $ of o.value){if($.hasAutoFarming&&$.autoFarmingEnabled&&$.preferredAphidType){if($.isHarvestable&&$.type){let A=S($.type,$.level);const Q=X($.id);A=A.mul(Q),t.value=t.value.add(A),$.progress=0,$.isHarvestable=!1,$.type=null}$.type||($.type=$.preferredAphidType,$.progress=0,$.isHarvestable=!1)}if($.type&&!$.isHarvestable){const A=_($.type);$.progress+=1/A,$.progress>=1&&($.progress=1,$.isHarvestable=!0)}}},ke=$=>{const A=o.value.find(Q=>Q.id===$);return!A||!A.type?0:Math.floor(A.progress*100)},ue=$=>{const A=o.value.find(Q=>Q.id===$);return A?T(A):s(0)},Z=$=>{const A=ue($);return t.value.gte(A)},de=$=>{$.honeydew&&(t.value=s($.honeydew)),$.fields&&Array.isArray($.fields)?o.value=$.fields.map(A=>"hasAutoFarming"in A&&"autoFarmingEnabled"in A&&"preferredAphidType"in A?A:{...A,hasAutoFarming:!1,autoFarmingEnabled:!1,preferredAphidType:null}):u(),$.unlockedAphidTypes&&Array.isArray($.unlockedAphidTypes)&&(n.value=new Set($.unlockedAphidTypes)),a.value=$.selectedAphidType??"greenleaf",oe.value=$.hasPlantAllUnlocked??!1,te.value=$.hasHarvestAllUnlocked??!1,i.value=$.upgradesPurchased??{}},oe=B(!1),te=B(!1),ae=()=>s(5e3),F=()=>s(7500);return{honeydew:t,fields:o,unlockedAphidTypes:n,hasPlantAllUnlocked:oe,hasHarvestAllUnlocked:te,selectedAphidType:a,aphidUpgrades:l,upgradesPurchased:i,APHID_TYPES:$s,activeFields:c,totalFieldLevel:d,unlockAphidFarm:U,unlockAphidType:q,plantAphid:k,harvestField:W,upgradeField:j,buyNewField:I,update:ce,purchaseAutoFarming:we,toggleAutoFarming:Se,setPreferredAphidType:pe,unlockPlantAll:()=>{if(oe.value)return!0;const $=ae();return t.value.lt($)?!1:(t.value=t.value.sub($),oe.value=!0,!0)},unlockHarvestAll:()=>{if(te.value)return!0;const $=F();return t.value.lt($)?!1:(t.value=t.value.sub($),te.value=!0,!0)},purchaseUpgrade:h,getAphidYield:S,getAphidGrowthTime:_,getFieldProgressPercentage:ke,getFieldUpgradeCost:ue,canUpgradeField:Z,calculateNewFieldCost:y,canBuyNewField:P,calculateAutoFarmingCost:K,canPurchaseAutoFarming:fe,calculatePlantAllCost:ae,calculateHarvestAllCost:F,canUnlockPlantAll:()=>oe.value?!1:t.value.gte(ae()),canUnlockHarvestAll:()=>te.value?!1:t.value.gte(F()),getUpgradeLevel:m,calculateUpgradeCost:b,canPurchaseUpgrade:x,getUpgradeEffect:C,getUpgradeDescription:w,getUpgradesForAphid:M,getAdjacentFieldIds:le,getGoldenAuraMultiplier:X,getState:()=>({honeydew:t.value.toString(),fields:o.value,unlockedAphidTypes:Array.from(n.value),hasPlantAllUnlocked:oe.value,hasHarvestAllUnlocked:te.value,selectedAphidType:a.value,upgradesPurchased:i.value}),loadState:de}}),Cs="idle-ant-farm-save",yg=6e4,kg=2e3,Ui=3600,ur=ft("saveSystem",()=>{const e=st(),t=B(!0),o=B(!0),n=B(!0),a=B(Date.now()),l=B(Date.now()),i=B(!1),u=B(!1),c=B(!1),d=B(0),m=B(0),b=B(0),x=B(new he(0)),h=[],C=()=>{x.value=new he(e.food),Re(` Initial food captured: ${x.value.toString()}`),h.length=0;const te=e.generators;for(const ae of te)(ae.unlocked||ae.count.gt(0))&&h.push({id:ae.id,name:ae.name,beforeCount:new he(ae.count),afterCount:new he(ae.count),generated:new he(0),selfReplicated:ae.selfReplicated?new he(ae.selfReplicated):new he(0),icon:ae.icon});Re(` Initial generator state captured: ${h.length} generators`),h.length>0&&h[0]&&Re(" First generator:",{id:h[0].id,count:h[0].beforeCount.toString(),selfReplicated:h[0].selfReplicated.toString()})},w=B([]);let M=null;const S=()=>({gameStore:Jt(),generatorStore:st(),prestigeStore:Ve(),generatorUpgradeStore:bt(),inventoryStore:Pt(),adventureStore:Bt(),tourStore:mn(),progressionStore:Yt(),filterStore:Fa(),achievementStore:Xt(),pheromoneEssenceStore:St(),pheromoneShopStore:gs(),colonyRushStore:ns(),wikiStore:Or(),questStore:ht(),megaAntStore:gt(),aphidFarmStore:$r()}),_=()=>{const te=S(),ae=Date.now();return{settings:{autoSaveEnabled:t.value,offlineProgressEnabled:o.value,autoEnableGeneratorsAfterPrestige:n.value},lastSaveTime:ae,gameStore:te.gameStore.getState(),generatorStore:te.generatorStore.getState(),prestigeStore:te.prestigeStore.getState(),generatorUpgradeStore:te.generatorUpgradeStore.getState(),inventoryStore:te.inventoryStore.getState(),adventureStore:te.adventureStore.getState(),tourStore:te.tourStore.collectState(),progressionStore:te.progressionStore.getState(),filterStore:te.filterStore.getState(),achievementStore:te.achievementStore.getState(),pheromoneEssenceStore:te.pheromoneEssenceStore.getState(),pheromoneShopStore:te.pheromoneShopStore.getState(),colonyRush:te.colonyRushStore.getState(),wikiStore:te.wikiStore.getState(),questStore:te.questStore.getState(),megaAntStore:te.megaAntStore.getState(),aphidFarmStore:te.aphidFarmStore.getState()}},y=async te=>{if(!te)return!1;try{const ae=S();return te.settings&&(t.value=te.settings.autoSaveEnabled??!0,o.value=te.settings.offlineProgressEnabled??!0,n.value=te.settings.autoEnableGeneratorsAfterPrestige??!0),te.lastSaveTime&&(a.value=te.lastSaveTime),te.gameStore&&await Promise.resolve(ae.gameStore.loadState(te.gameStore)),te.generatorStore&&await Promise.resolve(ae.generatorStore.loadState(te.generatorStore)),te.prestigeStore&&await Promise.resolve(ae.prestigeStore.loadState(te.prestigeStore)),te.generatorUpgradeStore&&await Promise.resolve(ae.generatorUpgradeStore.loadState(te.generatorUpgradeStore)),te.inventoryStore&&await Promise.resolve(ae.inventoryStore.loadState(te.inventoryStore)),te.adventureStore&&await Promise.resolve(ae.adventureStore.loadState(te.adventureStore)),te.tourStore&&await Promise.resolve(ae.tourStore.applyState(te.tourStore)),te.progressionStore&&await Promise.resolve(ae.progressionStore.loadState(te.progressionStore)),te.filterStore&&await Promise.resolve(ae.filterStore.loadState(te.filterStore)),te.achievementStore&&await Promise.resolve(ae.achievementStore.loadState(te.achievementStore)),te.pheromoneEssenceStore&&await Promise.resolve(ae.pheromoneEssenceStore.loadState(te.pheromoneEssenceStore)),te.pheromoneShopStore&&await Promise.resolve(ae.pheromoneShopStore.loadState(te.pheromoneShopStore)),te.colonyRush&&await Promise.resolve(ae.colonyRushStore.loadState(te.colonyRush)),te.wikiStore&&await Promise.resolve(ae.wikiStore.loadState(te.wikiStore)),te.questStore&&await Promise.resolve(ae.questStore.loadState(te.questStore)),te.megaAntStore&&await Promise.resolve(ae.megaAntStore.loadState(te.megaAntStore)),te.aphidFarmStore&&await Promise.resolve(ae.aphidFarmStore.loadState(te.aphidFarmStore)),l.value=Date.now(),!0}catch(ae){return Qt("Error applying saved state:",ae),!1}},P=async(te,ae,F=!1)=>{if(te<=0){Re();return}Re();const E=F?1:20;let N=0;ae.gameStore.tickDuration;const me=ae.prestigeStore.getUpgradeCount("unlockAdventure").gt(0);let ie=null;if(me&&!F&&(Re(),ie=ae.adventureStore.calculateOfflineCombatProgress(te*2),Re(`[OfflineProgress] Adventure results: ${ie.kills} kills, ${ie.totalFoodGained.toString()} food, ${ie.totalEssenceGained.toString()} essence`),ie.kills>0&&(ae.generatorStore.food=ae.generatorStore.food.add(ie.totalFoodGained),ae.pheromoneEssenceStore.addPheromoneEssence(ie.totalEssenceGained),ae.questStore.activeQuest))){const $=ie.kills+ie.totalDoubleKills*2,A=ae.adventureStore.selectedBugId;A&&ae.questStore.updateDefeatBugProgress(A,$)}for(;N<te;){const O=te-N,$=Math.min(E,O);if(ae.gameStore.tick($,F),ae.prestigeStore.getUpgradeCount("unlockMegaAnt").gt(0)){const A=ae.gameStore.tickDuration,Q=$*A;ae.megaAntStore.processOfflineProgress(Q)}if(N+=$,m.value+=$,N%Math.max(1,Math.floor(te/10))===0||N===te){const A=Math.floor(m.value/d.value*100);Re(`[OfflineProgress] Precise processing: ${A}% total (${m.value}/${d.value})`)}await new Promise(A=>setTimeout(A,0))}Re()},I=async(te,ae)=>{if(te<=0)return Re(),Promise.resolve();if(Re(),ae.prestigeStore.getUpgradeCount("unlockAdventure").gt(0)){Re();const E=ae.adventureStore.calculateOfflineCombatProgress(te*2);if(Re(`[OfflineProgress] Adventure batch results: ${E.kills} kills, ${E.totalFoodGained.toString()} food, ${E.totalEssenceGained.toString()} essence`),E.kills>0&&(ae.generatorStore.food=ae.generatorStore.food.add(E.totalFoodGained),ae.pheromoneEssenceStore.addPheromoneEssence(E.totalEssenceGained),ae.questStore.activeQuest)){const me=E.kills+E.totalDoubleKills*2,ie=ae.adventureStore.selectedBugId;ie&&ae.questStore.updateDefeatBugProgress(ie,me)}}return new Promise(E=>{let me=0;const ie=()=>{const O=te-me,$=Math.min(100,O);if($<=0){Re(),E();return}if(ae.gameStore.tick($),ae.prestigeStore.getUpgradeCount("unlockMegaAnt").gt(0)){const A=ae.gameStore.tickDuration,Q=$*A;ae.megaAntStore.processOfflineProgress(Q)}if(me+=$,m.value+=$,me%Math.max(1,Math.floor(te/10))===0||me===te){const A=Math.floor(m.value/d.value*100);Re(`[OfflineProgress] Batch processing: ${A}% total (${m.value}/${d.value})`)}setTimeout(ie,0)};ie()})},U=(te,ae=!1)=>new Promise(F=>{if(!o.value){F(null);return}const E=ae?te:(Date.now()-te)/1e3;if(Re(`Calculating offline progress for ${E.toFixed(1)} seconds`),E<60){F(null);return}const N=1*24*60*60,me=Math.min(E,N);E>N&&Re();const ie=S(),O=ie.gameStore.tickDuration,$=Math.floor(me/O);if($<=0){F(null);return}Re(),C(),i.value=!0;const A=ns();c.value=!A.isProcessingRush,setTimeout(async()=>{if(d.value=$,m.value=0,b.value=me,Re(),me<Ui)Re(`[OfflineProgress] Using precise tick processing for ${me.toFixed(1)}s (< 1 hour)`),await P($,ie);else{Re(`[OfflineProgress] Using hybrid processing for ${me.toFixed(1)}s (>= 1 hour)`);const Q=Math.floor(Ui/O),ne=Math.max(0,$-Q);Re(),ne>0&&(Re(),await I(ne,ie)),Re(),Q>0&&(Re(),await P(Q,ie)),Re()}q(F)},50)}),q=te=>{Re(),i.value=!1,u.value=!0,Re(),oe();const ae=e.food.sub(x.value);Re(` Food generated during offline progress: ${ae.toString()}`),Re(` Food values: initial=${x.value.toString()}, final=${e.food.toString()}`),Re(),te({elapsedTime:b.value,ticks:d.value,processedTicks:m.value})},k=()=>{try{const te=_();return localStorage.setItem(Cs,JSON.stringify(te)),a.value=te.lastSaveTime,Re("Game saved successfully"),!0}catch(te){return Qt("Error saving game:",te),!1}},W=(te=!1)=>new Promise(ae=>{try{const F=_();localStorage.setItem(Cs,JSON.stringify(F)),a.value=te?Date.now():F.lastSaveTime,Re("Game saved successfully"),ae(!0)}catch(F){Qt("Error saving game:",F),ae(!1)}}),le=async()=>{try{const te=localStorage.getItem(Cs);if(!te)return!1;const ae=JSON.parse(te),F=await y(ae);if(F&&o.value){const E=ae.lastSaveTime||Date.now();Re(`Calculating offline progress from saved time: ${new Date(E).toLocaleString()}`),await U(E)}return F}catch(te){return Qt("Error loading game:",te),!1}},X=()=>{try{const te=_(),ae=JSON.stringify(te);return btoa(ae)}catch(te){return Qt("Error exporting save:",te),null}},j=()=>{try{const te=X();if(!te)return!1;const E=`idle-ant-farm-save-${new Date().toISOString().split("T")[0]}.txt`,N=new Blob([te],{type:"text/plain"}),me=window.URL.createObjectURL(N),ie=document.createElement("a");return ie.href=me,ie.download=E,document.body.appendChild(ie),ie.click(),window.URL.revokeObjectURL(me),document.body.removeChild(ie),!0}catch(te){return Qt("Error exporting save to file:",te),!1}},T=async te=>{try{const ae=atob(te),F=JSON.parse(ae);return await y(F)}catch(ae){return Qt("Error importing save:",ae),!1}},K=async te=>{try{return new Promise(async ae=>{const F=new FileReader;F.onload=async E=>{var N;if((N=E.target)!=null&&N.result){const me=E.target.result,ie=await T(me);ae(ie)}else ae(!1)},F.onerror=()=>{Qt("Error reading file"),ae(!1)},F.readAsText(te)})}catch(ae){return Qt("Error importing save from file:",ae),!1}},fe=()=>{try{return localStorage.removeItem(Cs),window.location.reload(),Re("Game reset successfully"),!0}catch(te){return Qt("Error resetting game:",te),!1}},we=mg(()=>{t.value&&k()},kg),Se=()=>{M||(M=window.setInterval(()=>{t.value&&k()},yg))},pe=()=>{M&&(clearInterval(M),M=null)},ce=()=>{t.value=!t.value,t.value&&Se(),we()},ke=()=>{o.value=!o.value,we()},ue=()=>{n.value=!n.value,we()},Z=async te=>{if(te<=0)return!1;const ae=te*60*60;return Re(),await U(ae,!0),!0},de=L(()=>((Date.now()-a.value)/1e3).toFixed(0)),oe=()=>{const te=e.generators;for(let ae=0;ae<h.length;ae++){const F=h[ae];if(!F)continue;const E=te.find(N=>N.id===F.id);if(E){const N=new he(E.count),me=N.sub(F.beforeCount),O=(E.selfReplicated?new he(E.selfReplicated):new he(0)).sub(F.selfReplicated);h[ae]={...F,afterCount:N,generated:me,selfReplicated:O}}}Re()};return{autoSaveEnabled:t,offlineProgressEnabled:o,autoEnableGeneratorsAfterPrestige:n,lastSaveTime:a,lastLoadTime:l,timeSinceLastSave:de,isCalculatingOfflineProgress:i,isCalculationComplete:u,showOfflineProgressModal:c,offlineProgressTotalTicks:d,offlineProgressTicksProcessed:m,offlineProgressElapsedTime:b,generatorStats:h,initialFoodAmount:x,saveGame:k,saveGameAsync:W,loadGame:le,exportSave:X,exportSaveToFile:j,importSave:T,importSaveFromFile:K,resetGame:fe,startAutoSave:Se,stopAutoSave:pe,toggleAutoSave:ce,debouncedSave:we,toggleOfflineProgress:ke,toggleAutoEnableGeneratorsAfterPrestige:ue,calculateOfflineProgress:U,processRealTicks:P,simulateOfflineTime:Z,captureInitialState:C,updateGeneratorStats:oe,getStores:S,calculationTimeouts:w}}),Jt=ft("game",()=>{const e=B(10),t=B(1),o=L(()=>{const U=Ve(),q=U.getUpgradeMultiplier("cycleTimeReduction").toNumber(),k=U.getUpgradeMultiplier("cycleTimeReductionAdvanced").toNumber();return Math.max(.1,(e.value-q-k)/t.value)}),n=B(0),a=B(0),l=B(Date.now()),i=B(!0),u=B(s(0)),c=B(s(0)),d=L(()=>Math.round(n.value*100)),m=L(()=>Math.round(a.value*100)),b=L(()=>(o.value*(1-n.value)).toFixed(1)),x=L(()=>(o.value/2*(1-a.value)).toFixed(1)),h=L(()=>ge(u.value,0)),C=L(()=>ge(c.value,0));function w(U=1,q=!1){u.value=u.value.add(U),c.value=c.value.add(U),st().tick(),Ve().updateLoopProgress(U),bt().updateWorkerProgress(U);try{gt().update()}catch(T){console.error("Error processing Mega Ant update:",T)}try{$r().update()}catch(T){console.error("Error processing Aphid Farm update:",T)}Yt().checkProgression();try{ht().tick()}catch(T){console.error("Error processing quests:",T)}q||(Bt().tick(),Bt().tick()),ur().debouncedSave(),n.value=0,l.value=Date.now()}function M(){if(!i.value)return;const U=Date.now(),q=(U-l.value)/1e3;n.value+=q/o.value,Ve().getUpgradeCount("unlockAdventure").gt(0)&&(a.value+=q/(o.value/2),a.value>=1&&(Bt().tick(),a.value=0)),n.value>=1&&w(),l.value=U}function S(){i.value=!i.value,i.value&&(l.value=Date.now())}function _(U){t.value=U,console.log(`Game speed set to ${U}x`)}const y=()=>({totalTicks:u.value.toString(),currentEvolutionTicks:c.value.toString(),baseTickDuration:e.value,gameSpeed:t.value}),P=U=>{U.totalTicks&&(u.value=s(U.totalTicks)),U.currentEvolutionTicks&&(c.value=s(U.currentEvolutionTicks)),U.baseTickDuration&&(e.value=U.baseTickDuration),U.gameSpeed&&(t.value=U.gameSpeed)};function I(){c.value=s(0)}return{tickDuration:o,tickProgress:n,adventureTickProgress:a,isRunning:i,totalTicks:u,currentEvolutionTicks:c,formattedTotalTicks:h,formattedCurrentEvolutionTicks:C,progressPercentage:d,adventureProgressPercentage:m,timeRemaining:b,adventureTimeRemaining:x,gameSpeed:t,setGameSpeed:_,tick:w,updateProgress:M,toggleRunning:S,getState:y,loadState:P,resetEvolutionTicks:I}}),Xt=ft("achievements",()=>{const e=B(zc),t=B(Wc),o=B({food:s(0),totalFood:s(0),workers:s(0),totalWorkers:s(0),nurseries:s(0),totalNurseries:s(0),queenChambers:s(0),totalQueenChambers:s(0),colonies:s(0),totalColonies:s(0),megacolonies:s(0),totalMegacolonies:s(0),hiveminds:s(0),totalHiveminds:s(0),antopolis:s(0),totalAntopolis:s(0),evolutionPoints:s(0),totalEvolutionPoints:s(0),totalEvolutions:s(0),maxLoopsInEvolution:s(0),totalGameTime:s(0),fastestEvolution:s(0),generatorUpgradesPurchased:s(0),prestigeUpgradesPurchased:s(0)}),n=B([]),a=B(!1),l=B(!0),i=L(()=>e.value.length),u=L(()=>e.value.filter(U=>U.completed).length),c=L(()=>u.value/i.value*100),d=U=>e.value.filter(q=>q.categoryId===U),m=()=>e.value.filter(U=>!U.hiddenUntilCompleted||U.completed),b=U=>{const q=e.value.find(k=>k.id===U);return q?q.completed:!1},x=(U,q,k=!1)=>{o.value[U]&&(k?o.value[U]=o.value[U].add(q):q.gt(o.value[U])&&(o.value[U]=q),h(U))},h=U=>{const q=e.value.filter(k=>k.targetStat===U&&!k.completed);for(const k of q)k.currentValue=o.value[U],k.currentValue.gte(k.requirement)&&C(k.id)},C=U=>{console.log("completeAchievement",U);const q=e.value.find(k=>k.id===U);!q||q.completed||(q.completed=!0,q.completionDate=Date.now(),n.value.push(q),l.value&&(a.value=!0),setTimeout(()=>{n.value=n.value.filter(k=>k.id!==U),n.value.length===0&&(a.value=!1)},5e3))},w=(U,q)=>{x("food",U,!1),x("totalFood",q,!0)},M=(U,q)=>{switch(U){case"worker":x("workers",q,!1);break;case"nursery":x("nurseries",q,!1);break;case"queenChamber":x("queenChambers",q,!1);break;case"colony":x("colonies",q,!1);break;case"megacolony":x("megacolonies",q,!1);break;case"hivemind":x("hiveminds",q,!1);break;case"antopolis":x("antopolis",q,!1);break}},S=(U,q,k,W)=>{x("evolutionPoints",U,!1),x("totalEvolutionPoints",q,!0),x("totalEvolutions",k,!1),x("maxLoopsInEvolution",W,!1)},_=U=>{x("totalGameTime",s(U),!0)};return{achievementList:e,categories:t,stats:o,recentlyCompleted:n,showNotification:a,notificationsEnabled:l,totalAchievements:i,completedAchievements:u,completionPercentage:c,getAchievementsByCategory:d,getVisibleAchievements:m,checkAchievement:b,updateStats:x,completeAchievement:C,updateFoodStats:w,updateGeneratorCounts:M,updateEvolutionStats:S,updateGameTime:_,tick:(U=1)=>{try{const q=Jt();_(U)}catch(q){console.error("Error updating game time achievements:",q)}},getState:()=>({achievements:e.value.map(U=>({id:U.id,currentValue:U.currentValue.toString(),completed:U.completed,completionDate:U.completionDate})),stats:Object.entries(o.value).reduce((U,[q,k])=>(U[q]=k.toString(),U),{}),notificationsEnabled:l.value}),loadState:U=>{U.achievements&&Array.isArray(U.achievements)&&U.achievements.forEach(q=>{const k=e.value.find(W=>W.id===q.id);k&&(k.currentValue=s(q.currentValue),k.completed=q.completed,k.completionDate=q.completionDate)}),U.stats&&Object.entries(U.stats).forEach(([q,k])=>{const W=q;o.value[W]!==void 0&&(o.value[W]=s(k))}),U.notificationsEnabled!==void 0&&(l.value=U.notificationsEnabled)}}}),Vt=ft("multiplier",()=>{const e=st(),t=Ve(),o=bt(),n=Pt(),a=Xt(),l=gs();ht(),gt(),dt();const i=()=>{const oe=Pt(),te=dt(),ae=[],F=t.getAllMultipliers();t.evolutionUpgrades.forEach(ie=>{if(!ie.level.eq(0)&&!(ie.category!=="production"&&ie.category!=="synergy")&&ie.appliesTo.includes("global"))if(ie.id==="generatorSynergy"||ie.id==="evolutionSynergy"){const O=ie.id==="generatorSynergy"?"generatorSynergyBonus":"evolutionSynergyBonus";F[O]&&F[O].gt(1)&&ae.push({id:O,name:ie.name,getMultiplier:()=>F[O]||s(1),appliesTo:()=>!0})}else ae.push({id:ie.id,name:ie.name,getMultiplier:()=>t.getUpgradeMultiplier(ie.id),appliesTo:()=>!0})});const N=oe.totalSpecialModifiers;N.global&&N.global.gt(1)&&ae.push({id:"item_global_multiplier",name:"Global Production Bonus",getMultiplier:()=>N.global,appliesTo:()=>!0}),oe.equipmentSlots.forEach(ie=>{if(ie.item){const O=oe.inventory.find($=>$.id===ie.item);if(O){const $=te.getItemSpecialModifiers(O);$!=null&&$.global&&ae.push({id:`equipment_${ie.id}_global`,name:`${O.name} (Lvl ${O.level.toString()}) - Global`,getMultiplier:()=>$.global||he.fromNumber(1),appliesTo:()=>!0})}}});const me=ue();return me.gt(1)&&ae.push({id:"colony_mega_global_multiplier",name:"Mega Ant Colony Global Bonus",getMultiplier:()=>me,appliesTo:()=>!0}),ae},u=()=>{const oe=[];return t.evolutionUpgrades.forEach(ae=>{ae.level.eq(0)||ae.isCombo||ae.category!=="production"&&ae.category!=="synergy"||ae.appliesTo&&ae.appliesTo.length>0&&oe.push({id:ae.id,name:ae.name,getMultiplier:()=>t.getUpgradeMultiplier(ae.id),appliesTo:F=>{var E;return((E=ae.appliesTo)==null?void 0:E.includes(F))||!1}})}),oe.push({id:"advancedEfficiency",name:"Advanced Efficiency",getMultiplier:()=>t.getUpgradeMultiplier("strongerSoldiers"),appliesTo:ae=>{const F=e.getGenerator(ae);return F?F.tier>4:!1}}),oe},c=()=>{const oe=[];return t.evolutionUpgrades.forEach(ae=>{ae.level.eq(0)||ae.isCombo&&(!ae.effects||ae.effects.length===0||ae.effects.forEach(F=>{F.target!=="global"&&F.target!=="ep"?oe.push({id:`${ae.id}_${F.target}`,name:ae.name,getMultiplier:()=>F.multiplier(ae.level),appliesTo:E=>E===F.target}):F.target==="global"&&oe.push({id:`${ae.id}_global`,name:ae.name,getMultiplier:()=>F.multiplier(ae.level),appliesTo:()=>!0})}))}),oe},d=oe=>{let te=s(1);return t.evolutionUpgrades.forEach(F=>{F.level.eq(0)||F.category==="level-requirement"&&(F.appliesTo.includes("global")||F.appliesTo.includes(oe))&&(te=te.mul(F.effect(F.level)))}),te},m=()=>{const oe=[];return o.generatorUpgrades.filter(F=>!["Training","Expansion","Longevity","Automation","Fertility","Dominance"].some(N=>F.id.includes(N))).forEach(F=>{F.level.gt(0)&&oe.push({id:F.id,name:F.name,getMultiplier:()=>o.getUpgradeMultiplier(F.id),appliesTo:E=>E===F.generatorId})}),oe},b=()=>{const oe=Pt(),te=dt(),ae=[];return oe.equipmentSlots.forEach(F=>{if(F.item){const E=oe.inventory.find(N=>N.id===F.item);if(E){const N=te.getItemProductionModifiers(E);N&&Object.entries(N).forEach(([ie,O])=>{ie!=="global"&&ae.push({id:`equipment_${F.id}_${ie}`,name:`${E.name} (Lvl ${E.level.toString()})`,getMultiplier:$=>$===ie?O:he.fromNumber(1),appliesTo:$=>$===ie})});const me=te.getItemSpecialModifiers(E);me!=null&&me.global&&ae.push({id:`equipment_${F.id}_global`,name:`${E.name} (Lvl ${E.level.toString()}) - Global`,getMultiplier:()=>me.global||he.fromNumber(1),appliesTo:()=>!0})}}}),ae},x=()=>{const oe=[{id:"tierBonus",name:"Tier Bonus",getMultiplier:ae=>{const F=e.getGenerator(ae);if(F&&F.tier>4){const E=1+(F.tier-4)*.1;return s(E)}return s(1)},appliesTo:ae=>{const F=e.getGenerator(ae);return F?F.tier>4:!1}},{id:"evolutionaryAdaptation",name:"Evolutionary Adaptation",getMultiplier:ae=>{const F=t.getUpgrade("evolutionaryAdaptation");if(F&&F.level.gt(0)){const E=t.evolutionCount;return s(1).add(E.mul(.01))}return s(1)},appliesTo:ae=>{const F=t.getUpgrade("evolutionaryAdaptation");return F?F.appliesTo.includes(ae):!1}}],te=n.totalSpecialModifiers;return te.global&&te.global.gt(1)&&oe.push({id:"item_global_multiplier",name:"Global Production Bonus",getMultiplier:()=>te.global,appliesTo:()=>!0}),oe},h=()=>{const oe=[];return a.achievementList.filter(ae=>ae.completed&&ae.modifiers&&ae.modifiers.length>0).forEach(ae=>{ae.modifiers&&ae.modifiers.forEach(F=>{oe.push({id:`achievement_${ae.id}_${F.target}`,name:ae.name,getMultiplier:()=>F.multiplier,appliesTo:E=>F.target==="global"?!0:F.target==="ep"?!1:E===F.target})})}),oe},C=()=>{try{let oe=s(1);const te=l.shopItems;for(const ae of te){const F=l.getItemLevel(ae.id);if(F!==0)for(const E of ae.modifiers)E.target==="ep"&&F>=E.unlockLevel&&(oe=oe.mul(E.multiplier(F)))}return oe}catch(oe){return console.error("Error calculating Pheromone Shop EP multiplier:",oe),s(1)}},w=oe=>{try{let te=s(1);const ae=l.shopItems;for(const F of ae){const E=l.getItemLevel(F.id);if(E!==0)for(const N of F.modifiers)N.target===oe&&E>=N.unlockLevel&&(te=te.mul(N.multiplier(E)))}return te}catch(te){return console.error(`Error calculating Pheromone Shop multiplier for ${oe}:`,te),s(1)}},M=()=>{try{let oe=s(1);const te=l.shopItems;for(const ae of te){const F=l.getItemLevel(ae.id);if(F!==0)for(const E of ae.modifiers)E.target==="global"&&F>=E.unlockLevel&&(oe=oe.mul(E.multiplier(F)))}return oe}catch(oe){return console.error("Error calculating Pheromone Shop Global multiplier:",oe),s(1)}},S=()=>{try{let oe=s(1);const te=l.shopItems;for(const F of te){const E=l.getItemLevel(F.id);if(E!==0){for(const N of F.modifiers)if(N.target==="pheromone"&&E>=N.unlockLevel){const me=N.multiplier(E);oe=oe.add(me)}}}t.evolutionUpgrades.forEach(F=>{F.level.eq(0)||!F.isCombo||!F.effects||F.effects.forEach(E=>{if(E.target==="pheromone")if(E.isMultiplier){const N=E.multiplier(F.level);oe=oe.mul(N)}else{const N=E.multiplier(F.level);oe=oe.add(N)}})});try{ht().completedQuests.forEach(E=>{E.rewards.forEach(N=>{N.type===fr.MULTIPLIER&&N.target==="pheromone"&&(oe=oe.add(s(N.value)))})})}catch(F){console.error("Error getting pheromone multipliers from quests:",F)}return oe=oe.mul(ke()),oe}catch(oe){return console.error("Error calculating Pheromone gain multiplier:",oe),s(1)}},_=()=>{try{let oe=s(1);const te=l.shopItems;for(const F of te){const E=l.getItemLevel(F.id);if(E!==0)for(const N of F.modifiers)N.target==="food"&&E>=N.unlockLevel&&(oe=oe.mul(N.multiplier(E)))}t.evolutionUpgrades.forEach(F=>{F.level.eq(0)||!F.isCombo||!F.effects||F.effects.forEach(E=>{E.target==="food"&&(oe=oe.mul(E.multiplier(F.level)))})});try{ht().completedQuests.forEach(E=>{E.rewards.forEach(N=>{N.type===fr.MULTIPLIER&&N.target==="food"&&typeof N.value=="number"&&(oe=oe.mul(N.value))})})}catch(F){console.error("Error getting food multipliers from quests:",F)}return oe}catch(oe){return console.error("Error calculating Food Production multiplier:",oe),s(1)}},y=()=>{const oe=[];return oe.push({id:"pheromone_shop_global",name:"Pheromone Shop Global Bonus",getMultiplier:()=>M(),appliesTo:()=>!0}),oe.push({id:"pheromone_shop_generator",name:"Pheromone Shop Generator Bonus",getMultiplier:te=>w(te),appliesTo:()=>!0}),oe},P=()=>{const oe=[];try{const te=ht();te.completedQuests.length>0&&te.completedQuests.forEach(ae=>{ae.rewards.forEach((F,E)=>{F.type===fr.MULTIPLIER&&F.target&&typeof F.value=="number"&&oe.push({id:`quest_${ae.id}_reward_${E}`,name:`${ae.title} Reward`,getMultiplier:()=>s(F.value),appliesTo:N=>F.target==="global"?!0:F.target==="food"||F.target==="pheromone"?!1:N===F.target})})})}catch(te){console.error("Error retrieving quest multipliers:",te)}return oe},I=(oe=!1)=>{const te=[...i(),...u(),...c(),...m(),...b(),...x(),...y(),...P()];return oe||te.push(...h()),te},U=(oe,te=!1)=>{let ae=s(1);const F=I(te);for(const E of F)if(E.appliesTo(oe)){const N=E.getMultiplier(oe);N.gt(1)&&(ae=ae.mul(N))}return ae},q=(oe,te=!1)=>U(oe,te),k=oe=>ge(oe,2)+"x",W=(oe,te=!1)=>{const ae=q(oe,te);return k(ae)},le=(oe,te=!1)=>{const ae=[],F=I(te);for(const E of F)if(E.appliesTo(oe)){const N=E.getMultiplier(oe);N.gt(1)&&ae.push({name:E.name,value:N,formatted:k(N),id:E.id})}return ae.sort((E,N)=>N.value.cmp(E.value))},X=oe=>{let te=s(1);const ae=h();for(const F of ae)F.appliesTo(oe)&&(te=te.mul(F.getMultiplier(oe)));return te},j=()=>{const oe=Pt(),te=dt();let ae=he.fromNumber(1);return oe.equipmentSlots.forEach(F=>{if(F.item){const E=oe.inventory.find(N=>N.id===F.item);if(E){const N=te.getItemSpecialModifiers(E);N!=null&&N.epBoost&&(ae=ae.mul(N.epBoost))}}}),ae},T=()=>{const oe=t.evolutionUpgrades;let te=s(1);return oe.forEach(ae=>{var F,E;ae.level.eq(0)||((F=ae.effects)==null||F.forEach(N=>{N.target==="ep"&&(te=te.mul(N.multiplier(ae.level)))}),(E=ae.appliesTo)==null||E.forEach(N=>{var me;N==="ep"&&(te=te.mul(((me=ae.effect)==null?void 0:me.call(ae,ae.level))||s(1)))}))}),te},K=()=>{let oe=s(1);return a.achievementList.filter(ae=>ae.completed&&ae.modifiers&&ae.modifiers.length>0).forEach(ae=>{ae.modifiers&&ae.modifiers.forEach(F=>{F.target==="ep"&&(oe=oe.mul(F.multiplier))})}),oe},fe=()=>{let oe=j();return oe=oe.mul(T()),oe=oe.mul(Se()),oe=oe.mul(we()),oe=oe.mul(K()),oe=oe.mul(C()),oe=oe.mul(ce()),oe},we=()=>{const oe=t.evolutionCount;return s(1).add(oe.div(10))},Se=()=>{var oe;try{const te=st(),ae=bt(),F=Ve(),E=te.getGenerator("queenChamber");if(!E||E.manualPurchases.eq(0))return s(1);const N=ae.getUpgrade("queenChamberEvolution");if(!N||N.level.eq(0))return s(1);const me=F.evolutionCount;if(me.eq(0))return s(1);const O=(((oe=N.effect)==null?void 0:oe.call(N,N.level))||s(0)).mul(E.manualPurchases).mul(me);return s(1).add(O)}catch(te){return console.error("Error calculating Queen Chamber EP boost:",te),s(1)}},pe=oe=>{let te=s(1);return t.evolutionUpgrades.forEach(F=>{if(!F.level.eq(0))if(F.isCombo)F.isCombo&&F.effects&&F.effects.forEach(E=>{const N=E.category==="cost"||E.category===void 0&&E.multiplier(F.level).lt(1);(E.target===oe||E.target==="global")&&N&&(te=te.mul(E.multiplier(F.level)))});else{if(F.category!=="cost")return;F.appliesTo&&F.appliesTo.includes(oe)&&(te=te.mul(t.getUpgradeMultiplier(F.id)))}}),te},ce=()=>{try{const te=gt().getColonyMultiplierForTarget("ep");return s(te)}catch(oe){return console.error("Error calculating colony EP boost:",oe),s(1)}},ke=()=>{try{const te=gt().getColonyMultiplierForTarget("pheromone");return s(te)}catch(oe){return console.error("Error calculating colony pheromone boost:",oe),s(1)}},ue=()=>{try{const te=gt().getColonyMultiplierForTarget("global");return s(te)}catch(oe){return console.error("Error calculating colony global boost:",oe),s(1)}};return{getProductionMultiplier:q,getFormattedMultiplier:W,getMultiplierBreakdown:le,formatMultiplierValue:k,getCombinedAchievementMultiplier:X,getItemEpBoost:j,getUpgradesEpBoost:T,getAchievementEpBoost:K,getEPBoostMultiplier:fe,getQueenChamberEPBoost:Se,getCostMultipliers:pe,getAchievementMultipliers:h,getFoodProductionMultiplier:_,getPheromoneGainMultiplier:S,getPheromoneShopEpMultiplier:C,getPheromoneShopGlobalMultiplier:M,getPheromoneShopGeneratorMultiplier:w,getLevelRequirementMultipliers:d,loadState:oe=>{},getState:()=>({foodMultiplier:_().toString(),pheromoneMultiplier:S().toString(),epMultiplier:C().toString()}),getColonyEPBoost:ce,getColonyPheromoneBoost:ke,getColonyGlobalBoost:ue}}),bt=ft("generatorUpgrade",()=>{const e=B({worker:s(1),nursery:s(1),queenChamber:s(1),colony:s(1),megacolony:s(1),hivemind:s(1),antopolis:s(1)}),t=B({worker:s(0),nursery:s(0),queenChamber:s(0),colony:s(0),megacolony:s(0),hivemind:s(0),antopolis:s(0)}),o=B({worker:s(0),nursery:s(0),queenChamber:s(0),colony:s(0),megacolony:s(0),hivemind:s(0),antopolis:s(0)}),n=(X,j)=>{let T,K;switch(X){case"worker":T=s(5),K=1.5;break;case"nursery":return T=s(1e3),K=1.1,s(T).mul(s(2).pow(s(j).pow(2).div(2)));case"queenChamber":case"hivemind":case"antopolis":T=s(10),K=1.3;break;case"colony":T=s(5),K=1.2;break;case"megacolony":return T=s(1e3),K=1.1,s(T).mul(s(2).pow(s(j).pow(2).div(1.2)));default:T=s(100),K=1.5}const fe=T.mul(j.pow(K));try{const Se=Vt().getLevelRequirementMultipliers(X);return fe.mul(Se)}catch(we){return console.error("Error applying level requirement multiplier:",we),fe}},a=B(Qf),l=X=>a.value.filter(j=>j.generatorId===X),i=X=>a.value.find(j=>j.id===X),u=X=>{var T;const j=i(X);return j?((T=j==null?void 0:j.effect)==null?void 0:T.call(j,j.level))??s(1):s(1)},c=X=>{const j=a.value.filter(K=>K.generatorId===X),T={};return j.forEach(K=>{var fe;T[K.id]=((fe=K.effect)==null?void 0:fe.call(K,K.level))??s(1)}),T},d=(X,j)=>{if(e.value[X].eq(0))return;o.value[X]=o.value[X].add(j);const T=e.value[X],K=n(X,T);o.value[X].gte(K)&&(e.value[X]=e.value[X].add(1),o.value[X]=o.value[X].sub(K),t.value[X]=t.value[X].add(1))},m=X=>{d("worker",s(X))},b=X=>{d("nursery",X)},x=X=>{d("queenChamber",s(X))},h=X=>{d("colony",s(X))},C=X=>{d("megacolony",X)},w=X=>{d("hivemind",s(X))},M=X=>{d("antopolis",s(X))},S=X=>{var T;const j=i(X);return!j||j.maxLevel!==null&&j.level.gte(j.maxLevel)||t.value[j.generatorId].lt(j.cost)?!1:(t.value[j.generatorId]=t.value[j.generatorId].sub(j.cost),j.level=j.level.add(1),h(1),(T=j.apply)==null||T.call(j),!0)},_=()=>({generatorLevels:Object.entries(e.value).reduce((X,[j,T])=>(y(j)&&(X[j]=T.toString()),X),{}),generatorPoints:Object.entries(t.value).reduce((X,[j,T])=>(y(j)&&(X[j]=T.toString()),X),{}),levelProgress:Object.entries(o.value).reduce((X,[j,T])=>(y(j)&&(X[j]=T.toString()),X),{}),upgrades:a.value.map(X=>({id:X.id,level:X.level.toString()}))}),y=X=>["worker","nursery","queenChamber","colony","megacolony","hivemind","antopolis"].includes(X);return{generatorLevels:e,generatorPoints:t,levelProgress:o,generatorUpgrades:a,getUpgradesForGenerator:l,getUpgrade:i,getUpgradeMultiplier:u,getMultipliersForGenerator:c,updateWorkerProgress:m,updateNurseryProgress:b,updateQueenChamberProgress:x,updateColonyProgress:h,updateMegacolonyProgress:C,updateHivemindProgress:w,updateAntopolisProgress:M,purchaseUpgrade:S,resetProgress:()=>{const X=Object.keys(e.value).filter(y);X.forEach(j=>{e.value[j]=s(1)}),X.forEach(j=>{t.value[j]=s(0)}),X.forEach(j=>{o.value[j]=s(0)}),a.value.forEach(j=>{j.level=s(0)})},formatLevel:X=>ge(e.value[X],0),formatPoints:X=>ge(t.value[X],0),formatProgressPercentage:X=>{const j=e.value[X],T=n(X,j),fe=o.value[X].div(T).mul(100).toNumber();return Math.min(100,Math.round(fe))},formatNextLevelRequirement:X=>{const j=e.value[X],T=n(X,j);return ge(T,0)},formatLevelRequirementReduction:X=>{try{const T=Vt().getLevelRequirementMultipliers(X);if(T.gte(1))return"0%";const K=s(1).sub(T).mul(100);return`${ge(K,1)}%`}catch(j){return console.error("Error formatting level requirement reduction:",j),"0%"}},getState:_,loadState:X=>{X.generatorLevels&&Object.entries(X.generatorLevels).forEach(([j,T])=>{y(j)&&(typeof T=="string"||typeof T=="number")&&(e.value[j]=s(T))}),X.generatorPoints&&Object.entries(X.generatorPoints).forEach(([j,T])=>{y(j)&&(typeof T=="string"||typeof T=="number")&&(t.value[j]=s(T))}),X.levelProgress&&Object.entries(X.levelProgress).forEach(([j,T])=>{y(j)&&(typeof T=="string"||typeof T=="number")&&(o.value[j]=s(T))}),X.upgrades&&Array.isArray(X.upgrades)&&X.upgrades.forEach(j=>{const T=i(j.id);T&&j.level&&(typeof j.level=="string"||typeof j.level=="number")&&(T.level=s(j.level))})}}});function Jc(){const e=Xt(),t=a=>{const l=e.achievementList.filter(u=>u.completed&&u.modifiers&&u.modifiers.length>0),i=[];return l.forEach(u=>{u.modifiers&&u.modifiers.forEach(c=>{(c.target===a||a!=="ep"&&c.target==="global")&&i.push({...c,achievementName:u.name,achievementId:u.id})})}),i},o=a=>{const l=t(a);return l.length===0?s(1):l.reduce((i,u)=>i.mul(u.multiplier),s(1))};return{getModifiersByTarget:t,getTotalMultiplier:o,getModifierSummary:a=>{const l=t(a);if(l.length===0)return"";const u=o(a).sub(1).mul(100);let c=a;return a==="global"?c="All generators":a==="ep"?c="Evolution points":a==="worker"?c="Workers":a==="nursery"?c="Nurseries":a==="queenChamber"?c="Queen chambers":a==="colony"?c="Colonies":a==="megacolony"?c="Megacolonies":a==="hivemind"?c="Hiveminds":a==="antopolis"&&(c="Antopolis"),`${c} +${Ct(u)} from ${l.length} achievement${l.length>1?"s":""}`}}}function as(){const e=Vt(),{getTotalMultiplier:t,getModifiersByTarget:o}=Jc(),n=d=>{if(e.getCombinedAchievementMultiplier){const x=e.getCombinedAchievementMultiplier("global"),h=e.getCombinedAchievementMultiplier(d);return x.mul(h)}const m=t("global"),b=t(d);return m.mul(b)},a=d=>{const m=o("global"),b=o(d),x=[];return m.forEach(h=>{const C=h;x.push({name:`${C.achievementName||"Achievement"} (Global)`,value:h.multiplier,formatted:e.formatMultiplierValue(h.multiplier),id:`achievement_${C.achievementId||"unknown"}_global`})}),b.forEach(h=>{const C=h;x.push({name:C.achievementName||"Achievement",value:h.multiplier,formatted:e.formatMultiplierValue(h.multiplier),id:`achievement_${C.achievementId||"unknown"}_${d}`})}),x.sort((h,C)=>C.value.cmp(h.value))},l=()=>{const d=[],m=e.getPheromoneShopEpMultiplier();m.gt(1)&&d.push({name:"Pheromone Shop EP Bonus",value:m,formatted:e.formatMultiplierValue(m),id:"pheromone_shop_ep"});const b=e.getFoodProductionMultiplier();b.gt(1)&&d.push({name:"Pheromone Shop Food Production Bonus",value:b,formatted:e.formatMultiplierValue(b),id:"pheromone_shop_food"});const x=e.getPheromoneGainMultiplier();x.gt(1)&&d.push({name:"Pheromone Shop Essence Gain Bonus",value:x,formatted:e.formatMultiplierValue(x),id:"pheromone_shop_pheromone"});const h=e.getPheromoneShopGlobalMultiplier();return h.gt(1)&&d.push({name:"Pheromone Shop Global Production Bonus",value:h,formatted:e.formatMultiplierValue(h),id:"pheromone_shop_global"}),d.sort((C,w)=>w.value.cmp(C.value))},i=(d,m=!1)=>{const b=e.getMultiplierBreakdown(d,m),x=new Map;b.forEach(C=>{x.set(C.id||C.name,{...C,formatted:e.formatMultiplierValue(C.value)})});const h=n(d);return h.gt(1)&&x.set("achievement_combined",{name:"Achievement Bonuses",value:h,formatted:e.formatMultiplierValue(h),id:"achievement_combined"}),Array.from(x.values()).sort((C,w)=>w.value.cmp(C.value))},u=d=>{const m=e.getProductionMultiplier(d),b=n(d);return m.mul(b)};return{getEnhancedMultiplierBreakdown:i,getFormattedTotalMultiplier:d=>{const m=u(d);return e.formatMultiplierValue(m)},getTotalMultiplier:u,getAchievementMultiplier:n,getAchievementMultiplierBreakdown:a,getPheromoneShopMultiplierBreakdown:l,getProductionMultiplier:e.getProductionMultiplier,getFormattedMultiplier:e.getFormattedMultiplier,getMultiplierBreakdown:e.getMultiplierBreakdown,getPheromoneShopGlobalMultiplier:e.getPheromoneShopGlobalMultiplier,getPheromoneShopGeneratorMultiplier:e.getPheromoneShopGeneratorMultiplier,getFoodProductionMultiplier:e.getFoodProductionMultiplier,getPheromoneGainMultiplier:e.getPheromoneGainMultiplier,getPheromoneShopEpMultiplier:e.getPheromoneShopEpMultiplier,formatMultiplierValue:e.formatMultiplierValue}}function Zc(){const e=bt(),t=st(),o=l=>{const u=e.getUpgradesForGenerator(l).filter(c=>c.maxLevel&&c.level.gte(c.maxLevel)?!1:e.generatorPoints[l].gte(c.cost));return u.sort((c,d)=>c.cost.eq(d.cost)?0:c.cost.lt(d.cost)?-1:1),u.length>0?u[0]:null};return{processAutoUpgrades:()=>{const l=t.generators;for(const i of l){if(!i.autoUpgradeEnabled||i.count.eq(0))continue;const u=i.id;try{const d=Ve(),m=`autoUpgrade${u.charAt(0).toUpperCase()+u.slice(1)}`;if(!d.getUpgradeMultiplier(m).gt(0))continue}catch(d){console.error(`Error checking auto-upgrade for ${u}:`,d);continue}const c=o(u);c&&e.purchaseUpgrade(c.id)}},findCheapestUpgrade:o,hasAvailableUpgrades:l=>o(l)!==null}}const _g=Object.freeze(Object.defineProperty({__proto__:null,useAutoUpgrade:Zc},Symbol.toStringTag,{value:"Module"})),st=ft("generator",()=>{const e=B([{id:"worker",name:"Worker Ant",description:"Gathers food and materials for the colony",tier:1,count:s(0),manualPurchases:s(0),selfReplicated:s(0),baseCost:s(10),costGrowth:s(1.1),initialBaseProduction:s(10),unlocked:!0,purchasable:!1,icon:"i-heroicons-bug-ant",autoPurchaseEnabled:!0,autoUpgradeEnabled:!1},{id:"nursery",name:"Nursery",description:"Produces worker ants",tier:2,count:s(0),manualPurchases:s(0),selfReplicated:s(0),baseCost:s(100),costGrowth:s(1.1),initialBaseProduction:s(1),unlocked:!1,purchasable:!1,icon:"i-heroicons-home-modern",autoPurchaseEnabled:!0,autoUpgradeEnabled:!1},{id:"queenChamber",name:"Queen Chamber",description:"Nurtures new queens",tier:3,count:s(0),manualPurchases:s(0),selfReplicated:s(0),baseCost:s(1e3),costGrowth:s(1.1),initialBaseProduction:s(1),unlocked:!1,purchasable:!1,icon:"i-heroicons-crown",autoPurchaseEnabled:!0,autoUpgradeEnabled:!1},{id:"colony",name:"Colony",description:"Expands your ant empire",tier:4,count:s(0),manualPurchases:s(0),selfReplicated:s(0),baseCost:s(1e4),costGrowth:s(1.1),initialBaseProduction:s(1),unlocked:!1,purchasable:!1,icon:"i-heroicons-building-storefront",autoPurchaseEnabled:!0,autoUpgradeEnabled:!1},{id:"megacolony",name:"Mega Colony",description:"A massive colony complex with advanced infrastructure",tier:5,count:s(0),manualPurchases:s(0),selfReplicated:s(0),baseCost:s(1e5),costGrowth:s(1.2),initialBaseProduction:s(1),unlocked:!1,purchasable:!1,icon:"i-heroicons-building-office-2",autoPurchaseEnabled:!0,autoUpgradeEnabled:!1},{id:"hivemind",name:"Hive Mind",description:"A collective consciousness that coordinates all colonies",tier:6,count:s(0),manualPurchases:s(0),selfReplicated:s(0),baseCost:s(1e6),costGrowth:s(1.2),initialBaseProduction:s(1),unlocked:!1,purchasable:!1,icon:"i-heroicons-cpu-chip",autoPurchaseEnabled:!0,autoUpgradeEnabled:!1},{id:"antopolis",name:"Antopolis",description:"An entire city-state of ants with advanced civilization",tier:7,count:s(0),manualPurchases:s(0),selfReplicated:s(0),baseCost:s(1e7),costGrowth:s(1.2),initialBaseProduction:s(1),unlocked:!1,purchasable:!1,icon:"i-heroicons-building-library",autoPurchaseEnabled:!0,autoUpgradeEnabled:!1}]),t=B(s(10)),o=L(()=>W("worker")),n=B(0),a=5,l=pe=>e.value.find(ce=>ce.id===pe),i=L(()=>e.value.filter(pe=>pe.unlocked)),u=L(()=>{const ce=Math.max(...e.value.filter(ue=>ue.unlocked).map(ue=>ue.tier))+1;return e.value.find(ue=>ue.tier===ce)}),c=pe=>{const ce=l(pe);if(!ce)return s(0);let ke=s(1);try{const de=bt();if(pe==="worker")ke=de.getUpgradeMultiplier("workerTraining");else if(pe==="nursery")ke=de.getUpgradeMultiplier("nurseryExpansion");else if(pe==="queenChamber")ke=de.getUpgradeMultiplier("queenChamberLongevity");else if(pe==="colony")ke=de.getUpgradeMultiplier("colonyExpansion");else if(pe==="megacolony"||pe==="hivemind"||pe==="antopolis")try{ke=Ve().getUpgradeMultiplier("strongerSoldiers")}catch(oe){console.error("Error applying advanced generator cost reduction:",oe)}}catch(de){console.error("Error applying cost reduction:",de)}const ue=Qc(ce.tier,ce.manualPurchases),Z=Vt();return ke=ke.mul(Z.getCostMultipliers(pe)),ue.mul(ke)},d=(pe,ce=1)=>{const ke=l(pe);if(!ke||!ke.unlocked&&!ke.purchasable)return!1;if(pe==="hivemind"){const Z=l("megacolony");if(!Z||Z.count.eq(0))return!1}else if(pe==="antopolis"){const Z=l("hivemind");if(!Z||Z.count.eq(0))return!1}const ue=c(pe);if(t.value.gte(ue)){t.value=t.value.sub(ue),ke.count=ke.count.add(ce),ke.manualPurchases=ke.manualPurchases.add(ce),b(ke.tier);try{bt().updateQueenChamberProgress(ce)}catch(de){console.error("Error updating generator progress:",de)}Yt().checkProgression();try{Xt().updateGeneratorCounts(pe,ke.count)}catch(de){console.error("Error updating achievements:",de)}return!0}return!1},m=(pe,ce)=>{const ke=l(pe);if(ke){ke.count=ke.count.add(ce),ke.count.gte(10)&&b(ke.tier);try{Xt().updateGeneratorCounts(pe,ke.count)}catch(ue){console.error("Error updating achievements:",ue)}}},b=pe=>{const ce=e.value.find(ue=>ue.tier===pe),ke=e.value.find(ue=>ue.tier===pe+1);ce&&ke&&!ke.unlocked&&ce.count.gte(10)&&(ke.unlocked=!0)},x=pe=>{const ce=l(pe);if(!ce)return s(0);let ke=ce.initialBaseProduction;try{const ue=bt(),Z=`${pe}Base`,de=ue.getUpgrade(Z);de&&(pe==="worker"?ke=ke.add(s(10).mul(de.level)):ke=ke.add(de.level))}catch(ue){console.error("Error calculating base production:",ue)}return ke},h=pe=>x(pe),C=(pe,ce,ke)=>{try{const ue=`${pe}Reproduction`,Z=ke.getUpgradeMultiplier(ue);if(Z.gt(0)&&ce>0&&Math.random()<Z.toNumber()){const oe={nursery:"worker",queenChamber:"nursery",colony:"queenChamber",megacolony:"colony",hivemind:"megacolony",antopolis:"hivemind"},te={worker:"nursery",nursery:"queenChamber",queenChamber:"colony",colony:"megacolony",megacolony:"hivemind",hivemind:"antopolis"};if(pe==="worker"){const E=te[pe],N=l(E);if(N&&N.count.gt(0)){const O=W(E).mul(.01).floor(),$=O.gt(0)?O:s(1),A=l(pe);return A&&(A.selfReplicated=A.selfReplicated.add($)),$}const me=l(pe);return me&&(me.selfReplicated=me.selfReplicated.add(1)),s(1)}const ae=te[pe];if(ae){const E=l(ae);if(E&&E.count.gt(0)){const me=W(ae).mul(.01).floor(),ie=me.gt(0)?me:s(1),O=l(pe);return O&&(O.selfReplicated=O.selfReplicated.add(ie)),ie}}const F=l(pe);return F&&(F.selfReplicated=F.selfReplicated.add(1)),s(1)}}catch(ue){console.error(`Error processing self-reproduction for ${pe}:`,ue)}return s(0)},w=(pe,ce,ke,ue,Z)=>{if(Z.lte(0)||ke<=0)return;const de={worker:"nursery",nursery:"queenChamber",queenChamber:"colony",colony:"megacolony",megacolony:"hivemind",hivemind:"antopolis"},oe=Math.floor(ue*Z.toNumber());if(oe<=0)return;const te=de[pe];if(!te){const ie=s(oe);ce.count=ce.count.add(ie),ce.selfReplicated=ce.selfReplicated.add(ie);return}const ae=l(te);if(!ae||ae.count.lte(0)){const ie=s(oe);ce.count=ce.count.add(ie),ce.selfReplicated=ce.selfReplicated.add(ie);return}const E=W(te).mul(.01).floor(),me=(E.gt(0)?E:s(1)).mul(oe);ce.count=ce.count.add(me),ce.selfReplicated=ce.selfReplicated.add(me)},M=pe=>{try{const ce=Ve(),ke={worker:"autoWorker",nursery:"autoNursery",queenChamber:"autoQueenChamber",colony:"autoColony",megacolony:"autoMegacolony",hivemind:"autoHivemind",antopolis:"autoAntopolis"},ue=(de,oe)=>{if(!de.unlocked||!de.autoPurchaseEnabled)return;const te=ke[de.id];if(!te)return;const ae=ce.getUpgradeMultiplier(te);if(ae.gt(0))if(oe){const F=Math.min(100,pe*ae.toNumber());for(let E=0;E<F;E++)d(de.id,1)}else for(let F=0;F<ae.toNumber();F++)d(de.id,1)},Z=pe>1;for(const de of[...e.value].reverse())ue(de,Z)}catch(ce){console.error("Error applying auto-purchasing:",ce)}},S=pe=>{try{const ce=ns();if(ce.isProcessingRush)return;ce.trackTick()}catch(ce){console.error("Error tracking colony rush tick:",ce)}},_=(pe,ce,ke,ue)=>{if(!pe.unlocked||!pe.count.gt(0))return;let Z=W(pe.id);if(ke>1&&(Z=Z.mul(ke)),m(ce.id,Z),ke<=1){const de=C(pe.id,pe.count.toNumber(),ue);de.gt(0)&&(pe.count=pe.count.add(de))}else{const de=`${pe.id}Reproduction`,oe=ue.getUpgradeMultiplier(de);w(pe.id,pe,pe.count.toNumber(),ke,oe)}},y=(pe,ce,ke,ue,Z=null)=>{if(!pe.unlocked||!pe.count.gt(0))return;let de=o.value;ce>1&&(de=de.mul(ce)),t.value=t.value.add(de);try{ht().trackFoodGain(de)}catch(oe){console.error("Error tracking food gain for quests:",oe)}try{ue.updateNurseryProgress(de)}catch(oe){console.error("Error updating nursery progress:",oe)}if(ce<=1){const oe=C("worker",pe.count.toNumber(),ke);oe.gt(0)&&(pe.count=pe.count.add(oe))}else{const te=ke.getUpgradeMultiplier("workerReproduction");w("worker",pe,pe.count.toNumber(),ce,te)}Z&&Z.updateFoodStats(t.value,de)},P=(pe=1)=>{const ce=Ve(),ke=bt();if(M(pe),S(),n.value+=1,n.value>=a){n.value=0;try{jc(async()=>{const{useAutoUpgrade:Z}=await Promise.resolve().then(()=>_g);return{useAutoUpgrade:Z}},void 0).then(({useAutoUpgrade:Z})=>{const{processAutoUpgrades:de}=Z();de()}).catch(Z=>{console.error("Error processing auto-upgrades:",Z)})}catch(Z){console.error("Error importing auto-upgrade composable:",Z)}}for(let Z=e.value.length-1;Z>0;Z--){const de=e.value[Z],oe=e.value[Z-1];b(de.tier),_(de,oe,pe,ce)}if(pe===1){const Z=e.value[0];y(Z,pe,ce,ke,Xt());return}const ue=e.value[0];y(ue,pe,ce,ke)},I=pe=>{const ce=l(pe);return ce?ge(ce.count,0):"0"},U=pe=>{const ce=l(pe);return ce?ge(ce.manualPurchases,0):"0"},q=()=>ge(t.value,2),k=pe=>{try{const{getTotalMultiplier:ce}=as();return ce(pe)}catch(ce){return console.error("Error calculating production multiplier:",ce),s(1)}},W=pe=>{const ce=l(pe);if(!ce)return s(0);const ke=h(pe),ue=k(pe);return ke.mul(ue).mul(ce.count.add(ce.selfReplicated))},le=pe=>{try{const{getFormattedTotalMultiplier:ce}=as();return ce(pe)}catch(ce){console.error("Error formatting production multiplier:",ce);const ke=k(pe);return`${ge(ke,2)}x`}},X=pe=>{const ce=l(pe);return ce?(ce.autoPurchaseEnabled=!ce.autoPurchaseEnabled,!0):!1},j=pe=>{const ce=l(pe);return ce?(ce.autoUpgradeEnabled=!ce.autoUpgradeEnabled,!0):!1},T=pe=>{const ce=l(pe);return ce?ge(ce.selfReplicated,0):"0"},K=pe=>{const ce=l(pe);return ce?ce.selfReplicated:s(0)},fe=()=>({food:t.value.toString(),generators:e.value.map(pe=>({id:pe.id,count:pe.count.toString(),manualPurchases:pe.manualPurchases.toString(),selfReplicated:pe.selfReplicated.toString(),unlocked:pe.unlocked,purchasable:pe.purchasable,autoPurchaseEnabled:pe.autoPurchaseEnabled,autoUpgradeEnabled:pe.autoUpgradeEnabled}))}),we=pe=>{pe.food&&(t.value=s(pe.food)),pe.generators&&Array.isArray(pe.generators)&&pe.generators.forEach(ce=>{const ke=l(ce.id);ke&&(ke.count=s(ce.count),ce.manualPurchases?ke.manualPurchases=s(ce.manualPurchases):ke.manualPurchases=s(ce.count),ce.selfReplicated?ke.selfReplicated=s(ce.selfReplicated):ke.selfReplicated=s(0),ke.unlocked=ce.unlocked,ce.purchasable!==void 0?ke.purchasable=ce.purchasable:ke.tier>=5&&ce.unlocked&&(ke.purchasable=!0,ke.unlocked=!1),ce.autoPurchaseEnabled!==void 0&&(ke.autoPurchaseEnabled=ce.autoPurchaseEnabled),ce.autoUpgradeEnabled!==void 0&&(ke.autoUpgradeEnabled=ce.autoUpgradeEnabled))})},Se=L(()=>{let pe=0;return Object.values(bt().generatorPoints).forEach(ce=>{pe+=ce.toNumber()}),pe});return{generators:e,unlockedGenerators:i,nextUnlockableGenerator:u,food:t,foodPerSecond:o,totalPointsAvailable:Se,getGenerator:l,getGeneratorCost:c,buyGenerator:d,addGeneratorAuto:m,unlockNextTier:b,tick:P,formatGeneratorCount:I,formatManualPurchases:U,formatFood:q,getProductionMultiplier:k,formatProductionMultiplier:le,toggleAutoPurchase:X,toggleAutoUpgrade:j,getState:fe,loadState:we,getBaseProduction:h,getActualProduction:W,formatSelfReplicated:T,getSelfReplicatedCount:K,autoUpgradeCounter:n,AUTO_UPGRADE_FREQUENCY:a}}),Be=e=>Ct(e.sub(1)),ho=e=>{const t=(1-e.toNumber())*100;return t>=1e3?`-${Ct(t)}`:`-${t.toFixed(0)}%`},zo=e=>`${ge(e,2)}x`,Gr=e=>{if(e.eq(0))return"1/0";const t=e.pow(-1);return`1/${ge(t,0)}`},Pr=e=>`${ge(e,0)}`,Ri=e=>`${ge(e,1)}s`,yt=e=>e.gt(0)?"Unlocked":"Locked",wg=()=>[{id:"foodProcessing",name:"Faster Food Processing",description:"Increases food production by 10% per level",baseCost:s(1),cost:s(1),costMultiplier:e=>s(e.cost).mul(s(1.05).pow(e.level)),level:s(0),maxLevel:null,effect:e=>s(1).add(e.mul(.1)),formatEffect:Be,icon:"i-heroicons-cake",isUnlocked:()=>!0,category:"production",appliesTo:["worker"]},{id:"doubleFood",name:"Double Food",description:"Doubles the amount of food produced per level",baseCost:s(100),cost:s(100),level:s(0),maxLevel:s(3),costMultiplier:e=>s(e.cost).mul(s(3).pow(e.level)),effect:e=>s(1).add(e.mul(1)),formatEffect:Be,icon:"i-heroicons-cake",isUnlocked:()=>!0,category:"production",appliesTo:["worker"]},{id:"foodProcessingAdvanced",name:"Advanced Food Processing",description:"Increases food production by 20% per level",baseCost:s(1e6),cost:s(1e6),costMultiplier:e=>s(e.cost).mul(s(1.4).pow(e.level)),level:s(0),maxLevel:null,effect:e=>s(1).add(e.mul(.2)),formatEffect:Be,icon:"i-heroicons-cake",isUnlocked:()=>!0,category:"production",appliesTo:["worker"]},{id:"efficientQueens",name:"Efficient Queens",description:"Queens produce 15% more nurseries per level",baseCost:s(1e3),cost:s(1e3),costMultiplier:e=>s(e.cost).mul(s(1.15).pow(e.level)),level:s(0),maxLevel:null,effect:e=>s(1).add(e.mul(.15)),formatEffect:Be,icon:"i-heroicons-bug-ant",isUnlocked:()=>!0,category:"production",appliesTo:["queenChamber"]},{id:"efficientQueensAdvanced",name:"Advanced Efficient Queens",description:"Queens produce 30% more nurseries per level",baseCost:s(1e6),cost:s(1e6),costMultiplier:e=>s(e.cost).mul(s(1.35).pow(e.level)),level:s(0),maxLevel:null,effect:e=>s(1).add(e.mul(.3)),formatEffect:Be,icon:"i-heroicons-bug-ant",isUnlocked:()=>!0,category:"production",appliesTo:["queenChamber"]},{id:"strongerSoldiers",name:"Stronger Soldier Ants",description:"Increases overall colony efficiency by 5% per level",baseCost:s(5),cost:s(5),costMultiplier:e=>s(e.cost).mul(s(1.6).pow(e.level)),level:s(0),maxLevel:null,effect:e=>s(1).add(e.mul(.05)),formatEffect:Be,icon:"i-heroicons-shield-check",isUnlocked:()=>!0,category:"production",appliesTo:["global"]},{id:"mutatedWorkers",name:"Mutated Worker Ants",description:"Worker ants produce 20% more food per level",baseCost:s(8),cost:s(8),costMultiplier:e=>s(e.cost).mul(s(1.7).pow(e.level)),level:s(0),maxLevel:s(15),effect:e=>s(1).add(e.mul(.2)),formatEffect:Be,icon:"i-heroicons-sparkles",isUnlocked:()=>!0,category:"production",appliesTo:["worker"]},{id:"nurseryEfficiency",name:"Advanced Nursery Techniques",description:"Nurseries produce 25% more worker ants per level",baseCost:s(10),cost:s(10),costMultiplier:e=>s(e.cost).mul(s(1.35).pow(e.level)),level:s(0),maxLevel:null,effect:e=>s(1).add(e.mul(.25)),formatEffect:Be,icon:"i-heroicons-beaker",isUnlocked:()=>!0,category:"production",appliesTo:["nursery"]},{id:"colonyExpansion",name:"Colony Expansion Tactics",description:"Colonies produce 30% more queen chambers per level",baseCost:s(2500),cost:s(2500),costMultiplier:e=>s(e.cost).mul(s(1.65).pow(e.level)),level:s(0),maxLevel:null,effect:e=>s(1).add(e.mul(.3)),formatEffect:Be,icon:"i-heroicons-map",isUnlocked:()=>!0,category:"production",appliesTo:["colony"]},{id:"exponentialGrowth",name:"Exponential Growth",description:"All production increases by 2x per level",baseCost:s(1e3),cost:s(1e3),costMultiplier:e=>s(e.cost).mul(s(2).pow(s(e.level).mul(1.8))),level:s(0),maxLevel:s(16),effect:e=>s(2).pow(e),formatEffect:zo,icon:"i-heroicons-chart-bar",isUnlocked:()=>!0,category:"production",appliesTo:["global"]},{id:"compoundEvolution",name:"Compound Evolution",description:"All production increases by 2% per level, compounding with other upgrades",baseCost:s(50),cost:s(50),costMultiplier:e=>s(e.cost).mul(s(1.5).pow(e.level)),level:s(0),maxLevel:s(5),effect:e=>s(1).add(e.mul(.02)),formatEffect:Be,icon:"i-heroicons-arrow-trending-up",isUnlocked:()=>!0,category:"production",appliesTo:["global"]},{id:"megacolonyEfficiency",name:"Mega Colony Optimization",description:"Mega Colonies produce 40% more colonies per level",baseCost:s(100),cost:s(100),costMultiplier:e=>s(e.cost).mul(s(2).pow(e.level)),level:s(0),maxLevel:s(10),effect:e=>s(1).add(e.mul(.4)),formatEffect:Be,icon:"i-heroicons-building-office-2",isUnlocked:()=>!1,category:"production",appliesTo:["megacolony"]},{id:"hivemindEfficiency",name:"Hive Mind Optimization",description:"Hive Minds produce 50% more mega colonies per level",baseCost:s(500),cost:s(500),costMultiplier:e=>s(e.cost).mul(s(2.2).pow(e.level)),level:s(0),maxLevel:s(10),effect:e=>s(1).add(e.mul(.5)),formatEffect:Be,icon:"i-heroicons-cpu-chip",isUnlocked:()=>!1,category:"production",appliesTo:["hivemind"]},{id:"antopolisEfficiency",name:"Antopolis Optimization",description:"Antopolis produces 60% more hive minds per level",baseCost:s(2500),cost:s(2500),costMultiplier:e=>s(e.cost).mul(s(2.5).pow(e.level)),level:s(0),maxLevel:s(10),effect:e=>s(1).add(e.mul(.6)),formatEffect:Be,icon:"i-heroicons-building-library",isUnlocked:()=>!1,category:"production",appliesTo:["antopolis"]},{id:"exponentialPheromone",name:"Exponential Pheromone",description:"Pheromone production increases exponentially per level",baseCost:s(100),cost:s(100),costMultiplier:e=>s(e.cost).mul(s(1.2).pow(e.level)).pow(e.level),level:s(0),maxLevel:s(6),effect:e=>s(2).pow(e),formatEffect:Be,icon:"i-heroicons-beaker",isUnlocked:()=>!1,category:"production",appliesTo:["pheromone"],effects:[{target:"pheromone",multiplier:e=>s(2).pow(e),formatEffect:Be,isMultiplier:!0}],isCombo:!0},{id:"exponentialEP",name:"Exponential EP",description:"EP production increases exponentially per level",baseCost:s(1e7),cost:s(1e7),costMultiplier:e=>s(e.cost).mul(s(1.2).pow(e.level)).pow(e.level.gt(1)?e.level.mul(.5):1),level:s(0),maxLevel:s(3),effect:e=>s(2).pow(e),formatEffect:Be,icon:"i-heroicons-sparkles",isUnlocked:()=>!1,category:"production",appliesTo:["ep"],effects:[{target:"ep",multiplier:e=>s(2).pow(e),formatEffect:Be,isMultiplier:!0}],isCombo:!0},{id:"multiBoost",isCombo:!0,name:"Early Multi-Tier Enhancement",description:"Boosts worker ants by 5%, nurseries by 2.5%, and EP gain by 20% per level",baseCost:s(500),cost:s(500),costMultiplier:e=>s(e.cost).mul(s(2).pow(e.level)),level:s(0),maxLevel:s(50),effect:e=>s(1).add(e.mul(.05)),formatEffect:Be,icon:"i-heroicons-bolt-solid",isUnlocked:()=>!0,category:"production",appliesTo:["global"],effects:[{target:"worker",multiplier:e=>s(1).add(e.mul(.05)),formatEffect:Be,category:"production"},{target:"nursery",multiplier:e=>s(1).add(e.mul(.025)),formatEffect:Be,category:"production"},{target:"ep",multiplier:e=>s(1).add(e.mul(.2)),formatEffect:Be,category:"prestige"}]},{id:"midTierBoost",isCombo:!0,name:"Mid-Tier Synergy",description:"Boosts queen chambers by 8%, colonies by 5%, and pheromone production by 15% per level",baseCost:s(5e3),cost:s(5e3),costMultiplier:e=>s(e.cost).mul(s(2.2).pow(e.level)),level:s(0),maxLevel:s(40),effect:e=>s(1).add(e.mul(.08)),formatEffect:Be,icon:"i-heroicons-cube-transparent",isUnlocked:()=>!0,category:"production",appliesTo:["global"],effects:[{target:"queenChamber",multiplier:e=>s(1).add(e.mul(.08)),formatEffect:Be,category:"production"},{target:"colony",multiplier:e=>s(1).add(e.mul(.05)),formatEffect:Be,category:"production"},{target:"pheromone",multiplier:e=>s(1).add(e.mul(.15)),formatEffect:Be,category:"production",isMultiplier:!0}]},{id:"advancedTierBoost",isCombo:!0,name:"Advanced Tier Integration",description:"Boosts mega colonies by 10%, hive minds by 7%, and doubles EP gain per level",baseCost:s(5e4),cost:s(5e4),costMultiplier:e=>s(e.cost).mul(s(2.5).pow(e.level)),level:s(0),maxLevel:s(30),effect:e=>s(1).add(e.mul(.1)),formatEffect:Be,icon:"i-heroicons-globe-alt",isUnlocked:()=>!1,category:"production",appliesTo:["global"],effects:[{target:"megacolony",multiplier:e=>s(1).add(e.mul(.1)),formatEffect:Be,category:"production"},{target:"hivemind",multiplier:e=>s(1).add(e.mul(.07)),formatEffect:Be,category:"production"},{target:"ep",multiplier:e=>s(1).add(e.mul(.2)),formatEffect:Be,category:"prestige"}]},{id:"resourceSynergy",isCombo:!0,name:"Resource Synergy",description:"Boosts food production by 12%, pheromone production by 10% per level",baseCost:s(1e3),cost:s(1e3),costMultiplier:e=>s(e.cost).mul(s(1.8).pow(e.level)),level:s(0),maxLevel:s(25),effect:e=>s(1).add(e.mul(.12)),formatEffect:Be,icon:"i-heroicons-archive-box",isUnlocked:()=>!0,category:"production",appliesTo:["global"],effects:[{target:"food",multiplier:e=>s(1).add(e.mul(.12)),formatEffect:Be,category:"production"},{target:"pheromone",multiplier:e=>s(1).add(e.mul(.1)),formatEffect:Be,category:"production"}]},{id:"grandSynergy",isCombo:!0,name:"Grand Colony Synergy",description:"Boosts all production by 5%, EP gain by 25%",baseCost:s(1e5),cost:s(1e5),costMultiplier:e=>s(e.cost).mul(s(3).pow(e.level)),level:s(0),maxLevel:s(20),effect:e=>s(1).add(e.mul(.05)),formatEffect:Be,icon:"i-heroicons-fire",isUnlocked:()=>!1,category:"production",appliesTo:["global"],effects:[{target:"global",multiplier:e=>s(1).add(e.mul(.05)),formatEffect:Be,category:"production"},{target:"ep",multiplier:e=>s(1).add(e.mul(.25)),formatEffect:Be,category:"prestige"}]},{id:"reproductionNexus",isCombo:!0,name:"Reproduction Nexus",description:"Boosts queen reproduction by 15%, nursery efficiency by 10%, and reduces all ant costs by 5% per level",baseCost:s(7500),cost:s(7500),costMultiplier:e=>s(e.cost).mul(s(1.9).pow(e.level)),level:s(0),maxLevel:s(35),effect:e=>s(1).add(e.mul(.15)),formatEffect:Be,icon:"i-heroicons-heart",isUnlocked:()=>!0,category:"reproduction",appliesTo:["global"],effects:[{target:"queenChamber",multiplier:e=>s(1).add(e.mul(.15)),formatEffect:Be,category:"reproduction"},{target:"nursery",multiplier:e=>s(1).add(e.mul(.1)),formatEffect:Be,category:"efficiency"}]},{id:"pheromoneSynergyMultiplier",name:"Pheromone Synergy Multiplier",description:"Boosts pheromone production by 10% per level (multiplier) and adds 25% to the amount of pheromone produced per level",baseCost:s(5e6),cost:s(5e6),costMultiplier:e=>s(e.cost).mul(s(2).pow(e.level).mul(s(1.5))),level:s(0),maxLevel:s(10),effect:e=>s(1).add(e.mul(.1)),formatEffect:Be,icon:"i-heroicons-beaker",isUnlocked:()=>!0,category:"production",appliesTo:["pheromone"],isCombo:!0,effects:[{target:"pheromone",multiplier:e=>s(1).add(e.mul(.1)),formatEffect:Be,isMultiplier:!0},{target:"pheromone",multiplier:e=>s(1).add(e.mul(.25)),formatEffect:Be}]}],$g=()=>[{id:"workerCostDiscount",name:"Worker Cost Discount",description:"Divides the cost of workers by 1500 per level",baseCost:s(100),cost:s(100),costMultiplier:e=>s(e.cost).mul(s(1.4).pow(e.level)).pow(s(e.level.gt(0)?2:1)),level:s(0),maxLevel:s(25),effect:e=>s(1).div(s(1500).mul(e)),formatEffect:Gr,icon:"i-heroicons-user-group",isUnlocked:()=>!0,category:"cost",appliesTo:["worker"]},{id:"nurseryCostDiscount",name:"Nursery Cost Discount",description:"Divides the cost of nurseries by 8200 per level",baseCost:s(1e3),cost:s(1e3),costMultiplier:e=>s(e.cost).mul(s(1.4).pow(e.level)).pow(s(e.level.gt(0)?2:1)),level:s(0),maxLevel:s(25),effect:e=>s(1).div(s(8200).mul(e)),formatEffect:Gr,icon:"i-heroicons-user-group",isUnlocked:()=>!0,category:"cost",appliesTo:["nursery"]},{id:"queenChamberCostDiscount",name:"Queen Chamber Cost Discount",description:"Divides the cost of queen chambers by 1e6 per level",baseCost:s(1e4),cost:s(1e4),costMultiplier:e=>s(e.cost).mul(s(1.4).pow(e.level)).pow(s(e.level.gt(0)?2:1)),level:s(0),maxLevel:s(25),effect:e=>s(1).div(s(1e6).mul(e)),formatEffect:Gr,icon:"i-heroicons-user-group",isUnlocked:()=>!0,category:"cost",appliesTo:["queenChamber"]},{id:"colonyCostDiscount",name:"Colony Cost Discount",description:"Divides the cost of colonies by 1e8 per level",baseCost:s(1e5),cost:s(1e5),costMultiplier:e=>s(e.cost).mul(s(1.4).pow(e.level)).pow(s(e.level.gt(0)?2:1)),level:s(0),maxLevel:s(25),effect:e=>s(1).div(s(1e8).mul(e)),formatEffect:Gr,icon:"i-heroicons-building-storefront",isUnlocked:()=>!0,category:"cost",appliesTo:["colony"]},{id:"megacolonyCostDiscount",name:"Mega Colony Cost Discount",description:"Divides the cost of mega colonies by 1e10 per level",baseCost:s(1e6),cost:s(1e6),costMultiplier:e=>s(e.cost).mul(s(1.4).pow(e.level)).pow(s(e.level.gt(0)?2:1)),level:s(0),maxLevel:s(25),effect:e=>s(1).div(s(1e10).mul(e)),formatEffect:Gr,icon:"i-heroicons-building-office-2",isUnlocked:()=>!0,category:"cost",appliesTo:["megacolony"]},{id:"hivemindCostDiscount",name:"Hive Mind Cost Discount",description:"Divides the cost of hive minds by 1e12 per level",baseCost:s(1e7),cost:s(1e7),costMultiplier:e=>s(e.cost).mul(s(1.4).pow(e.level)).pow(s(e.level.gt(0)?2:1)),level:s(0),maxLevel:s(25),effect:e=>s(1).div(s(1e12).mul(e)),formatEffect:Gr,icon:"i-heroicons-cpu-chip",isUnlocked:()=>!0,category:"cost",appliesTo:["hivemind"]},{id:"antopolisCostDiscount",name:"Antopolis Cost Discount",description:"Divides the cost of antopolis by 1e15 per level",baseCost:s(1e8),cost:s(1e8),costMultiplier:e=>s(e.cost).mul(s(1.4).pow(e.level)).pow(s(e.level.gt(0)?2:1)),level:s(0),maxLevel:s(25),effect:e=>s(1).div(s(1e15).mul(e)),formatEffect:Gr,icon:"i-heroicons-building-library",isUnlocked:()=>!0,category:"cost",appliesTo:["antopolis"]}],Cg=()=>[{id:"unlockMegacolony",name:"Mega Colony",description:"Unlocks the Mega Colony generator",baseCost:s(1e3),cost:s(1e3),level:s(0),maxLevel:s(1),effect:e=>s(e),formatEffect:yt,icon:"i-heroicons-building-office-2",isUnlocked:()=>!0,category:"research",appliesTo:["global"]},{id:"unlockHivemind",name:"Hive Mind",description:"Unlocks the Hive Mind generator",baseCost:s(1e9),cost:s(1e9),level:s(0),maxLevel:s(1),effect:e=>s(e),formatEffect:yt,icon:"i-heroicons-cpu-chip",isUnlocked:()=>!1,category:"research",appliesTo:["global"]},{id:"unlockAntopolis",name:"Antopolis",description:"Unlocks the Antopolis generator",baseCost:s(1e12),cost:s(1e12),level:s(0),maxLevel:s(1),effect:e=>s(e),formatEffect:yt,icon:"i-heroicons-building-library",isUnlocked:()=>!1,category:"research",appliesTo:["global"]},{id:"unlockAdventure",name:"Adventure Mode",description:"Unlock Adventure mode and the Inventory system",baseCost:s(50),cost:s(50),level:s(0),maxLevel:s(1),effect:e=>s(e),formatEffect:yt,icon:"i-heroicons-bolt",isUnlocked:()=>!0,category:"research",appliesTo:["global"]}],Sg=()=>[{id:"cycleTimeReduction",name:"Time Manipulation",description:"Decreases cycle time by 0.2 seconds per level",baseCost:s(50),cost:s(50),costMultiplier:e=>s(e.cost).mul(s(1.5).pow(e.level)),level:s(0),maxLevel:s(20),effect:e=>s(.2).mul(e),formatEffect:Ri,icon:"i-heroicons-clock-solid",isUnlocked:()=>!0,category:"efficiency",appliesTo:["global"]},{id:"cycleTimeReductionAdvanced",name:"Advanced Time Manipulation",description:"Decreases cycle time by 0.4 seconds per level",baseCost:s(1e9),cost:s(1e9),costMultiplier:e=>s(e.cost).mul(s(1.5).pow(e.level)),level:s(0),maxLevel:s(10),effect:e=>s(.4).mul(e),formatEffect:Ri,icon:"i-heroicons-clock-solid",isUnlocked:()=>!1,category:"efficiency",appliesTo:["global"]},{id:"cycleFoodReduction",name:"Cycle Food Reduction",description:"Reduces the food required for each cycle by 5% per level (max 75%)",baseCost:s(50),cost:s(50),costMultiplier:e=>s(e.cost).mul(s(2).pow(e.level)),level:s(0),maxLevel:s(15),effect:e=>s(1).sub(e.mul(.05).min(.75)),formatEffect:ho,icon:"i-heroicons-arrow-down-circle",isUnlocked:()=>!0,category:"efficiency",appliesTo:["global"]}],Jr=(e,t)=>{const o=t.find(i=>i.id==="unlockMegacolony"),n=t.find(i=>i.id==="unlockHivemind"),a=t.find(i=>i.id==="unlockAntopolis"),l=t.find(i=>i.id==="unlockMegaAnt");return["autoMegacolony","megacolonyEfficiency","unlockHivemind","autoUpgradeMegacolony"].includes(e)?o?o.level.gt(0):!1:["autoHivemind","hivemindEfficiency","unlockAntopolis","autoUpgradeHivemind"].includes(e)?n?n.level.gt(0):!1:["autoAntopolis","antopolisEfficiency","autoUpgradeAntopolis"].includes(e)?a?a.level.gt(0):!1:["unlockAutoFeed"].includes(e)?l?l.level.gt(0):!1:["rushCooldownReduction","rushDurationIncrease","rushMaxPerDay"].includes(e)?Bn("unlockColonyRush",t):e==="cycleTimeReductionAdvanced"?Bn("cycleTimeReduction",t):e==="unlockHivemind"?Jr("unlockMegacolony",t):e==="unlockAntopolis"?Bn("unlockHivemind",t):!0},Ag=(e,t)=>Jr(e,t)?null:["autoMegacolony","megacolonyEfficiency","unlockHivemind","autoUpgradeMegacolony"].includes(e)?"Requires Mega Colony upgrade":["autoHivemind","hivemindEfficiency","unlockAntopolis","autoUpgradeHivemind"].includes(e)?"Requires Hive Mind upgrade":["autoAntopolis","antopolisEfficiency","autoUpgradeAntopolis"].includes(e)?"Requires Antopolis upgrade":["unlockAutoFeed"].includes(e)?"Requires Mega Ant upgrade":["rushCooldownReduction","rushDurationIncrease","rushMaxPerDay"].includes(e)?"Requires Colony Rush maxed":e==="cycleTimeReductionAdvanced"?"Requires Cycle Time Reduction maxed":e==="unlockHivemind"?"Requires Mega Colony upgrade":e==="unlockAntopolis"?"Requires Hive Mind upgrade":null,Bn=(e,t)=>{const o=t.find(n=>n.id===e);return o?o.level.eq(o.maxLevel||s(0)):!1},ed=(e,t,o)=>t.eq(0)?e:o?o({cost:e,level:t}):e.mul(s(1.5).pow(t)),Eg=()=>[{id:"autoWorker",name:"Worker Automation",description:"Automatically purchases Worker Ants each tick. Each level increases purchases per tick.",baseCost:s(5),cost:s(5),costMultiplier:e=>s(e.cost).mul(s(1.3).pow(e.level)),level:s(0),maxLevel:s(25),effect:e=>e,formatEffect:Pr,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!0,category:"automation",appliesTo:["worker","global"]},{id:"autoNursery",name:"Nursery Automation",description:"Automatically purchases Nurseries each tick. Each level increases purchases per tick.",baseCost:s(15),cost:s(15),costMultiplier:e=>s(e.cost).mul(s(1.35).pow(e.level)),level:s(0),maxLevel:s(25),effect:e=>e,formatEffect:Pr,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!0,category:"automation",appliesTo:["nursery","global"]},{id:"autoQueenChamber",name:"Queen Chamber Automation",description:"Automatically purchases Queen Chambers each tick. Each level increases purchases per tick.",baseCost:s(500),cost:s(500),costMultiplier:e=>s(e.cost).mul(s(1.4).pow(e.level)),level:s(0),maxLevel:s(25),effect:e=>e,formatEffect:Pr,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!0,category:"automation",appliesTo:["queenChamber","global"]},{id:"autoColony",name:"Colony Automation",description:"Automatically purchases Colonies each tick. Each level increases purchases per tick.",baseCost:s(200),cost:s(200),costMultiplier:e=>s(e.cost).mul(s(1.45).pow(e.level)),level:s(0),maxLevel:s(25),effect:e=>e,formatEffect:Pr,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!0,category:"automation",appliesTo:["global"]},{id:"autoMegacolony",name:"Mega Colony Automation",description:"Automatically purchases Mega Colonies each tick. Each level increases purchases per tick.",baseCost:s(2e3),cost:s(2e3),costMultiplier:e=>s(e.cost).mul(s(1.5).pow(e.level)),level:s(0),maxLevel:s(25),effect:e=>e,formatEffect:Pr,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!1,category:"automation",appliesTo:["global"]},{id:"autoHivemind",name:"Hive Mind Automation",description:"Automatically purchases Hive Minds each tick. Each level increases purchases per tick.",baseCost:s(2e4),cost:s(2e4),costMultiplier:e=>s(e.cost).mul(s(1.55).pow(e.level)),level:s(0),maxLevel:s(25),effect:e=>e,formatEffect:Pr,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!1,category:"automation",appliesTo:["global"]},{id:"autoAntopolis",name:"Antopolis Automation",description:"Automatically purchases Antopolis each tick. Each level increases purchases per tick.",baseCost:s(2e5),cost:s(2e5),costMultiplier:e=>s(e.cost).mul(s(1.6).pow(e.level)),level:s(0),maxLevel:s(25),effect:e=>e,formatEffect:Pr,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!1,category:"automation",appliesTo:["global"]},{id:"bulkAutomation",name:"Bulk Automation",description:"Multiplies the effectiveness of all automation upgrades",baseCost:s(50),cost:s(50),costMultiplier:e=>s(e.cost).mul(s(2).pow(e.level)),level:s(0),maxLevel:s(10),effect:e=>s(1).add(e.mul(4)),formatEffect:zo,icon:"i-heroicons-bolt",isUnlocked:()=>!0,category:"automation",appliesTo:["global"]},{id:"unlockAutoQuestAdvance",name:"Quest Hunter Automation",description:"Enables automatic targeting of the best bug for your active quest in adventure mode",baseCost:s(250),cost:s(250),level:s(0),maxLevel:s(1),effect:e=>s(e),formatEffect:yt,icon:"i-heroicons-clipboard-document-check",isUnlocked:()=>!0,category:"automation",appliesTo:["global"]},{id:"unlockAutoSalvage",name:"Auto Salvage",description:"Automatically salvage filtered items for Pheromone Essence",baseCost:s(200),cost:s(200),level:s(0),maxLevel:s(1),effect:e=>s(e),formatEffect:yt,icon:"i-heroicons-beaker",isUnlocked:()=>!0,category:"automation",appliesTo:["global"]},{id:"unlockSalvageAll",name:"Mass Salvaging",description:"Unlock the ability to salvage all unlocked and unequipped items at once",baseCost:s(1e5),cost:s(1e5),level:s(0),maxLevel:s(1),effect:e=>s(e),formatEffect:yt,icon:"i-heroicons-trash",isUnlocked:()=>!0,category:"automation",appliesTo:["global"]},{id:"unlockColonyRush",name:"Colony Rush",description:"Unlock the Colony Rush ability, allowing you to skip ahead 30 seconds of production time. Limited to 50 uses per day with a cooldown period between uses.",baseCost:s(75),cost:s(75),level:s(0),maxLevel:s(1),effect:e=>s(e),formatEffect:yt,icon:"i-heroicons-bolt",isUnlocked:()=>!0,category:"automation",appliesTo:["global"]},{id:"rushCooldownReduction",name:"Rush Efficiency",description:"Reduces the cooldown between Colony Rushes by 2 foraging trips per level.",baseCost:s(100),cost:s(100),costMultiplier:e=>s(e.cost).mul(s(1.5).pow(e.level)),level:s(0),maxLevel:s(20),effect:e=>e.mul(2),formatEffect:e=>`${e.toNumber()} foraging trips less cooldown`,icon:"i-heroicons-clock",isUnlocked:()=>!1,category:"automation",appliesTo:["global"]},{id:"rushDurationIncrease",name:"Extended Rush",description:"Increases Colony Rush duration by 10 seconds per level.",baseCost:s(150),cost:s(150),costMultiplier:e=>s(e.cost).mul(s(1.75).pow(e.level)),level:s(0),maxLevel:s(18),effect:e=>e.mul(10),formatEffect:e=>`+${e.toNumber()} seconds duration`,icon:"i-heroicons-hourglass",isUnlocked:()=>!1,category:"automation",appliesTo:["global"]},{id:"rushMaxPerDay",name:"Rush Capacity",description:"Increases maximum Colony Rushes per day by 2 per level.",baseCost:s(125),cost:s(125),costMultiplier:e=>s(e.cost).mul(s(1.6).pow(e.level)),level:s(0),maxLevel:s(25),effect:e=>e.mul(2),formatEffect:e=>`+${e.toNumber()} max rushes per day`,icon:"i-heroicons-battery-100",isUnlocked:()=>!1,category:"automation",appliesTo:["global"]},{id:"unlockMegaAnt",name:"Mega Ant Evolution",description:"Unlock the Mega Ant laboratory, allowing you to evolve your colony with powerful mutations.",baseCost:s(1e8),cost:s(1e8),level:s(0),maxLevel:s(1),effect:e=>s(e),formatEffect:yt,icon:"i-heroicons-bug-ant",isUnlocked:()=>!0,category:"automation",appliesTo:["global"]},{id:"unlockAutoFeed",name:"Mega Ant Auto Feed",description:"Enables automatic feeding of food and pheromone essence to the Mega Ant when digestive systems are empty.",baseCost:s(5e7),cost:s(5e7),level:s(0),maxLevel:s(1),effect:e=>s(e),formatEffect:yt,icon:"i-heroicons-arrow-path-rounded-square",isUnlocked:()=>!1,category:"automation",appliesTo:["global"]},{id:"autoUpgradeWorker",name:"Worker Auto Specialization",description:"Enables automatic upgrading of Worker Ant specializations based on available points, from cheapest to most expensive.",baseCost:s(150),cost:s(150),level:s(0),maxLevel:s(1),effect:e=>s(e),formatEffect:yt,icon:"i-heroicons-arrow-path-rounded-square",isUnlocked:()=>!0,category:"automation",appliesTo:["worker"]},{id:"autoUpgradeNursery",name:"Nursery Auto Specialization",description:"Enables automatic upgrading of Nursery specializations based on available points, from cheapest to most expensive.",baseCost:s(1500),cost:s(1500),level:s(0),maxLevel:s(1),effect:e=>s(e),formatEffect:yt,icon:"i-heroicons-arrow-path-rounded-square",isUnlocked:()=>!0,category:"automation",appliesTo:["nursery"]},{id:"autoUpgradeQueenChamber",name:"Queen Chamber Auto Specialization",description:"Enables automatic upgrading of Queen Chamber specializations based on available points, from cheapest to most expensive.",baseCost:s(15e3),cost:s(15e3),level:s(0),maxLevel:s(1),effect:e=>s(e),formatEffect:yt,icon:"i-heroicons-arrow-path-rounded-square",isUnlocked:()=>!0,category:"automation",appliesTo:["queenChamber"]},{id:"autoUpgradeColony",name:"Colony Auto Specialization",description:"Enables automatic upgrading of Colony specializations based on available points, from cheapest to most expensive.",baseCost:s(15e4),cost:s(15e4),level:s(0),maxLevel:s(1),effect:e=>s(e),formatEffect:yt,icon:"i-heroicons-arrow-path-rounded-square",isUnlocked:()=>!0,category:"automation",appliesTo:["colony"]},{id:"autoUpgradeMegacolony",name:"Mega Colony Auto Specialization",description:"Enables automatic upgrading of Mega Colony specializations based on available points, from cheapest to most expensive.",baseCost:s(15e5),cost:s(15e5),level:s(0),maxLevel:s(1),effect:e=>s(e),formatEffect:yt,icon:"i-heroicons-arrow-path-rounded-square",isUnlocked:()=>!1,category:"automation",appliesTo:["megacolony"]},{id:"autoUpgradeHivemind",name:"Hive Mind Auto Specialization",description:"Enables automatic upgrading of Hive Mind specializations based on available points, from cheapest to most expensive.",baseCost:s(15e6),cost:s(15e6),level:s(0),maxLevel:s(1),effect:e=>s(e),formatEffect:yt,icon:"i-heroicons-arrow-path-rounded-square",isUnlocked:()=>!1,category:"automation",appliesTo:["hivemind"]},{id:"autoUpgradeAntopolis",name:"Antopolis Auto Specialization",description:"Enables automatic upgrading of Antopolis specializations based on available points, from cheapest to most expensive.",baseCost:s(15e7),cost:s(15e7),level:s(0),maxLevel:s(1),effect:e=>s(e),formatEffect:yt,icon:"i-heroicons-arrow-path-rounded-square",isUnlocked:()=>!1,category:"automation",appliesTo:["antopolis"]},{id:"unlockQueueAll",name:"Mass Quest Queueing",description:"Enables queueing multiple quests at once with a single click",baseCost:s(100),cost:s(100),level:s(0),maxLevel:s(1),effect:e=>s(e),formatEffect:yt,icon:"i-heroicons-queue-list",isUnlocked:()=>!0,category:"automation",appliesTo:["global"]}],Mg=()=>[{id:"generatorSynergy",name:"Generator Synergy",description:"Each generator type boosts all others by 2% per level",baseCost:s(100),cost:s(100),costMultiplier:e=>s(e.cost).mul(s(3).pow(e.level)),level:s(0),maxLevel:s(5),effect:e=>s(1).add(e.mul(.02)),formatEffect:Be,icon:"i-heroicons-puzzle-piece",isUnlocked:()=>!0,category:"synergy",appliesTo:["global"]},{id:"evolutionSynergy",name:"Evolution Synergy",description:"Each evolution completed boosts production by 1% per level",baseCost:s(200),cost:s(200),costMultiplier:e=>s(e.cost).mul(s(3).pow(e.level)),level:s(0),maxLevel:s(5),effect:e=>s(1).add(e.mul(.01)),formatEffect:Be,icon:"i-heroicons-arrow-path",isUnlocked:()=>!0,category:"synergy",appliesTo:["global"]}],Pg=()=>[{id:"epBoost",name:"Evolution Mastery",description:"Increases Evolution Points gained per cycle by 10% per level",baseCost:s(25),cost:s(25),costMultiplier:e=>s(e.cost).mul(s(1.8).pow(e.level)),level:s(0),maxLevel:s(25),effect:e=>s(1).add(e.mul(.1)),formatEffect:Be,icon:"i-heroicons-star",isUnlocked:()=>!0,category:"prestige",appliesTo:["ep"]},{id:"exponentialEvolution",name:"Exponential Evolution",description:"Increases Evolution Points gained per cycle exponentially",baseCost:s(1e4),cost:s(1e4),level:s(0),maxLevel:s(3),effect:e=>s(2).pow(e),formatEffect:zo,icon:"i-heroicons-star",isUnlocked:()=>!0,category:"prestige",appliesTo:["ep"]},{id:"doubleEvolution",name:"Double Evolution",description:"Doubles the amount of Evolution Points gained per cycle",baseCost:s(1e3),cost:s(1e3),costMultiplier:e=>s(e.cost).mul(s(10).pow(e.level)),level:s(0),maxLevel:s(2),effect:e=>e.gt(0)?s(2).pow(e):s(1),formatEffect:zo,icon:"i-heroicons-star",isUnlocked:()=>!0,category:"prestige",appliesTo:["ep"]},{id:"startingFood",name:"Starting Resources",description:"Start with 10x more food per level after evolution",baseCost:s(100),cost:s(100),costMultiplier:e=>s(e.cost).mul(s(1.5).pow(e.level)),level:s(0),maxLevel:s(10),effect:e=>s(10).pow(e),formatEffect:zo,icon:"i-heroicons-banknotes",isUnlocked:()=>!0,category:"prestige",appliesTo:["global"]},{id:"prestigeAcceleration",name:"Prestige Acceleration",description:"Start with more cycles completed after evolution",baseCost:s(100),cost:s(100),costMultiplier:e=>s(e.cost).mul(s(2).pow(e.level)),level:s(0),maxLevel:s(10),effect:e=>e,formatEffect:Pr,icon:"i-heroicons-rocket-launch",isUnlocked:()=>!0,category:"prestige",appliesTo:["global"]},{id:"inventorySlots",name:"Inventory Expansion",description:"Increase maximum inventory slots by 5. Each level adds more slots, but costs increase rapidly.",baseCost:s(100),cost:s(100),level:s(0),maxLevel:s(20),effect:e=>e.mul(5),formatEffect:e=>`+${e.toNumber()} slots`,isUnlocked:()=>!0,costMultiplier:({cost:e,level:t})=>e.mul(s(1.5).pow(t)),icon:"i-heroicons-squares-2x2",category:"prestige",appliesTo:["global"]},{id:"equipmentSlots",name:"Equipment Mastery",description:"Unlock an additional equipment slot. Each level unlocks one more slot, up to a maximum of 10 slots.",baseCost:s(1e3),cost:s(1e3),level:s(1),maxLevel:s(10),effect:e=>e,formatEffect:e=>`${ge(e,0)} slots`,isUnlocked:()=>!0,icon:"i-heroicons-shield-check",category:"prestige",costMultiplier:e=>s(e.cost).mul(s(2).pow(s(2).pow(e.level))),appliesTo:["global"]},{id:"evolutionaryAdaptation",name:"Evolutionary Adaptation",description:"Each evolution cycle grants a stacking 1% bonus to food production",baseCost:s(1e3),cost:s(1e3),level:s(0),maxLevel:s(1),effect:e=>e,formatEffect:yt,icon:"i-heroicons-arrow-trending-up",isUnlocked:()=>!0,category:"prestige",appliesTo:["worker"]}],Tg=()=>[{id:"workerReproduction",name:"Worker Self-Replication",description:"Workers have a 1% chance per level to reproduce themselves each tick (max 5%)",baseCost:s(50),cost:s(50),costMultiplier:e=>s(e.cost).mul(s(3).pow(e.level)),level:s(0),maxLevel:s(5),effect:e=>e.mul(.01).min(.05),formatEffect:e=>`${(e.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>!0,category:"reproduction",appliesTo:["worker"]},{id:"nurseryReproduction",name:"Nursery Self-Replication",description:"Nurseries have a 1% chance per level to reproduce themselves each tick (max 5%)",baseCost:s(500),cost:s(500),costMultiplier:e=>s(e.cost).mul(s(3).pow(e.level)),level:s(0),maxLevel:s(5),effect:e=>e.mul(.01).min(.05),formatEffect:e=>`${(e.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>!0,category:"reproduction",appliesTo:["nursery"]},{id:"queenChamberReproduction",name:"Queen Chamber Self-Replication",description:"Queen Chambers have a 1% chance per level to reproduce themselves each tick (max 5%)",baseCost:s(2500),cost:s(2500),costMultiplier:e=>s(e.cost).mul(s(3).pow(e.level)),level:s(0),maxLevel:s(5),effect:e=>e.mul(.01).min(.05),formatEffect:e=>`${(e.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>!0,category:"reproduction",appliesTo:["queenChamber"]},{id:"colonyReproduction",name:"Colony Self-Replication",description:"Colonies have a 1% chance per level to reproduce themselves each tick (max 5%)",baseCost:s(25e3),cost:s(25e3),costMultiplier:e=>s(e.cost).mul(s(3).pow(e.level)),level:s(0),maxLevel:s(5),effect:e=>e.mul(.01).min(.05),formatEffect:e=>`${(e.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>!0,category:"reproduction",appliesTo:["colony"]},{id:"megacolonyReproduction",name:"Mega Colony Self-Replication",description:"Mega Colonies have a 1% chance per level to reproduce themselves each tick (max 5%)",baseCost:s(25e4),cost:s(25e4),costMultiplier:e=>s(e.cost).mul(s(3).pow(e.level)),level:s(0),maxLevel:s(5),effect:e=>e.mul(.01).min(.05),formatEffect:e=>`${(e.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>!1,category:"reproduction",appliesTo:["megacolony"]},{id:"hivemindReproduction",name:"Hive Mind Self-Replication",description:"Hive Minds have a 1% chance per level to reproduce themselves each tick (max 5%)",baseCost:s(25e7),cost:s(25e7),costMultiplier:e=>s(e.cost).mul(s(3).pow(e.level)),level:s(0),maxLevel:s(5),effect:e=>e.mul(.01).min(.05),formatEffect:e=>`${(e.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>!1,category:"reproduction",appliesTo:["hivemind"]},{id:"antopolisReproduction",name:"Antopolis Self-Replication",description:"Antopolis has a 1% chance per level to reproduce itself each tick (max 5%)",baseCost:s(25e8),cost:s(25e8),costMultiplier:e=>s(e.cost).mul(s(3).pow(e.level)),level:s(0),maxLevel:s(5),effect:e=>e.mul(.01).min(.05),formatEffect:e=>`${(e.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>!1,category:"reproduction",appliesTo:["antopolis"]}],Lg=()=>[{id:"levelUpReduction",name:"Swift Progression",description:"Reduces the requirements for all generator level-ups by 10% per level",baseCost:s(150),cost:s(150),costMultiplier:e=>s(e.cost).mul(s(1.8).pow(e.level)),level:s(0),maxLevel:s(5),effect:e=>s(1).sub(e.mul(.1)),formatEffect:ho,icon:"i-heroicons-arrow-trending-up",isUnlocked:()=>!0,category:"level-requirement",appliesTo:["global"]},{id:"workerLevelUpReduction",name:"Worker Advancement",description:"Reduces worker level-up requirements by 15% per level",baseCost:s(75),cost:s(75),costMultiplier:e=>s(e.cost).mul(s(1.5).pow(e.level)),level:s(0),maxLevel:s(3),effect:e=>s(1).sub(e.mul(.15)),formatEffect:ho,icon:"i-heroicons-user-solid",isUnlocked:()=>!0,category:"level-requirement",appliesTo:["worker"]},{id:"nurseryLevelUpReduction",name:"Nursery Advancement",description:"Reduces nursery level-up requirements by 20% per level",baseCost:s(300),cost:s(300),costMultiplier:e=>s(e.cost).mul(s(1.5).pow(e.level)),level:s(0),maxLevel:s(3),effect:e=>s(1).sub(e.mul(.2)),formatEffect:ho,icon:"i-heroicons-home-solid",isUnlocked:()=>!0,category:"level-requirement",appliesTo:["nursery"]},{id:"queenChamberLevelUpReduction",name:"Queen Chamber Advancement",description:"Reduces queen chamber level-up requirements by 20% per level",baseCost:s(500),cost:s(500),costMultiplier:e=>s(e.cost).mul(s(1.6).pow(e.level)),level:s(0),maxLevel:s(3),effect:e=>s(1).sub(e.mul(.2)),formatEffect:ho,icon:"i-heroicons-crown-solid",isUnlocked:()=>!0,category:"level-requirement",appliesTo:["queenChamber"]},{id:"advancedGeneratorLevelUpReduction",name:"Advanced Generator Advancement",description:"Reduces level-up requirements for high-tier generators by 25% per level",baseCost:s(2e3),cost:s(2e3),costMultiplier:e=>s(e.cost).mul(s(2).pow(e.level)),level:s(0),maxLevel:s(2),effect:e=>s(1).sub(e.mul(.25)),formatEffect:ho,icon:"i-heroicons-building-office-2",isUnlocked:()=>!1,category:"level-requirement",appliesTo:["colony","megacolony","hivemind","antopolis"]}],Ig=()=>[{id:"reRollChance",name:"Re-Roll Chance",description:"Increases the chance to re-roll items from defeated bugs in adventure mode, giving you a better chance to get the items you want.",baseCost:s(1e4),cost:s(1e4),costMultiplier:e=>s(e.cost).mul(s(1.3).pow(e.level)),level:s(0),maxLevel:s(100),effect:e=>e,formatEffect:e=>`+${e.toNumber()}%`,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!0,category:"adventure",appliesTo:["global"]},{id:"doubleKill",name:"Double Kill",description:"Increases the chance to get a double kill in adventure mode, giving you a better chance to get the items you want.",baseCost:s(1e4),cost:s(1e4),costMultiplier:e=>s(e.cost).mul(s(1.3).pow(e.level)),level:s(0),maxLevel:s(100),effect:e=>e,formatEffect:e=>`+${e.toNumber()}%`,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!0,category:"adventure",appliesTo:["global"]},{id:"doubleKillEffect",name:"Double Kill Effect",description:"Increases the effect of the double kill in adventure mode, increases the quantity of bugs killed in a double kill.",baseCost:s(1e4),cost:s(1e4),costMultiplier:e=>s(e.cost).mul(s(1.6).pow(e.level).pow(1.2)),level:s(0),maxLevel:s(3),effect:e=>e,formatEffect:e=>`x${e.toNumber()}`,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!0,category:"adventure",appliesTo:["global"]}],Fg=()=>{const e=[...wg(),...$g(),...Cg(),...Sg(),...Eg(),...Mg(),...Pg(),...Tg(),...Lg(),...Ig()];return e.map(t=>{const o=t.isUnlocked;return o()===!1&&(t.isUnlocked=()=>Jr(t.id,e)),t}),e.forEach(t=>{t.level.gt(0)&&t.costMultiplier&&(t.cost=ed(t.baseCost,t.level,t.costMultiplier))}),e},la=Fg(),Ve=ft("prestige",()=>{const e=B(s(0)),t=B(s(0)),o=B(s(0)),n=B(s(0)),a=B(s(0)),l=B(s(3)),i=B(s(1e3)),u=B(s(0)),c=B(!1),d=B(!0),m=B(!0),b=B("all"),x=B(""),h=B("default"),C=B("comfortable"),w=L(()=>t.value.gt(0)),M=L(()=>Yt().isFeatureUnlocked.evolution),S=L(()=>{const E=t.value.toNumber();let N=3;return E<=100?N+=E*.95:E<=150?N=3+100*.95+(E-100)*1.35:E<=200?N=3+100*.95+50*1.35+(E-150)*1.95:E<=250?N=3+100*.95+50*1.35+50*1.95+(E-200)*2.55:E<=300?N=3+100*.95+50*1.35+50*1.95+50*2.55+(E-250)*3.25:N=3+100*.95+50*1.35+50*1.95+50*2.55+50*3.25+(E-300)*4.05,s(N).ceil()}),_=B(la),y=E=>{const N=P(E);return N?N.effect(N.level):s(1)},P=E=>_.value.find(N=>N.id===E),I=E=>{const N=P(E);return N?N.level:s(0)},U=()=>{const E={},N=st();_.value.forEach($=>{$.isCombo||(E[$.id]=$.effect($.level))}),_.value.forEach($=>{$.isCombo&&($.level.eq(0)||$.effects&&$.effects.forEach(A=>{const Q=`${$.id}_${A.target}`;E[Q]=A.multiplier($.level)}))});const me=_.value.find($=>$.id==="generatorSynergy");if(me&&me.level.gt(0)){const $=N.generators.filter(Q=>Q.unlocked||Q.purchasable).length,A=me.level.mul(.02).mul($);E.generatorSynergyBonus=s(1).add(A)}else E.generatorSynergyBonus=s(1);const ie=_.value.find($=>$.id==="evolutionSynergy");if(ie&&ie.level.gt(0)){const $=ie.level.mul(.01).mul(t.value);E.evolutionSynergyBonus=s(1).add($)}else E.evolutionSynergyBonus=s(1);const O=_.value.find($=>$.id==="bulkAutomation");return O&&O.level.gt(0)?E.bulkAutomationMultiplier=s(1).add(O.level.mul(4)):E.bulkAutomationMultiplier=s(1),E},q=L(()=>a.value.gte(S.value)),k=()=>{s(1);const E=a.value.toNumber();if(E<=0)return s(0);const N=s(E);s(.1);const me=N,ie=N.mul(N.sub(1)).mul(.05);let O=me.add(ie);const $=Vt().getEPBoostMultiplier();return O=O.mul($),O},W=({foodReset:E=!0,ticksReset:N=!0})=>{u.value=s(i.value.toString()),a.value=a.value.add(1),bt().updateHivemindProgress(1);try{Xt().updateStats("maxLoopsInEvolution",a.value,!1)}catch(O){console.error("Error updating loop achievements:",O)}l.value=s(3).plus(a.value.mul(.5)).mul(s(1.05).pow(s(a.value).div(5))).ceil();const me=s(1e3).mul(s(1.5).pow(s(a.value).pow(1.2))),ie=y("cycleFoodReduction");N&&(o.value=s(0)),E&&(bt().updateAntopolisProgress(1),i.value=me.mul(ie))},le=(E=1)=>{if(!M.value)return;o.value=o.value.add(E),n.value=n.value.add(E),o.value.gte(l.value)&&W({foodReset:!1,ticksReset:!0}),st().food.gte(i.value)&&W({foodReset:!0,ticksReset:!1})},X=()=>ge(e.value,2),j=()=>ge(t.value,0),T=()=>ge(a.value,0),K=()=>ge(S.value,0),fe=()=>{const E=k();return ge(E,2)},we=()=>ge(l.value,1),Se=()=>ge(i.value,0),pe=()=>ge(n.value,0),ce=()=>{c.value=!1,d.value=!0,m.value=!0,b.value="all",x.value="",h.value="default",C.value="comfortable"},ke=()=>({evolutionPoints:e.value.toString(),evolutionCount:t.value.toString(),currentLoopTicks:o.value.toString(),currentEvolutionTicks:n.value.toString(),loopsCompleted:a.value.toString(),ticksPerLoop:l.value.toString(),foodForNextLoop:i.value.toString(),previousFoodRequirement:u.value.toString(),upgrades:_.value.map(E=>({id:E.id,level:E.level.toString()})),filters:{showMaxed:c.value,showAffordable:d.value,showUnlocked:m.value,activeTab:b.value,searchQuery:x.value,selectedSort:h.value,gridDensity:C.value}}),ue=E=>{E.evolutionPoints&&(e.value=s(E.evolutionPoints)),E.evolutionCount&&(t.value=s(E.evolutionCount)),E.loopsCompleted&&(a.value=s(E.loopsCompleted)),E.currentLoopTicks&&(o.value=s(E.currentLoopTicks)),E.currentEvolutionTicks&&(n.value=s(E.currentEvolutionTicks)),E.ticksPerLoop&&(l.value=s(E.ticksPerLoop)),E.foodForNextLoop?i.value=s(E.foodForNextLoop):E.antsForNextLoop&&(i.value=s(E.antsForNextLoop)),E.previousFoodRequirement?u.value=s(E.previousFoodRequirement):u.value=s(0),E.upgrades&&Array.isArray(E.upgrades)&&E.upgrades.forEach(N=>{const me=_.value.find(ie=>ie.id===N.id);if(me){me.level=s(N.level);const ie=me.costMultiplier;ie?me.cost=ie({cost:me.baseCost,level:me.level}):me.cost=me.baseCost.mul(s(1.5).pow(me.level))}}),E.filters&&(typeof E.filters.showMaxed=="boolean"&&(c.value=E.filters.showMaxed),typeof E.filters.showAffordable=="boolean"&&(d.value=E.filters.showAffordable),typeof E.filters.showUnlocked=="boolean"&&(m.value=E.filters.showUnlocked),typeof E.filters.activeTab=="string"&&(b.value=E.filters.activeTab),typeof E.filters.searchQuery=="string"&&(x.value=E.filters.searchQuery),typeof E.filters.selectedSort=="string"&&(h.value=E.filters.selectedSort),typeof E.filters.gridDensity=="string"&&(C.value=E.filters.gridDensity))},Z=()=>{if(!q.value)return!1;const E=k();e.value=e.value.add(E),t.value=t.value.add(1);try{Xt().updateEvolutionStats(e.value,E,t.value,a.value)}catch(N){console.error("Error updating achievement stats:",N)}return de(),!0},de=()=>{var re;const E=st(),N=bt(),me=Jt(),ie=ur();me.resetEvolutionTicks(),E.generators.forEach(V=>{if(V.count=s(0),V.manualPurchases=s(0),V.selfReplicated=s(0),V.tier>1&&V.tier<=4&&(V.unlocked=!1),V.tier>=5){const be=V.id==="megacolony"?"unlockMegacolony":V.id==="hivemind"?"unlockHivemind":V.id==="antopolis"?"unlockAntopolis":"";if(be){const R=_.value.find(H=>H.id===be);V.purchasable=R?R.level.gt(0):!1,V.unlocked=!1}else V.purchasable=!1,V.unlocked=!1}ie.autoEnableGeneratorsAfterPrestige&&(V.autoPurchaseEnabled=!0)});const O=y("startingFood"),$=s(10);E.food=$.mul(O),o.value=s(0);const A=((re=_.value.find(V=>V.id==="prestigeAcceleration"))==null?void 0:re.level)||s(0);a.value=A.gt(0)?new he(A.toString()):s(0);const Q=y("cycleFoodReduction"),ne=s(1e3);i.value=ne.mul(Q),u.value=s(0),l.value=s(3),N.resetProgress()};return{evolutionPoints:e,evolutionCount:t,currentLoopTicks:o,currentEvolutionTicks:n,loopsCompleted:a,ticksPerLoop:l,foodForNextLoop:i,previousFoodRequirement:u,hasEvolved:w,requiredLoops:S,evolutionUpgrades:_,canEvolve:q,showMaxed:c,showAffordable:d,showUnlocked:m,activeTab:b,searchQuery:x,selectedSort:h,gridDensity:C,resetFilters:ce,getUpgrade:P,getUpgradeMultiplier:y,getAllMultipliers:U,evolve:Z,resetProgress:de,purchaseUpgrade:E=>{const N=_.value.find(ie=>ie.id===E);if(!N||N.maxLevel&&N.level.gte(N.maxLevel)||e.value.lt(N.cost)||!Jr(E,_.value))return!1;e.value=e.value.sub(N.cost),N.level=N.level.add(1);const me=N.costMultiplier;return me?N.cost=me({cost:N.baseCost,level:N.level}):N.cost=N.baseCost.mul(s(1.5).pow(N.level)),!0},purchaseMaxUpgrades:E=>{const N=_.value.find(A=>A.id===E);if(!N||N.maxLevel&&N.level.gte(N.maxLevel)||!Jr(E,_.value)||e.value.lt(N.cost))return!1;let me=0,ie=s(N.cost.toString()),O=s(e.value.toString()),$=s(N.level.toString());if(N.maxLevel){const A=N.maxLevel.sub(N.level).toNumber();if(A<=0)return!1;let Q=0;for(;O.gte(ie)&&Q<A;){O=O.sub(ie),$=$.add(1),Q++;const ne=N.costMultiplier;ne?ie=ne({cost:N.baseCost,level:$}):ie=N.baseCost.mul(s(1.5).pow($))}return Q===0?!1:(e.value=O,N.level=$,N.cost=ie,!0)}for(;O.gte(ie);){O=O.sub(ie),$=$.add(1),me++;const A=N.costMultiplier;A?ie=A({cost:N.baseCost,level:$}):ie=N.baseCost.mul(s(1.5).pow($))}return me===0?!1:(e.value=O,N.level=$,N.cost=ie,!0)},calculateMaxPurchasableLevels:E=>{const N=_.value.find(A=>A.id===E);if(!N||N.maxLevel&&N.level.gte(N.maxLevel)||!Jr(E,_.value)||e.value.lt(N.cost))return 0;let me=0,ie=s(N.cost.toString()),O=s(e.value.toString()),$=s(N.level.toString());if(N.maxLevel){const A=N.maxLevel.sub(N.level).toNumber();if(A<=0)return 0;let Q=0;for(;O.gte(ie)&&Q<A;){O=O.sub(ie),$=$.add(1),Q++;const ne=N.costMultiplier;ne?ie=ne({cost:N.baseCost,level:$}):ie=N.baseCost.mul(s(1.5).pow($))}return Q}for(;O.gte(ie);){O=O.sub(ie),$=$.add(1),me++;const A=N.costMultiplier;A?ie=A({cost:N.baseCost,level:$}):ie=N.baseCost.mul(s(1.5).pow($))}return me},updateLoopProgress:le,formatEP:X,formatEvolutionCount:j,formatLoopsCompleted:T,formatRequiredLoops:K,formatPotentialEPGain:fe,formatTicksPerLoop:we,formatFoodForNextLoop:Se,formatCurrentEvolutionTicks:pe,getState:ke,loadState:ue,isUpgradeUnlocked:Jr,unlockedPrestige:M,getUpgradeCount:I,resetForAscension:()=>{const E=st(),N=bt(),me=Jt(),ie=ur(),O=St(),$=gs(),A=ht(),Q=I("unlockAdventure").gt(0),ne=I("unlockAutoSalvage").gt(0),re=I("unlockSalvageAll").gt(0);I("unlockMegaAnt").gt(0);const V=I("unlockAutoQuestAdvance").gt(0),be=I("autoWorker").gt(0),R=I("autoNursery").gt(0),H=I("autoQueenChamber").gt(0),ve=I("autoColony").gt(0),ye=I("autoMegacolony").gt(0),D=I("autoHivemind").gt(0),z=I("autoAntopolis").gt(0),J=I("bulkAutomation").gt(0),se=I("unlockColonyRush").gt(0),xe=I("rushCooldownReduction"),Ae=I("rushDurationIncrease"),Me=I("rushMaxPerDay"),Le=I("equipmentSlots"),Ue=I("inventorySlots");if(e.value=s(0),n.value=s(0),t.value=s(0),me.resetEvolutionTicks(),O.resetForAscension(),$.resetForAscension(),E.generators.forEach(Fe=>{Fe.count=s(0),Fe.manualPurchases=s(0),Fe.selfReplicated=s(0),Fe.tier>1&&Fe.tier<=4&&(Fe.unlocked=!1),Fe.tier>=5&&(Fe.purchasable=!1,Fe.unlocked=!1),ie.autoEnableGeneratorsAfterPrestige&&(Fe.autoPurchaseEnabled=!0)}),_.value.forEach(Fe=>{Fe.level=s(0),Fe.cost=Fe.baseCost}),E.food=s(10),o.value=s(0),a.value=s(0),i.value=s(1e3),u.value=s(0),l.value=s(3),N.resetProgress(),Q){const Fe=P("unlockAdventure");Fe&&(Fe.level=s(1))}if(V){const Fe=P("unlockAutoQuestAdvance");Fe&&(Fe.level=s(1))}if(ne){const Fe=P("unlockAutoSalvage");Fe&&(Fe.level=s(1))}if(re){const Fe=P("unlockSalvageAll");Fe&&(Fe.level=s(1))}if(be){const Fe=P("autoWorker");Fe&&(Fe.level=s(1))}if(R){const Fe=P("autoNursery");Fe&&(Fe.level=s(1))}if(H){const Fe=P("autoQueenChamber");Fe&&(Fe.level=s(1))}if(ve){const Fe=P("autoColony");Fe&&(Fe.level=s(1))}if(ye){const Fe=P("autoMegacolony");Fe&&(Fe.level=s(1))}if(D){const Fe=P("autoHivemind");Fe&&(Fe.level=s(1))}if(z){const Fe=P("autoAntopolis");Fe&&(Fe.level=s(1))}if(J){const Fe=P("bulkAutomation");Fe&&(Fe.level=s(1))}if(se){const Fe=P("unlockColonyRush");Fe&&(Fe.level=s(1));const nt=P("rushCooldownReduction");nt&&(nt.level=xe);const lt=P("rushDurationIncrease");lt&&(lt.level=Ae);const vt=P("rushMaxPerDay");vt&&(vt.level=Me)}const Oe=P("inventorySlots");Oe&&(Oe.level=Ue);const Je=P("equipmentSlots");Je&&(Je.level=Le),A.resetForAscension()}}});function Qn(){const e=Ve();return{isAdventureUnlocked:L(()=>e.getUpgradeCount("unlockAdventure").gt(0))}}function td(e={}){const{storageKey:t="scrollPositions",debounceTime:o=100,saveOnUnmount:n=!0,scrollElementSelector:a="main"}=e,l=Rc(),i=ps(),u=B(0);let c=null,d=null;const m=B(!1),b=()=>c?c.scrollTop:0,x=()=>{if(!(!c||m.value))try{const _=JSON.parse(localStorage.getItem(t)||"{}"),y=b();_[l.path]=y,localStorage.setItem(t,JSON.stringify(_)),u.value=y}catch(_){console.error("Failed to save scroll position:",_)}},h=async()=>{if(c)try{m.value=!0;const y=JSON.parse(localStorage.getItem(t)||"{}")[l.path]||0;await cs(),c.scrollTo({top:y,behavior:"auto"}),u.value=y,setTimeout(()=>{m.value=!1},50)}catch(_){console.error("Failed to restore scroll position:",_),m.value=!1}},C=()=>{m.value||(d!==null&&window.clearTimeout(d),d=window.setTimeout(()=>{x()},o))},w=()=>{try{const _=JSON.parse(localStorage.getItem(t)||"{}");delete _[l.path],localStorage.setItem(t,JSON.stringify(_)),u.value=0,c&&c.scrollTo({top:0})}catch(_){console.error("Failed to clear scroll position:",_)}},M=()=>{try{localStorage.removeItem(t),u.value=0,c&&c.scrollTo({top:0})}catch(_){console.error("Failed to clear all scroll positions:",_)}},S=()=>(c=document.querySelector(a),c?(c.addEventListener("scroll",C,{passive:!0}),!0):(console.warn(`Scrollable element not found with selector: ${a}`),!1));return He(()=>{setTimeout(()=>{S()&&h()},50)}),Zt(()=>{c&&c.removeEventListener("scroll",C),n&&!m.value&&x(),d!==null&&window.clearTimeout(d)}),i.beforeEach((_,y,P)=>{y.path!==_.path&&!m.value&&x(),P()}),De(()=>l.path,(_,y)=>{_!==y&&setTimeout(()=>{h()},150)}),{scrollPosition:u,saveScrollPosition:x,restoreScrollPosition:h,clearScrollPosition:w,clearAllScrollPositions:M}}const Ug=Ie({__name:"ScrollToTopButton",props:{threshold:{default:300},buttonClass:{default:"fixed bottom-4 right-4 bg-amber-600 hover:bg-amber-700 text-white rounded-full p-3 shadow-lg transition-all duration-200 z-50"},iconClass:{default:"i-heroicons-arrow-up w-5 h-5"}},setup(e){const t=e,{scrollPosition:o}=td(),n=B(!1);De(o,l=>{n.value=l>t.threshold});const a=()=>{const l=document.querySelector("main");l&&l.scrollTo({top:0,behavior:"smooth"})};return(l,i)=>(p(),Ge(no,{name:"fade"},{default:it(()=>[n.value?(p(),g("button",{key:0,onClick:a,class:ee([l.buttonClass,"fixed bottom-20 right-6 bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-800 text-white rounded-full p-3 shadow-lg transition-all duration-200 z-10 flex items-center justify-center transform hover:scale-105 active:scale-95"]),"aria-label":"Scroll to top"},[r("span",{class:ee([l.iconClass,"w-5 h-5"])},null,2)],2)):G("",!0)]),_:1}))}}),We=(e,t)=>{const o=e.__vccOpts||e;for(const[n,a]of t)o[n]=a;return o},ao=We(Ug,[["__scopeId","data-v-d69777c8"]]),Di="idle-ant-farm-animated-features";function rd(){const e=Yt(),o=B((()=>{try{const u=localStorage.getItem(Di);return u?JSON.parse(u):{}}catch(u){return console.error("Error loading animated features:",u),{}}})()),n=()=>{try{localStorage.setItem(Di,JSON.stringify(o.value))}catch(u){console.error("Error saving animated features:",u)}},a=u=>e.isFeatureUnlocked[u]&&!o.value[u]?(o.value[u]=!0,n(),!0):!1,l=u=>{delete o.value[u],n()},i=()=>{o.value={},n()};return He(()=>{Object.keys(e.isFeatureUnlocked).forEach(u=>{e.isFeatureUnlocked[u]&&o.value[u]===void 0&&(o.value[u]=!0)}),n()}),{shouldAnimateFeature:a,animatedFeatures:o,forceAnimateFeature:l,resetAllAnimations:i}}const Rg={worker:{name:"Worker Ants",icon:"i-heroicons-bug-ant"},nursery:{name:"Nursery",icon:"i-heroicons-home-modern"},queenChamber:{name:"Queen Chamber",icon:"i-heroicons-crown"},colony:{name:"Colony",icon:"i-heroicons-building-storefront"},megacolony:{name:"Mega Colony",icon:"i-heroicons-building-office-2"},hivemind:{name:"Hive Mind",icon:"i-heroicons-cpu-chip"},antopolis:{name:"Antopolis",icon:"i-heroicons-building-library"}};function Dg(e){if(!e)return"";switch(e){case"worker":return"Levels up based on foraging ticks in current evolution";case"nursery":return"Levels up based on amount of food gained";case"queenChamber":return"Levels up based on total manual purchases (auto purchases are also counted)";case"colony":return"Levels up based on amount of upgrades purchased";case"megacolony":return"Levels up based on pheromone gained";case"hivemind":return"Levels up based on amount of cycles completed in current evolution";case"antopolis":return"Levels up based on total food cycles completed in current evolution";default:return""}}function qg(e){if(!e)return"";switch(e){case"worker":return"ticks";case"nursery":return"food";case"queenChamber":return"purchases";case"colony":return"upgrades";case"megacolony":return"points";case"hivemind":return"types";case"antopolis":return"levels";default:return""}}function br(){const e=B(!1);return{isClosing:e,handleClose:(n,a=250)=>{a>0?(e.value=!0,setTimeout(()=>{n(),e.value=!1},a)):n()},preventBackgroundTouchMove:n=>{const a=n.target;(a.classList.contains("modal-backdrop")||a.getAttribute("data-modal-backdrop")==="true")&&n.preventDefault()}}}const Ng=Ie({__name:"GeneratorInfoDialog",props:{show:{type:Boolean}},emits:["close"],setup(e,{emit:t}){const o=e,n=t,{isClosing:a,handleClose:l,preventBackgroundTouchMove:i}=br(),u=()=>{l(()=>n("close"),250)},c=d=>{d.key==="Escape"&&o.show&&u()};return He(()=>{window.addEventListener("keydown",c)}),Zt(()=>{window.removeEventListener("keydown",c)}),De(()=>o.show,d=>{}),(d,m)=>d.show?(p(),g("div",{key:0,class:"fixed inset-0 z-50 modal-backdrop","data-modal-backdrop":"true",onClick:Ye(u,["self"]),onTouchmove:m[0]||(m[0]=Ye((...b)=>f(i)&&f(i)(...b),["self"]))},[r("div",{class:ee(["absolute inset-0 bg-black/50 animate-fadeIn",{"animate-fadeOut":f(a)}])},null,2),r("div",{class:ee(["fixed inset-0 flex flex-col animate-fadeIn",{"animate-fadeOut":f(a)}])},[r("div",{class:ee(["w-full h-full flex flex-col bg-amber-50 dark:bg-gray-900 text-amber-900 dark:text-amber-100 font-sans animate-slideUp",{"animate-slideDown":f(a)}])},[r("header",{class:"bg-gradient-to-r from-amber-800 to-amber-700 dark:from-amber-900 dark:to-amber-800 text-amber-50 shadow-lg"},[r("div",{class:"p-2 md:p-3"},[r("div",{class:"flex items-center justify-between"},[m[2]||(m[2]=r("h1",{class:"text-lg md:text-xl font-bold tracking-tight flex items-center"},[r("span",{class:"i-heroicons-information-circle text-amber-300 dark:text-amber-400 mr-2"}),Y(" About Ant Specialization ")],-1)),r("button",{onClick:u,class:"text-amber-50 hover:text-amber-300 dark:hover:text-amber-200 transition-colors p-1.5 rounded-full hover:bg-amber-900/30 dark:hover:bg-amber-950/40"},m[1]||(m[1]=[r("span",{class:"i-heroicons-x-mark text-lg"},null,-1)]))])])]),m[4]||(m[4]=ct('<main class="flex-1 overflow-y-auto p-4 pb-6 scroll-smooth" data-v-620fc169><div class="space-y-3" data-v-620fc169><div class="bg-white dark:bg-gray-800 rounded-xl shadow-md border border-amber-200 dark:border-amber-700 p-3" data-v-620fc169><p class="text-sm text-amber-800 dark:text-amber-300 mb-2 font-medium" data-v-620fc169> How Ant Specialization Works: </p><ul class="text-xs text-amber-800 dark:text-amber-300 list-disc pl-4 space-y-1" data-v-620fc169><li data-v-620fc169>Each ant type has its own specialization level that increases based on different metrics: </li><li class="ml-3" data-v-620fc169><strong data-v-620fc169>Worker Ants:</strong> Level up based on foraging trips in current evolution (50% increase per level)</li><li class="ml-3" data-v-620fc169><strong data-v-620fc169>Nurseries:</strong> Level up based on amount of food gathered (100% increase per level)</li><li class="ml-3" data-v-620fc169><strong data-v-620fc169>Queen Chambers:</strong> Level up based on total manual purchases (30% increase per level)</li><li class="ml-3" data-v-620fc169><strong data-v-620fc169>Colonies:</strong> Level up based on amount of adaptations developed (20% increase per level)</li><li data-v-620fc169>Each level-up awards 1 adaptation point for that ant type</li><li data-v-620fc169>Adaptation points can be spent on specialized traits for that ant type</li><li data-v-620fc169>Specialization levels and adaptations reset when your colony undergoes metamorphosis </li></ul></div><div class="bg-white dark:bg-gray-800 rounded-xl shadow-md border border-amber-200 dark:border-amber-700 p-3" data-v-620fc169><p class="text-sm text-amber-800 dark:text-amber-300 mb-2 font-medium" data-v-620fc169> Types of Ant Adaptations: </p><ul class="text-xs text-amber-800 dark:text-amber-300 list-disc pl-4 space-y-1" data-v-620fc169><li data-v-620fc169><strong data-v-620fc169>Efficiency Adaptations:</strong> Increase production (+20% per level)</li><li data-v-620fc169><strong data-v-620fc169>Resource Adaptations:</strong> Decrease resource requirements (-5% per level)</li><li data-v-620fc169><strong data-v-620fc169>Special Adaptations:</strong> Add a chance for ants to reproduce themselves </li></ul></div></div></main>',1)),r("footer",{class:"bg-gradient-to-r from-amber-800 to-amber-700 dark:from-amber-900 dark:to-amber-800 text-amber-50 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]"},[r("div",{class:"flex justify-end p-3"},[r("button",{onClick:u,class:"px-3 py-2 bg-amber-900/20 dark:bg-amber-950/40 hover:bg-amber-900/30 dark:hover:bg-amber-950/50 rounded-lg text-amber-50 font-medium transition-colors duration-200 flex items-center justify-center active:scale-95 border border-amber-600 dark:border-amber-700"},m[3]||(m[3]=[r("span",{class:"i-heroicons-arrow-left text-base mr-1"},null,-1),Y(" Return to Dashboard ")]))])])],2)],2)],32)):G("",!0)}}),Og=We(Ng,[["__scopeId","data-v-620fc169"]]),Bg=["disabled"],Eo=Ie({__name:"HoldableButton",props:{disabled:{type:Boolean},class:{},initialDelay:{},repeatInterval:{},accelerate:{type:Boolean},minInterval:{}},emits:["action"],setup(e,{emit:t}){const o=e,n=t,a=o.initialDelay??500,l=o.repeatInterval??100,i=o.accelerate??!0,u=o.minInterval??50,c=B(!1),d=B(null),m=B(null),b=B(l),x=B(0),h=_=>{o.disabled||(_.preventDefault(),n("action"),c.value=!0,x.value=Date.now(),d.value=window.setTimeout(()=>{C()},a))},C=()=>{o.disabled||(m.value!==null&&clearInterval(m.value),b.value=l,m.value=window.setInterval(()=>{if(o.disabled){S();return}if(n("action"),i){const _=Date.now()-x.value;_>2e3&&(b.value=Math.max(u,l-Math.floor((_-2e3)/100)*5),b.value!==l&&(clearInterval(m.value),m.value=window.setInterval(()=>{o.disabled||n("action")},b.value)))}},b.value))},w=()=>{S()},M=()=>{S()},S=()=>{c.value=!1,d.value!==null&&(clearTimeout(d.value),d.value=null),m.value!==null&&(clearInterval(m.value),m.value=null)};return er(()=>{S()}),(_,y)=>(p(),g("button",{class:ee([o.class,"transition-all duration-150 flex items-center justify-center cursor-pointer disabled:cursor-not-allowed",c.value?"transform scale-95":"transform scale-100"]),disabled:_.disabled,onMousedown:h,onMouseup:w,onMouseleave:M,onTouchstart:h,onTouchend:w,onTouchcancel:w},[Mo(_.$slots,"default")],42,Bg))}}),Qg={key:0,class:"bg-white/80 dark:bg-gray-800/80 p-3 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700 hover:border-amber-300 dark:hover:border-amber-600 transition-colors"},jg={class:"flex justify-between items-start"},Hg={class:"flex items-center"},Gg={class:"font-medium text-gray-900 dark:text-gray-100"},Vg={class:"text-xs text-gray-600 dark:text-gray-400 mt-1"},Wg={class:"text-right"},zg={class:"text-xs text-amber-700 dark:text-amber-400"},Xg={class:"font-medium"},Kg={key:0},Yg={class:"text-xs text-amber-700 dark:text-amber-400 mt-1"},Jg={class:"font-medium"},Zg={class:"mt-3 flex justify-between items-center"},ev={class:"text-xs text-amber-700 dark:text-amber-400"},tv={key:0},rv={class:"font-medium"},ov={key:1,class:"text-green-600 dark:text-green-500 font-medium"},sv={key:0},nv={key:1},av=Ie({__name:"GeneratorUpgradeItem",props:{upgradeId:{type:String,required:!0}},setup(e){const t=e,o=bt(),n=L(()=>o.getUpgrade(t.upgradeId)),a=L(()=>!n.value||n.value.maxLevel!==null&&n.value.level.gte(n.value.maxLevel)?!1:o.generatorPoints[n.value.generatorId].gte(n.value.cost)),l=L(()=>{var d,m,b,x;if(!n.value)return"";const c=((m=(d=n.value).effect)==null?void 0:m.call(d,n.value.level))??s(1);return((x=(b=n.value).formatEffect)==null?void 0:x.call(b,c))??ge(c,2)}),i=L(()=>{var c,d,m,b,x,h;return n.value?((b=(m=n.value).formatEffect)==null?void 0:b.call(m,((d=(c=n.value).effect)==null?void 0:d.call(c,n.value.level.add(1)))??s(1)))??ge(((h=(x=n.value).effect)==null?void 0:h.call(x,n.value.level.add(1)))??s(1),2):""}),u=()=>{a.value&&n.value&&o.purchaseUpgrade(n.value.id)};return(c,d)=>n.value?(p(),g("div",Qg,[r("div",jg,[r("div",null,[r("div",Hg,[r("span",{class:ee(n.value.icon+" text-amber-600 dark:text-amber-500 mr-2")},null,2),r("span",Gg,v(n.value.name),1)]),r("div",Vg,v(n.value.description),1)]),r("div",Wg,[r("div",zg,[d[0]||(d[0]=Y(" Level: ")),r("span",Xg,v(f(ge)(n.value.level,0)),1),n.value.maxLevel!==null?(p(),g("span",Kg,"/"+v(f(ge)(n.value.maxLevel,0)),1)):G("",!0)]),r("div",Yg,[d[1]||(d[1]=Y(" Effect: ")),r("span",Jg,v(l.value),1)])])]),r("div",Zg,[r("div",ev,[n.value.maxLevel===null||n.value.level.lt(n.value.maxLevel)?(p(),g("span",tv,[d[2]||(d[2]=Y(" Next: ")),r("span",rv,v(i.value),1)])):(p(),g("span",ov,"MAX LEVEL"))]),Ee(Eo,{onAction:u,disabled:!a.value,class:ee(a.value?"px-3 py-1 text-xs rounded-md font-medium bg-amber-500 hover:bg-amber-600 dark:bg-amber-600 dark:hover:bg-amber-700 text-white":"px-3 py-1 text-xs rounded-md font-medium bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed"),"initial-delay":400,"repeat-interval":200,accelerate:!0},{default:it(()=>[n.value.maxLevel===null||n.value.level.lt(n.value.maxLevel)?(p(),g("span",sv," Adapt ("+v(f(ge)(n.value.cost,0))+" pts) ",1)):(p(),g("span",nv,"Maxed"))]),_:1},8,["disabled","class"])])])):G("",!0)}}),lv={key:0,class:"fixed inset-0 z-50"},iv={class:"bg-gradient-to-r from-amber-800 to-amber-700 dark:from-amber-900 dark:to-amber-800 text-amber-50 shadow-lg"},uv={class:"p-2 md:p-3"},cv={class:"flex items-center justify-between"},dv={class:"text-lg md:text-xl font-bold tracking-tight flex items-center opacity-0 animate-fadeIn",style:{animationDelay:"150ms",animationFillMode:"forwards"}},mv={class:"flex-1 overflow-y-auto p-4 pb-6 scroll-smooth"},pv={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md border border-amber-200 dark:border-amber-700 p-3 mb-4 opacity-0 animate-fadeIn",style:{animationDelay:"200ms",animationFillMode:"forwards"}},fv={class:"flex flex-col md:flex-row md:justify-between md:items-center gap-3"},gv={class:"text-xl font-bold text-amber-800 dark:text-amber-300 flex items-center"},vv={class:"text-xl font-bold text-amber-800 dark:text-amber-300 flex items-center"},bv={key:0},hv={class:"text-xl font-bold text-amber-800 dark:text-amber-300 flex items-center"},xv={class:"mt-3"},yv={class:"text-sm text-amber-800 dark:text-amber-300 font-medium mb-1 flex justify-between"},kv={class:"h-2.5 bg-amber-100 dark:bg-amber-900/50 rounded-full overflow-hidden"},_v={class:"flex justify-between mt-1 text-xs text-amber-700 dark:text-amber-400"},wv={class:"mt-3 pt-3 border-t border-amber-200 dark:border-amber-700"},$v={class:"text-xs text-amber-700 dark:text-amber-400"},Cv={key:0,class:"text-xs text-green-600 dark:text-green-400 mt-1"},Sv={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 opacity-0 animate-fadeIn",style:{animationDelay:"300ms",animationFillMode:"forwards"}},Av=Ie({__name:"GeneratorUpgradeModal",props:{show:{type:Boolean},selectedGenerator:{},generatorInfo:{}},emits:["close"],setup(e,{emit:t}){const o=e,n=t,a=bt(),l=B(!1),i=B(!1),u=L(()=>o.selectedGenerator?a.getUpgradesForGenerator(o.selectedGenerator):[]);De(()=>o.show,h=>{h?i.value=!0:l.value=!1});const c=()=>{l.value=!0,setTimeout(()=>{n("close"),i.value=!1},400)},d=L(()=>Dg(o.selectedGenerator)),m=L(()=>qg(o.selectedGenerator)),b=L(()=>o.selectedGenerator?a.formatLevelRequirementReduction(o.selectedGenerator):"0%");He(()=>{window.addEventListener("keydown",x)}),er(()=>{window.removeEventListener("keydown",x)});const x=h=>{h.key==="Escape"&&c()};return(h,C)=>{var w,M,S;return i.value?(p(),g("div",lv,[r("div",{class:ee(["absolute inset-0 bg-black/50 animate-fadeIn",{"animate-fadeOut":l.value}])},null,2),h.selectedGenerator?(p(),g("div",{key:0,class:ee(["fixed inset-0 flex flex-col animate-fadeIn",{"animate-fadeOut":l.value}])},[r("div",{class:ee(["w-full h-full flex flex-col bg-amber-50 dark:bg-gray-900 text-amber-900 dark:text-amber-100 font-sans animate-slideUp",{"animate-slideDown":l.value}])},[r("header",iv,[r("div",uv,[r("div",cv,[r("h1",dv,[r("span",{class:ee([(w=h.generatorInfo[h.selectedGenerator])==null?void 0:w.icon,"text-amber-300 dark:text-amber-200 mr-2"])},null,2),Y(" "+v((M=h.generatorInfo[h.selectedGenerator])==null?void 0:M.name)+" Adaptations ",1)]),r("button",{onClick:c,class:"text-amber-50 hover:text-amber-300 transition-colors p-1.5 rounded-full hover:bg-amber-900/30 dark:hover:bg-amber-950/40"},C[0]||(C[0]=[r("span",{class:"i-heroicons-x-mark text-lg"},null,-1)]))])])]),r("main",mv,[r("div",pv,[r("div",fv,[r("div",null,[C[2]||(C[2]=r("div",{class:"text-sm text-amber-800 dark:text-amber-300 font-medium"},"Current Level",-1)),r("div",gv,[C[1]||(C[1]=r("span",{class:"i-heroicons-star text-amber-500 dark:text-amber-400 mr-1"},null,-1)),Y(" Level "+v((S=f(a).generatorLevels[h.selectedGenerator])==null?void 0:S.toNumber()),1)])]),r("div",null,[C[4]||(C[4]=r("div",{class:"text-sm text-amber-800 dark:text-amber-300 font-medium"},"Available Points",-1)),r("div",vv,[C[3]||(C[3]=r("span",{class:"i-heroicons-bolt text-amber-500 dark:text-amber-400 mr-1"},null,-1)),Y(" "+v(f(a).formatPoints(h.selectedGenerator))+" points ",1)])]),b.value!=="0%"?(p(),g("div",bv,[C[6]||(C[6]=r("div",{class:"text-sm text-amber-800 dark:text-amber-300 font-medium"},"Level Requirement Reduction",-1)),r("div",hv,[C[5]||(C[5]=r("span",{class:"i-heroicons-arrow-trending-down text-green-500 dark:text-green-400 mr-1"},null,-1)),Y(" "+v(b.value),1)])])):G("",!0)]),r("div",xv,[r("div",yv,[C[7]||(C[7]=r("span",null,"Progress to Next Level",-1)),r("span",null,v(f(a).formatProgressPercentage(h.selectedGenerator))+"%",1)]),r("div",kv,[r("div",{class:"h-full bg-amber-500 dark:bg-amber-600 transition-all duration-300 ease-out",style:je({width:`${f(a).formatProgressPercentage(h.selectedGenerator)}%`})},null,4)]),r("div",_v,[r("span",null,"Current: "+v(f(ge)(f(a).levelProgress[h.selectedGenerator]||0,0)),1),r("span",null,"Next: "+v(f(a).formatNextLevelRequirement(h.selectedGenerator))+" "+v(m.value),1)])]),r("div",wv,[r("div",$v,v(d.value),1),b.value!=="0%"?(p(),g("div",Cv," Level requirements reduced by "+v(b.value)+" from prestige upgrades. ",1)):G("",!0)])]),C[8]||(C[8]=r("h4",{class:"text-base font-bold text-amber-800 dark:text-amber-300 mb-3 flex items-center opacity-0 animate-fadeIn",style:{animationDelay:"250ms",animationFillMode:"forwards"}},[r("span",{class:"i-heroicons-adjustments-horizontal text-amber-600 dark:text-amber-500 mr-2"}),Y(" Available Adaptations ")],-1)),r("div",Sv,[(p(!0),g($e,null,Te(u.value,_=>(p(),Ge(av,{key:_.id,upgradeId:_.id},null,8,["upgradeId"]))),128))])]),r("footer",{class:"bg-gradient-to-r from-amber-800 to-amber-700 dark:from-amber-900 dark:to-amber-800 text-amber-50 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]"},[r("div",{class:"flex justify-end p-3"},[r("button",{onClick:c,class:"px-3 py-2 bg-amber-900/20 dark:bg-amber-950/40 hover:bg-amber-900/30 dark:hover:bg-amber-950/50 rounded-lg text-amber-50 font-medium transition-colors duration-200 flex items-center justify-center active:scale-95 border border-amber-600 dark:border-amber-700"},C[9]||(C[9]=[r("span",{class:"i-heroicons-arrow-left text-base mr-1"},null,-1),Y(" Return to Dashboard ")]))])])],2)],2)):G("",!0)])):G("",!0)}}}),Ev=We(Av,[["__scopeId","data-v-b9c45bd4"]]),Mv={class:"grid grid-cols-3 gap-2"},Pv={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},Tv={class:"text-sm font-bold flex items-center"},Lv={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},Iv={class:"text-sm font-bold flex items-center"},Fv={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},Uv={class:"text-sm font-bold flex items-center"},Rv={key:0,class:"text-xs text-amber-600 dark:text-amber-500"},Dv={class:"mt-2 pt-2 border-t border-amber-200/50 dark:border-amber-700/50 text-xs"},qv={class:"flex flex-wrap gap-x-3 gap-y-1 mb-1"},Nv=["href"],Ov=["href"],Bv=["href"],Qv=Ie({__name:"HomeColonyStatusCard",props:{className:{},githubIssuesUrl:{},discordUrl:{},buyMeCoffeeUrl:{}},setup(e){const t=st(),o=Ve(),n=L(()=>ge(t.foodPerSecond,2)),a=L(()=>t.getGenerator("worker")),l=L(()=>a.value?a.value.count.sub(a.value.manualPurchases):0),i=L(()=>typeof l.value!="number"&&l.value.gt(0)),u=L(()=>t.formatGeneratorCount("worker"));return L(()=>Math.round(o.currentLoopTicks.div(o.ticksPerLoop).mul(100).toNumber())),(c,d)=>(p(),g("section",{class:ee(["bg-gradient-to-br from-amber-100 to-amber-50 dark:from-amber-900/40 dark:to-amber-800/30 rounded-xl p-3 shadow-md bg-opacity-50",c.className])},[d[10]||(d[10]=r("h2",{class:"text-base font-bold mb-2 flex items-center"},[r("span",{class:"i-heroicons-chart-bar text-amber-700 dark:text-amber-500 mr-2"}),Y(" Colony Status ")],-1)),r("div",Mv,[r("div",Pv,[d[1]||(d[1]=r("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Food",-1)),r("div",Tv,[d[0]||(d[0]=r("span",{class:"i-heroicons-cake text-amber-600 dark:text-amber-500 mr-1 text-xs"},null,-1)),Y(" "+v(f(t).formatFood()),1)])]),r("div",Lv,[d[3]||(d[3]=r("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Food/Trip",-1)),r("div",Iv,[d[2]||(d[2]=r("span",{class:"i-heroicons-arrow-trending-up text-amber-600 dark:text-amber-500 mr-1 text-xs"},null,-1)),Y(" "+v(n.value),1)])]),r("div",Fv,[d[5]||(d[5]=r("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Worker Ants",-1)),r("div",Uv,[d[4]||(d[4]=r("span",{class:"i-heroicons-bug-ant text-amber-600 dark:text-amber-500 mr-1 text-xs"},null,-1)),Y(" "+v(f(t).formatGeneratorCount("worker")),1)]),i.value?(p(),g("div",Rv," ("+v(u.value)+" auto) ",1)):G("",!0)])]),r("div",Dv,[r("div",qv,[r("a",{href:c.githubIssuesUrl,target:"_blank",rel:"noopener noreferrer",class:"text-amber-700 dark:text-amber-400 hover:underline inline-flex items-center"},d[6]||(d[6]=[r("span",{class:"i-heroicons-bug-ant text-xs mr-1"},null,-1),Y(" Report Issues ")]),8,Nv),r("a",{href:c.discordUrl,target:"_blank",rel:"noopener noreferrer",class:"text-amber-700 dark:text-amber-400 hover:underline inline-flex items-center"},d[7]||(d[7]=[r("span",{class:"i-heroicons-chat-bubble-left-right text-xs mr-1"},null,-1),Y(" Discord ")]),8,Ov),r("a",{href:c.buyMeCoffeeUrl,target:"_blank",rel:"noopener noreferrer",class:"text-amber-700 dark:text-amber-400 hover:underline inline-flex items-center"},d[8]||(d[8]=[r("span",{class:"i-heroicons-heart text-xs mr-1"},null,-1),Y(" Buy me a coffee ")]),8,Bv)]),d[9]||(d[9]=r("div",{class:"flex flex-wrap items-center justify-between gap-2 text-amber-700/80 dark:text-amber-400/80"},[r("span",{class:"text-[11px]"},"Made with  by Mezeman"),r("span",{class:"text-[11px] font-medium"},"Remember to export your save!")],-1))])],2))}}),jv={class:"space-y-1 sm:space-y-2"},Hv={class:"grid grid-cols-2 gap-1 sm:gap-2"},Gv={class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},Vv={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},Wv={key:0},zv={key:1},Xv={class:"text-xs sm:text-sm font-bold flex items-center"},Kv={class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},Yv={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},Jv={key:0},Zv={key:1},eb={class:"text-xs sm:text-sm font-bold flex items-center"},tb={class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},rb={class:"flex justify-between items-center mb-0.5 sm:mb-1"},ob={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},sb={key:0},nb={key:1},ab={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300"},lb={class:"h-1.5 sm:h-2 bg-purple-100 dark:bg-purple-900/50 rounded-full overflow-hidden"},ib={class:"text-2xs sm:text-xs text-purple-600 dark:text-purple-400 mt-0.5 sm:mt-1"},ub={key:0},cb={key:1},db={class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},mb={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium mb-0.5 sm:mb-1"},pb={key:0},fb={key:1},gb={class:"grid grid-cols-2 gap-1"},vb={class:"text-2xs sm:text-xs font-medium flex items-center text-purple-700 dark:text-purple-400"},bb={key:0},hb={key:1},xb={class:"text-2xs sm:text-xs font-medium flex items-center text-purple-700 dark:text-purple-400"},yb={key:0},kb={key:1},_b=Ie({__name:"MetamorphosisCard",props:{className:{}},setup(e){const t=Ve(),{width:o}=dn(),n=L(()=>o.value<640),a=L(()=>t.formatEvolutionCount()),l=L(()=>t.formatEP()),i=L(()=>t.formatLoopsCompleted()),u=L(()=>ge(t.requiredLoops,1)),c=L(()=>ge(t.ticksPerLoop,1)),d=L(()=>ge(t.foodForNextLoop,0)),m=L(()=>Math.min(100,Math.round(t.loopsCompleted.div(t.requiredLoops).toNumber()*100)));return(b,x)=>{const h=Ca("router-link");return p(),g("section",{class:ee(["bg-gradient-to-br from-purple-200 to-purple-100 dark:from-purple-900/40 dark:to-purple-800/40 rounded-xl p-2 sm:p-3 shadow-md border border-purple-300/50 dark:border-purple-700/50 dark:text-purple-100",b.className])},[x[4]||(x[4]=r("h2",{class:"text-sm sm:text-base font-bold mb-1 sm:mb-2 flex items-center text-purple-800 dark:text-purple-200"},[r("span",{class:"i-heroicons-sparkles text-purple-700 dark:text-purple-400 mr-1 sm:mr-2"}),Y(" Metamorphosis ")],-1)),Mo(b.$slots,"explanation"),r("div",jv,[r("div",Hv,[r("div",Gv,[r("div",Vv,[n.value?(p(),g("span",Wv,"Meta Count")):(p(),g("span",zv,"Metamorphosis Count"))]),r("div",Xv,[x[0]||(x[0]=r("span",{class:"i-heroicons-sparkles text-purple-600 dark:text-purple-400 mr-0.5 sm:mr-1 text-2xs sm:text-xs"},null,-1)),Y(" "+v(a.value),1)])]),r("div",Kv,[r("div",Yv,[n.value?(p(),g("span",Jv,"Evo Points")):(p(),g("span",Zv,"Evolution Points"))]),r("div",eb,[x[1]||(x[1]=r("span",{class:"i-heroicons-sparkles text-purple-600 dark:text-purple-400 mr-0.5 sm:mr-1 text-2xs sm:text-xs"},null,-1)),Y(" "+v(l.value),1)])])]),r("div",tb,[r("div",rb,[r("div",ob,[n.value?(p(),g("span",sb,"Cycles Done")):(p(),g("span",nb,"Foraging Cycles Completed"))]),r("div",ab,[r("span",null,v(m.value)+"%",1)])]),r("div",lb,[r("div",{class:"h-full bg-purple-600 dark:bg-purple-500 transition-all duration-300 ease-out",style:je({width:`${m.value}%`})},null,4)]),r("div",ib,[Y(v(i.value)+" / "+v(u.value)+" ",1),n.value?(p(),g("span",ub,"cycles")):(p(),g("span",cb,"cycles required"))])]),r("div",db,[r("div",mb,[n.value?(p(),g("span",pb,"Cycle Reqs")):(p(),g("span",fb,"Cycle Requirements"))]),r("div",gb,[r("div",vb,[x[2]||(x[2]=r("span",{class:"i-heroicons-clock text-purple-600 dark:text-purple-400 mr-0.5 sm:mr-1 text-2xs sm:text-xs"},null,-1)),Y(" "+v(c.value)+" ",1),n.value?(p(),g("span",bb,"trips")):(p(),g("span",hb,"trips"))]),r("div",xb,[x[3]||(x[3]=r("span",{class:"i-heroicons-cake text-purple-600 dark:text-purple-400 mr-0.5 sm:mr-1 text-2xs sm:text-xs"},null,-1)),Y(" "+v(d.value)+" food ",1)])])]),Ee(h,{to:"/upgrades",class:"block w-full px-2 sm:px-3 py-1 sm:py-1.5 bg-gradient-to-r from-purple-700 to-purple-600 hover:from-purple-800 hover:to-purple-700 dark:from-purple-800 dark:to-purple-700 dark:hover:from-purple-900 dark:hover:to-purple-800 text-white rounded-md text-2xs sm:text-xs font-medium text-center shadow-sm transition-colors duration-200"},{default:it(()=>[n.value?(p(),g("span",yb,"View Adaptations")):(p(),g("span",kb,"View Evolutionary Adaptations"))]),_:1})])],2)}}}),wb={key:0,class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden border border-gray-300 dark:border-gray-700 transition-all duration-200 opacity-75 relative"},$b={class:"absolute inset-0 bg-gray-100/80 dark:bg-gray-900/80 flex items-center justify-center z-10"},Cb={class:"text-center p-3"},Sb={class:"text-sm font-bold text-gray-700"},Ab={class:"text-xs text-gray-600 mt-1"},Eb={class:"mt-2 w-full"},Mb={class:"text-xs text-gray-700 flex justify-between"},Pb={class:"h-1.5 bg-gray-200 rounded-full mt-1 overflow-hidden"},Tb={class:"flex flex-col"},Lb={class:"bg-gradient-to-r from-gray-500 to-gray-400 py-1.5 px-2 flex items-center justify-between text-white"},Ib={class:"flex items-center"},Fb={class:"font-bold text-sm"},Ub={class:"p-2 text-gray-700"},Rb={class:"flex mb-1.5"},Db={class:"flex-grow pr-2"},qb={class:"text-xs mb-1"},Nb={class:"text-xs text-gray-600"},Ob={class:"flex justify-between"},Bb=Ie({__name:"NextUnlockableGenerator",props:{generator:{}},setup(e){const t=e,o=L(()=>{if(!t.generator)return"";switch(t.generator.tier){case 1:return"food";case 2:return"worker ants";case 3:return"nurseries";case 4:return"queen chambers";default:return"colonies"}}),n=L(()=>10),a=st(),l=L(()=>{if(!t.generator)return;const u=t.generator.tier-1;return a.unlockedGenerators.find(c=>c.tier===u)}),i=L(()=>{if(!l.value||!t.generator)return 0;const u=l.value.count.toNumber();return Math.min(100,Math.round(u/n.value*100))});return(u,c)=>{var d;return u.generator?(p(),g("div",wb,[r("div",$b,[r("div",Cb,[c[1]||(c[1]=r("span",{class:"i-heroicons-lock-closed text-2xl text-gray-500 mb-2 inline-block"},null,-1)),r("h4",Sb,"Unlock "+v(u.generator.name),1),r("p",Ab," Requires "+v(n.value)+" "+v(((d=l.value)==null?void 0:d.name)||"previous tier"),1),r("div",Eb,[r("div",Mb,[c[0]||(c[0]=r("span",null,"Progress:",-1)),r("span",null,v(i.value)+"%",1)]),r("div",Pb,[r("div",{class:"h-full bg-amber-500 transition-all duration-300 ease-out",style:je({width:`${i.value}%`})},null,4)])])])]),r("div",Tb,[r("div",Lb,[r("div",Ib,[r("span",{class:ee([u.generator.icon,"text-xl mr-1.5 text-gray-300"])},null,2),r("h3",Fb,v(u.generator.name),1)]),c[2]||(c[2]=r("div",{class:"text-xs font-medium bg-gray-600/30 px-1.5 py-0.5 rounded"}," 0 ",-1))]),r("div",Ub,[r("div",Rb,[r("div",Db,[r("p",qb,v(u.generator.description),1),r("div",Nb,[r("div",Ob,[c[3]||(c[3]=r("span",null,"Base Production:",-1)),r("span",null,v(f(a).getBaseProduction(u.generator.id).toString())+" "+v(o.value)+"/trip",1)])])])]),c[4]||(c[4]=r("button",{disabled:"",class:"w-full py-1.5 px-3 rounded text-xs font-medium bg-gray-200 text-gray-500 cursor-not-allowed"},[r("span",{class:"i-heroicons-lock-closed text-sm mr-1"}),Y(" Locked ")],-1))])])])):G("",!0)}}}),Qb={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] flex flex-col mx-auto border border-amber-200 dark:border-amber-700"},jb={class:"text-base font-bold mb-3 flex items-center text-amber-800 dark:text-amber-300 p-5 pb-2 border-b border-amber-200 dark:border-amber-700"},Hb={class:"overflow-y-auto px-5 flex-grow"},Gb={class:"space-y-2 mb-4"},Vb={class:"text-amber-700 dark:text-amber-400"},Wb={class:"font-medium text-amber-900 dark:text-amber-200"},zb={key:0,class:"mt-6 mb-4"},Xb={class:"border-t border-amber-200 dark:border-amber-700 pt-4 mb-3"},Kb={class:"flex items-center"},Yb={class:"font-medium text-green-900 dark:text-green-200 mr-2"},Jb={key:0,class:"pl-2 space-y-2 mb-4 animate-fadeIn"},Zb={class:"text-green-700 dark:text-green-400 text-sm"},eh={class:"font-medium text-green-900 dark:text-green-200 text-sm"},th={class:"border-t-2 border-amber-200 dark:border-amber-700 pt-3 flex justify-between items-center font-bold text-amber-900 dark:text-amber-200 px-5"},rh={class:"bg-amber-200 dark:bg-amber-700 px-3 py-1 rounded-lg"},oh=Ie({__name:"MultiplierBreakdownModal",props:{show:{type:Boolean},generatorId:{},generatorName:{}},emits:["close"],setup(e,{emit:t}){const o=e,n=t,{handleClose:a,preventBackgroundTouchMove:l}=br(),i=B(!1),u=()=>{a(()=>n("close"),0)},c=y=>{y.key==="Escape"&&o.show&&u()};He(()=>{window.addEventListener("keydown",c)}),Zt(()=>{window.removeEventListener("keydown",c)});const{getEnhancedMultiplierBreakdown:d,getFormattedTotalMultiplier:m,getAchievementMultiplier:b,getAchievementMultiplierBreakdown:x}=as(),h=L(()=>d(o.generatorId,!0)),C=L(()=>x(o.generatorId)),w=L(()=>C.value.length>0),M=L(()=>{const y=b(o.generatorId);return as().formatMultiplierValue(y)}),S=L(()=>m(o.generatorId)),_=()=>{i.value=!i.value};return(y,P)=>y.show?(p(),g("div",{key:0,class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm modal-backdrop","data-modal-backdrop":"true",onClick:Ye(u,["self"]),onTouchmove:P[0]||(P[0]=Ye((...I)=>f(l)&&f(l)(...I),["self"]))},[r("div",Qb,[r("h3",jb,[P[1]||(P[1]=r("span",{class:"i-heroicons-chart-bar text-amber-600 dark:text-amber-400 mr-2"},null,-1)),Y(" "+v(y.generatorName)+" Multiplier Breakdown ",1)]),r("div",Hb,[r("div",Gb,[(p(!0),g($e,null,Te(h.value,(I,U)=>(p(),g("div",{key:U,class:"flex justify-between items-center py-2 px-3 rounded-lg bg-amber-50 dark:bg-amber-900/30"},[r("span",Vb,v(I.name),1),r("span",Wb,v(I.formatted),1)]))),128))]),w.value?(p(),g("div",zb,[r("div",Xb,[r("button",{onClick:_,class:"flex justify-between items-center w-full py-2 px-3 rounded-lg bg-green-50 dark:bg-green-900/30 hover:bg-green-100 dark:hover:bg-green-900/50 transition-colors"},[P[2]||(P[2]=r("span",{class:"text-green-700 dark:text-green-400 flex items-center"},[r("span",{class:"i-heroicons-trophy mr-2"}),Y(" Achievement Bonuses ")],-1)),r("div",Kb,[r("span",Yb,v(M.value),1),r("span",{class:ee([{"i-heroicons-chevron-down":!i.value,"i-heroicons-chevron-up":i.value},"text-green-600 dark:text-green-400"])},null,2)])])]),i.value?(p(),g("div",Jb,[(p(!0),g($e,null,Te(C.value,(I,U)=>(p(),g("div",{key:U,class:"flex justify-between items-center py-2 px-3 rounded-lg bg-green-50/50 dark:bg-green-900/20"},[r("span",Zb,v(I.name),1),r("span",eh,v(I.formatted),1)]))),128))])):G("",!0)])):G("",!0)]),r("div",th,[P[3]||(P[3]=r("span",null,"Total Multiplier",-1)),r("span",rh,v(S.value),1)]),r("div",{class:"mt-4 flex justify-end px-5 pb-5"},[r("button",{onClick:u,class:"py-2 px-4 bg-amber-600 hover:bg-amber-700 dark:bg-amber-700 dark:hover:bg-amber-800 rounded-lg text-white text-sm font-medium transition-colors"}," Close ")])])],32)):G("",!0)}}),sh=We(oh,[["__scopeId","data-v-4b75b4e1"]]),nh={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden border border-amber-200 dark:border-amber-700 transition-all duration-200"},ah={class:"flex flex-col h-full"},lh={class:"bg-gradient-to-r from-amber-600 to-amber-500 dark:from-amber-700 dark:to-amber-600 py-1.5 px-2.5 flex items-center justify-between text-white"},ih={class:"flex items-center"},uh={class:"font-bold text-xs md:text-sm"},ch={class:"text-xs font-medium bg-amber-700/30 dark:bg-amber-800/40 px-1.5 py-0.5 rounded"},dh={class:"px-2.5 pt-2 pb-1 text-amber-900 dark:text-amber-100 flex-grow text-xs"},mh={class:"mb-1.5"},ph={class:"grid grid-cols-2 gap-x-2 gap-y-0.5 mb-1.5"},fh={class:"text-right text-amber-700 dark:text-amber-400"},gh={class:"text-right text-amber-600 dark:text-amber-500"},vh={key:1},bh={class:"text-right text-amber-700 dark:text-amber-400"},hh={class:"text-right text-amber-700 dark:text-amber-400"},xh={class:"text-right text-amber-700 dark:text-amber-400"},yh={key:0,class:"border-t border-amber-100 dark:border-amber-800 pt-1.5 mb-1.5"},kh={class:"flex justify-between items-center mb-1"},_h={class:"text-xs bg-amber-100 dark:bg-amber-900 text-amber-800 dark:text-amber-200 px-1.5 py-0.5 rounded-full"},wh={class:"h-1.5 bg-amber-100 dark:bg-amber-900/50 rounded-full overflow-hidden"},$h={class:"flex justify-between mt-0.5 text-2xs text-amber-700 dark:text-amber-400"},Ch={key:1,class:"flex justify-between items-center mb-1.5 border-t border-amber-100 dark:border-amber-800 pt-1.5"},Sh={key:2,class:"flex flex-col mb-1.5 border-t border-amber-100 dark:border-amber-800 pt-1.5"},Ah={class:"flex justify-between items-center"},Eh={class:"font-medium text-amber-800 dark:text-amber-300 flex items-center group relative"},Mh={key:0,class:"ml-1 w-2 h-2 bg-green-500 animate-pulse rounded-full"},Ph={class:"absolute bottom-full left-0 mb-1 hidden group-hover:block z-10 w-60 p-2 bg-white dark:bg-gray-800 rounded shadow-lg border border-amber-200 dark:border-amber-700 text-xs text-amber-800 dark:text-amber-200"},Th={key:0,class:"font-medium text-green-600 dark:text-green-400 mt-1 block"},Lh={key:0,class:"text-2xs text-amber-600 dark:text-amber-400 mt-1 text-right"},Ih={class:"px-2.5 py-2 mt-auto border-t border-amber-100 dark:border-amber-800"},Fh={key:0,class:"text-xs text-red-600 dark:text-red-400 mb-1 flex items-center"},Uh=Ie({__name:"GeneratorItem",props:{generator:{}},emits:["upgrade"],setup(e,{emit:t}){const o=e,n=st(),a=Ve();Vt();const l=Yt(),i=bt(),{hasAvailableUpgrades:u}=Zc(),c=B(!1),{getTotalMultiplier:d,getFormattedTotalMultiplier:m,getEnhancedMultiplierBreakdown:b}=as(),x=L(()=>n.getGeneratorCost(o.generator.id)),h=L(()=>ge(x.value,2)),C=L(()=>n.food.gte(x.value)),w=L(()=>ge(o.generator.count.add(o.generator.selfReplicated),0)),M=L(()=>ge(o.generator.manualPurchases,0)),S=L(()=>o.generator.count.sub(o.generator.manualPurchases)),_=L(()=>ge(S.value,0)),y=L(()=>ge(n.getBaseProduction(o.generator.id),1));L(()=>d(o.generator.id));const P=L(()=>m(o.generator.id)),I=L(()=>n.getActualProduction(o.generator.id)),U=L(()=>ge(I.value,1)),q=L(()=>o.generator.selfReplicated),k=L(()=>ge(q.value,0)),W=L(()=>{const me=`${o.generator.id}Reproduction`;return a.getUpgradeMultiplier(me).gt(0)}),le={worker:"autoWorker",nursery:"autoNursery",queenChamber:"autoQueenChamber",colony:"autoColony",megacolony:"autoMegacolony",hivemind:"autoHivemind",antopolis:"autoAntopolis"},X=L(()=>{const me=le[o.generator.id];return me?a.getUpgradeMultiplier(me).gt(0):!1}),j=L(()=>{const me=`autoUpgrade${o.generator.id.charAt(0).toUpperCase()+o.generator.id.slice(1)}`;return a.getUpgradeMultiplier(me).gt(0)}),T=L(()=>!o.generator.autoUpgradeEnabled||!j.value?!1:u(o.generator.id)),K=L(()=>n.autoUpgradeCounter),fe=L(()=>n.AUTO_UPGRADE_FREQUENCY),we=L(()=>Math.max(0,fe.value-K.value)),Se=()=>{n.toggleAutoPurchase(o.generator.id)},pe=()=>{n.toggleAutoUpgrade(o.generator.id)},ce=()=>{C.value&&!ke.value&&n.buyGenerator(o.generator.id)},ke=L(()=>{if(o.generator.id==="hivemind"){const me=n.getGenerator("megacolony");return!me||me.count.eq(0)}else if(o.generator.id==="antopolis"){const me=n.getGenerator("hivemind");return!me||me.count.eq(0)}return!1}),ue=L(()=>o.generator.id==="hivemind"?"Requires at least one Mega Colony":o.generator.id==="antopolis"?"Requires at least one Hive Mind":""),Z=L(()=>{switch(o.generator.tier){case 1:return"food";case 2:return"worker ants";case 3:return"nurseries";case 4:return"queen chambers";case 5:return"colonies";case 6:return"mega colonies";case 7:return"hive minds";default:return"resources"}}),de=L(()=>C.value&&!ke.value?"w-full py-1.5 px-2.5 rounded text-xs font-medium bg-amber-600 hover:bg-amber-700 dark:bg-amber-700 dark:hover:bg-amber-800 text-white":"w-full py-1.5 px-2.5 rounded text-xs font-medium bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed"),oe=L(()=>l.isFeatureUnlocked.upgrades),te=L(()=>{var me;return((me=i.generatorLevels[o.generator.id])==null?void 0:me.toNumber())||0}),ae=L(()=>i.formatProgressPercentage(o.generator.id)),F=L(()=>i.formatPoints(o.generator.id));B(!1);const E=()=>{N("upgrade",o.generator.id)},N=t;return(me,ie)=>(p(),g($e,null,[r("div",nh,[r("div",ah,[r("div",lh,[r("div",ih,[r("span",{class:ee([me.generator.icon,"text-lg mr-1.5 text-amber-200 dark:text-amber-100"])},null,2),r("h3",uh,v(me.generator.name),1)]),r("div",ch,v(w.value),1)]),r("div",dh,[r("p",mh,v(me.generator.description),1),r("div",ph,[ie[3]||(ie[3]=r("div",{class:"font-medium text-amber-700 dark:text-amber-400"},"Production:",-1)),r("div",fh,v(U.value)+" "+v(Z.value)+"/trip",1),ie[4]||(ie[4]=r("div",{class:"font-medium text-amber-600 dark:text-amber-500"},"Base  Multiplier:",-1)),r("div",gh,[Y(v(y.value)+"  ",1),P.value.length>0?(p(),g("span",{key:0,class:"cursor-pointer underline decoration-dotted",onClick:ie[0]||(ie[0]=O=>c.value=!0)},v(P.value),1)):(p(),g("span",vh,v(P.value),1))]),ie[5]||(ie[5]=r("div",{class:"font-medium text-amber-700 dark:text-amber-400"},"Bought:",-1)),r("div",bh,v(M.value),1),ie[6]||(ie[6]=r("div",{class:"font-medium text-amber-700 dark:text-amber-400"},"Generated:",-1)),r("div",hh,v(_.value),1),W.value?(p(),g($e,{key:0},[ie[2]||(ie[2]=r("div",{class:"font-medium text-amber-700 dark:text-amber-400"},"Self-Replicated:",-1)),r("div",xh,v(k.value),1)],64)):G("",!0)]),oe.value&&me.generator.count.gt(0)?(p(),g("div",yh,[r("div",kh,[ie[7]||(ie[7]=r("span",{class:"font-medium text-amber-800 dark:text-amber-300 flex items-center"},[r("span",{class:"i-heroicons-star text-amber-600 dark:text-amber-400 mr-1 text-xs"}),Y(" Specialization: ")],-1)),r("span",_h," Lvl "+v(te.value),1)]),r("div",wh,[r("div",{class:"h-full bg-amber-500 dark:bg-amber-600 transition-all duration-700 ease-out",style:je({width:`${ae.value}%`})},null,4)]),r("div",$h,[r("span",null,v(F.value)+" points",1),r("span",null,v(ae.value)+"%",1)]),r("button",{onClick:E,class:"mt-1 w-full text-xs bg-amber-600 dark:bg-amber-700 text-white px-2 py-1 rounded-md flex items-center justify-center hover:bg-amber-700 dark:hover:bg-amber-800 transition-colors"},ie[8]||(ie[8]=[r("span",{class:"i-heroicons-arrow-up-circle text-xs mr-1"},null,-1),Y(" Upgrade Specialization ")]))])):G("",!0),X.value?(p(),g("div",Ch,[ie[9]||(ie[9]=r("span",{class:"font-medium text-amber-800 dark:text-amber-300"},"Auto-purchase:",-1)),r("button",{onClick:Se,class:ee(["w-8 h-4 rounded-full relative cursor-pointer transition-colors duration-200 ease-in-out",me.generator.autoPurchaseEnabled?"bg-green-500 dark:bg-green-600":"bg-gray-300 dark:bg-gray-600"])},[r("span",{class:ee(["absolute top-0.5 left-0.5 w-3 h-3 bg-white dark:bg-gray-200 rounded-full shadow transform transition-transform duration-200 ease-in-out",me.generator.autoPurchaseEnabled?"translate-x-4":"translate-x-0"])},null,2)],2)])):G("",!0),oe.value&&me.generator.count.gt(0)&&j.value?(p(),g("div",Sh,[r("div",Ah,[r("span",Eh,[ie[10]||(ie[10]=Y(" Auto-upgrade: ")),T.value?(p(),g("span",Mh)):G("",!0),r("div",Ph,[Y(" Automatically purchases "+v(me.generator.name)+" specialization upgrades based on available points, starting with the cheapest options. ",1),T.value?(p(),g("span",Th," Currently active - upgrades available! ")):G("",!0)])]),r("button",{onClick:pe,class:ee(["w-8 h-4 rounded-full relative cursor-pointer transition-colors duration-200 ease-in-out",[me.generator.autoUpgradeEnabled?T.value?"bg-green-500 dark:bg-green-600":"bg-purple-500 dark:bg-purple-600":"bg-gray-300 dark:bg-gray-600"]])},[r("span",{class:ee(["absolute top-0.5 left-0.5 w-3 h-3 bg-white dark:bg-gray-200 rounded-full shadow transform transition-transform duration-200 ease-in-out",me.generator.autoUpgradeEnabled?"translate-x-4":"translate-x-0"])},null,2)],2)]),me.generator.autoUpgradeEnabled?(p(),g("div",Lh," Next check: "+v(we.value)+" / "+v(fe.value)+" ticks ",1)):G("",!0)])):G("",!0)]),r("div",Ih,[ke.value?(p(),g("div",Fh,[ie[11]||(ie[11]=r("span",{class:"i-heroicons-exclamation-triangle text-xs mr-1"},null,-1)),Y(" "+v(ue.value),1)])):G("",!0),Ee(Eo,{onAction:ce,disabled:!C.value||ke.value,class:ee(de.value),"initial-delay":400,"repeat-interval":150,accelerate:!0,"min-interval":30},{default:it(()=>[ie[12]||(ie[12]=r("span",{class:"i-heroicons-shopping-cart text-xs mr-1"},null,-1)),Y(" Buy for "+v(h.value)+" food ",1)]),_:1},8,["disabled","class"])])])]),Ee(sh,{show:c.value,"generator-id":me.generator.id,"generator-name":me.generator.name,onClose:ie[1]||(ie[1]=O=>c.value=!1)},null,8,["show","generator-id","generator-name"])],64))}}),Rh={class:"text-base font-bold mb-2 flex items-center justify-between"},Dh={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3"},qh=Ie({__name:"AntHierarchySection",props:{className:{}},emits:["upgrade","showInfo"],setup(e,{emit:t}){const o=t,n=st(),a=Yt(),l=L(()=>n.unlockedGenerators),i=L(()=>n.nextUnlockableGenerator),u=m=>{o("upgrade",m)},c=L(()=>a.isFeatureUnlocked.upgrades),d=()=>{o("showInfo")};return(m,b)=>{const x=Uh,h=Bb;return p(),g("section",{id:"generator-section",class:ee(["bg-gradient-to-br from-amber-100 to-amber-50 rounded-xl p-3 shadow-md dark:from-amber-900/30 dark:to-amber-800/30 dark:text-amber-50",m.className])},[r("h2",Rh,[b[1]||(b[1]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-cog-6-tooth text-amber-700 mr-2"}),Y(" Ant Hierarchy ")],-1)),f(c)?(p(),g("button",{key:0,onClick:d,class:"w-5 h-5 rounded-full bg-amber-200 hover:bg-amber-300 dark:bg-amber-800 dark:hover:bg-amber-700 flex items-center justify-center text-amber-700 dark:text-amber-300 transition-colors"},b[0]||(b[0]=[r("span",{class:"i-heroicons-question-mark-circle text-base"},null,-1)]))):G("",!0)]),r("div",Dh,[(p(!0),g($e,null,Te(f(l),C=>(p(),Ge(x,{key:C.id,generator:C,onUpgrade:u},null,8,["generator"]))),128)),f(i)?(p(),Ge(h,{key:0,generator:f(i)},null,8,["generator"])):G("",!0)])],2)}}}),Nh={class:"space-y-4"},Oh={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Bh="https://discord.gg/kNXpD53Q4F",Qh="https://discord.gg/cHyAFTx9kj",jh="https://buymeacoffee.com/idleantfarm",Hh=Ie({__name:"IndexPage",setup(e){Jt(),st(),Ve();const t=Yt();bt();const{isFeatureUnlocked:o}=t,{shouldAnimateFeature:n}=rd(),a=B(!1),l=B(!1),i=B(!1),u=B(null),c=B(!1),d=h=>{u.value=h,c.value=!0},m=()=>{c.value=!1},b=B(!1),x=()=>{b.value=!b.value};return He(()=>{n("colonyStatus")&&(a.value=!0,setTimeout(()=>{a.value=!1},1500)),n("upgrades")&&(l.value=!0,setTimeout(()=>{l.value=!1},1500)),n("upgrades")&&(i.value=!0,setTimeout(()=>{i.value=!1},1500))}),De(()=>o.colonyStatus,(h,C)=>{h&&!C&&(a.value=!0,setTimeout(()=>{a.value=!1},1500))}),De(()=>o.upgrades,(h,C)=>{h&&!C&&(l.value=!0,i.value=!0,setTimeout(()=>{l.value=!1,i.value=!1},1500))}),(h,C)=>(p(),g("div",Nh,[r("div",Oh,[f(o).colonyStatus?(p(),Ge(Qv,{key:0,class:ee(["md:col-span-2",{"feature-unlock-pulse":a.value}]),"github-issues-url":Bh,"discord-url":Qh,"buy-me-coffee-url":jh},null,8,["class"])):G("",!0),f(o).evolution?(p(),Ge(_b,{key:1,class:ee({"feature-unlock-pulse":l.value})},Q0({_:2},[f(o).showMetamorphosisExplanation?{name:"explanation",fn:it(()=>[C[0]||(C[0]=r("div",{class:"p-3 bg-blue-100 dark:bg-blue-900 rounded-md mb-3 text-sm"},[r("p",{class:"font-medium"},"What is Metamorphosis?"),r("p",{class:"mt-1"},"Metamorphosis allows you to evolve your colony and gain powerful bonuses. Purchase ants and other generators to increase your Evolution Points (EP).")],-1))]),key:"0"}:void 0]),1032,["class"])):G("",!0)]),Ee(qh,{onUpgrade:d,onShowInfo:x}),Ee(Og,{show:b.value,onClose:x},null,8,["show"]),Ee(Ev,{show:c.value,"selected-generator":u.value,"generator-info":f(Rg),onClose:m},null,8,["show","selected-generator","generator-info"]),Ee(ao,{threshold:400})]))}});function Gh(){const e=B(null),t=B(!1),o=B(!1),n=B(!0),a=()=>{(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0||document.referrer.includes("android-app://"))&&(o.value=!0)},l=()=>{const d=navigator.userAgent.toLowerCase(),m=d.indexOf("chrome")>-1&&d.indexOf("edg")===-1,b=d.indexOf("edg")>-1,x=d.indexOf("safari")>-1&&d.indexOf("chrome")===-1,h=d.indexOf("firefox")>-1,C=d.indexOf("arc")>-1,w=d.indexOf("macintosh")>-1;(o.value||C||x&&w||!m&&!b&&!x&&!h)&&(n.value=!1)},i=d=>{d.preventDefault(),e.value=d,t.value=!0},u=()=>{o.value=!0,t.value=!1,e.value=null,console.log("PWA was installed")},c=async()=>{if(!e.value){n.value&&alert('To install this app: tap the share/menu button in your browser and select "Add to Home Screen" or "Install"');return}e.value.prompt(),(await e.value.userChoice).outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),e.value=null,t.value=!1};return He(()=>{a(),l(),window.addEventListener("beforeinstallprompt",i),window.addEventListener("appinstalled",u)}),er(()=>{window.removeEventListener("beforeinstallprompt",i),window.removeEventListener("appinstalled",u)}),{isInstallable:t,isInstalled:o,browserSupportsInstall:n,promptInstall:c}}const Vh="0.13.1";function od(){return{version:Vh}}function sd(e){let t=e;return t=t.replace(/```([^`]+)```/g,(o,n)=>`<pre class="bg-amber-100 dark:bg-amber-950/40 p-4 rounded-lg overflow-x-auto my-3"><code>${n.trim()}</code></pre>`),t=t.replace(/`([^`]+)`/g,(o,n)=>`<code class="bg-amber-100 dark:bg-amber-950/40 px-1 py-0.5 rounded font-mono text-sm">${n}</code>`),t=t.replace(/^## (.+)$/gm,(o,n)=>`<h2 class="text-xl font-bold mt-6 mb-3 text-amber-800 dark:text-amber-300">${n}</h2>`),t=t.replace(/^### (.+)$/gm,(o,n)=>`<h3 class="text-lg font-bold mt-4 mb-2 text-amber-700 dark:text-amber-400">${n}</h3>`),t=t.replace(/\*\*([^*]+)\*\*/g,(o,n)=>`<strong class="font-bold">${n}</strong>`),t=t.replace(/\*([^*]+)\*/g,(o,n)=>`<em class="italic">${n}</em>`),t=t.replace(/\[([^\]]+)\]\(([^)]+)\)/g,(o,n,a)=>`<a href="${a}" class="text-amber-600 dark:text-amber-400 hover:underline" target="_blank" rel="noopener noreferrer">${n}</a>`),t=t.replace(/^\s*-\s+(.+)$/gm,(o,n)=>`<li class="mb-1">${n}</li>`),t=t.replace(/<li class="mb-1">(.+)<\/li>\n<li class="mb-1">/g,`<li class="mb-1">$1</li>
<li class="mb-1">`),t=t.replace(/(<li class="mb-1">.+<\/li>\n)+/g,o=>`<ul class="list-disc pl-6 my-3">${o}</ul>`),t=t.replace(/^([^<\n].+)$/gm,(o,n)=>`<p class="my-2">${n}</p>`),t=t.replace(/## \[(.+)\] - (.+)/g,(o,n,a)=>`<h2 class="text-xl font-bold mt-6 mb-3 text-amber-800 dark:text-amber-300">
      <span class="inline-block bg-amber-200 dark:bg-amber-800/80 text-amber-800 dark:text-amber-200 px-2 py-1 rounded mr-2">${n}</span>
      <span class="text-amber-600 dark:text-amber-400 text-base">${a}</span>
    </h2>`),t}const qi="idle-ant-farm-last-version",Ni="idle-ant-farm-announcements-enabled",Ro=(e,t)=>{const o=e.split(".").map(Number),n=t.split(".").map(Number);for(let a=0;a<Math.max(o.length,n.length);a++){const l=a<o.length?o[a]:0,i=a<n.length?n[a]:0;if(l>i)return 1;if(l<i)return-1}return 0};function nd(){const{version:e}=od(),t=B(!1),o=B(!0),n=B({versionRange:"",date:"",content:""}),a=B(!0),l=()=>localStorage.getItem(qi)||"0.0.0",i=()=>{localStorage.setItem(qi,e)},u=()=>{const w=localStorage.getItem(Ni);w!==null&&(o.value=w==="true")},c=()=>{o.value=!o.value,localStorage.setItem(Ni,o.value.toString())},d=L(()=>{const w=l();return Ro(e,w)>0}),m=(w,M)=>{const S=`## [${M}]`,_=w.indexOf(S);if(_===-1)return null;const y=w.substring(_).match(/## \[[^\]]+\] - ([^\n]+)/);if(!y)return null;const P=y[1],I=w.indexOf(`

`,_)+2,U=w.indexOf("## [",I),q=U!==-1?U:w.length,k=w.substring(I,q).trim();return{version:M,date:P,content:k}},b=w=>{const M=[],S=/## \[([^\]]+)\] - ([^\n]+)/g;let _;for(;(_=S.exec(w))!==null;){const y=_[1];_[2];const P=m(w,y);P&&M.push(P)}return M.sort((y,P)=>Ro(P.version,y.version)),M},x=(w,M,S)=>{const _=b(w);if(_.length===0)return null;const y=_.filter(U=>Ro(U.version,M)>0&&Ro(U.version,S)<=0);if(y.length===0)return null;y.sort((U,q)=>Ro(q.version,U.version));let P="";return y.forEach(U=>{P+=`<h2 class="text-xl font-bold mt-6 mb-3 text-amber-800 dark:text-amber-300">
        <span class="inline-block bg-amber-200 dark:bg-amber-800/80 text-amber-800 dark:text-amber-200 px-2 py-1 rounded mr-2">v${U.version}</span>
        <span class="text-amber-600 dark:text-amber-400 text-base">${U.date}</span>
      </h2>
${sd(U.content)}

`}),{versionRange:y.length===1?y[0].version:`${y[y.length-1].version} to ${y[0].version}`,date:y[0].date,content:P}},h=async()=>{try{a.value=!0;const M=await(await fetch("/CHANGELOG.md")).text(),S=l(),_=x(M,S,e);_&&(n.value=_,d.value&&o.value&&(t.value=!0))}catch(w){console.error("Failed to load changelog:",w)}finally{a.value=!1}},C=()=>{t.value=!1,i()};return u(),He(()=>{h()}),{showAnnouncement:t,updateDetails:n,isLoading:a,hasVersionUpdate:d,closeAnnouncement:C,announcementsEnabled:o,toggleAnnouncementsEnabled:c}}const Wh=ft("darkMode",()=>{const e=B(!1);function t(){const l=localStorage.getItem("darkMode");l==="true"?e.value=!0:l==="false"?e.value=!1:e.value=window.matchMedia("(prefers-color-scheme: dark)").matches,a(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",i=>{localStorage.getItem("darkMode")===null&&n(i.matches)})}function o(){e.value=!e.value,a()}function n(l){e.value=l,a()}function a(){e.value?(document.documentElement.classList.add("dark"),localStorage.setItem("darkMode","true")):(document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode","false"))}return{isDarkMode:e,initialize:t,toggleDarkMode:o,setDarkMode:n}});function pn(){const e=Wh();return He(()=>{e.initialize()}),{isDarkMode:e.isDarkMode,toggleDarkMode:e.toggleDarkMode,setDarkMode:e.setDarkMode}}const zh={class:"flex items-center justify-between"},Xh={class:"relative inline-flex items-center cursor-pointer"},Kh=Ie({__name:"DarkModeToggle",setup(e){const{isDarkMode:t,toggleDarkMode:o}=pn();return(n,a)=>(p(),g("div",zh,[a[3]||(a[3]=r("div",null,[r("div",{class:"text-sm font-medium"},"Dark Mode"),r("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Toggle between light and dark theme")],-1)),r("label",Xh,[tt(r("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>ze(t)?t.value=l:null),type:"checkbox",class:"sr-only peer",onChange:a[1]||(a[1]=(...l)=>f(o)&&f(o)(...l))},null,544),[[Mt,f(t)]]),a[2]||(a[2]=r("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])]))}}),Yh="0.13.1",Jh={class:"space-y-4 dark:bg-gray-900 dark:text-gray-100"},Zh={key:0,class:"bg-gradient-to-br from-green-100 to-green-50 dark:from-green-900 dark:to-green-800 rounded-xl p-3 shadow-md"},ex={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-green-200 dark:border-green-700"},tx={class:"text-xs text-green-800 dark:text-green-200"},rx={class:"text-xs font-medium mt-1"},ox={class:"mt-2 flex justify-end"},sx={key:1,class:"bg-gradient-to-br from-blue-100 to-blue-50 dark:from-blue-900 dark:to-blue-800 rounded-xl p-3 shadow-md"},nx={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-blue-200 dark:border-blue-700"},ax={key:1,class:"text-sm text-blue-800 dark:text-blue-200"},lx={class:"bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-800 dark:to-gray-700 rounded-xl p-3 shadow-md"},ix={class:"space-y-2"},ux={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},cx={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},dx={class:"flex items-center justify-between"},mx={class:"relative inline-flex items-center cursor-pointer"},px={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},fx={class:"flex items-center justify-between"},gx={class:"relative inline-flex items-center cursor-pointer"},vx={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},bx={class:"flex items-center justify-between"},hx={class:"relative inline-flex items-center cursor-pointer"},xx={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},yx={class:"flex items-center justify-between"},kx={class:"relative inline-flex items-center cursor-pointer"},_x={key:2,class:"bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-800 dark:to-gray-700 rounded-xl p-3 shadow-md"},wx={class:"space-y-2"},$x={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},Cx={class:"flex items-center justify-between"},Sx={class:"relative inline-flex items-center cursor-pointer"},Ax={class:"bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-800 dark:to-gray-700 rounded-xl p-3 shadow-md"},Ex={class:"space-y-2"},Mx={key:0,class:"bg-green-100 dark:bg-green-900 p-2 rounded-lg border border-green-200 dark:border-green-700"},Px={class:"text-xs text-green-800 dark:text-green-200 flex items-center"},Tx={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},Lx={class:"mb-2"},Ix={key:0,class:"mt-1"},Fx={key:0,class:"text-xs text-green-600 dark:text-green-400 mt-0.5"},Ux={class:"grid grid-cols-2 gap-2 mb-2"},Rx={class:"bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md p-1.5 mb-1 h-16 flex flex-col justify-center"},Dx={key:0,class:"text-xs text-red-600 dark:text-red-400 mt-0.5"},qx={key:1,class:"text-xs text-green-600 dark:text-green-400 mt-0.5"},Nx={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},Ox={key:1,class:"space-y-1"},Bx={class:"grid grid-cols-2 gap-2"},Qx={class:"bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-800 dark:to-gray-700 rounded-xl p-3 shadow-md"},jx={class:"grid grid-cols-2 gap-2"},Hx={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},Gx={class:"text-sm font-medium"},Vx={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},Wx={class:"text-sm font-medium"},zx=Ie({__name:"SettingsPage",setup(e){const t=ur(),o=Jt(),n=Ve(),a=Xt(),{announcementsEnabled:l,toggleAnnouncementsEnabled:i}=nd(),{isInstallable:u,promptInstall:c,browserSupportsInstall:d}=Gh();B(1);const m=B(""),b=B(""),x=B(""),h=B(!1),C=B(!1),w=B(null),M=B(!1),S=B(!1),_=B(!1),y=B(null);De(()=>t.isCalculatingOfflineProgress,j=>{!j&&t.offlineProgressTotalTicks>0&&(y.value={elapsedTime:t.offlineProgressElapsedTime,ticks:t.offlineProgressTotalTicks})});const P=()=>{const j=t.exportSave();j&&(m.value=j,C.value=!0,setTimeout(()=>{C.value=!1},3e3))},I=async()=>{if(x.value="",!b.value){x.value="Please enter a save string";return}try{await t.importSave(b.value)?(h.value=!0,b.value="",setTimeout(()=>{h.value=!1},3e3)):x.value="Invalid save data"}catch(j){x.value="Error importing save",console.error(j)}},U=async j=>{x.value="";const T=j.target;if(!T.files||T.files.length===0){x.value="No file selected";return}const K=T.files[0];try{await t.importSaveFromFile(K)?(h.value=!0,setTimeout(()=>{h.value=!1},3e3)):x.value="Invalid save data in file"}catch(fe){x.value="Error importing save from file",console.error(fe)}w.value&&(w.value.value="")},q=()=>{t.exportSaveToFile()},k=()=>{t.saveGame()&&(M.value=!0,setTimeout(()=>{M.value=!1},3e3))},W=async()=>{await t.loadGame()&&(S.value=!0,setTimeout(()=>{S.value=!1},3e3))},le=()=>{_.value?t.resetGame():(_.value=!0,setTimeout(()=>{_.value=!1},5e3))},X=j=>{if(j<60)return`${Math.floor(j)} seconds`;if(j<3600){const T=Math.floor(j/60);return`${T} minute${T!==1?"s":""}`}else{const T=Math.floor(j/3600),K=Math.floor(j%3600/60);return`${T} hour${T!==1?"s":""} ${K>0?`and ${K} minute${K!==1?"s":""}`:""}`}};return He(()=>{}),B(0),(j,T)=>{const K=ao;return p(),g($e,null,[r("div",Jh,[y.value?(p(),g("section",Zh,[T[20]||(T[20]=r("h2",{class:"text-base font-bold mb-2 flex items-center text-green-800 dark:text-green-200"},[r("span",{class:"i-heroicons-clock text-green-700 dark:text-green-300 mr-2"}),Y(" Offline Progress Applied ")],-1)),r("div",ex,[r("p",tx," While you were away for "+v(X(y.value.elapsedTime))+", your colony continued to work! ",1),r("p",rx,[T[19]||(T[19]=r("span",{class:"i-heroicons-check-circle text-green-600 dark:text-green-400 mr-1"},null,-1)),Y(" "+v(y.value.ticks)+" game cycles completed ",1)])]),r("div",ox,[r("button",{onClick:T[0]||(T[0]=fe=>y.value=null),class:"text-xs text-green-800 dark:text-green-200 bg-green-200 dark:bg-green-700 hover:bg-green-300 dark:hover:bg-green-600 px-2 py-1 rounded-md"}," Dismiss ")])])):G("",!0),f(u)||f(d)?(p(),g("section",sx,[T[26]||(T[26]=r("h2",{class:"text-base font-bold mb-2 flex items-center text-blue-800 dark:text-blue-200"},[r("span",{class:"i-heroicons-device-phone-mobile text-blue-700 dark:text-blue-300 mr-2"}),Y(" Install Colony App ")],-1)),r("div",nx,[T[25]||(T[25]=r("p",{class:"text-sm text-blue-800 dark:text-blue-200 mb-2"}," Install Idle Ant Farm as an app on your device for the best experience! ",-1)),f(u)?(p(),g("button",{key:0,onClick:T[1]||(T[1]=(...fe)=>f(c)&&f(c)(...fe)),class:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium flex items-center justify-center"},T[21]||(T[21]=[r("span",{class:"i-heroicons-arrow-down-tray text-base mr-2"},null,-1),Y(" Install App ")]))):f(d)?(p(),g("div",ax,[T[23]||(T[23]=r("p",{class:"mb-2"},"To install this app on your device:",-1)),T[24]||(T[24]=r("ol",{class:"list-decimal pl-5 space-y-1"},[r("li",null,"Tap the share/menu button in your browser"),r("li",null,'Select "Add to Home Screen" or "Install"')],-1)),r("button",{onClick:T[2]||(T[2]=(...fe)=>f(c)&&f(c)(...fe)),class:"mt-2 w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium flex items-center justify-center"},T[22]||(T[22]=[r("span",{class:"i-heroicons-information-circle text-base mr-2"},null,-1),Y(" Show Installation Help ")]))])):G("",!0)])])):G("",!0),r("section",lx,[T[35]||(T[35]=r("h2",{class:"text-base font-bold mb-2 flex items-center"},[r("span",{class:"i-heroicons-cog-6-tooth text-gray-700 dark:text-gray-300 mr-2"}),Y(" Colony Settings ")],-1)),r("div",ix,[r("div",ux,[Ee(Kh)]),r("div",cx,[r("div",dx,[T[28]||(T[28]=r("div",null,[r("div",{class:"text-sm font-medium"},"Achievement Notifications"),r("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Show popup notifications when achievements are unlocked")],-1)),r("label",mx,[tt(r("input",{type:"checkbox","onUpdate:modelValue":T[3]||(T[3]=fe=>f(a).notificationsEnabled=fe),class:"sr-only peer"},null,512),[[Mt,f(a).notificationsEnabled]]),T[27]||(T[27]=r("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])]),r("div",px,[r("div",fx,[T[30]||(T[30]=r("div",null,[r("div",{class:"text-sm font-medium"},"Update Announcements"),r("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Show popup with details when the game is updated ")],-1)),r("label",gx,[tt(r("input",{type:"checkbox","onUpdate:modelValue":T[4]||(T[4]=fe=>ze(l)?l.value=fe:null),onChange:T[5]||(T[5]=(...fe)=>f(i)&&f(i)(...fe)),class:"sr-only peer"},null,544),[[Mt,f(l)]]),T[29]||(T[29]=r("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])]),r("div",vx,[r("div",bx,[T[32]||(T[32]=r("div",null,[r("div",{class:"text-sm font-medium"},"Pheromone Trail Preservation"),r("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Automatically save your colony progress every minute ")],-1)),r("label",hx,[tt(r("input",{type:"checkbox","onUpdate:modelValue":T[6]||(T[6]=fe=>f(t).autoSaveEnabled=fe),class:"sr-only peer"},null,512),[[Mt,f(t).autoSaveEnabled]]),T[31]||(T[31]=r("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])]),r("div",xx,[r("div",yx,[T[34]||(T[34]=r("div",null,[r("div",{class:"text-sm font-medium"},"Hibernation Progress"),r("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Calculate colony progress while you're away")],-1)),r("label",kx,[tt(r("input",{type:"checkbox","onUpdate:modelValue":T[7]||(T[7]=fe=>f(t).offlineProgressEnabled=fe),class:"sr-only peer"},null,512),[[Mt,f(t).offlineProgressEnabled]]),T[33]||(T[33]=r("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])])])]),f(n).hasEvolved?(p(),g("section",_x,[T[38]||(T[38]=r("h2",{class:"text-base font-bold mb-2 flex items-center"},[r("span",{class:"i-heroicons-arrow-path text-gray-700 dark:text-gray-300 mr-2"}),Y(" Evolution Settings ")],-1)),r("div",wx,[r("div",$x,[r("div",Cx,[T[37]||(T[37]=r("div",null,[r("div",{class:"text-sm font-medium"},"Auto-Enable Auto Purchases After Evolution"),r("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Automatically enable all auto-purchases after evolving")],-1)),r("label",Sx,[tt(r("input",{type:"checkbox","onUpdate:modelValue":T[8]||(T[8]=fe=>f(t).autoEnableGeneratorsAfterPrestige=fe),class:"sr-only peer"},null,512),[[Mt,f(t).autoEnableGeneratorsAfterPrestige]]),T[36]||(T[36]=r("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])])])])):G("",!0),r("section",Ax,[T[56]||(T[56]=r("h2",{class:"text-base font-bold mb-2 flex items-center"},[r("span",{class:"i-heroicons-document-text text-gray-700 dark:text-gray-300 mr-2"}),Y(" Colony Memory Management ")],-1)),r("div",Ex,[r("div",{class:"grid grid-cols-2 gap-2"},[r("button",{onClick:k,class:"py-1.5 px-3 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},T[39]||(T[39]=[r("span",{class:"i-heroicons-document-arrow-down text-base mr-1"},null,-1),Y(" Save Colony ")])),r("button",{onClick:W,class:"py-1.5 px-3 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},T[40]||(T[40]=[r("span",{class:"i-heroicons-document-arrow-up text-base mr-1"},null,-1),Y(" Load Colony ")]))]),M.value||S.value?(p(),g("div",Mx,[r("p",Px,[T[41]||(T[41]=r("span",{class:"i-heroicons-check-circle text-green-600 dark:text-green-400 mr-1"},null,-1)),r("span",null,v(M.value?"Colony saved successfully!":"Colony loaded successfully!"),1)])])):G("",!0),r("div",Tx,[T[51]||(T[51]=r("div",{class:"text-sm font-medium mb-1"},"Export/Import Colony Data",-1)),r("div",Lx,[r("div",{class:"grid grid-cols-2 gap-2"},[r("button",{onClick:P,class:"py-1.5 px-3 bg-gray-600 hover:bg-gray-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},T[42]||(T[42]=[r("span",{class:"i-heroicons-arrow-down-tray text-base mr-1"},null,-1),Y(" Export as Code ")])),r("button",{onClick:q,class:"py-1.5 px-3 bg-gray-600 hover:bg-gray-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},T[43]||(T[43]=[r("span",{class:"i-heroicons-document-arrow-down text-base mr-1"},null,-1),Y(" Export as File ")]))]),m.value?(p(),g("div",Ix,[T[44]||(T[44]=r("div",{class:"text-xs text-gray-600 dark:text-gray-400 mb-0.5"},"Copy this code to save your colony data: ",-1)),tt(r("textarea",{readonly:"",class:"w-full p-1.5 text-xs bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md h-16 font-mono dark:text-gray-200","onUpdate:modelValue":T[9]||(T[9]=fe=>m.value=fe)},null,512),[[oo,m.value]]),C.value?(p(),g("div",Fx," Colony data exported successfully! ")):G("",!0)])):G("",!0)]),r("div",null,[T[50]||(T[50]=r("div",{class:"text-xs text-gray-600 dark:text-gray-400 mb-0.5"},"Import your colony data:",-1)),r("div",Ux,[r("div",null,[T[46]||(T[46]=r("div",{class:"text-xs text-gray-600 dark:text-gray-400 mb-0.5"},"Paste code:",-1)),tt(r("textarea",{class:"w-full p-1.5 text-xs bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md h-16 font-mono mb-1 dark:text-gray-200","onUpdate:modelValue":T[10]||(T[10]=fe=>b.value=fe),placeholder:"Paste your colony data here..."},null,512),[[oo,b.value]]),r("button",{onClick:I,class:"w-full py-1.5 px-3 bg-gray-600 hover:bg-gray-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},T[45]||(T[45]=[r("span",{class:"i-heroicons-arrow-up-tray text-base mr-1"},null,-1),Y(" Import from Code ")]))]),r("div",null,[T[49]||(T[49]=r("div",{class:"text-xs text-gray-600 dark:text-gray-400 mb-0.5"},"Select file:",-1)),r("div",Rx,[r("input",{type:"file",ref_key:"fileInputRef",ref:w,accept:".txt",class:"text-xs w-full dark:text-gray-200 hidden",onChange:U,id:"file-import-input"},null,544),T[47]||(T[47]=r("label",{for:"file-import-input",class:"cursor-pointer bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md py-1.5 px-3 text-xs font-medium text-center flex items-center justify-center"},[r("span",{class:"i-heroicons-document-plus text-base mr-1"}),Y(" Choose Save File ")],-1))]),r("button",{onClick:T[11]||(T[11]=()=>{var fe;return(fe=w.value)==null?void 0:fe.click()}),class:"w-full py-1.5 px-3 bg-gray-600 hover:bg-gray-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},T[48]||(T[48]=[r("span",{class:"i-heroicons-folder-open text-base mr-1"},null,-1),Y(" Import from File ")]))])]),x.value?(p(),g("div",Dx,v(x.value),1)):G("",!0),h.value?(p(),g("div",qx," Colony data imported successfully! ")):G("",!0)])]),r("div",Nx,[T[54]||(T[54]=r("div",{class:"text-sm font-medium mb-1"},"Reset Colony",-1)),T[55]||(T[55]=r("p",{class:"text-xs text-gray-600 dark:text-gray-400 mb-2"}," This will completely reset your colony progress. This action cannot be undone. ",-1)),_.value?(p(),g("div",Ox,[T[53]||(T[53]=r("p",{class:"text-xs text-red-600 dark:text-red-400 font-medium"},"Are you sure you want to reset your colony? ",-1)),r("div",Bx,[r("button",{onClick:T[13]||(T[13]=fe=>_.value=!1),class:"py-1.5 px-3 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md text-xs font-medium"}," Cancel "),r("button",{onClick:T[14]||(T[14]=fe=>le()),class:"py-1.5 px-3 bg-red-600 hover:bg-red-700 text-white rounded-md text-xs font-medium"}," Yes, Reset ")])])):(p(),g("button",{key:0,onClick:T[12]||(T[12]=fe=>_.value=!0),class:"w-full py-1.5 px-3 bg-red-600 hover:bg-red-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},T[52]||(T[52]=[r("span",{class:"i-heroicons-trash text-base mr-1"},null,-1),Y(" Reset Colony ")])))])])]),G("",!0),r("section",Qx,[T[66]||(T[66]=r("h2",{class:"text-base font-bold mb-2 flex items-center"},[r("span",{class:"i-heroicons-information-circle text-gray-700 dark:text-gray-300 mr-2"}),Y(" Game Information ")],-1)),r("div",jx,[r("div",Hx,[T[64]||(T[64]=r("div",{class:"text-xs text-gray-800 dark:text-gray-400"},"Game Version:",-1)),r("div",Gx,"v"+v(f(Yh)),1)]),r("div",Vx,[T[65]||(T[65]=r("div",{class:"text-xs text-gray-800 dark:text-gray-400"},"Total Ticks:",-1)),r("div",Wx,v(f(o).formattedTotalTicks),1)])])])]),Ee(K,{threshold:400})],64)}}}),Xx=Ie({__name:"AboutEvolutionDialog",props:{show:{type:Boolean}},emits:["close"],setup(e,{emit:t}){const o=e,n=t,{handleClose:a,preventBackgroundTouchMove:l}=br(),i=()=>{a(()=>n("close"),0)},u=c=>{c.key==="Escape"&&o.show&&i()};return He(()=>{window.addEventListener("keydown",u)}),Zt(()=>{window.removeEventListener("keydown",u)}),(c,d)=>c.show?(p(),g("div",{key:0,class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm modal-backdrop","data-modal-backdrop":"true",onClick:Ye(i,["self"]),onTouchmove:d[0]||(d[0]=Ye((...m)=>f(l)&&f(l)(...m),["self"]))},[r("div",{class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-2xl w-full p-5 mx-auto max-h-[80vh] overflow-y-auto border border-purple-200 dark:border-purple-700"},[r("div",{class:"flex justify-between items-center mb-3 pb-2 border-b border-purple-200 dark:border-purple-700"},[d[2]||(d[2]=r("h3",{class:"text-base font-bold flex items-center text-purple-800 dark:text-purple-300"},[r("span",{class:"i-heroicons-information-circle text-purple-600 dark:text-purple-400 mr-2"}),Y(" About Metamorphosis ")],-1)),r("button",{onClick:i,class:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700"},d[1]||(d[1]=[r("span",{class:"i-heroicons-x-mark text-lg"},null,-1)]))]),d[3]||(d[3]=ct('<div class="space-y-4 text-gray-700 dark:text-gray-300 text-sm"><p><strong>Metamorphosis</strong> is your colony&#39;s method of evolution, allowing you to transform your ants into more advanced forms and gain powerful permanent bonuses. </p><div class="bg-purple-50 dark:bg-purple-900/30 p-3 rounded-lg border border-purple-100 dark:border-purple-800"><h4 class="font-semibold text-purple-700 dark:text-purple-400 mb-2">Metamorphosis Process:</h4><ul class="list-disc pl-5 space-y-1"><li>Evolving resets most of your progress, including resources, structures, adaptations, and more.</li><li>You&#39;ll keep all EP (Evolution Points) and the bonuses they provide.</li><li>You&#39;ll gain EP based on your progress in the current evolution.</li><li>Each evolution unlocks new technologies, ant types, and game mechanics.</li></ul></div><div class="bg-green-50 dark:bg-green-900/30 p-3 rounded-lg border border-green-100 dark:border-green-800"><h4 class="font-semibold text-green-700 dark:text-green-400 mb-2">What You Keep:</h4><ul class="list-disc pl-5 space-y-1"><li>Evolution Points (EP) and all bonuses from them</li><li>Unlocked achievements</li><li>Pheromone Essence</li></ul></div><div class="bg-red-50 dark:bg-red-900/30 p-3 rounded-lg border border-red-100 dark:border-red-800"><h4 class="font-semibold text-red-700 dark:text-red-400 mb-2">What Resets:</h4><ul class="list-disc pl-5 space-y-1"><li>All resources (food, minerals, etc.)</li><li>Purchased structures and their levels</li><li>Adaptations and specialization levels</li><li>Colony level and title</li><li>Research and technology</li></ul></div><p> For the optimal evolution, focus on maximizing food production, colony level, and unlocking adaptations to earn more EP. Remember that early evolutions may feel slower, but each evolution makes subsequent ones faster and more rewarding. </p></div>',1))])],32)):G("",!0)}}),Kx={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full mx-auto border border-purple-200 dark:border-purple-700 overflow-hidden"},Yx={class:"p-4"},Jx={class:"text-center mb-5"},Zx={class:"text-xl font-bold text-purple-600 dark:text-purple-400 mb-1"},e1={class:"flex space-x-3"},t1=Ie({__name:"EvolutionConfirmationDialog",props:{show:{type:Boolean}},emits:["confirm","cancel"],setup(e,{emit:t}){const o=t,n=Ve();Vt();const a=L(()=>n.formatPotentialEPGain());return(l,i)=>l.show?(p(),g("div",{key:0,class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",onKeydown:i[2]||(i[2]=Ta(u=>o("cancel"),["esc"])),onClick:i[3]||(i[3]=Ye(u=>o("cancel"),["self"]))},[r("div",Kx,[i[7]||(i[7]=r("div",{class:"bg-purple-100 dark:bg-purple-900/30 p-4 border-b border-purple-200 dark:border-purple-700"},[r("h3",{class:"text-base font-bold flex items-center text-purple-800 dark:text-purple-300"},[r("span",{class:"i-heroicons-sparkles text-purple-600 dark:text-purple-400 mr-2"}),Y(" Confirm Metamorphosis ")])],-1)),r("div",Yx,[r("div",Jx,[r("div",Zx," +"+v(a.value)+" EP ",1),i[4]||(i[4]=r("p",{class:"text-sm text-gray-700 dark:text-gray-300"}," Your colony will evolve, resetting progress but keeping evolutionary adaptations. ",-1))]),i[6]||(i[6]=r("div",{class:"flex items-start mb-4 p-2 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-900/30 text-amber-800 dark:text-amber-300"},[r("span",{class:"i-heroicons-exclamation-triangle mr-2 text-amber-500 dark:text-amber-400 flex-shrink-0 mt-0.5"}),r("p",{class:"text-xs"}," This will reset your colony's food, ants, and progress. Your evolution points and upgrades will be preserved. ")],-1)),r("div",e1,[r("button",{onClick:i[0]||(i[0]=u=>o("cancel")),class:"flex-1 py-2 px-4 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 text-sm font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"}," Cancel "),r("button",{onClick:i[1]||(i[1]=u=>o("confirm")),class:"flex-1 py-2 px-4 bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-800 rounded-lg text-white text-sm font-medium transition-colors flex items-center justify-center"},i[5]||(i[5]=[r("span",{class:"i-heroicons-sparkles mr-1.5"},null,-1),Y(" Metamorphose ")]))])])])],32)):G("",!0)}}),r1=We(t1,[["__scopeId","data-v-4a717996"]]),o1={class:"flex justify-between items-start"},s1={key:0,class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5"},n1={class:"flex items-center justify-between mt-auto"},a1={class:"mr-1"},l1={class:"flex space-x-2"},Oi=Ie({__name:"EvolutionUpgradeItem",props:{upgrade:{},compact:{type:Boolean,default:!1}},setup(e){const t=e,o=Ve(),n=L(()=>t.upgrade.maxLevel?Math.min(100,t.upgrade.level.toNumber()*100/t.upgrade.maxLevel.toNumber()):100),a=L(()=>t.upgrade.maxLevel?t.upgrade.level.gte(t.upgrade.maxLevel):!1),l=L(()=>t.upgrade.isUnlocked()),i=L(()=>Ag(t.upgrade.id,o.evolutionUpgrades)),u=L(()=>o.evolutionPoints.gte(t.upgrade.cost)),c=L(()=>a.value||!l.value?!1:u.value),d=L(()=>t.upgrade.maxLevel?`Level ${ge(t.upgrade.level)}/${ge(t.upgrade.maxLevel)}`:`Level ${ge(t.upgrade.level)}`),m=()=>{c.value&&o.purchaseUpgrade(t.upgrade.id)},b=()=>{c.value&&!a.value&&o.purchaseMaxUpgrades(t.upgrade.id)},x=L(()=>ge(t.upgrade.cost)),h=L(()=>t.upgrade.formatEffect(t.upgrade.effect(t.upgrade.level))),C=L(()=>{const y="flex items-center justify-center font-medium rounded-md transition-colors",P=t.compact?"px-2 py-1 text-xs":"px-3 py-1.5 text-sm";return l.value?c.value?`${y} ${P} bg-purple-600 hover:bg-purple-700 text-white shadow-sm`:a.value?`${y} ${P} bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 cursor-default`:`${y} ${P} bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed`:`${y} ${P} bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed`}),w=L(()=>{const y="flex items-center justify-center font-medium rounded-md transition-colors",P=t.compact?"px-2 py-1 text-xs":"px-3 py-1.5 text-sm";return l.value?c.value?`${y} ${P} bg-blue-600 hover:bg-blue-700 text-white shadow-sm`:`${y} ${P} bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed`:`${y} ${P} bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed`}),M=L(()=>t.upgrade.maxLevel?!a.value&&l.value&&t.upgrade.maxLevel&&t.upgrade.level.lt(t.upgrade.maxLevel):!0),S=L(()=>M.value?o.calculateMaxPurchasableLevels(t.upgrade.id):0),_=L(()=>S.value<=0?"Max":`Max (${S.value})`);return(y,P)=>(p(),g("div",{class:ee(["border rounded-lg overflow-hidden shadow-sm transition-all",l.value?c.value?"border-purple-300 dark:border-purple-500/40 hover:border-purple-400 dark:hover:border-purple-500/70 hover:shadow-md":a.value?"border-blue-300 dark:border-blue-500/40 bg-blue-50/50 dark:bg-blue-900/10":"border-gray-200 dark:border-gray-700 bg-gray-50/50 dark:bg-gray-800/50":"border-orange-300 dark:border-orange-500/40 bg-orange-50/50 dark:bg-orange-900/10",y.compact?"p-2":"p-3"])},[r("div",{class:ee(["flex flex-col h-full",y.compact?"gap-1":"gap-2"])},[r("div",o1,[r("h3",{class:ee(["font-medium truncate",y.compact?"text-sm":"text-base",l.value?a.value?"text-blue-700 dark:text-blue-400":"text-gray-800 dark:text-gray-200":"text-orange-700 dark:text-orange-400"])},v(y.upgrade.name),3),r("div",{class:ee(["whitespace-nowrap",y.compact?"text-xs ml-1.5":"text-sm ml-2",l.value?a.value?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400":"text-orange-600 dark:text-orange-400"])},v(d.value),3)]),!y.compact&&y.upgrade.maxLevel?(p(),g("div",s1,[r("div",{class:ee(["h-1.5 rounded-full",a.value?"bg-blue-500":"bg-purple-500"]),style:je({width:`${n.value}%`})},null,6)])):G("",!0),i.value?(p(),g("p",{key:1,class:ee(["text-orange-600 dark:text-orange-400 flex-grow",y.compact?"text-xs line-clamp-2":"text-sm"])},[P[0]||(P[0]=r("span",{class:"font-medium"},"Locked:",-1)),Y(" "+v(i.value),1)],2)):(p(),g("p",{key:2,class:ee(["text-gray-600 dark:text-gray-400 flex-grow",y.compact?"text-xs line-clamp-2":"text-sm"])},v(y.upgrade.description),3)),r("div",{class:ee(["text-gray-700 dark:text-gray-300",y.compact?"text-xs":"text-sm"])},[P[1]||(P[1]=r("span",{class:"font-medium"},"Effect:",-1)),Y(" "+v(h.value),1)],2),r("div",n1,[r("div",{class:ee(["flex items-center",l.value?u.value?"text-green-600 dark:text-green-400":"text-red-500 dark:text-red-400":"text-orange-500 dark:text-orange-400",y.compact?"text-xs":"text-sm"])},[r("span",a1,v(x.value),1),P[2]||(P[2]=r("span",{class:"i-simple-icons-ethereum"},null,-1))],2),r("div",l1,[M.value?(p(),Ge(Eo,{key:0,onAction:b,disabled:!c.value,class:ee(w.value),"initial-delay":400,"repeat-interval":80,accelerate:!0,"min-interval":30},{default:it(()=>[Y(v(_.value),1)]),_:1},8,["disabled","class"])):G("",!0),Ee(Eo,{onAction:m,disabled:!c.value,class:ee(C.value),"initial-delay":400,"repeat-interval":80,accelerate:!0,"min-interval":30},{default:it(()=>[Y(v(l.value?a.value?"Maxed":"Purchase":"Locked"),1)]),_:1},8,["disabled","class"])])])],2)],2))}}),Ds=["production","efficiency","automation","research","synergy","prestige","reproduction","cost","level-requirement","adventure"],Oa=()=>[...Ds],i1=()=>["all",...Oa()],ad=[{id:"default",label:"Default",compareFn:()=>0},{id:"cost-asc",label:"Cost (Low to High)",compareFn:(e,t)=>!e.cost||!t.cost?0:e.cost.cmp(t.cost)},{id:"cost-desc",label:"Cost (High to Low)",compareFn:(e,t)=>!e.cost||!t.cost?0:t.cost.cmp(e.cost)},{id:"level-asc",label:"Level (Low to High)",compareFn:(e,t)=>!e.level||!t.level?0:e.level.cmp(t.level)},{id:"level-desc",label:"Level (High to Low)",compareFn:(e,t)=>!e.level||!t.level?0:t.level.cmp(e.level)},{id:"name-asc",label:"Name (A to Z)",compareFn:(e,t)=>e.name.localeCompare(t.name)},{id:"name-desc",label:"Name (Z to A)",compareFn:(e,t)=>t.name.localeCompare(e.name)}],ld=()=>{const e=Ve(),t=B(!1),o=B(!0),n=B(!0),a=B(""),l=B("comfortable"),i=ad,u=B(i[0].id),c=L(()=>{const h=e.evolutionUpgrades;if(!a.value.trim())return h;const C=a.value.toLowerCase();return h.filter(w=>w.name.toLowerCase().includes(C)||w.description.toLowerCase().includes(C))}),d=L(()=>{const h=i.find(C=>C.id===u.value);return h?h.compareFn:(console.warn(`Sort option "${u.value}" not found, using default.`),i[0].compareFn)});return{showMaxed:t,showAffordable:o,showUnlocked:n,searchQuery:a,sortOptions:i,selectedSort:u,gridDensity:l,textFilteredUpgrades:c,getCurrentSortFunction:d,resetFilters:()=>{t.value=!1,o.value=!0,n.value=!0,a.value="",u.value=i[0].id,l.value="comfortable"},syncWithStore:()=>{t.value=e.showMaxed,o.value=e.showAffordable,n.value=e.showUnlocked,e.gridDensity&&(l.value=e.gridDensity)},saveToStore:()=>{e.showMaxed=t.value,e.showAffordable=o.value,e.showUnlocked=n.value,e.gridDensity=l.value}}},u1={class:"space-y-4"},c1={key:0,class:"text-center py-8"},d1={key:1,class:"space-y-6"},m1=["onClick"],p1={class:"flex items-center space-x-2"},f1={class:"font-medium text-gray-800 dark:text-gray-200 capitalize"},g1={class:"flex items-center space-x-1.5 ml-2"},v1={class:"px-1.5 py-0.5 text-xs rounded-full bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-300"},b1={key:0,class:"px-1.5 py-0.5 text-xs rounded-full bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300"},h1={key:1,class:"px-1.5 py-0.5 text-xs rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300"},x1={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},y1={class:"p-3"},k1=Ie({__name:"UpgradeGrid",props:{category:{},showMaxed:{type:Boolean},showAffordable:{type:Boolean},showUnlocked:{type:Boolean},searchQuery:{},selectedSort:{},gridDensity:{}},emits:["resetFilters"],setup(e,{expose:t,emit:o}){const n=e,a=o,l=ad,i=Ve(),u=L(()=>i.evolutionUpgrades),c=B({}),d=_=>{c.value[_]=!c.value[_]},m=_=>!!c.value[_],b=L(()=>{const _=Object.fromEntries(Oa().map(y=>[y,[]]));return u.value.forEach(y=>{_[y.category]&&_[y.category].push(y)}),_}),x=_=>{const y=l.find(P=>P.id===_);return y?y.compareFn:(console.warn(`Sort option "${_}" not found, using default.`),l[0].compareFn)},h=L(()=>{let _=[];if(n.category==="all"?Object.values(b.value).forEach(P=>{_=[..._,...P]}):n.category in b.value&&(_=b.value[n.category]||[]),n.searchQuery.trim()){const P=n.searchQuery.toLowerCase();_=_.filter(I=>I.name.toLowerCase().includes(P)||I.description.toLowerCase().includes(P))}const y=_.filter(P=>{const I=n.showMaxed?!(P.maxLevel&&P.level.gte(P.maxLevel)):!0,U=!n.showAffordable||i.evolutionPoints.gte(P.cost),q=!n.showUnlocked||P.isUnlocked();return I&&U&&q});if(n.selectedSort&&n.selectedSort!=="default"){const P=x(n.selectedSort);return[...y].sort(P)}return y}),C=L(()=>{if(n.category!=="all")return{[n.category]:h.value};const _={};return h.value.forEach(y=>{_[y.category]||(_[y.category]=[]),_[y.category].push(y)}),_}),w=L(()=>n.gridDensity==="compact"?"grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-2":"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3"),M=_=>{const y=b.value[_]||[],P=y.length,I=y.filter(q=>q.maxLevel&&q.level.gte(q.maxLevel)).length,U=y.filter(q=>i.evolutionPoints.gte(q.cost)).length;return{total:P,maxed:I,affordable:U}},S=L(()=>{var _;if(n.category==="all"){let y=0;return Object.values(b.value).forEach(P=>{y+=P.length}),y}return((_=b.value[n.category])==null?void 0:_.length)||0});return t({count:S}),(_,y)=>(p(),g("div",u1,[Object.keys(C.value).length===0||Object.values(C.value).every(P=>P.length===0)?(p(),g("div",c1,[y[1]||(y[1]=r("div",{class:"text-gray-400 dark:text-gray-500 i-heroicons-face-frown text-4xl mx-auto mb-2"},null,-1)),y[2]||(y[2]=r("p",{class:"text-gray-600 dark:text-gray-400"},"No upgrades match your filters",-1)),r("button",{onClick:y[0]||(y[0]=P=>a("resetFilters")),class:"mt-2 text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-300 text-sm"}," Reset filters ")])):(p(),g("div",d1,[_.category==="all"?(p(!0),g($e,{key:0},Te(C.value,(P,I)=>(p(),g("div",{key:I,class:"bg-gray-50 dark:bg-gray-800/50 rounded-lg overflow-hidden border border-gray-100 dark:border-gray-700/50"},[r("div",{onClick:U=>d(I),class:"flex items-center justify-between px-4 py-3 bg-gray-100 dark:bg-gray-700/30 cursor-pointer"},[r("div",p1,[r("div",{class:ee(["transition-transform",m(I)?"":"rotate-90"])},y[3]||(y[3]=[r("div",{class:"i-heroicons-chevron-right w-5 h-5 text-gray-500 dark:text-gray-400"},null,-1)]),2),r("h3",f1,v(I),1),r("div",g1,[r("span",v1,v(P.length),1),M(I).affordable>0?(p(),g("span",b1,v(M(I).affordable)+" affordable ",1)):G("",!0),M(I).maxed>0?(p(),g("span",h1,v(M(I).maxed)+" maxed ",1)):G("",!0)])]),P.length?(p(),g("div",x1,v(P.length)+" items ",1)):G("",!0)],8,m1),tt(r("div",y1,[r("div",{class:ee(["grid",w.value])},[(p(!0),g($e,null,Te(P,U=>(p(),Ge(Oi,{key:U.id,upgrade:U,compact:_.gridDensity==="compact"},null,8,["upgrade","compact"]))),128))],2)],512),[[Yr,!m(I)]])]))),128)):(p(),g("div",{key:1,class:ee(["grid",w.value])},[(p(!0),g($e,null,Te(h.value,P=>(p(),Ge(Oi,{key:P.id,upgrade:P,compact:_.gridDensity==="compact"},null,8,["upgrade","compact"]))),128))],2))]))]))}}),_1=We(k1,[["__scopeId","data-v-c01fd27f"]]),w1={class:"mb-4 flex flex-col sm:flex-row gap-3 w-full"},$1={class:"relative flex-1"},C1={class:"relative"},S1=["value"],A1=["value"],E1=Ie({__name:"UpgradeSearchBar",props:{searchQuery:{},sortOptions:{},selectedSort:{}},emits:["update:searchQuery","update:selectedSort","search"],setup(e,{emit:t}){const o=e,n=t,a=B(o.searchQuery),l=B(o.selectedSort);let i=null;const u=()=>{i&&clearTimeout(i),i=setTimeout(()=>{n("update:searchQuery",a.value),n("search")},300)},c=d=>{const b=d.target.value;b&&(l.value=b,n("update:selectedSort",b))};return De(()=>o.searchQuery,d=>{a.value=d}),De(()=>o.selectedSort,d=>{l.value=d}),(d,m)=>(p(),g("div",w1,[r("div",$1,[m[3]||(m[3]=r("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[r("span",{class:"i-heroicons-magnifying-glass text-gray-400"})],-1)),tt(r("input",{"onUpdate:modelValue":m[0]||(m[0]=b=>a.value=b),type:"text",placeholder:"Search upgrades...",onInput:u,class:"w-full pl-10 pr-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-gray-900 dark:text-gray-100"},null,544),[[oo,a.value]]),a.value?(p(),g("button",{key:0,onClick:m[1]||(m[1]=b=>{a.value="",n("update:searchQuery",""),n("search")}),class:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"},m[2]||(m[2]=[r("span",{class:"i-heroicons-x-mark"},null,-1)]))):G("",!0)]),r("div",C1,[r("select",{value:l.value,onChange:c,class:"appearance-none w-full sm:w-52 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg pl-3 pr-10 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 text-gray-900 dark:text-gray-100"},[(p(!0),g($e,null,Te(d.sortOptions,b=>(p(),g("option",{key:b.id,value:b.id},v(b.label),9,A1))),128))],40,S1),m[4]||(m[4]=r("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500 dark:text-gray-400"},[r("span",{class:"i-heroicons-chevron-down"})],-1))])]))}}),M1={class:"space-y-4"},P1={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"},T1={class:"flex flex-wrap items-center gap-4"},L1={class:"flex items-center space-x-2"},I1={class:"flex items-center space-x-2"},F1={class:"flex items-center space-x-2"},U1={class:"flex items-center space-x-2 ml-auto"},R1={class:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-0.5"},D1=Ie({__name:"UpgradeFilters",props:{showMaxed:{type:Boolean},showAffordable:{type:Boolean},showUnlocked:{type:Boolean},searchQuery:{},selectedSort:{},gridDensity:{}},emits:["update:showMaxed","update:showAffordable","update:showUnlocked","update:searchQuery","update:selectedSort","update:gridDensity","resetFilters","search"],setup(e,{emit:t}){const o=e,n=t,{showMaxed:a,showAffordable:l,showUnlocked:i,searchQuery:u,sortOptions:c,selectedSort:d,resetFilters:m}=ld(),b=B(o.gridDensity||"comfortable");He(()=>{a.value=o.showMaxed,l.value=o.showAffordable,i.value=o.showUnlocked,u.value=o.searchQuery,d.value=o.selectedSort});const x=w=>{d.value=w,n("update:selectedSort",w)},h=w=>{b.value=w,n("update:gridDensity",w)};De(()=>o.showMaxed,w=>{a.value=w}),De(()=>o.showAffordable,w=>{l.value=w}),De(()=>o.showUnlocked,w=>{i.value=w}),De(()=>o.searchQuery,w=>{u.value=w}),De(()=>o.selectedSort,w=>{d.value!==w&&(d.value=w)}),De(()=>o.gridDensity,w=>{w&&b.value!==w&&(b.value=w)}),De(a,w=>{w!==o.showMaxed&&n("update:showMaxed",w)}),De(l,w=>{w!==o.showAffordable&&n("update:showAffordable",w)}),De(i,w=>{w!==o.showUnlocked&&n("update:showUnlocked",w)}),De(u,w=>{w!==o.searchQuery&&n("update:searchQuery",w)}),De(d,w=>{w!==o.selectedSort&&n("update:selectedSort",w)}),De(b,w=>{n("update:gridDensity",w)});const C=()=>{m(),b.value="comfortable",n("update:gridDensity","comfortable"),n("resetFilters")};return(w,M)=>(p(),g("div",M1,[Ee(E1,{searchQuery:f(u),sortOptions:f(c),selectedSort:f(d),"onUpdate:searchQuery":M[0]||(M[0]=S=>n("update:searchQuery",S)),"onUpdate:selectedSort":x,onSearch:M[1]||(M[1]=S=>n("search"))},null,8,["searchQuery","sortOptions","selectedSort"]),r("div",P1,[r("div",T1,[r("div",L1,[tt(r("input",{"onUpdate:modelValue":M[2]||(M[2]=S=>ze(i)?i.value=S:null),type:"checkbox",id:"show-unlocked",class:"form-checkbox h-4 w-4 text-purple-600 rounded border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 focus:ring-purple-500 dark:focus:ring-purple-400"},null,512),[[Mt,f(i)]]),M[7]||(M[7]=r("label",{for:"show-unlocked",class:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 font-medium"},"Show Unlocked",-1))]),r("div",I1,[tt(r("input",{"onUpdate:modelValue":M[3]||(M[3]=S=>ze(a)?a.value=S:null),type:"checkbox",id:"show-maxed",class:"form-checkbox h-4 w-4 text-purple-600 rounded border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 focus:ring-purple-500 dark:focus:ring-purple-400"},null,512),[[Mt,f(a)]]),M[8]||(M[8]=r("label",{for:"show-maxed",class:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 font-medium"},"Hide Maxed",-1))]),r("div",F1,[tt(r("input",{"onUpdate:modelValue":M[4]||(M[4]=S=>ze(l)?l.value=S:null),type:"checkbox",id:"show-affordable",class:"form-checkbox h-4 w-4 text-purple-600 rounded border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 focus:ring-purple-500 dark:focus:ring-purple-400"},null,512),[[Mt,f(l)]]),M[9]||(M[9]=r("label",{for:"show-affordable",class:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 font-medium"},"Show Affordable",-1))]),f(a)||!f(l)||!f(i)||f(u)||b.value!=="comfortable"?(p(),g("button",{key:0,onClick:C,class:"text-xs sm:text-sm text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-300 font-medium"}," Reset filters ")):G("",!0)]),r("div",U1,[M[12]||(M[12]=r("span",{class:"text-xs sm:text-sm text-gray-700 dark:text-gray-300"},"Density:",-1)),r("div",R1,[r("button",{onClick:M[5]||(M[5]=S=>h("compact")),class:ee(["px-2 py-1 text-xs rounded-md transition-colors",b.value==="compact"?"bg-white dark:bg-gray-600 text-gray-800 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white"])},M[10]||(M[10]=[r("div",{class:"i-heroicons-table-cells-solid w-4 h-4"},null,-1)]),2),r("button",{onClick:M[6]||(M[6]=S=>h("comfortable")),class:ee(["px-2 py-1 text-xs rounded-md transition-colors",b.value==="comfortable"?"bg-white dark:bg-gray-600 text-gray-800 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white"])},M[11]||(M[11]=[r("div",{class:"i-heroicons-squares-2x2-solid w-4 h-4"},null,-1)]),2)])])])]))}}),q1={class:"sticky top-0 z-20 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-b border-gray-200 dark:border-gray-700",role:"tablist","aria-label":"Upgrade Categories"},N1={class:"flex overflow-x-auto scrollbar-hide"},O1=["onClick","onKeydown","id","aria-selected","aria-controls","tabindex"],B1=Ie({__name:"UpgradeTabsNavigation",props:{activeTab:{},categories:{}},emits:["update:activeTab"],setup(e,{emit:t}){const o=e,n=t,a=c=>{switch(c){case"production":return"i-heroicons-bolt";case"efficiency":return"i-heroicons-cog-6-tooth";case"automation":return"i-heroicons-cog-8-tooth";case"research":return"i-heroicons-beaker";case"synergy":return"i-heroicons-puzzle-piece";case"prestige":return"i-heroicons-star";case"all":return"i-heroicons-squares-2x2";case"reproduction":return"i-heroicons-sparkles";case"cost":return"i-heroicons-banknotes";case"level-requirement":return"i-heroicons-chart-bar";case"adventure":return"i-heroicons-fire";default:return"i-heroicons-face-frown"}},l=c=>{switch(c){case"production":return"Production";case"efficiency":return"Efficiency";case"automation":return"Automation";case"research":return"Research";case"synergy":return"Synergy";case"prestige":return"Prestige";case"all":return"All";case"reproduction":return"Reproduction";case"cost":return"Cost";case"level-requirement":return"Level Requirement";case"adventure":return"Adventure";default:return c.charAt(0).toUpperCase()+c.slice(1)}},i=(c,d)=>{if(c.key==="ArrowRight"){const m=(d+1)%o.categories.length;n("update:activeTab",o.categories[m]),u(m),c.preventDefault()}else if(c.key==="ArrowLeft"){const m=(d-1+o.categories.length)%o.categories.length;n("update:activeTab",o.categories[m]),u(m),c.preventDefault()}else if(c.key==="Home")n("update:activeTab",o.categories[0]),u(0),c.preventDefault();else if(c.key==="End"){const m=o.categories.length-1;n("update:activeTab",o.categories[m]),u(m),c.preventDefault()}},u=c=>{const d=`tab-${o.categories[c]}`;setTimeout(()=>{const m=document.getElementById(d);m&&m.focus()},10)};return(c,d)=>(p(),g("div",q1,[r("div",N1,[(p(!0),g($e,null,Te(c.categories,(m,b)=>(p(),g("button",{key:m,onClick:x=>n("update:activeTab",m),onKeydown:x=>i(x,b),class:ee(["px-4 py-3 font-medium text-sm whitespace-nowrap transition-colors outline-none",c.activeTab===m?"border-b-2 border-purple-600 dark:border-purple-500 text-purple-700 dark:text-purple-400":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"]),id:`tab-${m}`,"aria-selected":c.activeTab===m,"aria-controls":`panel-${m}`,role:"tab",tabindex:c.activeTab===m?0:-1},[r("span",{class:ee([a(m),"mr-1.5"])},null,2),Y(" "+v(l(m))+" ",1),Mo(c.$slots,"badge",{category:m},void 0,!0)],42,O1))),128))])]))}}),Q1=We(B1,[["__scopeId","data-v-e7544889"]]),j1={class:"bg-gradient-to-br from-purple-200 to-purple-100 dark:from-purple-900/40 dark:to-purple-800/40 rounded-xl p-2 sm:p-4 shadow-md border border-purple-300/50 dark:border-purple-700/50 dark:text-purple-100"},H1={class:"flex flex-col space-y-2 sm:space-y-3"},G1={class:"flex items-center justify-between"},V1={class:"text-sm sm:text-base font-bold flex items-center text-purple-800 dark:text-purple-200"},W1={class:"grid grid-cols-1 sm:grid-cols-6 gap-2 sm:gap-3"},z1={class:"sm:col-span-4 grid grid-cols-2 gap-2"},X1={class:"flex justify-between items-center"},K1={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},Y1={class:"text-xs sm:text-sm font-bold flex items-center text-purple-700 dark:text-purple-400"},J1={class:"sm:col-span-2 flex sm:flex-col space-x-2 sm:space-x-0 sm:space-y-2"},Z1={key:0,class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700 flex-grow"},ey={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},ty={class:"text-xs sm:text-sm font-bold flex items-center text-purple-700 dark:text-purple-400"},ry={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},oy=["disabled"],sy={key:0,class:"text-2xs sm:text-sm"},ny={key:1,class:"text-2xs sm:text-xs"},ay={key:0,class:"bg-blue-50 dark:bg-blue-900/30 p-2 sm:p-3 rounded-lg text-2xs sm:text-xs text-blue-800 dark:text-blue-300 border border-blue-200 dark:border-blue-800"},ly={class:"grid grid-cols-1 sm:grid-cols-3 gap-2"},iy={class:"list-disc pl-4 mt-1 space-y-0.5"},uy=Ie({__name:"EvolutionStatusSection",props:{showAboutEvolution:{type:Boolean}},emits:["toggleAboutEvolution","confirmEvolution"],setup(e,{emit:t}){const o=t,n=Ve(),a=st(),l=Vt();bt();const{width:i}=dn(),u=L(()=>i.value<640),c=L(()=>n.canEvolve),d=L(()=>Math.round(n.currentLoopTicks.div(n.ticksPerLoop).mul(100).toNumber())),m=L(()=>Math.min(100,Math.round(a.food.div(n.foodForNextLoop).mul(100).toNumber()))),b=L(()=>ge(n.requiredLoops,1)),x=L(()=>ge(n.currentLoopTicks,0)),h=L(()=>ge(n.ticksPerLoop,1)),C=L(()=>ge(a.food,0)),w=L(()=>ge(n.foodForNextLoop,0)),M=L(()=>l.getEPBoostMultiplier()),S=I=>ge(I.sub(1).mul(100),2)+"%",_=L(()=>!n.hasEvolved),y=L(()=>[{label:u.value?"Evo Points":"Evolution Points",value:n.formatEP(),icon:"i-heroicons-sparkles"},{label:u.value?"Meta":"Metamorphosis",value:n.formatEvolutionCount(),icon:"i-heroicons-arrow-path"},{label:u.value?"Cycles":"Foraging Cycles",value:n.formatLoopsCompleted(),icon:"i-heroicons-arrow-path"},{label:u.value?"Evo Req":"Evolution Requirement",value:`${b.value} Cycles`,icon:"i-heroicons-sparkles"}]),P=Ie({props:{label:{type:String,required:!0},percentage:{type:Number,required:!0},current:{type:String,required:!0},target:{type:String,required:!0}},setup(I){return()=>or("div",{class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},[or("div",{class:"flex justify-between items-center mb-0.5 sm:mb-1"},[or("div",{class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},I.label),or("div",{class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300"},[or("span",{},`${I.percentage}%`),or("span",{class:"ml-1 text-purple-500 dark:text-purple-400"},`(${I.current}/${I.target})`)])]),or("div",{class:"h-1.5 sm:h-2 bg-purple-100 dark:bg-purple-900/50 rounded-full overflow-hidden"},[or("div",{class:"h-full bg-purple-600 dark:bg-purple-500 transition-all duration-300 ease-out",style:{width:`${I.percentage}%`}})])])}});return(I,U)=>(p(),g("section",j1,[r("div",H1,[r("div",G1,[r("h2",V1,[U[2]||(U[2]=r("span",{class:"i-heroicons-sparkles text-purple-700 dark:text-purple-400 mr-1 sm:mr-2"},null,-1)),r("span",null,v(u.value?"Meta Status":"Metamorphosis Status"),1)]),r("button",{onClick:U[0]||(U[0]=q=>o("toggleAboutEvolution")),class:"w-5 h-5 sm:w-6 sm:h-6 rounded-full bg-purple-300 dark:bg-purple-700 hover:bg-purple-400 dark:hover:bg-purple-600 flex items-center justify-center text-purple-800 dark:text-purple-200 transition-colors"},U[3]||(U[3]=[r("span",{class:"i-heroicons-question-mark-circle text-sm sm:text-base"},null,-1)]))]),r("div",W1,[r("div",z1,[(p(!0),g($e,null,Te(y.value,(q,k)=>(p(),g("div",{key:k,class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},[r("div",X1,[r("div",K1,v(q.label),1),r("div",Y1,[r("span",{class:ee([q.icon,"text-purple-600 dark:text-purple-400 mr-0.5 sm:mr-1 text-2xs sm:text-xs"])},null,2),Y(" "+v(q.value),1)])])]))),128)),Ee(f(P),{label:u.value?"Trip Prog to Next Cycle":"Trip Progress towards Next Cycle",percentage:d.value,current:x.value,target:h.value},null,8,["label","percentage","current","target"]),Ee(f(P),{label:u.value?"Food Prog to Next Cycle":"Food Progress towards Next Cycle",percentage:m.value,current:C.value,target:w.value},null,8,["label","percentage","current","target"])]),r("div",J1,[c.value?(p(),g("div",Z1,[r("div",ey,v(u.value?"Potential":"Potential Gain"),1),r("div",ty,[U[4]||(U[4]=r("span",{class:"i-heroicons-sparkles text-purple-600 dark:text-purple-400 mr-0.5 sm:mr-1 text-2xs sm:text-xs"},null,-1)),Y(" +"+v(f(n).formatPotentialEPGain())+" EP ",1)]),r("div",ry," Total: +"+v(S(M.value))+" bonus ",1)])):G("",!0),r("button",{onClick:U[1]||(U[1]=q=>o("confirmEvolution")),class:ee(["py-1.5 sm:py-2 px-2 sm:px-3 rounded-lg text-white font-bold transition-colors duration-200 flex items-center justify-center flex-grow",c.value?"bg-gradient-to-r from-purple-700 to-purple-600 hover:from-purple-800 hover:to-purple-700 dark:from-purple-800 dark:to-purple-700 dark:hover:from-purple-900 dark:hover:to-purple-800 shadow-lg":"bg-gray-300 dark:bg-gray-700 cursor-not-allowed"]),disabled:!c.value},[U[5]||(U[5]=r("span",{class:"i-heroicons-sparkles text-sm sm:text-base mr-1 sm:mr-1.5"},null,-1)),c.value?(p(),g("span",sy,v(u.value?"Transform":"Metamorphose"),1)):(p(),g("span",ny," Need "+v(b.value)+" Cycles ",1))],10,oy)])]),_.value?(p(),g("div",ay,[r("div",ly,[r("div",null,[U[10]||(U[10]=r("p",{class:"font-medium mb-1"},"Foraging Cycles",-1)),r("p",null,[U[6]||(U[6]=Y("You need ")),r("strong",null,v(b.value)+" cycles",1),U[7]||(U[7]=Y(" to evolve. Complete cycles by:"))]),r("ul",iy,[r("li",null,[r("strong",null,v(h.value),1),U[8]||(U[8]=Y(" foraging trips, or"))]),r("li",null,[r("strong",null,v(w.value),1),U[9]||(U[9]=Y(" food"))])])]),U[11]||(U[11]=r("div",null,[r("p",{class:"font-medium mb-1"},"Trip Progress"),r("p",null,"Ants make foraging trips over time. Upgrades can increase speed and simultaneous trips.")],-1)),U[12]||(U[12]=r("div",null,[r("p",{class:"font-medium mb-1"},"Food Progress"),r("p",null,"Collecting enough food instantly completes a cycle - useful as you progress.")],-1))])])):G("",!0)])]))}}),cy={class:"space-y-4"},dy={key:0,class:"bg-white dark:bg-gray-800 rounded-xl shadow-md border border-gray-200/50 dark:border-gray-700/50"},my={class:"sticky top-[-20px] z-20 bg-white dark:bg-gray-800"},py={key:0,class:"ml-1.5 px-1.5 py-0.5 text-xs rounded-full bg-gray-100 dark:bg-gray-700"},fy={class:"p-4"},gy=["id","aria-labelledby","hidden"],vy={key:1},by=Ie({__name:"UpgradesPage",setup(e){const t=Ve(),o=L(()=>t.evolutionUpgrades),{showMaxed:n,showAffordable:a,showUnlocked:l,searchQuery:i,selectedSort:u,sortOptions:c,gridDensity:d,resetFilters:m}=ld(),b=L(()=>{const U=Object.fromEntries(Oa().map(q=>[q,[]]));return o.value.forEach(q=>{U[q.category]&&U[q.category].push(q)}),U}),x=U=>{var q;if(U==="all"){let k=0;return Object.values(b.value).forEach(W=>{k+=W.length}),k}return((q=b.value[U])==null?void 0:q.length)||0};He(()=>{n.value=t.showMaxed,a.value=t.showAffordable,l.value=t.showUnlocked,i.value=t.searchQuery||"",u.value=t.selectedSort||c[0].id,t.gridDensity&&(d.value=t.gridDensity)}),De([n,a,l,i,u,d],()=>{t.showMaxed!==n.value&&(t.showMaxed=n.value),t.showAffordable!==a.value&&(t.showAffordable=a.value),t.showUnlocked!==l.value&&(t.showUnlocked=l.value),t.searchQuery!==i.value&&(t.searchQuery=i.value),t.selectedSort!==u.value&&(t.selectedSort=u.value),t.gridDensity!==d.value&&(t.gridDensity=d.value)},{deep:!0});const h=L({get:()=>t.activeTab,set:U=>t.activeTab=U}),C=B(!1),w=B(!1),M=()=>{t.canEvolve&&(C.value=!0)},S=()=>{t.canEvolve&&(t.evolve(),C.value=!1)},_=()=>{C.value=!1},y=()=>{w.value=!w.value},P=()=>{m(),t.resetFilters()},I=i1();return(U,q)=>{const k=uy,W=Q1,le=D1,X=_1,j=r1,T=Xx,K=ao;return p(),g("div",cy,[Ee(k,{showAboutEvolution:w.value,onToggleAboutEvolution:y,onConfirmEvolution:M},null,8,["showAboutEvolution"]),f(t).hasEvolved?(p(),g("div",dy,[r("div",my,[Ee(W,{activeTab:h.value,"onUpdate:activeTab":q[0]||(q[0]=fe=>h.value=fe),categories:f(I)},{badge:it(({category:fe})=>[fe!=="all"?(p(),g("span",py,v(x(fe)),1)):G("",!0)]),_:1},8,["activeTab","categories"])]),r("div",fy,[Ee(le,{showMaxed:f(n),"onUpdate:showMaxed":q[1]||(q[1]=fe=>ze(n)?n.value=fe:null),showAffordable:f(a),"onUpdate:showAffordable":q[2]||(q[2]=fe=>ze(a)?a.value=fe:null),showUnlocked:f(l),"onUpdate:showUnlocked":q[3]||(q[3]=fe=>ze(l)?l.value=fe:null),searchQuery:f(i),"onUpdate:searchQuery":q[4]||(q[4]=fe=>ze(i)?i.value=fe:null),selectedSort:f(u),"onUpdate:selectedSort":q[5]||(q[5]=fe=>ze(u)?u.value=fe:null),gridDensity:f(d),"onUpdate:gridDensity":q[6]||(q[6]=fe=>ze(d)?d.value=fe:null),onResetFilters:P,onSearch:fe=>{}},null,8,["showMaxed","showAffordable","showUnlocked","searchQuery","selectedSort","gridDensity"]),(p(!0),g($e,null,Te(f(I),fe=>(p(),g("div",{key:`panel-${fe}`,id:`panel-${fe}`,role:"tabpanel","aria-labelledby":`tab-${fe}`,hidden:h.value!==fe},[Ee(X,{category:fe,showMaxed:f(n),showAffordable:f(a),showUnlocked:f(l),searchQuery:f(i),selectedSort:f(u),gridDensity:f(d),onResetFilters:P},null,8,["category","showMaxed","showAffordable","showUnlocked","searchQuery","selectedSort","gridDensity"])],8,gy))),128))])])):(p(),g("div",vy,q[7]||(q[7]=[r("div",{class:"p-4"},[r("div",{class:"border border-gray-200/50 dark:border-gray-700/50 rounded-xl shadow-md p-4 text-center text-gray-500 dark:text-gray-400"},[r("p",null,"You need to evolve to access the upgrades.")])],-1)]))),Ee(j,{show:C.value,onConfirm:S,onCancel:_},null,8,["show"]),Ee(T,{show:w.value,onClose:y},null,8,["show"]),Ee(K,{threshold:400})])}}}),hy=We(by,[["__scopeId","data-v-a953baa3"]]),xy={key:0,class:"flex items-center bg-purple-100 dark:bg-purple-800/40 px-3 py-2 rounded-lg"},yy={class:"text-md font-bold text-purple-800 dark:text-purple-300"},ky=Ie({__name:"PheromoneMultiplierInfo",setup(e){const t=Vt(),o=L(()=>t.getPheromoneGainMultiplier()),n=L(()=>Ct(o.value)),a=L(()=>o.value.gt(1));return(l,i)=>a.value?(p(),g("div",xy,[i[1]||(i[1]=r("span",{class:"i-heroicons-arrow-trending-up text-purple-600 dark:text-purple-400 mr-2"},null,-1)),r("div",null,[i[0]||(i[0]=r("div",{class:"text-sm text-purple-600 dark:text-purple-400"},"Essence Gain Multiplier",-1)),r("div",yy,v(n.value),1)])])):G("",!0)}}),_y={class:"space-y-4"},wy={class:"bg-gradient-to-br from-purple-100 to-purple-50 dark:from-purple-900/40 dark:to-purple-800/30 rounded-xl p-4 shadow-md"},$y={class:"flex items-center justify-between mb-4 p-3 bg-purple-50 dark:bg-purple-900/50 rounded-lg"},Cy={class:"flex items-center"},Sy={class:"text-xl font-bold text-purple-800 dark:text-purple-300"},Ay={class:"mb-4 flex flex-wrap gap-2 bg-purple-50 dark:bg-purple-900/30 p-3 rounded-lg"},Ey={class:"flex flex-wrap gap-2"},My=["onClick"],Py={class:"mb-4 flex items-center justify-between bg-purple-50 dark:bg-purple-900/30 p-3 rounded-lg"},Ty={class:"flex items-center"},Ly={key:0,class:"ml-2 text-xs bg-purple-200 dark:bg-purple-800 text-purple-800 dark:text-purple-200 px-2 py-0.5 rounded-full"},Iy={class:"space-y-4"},Fy={class:"flex justify-between items-start mb-2"},Uy={class:"text-lg font-semibold text-purple-800 dark:text-purple-200"},Ry={class:"text-sm text-purple-600 dark:text-purple-400"},Dy={class:"text-right"},qy={class:"text-sm text-purple-600 dark:text-purple-400"},Ny={key:0,class:"mt-4 bg-gray-50 dark:bg-gray-700/30 p-3 rounded-lg border border-gray-200 dark:border-gray-700"},Oy={class:"flex items-center"},By={class:"text-sm text-blue-600 dark:text-blue-400"},Qy={class:"space-y-2 mt-3"},jy={class:"flex items-center"},Hy={key:0,class:"i-heroicons-check-circle text-green-500 dark:text-green-400 mr-2"},Gy={key:1,class:"i-heroicons-lock-closed text-gray-400 dark:text-gray-500 mr-2"},Vy={key:2,class:"text-purple-700 dark:text-purple-300"},Wy={key:3,class:"text-gray-500 dark:text-gray-400"},zy={class:"text-xs ml-1"},Xy={key:0,class:"font-medium text-green-600 dark:text-green-400"},Ky={class:"flex gap-2"},Yy={key:0},Jy={key:1},Zy={key:2},ek={key:3},tk=["onClick","disabled","title"],rk={key:0,class:"absolute bottom-full right-0 mb-1 bg-gray-800 text-white text-xs rounded px-2 py-1 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10"},ok={class:"text-xs text-gray-300"},sk=Ie({__name:"PheromoneShopTab",setup(e){const t=St(),o=gs(),n=B({}),a=[{value:"unlocked",label:"Unlocked Status"},{value:"level",label:"Current Level"},{value:"maxLevel",label:"Max Level"},{value:"price",label:"Price"},{value:"name",label:"Name"}],l=L(()=>o.sortPreference.by),i=L(()=>o.sortPreference.direction),u=L(()=>o.hideMaxedItems);function c(I){if(I===l.value)o.setSortPreference(I,i.value==="asc"?"desc":"asc");else{const U=I==="name"?"asc":"desc";o.setSortPreference(I,U)}}function d(I){o.upgradeItem(I)}function m(I){const U=o.maxBuyItem(I);return U>0&&(n.value[I]={count:U,visible:!0},setTimeout(()=>{n.value[I]&&(n.value[I].visible=!1)},2e3)),U}function b(I){return`+${(I instanceof he?I:new he(String(I))).sub(1).mul(100).toFixed(1)}%`}function x(I){const U=o.getNextLevelCost(I);return t.pheromoneEssence.gte(U)}function h(I){const U=o.shopItems.find(X=>X.id===I),q=U&&o.getItemLevel(I)>=U.maxLevel,k=x(I),W=U&&o.isItemUnlocked(I),le="mt-4 w-full py-2 px-4 text-white rounded-lg transition-colors duration-200 flex items-center justify-center";return W?q?`${le} opacity-50 cursor-not-allowed bg-purple-600`:k?`${le} bg-purple-600 hover:bg-purple-700`:`${le} opacity-50 cursor-not-allowed bg-red-600`:`${le} opacity-50 cursor-not-allowed bg-gray-500`}function C(I){const U=o.shopItems.find(W=>W.id===I),q=U&&o.getItemLevel(I)>=U.maxLevel;return!!(!(U&&o.isItemUnlocked(I))||q||!x(I))}const w=L(()=>o.getAllShopItemsWithStatus),M=L(()=>o.shopItems.filter(I=>{const U=o.getItemLevel(I.id);return o.isItemUnlocked(I.id)&&U>=I.maxLevel}).length);function S(){o.toggleHideMaxedItems()}function _(I){return o.calculateMaxBuyLevels(I)}function y(I){const U=_(I);return U<=0?"Cannot purchase any levels":`Buy ${U} levels`}function P(I){const U=_(I),q=o.calculateMaxBuyCost(I);return{levels:U,cost:ge(q)}}return(I,U)=>(p(),g("div",_y,[r("div",wy,[U[11]||(U[11]=r("h2",{class:"text-lg font-bold mb-2 flex items-center"},[r("span",{class:"i-heroicons-beaker text-purple-700 dark:text-purple-500 mr-2"}),Y(" Pheromone Essence Shop ")],-1)),r("div",$y,[r("div",Cy,[U[1]||(U[1]=r("span",{class:"i-heroicons-flask text-purple-600 dark:text-purple-400 text-xl mr-2"},null,-1)),r("div",null,[U[0]||(U[0]=r("div",{class:"text-sm text-purple-600 dark:text-purple-400"},"Available Essence",-1)),r("div",Sy,v(f(t).formattedPheromoneEssence),1)])]),Ee(ky)]),r("div",Ay,[U[2]||(U[2]=r("div",{class:"text-sm text-purple-600 dark:text-purple-400 flex items-center mr-2"},[r("span",{class:"i-heroicons-arrow-up-down text-purple-500 dark:text-purple-400 mr-1"}),Y(" Sort by: ")],-1)),r("div",Ey,[(p(),g($e,null,Te(a,q=>r("button",{key:q.value,onClick:k=>c(q.value),class:ee(["px-2 py-1 text-xs rounded-md transition-colors",{"bg-purple-500 text-white font-medium":l.value===q.value,"bg-purple-100 dark:bg-purple-900/40 text-purple-700 dark:text-purple-300 hover:bg-purple-200 dark:hover:bg-purple-900/60":l.value!==q.value}])},[Y(v(q.label)+" ",1),l.value===q.value?(p(),g("span",{key:0,class:ee(["ml-1",i.value==="asc"?"i-heroicons-arrow-up-20-solid":"i-heroicons-arrow-down-20-solid"])},null,2)):G("",!0)],10,My)),64))])]),r("div",Py,[r("div",Ty,[U[3]||(U[3]=r("span",{class:"i-heroicons-eye-slash text-purple-600 dark:text-purple-400 mr-2"},null,-1)),U[4]||(U[4]=r("span",{class:"text-sm text-purple-600 dark:text-purple-400"},"Hide maxed upgrades",-1)),u.value&&M.value>0?(p(),g("span",Ly,v(M.value)+" hidden ",1)):G("",!0)]),r("button",{onClick:S,class:ee(["relative inline-flex items-center h-6 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",u.value?"bg-purple-600":"bg-gray-300 dark:bg-gray-600"])},[r("span",{class:ee(["inline-block w-4 h-4 transform bg-white rounded-full transition-transform",u.value?"translate-x-6":"translate-x-1"])},null,2)],2)]),r("div",Iy,[(p(!0),g($e,null,Te(w.value,q=>{var k,W;return p(),g("div",{key:q.id,class:ee(["bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border",q.unlocked?"border-purple-200 dark:border-purple-800":"border-gray-300 dark:border-gray-700 border-dashed"])},[r("div",Fy,[r("div",null,[r("h3",Uy,v(q.name),1),r("p",Ry,v(q.description),1)]),r("div",Dy,[r("div",qy," Level "+v(f(o).getItemLevel(q.id))+"/"+v(q.maxLevel),1),r("div",{class:ee(["text-xs",x(q.id)?"text-purple-500 dark:text-purple-300":"text-red-500 dark:text-red-300"])}," Next: "+v(f(ge)(f(o).getNextLevelCost(q.id)))+" Essence ",3)])]),q.unlocked?G("",!0):(p(),g("div",Ny,[r("div",Oy,[U[5]||(U[5]=r("span",{class:"i-heroicons-information-circle text-blue-500 dark:text-blue-400 mr-2"},null,-1)),r("div",By," To unlock: "+v(f(o).getUnlockRequirementText(q.id)),1)])])),r("div",Qy,[(p(!0),g($e,null,Te(q.modifiers,(le,X)=>(p(),g("div",{key:le.target,class:ee(["flex items-center justify-between text-sm py-1 px-2 rounded-md",f(o).getItemLevel(q.id)>=le.unlockLevel?"bg-green-50 dark:bg-green-900/20 border border-green-100 dark:border-green-800/50":"bg-gray-50 dark:bg-gray-700/30 border border-gray-100 dark:border-gray-700/50"])},[r("div",jy,[f(o).getItemLevel(q.id)>=le.unlockLevel?(p(),g("span",Hy)):(p(),g("span",Gy)),f(o).getItemLevel(q.id)>=le.unlockLevel?(p(),g("span",Vy,v(le.description),1)):(p(),g("span",Wy,[U[6]||(U[6]=Y(" Mystery enhancement ")),r("span",zy,"(Unlocks at level "+v(le.unlockLevel)+")",1)]))]),f(o).getItemLevel(q.id)>=le.unlockLevel?(p(),g("div",Xy,v(b(f(o).getCurrentModifierValue(q.id,X))),1)):G("",!0)],2))),128))]),r("div",Ky,[Ee(Eo,{class:ee([h(q.id),"flex-1 flex items-center justify-center"]),disabled:C(q.id),onAction:le=>d(q.id),"initial-delay":500,"repeat-interval":100,accelerate:!0,"min-interval":50},{default:it(()=>[U[7]||(U[7]=r("span",{class:"i-heroicons-arrow-up-circle mr-2"},null,-1)),f(o).getItemLevel(q.id)>=q.maxLevel?(p(),g("span",Yy,"Max Level")):q.unlocked?x(q.id)?(p(),g("span",ek,"Upgrade")):(p(),g("span",Zy,"Can't Afford")):(p(),g("span",Jy,"Unlock"))]),_:2},1032,["class","disabled","onAction"]),r("button",{onClick:le=>m(q.id),disabled:C(q.id),class:ee([h(q.id),"flex-1 flex items-center justify-center relative group"]),title:y(q.id)},[U[8]||(U[8]=r("span",{class:"i-heroicons-arrow-path mr-1"},null,-1)),U[9]||(U[9]=Y(" Max ")),_(q.id)>0&&!C(q.id)?(p(),g("div",rk,[Y(" Buy "+v(P(q.id).levels)+" levels ",1),r("div",ok,"Cost: "+v(P(q.id).cost)+" Essence",1)])):G("",!0)],10,tk)]),(k=n.value[q.id])!=null&&k.visible?(p(),g("div",{key:1,class:ee(["mt-2 text-center text-sm font-medium text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/20 py-1 px-2 rounded-md transition-opacity duration-300",(W=n.value[q.id])!=null&&W.visible?"opacity-100":"opacity-0"])},[U[10]||(U[10]=r("span",{class:"i-heroicons-plus-circle mr-1"},null,-1)),Y(" Purchased "+v(n.value[q.id].count)+" levels! ",1)],2)):G("",!0)],2)}),128))]),U[12]||(U[12]=ct('<div class="mt-4 text-sm text-purple-600 dark:text-purple-400 bg-purple-50 dark:bg-purple-900/50 p-3 rounded-lg"><div class="flex items-start"><span class="i-heroicons-information-circle text-purple-600 dark:text-purple-400 mt-0.5 mr-2"></span><div><p class="mb-1">Pheromone Essence is collected from defeated enemies in the Adventure mode.</p><p>Higher-level enemies provide more essence. Defeat tougher bugs to collect more!</p><p class="mt-1 text-blue-600 dark:text-blue-400">Upgrade existing items to discover new pheromone enhancements!</p></div></div></div>',1))])]))}}),nk=()=>{const e=ht(),t=Bt(),o=ir(),n=B(!1),a=B(e.filterText),l=B(e.showTooStrongBugs);De(()=>a.value,C=>{e.setTextFilter(C)}),De(()=>e.filterText,C=>{a.value=C}),De(()=>l.value,C=>{e.setShowTooStrongBugs(C)}),De(()=>e.showTooStrongBugs,C=>{l.value=C});const i=C=>{e.setQuestTypeFilter(C)},u=C=>{e.setRewardTypeFilter(C)},c=C=>{e.setSortOption(C)},d=()=>{a.value="",e.clearFilters(),l.value=!0},m=C=>{const w=o.getBugById(C);if(!w)return!1;const M=t.calculateDamage(w.damage,t.playerDefense);if(M.lte(0))return!0;const S=t.calculateDamage(t.playerDamage,w.defense);if(S.lte(0))return!1;const _=w.maxHealth.div(S).ceil();if(_.lte(20))return!0;const y=t.playerMaxHealth.div(M).floor();return _.lte(y)},b=L(()=>l.value?e.filteredAvailableQuests:e.filteredAvailableQuests.filter(C=>{const w=C.goals.filter(S=>S.type===mt.KILL_BUGS);return w.length===0||["bug_slayer_initiate","extreme_bug_hunter"].includes(C.id)||C.id.includes("exterminator_")?!0:w.every(S=>S.target?m(S.target):!0)})),x=L(()=>!!(e.filterQuestType||e.filterRewardType||e.filterText||!l.value)),h=L(()=>{let C=0;return e.filterQuestType&&C++,e.filterRewardType&&C++,e.filterText&&C++,l.value||C++,C});return{isFilterPanelOpen:n,searchQuery:a,showTooStrongBugs:l,sortOption:L(()=>e.sortOption),filterQuestType:L(()=>e.filterQuestType),filterRewardType:L(()=>e.filterRewardType),hasActiveFilters:x,activeFilterCount:h,filteredQuestsByStrength:b,setQuestTypeFilter:i,setRewardTypeFilter:u,setSortOption:c,clearAllFilters:d,canDefeatBug:m,QuestType:mt,RewardType:fr,QuestSortOption:Vc}};function id(){const e=ht(),t=B(null),o=L(()=>e.questQueue.map(S=>e.getAvailableQuestById(S)).filter(S=>S!==void 0)),n=L(()=>e.questQueue.length),a=L(()=>n.value===0),l=L(()=>e.isQueueModalOpen),i=()=>{e.openQueueModal()},u=()=>{e.closeQueueModal(),t.value=null},c=S=>e.addQuestToQueue(S),d=S=>e.addMultipleQuestsToQueue(S),m=S=>e.removeQuestFromQueue(S),b=()=>e.startNextQuestFromQueue(),x=()=>{e.clearQuestQueue()},h=()=>e.toggleAutoStartNextQuest(),C=S=>{t.value=S},w=()=>{t.value=null},M=S=>{t.value!==null&&(e.reorderQuestQueue(t.value,S),t.value=null)};return{isQueueModalOpen:l,queuedQuests:o,queueLength:n,isQueueEmpty:a,openQueueModal:i,closeQueueModal:u,addToQueue:c,addAllToQueue:d,removeFromQueue:m,startNextQuest:b,clearQueue:x,toggleAutoStart:h,autoStartEnabled:L(()=>e.autoStartNextQuest),onDragStart:C,onDragEnd:w,onDrop:M,draggedItemIndex:t}}function ak(){const e=B(!1),t=B(null),o=B(null),n=B(0),a=B(0);return{isDragging:e,draggedItemId:t,draggedItemIndex:o,touchStartX:n,touchStartY:a,startDrag:(c,d,m)=>{e.value=!0,t.value=c,o.value=d,m instanceof MouseEvent?(n.value=m.clientX,a.value=m.clientY):m.touches&&m.touches.length>0&&(n.value=m.touches[0].clientX,a.value=m.touches[0].clientY,m.preventDefault())},endDrag:()=>{e.value=!1,t.value=null,o.value=null},isDraggedOver:(c,d)=>{const m=c.getBoundingClientRect();let b,x;if(d instanceof MouseEvent)b=d.clientX,x=d.clientY;else if(d.touches&&d.touches.length>0)b=d.touches[0].clientX,x=d.touches[0].clientY;else return!1;return b>=m.left&&b<=m.right&&x>=m.top&&x<=m.bottom}}}const lk={class:"p-6 overflow-y-auto max-h-[60vh]"},ik={class:"mb-4 flex items-center justify-between bg-blue-50 dark:bg-blue-900/20 p-3 rounded-md"},uk={class:"relative inline-flex items-center cursor-pointer"},ck=["checked"],dk={key:0,class:"text-center py-8"},mk={key:1,class:"space-y-3"},pk={class:"text-lg font-medium text-gray-700 dark:text-gray-300 mb-3"},fk={class:"space-y-3"},gk=["draggable","onDragstart","onDrop","onTouchstart"],vk={class:"flex items-center p-3"},bk={key:0,class:"flex-shrink-0 cursor-move px-2 text-gray-400"},hk={key:1,class:"flex-shrink-0 flex flex-col px-1.5"},xk=["onClick","disabled"],yk=["onClick","disabled"],kk={class:"w-6 h-6 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-xs text-blue-700 dark:text-blue-300 mr-3"},_k={class:"flex-grow min-w-0"},wk={class:"font-medium text-gray-800 dark:text-gray-200 truncate"},$k={class:"text-xs text-gray-500 dark:text-gray-400 truncate"},Ck={class:"ml-3"},Sk={key:0,class:"px-2 py-1 rounded-full text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"},Ak={key:1,class:"px-2 py-1 rounded-full text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"},Ek=["onClick"],Mk={class:"flex justify-end mt-4"},Pk=Ie({__name:"QuestQueueModal",setup(e){const{isQueueModalOpen:t,queuedQuests:o,queueLength:n,isQueueEmpty:a,closeQueueModal:l,removeFromQueue:i,clearQueue:u,toggleAutoStart:c,autoStartEnabled:d,onDragStart:m,onDragEnd:b,onDrop:x,draggedItemIndex:h}=id(),{isClosing:C,handleClose:w,preventBackgroundTouchMove:M}=br(),S=ak(),_=Kc("(max-width: 767px)"),y=T=>{switch(T){case mt.KILL_BUGS:return"Kill Bugs";case mt.COLLECT_FOOD:return"Collect Food";case mt.COLLECT_PHEROMONE:return"Collect Pheromone";default:return"Unknown"}},P=T=>{if(!T.goals||T.goals.length===0)return"No requirements";if(T.goals.length===1){const K=T.goals[0];switch(K.type){case mt.KILL_BUGS:return`Kill ${k(K.requiredAmount)} ${K.target||"bugs"}`;case mt.COLLECT_FOOD:return`Collect ${k(K.requiredAmount)} food`;case mt.COLLECT_PHEROMONE:return`Collect ${k(K.requiredAmount)} pheromone essence`;default:return"Unknown requirement"}}return`Complete ${T.goals.length} objectives`},I=(T,K,fe)=>{K.touches&&K.touches.length>0&&(S.startDrag(fe,T,K),m(T))},U=T=>{S.isDragging.value&&T.preventDefault()},q=T=>{if(S.isDragging.value&&S.draggedItemIndex.value!==null){const K=document.querySelectorAll(".quest-queue-item");for(let fe=0;fe<K.length;fe++)if(S.isDraggedOver(K[fe],T)){x(fe);break}S.endDrag(),b()}},k=T=>ge(T,2),W=()=>{w(l)},le=T=>{T.key==="Escape"&&t.value&&W()};He(()=>{window.addEventListener("keydown",le)}),Zt(()=>{window.removeEventListener("keydown",le)});const X=T=>{T>0&&(m(T),x(T-1),b())},j=T=>{T<o.value.length-1&&(m(T),x(T+1),b())};return(T,K)=>(p(),Ge(no,{name:"fade"},{default:it(()=>[f(t)?(p(),g("div",{key:0,class:"fixed inset-0 bg-black/30 dark:bg-black/60 z-50 backdrop-blur-sm flex items-center justify-center p-4 modal-backdrop","data-modal-backdrop":"true",onClick:Ye(W,["self"]),onTouchmove:K[7]||(K[7]=Ye((...fe)=>f(M)&&f(M)(...fe),["self"]))},[r("div",{class:ee(["relative bg-white dark:bg-slate-900 rounded-lg shadow-lg max-w-3xl w-full max-h-[calc(100vh-2rem)] overflow-hidden",{"opacity-75":f(C)}])},[r("div",{class:"px-6 py-4 border-b border-blue-200 dark:border-blue-700 flex items-center"},[K[9]||(K[9]=r("div",{class:"flex-grow"},[r("h2",{class:"text-xl font-bold text-blue-800 dark:text-blue-300"}," Quest Queue "),r("div",{class:"text-sm text-blue-600 dark:text-blue-400 mt-1"}," Manage your upcoming quests ")],-1)),r("button",{class:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors","aria-label":"Close modal",onClick:W},K[8]||(K[8]=[r("svg",{class:"w-5 h-5 text-slate-500 dark:text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),r("div",lk,[r("div",ik,[K[11]||(K[11]=r("div",null,[r("h3",{class:"font-medium text-blue-800 dark:text-blue-300"},"Auto-start next quest"),r("p",{class:"text-sm text-blue-600 dark:text-blue-400"}," Automatically start the next quest in queue when the current one completes ")],-1)),r("label",uk,[r("input",{type:"checkbox",checked:f(d),onChange:K[0]||(K[0]=(...fe)=>f(c)&&f(c)(...fe)),class:"sr-only peer"},null,40,ck),K[10]||(K[10]=r("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])]),f(a)?(p(),g("div",dk,K[12]||(K[12]=[r("div",{class:"i-heroicons-queue-list text-blue-400 dark:text-blue-500 w-12 h-12 mx-auto mb-3"},null,-1),r("h3",{class:"text-lg font-medium text-gray-700 dark:text-gray-300 mb-2"},"No quests in queue",-1),r("p",{class:"text-gray-500 dark:text-gray-400"}," Add quests to the queue from the available quests tab ",-1)]))):(p(),g("div",mk,[r("h3",pk," Queued quests ("+v(f(n))+") ",1),r("ul",fk,[(p(!0),g($e,null,Te(f(o),(fe,we)=>(p(),g("li",{key:we,class:ee(["quest-queue-item bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",{"opacity-50":f(h)===we}]),draggable:!f(_),onDragstart:Se=>!f(_)&&f(m)(we),onDragend:K[1]||(K[1]=Se=>!f(_)&&f(b)),onDragover:K[2]||(K[2]=Ye(()=>{},["prevent"])),onDragenter:K[3]||(K[3]=Ye(()=>{},["prevent"])),onDrop:Se=>!f(_)&&f(x)(we),onTouchstart:Se=>!f(_)&&I(we,Se,fe.id),onTouchmove:K[4]||(K[4]=Se=>!f(_)&&U(Se)),onTouchend:K[5]||(K[5]=Se=>!f(_)&&q(Se))},[r("div",vk,[f(_)?(p(),g("div",hk,[r("button",{class:ee(["text-gray-400 hover:text-blue-500 p-0.5",{"opacity-30 cursor-not-allowed":we===0}]),onClick:Ye(Se=>X(we),["stop"]),disabled:we===0},K[14]||(K[14]=[r("div",{class:"i-heroicons-chevron-up w-4 h-4"},null,-1)]),10,xk),r("button",{class:ee(["text-gray-400 hover:text-blue-500 p-0.5",{"opacity-30 cursor-not-allowed":we===f(o).length-1}]),onClick:Ye(Se=>j(we),["stop"]),disabled:we===f(o).length-1},K[15]||(K[15]=[r("div",{class:"i-heroicons-chevron-down w-4 h-4"},null,-1)]),10,yk)])):(p(),g("div",bk,K[13]||(K[13]=[r("div",{class:"i-heroicons-bars-3 w-5 h-5"},null,-1)]))),r("div",kk,v(we+1),1),r("div",_k,[r("h4",wk,v(fe.title),1),r("p",$k,v(P(fe)),1)]),r("div",Ck,[fe.goals&&fe.goals.length===1?(p(),g("span",Sk,v(y(fe.goals[0].type)),1)):(p(),g("span",Ak,v(fe.goals.length)+" Goals ",1))]),r("button",{onClick:Se=>f(i)(fe.id),class:"ml-2 p-1.5 rounded-full text-gray-500 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20"},K[16]||(K[16]=[r("div",{class:"i-heroicons-trash w-4 h-4"},null,-1)]),8,Ek)])],42,gk))),128))]),r("div",Mk,[r("button",{onClick:K[6]||(K[6]=(...fe)=>f(u)&&f(u)(...fe)),class:"px-3 py-1.5 bg-red-100 hover:bg-red-200 dark:bg-red-900/30 dark:hover:bg-red-800/50 text-red-700 dark:text-red-300 text-sm rounded-md transition-colors flex items-center"},K[17]||(K[17]=[r("span",{class:"i-heroicons-trash mr-1"},null,-1),Y(" Clear Queue ")]))])]))]),r("div",{class:"px-6 py-4 border-t border-blue-200 dark:border-blue-700 flex justify-end"},[r("button",{class:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md transition-colors font-medium",onClick:W}," Close ")])],2)],32)):G("",!0)]),_:1}))}}),Tk=We(Pk,[["__scopeId","data-v-fd152783"]]),Lk={class:"space-y-4"},Ik={key:0,class:"space-y-3"},Fk={class:"bg-gradient-to-br from-amber-50 to-amber-100/50 dark:from-amber-900/30 dark:to-amber-800/20 rounded-lg shadow-lg p-4 border border-amber-200/50 dark:border-amber-700/30"},Uk={class:"text-xl font-bold text-amber-800 dark:text-amber-300 mb-2"},Rk={class:"text-amber-700 dark:text-amber-400 mb-4"},Dk={class:"mb-4"},qk={class:"flex justify-between text-sm mb-1"},Nk={class:"text-amber-700 dark:text-amber-400 font-medium"},Ok={class:"w-full bg-amber-200 dark:bg-amber-700/50 rounded-full h-3"},Bk={key:0,class:"space-y-4"},Qk={class:"flex justify-between text-sm"},jk={class:"text-amber-700 dark:text-amber-400"},Hk={class:"text-amber-700 dark:text-amber-400"},Gk={class:"w-full bg-amber-200 dark:bg-amber-700/50 rounded-full h-2.5"},Vk={class:"mt-6 bg-amber-50/50 dark:bg-amber-900/20 p-3 rounded-md border border-amber-200/30 dark:border-amber-700/30"},Wk={class:"space-y-2"},zk={class:"w-5 h-5 mr-2 rounded-full bg-amber-200 dark:bg-amber-700/50 flex items-center justify-center text-xs text-amber-700 dark:text-amber-300"},Xk={class:"mb-4"},Kk={class:"flex border-b border-gray-200 dark:border-gray-700"},Yk={class:"flex flex-wrap gap-2 mt-3 justify-between"},Jk={key:0,class:"ml-1 w-5 h-5 flex items-center justify-center rounded-full bg-indigo-200 dark:bg-indigo-800 text-indigo-800 dark:text-indigo-300 text-xs"},Zk={class:"flex gap-2"},e2={key:0,class:"ml-1 w-5 h-5 flex items-center justify-center rounded-full bg-blue-200 dark:bg-blue-800 text-blue-800 dark:text-blue-300 text-xs"},t2=["title"],r2={class:"flex gap-1 items-center"},o2={class:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-0.5"},s2={key:1,class:"bg-gray-50 dark:bg-gray-800/50 p-4 rounded-lg border border-gray-200 dark:border-gray-700 mb-4"},n2={class:"flex flex-col gap-4"},a2={class:"w-full"},l2={class:"relative rounded-md shadow-sm"},i2={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},u2={class:"w-full"},c2=["value"],d2=["value"],m2=["value"],p2=["value"],f2={class:"w-full"},g2=["value"],v2=["value"],b2=["value"],h2=["value"],x2=["value"],y2=["value"],k2={class:"w-full"},_2={class:"inline-flex items-center text-sm"},w2={class:"w-full"},$2=["value"],C2=["value"],S2=["value"],A2=["value"],E2=["value"],M2={class:"flex justify-end mt-2"},P2={key:2,class:"space-y-3"},T2={key:0,class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-700/50"},L2={class:"text-blue-700 dark:text-blue-400"},I2={key:1,class:"space-y-4"},F2={class:"text-lg font-semibold mb-2 flex items-center"},U2={class:"ml-2 px-2 py-0.5 rounded-full text-xs bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-300"},R2={key:0,class:"ml-2 text-sm text-gray-500 dark:text-gray-400"},D2={class:"bg-blue-50 dark:bg-blue-900/20 px-4 py-2 border-b border-blue-100 dark:border-blue-800 flex justify-between items-center"},q2={class:"flex items-center"},N2={class:"font-semibold text-blue-800 dark:text-blue-300"},O2={key:0,class:"px-2 py-0.5 rounded-full text-xs bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-300"},B2={key:1,class:"px-2 py-0.5 rounded-full text-xs bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-300"},Q2={class:"p-4 space-y-3"},j2={key:0,class:"text-gray-700 dark:text-gray-300 text-sm"},H2={class:"bg-gray-50 dark:bg-gray-700/50 rounded-md p-2 text-sm space-y-2"},G2={key:0,class:"flex justify-between items-center"},V2={class:"text-gray-700 dark:text-gray-300"},W2={key:1},z2={class:"space-y-1 pl-5"},X2={class:"flex items-start"},K2={class:"w-4 h-4 mr-1.5 mt-0.5 rounded-full bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center text-xs text-blue-600 dark:text-blue-400 flex-shrink-0"},Y2={key:1,class:"text-sm text-gray-600 dark:text-gray-400"},J2={key:2,class:"space-y-1"},Z2={class:"ml-4 space-y-2"},e_={class:"w-4 h-4 mr-2 rounded-full bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center text-xs text-blue-600 dark:text-blue-400"},t_={class:"text-gray-600 dark:text-gray-400"},r_={class:"flex gap-2 mt-2"},o_=["onClick","disabled"],s_={key:0,class:"i-heroicons-play mr-1"},n_={key:1,class:"i-heroicons-clock mr-1"},a_=["onClick","disabled"],l_={key:3,class:"space-y-3"},i_={key:0,class:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200 dark:border-green-700/50"},u_={class:"text-green-700 dark:text-green-400"},c_={key:1,class:"space-y-4"},d_={class:"text-lg font-semibold mb-2 flex items-center"},m_={class:"ml-2 px-2 py-0.5 rounded-full text-xs bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-300"},p_={key:0,class:"ml-2 text-sm text-gray-500 dark:text-gray-400"},f_={class:"bg-green-50 dark:bg-green-900/20 px-4 py-2 border-b border-green-100 dark:border-green-800 flex justify-between items-center"},g_={class:"flex items-center"},v_={class:"font-semibold text-green-800 dark:text-green-300"},b_={class:"flex items-center"},h_={key:0,class:"px-2 py-0.5 rounded-full text-xs bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-300 mr-2"},x_={key:1,class:"px-2 py-0.5 rounded-full text-xs bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-300 mr-2"},y_={class:"p-4 space-y-3"},k_={key:0,class:"text-gray-700 dark:text-gray-300 text-sm"},__={class:"bg-green-50 dark:bg-green-900/20 rounded-md p-2 text-sm space-y-2"},w_={key:0,class:"mt-1 pl-5"},$_={class:"space-y-1"},C_={class:"flex items-start"},S_={key:1,class:"text-sm text-gray-600 dark:text-gray-400"},A_={key:2,class:"space-y-1"},E_={class:"ml-4 space-y-2"},M_={class:"w-4 h-4 mr-2 rounded-full bg-green-100 dark:bg-green-900/50 flex items-center justify-center text-xs text-green-600 dark:text-green-400"},P_={class:"text-gray-600 dark:text-gray-400"},T_={key:4,class:"mt-8 border-t pt-4 border-gray-200 dark:border-gray-700"},L_={class:"flex gap-2"},ud=Ie({__name:"QuestTabContent",setup(e){const t=ht();St();const{showToast:o}=Ot(),n=Ve(),{isFilterPanelOpen:a,searchQuery:l,sortOption:i,filterQuestType:u,filterRewardType:c,hasActiveFilters:d,activeFilterCount:m,setQuestTypeFilter:b,setRewardTypeFilter:x,setSortOption:h,clearAllFilters:C,QuestType:w,RewardType:M,QuestSortOption:S,showTooStrongBugs:_,filteredQuestsByStrength:y}=nk(),{queueLength:P,isQueueEmpty:I,openQueueModal:U,addToQueue:q,addAllToQueue:k}=id(),W=F=>{if(!F.goals||F.goals.length===0)return!1;for(const E of F.goals)E.type===w.KILL_BUGS&&E.target;return!0},le=L(()=>y.value.filter(F=>W(F))),X=F=>{t.activeTab=F},j=F=>{t.startQuest(F)},T=F=>{const N=F.target.value||null;b(N)},K=F=>{const N=F.target.value||null;x(N)},fe=F=>{const N=F.target.value;h(N)},we=F=>{switch(F){case w.KILL_BUGS:return"Kill Bugs";case w.COLLECT_FOOD:return"Collect Food";case w.COLLECT_PHEROMONE:return"Collect Pheromone";default:return"Unknown"}},Se=F=>{if(!F.goals||F.goals.length===0)return"No requirements";if(F.goals.length===1){const E=F.goals[0];switch(E.type){case w.KILL_BUGS:return`Kill ${ue(E.requiredAmount)} ${E.target||"bugs"}`;case w.COLLECT_FOOD:return`Collect ${ue(E.requiredAmount)} food`;case w.COLLECT_PHEROMONE:return`Collect ${ue(E.requiredAmount)} pheromone essence`;default:return"Unknown requirement"}}return`Complete ${F.goals.length} objectives`},pe=F=>{if((!(F.requiredAmount instanceof he)||!(F.currentAmount instanceof he))&&(Gc("Invalid goal amounts - not Decimal instances",{current:F.currentAmount,required:F.requiredAmount}),F.currentAmount=s(F.currentAmount||0),F.requiredAmount=s(F.requiredAmount||0)),F.requiredAmount.eq(0))return 100;try{const E=F.currentAmount.div(F.requiredAmount);return Math.min(100,Math.floor(E.toNumber()*100))}catch(E){return console.error("Error calculating goal progress percentage:",E),0}},ce=F=>{if(!F.goals||F.goals.length===0)return 0;const N=F.goals.map(me=>pe(me)).reduce((me,ie)=>me+ie,0);return Math.floor(N/F.goals.length)},ke=F=>{const E=typeof F.value=="string"?new he(F.value):F.value instanceof he?F.value:new he(F.value);switch(F.type){case M.ITEM:return`${F.quantity||1}x ${F.value}`;case M.FOOD:return`${ue(E)} Food`;case M.PHEROMONE:return`${ue(E)} Pheromone Essence`;case M.EP:return`${ue(E)} Evolution Points`;case M.MULTIPLIER:const N=F.target==="global"?"Global Production":F.target;return`${F.value}x ${N} multiplier permanently`;default:return"Unknown reward"}},ue=F=>ge(new he(F),2),Z=B(null),de=B(null);De(()=>t.activeQuest,(F,E)=>{E&&(Z.value=E.id,de.value=E.title),E&&!F&&Z.value&&t.completedQuests.some(me=>me.id===Z.value)&&console.log("Quest completed!",Z.value),Z.value=(F==null?void 0:F.id)||null,de.value=(F==null?void 0:F.title)||null},{immediate:!0});const oe=L(()=>t.gridDensity==="compact"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4":"space-y-4"),te=L(()=>n.getUpgradeCount("unlockQueueAll").gt(0)),ae=()=>{if(te.value){const F=le.value.map(E=>E.id);k(F)}else o('Unlock "Mass Quest Queueing" in the Evolution tab to queue all quests at once',"info")};return(F,E)=>(p(),g($e,null,[r("div",Lk,[f(t).activeQuest?(p(),g("div",Ik,[E[15]||(E[15]=ct('<div class="flex items-center justify-between"><h3 class="text-lg font-semibold flex items-center"><span class="i-heroicons-play text-amber-600 dark:text-amber-400 mr-2"></span> Active Quest </h3><span class="px-2.5 py-1 rounded-full text-xs bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-300 flex items-center"><span class="i-heroicons-clock-solid mr-1"></span> In Progress </span></div>',1)),r("div",Fk,[r("h3",Uk,v(f(t).activeQuest.title),1),r("p",Rk,v(f(t).activeQuest.description),1),r("div",Dk,[r("div",qk,[E[11]||(E[11]=r("span",{class:"text-amber-700 dark:text-amber-400 font-medium"},"Overall Progress",-1)),r("span",Nk,v(ce(f(t).activeQuest))+"%",1)]),r("div",Ok,[r("div",{class:"h-3 rounded-full bg-amber-500 dark:bg-amber-500",style:je({width:`${ce(f(t).activeQuest)}%`})},null,4)])]),f(t).activeQuest.goals?(p(),g("div",Bk,[(p(!0),g($e,null,Te(f(t).activeQuest.goals,(N,me)=>(p(),g("div",{key:me,class:"space-y-2"},[r("div",Qk,[r("span",jk,[E[12]||(E[12]=r("span",{class:"i-heroicons-flag mr-1 inline-block"},null,-1)),Y(" "+v(N.description||we(N.type)+" Progress"),1)]),r("span",Hk,v(ue(N.currentAmount))+" / "+v(ue(N.requiredAmount)),1)]),r("div",Gk,[r("div",{class:ee(["h-2.5 rounded-full",{"bg-blue-600 dark:bg-blue-500":N.type===f(w).COLLECT_FOOD,"bg-green-600 dark:bg-green-500":N.type===f(w).COLLECT_PHEROMONE,"bg-red-600 dark:bg-red-500":N.type===f(w).KILL_BUGS,"bg-amber-600 dark:bg-amber-500":N.type!==f(w).COLLECT_FOOD&&N.type!==f(w).COLLECT_PHEROMONE&&N.type!==f(w).KILL_BUGS}]),style:je({width:`${pe(N)}%`})},null,6)])]))),128))])):G("",!0),r("div",Vk,[E[13]||(E[13]=r("h4",{class:"text-lg font-semibold text-amber-800 dark:text-amber-300 mb-2"},"Rewards:",-1)),r("ul",Wk,[(p(!0),g($e,null,Te(f(t).activeQuest.rewards,(N,me)=>(p(),g("li",{key:me,class:"flex items-center text-amber-700 dark:text-amber-400"},[r("span",zk,v(me+1),1),Y(" "+v(ke(N)),1)]))),128))])]),r("button",{onClick:E[0]||(E[0]=N=>f(t).cancelQuest()),class:"mt-4 px-4 py-2 bg-red-100 hover:bg-red-200 dark:bg-red-900/50 dark:hover:bg-red-800/70 text-red-700 dark:text-red-300 rounded focus:outline-none transition-colors duration-200 flex items-center justify-center"},E[14]||(E[14]=[r("span",{class:"i-heroicons-x-mark mr-1"},null,-1),Y(" Abandon Quest ")]))]),E[16]||(E[16]=r("div",{class:"border-t border-gray-200 dark:border-gray-700 my-4"},null,-1))])):G("",!0),r("div",Xk,[r("div",Kk,[r("button",{onClick:E[1]||(E[1]=N=>X("available")),class:ee(["px-4 py-2 text-sm font-medium rounded-t-lg transition-colors duration-200",f(t).activeTab==="available"?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 border-b-2 border-blue-500":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800/50"])},E[17]||(E[17]=[r("span",{class:"i-heroicons-clipboard-document-check mr-1 inline-block"},null,-1),Y(" Available ")]),2),r("button",{onClick:E[2]||(E[2]=N=>X("completed")),class:ee(["px-4 py-2 text-sm font-medium rounded-t-lg transition-colors duration-200",f(t).activeTab==="completed"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200 border-b-2 border-green-500":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800/50"])},E[18]||(E[18]=[r("span",{class:"i-heroicons-check-badge mr-1 inline-block"},null,-1),Y(" Completed ")]),2)]),r("div",Yk,[r("button",{onClick:E[3]||(E[3]=N=>a.value=!f(a)),class:ee(["px-3 py-1.5 text-sm rounded-md transition-colors flex items-center",[f(d)?"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-300":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"]])},[E[19]||(E[19]=r("span",{class:"i-heroicons-funnel mr-1"},null,-1)),E[20]||(E[20]=r("span",null,"Filters",-1)),f(d)?(p(),g("span",Jk,v(f(m)),1)):G("",!0)],2),r("div",Zk,[r("button",{onClick:E[4]||(E[4]=(...N)=>f(U)&&f(U)(...N)),class:ee(["px-3 py-1.5 text-sm rounded-md transition-colors flex items-center",[f(I)?"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300":"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300"]])},[E[21]||(E[21]=r("span",{class:"i-heroicons-queue-list mr-1"},null,-1)),E[22]||(E[22]=r("span",null,"Queue",-1)),f(I)?G("",!0):(p(),g("span",e2,v(f(P)),1))],2),f(t).activeTab==="available"&&le.value.length>0?(p(),g("button",{key:0,onClick:ae,class:ee(["px-3 py-1.5 text-sm rounded-md transition-colors flex items-center",[te.value?"bg-green-100 hover:bg-green-200 dark:bg-green-900/30 dark:hover:bg-green-800/50 text-green-800 dark:text-green-300":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 opacity-75 cursor-not-allowed"]]),title:te.value?"Queue all filtered quests":"Unlock Mass Quest Queueing in the Evolution tab"},E[23]||(E[23]=[r("span",{class:"i-heroicons-plus-circle mr-1"},null,-1),r("span",null,"Queue All",-1)]),10,t2)):G("",!0)]),r("div",r2,[E[26]||(E[26]=r("span",{class:"text-xs text-gray-600 dark:text-gray-400"},"Layout:",-1)),r("div",o2,[r("button",{onClick:E[5]||(E[5]=N=>f(t).gridDensity="compact"),class:ee(["px-2 py-1 text-xs rounded-md transition-colors",f(t).gridDensity==="compact"?"bg-white dark:bg-gray-600 text-gray-800 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white"]),title:"Compact View"},E[24]||(E[24]=[r("div",{class:"i-heroicons-table-cells-solid w-3.5 h-3.5"},null,-1)]),2),r("button",{onClick:E[6]||(E[6]=N=>f(t).gridDensity="comfortable"),class:ee(["px-2 py-1 text-xs rounded-md transition-colors",f(t).gridDensity==="comfortable"?"bg-white dark:bg-gray-600 text-gray-800 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white"]),title:"Comfortable View"},E[25]||(E[25]=[r("div",{class:"i-heroicons-squares-2x2-solid w-3.5 h-3.5"},null,-1)]),2)])])])]),f(a)?(p(),g("div",s2,[r("div",n2,[r("div",a2,[E[28]||(E[28]=r("label",{for:"searchQuests",class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Search",-1)),r("div",l2,[E[27]||(E[27]=r("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[r("span",{class:"i-heroicons-magnifying-glass text-gray-400 dark:text-gray-500"})],-1)),tt(r("input",{id:"searchQuests","onUpdate:modelValue":E[7]||(E[7]=N=>ze(l)?l.value=N:null),type:"text",class:"block w-full py-1.5 pl-10 pr-3 text-sm placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-500 dark:focus:border-blue-500 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Search quests..."},null,512),[[oo,f(l)]])])]),r("div",i2,[r("div",u2,[E[30]||(E[30]=r("label",{for:"questTypeFilter",class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Quest Type",-1)),r("select",{id:"questTypeFilter",value:f(u),onChange:T,class:"block w-full py-1.5 px-3 text-sm rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-500 dark:focus:border-blue-500"},[E[29]||(E[29]=r("option",{value:""},"All Types",-1)),r("option",{value:f(w).KILL_BUGS},v(we(f(w).KILL_BUGS)),9,d2),r("option",{value:f(w).COLLECT_FOOD},v(we(f(w).COLLECT_FOOD)),9,m2),r("option",{value:f(w).COLLECT_PHEROMONE},v(we(f(w).COLLECT_PHEROMONE)),9,p2)],40,c2)]),r("div",f2,[E[32]||(E[32]=r("label",{for:"rewardTypeFilter",class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Reward Type",-1)),r("select",{id:"rewardTypeFilter",value:f(c),onChange:K,class:"block w-full py-1.5 px-3 text-sm rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-500 dark:focus:border-blue-500"},[E[31]||(E[31]=r("option",{value:""},"All Rewards",-1)),r("option",{value:f(M).FOOD},"Food",8,v2),r("option",{value:f(M).PHEROMONE},"Pheromone Essence",8,b2),r("option",{value:f(M).EP},"Evolution Points",8,h2),r("option",{value:f(M).ITEM},"Items",8,x2),r("option",{value:f(M).MULTIPLIER},"Multipliers",8,y2)],40,g2)]),r("div",k2,[r("label",_2,[tt(r("input",{type:"checkbox","onUpdate:modelValue":E[8]||(E[8]=N=>ze(_)?_.value=N:null),class:"rounded text-blue-600 focus:ring-blue-500 h-4 w-4 border-gray-300 dark:border-gray-600"},null,512),[[Mt,f(_)]]),E[33]||(E[33]=r("span",{class:"ml-2 text-gray-700 dark:text-gray-300"},"Show Too Strong Bug Quests",-1))]),E[34]||(E[34]=r("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"}," If unchecked, only shows quests with bug targets you can defeat ",-1))]),r("div",w2,[E[35]||(E[35]=r("label",{for:"sortOption",class:"block text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Sort By",-1)),r("select",{id:"sortOption",value:f(i),onChange:fe,class:"block w-full py-1.5 px-3 text-sm rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-500 dark:focus:border-blue-500"},[r("option",{value:f(S).DEFAULT},"Default",8,C2),r("option",{value:f(S).ALPHABETICAL},"Alphabetical (A-Z)",8,S2),r("option",{value:f(S).GOAL_TYPE},"Goal Type",8,A2),r("option",{value:f(S).REWARD_TYPE},"Reward Type",8,E2)],40,$2)])]),r("div",M2,[r("button",{onClick:E[9]||(E[9]=(...N)=>f(C)&&f(C)(...N)),class:"px-3 py-1.5 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 text-sm rounded-md transition-colors flex items-center"},E[36]||(E[36]=[r("span",{class:"i-heroicons-backspace mr-1"},null,-1),Y(" Clear All Filters ")]))])])])):G("",!0),f(t).activeTab==="available"?(p(),g("div",P2,[le.value.length===0?(p(),g("div",T2,[E[37]||(E[37]=r("h3",{class:"text-lg font-semibold text-blue-800 dark:text-blue-300 mb-2"},"Available Quests",-1)),r("p",L2,v(f(d)?"No available quests match your current filters. Try adjusting your filters or check back later!":"There are no available quests at the moment. Check back later!"),1)])):(p(),g("div",I2,[r("h3",F2,[E[38]||(E[38]=r("span",{class:"i-heroicons-clipboard-document-list text-blue-600 dark:text-blue-400 mr-2"},null,-1)),E[39]||(E[39]=Y(" Available Quests ")),r("span",U2,v(le.value.length),1),f(d)?(p(),g("span",R2," (filtered from "+v(f(t).availableQuests.length)+") ",1)):G("",!0)]),r("div",{class:ee(oe.value)},[(p(!0),g($e,null,Te(le.value,N=>(p(),g("div",{key:N.id,class:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 overflow-hidden h-full"},[r("div",D2,[r("div",q2,[E[40]||(E[40]=r("span",{class:"i-heroicons-clipboard-document-list text-blue-600 dark:text-blue-400 mr-2"},null,-1)),r("h4",N2,v(N.title),1)]),N.goals&&N.goals.length===1?(p(),g("span",O2,v(we(N.goals[0].type)),1)):(p(),g("span",B2,v(N.goals.length)+" Goals ",1))]),r("div",Q2,[f(t).gridDensity!=="compact"?(p(),g("p",j2,v(N.description),1)):G("",!0),r("div",H2,[N.goals&&N.goals.length===1?(p(),g("div",G2,[r("span",V2,[E[41]||(E[41]=r("span",{class:"i-heroicons-flag mr-1 inline-block"},null,-1)),Y(" Goal: "+v(Se(N)),1)])])):N.goals&&N.goals.length>1?(p(),g("div",W2,[E[42]||(E[42]=r("div",{class:"flex items-center mb-1"},[r("span",{class:"i-heroicons-flag mr-1 inline-block text-gray-700 dark:text-gray-300"}),r("span",{class:"text-gray-700 dark:text-gray-300 font-medium"},"Multiple Goals:")],-1)),r("ul",z2,[(p(!0),g($e,null,Te(N.goals,(me,ie)=>(p(),g("li",{key:ie,class:"text-gray-600 dark:text-gray-400"},[r("span",X2,[r("span",K2,v(ie+1),1),r("span",null,v(me.description||(me.type===f(w).KILL_BUGS?`Defeat ${ue(me.requiredAmount)} ${me.target||"bugs"}`:me.type===f(w).COLLECT_FOOD?`Collect ${ue(me.requiredAmount)} food`:`Collect ${ue(me.requiredAmount)} pheromone essence`)),1)])]))),128))])])):G("",!0)]),f(t).gridDensity==="compact"?(p(),g("div",Y2,[E[43]||(E[43]=r("span",{class:"font-medium"},"Rewards:",-1)),Y(" "+v(N.rewards.length)+" item(s) ",1)])):(p(),g("div",J2,[E[44]||(E[44]=r("h5",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Rewards:",-1)),r("ul",Z2,[(p(!0),g($e,null,Te(N.rewards,(me,ie)=>(p(),g("li",{key:ie,class:"flex items-center text-sm"},[r("span",e_,v(ie+1),1),r("span",t_,v(ke(me)),1)]))),128))])])),r("div",r_,[r("button",{onClick:me=>j(N.id),class:ee(["flex-1 py-1.5 text-white rounded-md transition-colors duration-200 flex items-center justify-center",f(t).activeQuest!==null?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"]),disabled:f(t).activeQuest!==null},[f(t).activeQuest===null?(p(),g("span",s_)):(p(),g("span",n_)),Y(" "+v(f(t).activeQuest===null?"Start Quest":"Complete Active Quest First"),1)],10,o_),r("button",{onClick:me=>f(q)(N.id),class:ee(["px-3 py-1.5 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-md transition-colors flex items-center justify-center",{"opacity-50 cursor-not-allowed":f(t).questQueue.includes(N.id)}]),disabled:f(t).questQueue.includes(N.id)},[E[45]||(E[45]=r("span",{class:"i-heroicons-queue-list mr-1"},null,-1)),Y(" "+v(f(t).questQueue.includes(N.id)?"In Queue":"Queue"),1)],10,a_)])])]))),128))],2)]))])):f(t).activeTab==="completed"?(p(),g("div",l_,[f(t).filteredCompletedQuests.length===0?(p(),g("div",i_,[E[46]||(E[46]=r("h3",{class:"text-lg font-semibold text-green-800 dark:text-green-300 mb-2"},"Completed Quests",-1)),r("p",u_,v(f(d)?"No completed quests match your current filters. Try adjusting your filters or complete some quests to see them here!":"You haven't completed any quests yet. Start some quests and finish them to see them here!"),1)])):(p(),g("div",c_,[r("h3",d_,[E[47]||(E[47]=r("span",{class:"i-heroicons-check-badge text-green-600 dark:text-green-400 mr-2"},null,-1)),E[48]||(E[48]=Y(" Completed Quests ")),r("span",m_,v(f(t).filteredCompletedQuests.length),1),f(d)?(p(),g("span",p_," (filtered from "+v(f(t).completedQuests.length)+") ",1)):G("",!0)]),r("div",{class:ee(oe.value)},[(p(!0),g($e,null,Te(f(t).filteredCompletedQuests,N=>(p(),g("div",{key:N.id,class:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 overflow-hidden h-full"},[r("div",f_,[r("div",g_,[E[49]||(E[49]=r("span",{class:"i-heroicons-check-badge text-green-600 dark:text-green-400 mr-2"},null,-1)),r("h4",v_,v(N.title),1)]),r("div",b_,[N.goals&&N.goals.length===1?(p(),g("span",h_,v(we(N.goals[0].type)),1)):(p(),g("span",x_,v(N.goals.length)+" Goals ",1)),E[50]||(E[50]=r("span",{class:"i-heroicons-check-circle text-green-500 dark:text-green-400"},null,-1))])]),r("div",y_,[f(t).gridDensity!=="compact"?(p(),g("p",k_,v(N.description),1)):G("",!0),r("div",__,[E[52]||(E[52]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-check-circle text-green-600 dark:text-green-400 mr-1"}),r("span",{class:"text-green-700 dark:text-green-300"},"Completed")],-1)),N.goals&&N.goals.length>1&&f(t).gridDensity!=="compact"?(p(),g("div",w_,[r("ul",$_,[(p(!0),g($e,null,Te(N.goals,(me,ie)=>(p(),g("li",{key:ie,class:"text-gray-600 dark:text-gray-400 text-xs"},[r("span",C_,[E[51]||(E[51]=r("span",{class:"w-3.5 h-3.5 mr-1 mt-0.5 rounded-full bg-green-100 dark:bg-green-900/50 flex items-center justify-center text-xs text-green-600 dark:text-green-400 flex-shrink-0"},"  ",-1)),r("span",null,v(me.description||(me.type===f(w).KILL_BUGS?`Defeated ${ue(me.requiredAmount)} ${me.target||"bugs"}`:me.type===f(w).COLLECT_FOOD?`Collected ${ue(me.requiredAmount)} food`:`Collected ${ue(me.requiredAmount)} pheromone essence`)),1)])]))),128))])])):G("",!0)]),f(t).gridDensity==="compact"?(p(),g("div",S_,[E[53]||(E[53]=r("span",{class:"font-medium"},"Rewards:",-1)),Y(" "+v(N.rewards.length)+" item(s) ",1)])):(p(),g("div",A_,[E[54]||(E[54]=r("h5",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Rewards:",-1)),r("ul",E_,[(p(!0),g($e,null,Te(N.rewards,(me,ie)=>(p(),g("li",{key:ie,class:"flex items-center text-sm"},[r("span",M_,v(ie+1),1),r("span",P_,v(ke(me)),1)]))),128))])]))])]))),128))],2)]))])):G("",!0),f(Ua)()?(p(),g("div",T_,[E[55]||(E[55]=r("h3",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2"},"Development Tools",-1)),r("div",L_,[r("button",{onClick:E[10]||(E[10]=N=>f(t).resetQuests()),class:"px-3 py-1 bg-red-100 hover:bg-red-200 dark:bg-red-900/40 dark:hover:bg-red-800/60 text-red-800 dark:text-red-300 text-xs rounded-md transition-colors"}," Reset All Quests ")])])):G("",!0),Ee(ao,{threshold:400})]),Ee(Tk)],64))}}),I_={class:"overflow-y-auto flex-grow min-h-0 touch-auto"},F_={class:"flex justify-between items-center mt-2"},U_={class:"flex items-center space-x-2"},R_={class:"w-32 bg-gray-200 dark:bg-gray-700 rounded-full h-2.5"},D_={class:"bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg mb-4"},q_={class:"flex justify-between mb-2"},N_={class:"font-bold text-purple-800 dark:text-purple-300"},O_={class:"flex justify-between"},B_={class:"font-bold text-purple-800 dark:text-purple-300"},Q_={class:"flex justify-between mb-2"},j_={class:"font-bold text-purple-800 dark:text-purple-300"},H_={class:"flex justify-between"},G_={class:"font-bold text-purple-800 dark:text-purple-300"},V_={key:0,class:"bg-amber-50 dark:bg-amber-900/20 p-3 rounded-lg mb-4 border border-amber-300 dark:border-amber-700"},W_={class:"flex items-start"},z_={class:"text-sm text-amber-600 dark:text-amber-400"},X_={class:"flex-shrink-0 flex justify-between gap-3 mt-4"},K_=["disabled"],Y_={key:0,class:"inline-block animate-pulse"},J_={key:1},Z_=Ie({__name:"AscensionConfirmationModal",props:{isClosing:{type:Boolean},isAscending:{type:Boolean},isAscensionRecommended:{type:Boolean},formattedAscensionMultiplier:{},formattedNextAscensionMultiplier:{}},emits:["close","ascend"],setup(e,{emit:t}){const o=gt(),{questCompletionPercentage:n,canAscend:a,ascensionLockExplanation:l}=Na(),i=t,u=c=>{var d;c.target&&((d=c.target.dataset)==null?void 0:d.modalBackdrop)==="true"&&c.preventDefault()};return(c,d)=>(p(),g("div",{class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-2 sm:p-4",onTouchmove:u,"data-modal-backdrop":"true"},[r("div",{class:ee(["bg-white dark:bg-gray-800 rounded-xl p-4 sm:p-6 max-w-md w-full mx-auto my-4 shadow-xl border border-purple-200 dark:border-purple-700 max-h-[90vh] flex flex-col transition-all duration-250 overflow-hidden",{"opacity-0 scale-95":c.isClosing}]),onTouchmove:d[2]||(d[2]=Ye(()=>{},["stop"]))},[d[11]||(d[11]=ct('<div class="flex-shrink-0"><div class="text-center mb-4"><span class="inline-block p-3 bg-purple-100 dark:bg-purple-900/30 rounded-full text-purple-600 dark:text-purple-400"><span class="i-heroicons-arrow-up-circle text-2xl"></span></span></div><h3 class="text-xl font-bold text-center text-purple-800 dark:text-purple-300 mb-2">Ascension Confirmation</h3><p class="text-gray-600 dark:text-gray-300 mb-4 text-center"> Ascending will reset your <span class="font-bold text-purple-600 dark:text-purple-400">Mega Ant levels and experience, Evolution Points, and colony progress</span>, but <span class="font-bold text-purple-600 dark:text-purple-400">all Mega Ant upgrades and Adventure features will be preserved</span>. This allows you to progress faster in subsequent runs. </p></div>',1)),r("div",I_,[r("div",{class:ee(["bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg mb-4",{"border border-red-300 dark:border-red-700":!f(a)}])},[r("h4",{class:ee(["font-semibold",f(a)?"text-blue-800 dark:text-blue-300":"text-red-600 dark:text-red-400"])}," Quest Requirement ",2),r("div",F_,[r("span",{class:ee(f(a)?"text-blue-700 dark:text-blue-300":"text-red-600 dark:text-red-400")}," Quest Completion: ",2),r("div",U_,[r("div",R_,[r("div",{class:ee(["h-2.5 rounded-full",f(a)?"bg-blue-600 dark:bg-blue-500":"bg-amber-500 dark:bg-amber-600"]),style:je({width:`${Math.min(f(n),100)}%`})},null,6)]),r("span",{class:ee(["text-sm font-medium",f(a)?"text-blue-700 dark:text-blue-300":"text-amber-600 dark:text-amber-400"])},v(Math.floor(f(n)))+"% ",3)])]),r("p",{class:ee(["text-sm mt-2",f(a)?"text-blue-600 dark:text-blue-400":"text-red-500 dark:text-red-400"])},v(f(a)?"Requirement met!":f(l)),3)],2),r("div",D_,[r("div",q_,[d[3]||(d[3]=r("span",{class:"text-purple-700 dark:text-purple-300"},"Current Ascension:",-1)),r("span",N_,v(f(o).ascensionCount),1)]),r("div",O_,[d[4]||(d[4]=r("span",{class:"text-purple-700 dark:text-purple-300"},"After Ascension:",-1)),r("span",B_,v(f(o).ascensionCount+1),1)]),d[7]||(d[7]=r("div",{class:"border-t border-purple-200 dark:border-purple-700/30 my-2"},null,-1)),r("div",Q_,[d[5]||(d[5]=r("span",{class:"text-purple-700 dark:text-purple-300"},"Current Bonus:",-1)),r("span",j_,v(c.formattedAscensionMultiplier)+"x",1)]),r("div",H_,[d[6]||(d[6]=r("span",{class:"text-purple-700 dark:text-purple-300"},"Next Bonus:",-1)),r("span",G_,v(c.formattedNextAscensionMultiplier)+"x",1)])]),d[10]||(d[10]=ct('<div class="bg-green-50 dark:bg-green-900/20 p-3 rounded-lg mb-4"><h4 class="font-semibold text-green-800 dark:text-green-300 mb-2">Benefits of Ascension:</h4><ul class="text-sm text-green-700 dark:text-green-400 space-y-2"><li class="flex items-start"><span class="i-heroicons-check-circle mt-0.5 mr-1.5 text-green-600 dark:text-green-500"></span><span>Keep all your Mega Ant and Colony upgrades</span></li><li class="flex items-start"><span class="i-heroicons-check-circle mt-0.5 mr-1.5 text-green-600 dark:text-green-500"></span><span>Gain +0.25x multiplier per ascension level</span></li><li class="flex items-start"><span class="i-heroicons-check-circle mt-0.5 mr-1.5 text-green-600 dark:text-green-500"></span><span>Retain all Adventure-related features and upgrades</span></li><li class="flex items-start"><span class="i-heroicons-check-circle mt-0.5 mr-1.5 text-green-600 dark:text-green-500"></span><span>Progress much faster on subsequent runs</span></li></ul><div class="mt-3 border-t border-green-200 dark:border-green-700/30 pt-2"><h4 class="font-semibold text-amber-700 dark:text-amber-400 mb-2">What gets reset:</h4><ul class="text-sm text-amber-700 dark:text-amber-400 space-y-2"><li class="flex items-start"><span class="i-heroicons-arrow-path mt-0.5 mr-1.5 text-amber-600 dark:text-amber-500"></span><span>Evolution Points and Prestige Upgrades</span></li><li class="flex items-start"><span class="i-heroicons-arrow-path mt-0.5 mr-1.5 text-amber-600 dark:text-amber-500"></span><span>All colony progress and food production</span></li><li class="flex items-start"><span class="i-heroicons-arrow-path mt-0.5 mr-1.5 text-amber-600 dark:text-amber-500"></span><span>Mega Ant and Colony levels</span></li></ul></div></div>',1)),c.isAscensionRecommended?G("",!0):(p(),g("div",V_,[r("div",W_,[d[9]||(d[9]=r("span",{class:"i-heroicons-exclamation-triangle text-amber-500 mt-0.5 mr-2"},null,-1)),r("div",null,[d[8]||(d[8]=r("h4",{class:"font-semibold text-amber-700 dark:text-amber-300 mb-1"},"Early Ascension Warning",-1)),r("p",z_," You have only reached level "+v(f(o).level.toString())+". It's recommended to reach at least level 20 before ascending to maximize benefits. ",1)])])]))]),r("div",X_,[r("button",{onClick:d[0]||(d[0]=m=>i("close")),class:"flex-1 py-2.5 px-4 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2"}," Cancel "),r("button",{onClick:d[1]||(d[1]=m=>i("ascend")),disabled:c.isAscending||!f(a),class:ee(["flex-1 py-2.5 px-4 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50",f(a)?"bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-600 text-white focus:ring-purple-500":"bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed"])},[c.isAscending?(p(),g("span",Y_,"Ascending...")):(p(),g("span",J_,v(f(a)?"Confirm Ascension":"Cannot Ascend Yet"),1))],10,K_)])],34)],32))}}),ew={class:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4"},tw={class:"bg-amber-50 dark:bg-amber-900/20 rounded-lg p-3 overflow-y-auto max-h-40 scrollbar-hide digestion-log"},rw={key:0,class:"text-center text-gray-500 dark:text-gray-400 italic py-2"},ow={key:1,class:"space-y-2"},sw={class:"flex justify-between"},nw={class:"text-amber-800 dark:text-amber-300 font-medium"},aw={class:"text-gray-500 dark:text-gray-400"},lw={class:"text-green-600 dark:text-green-400"},iw={class:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3 overflow-y-auto max-h-40 scrollbar-hide digestion-log"},uw={key:0,class:"text-center text-gray-500 dark:text-gray-400 italic py-2"},cw={key:1,class:"space-y-2"},dw={class:"flex justify-between"},mw={class:"text-purple-800 dark:text-purple-300 font-medium"},pw={class:"text-gray-500 dark:text-gray-400"},fw={class:"text-purple-600 dark:text-purple-400"},gw=Ie({__name:"DigestionLogs",props:{formatDigestionAmount:{type:Function},formatTimestamp:{type:Function},formatXpGained:{type:Function}},setup(e){const t=gt();return(o,n)=>(p(),g("div",ew,[r("div",null,[n[0]||(n[0]=r("h4",{class:"font-medium text-amber-700 dark:text-amber-300 mb-2"},"Crop Digestion Log",-1)),r("div",tw,[f(t).decayLogs.length===0?(p(),g("div",rw," No crop digestion events yet ")):(p(),g("div",ow,[(p(!0),g($e,null,Te([...f(t).decayLogs].reverse(),(a,l)=>(p(),g("div",{key:l,class:"text-xs border-b border-amber-100 dark:border-amber-800/30 pb-1 last:border-0"},[r("div",sw,[r("span",nw," Digested "+v(o.formatDigestionAmount(a.amount))+" food ",1),r("span",aw,v(o.formatTimestamp(a.timestamp)),1)]),r("div",lw," Gained "+v(o.formatXpGained(a.xpGained))+" Mega Ant XP ",1)]))),128))]))])]),r("div",null,[n[1]||(n[1]=r("h4",{class:"font-medium text-purple-700 dark:text-purple-300 mb-2"},"True Stomach Digestion Log",-1)),r("div",iw,[f(t).pheromoneDecayLogs.length===0?(p(),g("div",uw," No essence digestion events yet ")):(p(),g("div",cw,[(p(!0),g($e,null,Te([...f(t).pheromoneDecayLogs].reverse(),(a,l)=>(p(),g("div",{key:l,class:"text-xs border-b border-purple-100 dark:border-purple-800/30 pb-1 last:border-0"},[r("div",dw,[r("span",mw," Digested "+v(o.formatDigestionAmount(a.amount))+" essence ",1),r("span",pw,v(o.formatTimestamp(a.timestamp)),1)]),r("div",fw," Gained "+v(o.formatXpGained(a.xpGained))+" Colony XP ",1)]))),128))]))])])]))}}),vw=We(gw,[["__scopeId","data-v-8eb0a0e0"]]),bw={class:"lg:hidden"},hw={class:"flex border-b border-gray-200 dark:border-gray-700 mb-4"},xw={class:"flex items-center"},yw={key:0,class:"ml-2 bg-emerald-100 dark:bg-emerald-900/50 text-emerald-800 dark:text-emerald-300 px-1.5 py-0.5 rounded-full text-xs"},kw={class:"flex items-center"},_w={key:0,class:"ml-2 bg-purple-100 dark:bg-purple-900/50 text-purple-800 dark:text-purple-300 px-1.5 py-0.5 rounded-full text-xs"},ww={key:0},$w={class:"bg-gradient-to-br from-emerald-100/50 to-emerald-50/50 dark:from-emerald-900/20 dark:to-emerald-800/10 rounded-xl p-4 shadow-md border border-emerald-200/50 dark:border-emerald-700/50 mb-4"},Cw={class:"flex items-center mb-4 p-2 bg-emerald-100/80 dark:bg-emerald-900/30 rounded-lg border border-emerald-200 dark:border-emerald-800"},Sw={class:"text-sm font-medium text-emerald-800 dark:text-emerald-300"},Aw={class:"font-bold"},Ew={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3"},Mw={class:"font-bold text-emerald-700 dark:text-emerald-400 mb-1"},Pw={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},Tw={class:"mb-3 space-y-2"},Lw={class:"flex justify-between items-center text-xs bg-amber-50 dark:bg-amber-900/20 p-1.5 rounded"},Iw={class:"font-medium text-amber-700 dark:text-amber-300"},Fw={class:"flex justify-between items-center text-xs bg-purple-50 dark:bg-purple-900/20 p-1.5 rounded"},Uw={class:"font-medium text-purple-700 dark:text-purple-300"},Rw={class:"flex justify-between items-center text-xs bg-amber-50 dark:bg-amber-900/20 p-1.5 rounded"},Dw={class:"font-medium text-amber-700 dark:text-amber-300"},qw={class:"flex justify-between items-center text-xs bg-purple-50 dark:bg-purple-900/20 p-1.5 rounded"},Nw={class:"font-medium text-purple-700 dark:text-purple-300"},Ow={class:"flex justify-between items-center text-xs bg-amber-50 dark:bg-amber-900/20 p-1.5 rounded"},Bw={class:"font-medium text-amber-700 dark:text-amber-300"},Qw={class:"flex justify-between items-center text-xs bg-purple-50 dark:bg-purple-900/20 p-1.5 rounded"},jw={class:"font-medium text-purple-700 dark:text-purple-300"},Hw={key:0,class:"mb-2"},Gw={class:"text-xs text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/20 p-1.5 rounded flex items-center"},Vw={key:0,class:"ml-1"},Ww={key:1,class:"ml-1"},zw={key:2,class:"ml-1"},Xw=["onClick","disabled"],Kw={key:0,class:"i-heroicons-check-badge mr-1"},Yw={key:1,class:"i-heroicons-sparkles mr-1"},Jw={key:1},Zw={class:"bg-gradient-to-br from-purple-100/50 to-purple-50/50 dark:from-purple-900/20 dark:to-purple-800/10 rounded-xl p-4 shadow-md border border-purple-200/50 dark:border-purple-700/50 mb-4"},e5={class:"flex items-center mb-4 p-2 bg-purple-100/80 dark:bg-purple-900/30 rounded-lg border border-purple-200 dark:border-purple-800"},t5={class:"text-sm font-medium text-purple-800 dark:text-purple-300"},r5={class:"font-bold"},o5={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3"},s5={class:"font-bold text-purple-700 dark:text-purple-400 mb-1"},n5={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},a5={class:"flex items-center justify-between text-xs bg-purple-50 dark:bg-purple-900/20 p-2 rounded mb-2"},l5={class:"font-medium text-purple-700 dark:text-purple-300 bg-purple-100 dark:bg-purple-800/40 px-2 py-0.5 rounded"},i5={class:"mb-2"},u5={class:"text-xs inline-block bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded"},c5={key:0,class:"text-blue-600 dark:text-blue-400 flex items-center"},d5={key:1,class:"text-pink-600 dark:text-pink-400 flex items-center"},m5={key:2,class:"text-teal-600 dark:text-teal-400 flex items-center"},p5={key:0,class:"mb-2"},f5={class:"text-xs text-purple-600 dark:text-purple-400 bg-purple-50 dark:bg-purple-900/20 p-1.5 rounded flex items-center"},g5={key:0,class:"ml-1"},v5={key:1,class:"ml-1"},b5={key:2,class:"ml-1"},h5=["onClick","disabled"],x5={key:0,class:"i-heroicons-check-badge mr-1"},y5={key:1,class:"i-heroicons-sparkles mr-1"},k5=Ie({__name:"MobileUpgradeTabView",props:{activeTab:{},formattedEffectiveStomachCapacity:{},formattedEffectivePheromoneStomachCapacity:{},formattedDecayEfficiencyMultiplier:{},formattedPheromoneEfficiencyMultiplier:{},formatUpgradeImprovement:{type:Function},buttonClass:{type:Function},upgradeButtonText:{type:Function},colonyButtonClass:{type:Function},colonyUpgradeButtonText:{type:Function},purchaseUpgrade:{type:Function},purchaseColonyUpgrade:{type:Function}},emits:["update:activeTab"],setup(e,{emit:t}){const o=gt(),n=t,a=l=>{n("update:activeTab",l)};return(l,i)=>(p(),g("div",bw,[r("div",hw,[r("button",{onClick:i[0]||(i[0]=u=>a("megaAnt")),class:ee(["px-4 py-2 text-sm font-medium transition-colors duration-200 relative",l.activeTab==="megaAnt"?"text-emerald-600 dark:text-emerald-400 border-b-2 border-emerald-500 dark:border-emerald-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"])},[r("div",xw,[i[2]||(i[2]=r("span",{class:"i-heroicons-arrow-trending-up mr-1.5"},null,-1)),i[3]||(i[3]=Y(" Mega Ant Upgrades ")),f(o).availableLevels>0?(p(),g("span",yw,v(f(o).availableLevels),1)):G("",!0)])],2),r("button",{onClick:i[1]||(i[1]=u=>a("colony")),class:ee(["px-4 py-2 text-sm font-medium transition-colors duration-200 relative",l.activeTab==="colony"?"text-purple-600 dark:text-purple-400 border-b-2 border-purple-500 dark:border-purple-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"])},[r("div",kw,[i[4]||(i[4]=r("span",{class:"i-heroicons-cube-transparent mr-1.5"},null,-1)),i[5]||(i[5]=Y(" Colony Upgrades ")),f(o).availableColonyLevels>0?(p(),g("span",_w,v(f(o).availableColonyLevels),1)):G("",!0)])],2)]),l.activeTab==="megaAnt"?(p(),g("div",ww,[r("div",$w,[i[17]||(i[17]=ct('<h2 class="text-lg font-bold text-emerald-700 dark:text-emerald-300 mb-2 flex items-center" data-v-3d2d2118><span class="i-heroicons-arrow-trending-up mr-2" data-v-3d2d2118></span> Mega Ant Upgrades <span class="ml-2 text-xs bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 px-2 py-0.5 rounded-full" data-v-3d2d2118> Uses Mega Ant Levels </span></h2><div class="text-sm text-emerald-600 dark:text-emerald-400 mb-4 bg-emerald-100/50 dark:bg-emerald-900/30 p-3 rounded-lg border border-emerald-200 dark:border-emerald-700/50" data-v-3d2d2118><p class="flex items-start" data-v-3d2d2118><span class="i-heroicons-light-bulb text-emerald-500 mr-2 mt-0.5" data-v-3d2d2118></span><span data-v-3d2d2118><span class="font-semibold" data-v-3d2d2118>Mega Ant upgrades affect both digestive systems.</span> Every purchase increases capacity, speed, or efficiency for both crop and true stomach. </span></p></div>',2)),r("div",Cw,[i[8]||(i[8]=r("span",{class:"i-heroicons-star text-amber-500 mr-2"},null,-1)),r("span",Sw,[i[6]||(i[6]=Y(" Available Points: ")),r("span",Aw,v(f(o).availableLevels),1),i[7]||(i[7]=r("span",{class:"text-xs ml-1"},"(Each Mega Ant level provides 1 upgrade point)",-1))])]),r("div",Ew,[(p(!0),g($e,null,Te(f(o).upgrades,u=>(p(),g("div",{key:u.id,class:"relative bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-emerald-200 dark:border-emerald-800 p-3 transition-all hover:shadow-md upgrade-card"},[r("div",{class:ee(["absolute top-2 right-2 text-xs font-medium px-1.5 py-0.5 rounded-full",f(o).isUpgradeMaxed(u.id)?"bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-300":"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-800 dark:text-emerald-300"])},v(u.level)+v(u.maxLevel?"/"+u.maxLevel:""),3),r("h3",Mw,v(u.name),1),r("p",Pw,v(u.description),1),r("div",Tw,[u.id===f(ut).STOMACH_CAPACITY?(p(),g($e,{key:0},[r("div",Lw,[i[9]||(i[9]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-arrow-path-rounded-square text-amber-500 mr-1"}),r("span",{class:"text-amber-600 dark:text-amber-400"},"Crop:")],-1)),r("span",Iw,v(l.formattedEffectiveStomachCapacity)+" units",1)]),r("div",Fw,[i[10]||(i[10]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-beaker text-purple-500 mr-1"}),r("span",{class:"text-purple-600 dark:text-purple-400"},"True Stomach:")],-1)),r("span",Uw,v(l.formattedEffectivePheromoneStomachCapacity)+" units",1)])],64)):u.id===f(ut).DECAY_RATE?(p(),g($e,{key:1},[r("div",Rw,[i[11]||(i[11]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-arrow-path-rounded-square text-amber-500 mr-1"}),r("span",{class:"text-amber-600 dark:text-amber-400"},"Crop:")],-1)),r("span",Dw,v(f(o).effectiveDecayRate.toFixed(2))+"/sec",1)]),r("div",qw,[i[12]||(i[12]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-beaker text-purple-500 mr-1"}),r("span",{class:"text-purple-600 dark:text-purple-400"},"True Stomach:")],-1)),r("span",Nw,v(f(o).effectivePheromoneDecayRate.toFixed(2))+"/sec",1)])],64)):u.id===f(ut).EFFICIENCY?(p(),g($e,{key:2},[r("div",Ow,[i[13]||(i[13]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-arrow-path-rounded-square text-amber-500 mr-1"}),r("span",{class:"text-amber-600 dark:text-amber-400"},"Mega Ant XP:")],-1)),r("span",Bw,v(l.formattedDecayEfficiencyMultiplier)+"x",1)]),r("div",Qw,[i[14]||(i[14]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-beaker text-purple-500 mr-1"}),r("span",{class:"text-purple-600 dark:text-purple-400"},"Colony XP:")],-1)),r("span",jw,v(l.formattedPheromoneEfficiencyMultiplier)+"x",1)])],64)):G("",!0)]),f(o).isUpgradeMaxed(u.id)?G("",!0):(p(),g("div",Hw,[r("div",Gw,[i[15]||(i[15]=r("span",{class:"i-heroicons-arrow-up text-emerald-500 mr-1"},null,-1)),i[16]||(i[16]=r("span",{class:"font-medium"},"Next level:",-1)),u.id===f(ut).STOMACH_CAPACITY?(p(),g("span",Vw,"+"+v(l.formatUpgradeImprovement(u.id,25))+" crop, +"+v(l.formatUpgradeImprovement(u.id,15))+" true stomach",1)):u.id===f(ut).DECAY_RATE?(p(),g("span",Ww,"+"+v(l.formatUpgradeImprovement(u.id,.2))+" & +"+v(l.formatUpgradeImprovement(u.id,.15))+" digest speed",1)):u.id===f(ut).EFFICIENCY?(p(),g("span",zw,"+"+v(l.formatUpgradeImprovement(u.id,.25))+"x XP for both systems",1)):G("",!0)])])),r("button",{onClick:c=>l.purchaseUpgrade(u.id),class:ee(["w-full py-2 px-2 text-xs rounded-md transition-colors flex items-center justify-center",l.buttonClass(u.id)]),disabled:!f(o).canUpgrade(u.id)},[f(o).isUpgradeMaxed(u.id)?(p(),g("span",Kw)):(p(),g("span",Yw)),Y(" "+v(l.upgradeButtonText(u.id)),1)],10,Xw)]))),128))])])])):G("",!0),l.activeTab==="colony"?(p(),g("div",Jw,[r("div",Zw,[i[28]||(i[28]=ct('<h2 class="text-lg font-bold text-purple-700 dark:text-purple-300 mb-2 flex items-center" data-v-3d2d2118><span class="i-heroicons-cube-transparent mr-2" data-v-3d2d2118></span> Colony Upgrades <span class="ml-2 text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 px-2 py-0.5 rounded-full" data-v-3d2d2118> Uses Colony Levels </span></h2><div class="text-sm text-purple-600 dark:text-purple-400 mb-4 bg-purple-100/50 dark:bg-purple-900/30 p-3 rounded-lg border border-purple-200 dark:border-purple-700/50" data-v-3d2d2118><p class="flex items-start" data-v-3d2d2118><span class="i-heroicons-light-bulb text-purple-500 mr-2 mt-0.5" data-v-3d2d2118></span><span data-v-3d2d2118><span class="font-semibold" data-v-3d2d2118>Colony upgrades affect your entire ant farm.</span> Each upgrade provides global bonuses that become stronger with each evolution level. </span></p></div>',2)),r("div",e5,[i[20]||(i[20]=r("span",{class:"i-heroicons-star text-purple-500 mr-2"},null,-1)),r("span",t5,[i[18]||(i[18]=Y(" Available Points: ")),r("span",r5,v(f(o).availableColonyLevels),1),i[19]||(i[19]=r("span",{class:"text-xs ml-1"},"(Each Colony level provides 1 upgrade point)",-1))])]),r("div",o5,[(p(!0),g($e,null,Te(f(o).colonyUpgrades,u=>(p(),g("div",{key:u.id,class:"relative bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-purple-200 dark:border-purple-800 p-3 transition-all hover:shadow-md upgrade-card"},[r("div",{class:ee(["absolute top-2 right-2 text-xs font-medium px-1.5 py-0.5 rounded-full",f(o).isColonyUpgradeMaxed(u.id)?"bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-300":"bg-purple-100 dark:bg-purple-900/50 text-purple-800 dark:text-purple-300"])},v(u.level)+v(u.maxLevel?"/"+u.maxLevel:""),3),r("h3",s5,v(u.name),1),r("p",n5,v(u.description),1),r("div",a5,[i[21]||(i[21]=r("span",{class:"text-purple-600 dark:text-purple-400"},"Current Effect:",-1)),r("span",l5,v(f(o).getFormattedColonyEffect(u.id)),1)]),r("div",i5,[r("div",u5,[u.id===f(Nt).EP_BOOST?(p(),g("span",c5,i[22]||(i[22]=[r("span",{class:"i-heroicons-sparkles mr-1"},null,-1),Y(" Affects: Evolution Points ")]))):u.id===f(Nt).PHEROMONE_BOOST?(p(),g("span",d5,i[23]||(i[23]=[r("span",{class:"i-heroicons-beaker mr-1"},null,-1),Y(" Affects: Pheromone Essence ")]))):u.id===f(Nt).GLOBAL_PRODUCTION?(p(),g("span",m5,i[24]||(i[24]=[r("span",{class:"i-heroicons-globe-alt mr-1"},null,-1),Y(" Affects: All Production ")]))):G("",!0)])]),f(o).isColonyUpgradeMaxed(u.id)?G("",!0):(p(),g("div",p5,[r("div",f5,[i[25]||(i[25]=r("span",{class:"i-heroicons-arrow-up text-purple-500 mr-1"},null,-1)),i[26]||(i[26]=r("span",{class:"font-medium"},"Next level:",-1)),u.id===f(Nt).EP_BOOST?(p(),g("span",g5,"+"+v(l.formatUpgradeImprovement(u.id,u.getMultiplier(u.level+1)-u.getMultiplier(u.level)))+" EP gain",1)):u.id===f(Nt).PHEROMONE_BOOST?(p(),g("span",v5,"+"+v(l.formatUpgradeImprovement(u.id,u.getMultiplier(u.level+1)-u.getMultiplier(u.level)))+" pheromone gain",1)):u.id===f(Nt).GLOBAL_PRODUCTION?(p(),g("span",b5,"+"+v(l.formatUpgradeImprovement(u.id,u.getMultiplier(u.level+1)-u.getMultiplier(u.level)))+" global production",1)):G("",!0)])])),i[27]||(i[27]=r("div",{class:"mb-2 text-xs text-gray-500 dark:text-gray-400 flex items-center"},[r("span",{class:"i-heroicons-information-circle mr-1"}),r("span",null,"Improves by +10% per evolution level")],-1)),r("button",{onClick:c=>l.purchaseColonyUpgrade(u.id),class:ee(["w-full py-2 px-2 text-xs rounded-md transition-colors flex items-center justify-center",l.colonyButtonClass(u.id)]),disabled:!f(o).canColonyUpgrade(u.id)},[f(o).isColonyUpgradeMaxed(u.id)?(p(),g("span",x5)):(p(),g("span",y5)),Y(" "+v(l.colonyUpgradeButtonText(u.id)),1)],10,h5)]))),128))])])])):G("",!0)]))}}),_5=We(k5,[["__scopeId","data-v-3d2d2118"]]),w5={class:"hidden lg:grid lg:grid-cols-2 gap-4"},$5={class:"bg-gradient-to-br from-emerald-100/50 to-emerald-50/50 dark:from-emerald-900/20 dark:to-emerald-800/10 rounded-xl p-4 shadow-md border border-emerald-200/50 dark:border-emerald-700/50"},C5={class:"flex items-center mb-4 p-2 bg-emerald-100/80 dark:bg-emerald-900/30 rounded-lg border border-emerald-200 dark:border-emerald-800"},S5={class:"text-sm font-medium text-emerald-800 dark:text-emerald-300"},A5={class:"font-bold"},E5={class:"grid grid-cols-1 xl:grid-cols-2 gap-3"},M5={class:"font-bold text-emerald-700 dark:text-emerald-400 mb-1"},P5={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},T5={class:"mb-3 space-y-2"},L5={class:"flex justify-between items-center text-xs bg-amber-50 dark:bg-amber-900/20 p-1.5 rounded"},I5={class:"font-medium text-amber-700 dark:text-amber-300"},F5={class:"flex justify-between items-center text-xs bg-purple-50 dark:bg-purple-900/20 p-1.5 rounded"},U5={class:"font-medium text-purple-700 dark:text-purple-300"},R5={class:"flex justify-between items-center text-xs bg-amber-50 dark:bg-amber-900/20 p-1.5 rounded"},D5={class:"font-medium text-amber-700 dark:text-amber-300"},q5={class:"flex justify-between items-center text-xs bg-purple-50 dark:bg-purple-900/20 p-1.5 rounded"},N5={class:"font-medium text-purple-700 dark:text-purple-300"},O5={class:"flex justify-between items-center text-xs bg-amber-50 dark:bg-amber-900/20 p-1.5 rounded"},B5={class:"font-medium text-amber-700 dark:text-amber-300"},Q5={class:"flex justify-between items-center text-xs bg-purple-50 dark:bg-purple-900/20 p-1.5 rounded"},j5={class:"font-medium text-purple-700 dark:text-purple-300"},H5={key:0,class:"mb-2"},G5={class:"text-xs text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/20 p-1.5 rounded flex items-center"},V5={key:0,class:"ml-1"},W5={key:1,class:"ml-1"},z5={key:2,class:"ml-1"},X5=["onClick","disabled"],K5={key:0,class:"i-heroicons-check-badge mr-1"},Y5={key:1,class:"i-heroicons-sparkles mr-1"},J5={class:"bg-gradient-to-br from-purple-100/50 to-purple-50/50 dark:from-purple-900/20 dark:to-purple-800/10 rounded-xl p-4 shadow-md border border-purple-200/50 dark:border-purple-700/50"},Z5={class:"flex items-center mb-4 p-2 bg-purple-100/80 dark:bg-purple-900/30 rounded-lg border border-purple-200 dark:border-purple-800"},e3={class:"text-sm font-medium text-purple-800 dark:text-purple-300"},t3={class:"font-bold"},r3={class:"grid grid-cols-1 xl:grid-cols-2 gap-3"},o3={class:"font-bold text-purple-700 dark:text-purple-400 mb-1"},s3={class:"text-xs text-gray-600 dark:text-gray-400 mb-2"},n3={class:"flex items-center justify-between text-xs bg-purple-50 dark:bg-purple-900/20 p-2 rounded mb-2"},a3={class:"font-medium text-purple-700 dark:text-purple-300 bg-purple-100 dark:bg-purple-800/40 px-2 py-0.5 rounded"},l3={class:"mb-2"},i3={class:"text-xs inline-block bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded"},u3={key:0,class:"text-blue-600 dark:text-blue-400 flex items-center"},c3={key:1,class:"text-pink-600 dark:text-pink-400 flex items-center"},d3={key:2,class:"text-teal-600 dark:text-teal-400 flex items-center"},m3={key:0,class:"mb-2"},p3={class:"text-xs text-purple-600 dark:text-purple-400 bg-purple-50 dark:bg-purple-900/20 p-1.5 rounded flex items-center"},f3={key:0,class:"ml-1"},g3={key:1,class:"ml-1"},v3={key:2,class:"ml-1"},b3=["onClick","disabled"],h3={key:0,class:"i-heroicons-check-badge mr-1"},x3={key:1,class:"i-heroicons-sparkles mr-1"},y3=Ie({__name:"DesktopUpgradeLayout",props:{formattedEffectiveStomachCapacity:{},formattedEffectivePheromoneStomachCapacity:{},formattedDecayEfficiencyMultiplier:{},formattedPheromoneEfficiencyMultiplier:{},formatUpgradeImprovement:{type:Function},buttonClass:{type:Function},upgradeButtonText:{type:Function},colonyButtonClass:{type:Function},colonyUpgradeButtonText:{type:Function},purchaseUpgrade:{type:Function},purchaseColonyUpgrade:{type:Function}},setup(e){const t=gt();return(o,n)=>(p(),g("div",w5,[r("div",$5,[n[11]||(n[11]=ct('<h2 class="text-lg font-bold text-emerald-700 dark:text-emerald-300 mb-2 flex items-center"><span class="i-heroicons-arrow-trending-up mr-2"></span> Mega Ant Upgrades <span class="ml-2 text-xs bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 px-2 py-0.5 rounded-full"> Uses Mega Ant Levels </span></h2><div class="text-sm text-emerald-600 dark:text-emerald-400 mb-4 bg-emerald-100/50 dark:bg-emerald-900/30 p-3 rounded-lg border border-emerald-200 dark:border-emerald-700/50"><p class="flex items-start"><span class="i-heroicons-light-bulb text-emerald-500 mr-2 mt-0.5"></span><span><span class="font-semibold">Mega Ant upgrades affect both digestive systems.</span> Every purchase increases capacity, speed, or efficiency for both crop and true stomach. </span></p></div>',2)),r("div",C5,[n[2]||(n[2]=r("span",{class:"i-heroicons-star text-amber-500 mr-2"},null,-1)),r("span",S5,[n[0]||(n[0]=Y(" Available Points: ")),r("span",A5,v(f(t).availableLevels),1),n[1]||(n[1]=r("span",{class:"text-xs ml-1"},"(Each Mega Ant level provides 1 upgrade point)",-1))])]),r("div",E5,[(p(!0),g($e,null,Te(f(t).upgrades,a=>(p(),g("div",{key:a.id,class:"relative bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-emerald-200 dark:border-emerald-800 p-3 transition-all hover:shadow-md upgrade-card"},[r("div",{class:ee(["absolute top-2 right-2 text-xs font-medium px-1.5 py-0.5 rounded-full",f(t).isUpgradeMaxed(a.id)?"bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-300":"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-800 dark:text-emerald-300"])},v(a.level)+v(a.maxLevel?"/"+a.maxLevel:""),3),r("h3",M5,v(a.name),1),r("p",P5,v(a.description),1),r("div",T5,[a.id===f(ut).STOMACH_CAPACITY?(p(),g($e,{key:0},[r("div",L5,[n[3]||(n[3]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-arrow-path-rounded-square text-amber-500 mr-1"}),r("span",{class:"text-amber-600 dark:text-amber-400"},"Crop:")],-1)),r("span",I5,v(o.formattedEffectiveStomachCapacity)+" units",1)]),r("div",F5,[n[4]||(n[4]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-beaker text-purple-500 mr-1"}),r("span",{class:"text-purple-600 dark:text-purple-400"},"True Stomach:")],-1)),r("span",U5,v(o.formattedEffectivePheromoneStomachCapacity)+" units",1)])],64)):a.id===f(ut).DECAY_RATE?(p(),g($e,{key:1},[r("div",R5,[n[5]||(n[5]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-arrow-path-rounded-square text-amber-500 mr-1"}),r("span",{class:"text-amber-600 dark:text-amber-400"},"Crop:")],-1)),r("span",D5,v(f(t).effectiveDecayRate.toFixed(2))+"/sec",1)]),r("div",q5,[n[6]||(n[6]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-beaker text-purple-500 mr-1"}),r("span",{class:"text-purple-600 dark:text-purple-400"},"True Stomach:")],-1)),r("span",N5,v(f(t).effectivePheromoneDecayRate.toFixed(2))+"/sec",1)])],64)):a.id===f(ut).EFFICIENCY?(p(),g($e,{key:2},[r("div",O5,[n[7]||(n[7]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-arrow-path-rounded-square text-amber-500 mr-1"}),r("span",{class:"text-amber-600 dark:text-amber-400"},"Mega Ant XP:")],-1)),r("span",B5,v(o.formattedDecayEfficiencyMultiplier)+"x",1)]),r("div",Q5,[n[8]||(n[8]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-beaker text-purple-500 mr-1"}),r("span",{class:"text-purple-600 dark:text-purple-400"},"Colony XP:")],-1)),r("span",j5,v(o.formattedPheromoneEfficiencyMultiplier)+"x",1)])],64)):G("",!0)]),f(t).isUpgradeMaxed(a.id)?G("",!0):(p(),g("div",H5,[r("div",G5,[n[9]||(n[9]=r("span",{class:"i-heroicons-arrow-up text-emerald-500 mr-1"},null,-1)),n[10]||(n[10]=r("span",{class:"font-medium"},"Next level:",-1)),a.id===f(ut).STOMACH_CAPACITY?(p(),g("span",V5,"+"+v(o.formatUpgradeImprovement(a.id,25))+" crop, +"+v(o.formatUpgradeImprovement(a.id,15))+" true stomach",1)):a.id===f(ut).DECAY_RATE?(p(),g("span",W5,"+"+v(o.formatUpgradeImprovement(a.id,.2))+" & +"+v(o.formatUpgradeImprovement(a.id,.15))+" digest speed",1)):a.id===f(ut).EFFICIENCY?(p(),g("span",z5,"+"+v(o.formatUpgradeImprovement(a.id,.25))+"x XP for both systems",1)):G("",!0)])])),r("button",{onClick:l=>o.purchaseUpgrade(a.id),class:ee(["w-full py-2 px-2 text-xs rounded-md transition-colors flex items-center justify-center",o.buttonClass(a.id)]),disabled:!f(t).canUpgrade(a.id)},[f(t).isUpgradeMaxed(a.id)?(p(),g("span",K5)):(p(),g("span",Y5)),Y(" "+v(o.upgradeButtonText(a.id)),1)],10,X5)]))),128))])]),r("div",J5,[n[22]||(n[22]=ct('<h2 class="text-lg font-bold text-purple-700 dark:text-purple-300 mb-2 flex items-center"><span class="i-heroicons-cube-transparent mr-2"></span> Colony Upgrades <span class="ml-2 text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 px-2 py-0.5 rounded-full"> Uses Colony Levels </span></h2><div class="text-sm text-purple-600 dark:text-purple-400 mb-4 bg-purple-100/50 dark:bg-purple-900/30 p-3 rounded-lg border border-purple-200 dark:border-purple-700/50"><p class="flex items-start"><span class="i-heroicons-light-bulb text-purple-500 mr-2 mt-0.5"></span><span><span class="font-semibold">Colony upgrades affect your entire ant farm.</span> Each upgrade provides global bonuses that become stronger with each evolution level. </span></p></div>',2)),r("div",Z5,[n[14]||(n[14]=r("span",{class:"i-heroicons-star text-purple-500 mr-2"},null,-1)),r("span",e3,[n[12]||(n[12]=Y(" Available Points: ")),r("span",t3,v(f(t).availableColonyLevels),1),n[13]||(n[13]=r("span",{class:"text-xs ml-1"},"(Each Colony level provides 1 upgrade point)",-1))])]),r("div",r3,[(p(!0),g($e,null,Te(f(t).colonyUpgrades,a=>(p(),g("div",{key:a.id,class:"relative bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-purple-200 dark:border-purple-800 p-3 transition-all hover:shadow-md upgrade-card"},[r("div",{class:ee(["absolute top-2 right-2 text-xs font-medium px-1.5 py-0.5 rounded-full",f(t).isColonyUpgradeMaxed(a.id)?"bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-300":"bg-purple-100 dark:bg-purple-900/50 text-purple-800 dark:text-purple-300"])},v(a.level)+v(a.maxLevel?"/"+a.maxLevel:""),3),r("h3",o3,v(a.name),1),r("p",s3,v(a.description),1),r("div",n3,[n[15]||(n[15]=r("span",{class:"text-purple-600 dark:text-purple-400"},"Current Effect:",-1)),r("span",a3,v(f(t).getFormattedColonyEffect(a.id)),1)]),r("div",l3,[r("div",i3,[a.id===f(Nt).EP_BOOST?(p(),g("span",u3,n[16]||(n[16]=[r("span",{class:"i-heroicons-sparkles mr-1"},null,-1),Y(" Affects: Evolution Points ")]))):a.id===f(Nt).PHEROMONE_BOOST?(p(),g("span",c3,n[17]||(n[17]=[r("span",{class:"i-heroicons-beaker mr-1"},null,-1),Y(" Affects: Pheromone Essence ")]))):a.id===f(Nt).GLOBAL_PRODUCTION?(p(),g("span",d3,n[18]||(n[18]=[r("span",{class:"i-heroicons-globe-alt mr-1"},null,-1),Y(" Affects: All Production ")]))):G("",!0)])]),f(t).isColonyUpgradeMaxed(a.id)?G("",!0):(p(),g("div",m3,[r("div",p3,[n[19]||(n[19]=r("span",{class:"i-heroicons-arrow-up text-purple-500 mr-1"},null,-1)),n[20]||(n[20]=r("span",{class:"font-medium"},"Next level:",-1)),a.id===f(Nt).EP_BOOST?(p(),g("span",f3,"+"+v(o.formatUpgradeImprovement(a.id,a.getMultiplier(a.level+1)-a.getMultiplier(a.level)))+" EP gain",1)):a.id===f(Nt).PHEROMONE_BOOST?(p(),g("span",g3,"+"+v(o.formatUpgradeImprovement(a.id,a.getMultiplier(a.level+1)-a.getMultiplier(a.level)))+" pheromone gain",1)):a.id===f(Nt).GLOBAL_PRODUCTION?(p(),g("span",v3,"+"+v(o.formatUpgradeImprovement(a.id,a.getMultiplier(a.level+1)-a.getMultiplier(a.level)))+" global production",1)):G("",!0)])])),n[21]||(n[21]=r("div",{class:"mb-2 text-xs text-gray-500 dark:text-gray-400 flex items-center"},[r("span",{class:"i-heroicons-information-circle mr-1"}),r("span",null,"Improves by +10% per evolution level")],-1)),r("button",{onClick:l=>o.purchaseColonyUpgrade(a.id),class:ee(["w-full py-2 px-2 text-xs rounded-md transition-colors flex items-center justify-center",o.colonyButtonClass(a.id)]),disabled:!f(t).canColonyUpgrade(a.id)},[f(t).isColonyUpgradeMaxed(a.id)?(p(),g("span",h3)):(p(),g("span",x3)),Y(" "+v(o.colonyUpgradeButtonText(a.id)),1)],10,b3)]))),128))])])]))}}),k3={class:"mb-4"},_3={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},w3={class:"bg-amber-50 dark:bg-amber-900/20 p-3 rounded-lg border border-amber-200 dark:border-amber-700/50 mb-2"},$3={class:"flex justify-between text-xs text-amber-700 dark:text-amber-300 mb-1"},C3={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 overflow-hidden"},S3={class:"flex justify-between mt-1 items-center"},A3={class:"text-xs text-gray-500 dark:text-gray-400 flex items-center"},E3={class:"bg-amber-50 dark:bg-amber-900/20 rounded-lg p-3 border border-amber-200 dark:border-amber-700/50"},M3={class:"flex items-center justify-between"},P3={class:"text-gray-600 dark:text-gray-300"},T3=["disabled"],L3={key:0,class:"inline-block animate-pulse"},I3={key:1},F3={key:2},U3={class:"mt-3"},R3={key:0,class:"flex items-center justify-between bg-amber-100/70 dark:bg-amber-900/30 p-2 rounded border border-amber-200/80 dark:border-amber-800/30"},D3={key:0,class:"text-xs text-amber-600 dark:text-amber-400 flex items-center mt-0.5"},q3={key:1,class:"relative"},N3={key:0,class:"absolute z-20 text-xs w-full max-w-xs bg-white dark:bg-gray-800 rounded-lg shadow-lg p-3 border border-amber-200 dark:border-amber-800 sm:right-0 sm:top-full sm:mt-2 left-0 top-full mt-2"},O3={class:"bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg border border-purple-200 dark:border-purple-700/50 mb-2"},B3={class:"flex justify-between text-xs text-purple-700 dark:text-purple-300 mb-1"},Q3={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 overflow-hidden"},j3={class:"flex justify-between mt-1 items-center"},H3={class:"text-xs text-gray-500 dark:text-gray-400 flex items-center"},G3={class:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3 border border-purple-200 dark:border-purple-700/50"},V3={class:"flex items-center justify-between"},W3={class:"text-gray-600 dark:text-gray-300"},z3=["disabled"],X3={key:0,class:"inline-block animate-pulse"},K3={key:1},Y3={key:2},J3={class:"mt-3"},Z3={key:0,class:"flex items-center justify-between bg-purple-100/70 dark:bg-purple-900/30 p-2 rounded border border-purple-200/80 dark:border-purple-800/30"},e$={key:0,class:"text-xs text-purple-600 dark:text-purple-400 flex items-center mt-0.5"},t$={key:1,class:"relative"},r$={key:0,class:"absolute z-20 text-xs w-full max-w-xs bg-white dark:bg-gray-800 rounded-lg shadow-lg p-3 border border-purple-200 dark:border-purple-800 sm:right-0 sm:top-full sm:mt-2 left-0 top-full mt-2"},o$=Ie({__name:"DigestiveSystems",props:{formattedStomachContent:{},formattedEffectiveStomachCapacity:{},formattedPheromoneStomachContent:{},formattedEffectivePheromoneStomachCapacity:{},formattedDecayRate:{},formattedPheromoneDecayRate:{},isFeeding:{type:Boolean},isFeedingPheromone:{type:Boolean},feedingResult:{},feedingPheromoneResult:{},feedAllToMegaAnt:{type:Function},feedPheromoneToMegaAnt:{type:Function}},setup(e){const t=gt(),o=st(),n=St(),a=B(!1),l=B(!1),i=()=>{a.value=!a.value,l.value=!1},u=()=>{l.value=!l.value,a.value=!1},c=L(()=>{const d=t.AUTO_FEED_INTERVAL,m=t.autoFeedTickCounter;return d-m});return(d,m)=>(p(),g("div",k3,[m[28]||(m[28]=r("h3",{class:"font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center"},[r("span",{class:"i-heroicons-beaker text-indigo-500 mr-2"}),Y(" Digestive Systems "),r("span",{class:"ml-2 text-xs bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 px-2 py-0.5 rounded-full"},"Auto-digests over time")],-1)),r("div",_3,[r("div",null,[r("div",w3,[m[6]||(m[6]=r("h4",{class:"font-medium text-amber-700 dark:text-amber-300 mb-1 flex items-center"},[r("span",{class:"i-heroicons-arrow-path-rounded-square text-amber-600 dark:text-amber-400 mr-1"}),Y(" Crop System "),r("span",{class:"ml-2 text-xs bg-amber-100/70 dark:bg-amber-800/30 text-amber-700 dark:text-amber-300 px-1.5 py-0.5 rounded-full"}," Mega Ant XP ")],-1)),r("div",$3,[m[4]||(m[4]=r("span",null,"Food Storage",-1)),r("span",null,v(d.formattedStomachContent)+" / "+v(d.formattedEffectiveStomachCapacity),1)]),r("div",C3,[r("div",{class:ee(["h-2.5 rounded-full transition-all duration-300",[f(t).stomachFillPercentage<50?"bg-amber-300":f(t).stomachFillPercentage<80?"bg-amber-400":f(t).stomachFillPercentage<95?"bg-amber-500":"bg-amber-600"]]),style:je(`width: ${f(t).stomachFillPercentage}%`)},null,6)]),r("div",S3,[r("span",A3,[m[5]||(m[5]=r("span",{class:"i-heroicons-clock text-amber-500 mr-1"},null,-1)),Y(" "+v(d.formattedDecayRate)+" units/min ",1)]),r("span",{class:ee(["text-xs px-2 py-0.5 rounded",{"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300":f(t).isStomachFull,"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":!f(t).isStomachFull&&f(t).stomachContent.gt(0),"text-gray-500 dark:text-gray-400":f(t).stomachContent.lte(0)}])},v(f(t).isStomachFull?" Full":f(t).stomachContent.gt(0)?" Digesting":"Empty"),3)])]),r("div",E3,[m[14]||(m[14]=r("h4",{class:"font-medium text-amber-700 dark:text-amber-300 mb-2 flex items-center"},[r("span",{class:"i-heroicons-arrow-path-rounded-square mr-1"}),Y(" Feed Crop (Food) ")],-1)),r("div",M3,[r("span",P3,"Available Food: "+v(f(ge)(f(o).food)),1),r("button",{onClick:m[0]||(m[0]=(...b)=>d.feedAllToMegaAnt&&d.feedAllToMegaAnt(...b)),disabled:d.isFeeding||f(o).food.lte(0)||f(t).isStomachFull,class:"px-3 sm:px-4 py-2 bg-amber-600 hover:bg-amber-700 dark:bg-amber-700 dark:hover:bg-amber-600 text-white rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 disabled:opacity-50 flex items-center"},[m[7]||(m[7]=r("span",{class:"i-heroicons-arrow-down-tray mr-1"},null,-1)),d.isFeeding?(p(),g("span",L3,"Feeding...")):f(t).isStomachFull?(p(),g("span",I3,"Crop Full")):(p(),g("span",F3,"Feed All"))],8,T3)]),d.feedingResult?(p(),g("p",{key:0,class:ee(["mt-2 text-sm",d.feedingResult.includes("error")?"text-red-500":"text-amber-600 dark:text-amber-400"])},v(d.feedingResult),3)):G("",!0),r("div",U3,[f(t).isAutoFeedUnlocked?(p(),g("div",R3,[r("div",null,[m[9]||(m[9]=r("span",{class:"text-sm text-amber-700 dark:text-amber-300 flex items-center"},[r("span",{class:"i-heroicons-arrow-path mr-1"}),Y(" Auto Feed (1% of food every 10 ticks) ")],-1)),m[10]||(m[10]=r("p",{class:"text-xs text-amber-600 dark:text-amber-400 mt-0.5"},[r("span",{class:"i-heroicons-information-circle mr-1"}),Y(" Only feeds when crop is completely empty ")],-1)),f(t).autoFeedEnabled?(p(),g("span",D3,[m[8]||(m[8]=r("span",{class:"i-heroicons-clock-solid mr-1"},null,-1)),Y(" "+v(c.value)+" ticks until next auto feed ",1)])):G("",!0)]),r("button",{onClick:m[1]||(m[1]=(...b)=>f(t).toggleAutoFeed&&f(t).toggleAutoFeed(...b)),class:ee(["relative inline-flex items-center h-5 rounded-full w-9 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500",f(t).autoFeedEnabled?"bg-amber-600":"bg-gray-300 dark:bg-gray-600"])},[r("span",{class:ee(["inline-block w-4 h-4 transform bg-white rounded-full transition-transform",f(t).autoFeedEnabled?"translate-x-5":"translate-x-1"])},null,2)],2)])):(p(),g("div",q3,[r("div",{onClick:i,class:"flex items-center justify-between bg-gray-100/70 dark:bg-gray-900/30 p-2 rounded border border-gray-300 dark:border-gray-700 opacity-75 cursor-pointer"},m[11]||(m[11]=[ct('<div><span class="text-sm text-gray-500 dark:text-gray-400 flex items-center"><span class="i-heroicons-lock-closed mr-1"></span> Auto Feed (1% of food every 10 ticks) </span><p class="text-xs text-gray-500 dark:text-gray-400 mt-0.5"><span class="i-heroicons-information-circle mr-1"></span> Requires prestige upgrade </p></div><div class="relative inline-flex items-center h-5 rounded-full w-9 bg-gray-300 dark:bg-gray-600"><span class="inline-block w-4 h-4 transform bg-white rounded-full translate-x-1"></span></div>',2)])),a.value?(p(),g("div",N3,[r("button",{onClick:i,class:"absolute right-2 top-2 text-gray-400 hover:text-gray-500"},m[12]||(m[12]=[r("span",{class:"i-heroicons-x-mark w-4 h-4"},null,-1)])),m[13]||(m[13]=ct('<p class="font-medium text-amber-700 dark:text-amber-400 mb-1">Feature Locked</p><p class="text-gray-600 dark:text-gray-300"> Purchase the <span class="font-medium">Mega Ant Auto Feed</span> evolution upgrade to unlock automatic feeding when stomachs are empty. </p><p class="mt-1 text-sm font-medium text-gray-500 dark:text-gray-400"> Cost: 50M Evolution Points </p><div class="absolute w-3 h-3 bg-white dark:bg-gray-800 transform rotate-45 sm:right-4 sm:-mt-4 sm:top-0 left-4 -mt-4 top-0"></div>',4))])):G("",!0)]))]),m[15]||(m[15]=ct('<div class="mt-2 text-xs text-gray-600 dark:text-gray-400 bg-amber-100/50 dark:bg-amber-900/30 p-2 rounded border border-amber-200/50 dark:border-amber-800/30"><p class="mb-1"><span class="font-semibold">How it works:</span> Feeding generates Mega Ant XP based on food magnitude</p><p class="flex items-center"><span class="i-heroicons-light-bulb text-amber-500 mr-1"></span><span>Example: 1e100 food = <span class="font-semibold">100 XP</span> (based on exponent)</span></p></div>',1))])]),r("div",null,[r("div",O3,[m[18]||(m[18]=r("h4",{class:"font-medium text-purple-700 dark:text-purple-300 mb-1 flex items-center"},[r("span",{class:"i-heroicons-beaker text-purple-600 dark:text-purple-400 mr-1"}),Y(" True Stomach "),r("span",{class:"ml-2 text-xs bg-purple-100/70 dark:bg-purple-800/30 text-purple-700 dark:text-purple-300 px-1.5 py-0.5 rounded-full"}," Colony XP ")],-1)),r("div",B3,[m[16]||(m[16]=r("span",null,"Pheromone Storage",-1)),r("span",null,v(d.formattedPheromoneStomachContent)+" / "+v(d.formattedEffectivePheromoneStomachCapacity),1)]),r("div",Q3,[r("div",{class:ee(["h-2.5 rounded-full transition-all duration-300",[f(t).pheromoneStomachFillPercentage<50?"bg-purple-300":f(t).pheromoneStomachFillPercentage<80?"bg-purple-400":f(t).pheromoneStomachFillPercentage<95?"bg-purple-500":"bg-purple-600"]]),style:je(`width: ${f(t).pheromoneStomachFillPercentage}%`)},null,6)]),r("div",j3,[r("span",H3,[m[17]||(m[17]=r("span",{class:"i-heroicons-clock text-purple-500 mr-1"},null,-1)),Y(" "+v(d.formattedPheromoneDecayRate)+" units/min ",1)]),r("span",{class:ee(["text-xs px-2 py-0.5 rounded",{"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300":f(t).isPheromoneStomachFull,"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":!f(t).isPheromoneStomachFull&&f(t).pheromoneStomachContent.gt(0),"text-gray-500 dark:text-gray-400":f(t).pheromoneStomachContent.lte(0)}])},v(f(t).isPheromoneStomachFull?" Full":f(t).pheromoneStomachContent.gt(0)?" Digesting":"Empty"),3)])]),r("div",G3,[m[26]||(m[26]=r("h4",{class:"font-medium text-purple-700 dark:text-purple-300 mb-2 flex items-center"},[r("span",{class:"i-heroicons-beaker mr-1"}),Y(" Feed True Stomach (Essence) ")],-1)),r("div",V3,[r("span",W3,"Pheromone Essence: "+v(f(n).formattedPheromoneEssence),1),r("button",{onClick:m[2]||(m[2]=(...b)=>d.feedPheromoneToMegaAnt&&d.feedPheromoneToMegaAnt(...b)),disabled:d.isFeedingPheromone||f(n).pheromoneEssence.lte(0)||f(t).isPheromoneStomachFull,class:"px-3 sm:px-4 py-2 bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-600 text-white rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 flex items-center"},[m[19]||(m[19]=r("span",{class:"i-heroicons-arrow-down-tray mr-1"},null,-1)),d.isFeedingPheromone?(p(),g("span",X3,"Feeding...")):f(t).isPheromoneStomachFull?(p(),g("span",K3,"Stomach Full")):(p(),g("span",Y3,"Feed All"))],8,z3)]),d.feedingPheromoneResult?(p(),g("p",{key:0,class:ee(["mt-2 text-sm",d.feedingPheromoneResult.includes("error")?"text-red-500":"text-purple-600 dark:text-purple-400"])},v(d.feedingPheromoneResult),3)):G("",!0),r("div",J3,[f(t).isAutoFeedUnlocked?(p(),g("div",Z3,[r("div",null,[m[21]||(m[21]=r("span",{class:"text-sm text-purple-700 dark:text-purple-300 flex items-center"},[r("span",{class:"i-heroicons-arrow-path mr-1"}),Y(" Auto Feed (1% of essence every 10 ticks) ")],-1)),m[22]||(m[22]=r("p",{class:"text-xs text-purple-600 dark:text-purple-400 mt-0.5"},[r("span",{class:"i-heroicons-information-circle mr-1"}),Y(" Only feeds when stomach is completely empty ")],-1)),f(t).autoFeedPheromoneEnabled?(p(),g("span",e$,[m[20]||(m[20]=r("span",{class:"i-heroicons-clock-solid mr-1"},null,-1)),Y(" "+v(c.value)+" ticks until next auto feed ",1)])):G("",!0)]),r("button",{onClick:m[3]||(m[3]=(...b)=>f(t).toggleAutoFeedPheromone&&f(t).toggleAutoFeedPheromone(...b)),class:ee(["relative inline-flex items-center h-5 rounded-full w-9 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",f(t).autoFeedPheromoneEnabled?"bg-purple-600":"bg-gray-300 dark:bg-gray-600"])},[r("span",{class:ee(["inline-block w-4 h-4 transform bg-white rounded-full transition-transform",f(t).autoFeedPheromoneEnabled?"translate-x-5":"translate-x-1"])},null,2)],2)])):(p(),g("div",t$,[r("div",{onClick:u,class:"flex items-center justify-between bg-gray-100/70 dark:bg-gray-900/30 p-2 rounded border border-gray-300 dark:border-gray-700 opacity-75 cursor-pointer"},m[23]||(m[23]=[ct('<div><span class="text-sm text-gray-500 dark:text-gray-400 flex items-center"><span class="i-heroicons-lock-closed mr-1"></span> Auto Feed (1% of essence every 10 ticks) </span><p class="text-xs text-gray-500 dark:text-gray-400 mt-0.5"><span class="i-heroicons-information-circle mr-1"></span> Requires prestige upgrade </p></div><div class="relative inline-flex items-center h-5 rounded-full w-9 bg-gray-300 dark:bg-gray-600"><span class="inline-block w-4 h-4 transform bg-white rounded-full translate-x-1"></span></div>',2)])),l.value?(p(),g("div",r$,[r("button",{onClick:u,class:"absolute right-2 top-2 text-gray-400 hover:text-gray-500"},m[24]||(m[24]=[r("span",{class:"i-heroicons-x-mark w-4 h-4"},null,-1)])),m[25]||(m[25]=ct('<p class="font-medium text-purple-700 dark:text-purple-400 mb-1">Feature Locked</p><p class="text-gray-600 dark:text-gray-300"> Purchase the <span class="font-medium">Mega Ant Auto Feed</span> evolution upgrade to unlock automatic feeding when stomachs are empty. </p><p class="mt-1 text-sm font-medium text-gray-500 dark:text-gray-400"> Cost: 50M Evolution Points </p><div class="absolute w-3 h-3 bg-white dark:bg-gray-800 transform rotate-45 sm:right-4 sm:-mt-4 sm:top-0 left-4 -mt-4 top-0"></div>',4))])):G("",!0)]))]),m[27]||(m[27]=ct('<div class="mt-2 text-xs text-gray-600 dark:text-gray-400 bg-purple-100/50 dark:bg-purple-900/30 p-2 rounded border border-purple-200/50 dark:border-purple-800/30"><p class="mb-1"><span class="font-semibold">How it works:</span> Feeding generates Colony XP based on essence magnitude</p><p class="flex items-center"><span class="i-heroicons-light-bulb text-purple-500 mr-1"></span><span>Example: 1e50 essence = <span class="font-semibold">100 XP</span> (essence is 2x more effective)</span></p></div>',1))])])]),m[29]||(m[29]=r("div",{class:"mt-2 bg-blue-50 dark:bg-blue-900/20 p-2 rounded text-xs text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-800/50"},[r("div",{class:"flex items-start"},[r("span",{class:"i-heroicons-information-circle text-blue-500 mr-1.5 mt-0.5"}),r("p",null,"Both systems work independently and automatically digest content over time. Upgrades affect both systems simultaneously.")])],-1))]))}}),s$={key:0,class:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-3 sm:p-4 shadow-md border border-blue-200 dark:border-blue-800/50"},n$={class:"flex items-start"},a$={class:"mt-2 flex justify-end"},l$={key:1,class:"flex justify-end mb-2"},i$=Ie({__name:"TutorialSection",setup(e){const t=gt(),o=L({get:()=>t.showHelpSection,set:n=>t.toggleHelpSection(n)});return(n,a)=>(p(),g($e,null,[o.value?(p(),g("div",s$,[r("div",n$,[a[3]||(a[3]=r("span",{class:"i-heroicons-information-circle text-blue-500 text-xl mr-3 mt-0.5"},null,-1)),r("div",null,[a[2]||(a[2]=ct('<h3 class="font-semibold text-blue-700 dark:text-blue-300 mb-2">How The Mega Ant System Works</h3><div class="space-y-3 text-sm text-blue-700 dark:text-blue-300"><p>Your Mega Ant has two digestive systems that work in parallel:</p><div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-2"><div class="bg-amber-50 dark:bg-amber-900/20 p-3 rounded-lg"><h4 class="font-medium text-amber-700 dark:text-amber-300 flex items-center gap-1 mb-1"><span class="i-heroicons-arrow-path-rounded-square"></span>Crop System </h4><ol class="list-decimal list-inside space-y-1 pl-1 text-xs"><li>Feed <b>regular food</b> to your Mega Ant&#39;s crop</li><li>Food is digested automatically over time</li><li>Digestion grants <b>Mega Ant XP</b></li><li>Mega Ant levels unlock <b>upgrade points</b></li></ol></div><div class="bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg"><h4 class="font-medium text-purple-700 dark:text-purple-300 flex items-center gap-1 mb-1"><span class="i-heroicons-beaker"></span>True Stomach System </h4><ol class="list-decimal list-inside space-y-1 pl-1 text-xs"><li>Feed <b>pheromone essence</b> to the true stomach</li><li>Essence is digested automatically over time</li><li>Digestion grants <b>Colony XP</b></li><li>Colony levels unlock <b>colony upgrade points</b></li></ol></div></div><p class="pt-1"> <b>Important:</b> The amount of XP gained is based on the <b>size</b> of what you feed, not the quantity. Feeding 1e100 food provides 100 XP potential.</p><p> <b>Ascension:</b> Reset your progress to gain a permanent multiplier to all XP gains. Your Mega Ant upgrades are preserved!</p></div>',2)),r("div",a$,[r("button",{class:"text-xs text-blue-600 dark:text-blue-400 hover:underline",onClick:a[0]||(a[0]=l=>o.value=!1)}," Hide This Guide ")])])])])):G("",!0),o.value?G("",!0):(p(),g("div",l$,[r("button",{class:"text-xs bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-800/30 px-3 py-1.5 rounded-full flex items-center",onClick:a[1]||(a[1]=l=>o.value=!0)},a[4]||(a[4]=[r("span",{class:"i-heroicons-information-circle mr-1"},null,-1),Y(" Show Guide ")]))]))],64))}}),u$={class:"flex justify-between items-center mb-4"},c$={class:"relative tooltip-container group"},d$={class:"flex items-center"},m$={key:0,class:"ml-2 bg-purple-800 text-purple-100 px-2 py-0.5 rounded-full text-xs"},p$={class:"mt-1 font-medium text-purple-600 dark:text-purple-400"},f$={class:"text-gray-600 dark:text-gray-300"},g$=Ie({__name:"MegaAntHeader",props:{formattedAscensionMultiplier:{}},emits:["showAscensionModal"],setup(e){const t=gt(),{canAscend:o,ascensionLockExplanation:n}=Na(),a=B(!1),l=()=>{a.value=!a.value},i=u=>{u.target.closest(".tooltip-container")||(a.value=!1)};return He(()=>{document.addEventListener("click",i)}),er(()=>{document.removeEventListener("click",i)}),(u,c)=>(p(),g($e,null,[r("div",u$,[c[7]||(c[7]=r("h2",{class:"text-base sm:text-lg font-semibold text-green-800 dark:text-green-200 flex items-center"},[r("span",{class:"i-heroicons-bug-ant text-green-600 dark:text-green-400 mr-2"}),Y(" Mega Ant Evolution ")],-1)),r("div",c$,[r("div",d$,[r("button",{onClick:c[0]||(c[0]=d=>f(o)?u.$emit("showAscensionModal"):null),class:ee(["px-2 py-1 sm:px-4 sm:py-2 text-sm rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 flex items-center",f(o)?"bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-600 text-white":"bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed"])},[r("span",{class:ee([f(o)?"i-heroicons-arrow-up-circle":"i-heroicons-lock-closed","mr-1"])},null,2),c[1]||(c[1]=r("span",null,"Ascend",-1)),f(t).ascensionCount>0?(p(),g("span",m$,v(f(t).ascensionCount),1)):G("",!0)],2),r("button",{onClick:Ye(l,["stop"]),class:"ml-1 p-2 text-purple-600 dark:text-purple-400 hover:bg-purple-100 dark:hover:bg-purple-900/30 rounded-full focus:outline-none","aria-label":"Ascension info"},c[2]||(c[2]=[r("span",{class:"i-heroicons-information-circle text-sm"},null,-1)]))]),r("div",{class:ee(["absolute right-0 top-full mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-3 border border-purple-200 dark:border-purple-700 z-10 text-xs transition-opacity duration-200",a.value?"block opacity-100":"hidden sm:group-hover:block opacity-0 sm:group-hover:opacity-100"])},[f(o)?(p(),g($e,{key:0},[c[3]||(c[3]=r("p",{class:"font-medium text-purple-700 dark:text-purple-300 mb-1"},"Ascension Reset",-1)),c[4]||(c[4]=r("p",{class:"text-gray-600 dark:text-gray-300"},[Y("Reset your progress but "),r("span",{class:"font-semibold"},"keep all upgrades"),Y(" to gain a permanent multiplier to XP gains.")],-1)),r("p",p$,"Current bonus: "+v(u.formattedAscensionMultiplier)+"x",1)],64)):(p(),g($e,{key:1},[c[5]||(c[5]=r("p",{class:"font-medium text-red-500 dark:text-red-400 mb-1"},"Ascension Locked",-1)),r("p",f$,v(f(n)),1),c[6]||(c[6]=r("p",{class:"mt-1 text-sm font-medium text-gray-500 dark:text-gray-400"},"Complete quests to unlock this feature",-1))],64))],2)])]),c[8]||(c[8]=r("p",{class:"text-green-700 dark:text-green-300 mb-4 flex items-start"},[r("span",{class:"i-heroicons-information-circle text-green-500 mr-2 mt-0.5"}),r("span",null,"Your colony's ultimate evolution. Feed your Mega Ant to grow its power and upgrade both digestive systems to enhance your entire ant farm.")],-1))],64))}}),v$="/assets/Mega-ant-GPeYD705.png",b$={class:"flex justify-center"},h$={class:"relative"},x$={class:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-green-300/70 to-transparent dark:from-green-800/70 py-1 text-center"},y$={class:"text-green-900 dark:text-green-100 font-semibold text-sm"},k$={key:0,class:"absolute top-0 right-0 transform translate-x-2 -translate-y-2 bg-purple-500 text-white rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm border-2 border-white dark:border-gray-800 shadow-lg z-10"},_$=Ie({__name:"MegaAntImage",props:{isFeeding:{type:Boolean},isFeedingPheromone:{type:Boolean}},setup(e){const t=gt();return(o,n)=>(p(),g("div",b$,[r("div",h$,[r("div",{class:ee(["relative w-32 h-32 sm:w-40 sm:h-40 overflow-hidden rounded-full bg-gradient-to-b from-green-200 to-green-300 dark:from-green-900 dark:to-green-800 border-4 border-green-300 dark:border-green-700 shadow-lg transition-all duration-300",{"feeding-animation":o.isFeeding||o.isFeedingPheromone,"digesting-animation":f(t).stomachContent.gt(0)||f(t).pheromoneStomachContent.gt(0)}])},[r("img",{src:v$,alt:"Mega Ant",class:ee(["w-full h-full object-contain",{"animate-pulse":o.isFeeding||o.isFeedingPheromone}])},null,2),r("div",x$,[r("span",y$,"Level "+v(f(t).level.toString()),1)])],2),f(t).ascensionCount>0?(p(),g("div",k$,v(f(t).ascensionCount),1)):G("",!0)])]))}}),w$=We(_$,[["__scopeId","data-v-bebc8eeb"]]),$$={class:"flex flex-col justify-center col-span-2"},C$={class:"flex justify-between mb-1"},S$={class:"text-green-700 dark:text-green-300"},A$={class:"flex justify-between mb-1"},E$={class:"text-purple-700 dark:text-purple-300"},M$={class:"flex justify-between mb-1"},P$={class:"text-green-700 dark:text-green-300"},T$={class:"flex justify-between mb-1"},L$={class:"text-purple-700 dark:text-purple-300"},I$={key:0,class:"flex justify-between mb-1"},F$={class:"text-purple-700 dark:text-purple-300"},U$={class:"flex justify-between mb-1"},R$={class:"text-amber-700 dark:text-amber-300"},D$={class:"flex justify-between mb-1"},q$={class:"text-amber-700 dark:text-amber-300"},N$={class:"flex justify-between mb-1"},O$={class:"text-purple-700 dark:text-purple-300"},B$={class:"flex justify-between mb-1"},Q$={class:"text-purple-700 dark:text-purple-300"},j$=Ie({__name:"MegaAntStats",props:{formattedAscensionMultiplier:{},formattedEffectiveStomachCapacity:{},formattedDecayRate:{},formattedEffectivePheromoneStomachCapacity:{},formattedPheromoneDecayRate:{}},setup(e){const t=gt();return(o,n)=>(p(),g("div",$$,[r("div",C$,[n[0]||(n[0]=r("span",{class:"text-green-800 dark:text-green-200 font-semibold"},"Mega Ant Level:",-1)),r("span",S$,v(f(t).level.toString()),1)]),r("div",A$,[n[1]||(n[1]=r("span",{class:"text-green-800 dark:text-green-200 font-semibold"},"Colony Level:",-1)),r("span",E$,v(f(t).colonyLevel.toString()),1)]),r("div",M$,[n[2]||(n[2]=r("span",{class:"text-green-800 dark:text-green-200 font-semibold"},"Available Upgrade Points:",-1)),r("span",P$,v(f(t).availableLevels),1)]),r("div",T$,[n[3]||(n[3]=r("span",{class:"text-green-800 dark:text-green-200 font-semibold"},"Ascension Level:",-1)),r("span",L$,v(f(t).ascensionCount),1)]),f(t).ascensionCount>0?(p(),g("div",I$,[n[4]||(n[4]=r("span",{class:"text-green-800 dark:text-green-200 font-semibold"},"Ascension Bonus:",-1)),r("span",F$,v(o.formattedAscensionMultiplier)+"x",1)])):G("",!0),r("div",U$,[n[5]||(n[5]=r("span",{class:"text-green-800 dark:text-green-200 font-semibold"},"Crop Capacity:",-1)),r("span",R$,v(o.formattedEffectiveStomachCapacity),1)]),r("div",D$,[n[6]||(n[6]=r("span",{class:"text-green-800 dark:text-green-200 font-semibold"},"Crop Digestion Rate:",-1)),r("span",q$,v(o.formattedDecayRate)+" units/min",1)]),r("div",N$,[n[7]||(n[7]=r("span",{class:"text-green-800 dark:text-green-200 font-semibold"},"True Stomach Capacity:",-1)),r("span",O$,v(o.formattedEffectivePheromoneStomachCapacity),1)]),r("div",B$,[n[8]||(n[8]=r("span",{class:"text-green-800 dark:text-green-200 font-semibold"},"True Stomach Digestion:",-1)),r("span",Q$,v(o.formattedPheromoneDecayRate)+" units/min",1)])]))}}),H$={class:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4"},G$={class:"flex justify-between text-xs text-green-700 dark:text-green-300 mb-1"},V$={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5"},W$={class:"flex justify-between text-xs text-purple-700 dark:text-purple-300 mb-1"},z$={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5"},X$=Ie({__name:"ExperienceProgressBars",props:{formattedExperience:{},formattedExperienceForNextLevel:{},formattedColonyExperience:{},formattedColonyExperienceForNextLevel:{}},setup(e){const t=gt();return(o,n)=>(p(),g("div",H$,[r("div",null,[r("div",G$,[n[0]||(n[0]=r("span",null,"Mega Ant Experience",-1)),r("span",null,v(o.formattedExperience)+" / "+v(o.formattedExperienceForNextLevel),1)]),r("div",V$,[r("div",{class:"bg-green-500 h-2.5 rounded-full",style:je(`width: ${f(t).levelProgress}%`)},null,4)]),n[1]||(n[1]=r("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"}," Gained from crop digestion ",-1))]),r("div",null,[r("div",W$,[n[2]||(n[2]=r("span",null,"Colony Experience",-1)),r("span",null,v(o.formattedColonyExperience)+" / "+v(o.formattedColonyExperienceForNextLevel),1)]),r("div",z$,[r("div",{class:"bg-purple-500 h-2.5 rounded-full",style:je(`width: ${f(t).colonyLevelProgress}%`)},null,4)]),n[3]||(n[3]=r("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-1"}," Gained from true stomach digestion ",-1))])]))}}),K$={class:"flex flex-wrap gap-2"},Y$={class:"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-200 px-2 py-1 rounded-full text-xs sm:text-sm"},J$={class:"bg-purple-100 dark:bg-purple-900/50 text-purple-800 dark:text-purple-200 px-2 py-1 rounded-full text-xs sm:text-sm"},Z$={key:0,class:"bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-200 px-2 py-1 rounded-full text-xs sm:text-sm flex items-center"},eC=Ie({__name:"LevelBadges",setup(e){const t=gt();return(o,n)=>(p(),g("div",K$,[r("span",Y$," Level "+v(f(t).level.toString()),1),r("span",J$," Colony Lvl "+v(f(t).colonyLevel.toString()),1),f(t).ascensionCount>0?(p(),g("span",Z$,[n[0]||(n[0]=r("span",{class:"i-heroicons-arrow-up-circle mr-1"},null,-1)),Y(" Ascension "+v(f(t).ascensionCount),1)])):G("",!0)]))}}),tC={class:"bg-white dark:bg-gray-800 rounded-lg p-3 shadow border border-purple-200 dark:border-purple-700"},rC={class:"flex items-center justify-between"},oC=["disabled"],sC={class:"px-4 py-1 bg-purple-50 dark:bg-purple-900/20 text-purple-800 dark:text-purple-200 font-medium rounded"},nC=["disabled"],aC=Ie({__name:"AscensionRequirementSettings",setup(e){const t=()=>{jt.value<100&&(jt.value+=5)},o=()=>{jt.value>5&&(jt.value-=5)},n=L(()=>`${jt.value}%`);return(a,l)=>(p(),g("div",tC,[l[2]||(l[2]=r("div",{class:"flex items-center justify-between mb-2"},[r("h3",{class:"text-sm font-semibold text-purple-700 dark:text-purple-300"},"Ascension Requirement"),r("span",{class:"text-xs px-2 py-1 rounded-full bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300"},"Debug Mode")],-1)),r("div",rC,[r("button",{onClick:o,disabled:f(jt)<=5,class:"w-8 h-8 flex items-center justify-center bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-lg hover:bg-purple-200 dark:hover:bg-purple-900/50 disabled:opacity-50 disabled:cursor-not-allowed"},l[0]||(l[0]=[r("span",{class:"i-heroicons-minus text-lg"},null,-1)]),8,oC),r("div",sC,v(n.value),1),r("button",{onClick:t,disabled:f(jt)>=100,class:"w-8 h-8 flex items-center justify-center bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-lg hover:bg-purple-200 dark:hover:bg-purple-900/50 disabled:opacity-50 disabled:cursor-not-allowed"},l[1]||(l[1]=[r("span",{class:"i-heroicons-plus text-lg"},null,-1)]),8,nC)]),l[3]||(l[3]=r("p",{class:"text-xs text-gray-500 dark:text-gray-400 mt-2"}," Quests required to unlock ascension (only shown in debug mode) ",-1))]))}}),lC={class:"space-y-4"},iC={key:0,class:"mb-4"},uC={class:"bg-green-50 dark:bg-green-900/20 rounded-xl p-3 sm:p-4 shadow-md border border-green-200 dark:border-green-800/50"},cC={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},dC={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-3 sm:p-4 mb-4"},mC={class:"flex flex-col sm:flex-row sm:items-center justify-between mb-2 gap-2"},pC=Ie({__name:"MegaAntTab",setup(e){const t=ps(),o=gt(),n=st(),a=St(),{showToast:l}=Ot(),{isClosing:i,handleClose:u}=br(),{canAscend:c,ascensionLockExplanation:d}=Na(),m=B(!1),b=B(null);L({get:()=>o.showHelpSection,set:ie=>o.toggleHelpSection(ie)});const x=B(!1),h=B(!1),C=L(()=>o.level.gte(20)||o.ascensionCount>0),w=B(!1),M=B(null),S=L(()=>ge(o.stomachContent,1)),_=L(()=>ge(o.pheromoneStomachContent,1)),y=L(()=>s(o.effectiveDecayRate).mul(60).toFixed(1)),P=L(()=>s(o.effectivePheromoneDecayRate).mul(60).toFixed(1)),I=L(()=>ge(o.effectiveStomachCapacity)),U=L(()=>ge(o.effectivePheromoneStomachCapacity)),q=L(()=>o.decayEfficiencyMultiplier.toFixed(2)),k=L(()=>o.pheromoneEfficiencyMultiplier.toFixed(2)),W=L(()=>o.ascensionMultiplier.toFixed(2)),le=L(()=>o.ascensionMultiplier.add(s(.25)).toFixed(2)),X=L(()=>ge(o.experience)),j=L(()=>ge(o.experienceForNextLevel)),T=L(()=>ge(o.colonyExperience)),K=L(()=>ge(o.colonyExperienceForNextLevel)),fe=ie=>ge(ie,1),we=ie=>ge(ie,1),Se=ie=>{const O=Date.now(),$=Math.floor((O-ie)/1e3);return $<60?`${$}s ago`:$<3600?`${Math.floor($/60)}m ago`:`${Math.floor($/3600)}h ago`},pe=(ie,O=0)=>{const $=typeof O=="number"?s(O):O;if(Object.values(ut).includes(ie)){const A=o.getUpgrade(ie);if(!A||A.maxLevel&&A.level>=A.maxLevel)return"0";const Q=A.getEffectValue(A.level),re=A.getEffectValue(A.level+1).sub(Q),V=$.eq(0)?re:$;switch(ie){case ut.STOMACH_CAPACITY:case ut.PHEROMONE_STOMACH_CAPACITY:return`${V.round().toString()} units`;case ut.DECAY_RATE:case ut.PHEROMONE_DECAY_RATE:return`${V.toFixed(2)}/sec`;case ut.EFFICIENCY:case ut.PHEROMONE_EFFICIENCY:return`${V.toFixed(2)}x`;default:return`${V.toString()}`}}else if(Object.values(Nt).includes(ie)){const A=o.getColonyUpgrade(ie);return!A||A.maxLevel&&A.level>=A.maxLevel?"0":`${$.mul(100).toFixed(0)}%`}return"0"},ce=ie=>{if(o.purchaseUpgrade(ie)){const $=o.getUpgrade(ie);$&&l(`Upgraded ${$.name} to level ${$.level}`,"success")}else l("Not enough levels to purchase upgrade","error")},ke=ie=>{if(o.purchaseColonyUpgrade(ie)){const $=o.getColonyUpgrade(ie);$&&l(`Upgraded ${$.name} to level ${$.level}`,"success")}else l("Not enough colony levels to purchase upgrade","error")},ue=ie=>{const O=o.canUpgrade(ie);return o.isUpgradeMaxed(ie)?"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300 cursor-not-allowed":O?"bg-emerald-500 hover:bg-emerald-600 dark:bg-emerald-600 dark:hover:bg-emerald-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed"},Z=ie=>{const O=o.canColonyUpgrade(ie);return o.isColonyUpgradeMaxed(ie)?"bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300 cursor-not-allowed":O?"bg-purple-500 hover:bg-purple-600 dark:bg-purple-600 dark:hover:bg-purple-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed"},de=ie=>o.isUpgradeMaxed(ie)?"Maxed":"Upgrade (1 level)",oe=ie=>o.isColonyUpgradeMaxed(ie)?"Maxed":"Upgrade (1 level)",te=()=>{try{if(n.food.lte(0)){b.value="No food available to feed",setTimeout(()=>{b.value=null},3e3);return}if(o.isStomachFull){b.value="Crop is full, wait for digestion",setTimeout(()=>{b.value=null},3e3);return}m.value=!0;const ie=new he(n.food.toString()),O=s(Math.max(1,Math.floor(Math.log10(parseFloat(ie.toString()))))),{xpValue:$,foodConsumed:A}=o.feedAnt(ie);n.food=n.food.sub(A),b.value=`Fed ${ge(A)} food to the Mega Ant, potential XP: ${ge($)}`,setTimeout(()=>{b.value=null},3e3)}catch(ie){console.error("Error feeding Mega Ant:",ie),b.value="An error occurred",setTimeout(()=>{b.value=null},3e3)}finally{m.value=!1}},ae=()=>{try{if(a.pheromoneEssence.lte(0)){M.value="No pheromone essence available to feed",setTimeout(()=>{M.value=null},3e3);return}if(o.isPheromoneStomachFull){M.value="True stomach is full, wait for digestion",setTimeout(()=>{M.value=null},3e3);return}w.value=!0;const ie=new he(a.pheromoneEssence.toString()),{xpValue:O,essenceConsumed:$}=o.feedAntPheromone(ie);a.pheromoneEssence=a.pheromoneEssence.sub($),M.value=`Fed ${ge($)} pheromone essence to the Mega Ant, potential XP: ${ge(O)}`,setTimeout(()=>{M.value=null},3e3)}catch(ie){console.error("Error feeding pheromone essence to Mega Ant:",ie),M.value="An error occurred",setTimeout(()=>{M.value=null},3e3)}finally{w.value=!1}},F=()=>{if(!c.value){l(d.value,"error"),E();return}h.value=!0;try{console.log("Starting ascension process...");const ie=o.ascend();l(`Ascension ${ie} complete! Colony reset with preserved upgrades.`,"success"),setTimeout(()=>{l("Evolution Points and colony progress were reset, but your Mega Ant upgrades remain!","info")},2e3),setTimeout(()=>{const O=o.ascensionMultiplier.sub(s(1)).mul(100).toFixed(0);l(`You now have +${O}% XP gain from Ascension level ${ie}`,"info")},4e3),x.value=!1,console.log("Ascension complete:",ie)}catch(ie){console.error("Error during ascension:",ie),l("An error occurred during ascension","error")}finally{h.value=!1}t.push("/")},E=()=>{u(()=>{x.value=!1})},N=B("megaAnt"),me=Ua();return(ie,O)=>(p(),g($e,null,[r("div",lC,[Ee(i$),f(me)?(p(),g("div",iC,[Ee(aC)])):G("",!0),r("div",uC,[Ee(g$,{formattedAscensionMultiplier:W.value,onShowAscensionModal:O[0]||(O[0]=$=>x.value=!0)},null,8,["formattedAscensionMultiplier"]),r("div",cC,[Ee(w$,{isFeeding:m.value,isFeedingPheromone:w.value},null,8,["isFeeding","isFeedingPheromone"]),Ee(j$,{formattedAscensionMultiplier:W.value,formattedEffectiveStomachCapacity:I.value,formattedDecayRate:y.value,formattedEffectivePheromoneStomachCapacity:U.value,formattedPheromoneDecayRate:P.value},null,8,["formattedAscensionMultiplier","formattedEffectiveStomachCapacity","formattedDecayRate","formattedEffectivePheromoneStomachCapacity","formattedPheromoneDecayRate"])]),r("div",dC,[r("div",mC,[O[2]||(O[2]=r("h3",{class:"font-bold text-green-800 dark:text-green-200"},"Your Mega Ant",-1)),Ee(eC)]),Ee(X$,{formattedExperience:X.value,formattedExperienceForNextLevel:j.value,formattedColonyExperience:T.value,formattedColonyExperienceForNextLevel:K.value},null,8,["formattedExperience","formattedExperienceForNextLevel","formattedColonyExperience","formattedColonyExperienceForNextLevel"]),Ee(o$,{formattedStomachContent:S.value,formattedEffectiveStomachCapacity:I.value,formattedPheromoneStomachContent:_.value,formattedEffectivePheromoneStomachCapacity:U.value,formattedDecayRate:y.value,formattedPheromoneDecayRate:P.value,isFeeding:m.value,isFeedingPheromone:w.value,feedingResult:b.value,feedingPheromoneResult:M.value,feedAllToMegaAnt:te,feedPheromoneToMegaAnt:ae},null,8,["formattedStomachContent","formattedEffectiveStomachCapacity","formattedPheromoneStomachContent","formattedEffectivePheromoneStomachCapacity","formattedDecayRate","formattedPheromoneDecayRate","isFeeding","isFeedingPheromone","feedingResult","feedingPheromoneResult"]),Ee(vw,{formatDigestionAmount:fe,formatTimestamp:Se,formatXpGained:we}),Ee(_5,{activeTab:N.value,"onUpdate:activeTab":O[1]||(O[1]=$=>N.value=$),formattedEffectiveStomachCapacity:I.value,formattedEffectivePheromoneStomachCapacity:U.value,formattedDecayEfficiencyMultiplier:q.value,formattedPheromoneEfficiencyMultiplier:k.value,formatUpgradeImprovement:pe,buttonClass:ue,upgradeButtonText:de,colonyButtonClass:Z,colonyUpgradeButtonText:oe,purchaseUpgrade:ce,purchaseColonyUpgrade:ke},null,8,["activeTab","formattedEffectiveStomachCapacity","formattedEffectivePheromoneStomachCapacity","formattedDecayEfficiencyMultiplier","formattedPheromoneEfficiencyMultiplier"]),Ee(y3,{formattedEffectiveStomachCapacity:I.value,formattedEffectivePheromoneStomachCapacity:U.value,formattedDecayEfficiencyMultiplier:q.value,formattedPheromoneEfficiencyMultiplier:k.value,formatUpgradeImprovement:pe,buttonClass:ue,upgradeButtonText:de,colonyButtonClass:Z,colonyUpgradeButtonText:oe,purchaseUpgrade:ce,purchaseColonyUpgrade:ke},null,8,["formattedEffectiveStomachCapacity","formattedEffectivePheromoneStomachCapacity","formattedDecayEfficiencyMultiplier","formattedPheromoneEfficiencyMultiplier"])])])]),x.value?(p(),Ge(Z_,{key:0,isClosing:f(i),isAscending:h.value,isAscensionRecommended:C.value,formattedAscensionMultiplier:W.value,formattedNextAscensionMultiplier:le.value,onClose:E,onAscend:F},null,8,["isClosing","isAscending","isAscensionRecommended","formattedAscensionMultiplier","formattedNextAscensionMultiplier"])):G("",!0)],64))}}),fC=We(pC,[["__scopeId","data-v-ca09b0e2"]]),gC={class:"flex w-full justify-center"},vC=["onClick","title"],bC={class:"hidden sm:inline"},cd=Ie({__name:"FixedTabNavigation",props:{tabs:{},activeTabId:{},bgGradient:{},borderColor:{},textColor:{},activeTextColor:{},activeBgColor:{},activeBorderColor:{}},emits:["tabChange"],setup(e,{emit:t}){const o=e,n=t,a=L(()=>o.bgGradient||"from-amber-800/90 to-amber-700/90 dark:from-amber-900/90 dark:to-amber-800/90"),l=L(()=>o.borderColor||"border-amber-600/30 dark:border-amber-800/30"),i=L(()=>o.textColor||"text-amber-200"),u=L(()=>o.activeTextColor||"text-amber-200"),c=L(()=>o.activeBgColor||"bg-amber-900/30"),d=L(()=>o.activeBorderColor||"border-amber-500"),m=b=>{if(b.disabled){b.id==="megaAntLocked"&&n("tabChange","megaAntLocked");return}n("tabChange",b.id)};return(b,x)=>(p(),g("div",{class:ee(["fixed bottom-[55px] left-0 right-0 z-20 border-t shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]",[`bg-gradient-to-r ${a.value}`,l.value]])},[r("div",gC,[(p(!0),g($e,null,Te(b.tabs,h=>(p(),g("button",{key:h.id,onClick:C=>m(h),title:h.title,class:ee(["flex-1 px-2 sm:px-4 py-2 text-sm font-medium transition-colors duration-200 flex items-center justify-center relative",[h.disabled?"opacity-50 cursor-not-allowed":"",b.activeTabId===h.id?`${c.value} ${u.value} border-t-2 ${d.value}`:`${i.value} hover:bg-black/10`]])},[r("span",{class:ee([h.icon,"text-lg sm:text-base sm:mr-1.5"])},null,2),r("span",bC,v(h.label),1),h.badge?(p(),g("span",{key:0,class:ee(["absolute -top-1 -right-1 sm:static sm:ml-1.5 text-2xs sm:text-xs px-1 sm:px-1.5 py-0.5 rounded-full",[h.badge.color||"bg-blue-900/50 text-blue-300"]])},v(h.badge.indicator?"!":h.badge.count),3)):G("",!0)],10,vC))),128))])],2))}}),hC={class:"bg-gradient-to-br from-red-100 to-red-50 dark:from-red-900/40 dark:to-red-800/30 rounded-xl p-3 shadow-md"},xC={class:"flex items-center justify-between mb-2"},yC={class:"text-xs bg-red-900/30 dark:bg-red-950/50 px-2 py-0.5 rounded-full whitespace-nowrap"},kC={class:"w-full h-2 bg-red-900/30 dark:bg-red-950/50 rounded-full overflow-hidden"},_C={class:"text-xs text-red-600 dark:text-red-400 mt-1"},wC=Ie({__name:"AdventureProgressBar",setup(e){const t=Jt();return(o,n)=>(p(),g("div",hC,[r("div",xC,[n[0]||(n[0]=r("h2",{class:"text-base font-bold flex items-center"},[r("span",{class:"i-heroicons-clock text-red-700 dark:text-red-500 mr-2"}),Y(" Adventure Progress ")],-1)),r("span",yC,v(f(t).adventureTimeRemaining)+"s ",1)]),r("div",kC,[r("div",{class:"h-full bg-gradient-to-r from-red-600 to-red-500 dark:from-red-500 dark:to-red-400 transition-all duration-100 ease-linear",style:je({width:`${f(t).adventureProgressPercentage}%`})},null,4)]),r("div",_C,v(f(t).adventureProgressPercentage)+"% ",1)]))}}),Ba="/assets/ant_legion_commander-C5cKxXcU.png",Qa="/assets/ant_queen_guardian-I7ddOW1u.png",ja="/assets/ant_scout_master-qaafyEy9.png",Ha="/assets/ant_tactician-C-GWp6T6.png",Ga="/assets/ant_training_master-DhI7Ty-N.png",Va="/assets/apocalyptic_termites-C-SwTaRu.png",Wa="/assets/army_ant-BMrIvFIN.png",za="/assets/beetle-DFb7nM7X.png",Xa="/assets/cockroach-Cub6YCf-.png",Ka="/assets/colossal_cockroach-BhWt9zbG.png",Ya="/assets/endless_ant_swarms-CyPswJ6S.png",Ja="/assets/fire_ant-CNsMjxeh.png",Za="/assets/galactic_moth-D9hG3_XU.png",el="/assets/giant_firefly-Dkpiolxv.png",tl="/assets/giant_moth-BIUE9a9k.png",rl="/assets/giant_stag_beetle-BUEGxrHm.png",ol="/assets/grasshopper-x_AIOsQP.png",sl="/assets/housefly-CSRtOeq8.png",nl="/assets/ladybug-DL6Y_zcL.png",al="/assets/mosquito-Dp9dA8Y1.png",ll="/assets/mutant_fly-CJ0cMboN.png",il="/assets/quantum_beetle--T5ffHWC.png",ul="/assets/queen_wasp-DesT5ckY.png",cl="/assets/radioactive_spider-D_F9GcKn.png",dl="/assets/safe-3YavcRxt.png",ml="/assets/scorpion-D22Gkv9_.png",pl="/assets/soldier-BsKI4Heo.png",fl="/assets/stag_beetle_swarm-_rP6jdjp.png",gl="/assets/swarm_lord-diHnktQ9.png",vl="/assets/tarantula-Cv5WKZZQ.png",bl="/assets/termite-HzWLYfUy.png",hl="/assets/ultra_beetle-BKBsMMxN.png",xl="/assets/wasp-LxnO7bdh.png",yl="/assets/worker-ChD_3XO8.png";function dd(){return{analyzeImage:t=>new Promise(o=>{const n=new Image;n.crossOrigin="Anonymous",n.onload=()=>{const a=document.createElement("canvas"),l=a.getContext("2d");if(!l){o({dominantColor:"#ffffff",backgroundColor:"#f3f4f6",borderColor:"#e5e7eb"});return}a.width=32,a.height=32,l.drawImage(n,0,0,a.width,a.height);const u=l.getImageData(0,0,a.width,a.height).data;let c=0,d=0,m=0,b=0;for(let w=0;w<u.length;w+=16)c+=u[w],d+=u[w+1],m+=u[w+2],b++;c=Math.round(c/b),d=Math.round(d/b),m=Math.round(m/b);const x=(.299*c+.587*d+.114*m)/255,h=x>.5?"#f3f4f6":"#1f2937",C=x>.5?"#e5e7eb":"#374151";console.log("dominantColor",`rgb(${c}, ${d}, ${m})`),console.log("backgroundColor",h),console.log("borderColor",C),console.log("luminance",x),o({dominantColor:`rgb(${c}, ${d}, ${m})`,backgroundColor:h,borderColor:C})},n.onerror=()=>{o({dominantColor:"#ffffff",backgroundColor:"#f3f4f6",borderColor:"#e5e7eb"})},n.src=t})}}const $C={class:"flex flex-col items-center mb-4"},CC={class:"relative w-24 h-24 mb-2"},SC={class:"relative z-10 w-full h-full"},AC=["src","alt"],EC={key:1,class:"i-heroicons-bug-ant text-amber-700 dark:text-amber-500 text-4xl absolute inset-0 flex items-center justify-center"},MC={class:"flex flex-col items-center gap-2"},PC={class:"text-base font-bold text-amber-800 dark:text-amber-200"},TC={class:"flex items-center gap-2"},LC={key:0,class:"text-xs bg-amber-100 dark:bg-amber-900/50 px-2 py-0.5 rounded-full text-amber-800 dark:text-amber-300 font-medium flex items-center"},IC={class:"text-xs bg-amber-200 dark:bg-amber-900/50 px-2 py-0.5 rounded-full text-amber-800 dark:text-amber-300 font-medium"},FC={class:"w-full h-2.5 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden mb-3"},UC={key:0,class:"mb-3 bg-amber-100 dark:bg-amber-900/30 rounded-md p-2 text-xs"},RC={class:"flex items-center justify-between mb-1"},DC={class:"flex items-center"},qC={class:"font-medium text-amber-800 dark:text-amber-300"},NC={class:"text-amber-700 dark:text-amber-400"},OC={key:0,class:"w-full h-1.5 bg-amber-200 dark:bg-amber-800 rounded-full overflow-hidden"},BC={class:"grid grid-cols-2 gap-2 mb-2"},QC={class:"space-y-1"},jC={class:"bg-amber-100/70 dark:bg-amber-900/30 p-1.5 rounded text-xs flex justify-between"},HC={class:"font-medium text-amber-800 dark:text-amber-300"},GC={class:"bg-amber-100/70 dark:bg-amber-900/30 p-1.5 rounded text-xs flex justify-between"},VC={class:"font-medium text-amber-800 dark:text-amber-300"},WC={class:"bg-amber-100/70 dark:bg-amber-900/30 p-1.5 rounded text-xs flex justify-between"},zC={class:"font-medium text-amber-800 dark:text-amber-300"},XC={class:"space-y-1"},KC={class:"bg-amber-100/70 dark:bg-amber-900/30 p-1.5 rounded text-xs flex justify-between"},YC={class:"font-medium text-amber-800 dark:text-amber-300"},JC={class:"bg-amber-100/70 dark:bg-amber-900/30 p-1.5 rounded text-xs flex justify-between"},ZC={class:"font-medium text-amber-800 dark:text-amber-300"},eS={class:"bg-amber-100/70 dark:bg-amber-900/30 p-1.5 rounded text-xs flex justify-between"},tS={class:"font-medium text-amber-800 dark:text-amber-300"},rS={class:"bg-amber-100/70 dark:bg-amber-900/30 p-2 rounded text-xs space-y-1 mb-3"},oS={class:"flex justify-between"},sS={class:"font-medium text-amber-800 dark:text-amber-300"},nS={class:"flex justify-between"},aS={class:"font-medium text-amber-800 dark:text-amber-300"},lS={class:"flex justify-between"},iS={class:"font-medium text-amber-800 dark:text-amber-300"},uS=Ie({__name:"CombatStatusCard",props:{bug:{}},setup(e){const t=e,o=ir(),n=Bt(),a=ht(),{analyzeImage:l}=dd(),i=B("#f3f4f6"),u=B("#e5e7eb"),c=L(()=>!a.activeQuest||!t.bug?!1:a.activeQuest.goals&&a.activeQuest.goals.length>0?a.activeQuest.goals.some(y=>y.type===mt.KILL_BUGS&&(!y.target||y.target===t.bug.id)):!1),d=L(()=>{if(!c.value||!a.activeQuest)return null;const y=a.activeQuest.goals.find(P=>P.type===mt.KILL_BUGS&&(!P.target||P.target===t.bug.id));return y?{title:a.activeQuest.title,currentAmount:y.currentAmount,requiredAmount:y.requiredAmount,progress:y.currentAmount instanceof he&&y.requiredAmount instanceof he?`${ge(y.currentAmount)}/${ge(y.requiredAmount)}`:`${y.currentAmount}/${y.requiredAmount}`}:null}),m=L(()=>t.bug?t.bug.health.div(t.bug.maxHealth).mul(100).toNumber():0),b=L(()=>n.calculateDamage(n.playerDamage,t.bug.defense)),x=L(()=>n.calculateDamage(t.bug.damage,n.playerDefense)),h=L(()=>t.bug.health.div(b.value).ceil()),C=L(()=>n.playerMaxHealth.div(x.value).floor()),w=L(()=>{const y=o.bugs.findIndex(I=>I.id===t.bug.id),P=he.fromNumber(10).mul(he.pow(1.2,y));return y>50?P.mul(he.fromNumber(50+(y-50)*.5)):P}),M=L(()=>{const y=o.bugs.findIndex(I=>I.id===t.bug.id),P=he.fromNumber(5).mul(he.pow(1.15,y));return y>50?P.mul(he.fromNumber(50+(y-50)*.3)).floor():P.floor()}),S=(y,P)=>{try{if(y instanceof he&&P instanceof he)return Math.min(100,y.div(P).toNumber()*100);if(typeof y=="string"&&typeof P=="string"){const I=new he(y),U=new he(P);return Math.min(100,I.div(U).toNumber()*100)}else{const I=y instanceof he?y:new he(y),U=P instanceof he?P:new he(P);return Math.min(100,I.div(U).toNumber()*100)}}catch(I){return console.error("Error calculating progress percentage:",I),0}},_=L(()=>{try{return new URL(Object.assign({"../../assets/bugs/ant_legion_commander.png":Ba,"../../assets/bugs/ant_queen_guardian.png":Qa,"../../assets/bugs/ant_scout_master.png":ja,"../../assets/bugs/ant_tactician.png":Ha,"../../assets/bugs/ant_training_master.png":Ga,"../../assets/bugs/apocalyptic_termites.png":Va,"../../assets/bugs/army_ant.png":Wa,"../../assets/bugs/beetle.png":za,"../../assets/bugs/cockroach.png":Xa,"../../assets/bugs/colossal_cockroach.png":Ka,"../../assets/bugs/endless_ant_swarms.png":Ya,"../../assets/bugs/fire_ant.png":Ja,"../../assets/bugs/galactic_moth.png":Za,"../../assets/bugs/giant_firefly.png":el,"../../assets/bugs/giant_moth.png":tl,"../../assets/bugs/giant_stag_beetle.png":rl,"../../assets/bugs/grasshopper.png":ol,"../../assets/bugs/housefly.png":sl,"../../assets/bugs/ladybug.png":nl,"../../assets/bugs/mosquito.png":al,"../../assets/bugs/mutant_fly.png":ll,"../../assets/bugs/quantum_beetle.png":il,"../../assets/bugs/queen_wasp.png":ul,"../../assets/bugs/radioactive_spider.png":cl,"../../assets/bugs/safe.png":dl,"../../assets/bugs/scorpion.png":ml,"../../assets/bugs/soldier.png":pl,"../../assets/bugs/stag_beetle_swarm.png":fl,"../../assets/bugs/swarm_lord.png":gl,"../../assets/bugs/tarantula.png":vl,"../../assets/bugs/termite.png":bl,"../../assets/bugs/ultra_beetle.png":hl,"../../assets/bugs/wasp.png":xl,"../../assets/bugs/worker.png":yl})[`../../assets/bugs/${t.bug.id}.png`],import.meta.url).href}catch{return null}});return He(async()=>{if(_.value){const y=await l(_.value);i.value=y.backgroundColor,u.value=y.borderColor}}),De(()=>t.bug.id,async y=>{if(_.value){const P=await l(_.value);i.value=P.backgroundColor,u.value=P.borderColor}}),(y,P)=>(p(),g("div",{class:ee(["bg-gradient-to-br rounded-xl p-3 shadow-md border h-full transition-all duration-200",[c.value?"from-amber-100/80 to-amber-50/80 dark:from-amber-900/30 dark:to-amber-800/20 border-2 border-amber-400 dark:border-amber-600":"from-amber-100 to-amber-50 dark:from-amber-900/40 dark:to-amber-800/30 border-2 border-amber-300 dark:border-amber-700"]])},[r("div",$C,[r("div",CC,[r("div",{class:"absolute inset-0 rounded-full shadow-md border-2",style:je({backgroundColor:i.value,borderColor:u.value})},null,4),r("div",SC,[_.value?(p(),g("img",{key:0,src:_.value,alt:y.bug.name,class:"w-full h-full object-contain p-1"},null,8,AC)):(p(),g("span",EC))])]),r("div",MC,[r("h2",PC,v(y.bug.name),1),r("div",TC,[c.value?(p(),g("span",LC,P[0]||(P[0]=[r("span",{class:"i-heroicons-clipboard-document-check mr-1"},null,-1),Y(" Quest Target ")]))):G("",!0),r("span",IC,v(Math.round(m.value))+"% HP ",1)])])]),r("div",FC,[r("div",{class:"h-full bg-amber-500 dark:bg-amber-600 rounded-full transition-all duration-200",style:je(`width: ${m.value}%`)},null,4)]),c.value&&d.value?(p(),g("div",UC,[r("div",RC,[r("div",DC,[P[1]||(P[1]=r("span",{class:"i-heroicons-flag text-amber-600 dark:text-amber-400 mr-1"},null,-1)),r("span",qC,v(d.value.title),1)]),r("span",NC,v(d.value.progress),1)]),d.value.currentAmount&&d.value.requiredAmount?(p(),g("div",OC,[r("div",{class:"h-full bg-amber-500 dark:bg-amber-600 rounded-full",style:je(`width: ${S(d.value.currentAmount,d.value.requiredAmount)}%`)},null,4)])):G("",!0)])):G("",!0),r("div",BC,[r("div",QC,[P[5]||(P[5]=r("h3",{class:"text-sm font-semibold text-amber-800 dark:text-amber-300 mb-1"},"Combat Stats",-1)),r("div",jC,[P[2]||(P[2]=r("span",{class:"text-amber-700 dark:text-amber-400"},"Health:",-1)),r("span",HC,v(f(ge)(y.bug.health))+" / "+v(f(ge)(y.bug.maxHealth)),1)]),r("div",GC,[P[3]||(P[3]=r("span",{class:"text-amber-700 dark:text-amber-400"},"Damage:",-1)),r("span",VC,v(f(ge)(y.bug.damage)),1)]),r("div",WC,[P[4]||(P[4]=r("span",{class:"text-amber-700 dark:text-amber-400"},"Defense:",-1)),r("span",zC,v(f(ge)(y.bug.defense)),1)])]),r("div",XC,[P[9]||(P[9]=r("h3",{class:"text-sm font-semibold text-amber-800 dark:text-amber-300 mb-1"},"Rewards",-1)),r("div",KC,[P[6]||(P[6]=r("span",{class:"text-amber-700 dark:text-amber-400"},"Food:",-1)),r("span",YC,v(f(ge)(w.value)),1)]),r("div",JC,[P[7]||(P[7]=r("span",{class:"text-amber-700 dark:text-amber-400"},"Essence:",-1)),r("span",ZC,v(f(ge)(M.value)),1)]),r("div",eS,[P[8]||(P[8]=r("span",{class:"text-amber-700 dark:text-amber-400"},"Time to Kill:",-1)),r("span",tS,v(f(ge)(h.value))+" hits",1)])])]),r("div",rS,[r("div",oS,[P[10]||(P[10]=r("span",{class:"text-amber-700 dark:text-amber-400"},"You deal:",-1)),r("span",sS,v(f(ge)(b.value))+" per hit",1)]),r("div",nS,[P[11]||(P[11]=r("span",{class:"text-amber-700 dark:text-amber-400"},"You take:",-1)),r("span",aS,v(f(ge)(x.value))+" per hit",1)]),r("div",lS,[P[12]||(P[12]=r("span",{class:"text-amber-700 dark:text-amber-400"},"You survive:",-1)),r("span",iS,v(f(ge)(C.value))+" hits",1)])]),P[13]||(P[13]=r("div",{class:"text-center text-xs text-amber-700 dark:text-amber-400"}," To change enemies, select a different bug from the Adventure Map below. ",-1))],2))}}),cS={class:"bg-gradient-to-br from-red-100 to-red-50 dark:from-red-900/40 dark:to-red-800/30 rounded-xl p-3 shadow-md h-full"},dS={class:"flex flex-col items-center mb-4"},mS={class:"relative w-24 h-24 mb-2"},pS={class:"relative z-10 w-full h-full"},fS=["src"],gS={key:1,class:"i-heroicons-user-circle text-red-700 dark:text-red-500 text-4xl absolute inset-0 flex items-center justify-center"},vS={class:"flex items-center gap-2"},bS={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-red-200 dark:border-red-700 mb-2"},hS={class:"text-xs text-red-700 dark:text-red-400 font-medium flex justify-between"},xS={class:"h-2 bg-red-100 dark:bg-red-900/50 rounded-full mt-1 overflow-hidden"},yS={class:"text-xs text-red-600 dark:text-red-400 mt-1"},kS={class:"grid grid-cols-3 gap-2 mb-2"},_S={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-red-200 dark:border-red-700"},wS={class:"text-sm font-bold flex items-center"},$S={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-red-200 dark:border-red-700"},CS={class:"text-sm font-bold flex items-center"},SS={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-red-200 dark:border-red-700"},AS={class:"text-sm font-bold flex items-center"},ES={class:"flex flex-col gap-2"},MS={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-red-200 dark:border-red-700 flex items-center"},PS={class:"flex items-center gap-2 text-xs text-red-700 dark:text-red-400 cursor-pointer"},TS={key:0,class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-red-200 dark:border-red-700 flex items-center"},LS={class:"flex items-center gap-2 text-xs text-red-700 dark:text-red-400 cursor-pointer"},IS={key:1,class:"relative tooltip-container"},FS={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-gray-300 dark:border-gray-700 flex items-center opacity-75"},US={class:"ml-auto flex items-center"},RS={class:"mt-1 text-sm font-medium text-gray-500 dark:text-gray-400"},DS=Ie({__name:"PlayerStatsCard",setup(e){const t=Bt(),o=ht(),n=Ve(),{analyzeImage:a}=dd(),l=B("#f3f4f6"),i=B("#e5e7eb"),u=B(!1),c=()=>{u.value=!u.value},d=_=>{_.target.closest(".tooltip-container")||(u.value=!1)};He(async()=>{if(document.addEventListener("click",d),M.value){const _=await a(M.value);l.value=_.backgroundColor,i.value=_.borderColor}}),er(()=>{document.removeEventListener("click",d)});const m=L(()=>ge(t.currentHealth)),b=L(()=>ge(t.playerMaxHealth)),x=L(()=>ge(t.playerDamage)),h=L(()=>ge(t.playerRegen)),C=L(()=>ge(t.playerDefense)),w=L(()=>t.playerMaxHealth.eq(0)?0:t.currentHealth.div(t.playerMaxHealth).mul(100).toNumber()),M=L(()=>{try{return new URL("/assets/player-CETUAJX7.png",import.meta.url).href}catch{return null}});L(()=>o.activeQuest?o.activeQuest.goals.some(_=>_.type==="kill_bugs"):!1);const S=L(()=>{const _=n.getUpgrade("unlockAutoQuestAdvance");return _?ge(_.cost):"250"});return(_,y)=>(p(),g("section",cS,[r("div",dS,[r("div",mS,[r("div",{class:"absolute inset-0 rounded-full shadow-md border-2",style:je({backgroundColor:l.value,borderColor:i.value})},null,4),r("div",pS,[M.value?(p(),g("img",{key:0,src:M.value,alt:"Player",class:"w-full h-full object-contain p-1"},null,8,fS)):(p(),g("span",gS))])]),r("div",vS,[y[2]||(y[2]=r("h2",{class:"text-base font-bold text-red-800 dark:text-red-200"},"Player Stats",-1)),r("span",{class:ee(["text-xs px-2 py-0.5 rounded-full",f(t).isDead?"bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300":"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300"])},v(f(t).isDead?"Dead":"Alive"),3)])]),r("div",bS,[r("div",hS,[y[3]||(y[3]=r("span",null,"Health",-1)),r("span",null,v(Math.round(w.value))+"%",1)]),r("div",xS,[r("div",{class:"h-full bg-gradient-to-r from-red-600 to-red-500 dark:from-red-500 dark:to-red-400 transition-all duration-300 ease-out",style:je({width:`${w.value}%`})},null,4)]),r("div",yS,v(m.value)+" / "+v(b.value),1)]),r("div",kS,[r("div",_S,[y[5]||(y[5]=r("div",{class:"text-xs text-red-700 dark:text-red-400 font-medium"},"Attack",-1)),r("div",wS,[y[4]||(y[4]=r("span",{class:"i-heroicons-bolt text-red-600 dark:text-red-500 mr-1 text-xs"},null,-1)),Y(" "+v(x.value),1)])]),r("div",$S,[y[7]||(y[7]=r("div",{class:"text-xs text-red-700 dark:text-red-400 font-medium"},"Defense",-1)),r("div",CS,[y[6]||(y[6]=r("span",{class:"i-heroicons-shield-check text-red-600 dark:text-red-500 mr-1 text-xs"},null,-1)),Y(" "+v(C.value),1)])]),r("div",SS,[y[9]||(y[9]=r("div",{class:"text-xs text-red-700 dark:text-red-400 font-medium"},"Regen",-1)),r("div",AS,[y[8]||(y[8]=r("span",{class:"i-heroicons-arrow-path text-red-600 dark:text-red-500 mr-1 text-xs"},null,-1)),Y(" "+v(h.value),1)])])]),r("div",ES,[r("div",MS,[r("label",PS,[tt(r("input",{type:"checkbox","onUpdate:modelValue":y[0]||(y[0]=P=>f(t).autoAdvance=P),class:"rounded border-red-300 text-red-600 focus:ring-red-500 dark:border-red-700 dark:bg-red-900/30"},null,512),[[Mt,f(t).autoAdvance]]),y[10]||(y[10]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-rocket-launch text-red-600 dark:text-red-400 mr-1.5"}),r("span",{class:"font-medium"},"Auto Advance (One Hit Kills)")],-1))]),y[11]||(y[11]=r("div",{class:"ml-auto text-xs text-red-600 dark:text-red-400 opacity-80"},[r("span",{class:"i-heroicons-arrow-right-circle"})],-1))]),f(t).isAutoQuestAdvanceUnlocked?(p(),g("div",TS,[r("label",LS,[tt(r("input",{type:"checkbox","onUpdate:modelValue":y[1]||(y[1]=P=>f(t).autoQuestAdvance=P),class:"rounded border-red-300 text-red-600 focus:ring-red-500 dark:border-red-700 dark:bg-red-900/30"},null,512),[[Mt,f(t).autoQuestAdvance]]),y[12]||(y[12]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-clipboard-document-check text-red-600 dark:text-red-400 mr-1.5"}),r("span",{class:"font-medium"},"Auto Quest Advance")],-1))]),y[13]||(y[13]=r("div",{class:"ml-auto text-xs text-red-600 dark:text-red-400 opacity-80"},[r("span",{class:"i-heroicons-document-magnifying-glass"})],-1))])):f(t).isAutoQuestAdvanceUnlocked?G("",!0):(p(),g("div",IS,[r("div",FS,[y[16]||(y[16]=r("div",{class:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400"},[r("span",{class:"i-heroicons-lock-closed text-gray-500 dark:text-gray-400 mr-1.5"}),r("span",{class:"font-medium"},"Auto Quest Advance")],-1)),r("div",US,[y[15]||(y[15]=r("span",{class:"text-xs text-gray-400 dark:text-gray-500 opacity-80 mr-1"},[r("span",{class:"i-heroicons-document-magnifying-glass"})],-1)),r("button",{onClick:Ye(c,["stop"]),class:"p-1.5 text-gray-400 dark:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full focus:outline-none","aria-label":"Feature info"},y[14]||(y[14]=[r("span",{class:"i-heroicons-information-circle text-xs"},null,-1)]))])]),r("div",{class:ee(["absolute right-0 top-full mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-3 border border-red-200 dark:border-red-700 z-10 text-xs transition-opacity duration-200",u.value?"block opacity-100":"hidden sm:group-hover:block opacity-0 sm:group-hover:opacity-100"])},[y[17]||(y[17]=r("p",{class:"font-medium text-red-700 dark:text-red-400 mb-1"},"Feature Locked",-1)),y[18]||(y[18]=r("p",{class:"text-gray-600 dark:text-gray-300"},[Y(" Purchase the "),r("span",{class:"font-medium"},"Quest Hunter Automation"),Y(" evolution upgrade to unlock auto targeting for quest bugs. ")],-1)),r("p",RS," Cost: "+v(S.value)+" Evolution Points ",1)],2)]))])]))}}),qS=We(DS,[["__scopeId","data-v-b7ad2f62"]]),NS={class:"bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-800 dark:to-gray-700 rounded-xl p-3 shadow-md"},OS={class:"flex items-center justify-between mb-2"},BS={key:0,class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 h-36 sm:h-48 overflow-y-auto"},QS={key:0,class:"text-xs text-gray-600 dark:text-gray-400"},jS={key:1,class:"space-y-1"},HS={class:"text-gray-500 dark:text-gray-400 mr-1"},GS={key:1,class:"mt-2 text-xs text-gray-600 dark:text-gray-400 flex items-center bg-gray-50 dark:bg-gray-800 p-2 rounded-lg border border-gray-200 dark:border-gray-600"},VS=Ie({__name:"CombatLogCard",setup(e){const t=Bt(),o=B(!0),n=()=>{o.value=!o.value},a=L(()=>[...t.logs].slice(-10).reverse());return(l,i)=>(p(),g("section",NS,[r("div",OS,[i[0]||(i[0]=r("h2",{class:"text-base font-bold flex items-center"},[r("span",{class:"i-heroicons-document-text text-gray-700 dark:text-gray-300 mr-2"}),Y(" Combat Log ")],-1)),r("button",{onClick:n,class:"md:hidden text-gray-600 dark:text-gray-400 p-1 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700"},[r("span",{class:ee(o.value?"i-heroicons-chevron-up":"i-heroicons-chevron-down")},null,2)])]),o.value?(p(),g("div",BS,[f(t).logs.length===0?(p(),g("div",QS,i[1]||(i[1]=[r("p",{class:"mb-1"}," Adventure mode initialized",-1),r("p",{class:"mb-1"}," Select an enemy to begin combat",-1),r("p",{class:"mb-1"}," Combat is turn-based: you attack, then the enemy attacks",-1)]))):(p(),g("div",jS,[(p(!0),g($e,null,Te(a.value,u=>(p(),g("div",{key:u.timestamp+u.message,class:"text-xs"},[r("span",HS,v(new Date(u.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})),1),r("span",{class:ee({"text-gray-600 dark:text-gray-300":u.type==="info","text-red-600 dark:text-red-400":u.type==="combat","text-green-600 dark:text-green-400":u.type==="reward"})},v(u.message),3)]))),128))]))])):G("",!0),o.value?(p(),g("div",GS,i[2]||(i[2]=[r("span",{class:"i-heroicons-information-circle text-gray-600 dark:text-gray-400 mr-1 inline-block flex-shrink-0"},null,-1),r("span",null,"Combat is turn-based. Your damage scales with your ant count!",-1)]))):G("",!0)]))}}),WS={class:"flex items-center justify-between gap-1 mb-1.5"},zS={class:"flex items-center"},XS={class:"relative w-8 h-8 mr-2"},KS=["src","alt"],YS={key:1,class:"i-heroicons-bug-ant text-blue-600 dark:text-blue-400 text-xl"},JS={class:"font-medium text-blue-700 dark:text-blue-300 text-sm"},ZS={key:0,class:"ml-1 text-xs bg-green-100 dark:bg-green-900/50 px-1 py-0 rounded-full text-green-700 dark:text-green-400"},e4={key:1,class:"ml-1 text-xs bg-amber-100 dark:bg-amber-900/50 px-1.5 py-0.5 rounded-full text-amber-700 dark:text-amber-400 font-medium flex items-center"},t4={key:0,class:"mb-1.5 bg-amber-100 dark:bg-amber-900/30 rounded-md p-1.5 text-xs"},r4={class:"flex items-center justify-between"},o4={class:"flex items-center"},s4={class:"font-medium text-amber-800 dark:text-amber-300"},n4={class:"text-amber-700 dark:text-amber-400"},a4={key:1,class:"grid grid-cols-4 gap-1 text-xs"},l4={class:"col-span-2 flex justify-between bg-blue-50/50 dark:bg-blue-900/30 px-2 py-1 rounded"},i4={class:"font-medium text-blue-700 dark:text-blue-300"},u4={class:"col-span-2 flex justify-between bg-blue-50/50 dark:bg-blue-900/30 px-2 py-1 rounded"},c4={class:"font-medium text-blue-700 dark:text-blue-300"},d4={class:"col-span-2 flex justify-between bg-amber-50/50 dark:bg-amber-900/30 px-2 py-1 rounded"},m4={class:"font-medium text-amber-700 dark:text-amber-300"},p4={class:"col-span-2 flex justify-between bg-amber-50/50 dark:bg-amber-900/30 px-2 py-1 rounded"},f4={class:"font-medium text-amber-700 dark:text-amber-300"},g4={key:2},v4={class:"grid grid-cols-2 gap-1.5 text-xs"},b4={class:"flex justify-between bg-blue-50/50 dark:bg-blue-900/30 px-2 py-1 rounded"},h4={class:"font-medium text-blue-700 dark:text-blue-300"},x4={class:"flex justify-between bg-blue-50/50 dark:bg-blue-900/30 px-2 py-1 rounded"},y4={class:"font-medium text-blue-700 dark:text-blue-300"},k4={class:"flex justify-between bg-blue-50/50 dark:bg-blue-900/30 px-2 py-1 rounded"},_4={class:"font-medium text-blue-700 dark:text-blue-300"},w4={class:"flex justify-between bg-blue-50/50 dark:bg-blue-900/30 px-2 py-1 rounded"},$4={class:"font-medium text-blue-700 dark:text-blue-300"},C4={class:"mt-1.5 grid grid-cols-2 gap-1.5 text-xs"},S4={class:"flex justify-between bg-amber-50/50 dark:bg-amber-900/30 px-2 py-1 rounded"},A4={class:"font-medium text-amber-700 dark:text-amber-300"},E4={class:"flex justify-between bg-amber-50/50 dark:bg-amber-900/30 px-2 py-1 rounded"},M4={class:"font-medium text-amber-700 dark:text-amber-300"},P4={key:0},T4={key:1},L4={key:2},I4={key:3},F4={class:"text-blue-700 dark:text-blue-300 font-medium"},U4=Ie({__name:"BugCard",props:{bug:{}},emits:["showDropTable"],setup(e,{emit:t}){const o=e,n=t,a=Bt(),l=ir(),i=ht(),u=_=>{const y=l.bugs.findIndex(k=>k.id===_.id),P=he.fromNumber(10).mul(he.pow(1.2,y)),I=y>50?P.mul(he.fromNumber(50+(y-50)*.5)):P,U=he.fromNumber(5).mul(he.pow(1.15,y)),q=y>50?U.mul(he.fromNumber(50+(y-50)*.3)):U;return{food:I,essence:q.floor()}},c=L(()=>a.selectedBugId===o.bug.id&&a.isInCombat),d=()=>{n("showDropTable",o.bug)},m=()=>{a.toggleAutoCombat(o.bug.id)},b=L(()=>ge(o.bug.maxHealth.div(a.calculateDamage(a.playerDamage,o.bug.defense))));L(()=>ge(a.calculateDamage(o.bug.damage,a.playerDefense))),L(()=>ge(a.playerMaxHealth.div(a.calculateDamage(o.bug.damage,a.playerDefense))));const x=L(()=>a.gridDensity==="compact"),h=L(()=>{if(a.canOneHitBug(o.bug.id))return"oneHit";const _=o.bug.maxHealth.div(a.calculateDamage(a.playerDamage,o.bug.defense)),y=a.playerMaxHealth.div(a.calculateDamage(o.bug.damage,a.playerDefense));return y.gt(_.mul(1.2))?"safe":y.gt(_)?"risky":"dangerous"}),C=L(()=>{const _=u(o.bug).essence;return _.gte(1e3)?`${ge(_.div(1e3))}K`:ge(_)}),w=L(()=>!i.activeQuest||!o.bug?!1:i.activeQuest.goals&&i.activeQuest.goals.length>0?i.activeQuest.goals.some(_=>_.type===mt.KILL_BUGS&&(!_.target||_.target===o.bug.id)):!1),M=L(()=>{if(!w.value||!i.activeQuest)return null;const _=i.activeQuest.goals.find(y=>y.type===mt.KILL_BUGS&&(!y.target||y.target===o.bug.id));return _?{title:i.activeQuest.title,progress:`${_.currentAmount instanceof he?_.currentAmount.toString():_.currentAmount}/${_.requiredAmount instanceof he?_.requiredAmount.toString():_.requiredAmount}`}:null}),S=L(()=>{try{return new URL(Object.assign({"../../assets/bugs/ant_legion_commander.png":Ba,"../../assets/bugs/ant_queen_guardian.png":Qa,"../../assets/bugs/ant_scout_master.png":ja,"../../assets/bugs/ant_tactician.png":Ha,"../../assets/bugs/ant_training_master.png":Ga,"../../assets/bugs/apocalyptic_termites.png":Va,"../../assets/bugs/army_ant.png":Wa,"../../assets/bugs/beetle.png":za,"../../assets/bugs/cockroach.png":Xa,"../../assets/bugs/colossal_cockroach.png":Ka,"../../assets/bugs/endless_ant_swarms.png":Ya,"../../assets/bugs/fire_ant.png":Ja,"../../assets/bugs/galactic_moth.png":Za,"../../assets/bugs/giant_firefly.png":el,"../../assets/bugs/giant_moth.png":tl,"../../assets/bugs/giant_stag_beetle.png":rl,"../../assets/bugs/grasshopper.png":ol,"../../assets/bugs/housefly.png":sl,"../../assets/bugs/ladybug.png":nl,"../../assets/bugs/mosquito.png":al,"../../assets/bugs/mutant_fly.png":ll,"../../assets/bugs/quantum_beetle.png":il,"../../assets/bugs/queen_wasp.png":ul,"../../assets/bugs/radioactive_spider.png":cl,"../../assets/bugs/safe.png":dl,"../../assets/bugs/scorpion.png":ml,"../../assets/bugs/soldier.png":pl,"../../assets/bugs/stag_beetle_swarm.png":fl,"../../assets/bugs/swarm_lord.png":gl,"../../assets/bugs/tarantula.png":vl,"../../assets/bugs/termite.png":bl,"../../assets/bugs/ultra_beetle.png":hl,"../../assets/bugs/wasp.png":xl,"../../assets/bugs/worker.png":yl})[`../../assets/bugs/${o.bug.id}.png`],import.meta.url).href}catch{return null}});return(_,y)=>(p(),g("div",{class:ee(["bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border h-full transition-all duration-200",[w.value?"border-2 border-amber-400 dark:border-amber-600 shadow-md":"border border-blue-200 dark:border-blue-700",w.value?"bg-amber-50/80 dark:bg-amber-900/20":"bg-white/80 dark:bg-gray-800/80"]])},[r("div",WS,[r("div",zS,[r("div",XS,[S.value?(p(),g("img",{key:0,src:S.value,alt:_.bug.name,class:"w-full h-full object-contain"},null,8,KS)):(p(),g("span",YS))]),r("span",JS,v(_.bug.name),1),c.value?(p(),g("span",ZS," Active ")):G("",!0),w.value?(p(),g("span",e4,y[0]||(y[0]=[r("span",{class:"i-heroicons-clipboard-document-check mr-0.5 inline-block"},null,-1),Y(" Quest ")]))):G("",!0)]),r("div",{class:"flex items-center space-x-1"},[r("button",{onClick:d,class:"p-1 rounded-full hover:bg-blue-100 dark:hover:bg-blue-800/50 transition-colors"},y[1]||(y[1]=[r("span",{class:"i-heroicons-information-circle text-blue-600 dark:text-blue-400 text-sm"},null,-1)])),r("button",{onClick:m,class:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 px-2 py-1 rounded-lg text-white text-xs font-medium transition-colors duration-200"}," Fight ")])]),w.value&&M.value?(p(),g("div",t4,[r("div",r4,[r("div",o4,[y[2]||(y[2]=r("span",{class:"i-heroicons-flag text-amber-600 dark:text-amber-400 mr-1"},null,-1)),r("span",s4,v(M.value.title),1)]),r("span",n4,v(M.value.progress),1)])])):G("",!0),x.value?(p(),g("div",a4,[r("div",l4,[y[3]||(y[3]=r("span",{class:"text-blue-500 dark:text-blue-400 flex items-center"},[r("span",{class:"i-heroicons-heart mr-1"}),Y(" HP: ")],-1)),r("span",i4,v(f(ge)(_.bug.maxHealth)),1)]),r("div",u4,[y[4]||(y[4]=r("span",{class:"text-blue-500 dark:text-blue-400 flex items-center"},[r("span",{class:"i-heroicons-bolt mr-1"}),Y(" DMG: ")],-1)),r("span",c4,v(f(ge)(_.bug.damage)),1)]),r("div",d4,[y[5]||(y[5]=r("span",{class:"text-amber-600 dark:text-amber-400 flex items-center"},[r("span",{class:"i-heroicons-clock mr-1"}),Y(" TTK: ")],-1)),r("span",m4,v(b.value),1)]),r("div",p4,[y[6]||(y[6]=r("span",{class:"text-amber-600 dark:text-amber-400 flex items-center"},[r("span",{class:"i-heroicons-flask mr-1"}),Y(" ESS: ")],-1)),r("span",f4,v(C.value),1)])])):(p(),g("div",g4,[r("div",v4,[r("div",b4,[y[7]||(y[7]=r("span",{class:"text-blue-500 dark:text-blue-400 flex items-center"},[r("span",{class:"i-heroicons-heart mr-1"}),Y(" HP: ")],-1)),r("span",h4,v(f(ge)(_.bug.maxHealth)),1)]),r("div",x4,[y[8]||(y[8]=r("span",{class:"text-blue-500 dark:text-blue-400 flex items-center"},[r("span",{class:"i-heroicons-bolt mr-1"}),Y(" DMG: ")],-1)),r("span",y4,v(f(ge)(_.bug.damage)),1)]),r("div",k4,[y[9]||(y[9]=r("span",{class:"text-blue-500 dark:text-blue-400 flex items-center"},[r("span",{class:"i-heroicons-shield-check mr-1"}),Y(" DEF: ")],-1)),r("span",_4,v(f(ge)(_.bug.defense)),1)]),r("div",w4,[y[10]||(y[10]=r("span",{class:"text-blue-500 dark:text-blue-400 flex items-center"},[r("span",{class:"i-heroicons-flask mr-1"}),Y(" Essence: ")],-1)),r("span",$4,v(C.value),1)])]),r("div",C4,[r("div",S4,[y[11]||(y[11]=r("span",{class:"text-amber-600 dark:text-amber-400 flex items-center"},[r("span",{class:"i-heroicons-cake mr-1"}),Y(" Food: ")],-1)),r("span",A4,v(f(ge)(u(_.bug).food)),1)]),r("div",E4,[y[12]||(y[12]=r("span",{class:"text-amber-600 dark:text-amber-400 flex items-center"},[r("span",{class:"i-heroicons-clock mr-1"}),Y(" TTK: ")],-1)),r("span",M4,v(b.value),1)])])])),x.value?G("",!0):(p(),g("div",{key:3,class:ee(["flex justify-between mt-1.5 text-xs",{"mt-1":w.value&&M.value}])},[r("div",{class:ee(["flex items-center",{"text-green-600 dark:text-green-400":h.value==="oneHit"||h.value==="safe","text-yellow-600 dark:text-yellow-400":h.value==="risky","text-red-600 dark:text-red-400":h.value==="dangerous"}])},[r("span",{class:ee([{"i-heroicons-bolt":h.value==="oneHit","i-heroicons-check-circle":h.value==="safe","i-heroicons-exclamation-triangle":h.value==="risky","i-heroicons-x-circle":h.value==="dangerous"},"mr-1"])},null,2),h.value==="oneHit"?(p(),g("span",P4,"One Hit Kill")):h.value==="safe"?(p(),g("span",T4,"Safe to Fight")):h.value==="risky"?(p(),g("span",L4,"Risky")):(p(),g("span",I4,"Too Strong"))],2),r("div",null,[r("span",F4,v(b.value),1),y[13]||(y[13]=r("span",{class:"text-blue-500 dark:text-blue-400"}," hits",-1))])],2))],2))}}),R4={class:"bg-gradient-to-br from-blue-100 to-blue-50 dark:from-blue-900/40 dark:to-blue-800/30 rounded-xl p-3 shadow-md relative"},D4={class:"sticky top-[-20px] z-10 bg-gradient-to-br from-blue-100 to-blue-50 dark:from-blue-900/40 dark:to-blue-800/30 -mx-3 -mt-3 px-3 pt-3 pb-2"},q4={class:"flex flex-col gap-2"},N4={class:"flex items-center justify-between"},O4={class:"flex items-center gap-2"},B4={class:"text-xs bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 px-2 py-0.5 rounded-full"},Q4={class:"flex flex-wrap items-center gap-2 text-xs bg-blue-50/50 dark:bg-blue-900/30 p-1.5 rounded-lg"},j4={class:"flex items-center gap-2 sm:gap-3"},H4={class:"flex items-center gap-1"},G4={class:"flex items-center gap-1 ml-auto mr-2"},V4={class:"flex bg-blue-100/50 dark:bg-blue-800/30 rounded-lg p-0.5"},W4={class:"mt-2 rounded-lg"},z4=Ie({__name:"AdventureMapSection",emits:["showDropTable"],setup(e,{emit:t}){const o=Bt(),n=ir(),a=t,l=m=>{o.gridDensity=m},i=L(()=>{let m=n.bugs;return o.showOneHitOnly&&(m=m.filter(b=>o.canOneHitBug(b.id))),m}),u=L(()=>o.gridDensity==="compact"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"),c=m=>{a("showDropTable",m)},d=m=>{if(o.selectedBugId===m.id&&o.isInCombat)return"selected";if(o.canOneHitBug(m.id))return"oneHit";const b=m.maxHealth.div(o.calculateDamage(o.playerDamage,m.defense)),x=o.playerMaxHealth.div(o.calculateDamage(m.damage,o.playerDefense));return x.gt(b.mul(1.2))?"safe":x.gt(b)?"risky":"dangerous"};return(m,b)=>(p(),g("section",R4,[r("div",D4,[r("div",q4,[r("div",N4,[b[3]||(b[3]=r("h2",{class:"text-base font-bold flex items-center"},[r("span",{class:"i-heroicons-map text-blue-700 dark:text-blue-500 mr-2"}),Y(" Adventure Map ")],-1)),r("div",O4,[r("span",B4,v(i.value.length)+" Bugs ",1)])]),r("div",Q4,[r("div",j4,[r("label",H4,[tt(r("input",{type:"checkbox","onUpdate:modelValue":b[0]||(b[0]=x=>f(o).showOneHitOnly=x),class:"rounded border-blue-300 text-blue-600 focus:ring-blue-500 dark:border-blue-700 dark:bg-blue-900/30 h-3 w-3"},null,512),[[Mt,f(o).showOneHitOnly]]),b[4]||(b[4]=r("span",{class:"whitespace-nowrap text-blue-700 dark:text-blue-400"},"One Hit Only",-1))])]),r("div",G4,[b[7]||(b[7]=r("span",{class:"text-blue-700 dark:text-blue-400 whitespace-nowrap"},"Density:",-1)),r("div",V4,[r("button",{onClick:b[1]||(b[1]=x=>l("compact")),class:ee(["px-1.5 py-0.5 text-xs rounded-md transition-colors",f(o).gridDensity==="compact"?"bg-white dark:bg-blue-700/50 text-blue-700 dark:text-blue-300 shadow-sm":"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300"])},b[5]||(b[5]=[r("div",{class:"i-heroicons-table-cells-solid w-3 h-3"},null,-1)]),2),r("button",{onClick:b[2]||(b[2]=x=>l("comfortable")),class:ee(["px-1.5 py-0.5 text-xs rounded-md transition-colors",f(o).gridDensity==="comfortable"?"bg-white dark:bg-blue-700/50 text-blue-700 dark:text-blue-300 shadow-sm":"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300"])},b[6]||(b[6]=[r("div",{class:"i-heroicons-squares-2x2-solid w-3 h-3"},null,-1)]),2)])]),b[8]||(b[8]=ct('<div class="flex items-center space-x-2 text-xs"><span class="inline-block h-2 w-2 rounded-full bg-green-400 dark:bg-green-500"></span><span class="text-blue-700 dark:text-blue-400 mr-2">Safe</span><span class="inline-block h-2 w-2 rounded-full bg-yellow-400 dark:bg-yellow-500"></span><span class="text-blue-700 dark:text-blue-400 mr-2">Risky</span><span class="inline-block h-2 w-2 rounded-full bg-red-400 dark:bg-red-500"></span><span class="text-blue-700 dark:text-blue-400">Dangerous</span></div>',1))])])]),r("div",W4,[r("div",{class:ee(["grid gap-2",u.value])},[(p(!0),g($e,null,Te(i.value,x=>(p(),g("div",{key:x.id,class:ee({"border-green-400 dark:border-green-500 border-2":d(x)==="selected","border-l-4 border-l-green-400 dark:border-l-green-500":d(x)==="oneHit"&&d(x)!=="selected","border-l-4 border-l-green-300 dark:border-l-green-400":d(x)==="safe"&&d(x)!=="selected"&&d(x)!=="oneHit","border-l-4 border-l-yellow-400 dark:border-l-yellow-500":d(x)==="risky"&&d(x)!=="selected","border-l-4 border-l-red-400 dark:border-l-red-500":d(x)==="dangerous"&&d(x)!=="selected"})},[Ee(U4,{bug:x,onShowDropTable:c},null,8,["bug"])],2))),128))],2)])]))}}),X4={class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm"},K4={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md p-4 sm:p-5 mx-auto border border-blue-200 dark:border-blue-700 max-h-[90vh] overflow-y-auto"},Y4={class:"flex items-center justify-between pb-2 border-b border-blue-200 dark:border-blue-700"},J4={class:"text-base font-bold flex items-center text-blue-800 dark:text-blue-300"},Z4={class:"space-y-3 mt-3"},eA={class:"text-sm text-gray-700 dark:text-gray-300"},tA={class:"space-y-2"},rA={class:"flex items-center space-x-2"},oA={class:"text-xs text-gray-500"},sA={class:"text-sm text-gray-600 dark:text-gray-400"},nA=Ie({__name:"DropTableModal",props:{bug:{}},emits:["close"],setup(e,{emit:t}){const o=t,n=dt(),a=()=>{o("close")};return(l,i)=>(p(),g("div",X4,[r("div",K4,[r("div",Y4,[r("h3",J4,[i[0]||(i[0]=r("span",{class:"i-heroicons-bug-ant text-blue-600 dark:text-blue-400 mr-2"},null,-1)),Y(" "+v(l.bug.name)+" Drop Table ",1)]),r("button",{onClick:a,class:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700"},i[1]||(i[1]=[r("span",{class:"i-heroicons-x-mark text-gray-600 dark:text-gray-400 text-lg"},null,-1)]))]),r("div",Z4,[r("div",eA,v(l.bug.description),1),r("div",tA,[(p(!0),g($e,null,Te(l.bug.drops,u=>{var c,d;return p(),g("div",{key:u.itemId,class:"flex items-center justify-between p-2 rounded-lg bg-gray-50 dark:bg-gray-700/50"},[r("div",rA,[r("span",{class:ee(["text-sm font-medium",f(n).getRarityColor(((c=f(n).getItem(u.itemId))==null?void 0:c.rarity)||"common")])},v((d=f(n).getItem(u.itemId))==null?void 0:d.name),3),r("span",oA,v((u.chance*100).toFixed(1))+"% ",1)]),r("div",sA,v(u.minQuantity)+"-"+v(u.maxQuantity)+"x ",1)])}),128))])]),r("div",{class:"flex justify-end mt-4"},[r("button",{onClick:a,class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 rounded-lg text-white text-sm font-medium transition-colors"}," Close ")])])]))}}),aA={class:"space-y-4 px-2 sm:px-0 pb-14"},lA={key:0,class:"space-y-3"},iA={class:"grid grid-cols-1 lg:grid-cols-2 gap-3"},uA={key:1,class:"bg-gradient-to-br from-amber-100/50 to-amber-50/50 dark:from-amber-900/20 dark:to-amber-800/10 rounded-xl p-3 shadow-md border border-amber-200/50 dark:border-amber-700/50 flex items-center justify-center"},cA={key:1},dA={key:2},mA={key:3},pA=Ie({__name:"AdventurePage",setup(e){const t=St(),o=Bt(),n=ir(),a=ht();Ve();const l=gt(),{showToast:i}=Ot(),u=L(()=>l.isUnlocked),c=()=>{i("Unlock Mega Ant Evolution from the Evolution tab (100M EP)","info")},d=w=>{if(w==="megaAntLocked"){c();return}o.activeTab=w};De(u,w=>{!w&&o.activeTab==="megaAnt"&&(o.activeTab="combat")});const m=B(!1),b=B(null),x=w=>{b.value=w,m.value=!0},h=()=>{m.value=!1},C=L(()=>{const w=[{id:"combat",label:"Combat",icon:"i-heroicons-bolt"},{id:"shop",label:"Shop",icon:"i-heroicons-beaker",badge:{count:t.formattedPheromoneEssence,color:"bg-purple-900/50 text-purple-300"}},{id:"quests",label:"Quests",icon:"i-heroicons-clipboard-document-list",badge:a.activeQuest?{indicator:!0,color:"bg-amber-900/50 text-amber-300"}:a.availableQuests.length>0?{count:a.availableQuests.length,color:"bg-blue-900/50 text-blue-300"}:void 0}];return u.value?w.push({id:"megaAnt",label:"Mega Ant",icon:"i-heroicons-bug-ant"}):w.push({id:"megaAntLocked",label:"Mega Ant",icon:"i-heroicons-bug-ant",disabled:!0,title:"Unlock Mega Ant Evolution from the Evolution tab (100M EP)"}),w});return(w,M)=>(p(),g($e,null,[r("div",aA,[M[1]||(M[1]=r("h1",{class:"text-xl font-bold mb-2 flex items-center"},[r("span",{class:"i-heroicons-shield-exclamation text-red-700 dark:text-red-500 mr-2"}),Y(" Adventure ")],-1)),f(o).activeTab==="combat"?(p(),g("div",lA,[Ee(wC),r("div",iA,[Ee(qS),f(o).isInCombat&&f(n).selectedBug?(p(),Ge(uS,{key:0,bug:f(n).selectedBug},null,8,["bug"])):(p(),g("div",uA,M[0]||(M[0]=[r("div",{class:"text-center text-amber-600 dark:text-amber-400"},[r("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-4xl mb-2 block mx-auto opacity-50"}),r("p",{class:"text-sm"},"Select an enemy from the Adventure Map to begin combat")],-1)])))]),Ee(VS),Ee(z4,{onShowDropTable:x})])):f(o).activeTab==="shop"?(p(),g("div",cA,[Ee(sk)])):f(o).activeTab==="quests"?(p(),g("div",dA,[Ee(ud)])):f(o).activeTab==="megaAnt"&&u.value?(p(),g("div",mA,[Ee(fC)])):G("",!0),m.value?(p(),Ge(nA,{key:4,bug:b.value,onClose:h},null,8,["bug"])):G("",!0),Ee(ao,{threshold:400})]),Ee(cd,{tabs:C.value,"active-tab-id":f(o).activeTab,onTabChange:d},null,8,["tabs","active-tab-id"])],64))}}),fA=We(pA,[["__scopeId","data-v-9b30876d"]]),md="/assets/beetle_shell_shield-CkMnlHMj.png",pd="/assets/exoskeleton_plate-CUBmN4bI.png",fd="/assets/foraging_tools-DbUGMudY.png",gd="/assets/infinity_shard-CZj_8o-k.png",vd="/assets/leaf_cloak-DWu42wbY.png",bd="/assets/mandible_crusher-B_Ej9ubt.png",hd="/assets/pebble_hammer-CaaQ5vxJ.png",xd="/assets/reinforced_mandibles-oWAuE2B_.png",yd="/assets/resin_helmet-TysTayCe.png",kd="/assets/thorn_spear-BYFyHiZU.png",_d="/assets/training_armor-Dd4ibfLv.png",wd="/assets/training_sword-BlfmoiLU.png",$d="/assets/wooden_shield-BoeyM07b.png",Cd="/assets/worker_armor-DmglZfoY.png",Sd="/assets/worker_sword-Ch44J_MB.png",gA={class:"space-y-4"},vA={class:"bg-white/90 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg p-4 shadow-md border border-amber-200 dark:border-amber-700"},bA={class:"grid grid-cols-1 sm:grid-cols-3 gap-3 animate-fadeIn"},hA={class:"bg-gradient-to-br from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 p-3 rounded-lg shadow-sm backdrop-blur-sm"},xA={class:"text-lg font-bold text-amber-600 dark:text-amber-500"},yA={key:0,class:"text-xs text-amber-500 dark:text-amber-400 mt-1"},kA={class:"bg-gradient-to-br from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 p-3 rounded-lg shadow-sm backdrop-blur-sm"},_A={class:"text-lg font-bold text-amber-600 dark:text-amber-500"},wA={key:0,class:"text-xs text-amber-500 dark:text-amber-400 mt-1"},$A={class:"bg-gradient-to-br from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 p-3 rounded-lg shadow-sm backdrop-blur-sm"},CA={class:"text-lg font-bold text-amber-600 dark:text-amber-500"},SA={key:0,class:"text-xs text-amber-500 dark:text-amber-400 mt-1"},AA={key:0,class:"bg-white/90 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg p-4 shadow-md border border-amber-200 dark:border-amber-700"},EA={class:"grid grid-cols-2 gap-3 animate-fadeIn"},MA={class:"bg-gradient-to-br from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 p-3 rounded-lg shadow-sm backdrop-blur-sm"},PA={class:"text-lg font-bold text-amber-600 dark:text-amber-500"},TA={class:"text-xs text-amber-500 dark:text-amber-400 mt-1"},LA={class:"bg-gradient-to-br from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 p-3 rounded-lg shadow-sm backdrop-blur-sm"},IA={class:"text-lg font-bold text-amber-600 dark:text-amber-500"},FA={class:"flex text-xs text-amber-500 dark:text-amber-400 mt-1"},UA={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mt-1"},RA={class:"ml-1 whitespace-nowrap"},DA={class:"bg-gradient-to-br from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 p-3 rounded-lg shadow-sm backdrop-blur-sm"},qA={class:"text-lg font-bold text-amber-600 dark:text-amber-500"},NA={class:"bg-gradient-to-br from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 p-3 rounded-lg shadow-sm backdrop-blur-sm"},OA={class:"text-lg font-bold text-amber-600 dark:text-amber-500"},BA={key:1,class:"bg-white/90 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg p-4 shadow-md border border-amber-200 dark:border-amber-700"},QA={class:"grid grid-cols-1 sm:grid-cols-2 gap-3 animate-fadeIn"},jA={key:0,class:"bg-gradient-to-br from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 p-3 rounded-lg shadow-sm backdrop-blur-sm"},HA={class:"text-lg font-bold text-amber-600 dark:text-amber-500"},GA={key:1,class:"bg-gradient-to-br from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 p-3 rounded-lg shadow-sm backdrop-blur-sm"},VA={class:"text-lg font-bold text-amber-600 dark:text-amber-500"},WA={key:0,class:"bg-gradient-to-br from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 p-3 rounded-lg shadow-sm backdrop-blur-sm"},zA={class:"text-xs font-medium text-amber-700 dark:text-amber-400 mb-1 capitalize"},XA={class:"text-lg font-bold text-amber-600 dark:text-amber-500"},KA={key:2,class:"bg-white/90 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg p-4 shadow-md border border-amber-200 dark:border-amber-700"},YA={class:"grid grid-cols-1 sm:grid-cols-2 gap-3 animate-fadeIn"},JA={class:"text-xs font-medium text-amber-700 dark:text-amber-400 mb-1 capitalize"},ZA={class:"text-lg font-bold text-amber-600 dark:text-amber-500"},eE={key:3,class:"bg-white/90 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg p-4 shadow-md border-l-4 border border-amber-200 border-l-amber-500 dark:border-amber-700 dark:border-l-amber-500"},tE={class:"flex items-start space-x-3"},rE={class:"text-sm text-amber-600 dark:text-amber-300"},oE={class:"bg-white/90 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg p-4 shadow-md border border-amber-200 dark:border-amber-700"},sE={class:"text-base font-bold text-amber-700 dark:text-amber-400 flex items-center mb-3"},nE={class:"ml-2 text-xs text-amber-600 dark:text-amber-400 font-normal"},aE={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 mb-4"},lE=["onClick"],iE={key:0,class:"absolute inset-0 flex flex-col items-center justify-center bg-amber-900/80 p-2 text-center"},uE={class:"absolute inset-0 flex items-center justify-center"},cE=["src","alt"],dE={key:1,class:"i-heroicons-cube text-amber-700 dark:text-amber-500 text-4xl opacity-50"},mE={class:"relative h-full flex flex-col"},pE={class:"flex justify-between p-1"},fE={key:0,class:"bg-amber-200/90 dark:bg-amber-900/90 text-amber-900 dark:text-amber-200 rounded-md px-1.5 py-0.5 text-xs font-medium shadow-md"},gE={key:1,class:"bg-yellow-200/90 dark:bg-yellow-900/90 text-yellow-900 dark:text-yellow-200 rounded-md px-1.5 py-0.5 text-xs font-medium ml-auto shadow-md"},vE={key:0,class:"px-1"},bE={class:"w-full bg-gray-200/70 dark:bg-gray-200/70 rounded-full h-1.5 mt-0.5"},hE={class:"flex-1 flex items-center justify-center p-2 text-center"},xE={key:2,class:"absolute inset-0 flex flex-col items-center justify-center text-amber-600 dark:text-amber-400"},yE={class:"flex justify-center"},kE=Ie({__name:"EquipmentSection",props:{onSlotClick:{type:Function}},setup(e){const t=Pt(),o=dt(),n=st(),a=Bt(),l=L(()=>n.generators[0].count),i=L(()=>h(l.value)),u=L(()=>t.totalStats.damage.mul(l.value)),c=L(()=>t.totalStats.health.mul(l.value)),d=L(()=>t.totalStats.regen.mul(l.value)),m=L(()=>a.playerDamage),b=L(()=>a.playerMaxHealth),x=L(()=>a.playerRegen),h=q=>ge(q,0),C=L(()=>l.value.gt(0)),w=q=>o.getItem(q),M=q=>ge(q.sub(1).mul(100),2)+"%",S=L(()=>{const q=t.totalSpecialModifiers;return Object.keys(q).some(k=>q[k].gt(1))}),_=q=>ge(q.sub(1).mul(100),2)+"%",y=q=>{t.toggleSection(q)},P=q=>{try{return new URL(Object.assign({"../assets/items/beetle_shell_shield.png":md,"../assets/items/exoskeleton_plate.png":pd,"../assets/items/foraging_tools.png":fd,"../assets/items/infinity_shard.png":gd,"../assets/items/leaf_cloak.png":vd,"../assets/items/mandible_crusher.png":bd,"../assets/items/pebble_hammer.png":hd,"../assets/items/reinforced_mandibles.png":xd,"../assets/items/resin_helmet.png":yd,"../assets/items/thorn_spear.png":kd,"../assets/items/training_armor.png":_d,"../assets/items/training_sword.png":wd,"../assets/items/wooden_shield.png":$d,"../assets/items/worker_armor.png":Cd,"../assets/items/worker_sword.png":Sd})[`../assets/items/${q}.png`],import.meta.url).href}catch{return}},I=q=>{const k=t.inventory.find(W=>W.id===q);return k||o.getItem(q)},U=q=>{const k=I(q);return k?k.name:""};return(q,k)=>{var W,le;return p(),g("section",gA,[r("div",vA,[r("div",{onClick:k[0]||(k[0]=X=>y("equipmentStats")),class:"flex justify-between items-center cursor-pointer mb-3 p-1 hover:bg-amber-100/70 dark:hover:bg-amber-800/30 rounded transition-colors"},[k[5]||(k[5]=r("h3",{class:"text-base font-bold text-amber-700 dark:text-amber-400 flex items-center"},[r("span",{class:"i-heroicons-chart-bar mr-2"}),Y(" Equipment Stats ")],-1)),r("span",{class:ee(f(t).collapsedSections.equipmentStats?"i-heroicons-chevron-down":"i-heroicons-chevron-up text-amber-600 dark:text-amber-400")},null,2)]),tt(r("div",bA,[r("div",hA,[k[6]||(k[6]=r("div",{class:"text-xs font-medium text-amber-700 dark:text-amber-400 mb-1 flex items-center"},[r("span",{class:"i-heroicons-bolt mr-1"}),Y(" Damage ")],-1)),r("div",xA," +"+v(h(f(t).totalStats.damage)),1),C.value?(p(),g("div",yA," Boosted: +"+v(h(u.value)),1)):G("",!0)]),r("div",kA,[k[7]||(k[7]=r("div",{class:"text-xs font-medium text-amber-700 dark:text-amber-400 mb-1 flex items-center"},[r("span",{class:"i-heroicons-heart mr-1"}),Y(" Health ")],-1)),r("div",_A," +"+v(h(f(t).totalStats.health)),1),C.value?(p(),g("div",wA," Boosted: +"+v(h(c.value)),1)):G("",!0)]),r("div",$A,[k[8]||(k[8]=r("div",{class:"text-xs font-medium text-amber-700 dark:text-amber-400 mb-1 flex items-center"},[r("span",{class:"i-heroicons-arrow-path mr-1"}),Y(" Regen ")],-1)),r("div",CA," +"+v(h(f(t).totalStats.regen)),1),C.value?(p(),g("div",SA," Boosted: +"+v(h(d.value)),1)):G("",!0)])],512),[[Yr,!f(t).collapsedSections.equipmentStats]])]),C.value?(p(),g("div",AA,[r("div",{onClick:k[1]||(k[1]=X=>y("combatStats")),class:"flex justify-between items-center cursor-pointer mb-3 p-1 hover:bg-amber-100/70 dark:hover:bg-amber-800/30 rounded transition-colors"},[k[9]||(k[9]=r("h3",{class:"text-base font-bold text-amber-700 dark:text-amber-400 flex items-center"},[r("span",{class:"i-heroicons-fire mr-2"}),Y(" Total Combat Stats ")],-1)),r("span",{class:ee(f(t).collapsedSections.combatStats?"i-heroicons-chevron-down":"i-heroicons-chevron-up text-amber-600 dark:text-amber-400")},null,2)]),tt(r("div",EA,[r("div",MA,[k[10]||(k[10]=r("div",{class:"text-xs font-medium text-amber-700 dark:text-amber-400 mb-1 flex items-center"},[r("span",{class:"i-heroicons-bolt mr-1"}),Y(" Total Damage ")],-1)),r("div",PA,v(h(m.value)),1),r("div",TA,v(h(l.value))+" worker ants ",1)]),r("div",LA,[k[11]||(k[11]=r("div",{class:"text-xs font-medium text-amber-700 dark:text-amber-400 mb-1 flex items-center"},[r("span",{class:"i-heroicons-heart mr-1"}),Y(" Total Health ")],-1)),r("div",IA,v(h(b.value)),1),r("div",FA,[r("div",UA,[r("div",{class:"bg-amber-500 dark:bg-amber-600 h-2 rounded-full",style:je(`width: ${f(a).currentHealth.div(b.value).mul(100).toNumber()}%`)},null,4)]),r("span",RA,v(h(f(a).currentHealth))+"/"+v(h(b.value)),1)])]),r("div",DA,[k[12]||(k[12]=r("div",{class:"text-xs font-medium text-amber-700 dark:text-amber-400 mb-1 flex items-center"},[r("span",{class:"i-heroicons-arrow-path mr-1"}),Y(" Total Regen ")],-1)),r("div",qA,v(h(x.value)),1),k[13]||(k[13]=r("div",{class:"text-xs text-amber-500 dark:text-amber-400 mt-1"}," per second ",-1))]),r("div",NA,[k[14]||(k[14]=r("div",{class:"text-xs font-medium text-amber-700 dark:text-amber-400 mb-1 flex items-center"},[r("span",{class:"i-heroicons-shield-check mr-1"}),Y(" Defense ")],-1)),r("div",OA,v(h(f(a).playerDefense)),1),k[15]||(k[15]=r("div",{class:"text-xs text-amber-500 dark:text-amber-400 mt-1"}," damage reduction ",-1))])],512),[[Yr,!f(t).collapsedSections.combatStats]])])):G("",!0),S.value?(p(),g("div",BA,[r("div",{onClick:k[2]||(k[2]=X=>y("specialModifiers")),class:"flex justify-between items-center cursor-pointer mb-3 p-1 hover:bg-amber-100/70 dark:hover:bg-amber-800/30 rounded transition-colors"},[k[16]||(k[16]=r("h3",{class:"text-base font-bold text-amber-700 dark:text-amber-400 flex items-center"},[r("span",{class:"i-heroicons-sparkles mr-2"}),Y(" Special Bonuses ")],-1)),r("span",{class:ee(f(t).collapsedSections.specialModifiers?"i-heroicons-chevron-down":"i-heroicons-chevron-up text-amber-600 dark:text-amber-400")},null,2)]),tt(r("div",QA,[(W=f(t).totalSpecialModifiers.epBoost)!=null&&W.gt(1)?(p(),g("div",jA,[k[17]||(k[17]=r("div",{class:"text-xs font-medium text-amber-700 dark:text-amber-400 mb-1 flex items-center"},[r("span",{class:"i-heroicons-sparkles text-amber-600 dark:text-amber-400 mr-1"}),Y(" Evolution Points ")],-1)),r("div",HA," +"+v(M(f(t).totalSpecialModifiers.epBoost)),1),k[18]||(k[18]=r("div",{class:"text-xs text-amber-500 dark:text-amber-400 mt-1"}," Bonus to EP gain ",-1))])):G("",!0),(le=f(t).totalSpecialModifiers.global)!=null&&le.gt(1)?(p(),g("div",GA,[k[19]||(k[19]=r("div",{class:"text-xs font-medium text-amber-700 dark:text-amber-400 mb-1 flex items-center"},[r("span",{class:"i-heroicons-globe-alt text-amber-600 dark:text-amber-400 mr-1"}),Y(" Global Production ")],-1)),r("div",VA," +"+v(M(f(t).totalSpecialModifiers.global)),1),k[20]||(k[20]=r("div",{class:"text-xs text-amber-500 dark:text-amber-400 mt-1"}," All production increased ",-1))])):G("",!0),(p(!0),g($e,null,Te(f(t).totalSpecialModifiers,(X,j)=>(p(),g($e,{key:j},[j!=="epBoost"&&j!=="global"&&X.gt(1)?(p(),g("div",WA,[r("div",zA,v(j.replace(/([A-Z])/g," $1").trim()),1),r("div",XA," +"+v(M(X)),1)])):G("",!0)],64))),128))],512),[[Yr,!f(t).collapsedSections.specialModifiers]])])):G("",!0),Object.keys(f(t).totalProductionModifiers).length>0?(p(),g("div",KA,[r("div",{onClick:k[3]||(k[3]=X=>y("productionModifiers")),class:"flex justify-between items-center cursor-pointer mb-3 p-1 hover:bg-amber-100/70 dark:hover:bg-amber-800/30 rounded transition-colors"},[k[21]||(k[21]=r("h3",{class:"text-base font-bold text-amber-700 dark:text-amber-400 flex items-center"},[r("span",{class:"i-heroicons-arrow-trending-up mr-2"}),Y(" Production Bonuses ")],-1)),r("span",{class:ee(f(t).collapsedSections.productionModifiers?"i-heroicons-chevron-down":"i-heroicons-chevron-up text-amber-600 dark:text-amber-400")},null,2)]),tt(r("div",YA,[(p(!0),g($e,null,Te(f(t).totalProductionModifiers,(X,j)=>(p(),g("div",{key:j,class:"bg-gradient-to-br from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 p-3 rounded-lg shadow-sm backdrop-blur-sm"},[r("div",JA,v(j),1),r("div",ZA," +"+v(_(X)),1)]))),128))],512),[[Yr,!f(t).collapsedSections.productionModifiers]])])):G("",!0),C.value?(p(),g("div",eE,[r("div",tE,[k[23]||(k[23]=r("span",{class:"i-heroicons-information-circle text-xl text-amber-600 dark:text-amber-400 mt-0.5 shrink-0"},null,-1)),r("div",null,[k[22]||(k[22]=r("h4",{class:"font-medium text-amber-700 dark:text-amber-400 mb-1"},"Equipment Boost",-1)),r("p",rE," Your equipment stats are boosted by your worker ants! Each stat is multiplied by your worker ant count (currently "+v(i.value)+"), giving you a significant combat advantage. ",1)])])])):G("",!0),r("div",oE,[r("h3",sE,[k[24]||(k[24]=r("span",{class:"i-heroicons-shield-check text-amber-700 dark:text-amber-500 mr-2"},null,-1)),k[25]||(k[25]=Y(" Equipment Slots ")),r("div",nE," ("+v(f(t).unlockedEquipmentSlots)+"/"+v(f(t).maxEquipmentSlots)+" slots unlocked) ",1)]),r("div",aE,[(p(!0),g($e,null,Te(f(t).equipmentSlots,(X,j)=>{var T,K,fe,we,Se,pe,ce,ke;return p(),g("div",{key:j,class:ee(["relative aspect-square overflow-hidden transition-all duration-200 border-4 rounded-lg",{"border-amber-700/30 dark:border-amber-800/60 bg-amber-900/10 border-dashed":X.locked,"border-amber-500 hover:border-amber-400 bg-amber-100/40 dark:bg-amber-900/30 hover:scale-105 border-solid":!X.locked&&!X.item,"border-amber-500 hover:border-amber-400 hover:scale-105 transform border-solid":X.item}]),style:je([{"image-rendering":"pixelated","box-shadow":"inset 0 0 8px rgba(0,0,0,0.2), 0 2px 4px rgba(0,0,0,0.2)"},X.locked?"":"border-top-color: #f0d4a0; border-left-color: #f0d4a0; border-right-color: #c2924e; border-bottom-color: #c2924e;"]),onClick:ue=>q.onSlotClick(X,j)},[X.locked?(p(),g("div",iE,k[26]||(k[26]=[r("div",{class:"i-heroicons-lock-closed text-2xl text-amber-500 mb-1"},null,-1),r("div",{class:"text-xs text-amber-400"},"Locked Slot",-1),r("div",{class:"text-[10px] text-amber-500 mt-1"},"Unlock via Evolution",-1)]))):X.item?(p(),g("div",{key:1,class:ee(["relative h-full",f(o).getRarityBackground(((T=w(X.item))==null?void 0:T.rarity)||"common")])},[r("div",uE,[P(X.item)?(p(),g("img",{key:0,src:P(X.item),alt:(K=w(X.item))==null?void 0:K.name,class:"w-full h-full object-contain p-2 opacity-70"},null,8,cE)):(p(),g("span",dE))]),r("div",mE,[r("div",pE,[(fe=I(X.item))!=null&&fe.level?(p(),g("div",fE," Lvl "+v((we=I(X.item))==null?void 0:we.level.toString()),1)):G("",!0),X.itemIsLocked?(p(),g("div",gE,k[27]||(k[27]=[r("span",{class:"i-heroicons-lock-closed"},null,-1)]))):G("",!0)]),(Se=I(X.item))!=null&&Se.level?(p(),g("div",vE,[r("div",bE,[r("div",{class:"bg-amber-500 dark:bg-amber-600 h-1.5 rounded-full",style:je(`width: ${(ce=I(X.item))==null?void 0:ce.xp.div(((pe=I(X.item))==null?void 0:pe.maxXp)||1).mul(100).toNumber()}%`)},null,4)])])):G("",!0),r("div",hE,[r("div",{class:ee(["text-base font-bold line-clamp-2",f(o).getRarityColor(((ke=w(X.item))==null?void 0:ke.rarity)||"common")]),style:{"text-shadow":"1px 1px 2px rgba(0,0,0,0.5)"}},v(U(X.item)),3)]),k[28]||(k[28]=r("div",{class:"bg-amber-900/70 py-1 text-[10px] text-center text-amber-200 border-t border-amber-600/50"}," Click to unequip ",-1))])],2)):(p(),g("div",xE,k[29]||(k[29]=[r("div",{class:"i-heroicons-plus text-2xl mb-1 animate-pulse"},null,-1),r("div",{class:"text-xs text-center font-medium"},"Empty Slot",-1),r("div",{class:"text-[10px] text-amber-500 dark:text-amber-500 mt-1"},"Click to browse items",-1)])))],14,lE)}),128))]),r("div",yE,[r("button",{onClick:k[4]||(k[4]=X=>f(t).initializeEquipmentSlots()),class:"bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white px-4 py-2 rounded-lg shadow-md transition-colors flex items-center"},k[30]||(k[30]=[r("span",{class:"i-heroicons-refresh mr-2"},null,-1),Y(" Refresh Equipment Slots ")]))])])])}}}),Bi=We(kE,[["__scopeId","data-v-c428d542"]]),_E={class:"p-3 sm:p-5 border-b border-amber-200 dark:border-amber-700 bg-white/95 dark:bg-gray-800/95 sticky top-0 z-10"},wE={class:"mt-4 p-3 bg-amber-50/80 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800"},$E={class:"flex items-start justify-between"},CE={class:"text-xs text-amber-700 dark:text-amber-400 mt-1"},SE={key:0,class:"flex items-center"},AE={class:"relative inline-flex items-center cursor-pointer"},EE={class:"ml-2 text-xs font-medium text-gray-700 dark:text-gray-300"},ME={key:1},PE={class:"mt-3 sm:mt-4"},TE={class:"relative"},LE={class:"p-3 sm:p-5"},IE={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-4"},FE={class:"flex items-start justify-between"},UE={class:"flex-1 min-w-0 mr-3"},RE={class:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 line-clamp-2"},DE={class:"shrink-0 flex items-center"},qE={class:"relative inline-flex items-center cursor-pointer"},NE=["checked","onChange"],OE={class:"ml-2 text-xs font-medium text-gray-700 dark:text-gray-300"},BE={key:0,class:"py-6 text-center text-gray-500 dark:text-gray-400"},QE=Ie({__name:"ItemFilterModal",props:{isOpen:{type:Boolean}},emits:["close"],setup(e,{emit:t}){const o=e,n=t,a=Fa(),l=Pt();Ve();const i=dt(),u=B(""),c=ps(),{isClosing:d,handleClose:m,preventBackgroundTouchMove:b}=br(),x=()=>{m(()=>n("close"),250)},h=_=>{_.key==="Escape"&&o.isOpen&&x()};He(()=>{window.addEventListener("keydown",h)}),Zt(()=>{window.removeEventListener("keydown",h)});const C=L(()=>{const _=a.getAllAvailableItems();return(u.value?_.filter(P=>P.name.toLowerCase().includes(u.value.toLowerCase())||P.description.toLowerCase().includes(u.value.toLowerCase())):_).reduce((P,I)=>(P[I.rarity]||(P[I.rarity]=[]),P[I.rarity].push(I),P),{})}),w=["common","uncommon","rare","epic","legendary","mythic","divine"],M=L(()=>l.isAutoSalvageUnlocked),S=L({get:()=>l.isAutoSalvageEnabled,set:_=>{_!==l.isAutoSalvageEnabled&&l.toggleAutoSalvage()}});return L(()=>Object.values(C.value).some(_=>_.some(y=>a.isItemFiltered(y.id)))),(_,y)=>_.isOpen?(p(),g("div",{key:0,class:"fixed inset-0 bg-black/60 flex items-start justify-center z-50 p-2 sm:p-4 backdrop-blur-sm overflow-y-auto overscroll-contain modal-backdrop","data-modal-backdrop":"true",onClick:Ye(x,["self"]),onTouchmove:y[3]||(y[3]=Ye((...P)=>f(b)&&f(b)(...P),["self"]))},[r("div",{class:ee(["bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm rounded-xl shadow-lg w-full max-w-4xl mx-auto my-4 border border-amber-200 dark:border-amber-800",{"animate-fadeOut":f(d)}])},[r("div",_E,[r("div",{class:"flex justify-between items-start"},[y[5]||(y[5]=r("h3",{class:"text-lg font-bold flex items-center text-amber-800 dark:text-amber-300"},[r("span",{class:"i-heroicons-funnel text-amber-600 dark:text-amber-400 mr-2"}),Y(" Item Filter Settings ")],-1)),r("button",{onClick:x,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors"},y[4]||(y[4]=[r("span",{class:"i-heroicons-x-mark text-xl"},null,-1)]))]),y[9]||(y[9]=r("p",{class:"text-sm text-gray-700 dark:text-gray-300 mt-3 leading-relaxed hidden sm:block"},' Configure which items your colony should collect. Items marked as "Filtered" will be automatically discarded when dropped. This is useful for preventing your inventory from filling up with lower-tier items as you progress. ',-1)),y[10]||(y[10]=r("p",{class:"text-sm text-gray-700 dark:text-gray-300 mt-3 leading-relaxed sm:hidden"}," Configure which items to collect or filter out. ",-1)),r("div",wE,[r("div",$E,[r("div",null,[y[6]||(y[6]=r("h4",{class:"text-sm font-semibold text-amber-800 dark:text-amber-300 flex items-center"},[r("span",{class:"i-heroicons-beaker text-amber-600 dark:text-amber-400 mr-2"}),Y(" Auto-Salvage Filtered Items ")],-1)),r("p",CE,v(M.value?"Automatically convert filtered items to Pheromone Essence":"Purchase Auto-Salvage upgrade to convert filtered items to Pheromone Essence"),1)]),M.value?(p(),g("div",SE,[r("label",AE,[tt(r("input",{type:"checkbox","onUpdate:modelValue":y[0]||(y[0]=P=>S.value=P),class:"sr-only peer"},null,512),[[Mt,S.value]]),y[7]||(y[7]=r("div",{class:"w-11 h-6 bg-gray-300 dark:bg-gray-600 peer-focus:ring-2 peer-focus:ring-amber-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"},null,-1)),r("span",EE,v(S.value?"Enabled":"Disabled"),1)])])):(p(),g("div",ME,[r("button",{onClick:y[1]||(y[1]=P=>f(c).push("/upgrades")),class:"px-3 py-1 bg-amber-600 hover:bg-amber-700 text-white rounded-lg text-xs font-medium transition-colors flex items-center"}," Purchase Upgrade ")]))])]),r("div",PE,[r("div",TE,[y[8]||(y[8]=r("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3"},[r("span",{class:"i-heroicons-magnifying-glass text-gray-400"})],-1)),tt(r("input",{"onUpdate:modelValue":y[2]||(y[2]=P=>u.value=P),type:"text",placeholder:"Search items...",class:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 text-gray-900 dark:text-gray-100"},null,512),[[oo,u.value]])])])]),r("div",LE,[(p(),g($e,null,Te(w,P=>{var I;return tt(r("div",{key:P},[r("h3",{class:ee(["text-base sm:text-lg font-semibold mb-2 capitalize",f(i).getRarityColor(P)])},v(P),3),r("div",IE,[(p(!0),g($e,null,Te(C.value[P],U=>(p(),g("div",{key:U.id,class:ee(["rounded-lg p-3 flex flex-col border border-gray-200 dark:border-gray-600",f(i).getRarityBackground(U.rarity)])},[r("div",FE,[r("div",UE,[r("h4",{class:ee(["font-semibold truncate",f(i).getRarityColor(U.rarity)])},v(U.name),3),r("p",RE,v(U.description),1)]),r("div",DE,[r("label",qE,[r("input",{type:"checkbox",checked:!f(a).isItemFiltered(U.id),onChange:q=>f(a).toggleItemFilter(U.id),class:"sr-only peer"},null,40,NE),y[11]||(y[11]=r("div",{class:"w-11 h-6 bg-gray-300 dark:bg-gray-600 peer-focus:ring-2 peer-focus:ring-amber-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"},null,-1)),r("span",OE,v(f(a).isItemFiltered(U.id)?"Filtered":"Collect"),1)])])])],2))),128))])]),[[Yr,(I=C.value[P])==null?void 0:I.length]])}),64)),Object.keys(C.value).length===0||Object.values(C.value).every(P=>P.length===0)?(p(),g("div",BE,y[12]||(y[12]=[r("div",{class:"i-heroicons-magnifying-glass text-3xl mx-auto mb-2"},null,-1),r("p",null,"No items match your search query.",-1)]))):G("",!0)])],2)],32)):G("",!0)}}),jE=We(QE,[["__scopeId","data-v-7f36d718"]]),Ss=e=>{let t=0;return e.stats&&(e.stats.damage&&(t+=e.stats.damage.toNumber()),e.stats.health&&(t+=e.stats.health.toNumber()*.5),e.stats.defense&&(t+=e.stats.defense.toNumber()*.8),e.stats.regen&&(t+=e.stats.regen.toNumber()*2)),e.productionModifiers&&Object.values(e.productionModifiers).forEach(o=>{t+=(o.toNumber()-1)*10}),e.specialModifiers&&(e.specialModifiers.epBoost&&(t+=(e.specialModifiers.epBoost.toNumber()-1)*20),e.specialModifiers.global&&(t+=(e.specialModifiers.global.toNumber()-1)*15)),t},As={common:0,uncommon:1,rare:2,epic:3,legendary:4,mythic:5,divine:6},HE=[{id:"default",label:"Default",compareFn:()=>0},{id:"rarity-asc",label:"Rarity (Low to High)",compareFn:(e,t)=>As[e.rarity]-As[t.rarity]},{id:"rarity-desc",label:"Rarity (High to Low)",compareFn:(e,t)=>As[t.rarity]-As[e.rarity]},{id:"power-asc",label:"Power (Low to High)",compareFn:(e,t)=>{const o=Ss(e),n=Ss(t);return o-n}},{id:"power-desc",label:"Power (High to Low)",compareFn:(e,t)=>{const o=Ss(e);return Ss(t)-o}},{id:"name-asc",label:"Name (A to Z)",compareFn:(e,t)=>e.name.localeCompare(t.name)},{id:"name-desc",label:"Name (Z to A)",compareFn:(e,t)=>t.name.localeCompare(e.name)},{id:"quantity-asc",label:"Quantity (Low to High)",compareFn:(e,t)=>{var a,l;const o=((a=e.quantity)==null?void 0:a.toNumber())||1,n=((l=t.quantity)==null?void 0:l.toNumber())||1;return o-n}},{id:"quantity-desc",label:"Quantity (High to Low)",compareFn:(e,t)=>{var a,l;const o=((a=e.quantity)==null?void 0:a.toNumber())||1;return(((l=t.quantity)==null?void 0:l.toNumber())||1)-o}}],GE=[{id:"none",label:"Show All Items",filterFn:()=>!0},{id:"damage",label:"Damage",filterFn:e=>{var t;return!!((t=e.stats)!=null&&t.damage&&e.stats.damage.gt(0))}},{id:"health",label:"Health",filterFn:e=>{var t;return!!((t=e.stats)!=null&&t.health&&e.stats.health.gt(0))}},{id:"defense",label:"Defense",filterFn:e=>{var t;return!!((t=e.stats)!=null&&t.defense&&e.stats.defense.gt(0))}},{id:"regen",label:"Regeneration",filterFn:e=>{var t;return!!((t=e.stats)!=null&&t.regen&&e.stats.regen.gt(0))}},{id:"epBoost",label:"EP Boost",filterFn:e=>{var t;return!!((t=e.specialModifiers)!=null&&t.epBoost&&e.specialModifiers.epBoost.gt(1))}},{id:"global",label:"Global Multiplier",filterFn:e=>{var t;return!!((t=e.specialModifiers)!=null&&t.global&&e.specialModifiers.global.gt(1))}},{id:"worker",label:"Worker Production",filterFn:e=>{var t;return!!((t=e.productionModifiers)!=null&&t.worker&&e.productionModifiers.worker.gt(1))}},{id:"queen",label:"Queen Production",filterFn:e=>{var t;return!!((t=e.productionModifiers)!=null&&t.queen&&e.productionModifiers.queen.gt(1))}},{id:"nursery",label:"Nursery Production",filterFn:e=>{var t;return!!((t=e.productionModifiers)!=null&&t.nursery&&e.productionModifiers.nursery.gt(1))}},{id:"farm",label:"Farm Production",filterFn:e=>{var t;return!!((t=e.productionModifiers)!=null&&t.farm&&e.productionModifiers.farm.gt(1))}}],VE=()=>{dt();const e=HE,t=B(e[0].id),o=GE,n=B(o[0].id),a=L(()=>{const d=e.find(m=>m.id===t.value);return d?d.compareFn:(console.warn(`Sort option "${t.value}" not found, using default.`),e[0].compareFn)}),l=L(()=>{const d=o.find(m=>m.id===n.value);return d?d.filterFn:(console.warn(`Filter option "${n.value}" not found, using default.`),o[0].filterFn)});return{sortOptions:e,selectedSort:t,filterOptions:o,selectedFilter:n,getCurrentSortFunction:a,getCurrentFilterFunction:l,filterAndSortItems:d=>{const m=l.value,b=d.filter(m),x=a.value;return[...b].sort(x)},hiddenItemsCount:d=>{if(n.value==="none")return 0;const m=l.value;return d.length-d.filter(m).length},resetSortAndFilter:()=>{t.value=e[0].id,n.value=o[0].id}}},WE={class:"relative w-full"},zE=["value"],XE=["value"],Qi=Ie({__name:"InventorySortDropdown",props:{selectedSort:{},sortOptions:{}},emits:["update:selectedSort"],setup(e,{emit:t}){const o=t,n=a=>{const l=a.target;o("update:selectedSort",l.value)};return(a,l)=>(p(),g("div",WE,[r("select",{class:"w-full bg-amber-50 dark:bg-amber-800 text-amber-900 dark:text-amber-100 rounded-lg px-3 py-1.5 text-sm appearance-none pr-8 border border-amber-300 dark:border-amber-700",value:a.selectedSort,onChange:n},[(p(!0),g($e,null,Te(a.sortOptions,i=>(p(),g("option",{key:i.id,value:i.id},v(i.label),9,XE))),128))],40,zE),l[0]||(l[0]=r("div",{class:"absolute right-2 top-1/2 transform -translate-y-1/2 pointer-events-none"},[r("span",{class:"i-heroicons-chevron-down text-amber-700 dark:text-amber-300"})],-1))]))}}),KE={class:"relative w-full"},YE=["value"],JE=["value"],ji=Ie({__name:"InventoryFilterDropdown",props:{selectedFilter:{},filterOptions:{}},emits:["update:selectedFilter"],setup(e,{emit:t}){const o=t,n=a=>{const l=a.target;o("update:selectedFilter",l.value)};return(a,l)=>(p(),g("div",KE,[r("select",{class:"w-full bg-amber-50 dark:bg-amber-800 text-amber-900 dark:text-amber-100 rounded-lg px-3 py-1.5 text-sm appearance-none pr-8 border border-amber-300 dark:border-amber-700",value:a.selectedFilter,onChange:n},[(p(!0),g($e,null,Te(a.filterOptions,i=>(p(),g("option",{key:i.id,value:i.id},v(i.label),9,JE))),128))],40,YE),l[0]||(l[0]=r("div",{class:"absolute right-2 top-1/2 transform -translate-y-1/2 pointer-events-none"},[r("span",{class:"i-heroicons-funnel text-amber-700 dark:text-amber-300"})],-1))]))}});function fn(){const e=$r(),t=L(()=>e.honeydew),o=L(()=>ge(t.value));return{honeydew:t,formattedHoneydew:o,formatHoneydew:(l,i=2)=>ge(l,i),canAffordHoneydew:l=>t.value.gte(l)}}const ZE={class:"flex items-center justify-center"},eM={class:"px-1.5 py-0.5 bg-gradient-to-r from-yellow-400 to-amber-500 text-yellow-900 rounded-full shadow-md flex items-center"},tM=Ie({__name:"XpIndicator",props:{indicator:{}},setup(e){const t=e,o=L(()=>`+${ge(t.indicator.amount,0)}`),n=L(()=>{const m=t.indicator.amount.toNumber();return m>=100?1*1.25:m>=50?1*1.15:m>=20?1*1.05:1}),a=B(null),l=B(1),i=B(0),u=B(0),c=B(.6);return He(()=>{u.value=Math.random()*20-10,setTimeout(()=>{c.value=.85},50),setTimeout(()=>{i.value=-15-Math.random()*10},100),setTimeout(()=>{l.value=.9},1e3),setTimeout(()=>{l.value=.5},1500),setTimeout(()=>{l.value=0},1800)}),(d,m)=>(p(),g("div",{ref_key:"indicatorEl",ref:a,class:ee(["absolute pointer-events-none z-10 font-bold",{"text-2xs":n.value===1,"text-xs":n.value>1&&n.value<1.2,"text-sm":n.value>=1.2}]),style:je({opacity:l.value,transform:`translate(${u.value}px, ${i.value}px) scale(${c.value})`,transition:"opacity 0.3s ease, transform 1.5s ease, scale 0.2s ease-out"})},[r("div",ZE,[r("div",eM,[m[0]||(m[0]=r("span",{class:"i-heroicons-sparkles text-yellow-700 mr-0.5 text-xs"},null,-1)),r("span",null,v(o.value)+" XP",1)])])],6))}}),rM={class:"space-y-4"},oM={class:"bg-white/90 dark:bg-gray-800/80 backdrop-blur-sm rounded-lg p-4 shadow-md border border-amber-200 dark:border-amber-700"},sM={class:"sm:hidden"},nM={class:"flex justify-between items-center mb-4"},aM={class:"flex items-center"},lM={class:"flex space-x-2"},iM={class:"flex items-center bg-gradient-to-r from-green-50/80 to-green-100/80 dark:from-green-900/60 dark:to-green-800/60 px-3 py-1.5 rounded-lg relative group backdrop-blur-sm"},uM={class:"text-sm font-medium text-green-800 dark:text-green-300"},cM={class:"flex items-center bg-gradient-to-r from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 px-3 py-1.5 rounded-lg relative group backdrop-blur-sm"},dM={class:"text-sm font-medium text-amber-800 dark:text-amber-300"},mM={class:"text-xs font-medium text-amber-700 dark:text-amber-400 ml-2"},pM={key:0,class:"rounded-lg p-3 mb-3 bg-amber-50/90 dark:bg-amber-800/60 animate-fadeIn backdrop-blur-sm"},fM={class:"grid grid-cols-1 gap-2"},gM={key:0,class:"ml-1 w-2 h-2 bg-green-400 rounded-full animate-pulse"},vM={class:"w-full"},bM={class:"w-full"},hM={class:"hidden sm:block"},xM={class:"flex justify-between items-center mb-4"},yM={class:"flex items-center space-x-4"},kM={class:"flex space-x-3"},_M={class:"flex items-center bg-gradient-to-r from-green-50/80 to-green-100/80 dark:from-green-900/60 dark:to-green-800/60 px-3 py-1.5 rounded-lg relative group backdrop-blur-sm"},wM={class:"text-sm font-medium text-green-800 dark:text-green-300"},$M={class:"flex items-center bg-gradient-to-r from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 px-3 py-1.5 rounded-lg relative group backdrop-blur-sm"},CM={class:"text-sm font-medium text-amber-800 dark:text-amber-300"},SM={class:"text-sm font-medium text-amber-700 dark:text-amber-400"},AM={class:"flex items-center gap-2"},EM={class:"relative"},MM={key:0,class:"absolute top-full right-0 mt-1 w-48 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm rounded-lg shadow-lg border border-amber-200 dark:border-amber-800 animate-fadeIn z-10"},PM={class:"p-2 grid gap-1"},TM={key:0,class:"w-2 h-2 bg-green-400 rounded-full animate-pulse"},LM={class:"flex space-x-2"},IM={key:0,class:"mb-4 text-sm bg-gradient-to-r from-amber-50/80 to-amber-100/80 dark:from-amber-900/60 dark:to-amber-800/60 py-2 px-3 rounded-lg flex items-center justify-between backdrop-blur-sm"},FM={class:"text-amber-700 dark:text-amber-400"},UM={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-5 2xl:grid-cols-8 gap-3"},RM=["onClick"],DM={class:"absolute inset-0 flex items-center justify-center"},qM=["src","alt"],NM={key:1,class:"i-heroicons-cube text-amber-700 dark:text-amber-500 text-4xl opacity-50"},OM={class:"absolute top-0 left-0 inset-0 overflow-visible pointer-events-none"},BM={class:"relative h-full flex flex-col"},QM={class:"flex justify-between p-1"},jM={class:"bg-amber-200/90 dark:bg-amber-900/90 text-amber-900 dark:text-amber-200 rounded-md px-1 py-0.5 text-2xs font-medium shadow-md"},HM={key:0,class:"bg-yellow-200/90 dark:bg-yellow-900/90 text-yellow-900 dark:text-yellow-200 rounded-md px-1 py-0.5 text-2xs font-medium ml-auto shadow-md"},GM={key:1,class:"bg-green-200/90 dark:bg-green-900/90 text-green-900 dark:text-green-200 rounded-md px-1 py-0.5 text-2xs font-medium ml-auto shadow-md"},VM={class:"px-1"},WM={class:"w-full bg-gray-200/70 dark:bg-gray-200/70 rounded-full h-1.5 mt-0.5"},zM={class:"mt-auto flex items-center justify-center p-2 text-center"},XM={key:0},KM={key:1},YM={class:"mt-6 flex justify-end space-x-3"},JM=["disabled"],ZM={key:0,class:"i-heroicons-arrow-path animate-spin mr-2"},eP={key:2},tP=Ie({__name:"InventorySection",props:{onItemClick:Function,isItemEquipped:Function},setup(e){const t=e,o=Pt(),n=dt(),a=St(),{formattedHoneydew:l}=fn(),{isClosing:i,handleClose:u,preventBackgroundTouchMove:c}=br(),d=B(!1),m=B(!1),b=B(!1),x=B(!1),h=B(null),C=B(!1),{sortOptions:w,selectedSort:M,filterOptions:S,selectedFilter:_,filterAndSortItems:y,hiddenItemsCount:P}=VE();M.value=o.selectedInventorySort,_.value=o.selectedInventoryFilter||"none",De(M,T=>{o.selectedInventorySort=T}),De(_,T=>{o.selectedInventoryFilter=T});const I=L(()=>y(o.inventory)),U=L(()=>P(o.inventory)),q=T=>`${T.name}`,k=()=>{x.value=!0,m.value=!1,b.value=!1},W=async()=>{C.value=!0,h.value=null;try{o.salvageAll(),h.value={success:!0,message:"Successfully salvaged unlocked items for Pheromone Essence"},await new Promise(T=>setTimeout(T,2e3)),u(()=>x.value=!1)}catch(T){h.value={success:!1,message:`Error: ${T}`}}C.value=!1},le=()=>{u(()=>{x.value=!1,h.value=null})},X=T=>{try{return new URL(Object.assign({"../assets/items/beetle_shell_shield.png":md,"../assets/items/exoskeleton_plate.png":pd,"../assets/items/foraging_tools.png":fd,"../assets/items/infinity_shard.png":gd,"../assets/items/leaf_cloak.png":vd,"../assets/items/mandible_crusher.png":bd,"../assets/items/pebble_hammer.png":hd,"../assets/items/reinforced_mandibles.png":xd,"../assets/items/resin_helmet.png":yd,"../assets/items/thorn_spear.png":kd,"../assets/items/training_armor.png":_d,"../assets/items/training_sword.png":wd,"../assets/items/wooden_shield.png":$d,"../assets/items/worker_armor.png":Cd,"../assets/items/worker_sword.png":Sd})[`../assets/items/${T}.png`],import.meta.url).href}catch{return}},j=B({});return(T,K)=>(p(),g("section",rM,[r("div",oM,[r("div",sM,[r("div",nM,[r("div",aM,[r("div",lM,[r("div",iM,[K[14]||(K[14]=r("span",{class:"i-heroicons-droplet text-green-600 dark:text-green-400 mr-1"},null,-1)),r("span",uM,v(f(l)),1)]),r("div",cM,[K[15]||(K[15]=r("span",{class:"i-heroicons-beaker text-amber-600 dark:text-amber-400 mr-1"},null,-1)),r("span",dM,v(f(a).formattedPheromoneEssence),1)])]),r("div",mM,[r("span",null,v(f(o).inventory.length)+"/"+v(f(o).maxInventorySlots.toNumber()),1)])]),r("button",{onClick:K[0]||(K[0]=fe=>m.value=!m.value),class:"px-3 py-1.5 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 rounded-lg text-sm text-white flex items-center transition-all"},K[16]||(K[16]=[r("span",{class:"i-heroicons-ellipsis-horizontal text-white mr-1"},null,-1),Y(" Actions ")]))]),m.value?(p(),g("div",pM,[r("div",fM,[f(o).isSalvageAllUnlocked?(p(),g("button",{key:0,onClick:k,class:"px-3 py-2 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 rounded-lg text-sm text-white flex items-center justify-between transition-all"},K[17]||(K[17]=[r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-beaker text-white mr-1"}),Y(" Salvage All ")],-1)]))):G("",!0),f(o).isAutoSalvageUnlocked?(p(),g("button",{key:1,onClick:K[1]||(K[1]=fe=>f(o).toggleAutoSalvage()),class:ee(["px-3 py-2 rounded-lg text-sm flex items-center justify-between transition-all",f(o).isAutoSalvageEnabled?"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white":"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white"])},[K[18]||(K[18]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-beaker text-white mr-1"}),Y(" Auto Salvage ")],-1)),f(o).isAutoSalvageEnabled?(p(),g("span",gM)):G("",!0)],2)):G("",!0),r("div",vM,[Ee(Qi,{selectedSort:f(M),sortOptions:f(w),"onUpdate:selectedSort":K[2]||(K[2]=fe=>M.value=fe)},null,8,["selectedSort","sortOptions"])]),r("div",bM,[Ee(ji,{selectedFilter:f(_),filterOptions:f(S),"onUpdate:selectedFilter":K[3]||(K[3]=fe=>_.value=fe)},null,8,["selectedFilter","filterOptions"])]),r("button",{onClick:K[4]||(K[4]=fe=>{d.value=!0,m.value=!1}),class:"px-3 py-2 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 rounded-lg text-sm text-white flex items-center justify-between transition-all"},K[19]||(K[19]=[r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-funnel text-white mr-1"}),Y(" Filter Items ")],-1)]))])])):G("",!0)]),r("div",hM,[r("div",xM,[r("div",yM,[r("div",kM,[r("div",_M,[K[20]||(K[20]=r("span",{class:"i-heroicons-droplet text-green-600 dark:text-green-400 mr-1"},null,-1)),r("span",wM,v(f(l))+" Honeydew ",1)]),r("div",$M,[K[21]||(K[21]=r("span",{class:"i-heroicons-beaker text-amber-600 dark:text-amber-400 mr-1"},null,-1)),r("span",CM,v(f(a).formattedPheromoneEssence)+" Essence ",1)])]),r("div",SM,[r("span",null,v(f(o).inventory.length)+"/"+v(f(o).maxInventorySlots.toNumber()),1),K[22]||(K[22]=Y(" slots used "))])]),r("div",AM,[r("div",EM,[r("button",{onClick:K[5]||(K[5]=fe=>b.value=!b.value),class:"px-3 py-1.5 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 rounded-lg text-sm text-white flex items-center transition-all"},K[23]||(K[23]=[r("span",{class:"i-heroicons-bars-3 text-white mr-1"},null,-1),Y(" Actions "),r("span",{class:"i-heroicons-chevron-down text-white ml-1"},null,-1)])),b.value?(p(),g("div",MM,[r("div",PM,[f(o).isSalvageAllUnlocked?(p(),g("button",{key:0,onClick:k,class:"w-full px-3 py-2 hover:bg-amber-100/70 dark:hover:bg-amber-900/30 rounded-lg text-left text-sm text-amber-800 dark:text-amber-300 flex items-center justify-between"},K[24]||(K[24]=[r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-beaker text-amber-600 dark:text-amber-400 mr-2"}),Y(" Salvage All ")],-1)]))):G("",!0),f(o).isAutoSalvageUnlocked?(p(),g("button",{key:1,onClick:K[6]||(K[6]=fe=>{f(o).toggleAutoSalvage(),b.value=!1}),class:"w-full px-3 py-2 hover:bg-amber-100/70 dark:hover:bg-amber-900/30 rounded-lg text-left text-sm text-amber-800 dark:text-amber-300 flex items-center justify-between"},[K[25]||(K[25]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-beaker text-amber-600 dark:text-amber-400 mr-2"}),Y(" Auto Salvage ")],-1)),f(o).isAutoSalvageEnabled?(p(),g("span",TM)):G("",!0)])):G("",!0),r("button",{onClick:K[7]||(K[7]=fe=>{d.value=!0,b.value=!1}),class:"w-full px-3 py-2 hover:bg-amber-100/70 dark:hover:bg-amber-900/30 rounded-lg text-left text-sm text-amber-800 dark:text-amber-300 flex items-center"},K[26]||(K[26]=[r("span",{class:"i-heroicons-funnel text-amber-600 dark:text-amber-400 mr-2"},null,-1),Y(" Filter Items ")]))])])):G("",!0)]),r("div",LM,[Ee(Qi,{selectedSort:f(M),sortOptions:f(w),"onUpdate:selectedSort":K[8]||(K[8]=fe=>M.value=fe)},null,8,["selectedSort","sortOptions"]),Ee(ji,{selectedFilter:f(_),filterOptions:f(S),"onUpdate:selectedFilter":K[9]||(K[9]=fe=>_.value=fe)},null,8,["selectedFilter","filterOptions"])])])])]),U.value>0?(p(),g("div",IM,[r("span",FM,[K[27]||(K[27]=r("span",{class:"i-heroicons-eye-slash mr-1"},null,-1)),Y(" "+v(U.value)+" item"+v(U.value>1?"s":"")+" hidden by filter ",1)]),r("button",{onClick:K[10]||(K[10]=fe=>_.value="none"),class:"text-xs bg-amber-600 hover:bg-amber-700 text-white px-2 py-0.5 rounded-md flex items-center transition-colors"},K[28]||(K[28]=[r("span",{class:"i-heroicons-x-mark text-white mr-1 text-xs"},null,-1),Y(" Clear Filter ")]))])):G("",!0),r("div",UM,[(p(!0),g($e,null,Te(I.value,(fe,we)=>(p(),g("div",{key:we,class:ee(["relative aspect-square overflow-visible cursor-pointer transition-all duration-200 border-4 rounded-lg hover:scale-105 transform",f(n).getRarityBackground(fe.rarity)]),style:{"image-rendering":"pixelated","box-shadow":"inset 0 0 8px rgba(0,0,0,0.2), 0 2px 4px rgba(0,0,0,0.2)","border-top-color":"#f0d4a0","border-left-color":"#f0d4a0","border-right-color":"#c2924e","border-bottom-color":"#c2924e"},onClick:Se=>t.onItemClick&&t.onItemClick(fe),ref_for:!0,ref:Se=>{Se&&(j.value[fe.id]=Se)}},[r("div",DM,[X(fe.id)?(p(),g("img",{key:0,src:X(fe.id),alt:fe.name,class:"w-full h-full object-contain p-2 opacity-70"},null,8,qM)):(p(),g("span",NM))]),r("div",OM,[(p(!0),g($e,null,Te(f(o).getItemIndicators(fe.id),Se=>(p(),Ge(tM,{key:Se.id,indicator:Se,class:"absolute top-2 left-2 transform -translate-x-1/2 -translate-y-1/2"},null,8,["indicator"]))),128))]),r("div",BM,[r("div",QM,[r("div",jM," Lvl "+v(fe.level.toString()),1),fe.isLocked?(p(),g("div",HM,K[29]||(K[29]=[r("span",{class:"i-heroicons-lock-closed"},null,-1)]))):G("",!0),t.isItemEquipped&&t.isItemEquipped(fe.id)?(p(),g("div",GM,K[30]||(K[30]=[r("span",{class:"i-heroicons-check"},null,-1)]))):G("",!0)]),r("div",VM,[r("div",WM,[r("div",{class:"bg-amber-500 dark:bg-amber-600 h-1.5 rounded-full",style:je(`width: ${fe.xp.div(fe.maxXp).mul(100).toNumber()}%`)},null,4)])]),r("div",zM,[r("div",{class:ee(["text-base font-bold line-clamp-2 sm:text-xs md:text-sm lg:text-sm",f(n).getRarityColor(fe.rarity)])},v(q(fe)),3)])])],10,RM))),128)),(p(!0),g($e,null,Te(f(o).maxInventorySlots.toNumber()-f(o).inventory.length,fe=>(p(),g("div",{key:`empty-${fe}`,class:"relative aspect-square border-4 rounded-lg border-amber-300 dark:border-amber-700/50 bg-amber-100/40 dark:bg-amber-900/30 border-dashed",style:{"image-rendering":"pixelated","box-shadow":"inset 0 0 8px rgba(0,0,0,0.1), 0 2px 4px rgba(0,0,0,0.1)","border-top-color":"#f0d4a0","border-left-color":"#f0d4a0","border-right-color":"#c2924e","border-bottom-color":"#c2924e"}},K[31]||(K[31]=[r("div",{class:"absolute inset-0 flex items-center justify-center text-amber-400 dark:text-amber-500/60"},[r("div",{class:"i-heroicons-plus text-2xl animate-pulse"})],-1)])))),128))])]),Ee(jE,{"is-open":d.value,onClose:K[11]||(K[11]=fe=>d.value=!1)},null,8,["is-open"]),x.value?(p(),g("div",{key:0,class:"fixed inset-0 bg-black/60 flex items-start justify-center z-50 p-4 backdrop-blur-sm modal-backdrop overflow-y-auto","data-modal-backdrop":"true",onClick:K[12]||(K[12]=Ye(fe=>{f(u)(()=>{x.value=!1,h.value=null})},["self"])),onTouchmove:K[13]||(K[13]=Ye((...fe)=>f(c)&&f(c)(...fe),["self"]))},[r("div",{class:ee(["bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm p-6 rounded-xl shadow-lg max-w-md w-full mx-auto mt-20 my-4",{"animate-fadeOut":f(i)}])},[r("div",{class:"flex justify-between items-center mb-4"},[K[33]||(K[33]=r("h2",{class:"text-xl font-bold text-gray-800 dark:text-gray-200"},"Salvage All Items",-1)),r("button",{onClick:le,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors"},K[32]||(K[32]=[r("span",{class:"i-heroicons-x-mark text-xl"},null,-1)]))]),f(o).isSalvageAllUnlocked?h.value?(p(),g("div",eP,[r("div",{class:ee(["p-4 mb-4 rounded-lg text-sm",h.value.success?"bg-green-100/80 text-green-800 dark:bg-green-900/40 dark:text-green-400 backdrop-blur-sm":"bg-red-100/80 text-red-800 dark:bg-red-900/40 dark:text-red-400 backdrop-blur-sm"])},v(h.value.message),3),r("div",{class:"mt-6 flex justify-end"},[r("button",{onClick:le,class:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors"}," Close ")])])):(p(),g("div",KM,[K[37]||(K[37]=r("p",{class:"text-gray-600 dark:text-gray-400 mb-4"}," This will salvage all unlocked items that are not equipped. Locked items will be preserved. ",-1)),r("div",YM,[r("button",{onClick:le,class:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors"}," Cancel "),r("button",{onClick:W,disabled:C.value,class:"px-4 py-2 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white rounded-lg text-sm font-medium transition-colors flex items-center"},[C.value?(p(),g("span",ZM)):G("",!0),K[35]||(K[35]=r("span",{class:"i-heroicons-beaker mr-1"},null,-1)),K[36]||(K[36]=Y(" Confirm Salvage "))],8,JM)])])):(p(),g("div",XM,[K[34]||(K[34]=ct('<div class="p-4 mb-4 rounded-lg bg-amber-100/80 text-amber-800 dark:bg-amber-900/40 dark:text-amber-400 backdrop-blur-sm" data-v-c50ca83c><div class="flex items-start" data-v-c50ca83c><span class="i-heroicons-exclamation-triangle mr-2 mt-0.5" data-v-c50ca83c></span><div data-v-c50ca83c><p class="font-medium" data-v-c50ca83c>Upgrade Required</p><p class="text-sm mt-1" data-v-c50ca83c> You need to purchase the &quot;Mass Salvaging&quot; upgrade from the prestige shop to use this feature. </p></div></div></div>',1)),r("div",{class:"mt-6 flex justify-end"},[r("button",{onClick:le,class:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors"}," Close ")])]))],2)],32)):G("",!0)]))}}),Hi=We(tP,[["__scopeId","data-v-c50ca83c"]]);function rP(){const e=Pt(),t=$r(),o=B(!1),n=B(null),a=(u,c=s(1))=>{const m={common:1,uncommon:2,rare:4,epic:8,legendary:16,mythic:32,divine:64}[u.rarity]||1,b=s(1).add(u.level.mul(.1));return s(10).mul(m).mul(b).mul(c).ceil()};return{isLeveling:o,levelingResult:n,calculateHoneydewCost:a,canAffordLevelUp:(u,c=s(1))=>{const d=a(u,c);return t.honeydew.gte(d)},levelUpWithHoneydew:async(u,c=s(1))=>{o.value=!0,n.value=null;try{const d=a(u,c);if(t.honeydew.lt(d))return n.value={success:!1,message:"Not enough honeydew"},!1;t.honeydew=t.honeydew.sub(d);const m=e.addItemXp(u,c);return n.value={success:!0,message:m.leveledUp?`Level up! Item is now level ${m.newLevel.toString()}`:"Added XP to item",leveledUp:m.leveledUp},!0}catch{return n.value={success:!1,message:"An error occurred"},!1}finally{o.value=!1}}}}const oP={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full mx-auto border border-purple-200 dark:border-purple-700 flex flex-col max-h-[90vh]"},sP={class:"p-5 border-b border-gray-200 dark:border-gray-700 sticky top-0 bg-white dark:bg-gray-800 z-10 rounded-t-xl"},nP={class:"flex justify-between items-start"},aP={key:0,class:"i-heroicons-lock-closed text-amber-500 ml-1"},lP={class:"p-5 overflow-y-auto overflow-x-hidden flex-grow"},iP={key:2,class:"p-3 mb-4 rounded-lg bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"},uP={class:"mb-4"},cP={class:"flex justify-between items-center mb-1"},dP={class:"text-sm font-medium text-gray-700 dark:text-gray-300"},mP={class:"text-xs text-gray-500 dark:text-gray-400"},pP={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"},fP={class:"flex justify-end mt-1"},gP={class:"text-xs text-gray-600 dark:text-gray-400"},vP={class:"font-medium"},bP={key:3,class:"mt-2 mb-3"},hP={class:"flex justify-between items-center mb-1"},xP={class:"text-xs text-amber-600 dark:text-amber-400 font-medium"},yP={class:"relative h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},kP={key:4,class:"mb-4 p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg"},_P={class:"flex items-center justify-between mb-2"},wP={class:"grid grid-cols-2 sm:grid-cols-3 gap-1"},$P=["onClick"],CP={class:"col-span-2 grid grid-cols-2 gap-1"},SP=["disabled"],AP={class:"flex items-center justify-center"},EP={key:0,class:"i-heroicons-check-circle ml-1 text-white"},MP={class:"absolute bottom-full left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs rounded p-1 mb-1 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity z-20"},PP={key:0,class:"text-red-400 mt-1"},TP={class:"flex items-center justify-center"},LP={key:0,class:"i-heroicons-check-circle ml-1 text-white"},IP={class:"absolute bottom-full left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs rounded p-1 mb-1 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity z-20"},FP={class:"flex justify-between items-center text-sm mb-3"},UP={class:"font-medium text-amber-700 dark:text-amber-400 flex items-center"},RP={class:"text-xs text-gray-500 dark:text-gray-400 mb-3 flex justify-between items-center"},DP={key:0,class:"text-xs text-gray-600 dark:text-gray-400 mb-3"},qP={class:"flex justify-between"},NP={class:"font-medium"},OP={key:1,class:"mb-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3"},BP={class:"text-sm font-medium text-purple-700 dark:text-purple-400 mb-2 flex items-center justify-between"},QP={class:"flex items-center"},jP={key:0},HP={key:1},GP={key:0,class:"text-xs text-gray-600 dark:text-gray-400"},VP={key:0,class:"mb-3"},WP={class:"grid grid-cols-2 gap-x-2 gap-y-1"},zP={key:0,class:"text-xs text-red-600 dark:text-red-400 flex items-center"},XP={key:1,class:"text-xs text-green-600 dark:text-green-400 flex items-center"},KP={key:2,class:"text-xs text-blue-600 dark:text-blue-400 flex items-center"},YP={key:3,class:"text-xs text-purple-600 dark:text-purple-400 flex items-center"},JP={key:1,class:"mb-3"},ZP={class:"grid grid-cols-2 gap-x-2 gap-y-1"},eT={key:0,class:"text-xs text-red-600 dark:text-red-400 flex items-center"},tT={key:1,class:"text-xs text-green-600 dark:text-green-400 flex items-center"},rT={key:2,class:"text-xs text-blue-600 dark:text-blue-400 flex items-center"},oT={key:3,class:"text-xs text-purple-600 dark:text-purple-400 flex items-center"},sT={key:2,class:"mb-3"},nT={class:"grid grid-cols-1 gap-1"},aT={key:3,class:"mb-3"},lT={class:"grid grid-cols-1 gap-1"},iT={key:4,class:"mb-3"},uT={class:"grid grid-cols-1 gap-1"},cT={key:5,class:"mb-3"},dT={class:"grid grid-cols-1 gap-1"},mT=["disabled"],pT={key:0,class:"i-heroicons-arrow-path animate-spin mr-2"},fT={class:"space-y-4"},gT={class:"text-sm text-gray-600 dark:text-gray-400"},vT={key:0,class:"space-y-2"},bT={class:"grid grid-cols-2 gap-2"},hT={key:0,class:"text-sm text-red-600 dark:text-red-400"},xT={key:1,class:"text-sm text-green-600 dark:text-green-400"},yT={key:2,class:"text-sm text-blue-600 dark:text-blue-400"},kT={key:3,class:"text-sm text-purple-600 dark:text-purple-400"},_T={key:1,class:"space-y-2"},wT={class:"grid grid-cols-1 gap-1"},$T={key:2,class:"space-y-2"},CT={class:"grid grid-cols-1 gap-1"},ST={class:"space-y-2"},AT={class:"text-sm text-gray-600 dark:text-gray-400"},ET={class:"mt-2 p-2 rounded-lg bg-amber-50 dark:bg-amber-900/20"},MT={class:"text-amber-700 dark:text-amber-400 flex items-center"},PT={class:"font-semibold"},TT={class:"p-5 border-t border-gray-200 dark:border-gray-700 sticky bottom-0 bg-white dark:bg-gray-800 z-10 rounded-b-xl"},LT={key:0,class:"flex flex-col gap-3"},IT={class:"flex gap-3"},FT=["disabled"],UT={key:0,class:"i-heroicons-lock-closed mr-1"},RT={key:1,class:"i-heroicons-lock-open mr-1"},DT={class:"flex gap-3"},qT={key:1,class:"flex flex-col gap-3"},NT={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},OT={class:"flex gap-3"},BT=["disabled"],QT={key:0,class:"i-heroicons-arrow-path animate-spin mr-2"},jT=Ie({__name:"ItemModal",props:{item:{},isItemEquipped:{type:Function},onEquipAction:{type:Function},onClose:{type:Function}},setup(e){const t=e,o=dt(),n=Pt(),a=B(!1),l=B(null),i=B(!1),{handleClose:u,preventBackgroundTouchMove:c}=br(),{formattedHoneydew:d}=fn(),{isLeveling:m,levelingResult:b,calculateHoneydewCost:x,canAffordLevelUp:h,levelUpWithHoneydew:C}=rP(),w=B(!1),M=B(s(1)),S=[{value:s(1),label:"1 XP"},{value:s(5),label:"5 XP"},{value:s(10),label:"10 XP"},{value:s(50),label:"50 XP"},{value:s(100),label:"100 XP"}],_=L(()=>{const se=$r().honeydew;let xe=s(1),Ae=x(t.item,xe);if(se.lt(Ae))return s(0);let Me=s(1),Le=s(1e4);for(;Me.lt(Le);){const Ue=Me.add(Le).div(2).floor();Ae=x(t.item,Ue),Ae.lte(se)?Me=Ue.add(1):Le=Ue}return Me.sub(1).max(1)});L(()=>!S.some(J=>J.value.eq(M.value)));const y=L(()=>{const J=x(t.item,re.value),se=$r();return J.lte(se.honeydew)}),P=()=>{const J=re.value;if(J.lte(0))return;const se=x(t.item,J),xe=$r();if(se.gt(xe.honeydew)){U();return}M.value=J},I=L(()=>M.value.eq(re.value)),U=()=>{const J=_.value;J.lte(0)||(M.value=J)},q=L(()=>x(t.item,M.value)),k=L(()=>ge(q.value)),W=L(()=>h(t.item,M.value)),le=async()=>{await C(t.item,M.value)},X=()=>{w.value=!w.value,w.value&&(b.value=null)},j=J=>{J.key==="Escape"&&u(t.onClose,0)};He(()=>{window.addEventListener("keydown",j)}),Zt(()=>{window.removeEventListener("keydown",j)});const T=()=>{t.onEquipAction(t.item)},K=()=>{if(F(t.item.id)){l.value={success:!1,message:"This item is locked. Unlock it first to salvage."};return}a.value=!0},fe=async()=>{i.value=!0,l.value=null;const J=n.inventory.findIndex(se=>se.id===t.item.id);if(J!==-1){const se=n.salvageItem(J);l.value=se,se.success&&(await new Promise(xe=>setTimeout(xe,1500)),t.onClose())}else l.value={success:!1,message:"Item not found in inventory"};a.value=!1,i.value=!1},we=()=>{a.value=!1},Se=L(()=>o.getFormattedItemName(t.item)),pe=L(()=>n.calculateSalvageValue(t.item)),ce=L(()=>!t.item.maxXp||t.item.maxXp.eq(0)?"0%":o.formatXpProgress(t.item.xp,t.item.maxXp)),ke=L(()=>!t.item.maxXp||t.item.maxXp.eq(0)?0:Math.min(100,t.item.xp.div(t.item.maxXp).mul(100).toNumber())),ue=L(()=>he.fromNumber(n.inventory.length).gte(n.maxInventorySlots)),Z=L(()=>t.isItemEquipped(t.item.id)&&ue.value),de=L(()=>o.getItemStats(t.item)),oe=L(()=>o.getItemProductionModifiers(t.item)),te=L(()=>o.getItemSpecialModifiers(t.item)),ae=()=>{const J=n.isItemLocked(t.item.id);n.setItemLockStatus(t.item.id,!J),t.item.isLocked=!J},F=J=>(n.migrateEquippedItemsLockStatus(),n.isItemLocked(J)),E=L(()=>ge(t.item.level,0)),N=L(()=>ge(t.item.xp,0)),me=L(()=>ge(t.item.maxXp,0)),ie=L(()=>ge(pe.value,0)),O=L(()=>M.value.eq(_.value)),$=L(()=>ge(_.value,0)),A=L(()=>{const J=t.item.xp.add(M.value);return t.item.maxXp.eq(0)?0:J.gte(t.item.maxXp)?100:Math.min(100,J.div(t.item.maxXp).mul(100).toNumber())}),Q=L(()=>{if(!W.value)return 0;let J=M.value,se=new he(t.item.xp),xe=new he(t.item.maxXp),Ae=new he(t.item.level),Me=0;for(;J.gt(0);){const Le=xe.sub(se);if(J.gte(Le)?(Me++,Ae=Ae.add(1),J=J.sub(Le),se=s(0),xe=o.calculateMaxXp(Ae,t.item.rarity)):(se=se.add(J),J=s(0)),Me>100)break}return Me}),ne=L(()=>Q.value===0?"":`+${Q.value} level${Q.value>1?"s":""}`),re=L(()=>t.item.maxXp.sub(t.item.xp)),V=L(()=>ge(re.value,0)),be=L(()=>{if(Q.value>0)return s(0);const J=re.value.sub(M.value);return J.lt(0)?s(0):J}),R=L(()=>ge(be.value,0)),H=L(()=>{const J={...t.item,level:t.item.level.add(1)},se=o.getItemStats(t.item),xe=o.getItemStats(J);if(!se||!xe)return null;const Ae={};return Object.keys(xe).forEach(Me=>{const Le=se[Me]||s(0),Ue=xe[Me]||s(0);Ae[Me]=Ue.sub(Le)}),{current:se,next:xe,diff:Ae}}),ve=L(()=>{const J={...t.item,level:t.item.level.add(1)},se=o.getItemProductionModifiers(t.item),xe=o.getItemProductionModifiers(J);if(!se||!xe)return null;const Ae={};return Object.keys(xe).forEach(Me=>{const Le=se[Me]||s(1),Ue=xe[Me]||s(1);Ae[Me]=Ue.sub(Le).mul(100)}),{current:se,next:xe,diff:Ae}}),ye=L(()=>{const J={...t.item,level:t.item.level.add(1)},se=o.getItemSpecialModifiers(t.item),xe=o.getItemSpecialModifiers(J);if(!se||!xe)return null;const Ae={};return Object.keys(xe).forEach(Me=>{const Le=se[Me]||s(1),Ue=xe[Me]||s(1);Ae[Me]=Ue.sub(Le).mul(100)}),{current:se,next:xe,diff:Ae}}),D=L(()=>I.value||W.value&&Q.value>0),z=L(()=>{if(Q.value<=1)return null;const J=t.item.level.add(Q.value),se={...t.item,level:J},xe=o.getItemStats(t.item),Ae=o.getItemStats(se),Me=o.getItemProductionModifiers(t.item),Le=o.getItemProductionModifiers(se),Ue=o.getItemSpecialModifiers(t.item),Oe=o.getItemSpecialModifiers(se),Je={},Fe={},nt={};return xe&&Ae&&Object.keys(Ae).forEach(lt=>{const vt=xe[lt]||s(0),Ke=Ae[lt]||s(0);Je[lt]=Ke.sub(vt)}),Me&&Le&&Object.keys(Le).forEach(lt=>{const vt=Me[lt]||s(1),Ke=Le[lt]||s(1);Fe[lt]=Ke.sub(vt).mul(100)}),Ue&&Oe&&Object.keys(Oe).forEach(lt=>{const vt=Ue[lt]||s(1),Ke=Oe[lt]||s(1);nt[lt]=Ke.sub(vt).mul(100)}),{levels:Q.value,finalLevel:J,stats:{current:xe,final:Ae,diff:Je},prodMods:{current:Me,final:Le,diff:Fe},specialMods:{current:Ue,final:Oe,diff:nt}}});return(J,se)=>(p(),g("div",{class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm overflow-hidden modal-backdrop","data-modal-backdrop":"true",onClick:se[1]||(se[1]=Ye(xe=>f(u)(J.onClose,0),["self"])),onTouchmove:se[2]||(se[2]=Ye((...xe)=>f(c)&&f(c)(...xe),["self"]))},[r("div",oP,[r("div",sP,[r("div",nP,[r("div",null,[r("h3",{class:ee(["text-lg font-bold",f(o).getRarityColor(J.item.rarity)])},[Y(v(Se.value)+" ",1),F(J.item.id)?(p(),g("span",aP)):G("",!0)],2)]),r("button",{onClick:se[0]||(se[0]=xe=>f(u)(J.onClose,0)),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors"},se[3]||(se[3]=[r("span",{class:"i-heroicons-x-mark text-xl"},null,-1)]))])]),r("div",lP,[l.value?(p(),g("div",{key:0,class:ee(["p-3 mb-4 rounded-lg text-sm",l.value.success?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"])},v(l.value.message),3)):G("",!0),f(b)?(p(),g("div",{key:1,class:ee(["p-3 mb-4 rounded-lg text-sm",f(b).success?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"])},v(f(b).message),3)):G("",!0),Z.value?(p(),g("div",iP,se[4]||(se[4]=[r("div",{class:"flex items-start"},[r("span",{class:"i-heroicons-exclamation-triangle mr-2 mt-0.5"}),r("div",null,[r("p",{class:"font-medium"},"Warning: Inventory Full"),r("p",{class:"text-xs mt-1"},"You cannot unequip this item because your inventory is full. Free up space first. ")])],-1)]))):G("",!0),r("div",uP,[r("div",cP,[r("div",dP," Level "+v(E.value),1),r("div",mP,v(N.value)+" / "+v(me.value)+" XP ("+v(ce.value)+") ",1)]),r("div",pP,[r("div",{class:"bg-purple-600 h-2 rounded-full",style:je({width:ke.value+"%"})},null,4)]),r("div",fP,[r("div",gP,[se[5]||(se[5]=Y(" Till next level: ")),r("span",vP,v(V.value)+" XP",1)])])]),W.value?(p(),g("div",bP,[r("div",hP,[se[6]||(se[6]=r("div",{class:"text-xs text-gray-600 dark:text-gray-400"}," Projected progress: ",-1)),r("div",xP,v(ne.value),1)]),r("div",yP,[r("div",{class:"absolute left-0 top-0 h-full bg-purple-600 rounded-full",style:je({width:ke.value+"%"})},null,4),r("div",{class:"absolute left-0 top-0 h-full bg-amber-500 rounded-full opacity-60",style:je({width:A.value+"%",clipPath:ke.value>0?`inset(0 0 0 ${ke.value}%)`:"none"})},null,4)])])):G("",!0),w.value?(p(),g("div",kP,[se[36]||(se[36]=r("div",{class:"text-sm font-medium text-amber-700 dark:text-amber-400 mb-2"},"Level up with Honeydew",-1)),r("div",_P,[se[11]||(se[11]=r("div",{class:"text-xs text-gray-600 dark:text-gray-400"}," Select XP amount: ",-1)),r("div",wP,[(p(!0),g($e,null,Te(S.slice(0,4),xe=>(p(),g("button",{key:xe.label,onClick:Ae=>M.value=xe.value,class:ee(["px-2 py-1 text-xs rounded",M.value.eq(xe.value)?"bg-amber-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"])},v(xe.label),11,$P))),128)),r("div",CP,[r("button",{onClick:P,disabled:!y.value,class:ee(["px-2 py-1 text-xs rounded group relative truncate",I.value?"bg-amber-600 text-white":y.value?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 opacity-70 cursor-not-allowed"])},[r("span",AP,[se[7]||(se[7]=r("span",{class:"i-heroicons-arrow-up-circle mr-1"},null,-1)),se[8]||(se[8]=Y(" Level Up ")),I.value?(p(),g("span",EP)):G("",!0)]),r("div",MP,[Y(v(V.value)+" XP (Exact amount to level up) ",1),y.value?G("",!0):(p(),g("div",PP,"Not enough honeydew"))])],10,SP),r("button",{onClick:U,class:ee(["px-2 py-1 text-xs rounded group relative",O.value?"bg-amber-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"])},[r("span",TP,[se[9]||(se[9]=r("span",{class:"i-heroicons-beaker-solid mr-1"},null,-1)),se[10]||(se[10]=Y(" Max XP ")),O.value?(p(),g("span",LP)):G("",!0)]),r("div",IP,v($.value)+" XP (All available honeydew) ",1)],2)])])]),r("div",FP,[se[13]||(se[13]=r("div",{class:"text-gray-600 dark:text-gray-400"},"Cost:",-1)),r("div",UP,[se[12]||(se[12]=r("span",{class:"i-heroicons-beaker-solid mr-1"},null,-1)),Y(" "+v(k.value)+" Honeydew ",1)])]),r("div",RP,[se[14]||(se[14]=r("span",null,"Your honeydew:",-1)),r("span",null,v(f(d)),1)]),W.value&&Q.value===0?(p(),g("div",DP,[r("div",qP,[se[15]||(se[15]=r("span",null,"After applying:",-1)),r("span",NP,v(R.value)+" XP till next level",1)])])):G("",!0),D.value?(p(),g("div",OP,[r("div",BP,[r("div",QP,[se[16]||(se[16]=r("span",{class:"i-heroicons-arrow-trending-up mr-1"},null,-1)),z.value?(p(),g("span",jP," Level Up Preview (+"+v(z.value.levels)+" levels) ",1)):(p(),g("span",HP," Level Up Preview "))]),z.value?(p(),g("div",GP," To level "+v(f(ge)(z.value.finalLevel,0)),1)):G("",!0)]),!z.value&&H.value&&Object.keys(H.value.diff).length>0?(p(),g("div",VP,[se[21]||(se[21]=r("div",{class:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Stats:",-1)),r("div",WP,[H.value.diff.damage?(p(),g("div",zP,[se[17]||(se[17]=r("span",{class:"i-heroicons-plus-small mr-0.5"},null,-1)),Y(" Damage: +"+v(f(ge)(H.value.diff.damage,1)),1)])):G("",!0),H.value.diff.health?(p(),g("div",XP,[se[18]||(se[18]=r("span",{class:"i-heroicons-plus-small mr-0.5"},null,-1)),Y(" Health: +"+v(f(ge)(H.value.diff.health,1)),1)])):G("",!0),H.value.diff.defense?(p(),g("div",KP,[se[19]||(se[19]=r("span",{class:"i-heroicons-plus-small mr-0.5"},null,-1)),Y(" Defense: +"+v(f(ge)(H.value.diff.defense,1)),1)])):G("",!0),H.value.diff.regen?(p(),g("div",YP,[se[20]||(se[20]=r("span",{class:"i-heroicons-plus-small mr-0.5"},null,-1)),Y(" Regen: +"+v(f(ge)(H.value.diff.regen,1)),1)])):G("",!0)])])):G("",!0),z.value&&z.value.stats.diff&&Object.keys(z.value.stats.diff).length>0?(p(),g("div",JP,[se[26]||(se[26]=r("div",{class:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Stats:",-1)),r("div",ZP,[z.value.stats.diff.damage?(p(),g("div",eT,[se[22]||(se[22]=r("span",{class:"i-heroicons-plus-small mr-0.5"},null,-1)),Y(" Damage: +"+v(f(ge)(z.value.stats.diff.damage,1)),1)])):G("",!0),z.value.stats.diff.health?(p(),g("div",tT,[se[23]||(se[23]=r("span",{class:"i-heroicons-plus-small mr-0.5"},null,-1)),Y(" Health: +"+v(f(ge)(z.value.stats.diff.health,1)),1)])):G("",!0),z.value.stats.diff.defense?(p(),g("div",rT,[se[24]||(se[24]=r("span",{class:"i-heroicons-plus-small mr-0.5"},null,-1)),Y(" Defense: +"+v(f(ge)(z.value.stats.diff.defense,1)),1)])):G("",!0),z.value.stats.diff.regen?(p(),g("div",oT,[se[25]||(se[25]=r("span",{class:"i-heroicons-plus-small mr-0.5"},null,-1)),Y(" Regen: +"+v(f(ge)(z.value.stats.diff.regen,1)),1)])):G("",!0)])])):G("",!0),!z.value&&ve.value&&Object.keys(ve.value.diff).length>0?(p(),g("div",sT,[se[28]||(se[28]=r("div",{class:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Production Modifiers:",-1)),r("div",nT,[(p(!0),g($e,null,Te(Object.entries(ve.value.diff),([xe,Ae])=>(p(),g("div",{key:xe,class:"text-xs text-amber-600 dark:text-amber-400 flex items-center"},[se[27]||(se[27]=r("span",{class:"i-heroicons-plus-small mr-0.5"},null,-1)),Y(" "+v(xe.charAt(0).toUpperCase()+xe.slice(1))+": +"+v(f(ge)(Ae,1))+"% increase ",1)]))),128))])])):G("",!0),z.value&&z.value.prodMods.diff&&Object.keys(z.value.prodMods.diff).length>0?(p(),g("div",aT,[se[30]||(se[30]=r("div",{class:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Production Modifiers:",-1)),r("div",lT,[(p(!0),g($e,null,Te(Object.entries(z.value.prodMods.diff),([xe,Ae])=>(p(),g("div",{key:xe,class:"text-xs text-amber-600 dark:text-amber-400 flex items-center"},[se[29]||(se[29]=r("span",{class:"i-heroicons-plus-small mr-0.5"},null,-1)),Y(" "+v(xe.charAt(0).toUpperCase()+xe.slice(1))+": +"+v(f(ge)(Ae,1))+"% increase ",1)]))),128))])])):G("",!0),!z.value&&ye.value&&Object.keys(ye.value.diff).length>0?(p(),g("div",iT,[se[32]||(se[32]=r("div",{class:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Special Modifiers:",-1)),r("div",uT,[(p(!0),g($e,null,Te(Object.entries(ye.value.diff),([xe,Ae])=>(p(),g("div",{key:xe,class:"text-xs text-indigo-600 dark:text-indigo-400 flex items-center"},[se[31]||(se[31]=r("span",{class:"i-heroicons-plus-small mr-0.5"},null,-1)),Y(" "+v(xe==="epBoost"?"EP Gain":xe)+": +"+v(f(ge)(Ae,1))+"% increase ",1)]))),128))])])):G("",!0),z.value&&z.value.specialMods.diff&&Object.keys(z.value.specialMods.diff).length>0?(p(),g("div",cT,[se[34]||(se[34]=r("div",{class:"text-xs font-medium text-gray-700 dark:text-gray-300 mb-1"},"Special Modifiers:",-1)),r("div",dT,[(p(!0),g($e,null,Te(Object.entries(z.value.specialMods.diff),([xe,Ae])=>(p(),g("div",{key:xe,class:"text-xs text-indigo-600 dark:text-indigo-400 flex items-center"},[se[33]||(se[33]=r("span",{class:"i-heroicons-plus-small mr-0.5"},null,-1)),Y(" "+v(xe==="epBoost"?"EP Gain":xe)+": +"+v(f(ge)(Ae,1))+"% increase ",1)]))),128))])])):G("",!0)])):G("",!0),r("button",{onClick:le,disabled:!W.value||f(m),class:ee(["w-full py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center",W.value&&!f(m)?"bg-amber-600 hover:bg-amber-700 text-white":"bg-gray-400 text-white cursor-not-allowed"])},[f(m)?(p(),g("span",pT)):G("",!0),se[35]||(se[35]=Y(" Apply Honeydew "))],10,mT)])):G("",!0),r("div",fT,[r("p",gT,v(J.item.description),1),de.value?(p(),g("div",vT,[se[37]||(se[37]=r("h4",{class:"font-semibold text-sm text-gray-700 dark:text-gray-300"},"Stats:",-1)),r("div",bT,[de.value.damage?(p(),g("div",hT," Damage: +"+v(f(ge)(de.value.damage,1)),1)):G("",!0),de.value.health?(p(),g("div",xT," Health: +"+v(f(ge)(de.value.health,1)),1)):G("",!0),de.value.defense?(p(),g("div",yT," Defense: +"+v(f(ge)(de.value.defense,1)),1)):G("",!0),de.value.regen?(p(),g("div",kT," Regen: +"+v(f(ge)(de.value.regen,1)),1)):G("",!0)])])):G("",!0),oe.value?(p(),g("div",_T,[se[38]||(se[38]=r("h4",{class:"font-semibold text-sm text-gray-700 dark:text-gray-300"},"Production Modifiers:",-1)),r("div",wT,[(p(!0),g($e,null,Te(Object.entries(oe.value),([xe,Ae])=>(p(),g("div",{key:xe,class:"text-sm text-amber-600 dark:text-amber-400"},v(xe.charAt(0).toUpperCase()+xe.slice(1))+": "+v(Ae.minus(1).mul(100).toFixed(1))+"% increase ",1))),128))])])):G("",!0),te.value?(p(),g("div",$T,[se[39]||(se[39]=r("h4",{class:"font-semibold text-sm text-gray-700 dark:text-gray-300"},"Special Modifiers:",-1)),r("div",CT,[(p(!0),g($e,null,Te(Object.entries(te.value),([xe,Ae])=>(p(),g("div",{key:xe,class:"text-sm text-indigo-600 dark:text-indigo-400"},v(xe==="epBoost"?"EP Gain":xe)+": "+v(Ae.minus(1).mul(100).toFixed(1))+"% increase ",1))),128))])])):G("",!0),r("div",ST,[se[44]||(se[44]=r("h4",{class:"font-semibold text-sm text-gray-700 dark:text-gray-300"},"Salvage Information:",-1)),r("div",AT,[se[43]||(se[43]=r("p",null,"Salvaging this item will yield:",-1)),r("div",ET,[r("p",MT,[se[40]||(se[40]=r("span",{class:"i-heroicons-beaker mr-1"},null,-1)),r("span",PT,v(ie.value),1),se[41]||(se[41]=r("span",{class:"ml-1"},"Pheromone Essence",-1))]),se[42]||(se[42]=r("p",{class:"text-xs mt-1 text-gray-500 dark:text-gray-400"}," Higher rarity items and levels yield more essence ",-1))])])])])]),r("div",TT,[a.value?G("",!0):(p(),g("div",LT,[r("div",IT,[r("button",{onClick:T,class:ee(["flex-1 px-4 py-2 text-white rounded-lg text-sm font-medium transition-colors",[J.isItemEquipped(J.item.id)&&!Z.value?"bg-purple-600 hover:bg-purple-700":J.isItemEquipped(J.item.id)&&Z.value?"bg-gray-400 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700"]]),disabled:Z.value},v(J.isItemEquipped(J.item.id)?"Unequip":"Equip"),11,FT),r("button",{onClick:ae,class:ee(["px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center",F(J.item.id)?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"])},[F(J.item.id)?(p(),g("span",UT)):(p(),g("span",RT)),Y(" "+v(F(J.item.id)?"Unlock":"Lock"),1)],2),r("button",{onClick:K,class:ee(["px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-lg text-sm font-medium transition-colors flex items-center",F(J.item.id)?"opacity-50 cursor-not-allowed":""])},se[45]||(se[45]=[r("span",{class:"i-heroicons-beaker mr-1"},null,-1),Y(" Salvage ")]),2)]),r("div",DT,[r("button",{onClick:X,class:"flex-1 px-4 py-2 bg-amber-600 hover:bg-amber-700 text-amber-900 dark:text-amber-100 rounded-lg text-sm font-medium transition-colors flex items-center justify-center"},[se[46]||(se[46]=r("span",{class:"i-heroicons-beaker-solid mr-1"},null,-1)),Y(" "+v(w.value?"Hide Leveling":"Level with Honeydew"),1)])])])),a.value?(p(),g("div",qT,[r("p",NT," Salvage "+v(J.item.name)+" (Level "+v(E.value)+") for "+v(ie.value)+" Pheromone Essence? ",1),r("div",OT,[r("button",{onClick:we,class:"flex-1 px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors"}," Cancel "),r("button",{onClick:fe,disabled:i.value,class:ee(["flex-1 px-4 py-2 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center",i.value?"bg-amber-400":"bg-amber-600 hover:bg-amber-700"])},[i.value?(p(),g("span",QT)):G("",!0),se[47]||(se[47]=Y(" Confirm Salvage "))],10,BT)])])):G("",!0)])])],32))}}),HT={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-5 mx-auto border border-purple-200 dark:border-purple-700"},GT={class:"space-y-3"},VT={class:"bg-purple-50 dark:bg-purple-900/30 p-3 rounded-lg border border-purple-200 dark:border-purple-700"},WT={class:"text-sm font-bold text-purple-600 dark:text-purple-500"},zT={class:"flex justify-end mt-4"},XT=Ie({__name:"LockedSlotModal",props:{onClose:{type:Function}},setup(e){const t=Pt();return(o,n)=>(p(),g("div",{class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",onKeydown:n[1]||(n[1]=Ta((...a)=>o.onClose&&o.onClose(...a),["esc"])),onClick:n[2]||(n[2]=(...a)=>o.onClose&&o.onClose(...a))},[r("div",HT,[n[6]||(n[6]=r("h3",{class:"text-base font-bold mb-3 flex items-center text-purple-800 dark:text-purple-300 pb-2 border-b border-purple-200 dark:border-purple-700"},[r("span",{class:"i-heroicons-lock-closed text-purple-600 dark:text-purple-400 mr-2"}),Y(" Locked Equipment Slot ")],-1)),r("div",GT,[n[4]||(n[4]=r("div",{class:"text-sm text-gray-700 dark:text-gray-300"},' This equipment slot is currently locked. You can unlock additional equipment slots through the prestige upgrade "Equipment Mastery". ',-1)),r("div",VT,[n[3]||(n[3]=r("div",{class:"text-xs text-purple-700 dark:text-purple-400 font-medium mb-1"},"Current Progress",-1)),r("div",WT,v(f(t).unlockedEquipmentSlots)+"/"+v(f(t).maxEquipmentSlots)+" slots unlocked ",1)]),n[5]||(n[5]=r("div",{class:"text-xs text-gray-500 dark:text-gray-400"}," Tip: Each level of Equipment Mastery unlocks one additional slot, up to a maximum of 10 bonus slots. ",-1))]),r("div",zT,[r("button",{onClick:n[0]||(n[0]=(...a)=>o.onClose&&o.onClose(...a)),class:"py-2 px-4 bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-800 rounded-lg text-white text-sm font-medium transition-colors"}," Close ")])])],32))}}),KT={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-5 mx-auto border border-purple-200 dark:border-purple-700"},YT={class:"space-y-4"},JT={class:"text-sm text-gray-700 dark:text-gray-300"},ZT={class:"font-medium text-purple-600 dark:text-purple-400"},e6={key:0,class:"p-3 bg-red-100 dark:bg-red-900/30 rounded-lg border border-red-200 dark:border-red-800"},t6={class:"grid grid-cols-2 gap-2"},r6=["onClick"],o6={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},s6={class:"text-xs text-gray-500 dark:text-gray-400"},n6=Ie({__name:"SlotSelectionModal",props:{item:{},onClose:{type:Function},onSlotSelect:{type:Function}},setup(e){const t=e,o=Pt(),n=dt(),{handleClose:a,preventBackgroundTouchMove:l}=br(),i=()=>{a(t.onClose,0)},u=x=>{x.key==="Escape"&&i()};He(()=>{window.addEventListener("keydown",u)}),Zt(()=>{window.removeEventListener("keydown",u)});const c=L(()=>he.fromNumber(o.inventory.length).gte(o.maxInventorySlots)),d=x=>o.inventory.find(C=>C.id===x)||n.getItem(x),m=x=>{const h=d(x);return h?n.getFormattedItemName(h):""},b=o.equipmentSlots.filter(x=>!x.locked);return(x,h)=>(p(),g("div",{class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm modal-backdrop","data-modal-backdrop":"true",onClick:Ye(i,["self"]),onTouchmove:h[0]||(h[0]=Ye((...C)=>f(l)&&f(l)(...C),["self"]))},[r("div",KT,[h[5]||(h[5]=r("h3",{class:"text-base font-bold mb-3 flex items-center text-purple-800 dark:text-purple-300 pb-2 border-b border-purple-200 dark:border-purple-700"},[r("span",{class:"i-heroicons-squares-2x2 text-purple-600 dark:text-purple-400 mr-2"}),Y(" Select Slot to Replace ")],-1)),r("div",YT,[r("div",JT,[h[1]||(h[1]=Y(" All equipment slots are occupied. Select which item you want to replace with ")),r("span",ZT,v(t.item.name)+" (Lvl "+v(t.item.level.toString())+")",1),h[2]||(h[2]=Y(". "))]),c.value?(p(),g("div",e6,h[3]||(h[3]=[ct('<div class="flex items-start"><span class="i-heroicons-exclamation-triangle text-red-600 dark:text-red-400 mr-2 mt-0.5"></span><div class="flex-1"><p class="text-sm font-medium text-red-800 dark:text-red-400">Inventory Full Warning</p><p class="text-xs text-red-700 dark:text-red-300 mt-1"> Your inventory is full! If you replace an equipped item, it may be discarded as there&#39;s no space to store it. Consider freeing up space first. </p></div></div>',1)]))):G("",!0),r("div",t6,[(p(!0),g($e,null,Te(f(b),(C,w)=>{var M;return p(),g("button",{key:w,onClick:S=>x.onSlotSelect(f(o).equipmentSlots.indexOf(C)),class:ee(["relative p-3 rounded-lg border-2 border-gray-200 dark:border-gray-700 hover:border-purple-500 dark:hover:border-purple-400 transition-colors text-left",{"border-red-300 dark:border-red-700":c.value}])},[r("div",o6,v(m(C.item)),1),r("div",s6,v((M=d(C.item))==null?void 0:M.type),1),h[4]||(h[4]=r("div",{class:"text-[10px] text-gray-400 dark:text-gray-500 mt-1"}," Click to replace ",-1))],10,r6)}),128))]),r("div",{class:"flex justify-end space-x-3 mt-4"},[r("button",{onClick:i,class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 text-sm font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"}," Cancel ")])])])],32))}}),a6={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-5 mx-auto border border-purple-200 dark:border-purple-700"},l6={class:"space-y-4"},i6={class:"grid grid-cols-2 gap-2 max-h-[60vh] overflow-y-auto p-1"},u6=["onClick"],c6={class:"text-xs text-gray-500 dark:text-gray-400"},d6={class:"absolute top-1 right-1 flex space-x-1"},m6={class:"bg-purple-200/90 dark:bg-purple-900/90 text-purple-900 dark:text-purple-200 rounded-md px-1.5 py-0.5 text-xs font-medium"},p6={class:"flex justify-end space-x-3 mt-4"},f6=Ie({__name:"ItemSelectionModal",props:{onClose:{type:Function},onItemSelect:{type:Function}},setup(e){const t=Pt(),o=dt(),n=t.inventory.filter(l=>l.type==="equipment"),a=l=>o.getFormattedItemName(l);return(l,i)=>(p(),g("div",{class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",onKeydown:i[1]||(i[1]=Ta((...u)=>l.onClose&&l.onClose(...u),["esc"])),onClick:i[2]||(i[2]=(...u)=>l.onClose&&l.onClose(...u))},[r("div",a6,[i[4]||(i[4]=r("h3",{class:"text-base font-bold mb-3 flex items-center text-purple-800 dark:text-purple-300 pb-2 border-b border-purple-200 dark:border-purple-700"},[r("span",{class:"i-heroicons-squares-2x2 text-purple-600 dark:text-purple-400 mr-2"}),Y(" Select Item to Equip ")],-1)),r("div",l6,[i[3]||(i[3]=r("div",{class:"text-sm text-gray-700 dark:text-gray-300"}," Select an item from your inventory to equip in this slot. ",-1)),r("div",i6,[(p(!0),g($e,null,Te(f(n),u=>(p(),g("button",{key:u.id,onClick:c=>l.onItemSelect(u),class:ee(["relative p-3 rounded-lg border-2 border-gray-200 dark:border-gray-700 hover:border-purple-500 dark:hover:border-purple-400 transition-colors text-left",f(o).getRarityBackground(u.rarity)])},[r("div",{class:ee(["text-sm font-medium",f(o).getRarityColor(u.rarity)])},v(a(u)),3),r("div",c6,v(u.type),1),r("div",d6,[r("div",m6," Lvl "+v(u.level.toString()),1)])],10,u6))),128))]),r("div",p6,[r("button",{onClick:i[0]||(i[0]=(...u)=>l.onClose&&l.onClose(...u)),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 text-sm font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"}," Cancel ")])])])],32))}}),g6={class:"space-y-4 pb-14"},v6={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},b6={class:"bg-white/90 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl shadow-md border border-amber-200 dark:border-amber-700 overflow-hidden"},h6={class:"p-4"},x6={class:"bg-white/90 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl shadow-md border border-amber-200 dark:border-amber-700 overflow-hidden"},y6={class:"text-lg font-semibold text-amber-800 dark:text-amber-400 p-4 border-b border-amber-200 dark:border-amber-700"},k6={key:0,class:"ml-2 px-2 py-0.5 text-sm rounded-full bg-purple-900/50 text-purple-300"},_6={class:"p-4"},w6={key:1,class:"bg-white/90 dark:bg-gray-800/80 backdrop-blur-sm rounded-xl shadow-md border border-amber-200 dark:border-amber-700 overflow-hidden"},$6={key:0,class:"p-4"},C6={key:1,class:"p-4"},S6=Ie({__name:"InventoryPage",setup(e){const t=Pt(),o=dt(),{showToast:n}=Ot(),{width:a}=dn(),l=L(()=>a.value<768),i=B(null),u=B(!1),c=B(!1),d=B(!1),m=B(null),b=L(()=>[{id:"equipment",label:"Equipment",icon:"i-heroicons-shield-check"},{id:"inventory",label:"Inventory",icon:"i-heroicons-shopping-bag",badge:t.inventory.length>0?{count:t.inventory.length,color:"bg-purple-900/50 text-purple-300"}:void 0}]);He(()=>{l.value||t.setActiveTab("inventory")});const x=I=>{(I==="equipment"||I==="inventory")&&t.setActiveTab(I)},h=I=>{i.value=I},C=()=>{i.value=null},w=(I,U)=>{if(I.locked){u.value=!0;return}if(I.item){const q=t.inventory.find(k=>k.id===I.item);if(q)h(q);else{const k=o.getItem(I.item);k&&h({...k,level:he.fromNumber(1),xp:he.fromNumber(0),maxXp:o.calculateMaxXp(he.fromNumber(1),k.rarity)})}}else m.value=U,d.value=!0},M=I=>{h(I)},S=I=>{if(P(I.id)){const U=t.equipmentSlots.findIndex(q=>q.item===I.id);if(U!==-1&&!t.unequipItem(U)){n("Inventory is full! Free up space to unequip items.","error",5e3);return}}else{const U=t.equipmentSlots.findIndex(q=>!q.locked&&!q.item);if(U!==-1){const q=t.inventory.findIndex(k=>k.id===I.id);if(q!==-1&&!t.equipItem(I.id,U,q)){n("Cannot equip item! Inventory is full and item in slot cannot be unequipped.","error",5e3);return}}else{c.value=!0;return}}C()},_=I=>{if(i.value){const U=t.inventory.findIndex(q=>q.id===i.value.id);if(U!==-1){if(!t.equipItem(i.value.id,I,U)){n("Cannot equip item! Inventory is full and item in slot cannot be unequipped.","error",5e3);return}c.value=!1,C()}}},y=I=>{if(m.value!==null){const U=t.inventory.findIndex(q=>q.id===I.id);if(U!==-1){if(!t.equipItem(I.id,m.value,U)){n("Cannot equip item! Inventory is full and item in slot cannot be unequipped.","error",5e3);return}d.value=!1,m.value=null}}},P=I=>t.equipmentSlots.some(U=>U.item===I);return(I,U)=>(p(),g($e,null,[r("div",g6,[U[2]||(U[2]=r("h1",{class:"text-xl font-bold mb-2 flex items-center text-amber-800 dark:text-amber-400"},[r("span",{class:"i-heroicons-squares-2x2 text-amber-700 dark:text-amber-500 mr-2"}),Y(" Inventory ")],-1)),l.value?(p(),g("div",w6,[f(t).activeTab==="equipment"?(p(),g("div",$6,[Ee(Bi,{"on-slot-click":w})])):f(t).activeTab==="inventory"?(p(),g("div",C6,[Ee(Hi,{"on-item-click":M,"is-item-equipped":P})])):G("",!0)])):(p(),g("div",v6,[r("div",b6,[U[0]||(U[0]=r("h2",{class:"text-lg font-semibold text-amber-800 dark:text-amber-400 p-4 border-b border-amber-200 dark:border-amber-700"}," Equipment ",-1)),r("div",h6,[Ee(Bi,{"on-slot-click":w})])]),r("div",x6,[r("h2",y6,[U[1]||(U[1]=Y(" Inventory ")),f(t).inventory.length>0?(p(),g("span",k6,v(f(t).inventory.length),1)):G("",!0)]),r("div",_6,[Ee(Hi,{"on-item-click":M,"is-item-equipped":P})])])])),u.value?(p(),Ge(XT,{key:2,"on-close":()=>u.value=!1},null,8,["on-close"])):G("",!0),i.value?(p(),Ge(jT,{key:3,item:i.value,"is-item-equipped":P,"on-equip-action":S,"on-close":C},null,8,["item"])):G("",!0),c.value&&i.value?(p(),Ge(n6,{key:4,item:i.value,"on-close":()=>c.value=!1,"on-slot-select":_},null,8,["item","on-close"])):G("",!0),d.value?(p(),Ge(f6,{key:5,"on-close":()=>{d.value=!1,m.value=null},"on-item-select":y},null,8,["on-close"])):G("",!0),Ee(ao,{threshold:400})]),l.value?(p(),Ge(cd,{key:0,tabs:b.value,"active-tab-id":f(t).activeTab,onTabChange:x},null,8,["tabs","active-tab-id"])):G("",!0)],64))}}),A6=We(S6,[["__scopeId","data-v-f6fc8772"]]),E6={key:0,class:"bg-white dark:bg-gray-800 rounded-xl shadow-md border border-gray-200/50 dark:border-gray-700/50 p-4"},M6={class:"space-y-2"},P6={class:"text-sm text-amber-700 dark:text-amber-400"},T6={class:"text-sm font-medium text-green-600 dark:text-green-400"},L6=Ie({__name:"AchievementModifiersPanel",setup(e){const{getTotalMultiplier:t}=Jc(),o=Xt(),n=L(()=>{const u=new Set;return o.achievementList.filter(d=>d.completed&&d.modifiers&&d.modifiers.length>0).forEach(d=>{d.modifiers&&d.modifiers.forEach(m=>{u.add(m.target)})}),Array.from(u).sort((d,m)=>d==="global"?-1:m==="global"||d==="ep"?1:m==="ep"?-1:d.localeCompare(m))}),a=L(()=>n.value.length>0),l=u=>({global:"All Generators",worker:"Workers",nursery:"Nurseries",queenChamber:"Queen Chambers",colony:"Colonies",megacolony:"Megacolonies",hivemind:"Hiveminds",antopolis:"Antopolis",ep:"Evolution Points"})[u]||u,i=u=>{const d=t(u).sub(1);return`+${Ct(d)}`};return(u,c)=>a.value?(p(),g("div",E6,[c[0]||(c[0]=r("div",{class:"flex items-center gap-2 mb-3"},[r("span",{class:"i-heroicons-trophy text-amber-500 text-lg"}),r("h3",{class:"text-amber-800 dark:text-amber-300 font-medium"},"Achievement Bonuses")],-1)),r("div",M6,[(p(!0),g($e,null,Te(n.value,d=>(p(),g("div",{key:d,class:"flex items-center justify-between"},[r("div",P6,v(l(d)),1),r("div",T6,v(i(d)),1)]))),128))]),c[1]||(c[1]=r("div",{class:"mt-3 text-xs text-amber-600 dark:text-amber-500 opacity-80"}," Complete more achievements to earn additional bonuses! ",-1))])):G("",!0)}}),I6={class:"space-y-4"},F6={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-4 border border-gray-200/50 dark:border-gray-700/50"},U6={class:"flex items-center justify-between"},R6={class:"flex flex-col items-center gap-3"},D6={class:"text-center"},q6={class:"text-sm text-amber-700 dark:text-amber-400"},N6={class:"w-32 h-2 mt-1 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},O6={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden border border-gray-200/50 dark:border-gray-700/50"},B6={class:"flex overflow-x-auto scrollbar-hide"},Q6=["onClick"],j6={class:"flex items-center gap-2"},H6={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md border border-gray-200/50 dark:border-gray-700/50 divide-y divide-gray-100 dark:divide-gray-700"},G6={key:0,class:"p-8 text-center text-amber-700 dark:text-amber-400"},V6={class:"flex items-center gap-4"},W6={class:"flex-1 min-w-0"},z6={class:"flex items-baseline justify-between"},X6={key:0,class:"ml-2 flex-shrink-0 text-xs text-amber-500 dark:text-amber-400"},K6={class:"mt-1 text-sm text-amber-600 dark:text-amber-400"},Y6={key:0,class:"mt-1 text-sm text-green-600 dark:text-green-400 flex items-center gap-1"},J6={key:0},Z6={class:"mt-2 flex items-center"},e8={class:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},t8={class:"ml-2 text-xs text-amber-700 dark:text-amber-400 whitespace-nowrap"},r8=Ie({__name:"AchievementsPage",setup(e){pn();const t=Xt(),o=t.categories,{totalAchievements:n,completedAchievements:a,completionPercentage:l}=t,i=B("general"),u=h=>{i.value=h},c=L(()=>t.getAchievementsByCategory(i.value).filter(h=>!h.hiddenUntilCompleted||h.completed)),d=h=>h?new Date(h).toLocaleDateString():"",m=h=>{if(h.completed)return 100;const C=h.currentValue,w=h.requirement;if(w.eq(0))return 0;const M=C.div(w).mul(100).toNumber();return Math.min(Math.floor(M),99)},b=h=>Ct(h.multiplier.sub(1)),x=h=>!!h.modifiers&&h.modifiers.length>0;return(h,C)=>(p(),g("div",I6,[r("div",F6,[r("div",U6,[C[1]||(C[1]=r("div",null,[r("h1",{class:"text-2xl font-bold text-amber-800 dark:text-amber-300"},"Achievements"),r("p",{class:"text-amber-700 dark:text-amber-400 text-sm"}," Complete tasks to earn rewards and recognition ")],-1)),r("div",R6,[C[0]||(C[0]=r("span",{class:"i-heroicons-trophy text-3xl text-amber-500"},null,-1)),r("div",D6,[r("div",q6,v(f(a))+" / "+v(f(n))+" completed ",1),r("div",N6,[r("div",{class:"h-full bg-amber-500 dark:bg-amber-600 rounded-full",style:je({width:`${f(l)}%`})},null,4)])])])])]),Ee(L6),r("div",O6,[r("div",B6,[(p(!0),g($e,null,Te(f(o),w=>(p(),g("button",{key:w.id,onClick:M=>u(w.id),class:ee(["px-4 py-3 whitespace-nowrap transition-colors duration-200",[i.value===w.id?"text-amber-800 dark:text-amber-300 font-medium border-b-2 border-amber-500":"text-amber-600 dark:text-amber-400 hover:text-amber-800 dark:hover:text-amber-300 hover:bg-amber-50 dark:hover:bg-amber-900/20"]])},[r("div",j6,[r("span",{class:ee([w.icon])},null,2),Y(" "+v(w.name),1)])],10,Q6))),128))])]),r("div",H6,[c.value.length===0?(p(),g("div",G6,C[2]||(C[2]=[r("div",{class:"flex flex-col items-center space-y-3"},[r("span",{class:"i-heroicons-trophy text-5xl opacity-30"}),r("h3",{class:"text-lg font-medium"},"No Achievements Found"),r("p",{class:"max-w-md text-sm opacity-80"}," There are no achievements in this category yet, or they're all hidden until completed. ")],-1)]))):G("",!0),(p(!0),g($e,null,Te(c.value,w=>(p(),g("div",{key:w.id,class:"p-4 hover:bg-amber-50/50 dark:hover:bg-amber-900/10 transition-colors duration-200"},[r("div",V6,[r("div",{class:ee(["flex-shrink-0",[w.completed?"text-amber-500":"text-gray-400 dark:text-gray-500"]])},[r("div",{class:ee(["w-10 h-10 rounded-full border-2 flex items-center justify-center",[w.completed?"border-amber-500 bg-amber-100 dark:bg-amber-900/30":"border-gray-300 dark:border-gray-600"]])},[r("span",{class:ee([w.icon,"text-xl"])},null,2)],2)],2),r("div",W6,[r("div",z6,[r("h3",{class:ee(["text-md font-medium truncate",[w.completed?"text-amber-800 dark:text-amber-300":"text-gray-700 dark:text-gray-300"]])},v(w.name),3),w.completed?(p(),g("div",X6,v(d(w.completionDate)),1)):G("",!0)]),r("p",K6,v(w.description),1),w.completed&&x(w)?(p(),g("div",Y6,[C[3]||(C[3]=r("span",{class:"i-heroicons-arrow-trending-up"},null,-1)),(p(!0),g($e,null,Te(w.modifiers,(M,S)=>(p(),g("span",{key:S},[Y(v(b(M))+" ",1),S<w.modifiers.length-1?(p(),g("span",J6,", ")):G("",!0)]))),128))])):G("",!0),r("div",Z6,[r("div",e8,[r("div",{class:ee(["h-full rounded-full",[w.completed?"bg-amber-500 dark:bg-amber-600":"bg-amber-300 dark:bg-amber-800"]]),style:je({width:`${m(w)}%`})},null,6)]),r("div",t8,v(f(ge)(w.currentValue.gt(w.requirement)?w.requirement:w.currentValue,0))+" / "+v(f(ge)(w.requirement,0)),1)])])])]))),128))])]))}}),o8=We(r8,[["__scopeId","data-v-a215928e"]]),s8={class:"max-w-3xl mx-auto px-2 sm:px-0"},n8={class:"mb-6"},a8={class:"text-amber-700 dark:text-amber-400"},l8={class:"font-medium bg-amber-100 dark:bg-amber-800/50 px-2 py-0.5 rounded"},i8={key:0,class:"flex flex-col items-center justify-center py-8"},u8={key:1,class:"bg-red-100 dark:bg-red-900/20 border border-red-300 dark:border-red-700 rounded-lg p-4 my-4"},c8={class:"flex items-start"},d8={class:"text-red-700 dark:text-red-400 text-sm mt-1"},m8={key:2,class:"bg-amber-50 dark:bg-amber-950/10 border border-amber-200 dark:border-amber-800/30 rounded-lg p-4 md:p-6 shadow-sm"},p8=["innerHTML"],f8=Ie({__name:"ChangelogPage",setup(e){const t=B(""),o=B(!0),n=B(!1),a=B(""),{version:l}=od(),i=L(()=>t.value?sd(t.value):"");return He(async()=>{try{const u=await fetch("/CHANGELOG.md");if(!u.ok)throw new Error(`Failed to fetch changelog: ${u.status} ${u.statusText}`);t.value=await u.text(),o.value=!1}catch(u){o.value=!1,n.value=!0,a.value=u instanceof Error?u.message:"An unknown error occurred",console.error("Error loading changelog:",u)}}),(u,c)=>(p(),g("div",s8,[r("header",n8,[c[1]||(c[1]=r("h1",{class:"text-2xl font-bold text-amber-900 dark:text-amber-200"},"Changelog",-1)),r("p",a8,[c[0]||(c[0]=Y(" Current version: ")),r("span",l8,v(f(l)),1)])]),o.value?(p(),g("div",i8,c[2]||(c[2]=[r("div",{class:"h-8 w-8 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"},null,-1),r("span",{class:"mt-3 text-amber-700 dark:text-amber-400"},"Loading changelog...",-1)]))):n.value?(p(),g("div",u8,[r("div",c8,[c[5]||(c[5]=r("span",{class:"i-heroicons-exclamation-triangle text-red-600 dark:text-red-400 mr-3 text-xl"},null,-1)),r("div",null,[c[3]||(c[3]=r("p",{class:"font-medium text-red-800 dark:text-red-300"},"Failed to load changelog",-1)),r("p",d8,v(a.value),1),c[4]||(c[4]=r("p",{class:"text-red-700 dark:text-red-400 text-sm mt-2"}," Please try refreshing the page or check if the CHANGELOG.md file exists. ",-1))])])])):(p(),g("div",m8,[r("div",{class:"prose prose-amber dark:prose-invert prose-sm md:prose-base max-w-none",innerHTML:i.value},null,8,p8)]))]))}}),g8={class:"mb-4"},v8={class:"flex items-center gap-2 mb-2"},b8={class:"text-sm"},h8=["value","min","max","step"],x8={class:"min-w-[3ch] text-center"},y8={class:"flex flex-wrap gap-2"},k8=["onClick"],gn=Ie({__name:"WikiLevelSelector",props:{modelValue:{},min:{},max:{},step:{},presets:{},color:{},label:{}},emits:["update:modelValue"],setup(e,{emit:t}){const o=e,n=t,a=o.min??5,l=o.max??1e3,i=o.step??5,u=o.presets??[10,25,50,100,250,500,1e3],c=o.color??"amber",d=o.label??"Max Preview Level:",m=L(()=>o.modelValue>=1e3?`${Math.floor(o.modelValue/1e3)}k`:o.modelValue.toString()),b=h=>{const C=o.modelValue===h;return c==="emerald"?["px-2 py-1 text-xs rounded-md transition-colors font-medium",C?"bg-emerald-600 dark:bg-emerald-500 text-white shadow-sm":"bg-emerald-100 dark:bg-emerald-800/50 text-emerald-800 dark:text-emerald-200 hover:bg-emerald-200 dark:hover:bg-emerald-700/70 border border-emerald-200 dark:border-emerald-700"]:["px-2 py-1 text-xs rounded-md transition-colors",C?`bg-${c}-500 text-white`:`bg-${c}-200 dark:bg-${c}-900/30 hover:bg-${c}-300 dark:hover:bg-${c}-800/50`]},x=h=>{n("update:modelValue",h)};return(h,C)=>(p(),g("div",g8,[r("div",v8,[r("label",b8,v(f(d)),1),r("input",{type:"range",value:h.modelValue,onInput:C[0]||(C[0]=w=>x(Number(w.target.value))),min:f(a),max:f(l),step:f(i),class:ee(`accent-${f(c)}-500 flex-grow`)},null,42,h8),r("span",x8,v(m.value),1)]),r("div",y8,[(p(!0),g($e,null,Te(f(u),w=>(p(),g("button",{key:w,onClick:M=>x(w),class:ee(b(w))},v(w>=1e3?`${w/1e3}k`:w),11,k8))),128))])]))}});function _8(){const e=B({});return{tableRefs:e,registerTableRef:(a,l)=>{l instanceof Element?e.value[a]=l:e.value[a]=null},scrollTableToLevel:(a,l,i)=>{if(!a)return;const u=a.querySelector("tbody");if(!u)return;const c=u.querySelectorAll("tr");if(!c.length)return;const d=Math.min(l-1,c.length-1);c[d]&&c[d].scrollIntoView({behavior:"smooth",block:"center"})},getScrollPoints:a=>{if(a<=20)return[1,Math.ceil(a/2),a];if(a<=50)return[1,10,25,a];if(a<=100)return[1,25,50,75,a];{const l=[1],i=Math.ceil(a/5);for(let u=1;u<=4;u++)l.push(u*i);return l.push(a),l}}}}const w8={class:"flex gap-2"},$8={class:"overflow-x-auto max-h-60 overflow-y-auto border border-amber-200 dark:border-amber-800 rounded flex-grow"},C8={class:"flex flex-col md:w-12 gap-1"},S8=["onClick"],Ad=Ie({__name:"WikiLevelTable",props:{itemId:{},maxLevel:{},tableHeaders:{},color:{}},setup(e){const t=e,{tableRefs:o,registerTableRef:n,scrollTableToLevel:a,getScrollPoints:l}=_8(),i=t.color??"amber";return(u,c)=>(p(),g("div",w8,[r("div",$8,[r("table",{class:"w-full text-sm",ref:d=>f(n)(u.itemId,d)},[r("thead",{class:ee(`bg-amber-200 dark:bg-${f(i)}-900/40 sticky top-0`)},[r("tr",null,[(p(!0),g($e,null,Te(u.tableHeaders,(d,m)=>(p(),g("th",{key:m,class:ee(["p-2",m===u.tableHeaders.length-1?"text-right":"text-left"])},v(d),3))),128))])],2),r("tbody",null,[Mo(u.$slots,"default")])],512)]),r("div",C8,[(p(!0),g($e,null,Te(f(l)(u.maxLevel),d=>(p(),g("button",{key:d,onClick:m=>f(a)(f(o)[u.itemId],d,u.maxLevel),class:ee(["text-xs p-1 rounded",`bg-${f(i)}-200 dark:bg-${f(i)}-900/40 hover:bg-${f(i)}-300 dark:hover:bg-${f(i)}-800/60 text-${f(i)}-900 dark:text-${f(i)}-100`])},v(d===1?"Top":d===u.maxLevel?"Max":d),11,S8))),128))])]))}}),A8={class:"mb-4"},E8=["value","placeholder"],Po=Ie({__name:"WikiSearchInput",props:{modelValue:{},placeholder:{}},emits:["update:modelValue"],setup(e,{emit:t}){const o=e,n=t,a=o.placeholder??"Search...",l=i=>{n("update:modelValue",i)};return(i,u)=>(p(),g("div",A8,[r("input",{type:"text",value:i.modelValue,onInput:u[0]||(u[0]=c=>l(c.target.value)),placeholder:f(a),class:"w-full p-2 rounded-lg bg-amber-100 dark:bg-amber-900/20 text-amber-900 dark:text-amber-100 border border-amber-300 dark:border-amber-700"},null,40,E8)]))}}),M8={class:"flex flex-wrap gap-2 mb-4 overflow-x-auto"},P8=["onClick"],T8={key:0,class:"p-4 text-center text-amber-600 dark:text-amber-400"},L8={class:"space-y-3"},I8=["onClick"],F8={class:"flex items-center gap-3"},U8={class:"font-medium"},R8={class:"text-xs text-amber-600 dark:text-amber-400"},D8={class:"flex items-center gap-4"},q8={class:"text-right"},N8={class:"text-sm"},O8={class:"font-medium"},B8={class:"text-xs"},Q8={key:0,class:"border-t border-amber-300 dark:border-amber-700 p-3"},j8={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},H8={class:"space-y-1 text-sm"},G8={class:"flex flex-wrap gap-1 mt-1"},V8={key:0},W8={class:"space-y-2"},z8={class:"flex items-start justify-between"},X8={class:"font-medium"},K8={class:"text-xs text-amber-700 dark:text-amber-300"},Y8={key:0,class:"text-xs bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 px-1.5 py-0.5 rounded"},J8={class:"p-2"},Z8={class:"p-2"},eL={key:0},tL={class:"font-medium"},rL={key:0,class:"text-xs bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 px-1 py-0.5 rounded"},oL={key:1},co="prestige-upgrades",sL=Ie({__name:"PrestigeUpgradesWiki",setup(e){const t=Ve(),o=Or(),n=B(Ds[0]),a=B(o.getSearchQuery(co)),l=B(o.getMaxPreviewLevel(co));De(a,M=>{o.setSearchQuery(co,M)}),De(l,M=>{o.setMaxPreviewLevel(co,M)});const i=M=>{o.toggleItemExpanded(co,M)},u=M=>o.isItemExpanded(co,M),c=M=>l.value,d=L(()=>{const M={};return Ds.forEach(_=>{M[_]=[]}),(a.value?la.filter(_=>_.name.toLowerCase().includes(a.value.toLowerCase())||_.description.toLowerCase().includes(a.value.toLowerCase())||_.id.toLowerCase().includes(a.value.toLowerCase())):la).forEach(_=>{M[_.category]&&M[_.category].push(_)}),M}),m=(M,S)=>M.costMultiplier?ed(M.baseCost,new he(S),M.costMultiplier):M.baseCost,b=(M,S)=>{const _=M.effect(new he(S));return M.formatEffect(_)},x=(M,S)=>{const _=M.multiplier(new he(S));return M.formatEffect?M.formatEffect(_):ge(_,2)},h=(M,S)=>!M.isCombo||!M.effects||M.effects.length===0?[{target:M.appliesTo[0],effect:b(M,S)}]:M.effects.map(_=>({target:_.target,effect:x(_,S)})),C=M=>({ep:"Evolution Points",worker:"Worker Ants",nursery:"Nursery",queenChamber:"Queen Chamber",colony:"Colony",megacolony:"Megacolony",hivemind:"Hivemind",antopolis:"Antopolis",global:"All Generators",pheromone:"Pheromone Essence",food:"Food"})[M]||M,w=M=>{const S=t.getUpgradeCount(M);return ge(S,0)};return(M,S)=>{var _;return p(),g("div",null,[Ee(Po,{modelValue:a.value,"onUpdate:modelValue":S[0]||(S[0]=y=>a.value=y),placeholder:"Search upgrades..."},null,8,["modelValue"]),Ee(gn,{modelValue:l.value,"onUpdate:modelValue":S[1]||(S[1]=y=>l.value=y),color:"amber"},null,8,["modelValue"]),r("div",M8,[(p(!0),g($e,null,Te(f(Ds),y=>(p(),g("button",{key:y,onClick:P=>n.value=y,class:ee(["px-3 py-1.5 rounded-lg text-sm transition-colors",n.value===y?"bg-amber-500 dark:bg-amber-600 text-white":"bg-amber-200 dark:bg-amber-900/40 text-amber-900 dark:text-amber-100 hover:bg-amber-300 dark:hover:bg-amber-800/60"])},v(y.charAt(0).toUpperCase()+y.slice(1)),11,P8))),128))]),((_=d.value[n.value])==null?void 0:_.length)===0?(p(),g("div",T8," No upgrades found for this category or search query. ")):G("",!0),(p(!0),g($e,null,Te(d.value,(y,P)=>tt((p(),g("div",{key:P,class:"mb-6"},[r("div",L8,[(p(!0),g($e,null,Te(y,I=>(p(),g("div",{key:I.id,class:"border border-amber-300 dark:border-amber-700 rounded-lg overflow-hidden bg-amber-50/50 dark:bg-amber-900/10"},[r("div",{onClick:U=>i(I.id),class:"p-3 flex justify-between items-center cursor-pointer hover:bg-amber-100 dark:hover:bg-amber-900/20 transition-colors"},[r("div",F8,[r("span",{class:ee([I.icon,"text-xl text-amber-700 dark:text-amber-300"])},null,2),r("div",null,[r("div",U8,v(I.name),1),r("div",R8,v(I.description),1)])]),r("div",D8,[r("div",q8,[r("div",N8,[S[2]||(S[2]=Y("Current: ")),r("span",O8,v(w(I.id)),1)]),r("div",B8,"Base Cost: "+v(f(ge)(I.baseCost,0)),1)]),r("span",{class:ee(["transition-transform",u(I.id)?"rotate-180":""])},S[3]||(S[3]=[r("span",{class:"i-heroicons-chevron-down text-amber-600 dark:text-amber-400"},null,-1)]),2)])],8,I8),u(I.id)?(p(),g("div",Q8,[r("div",j8,[r("div",null,[S[8]||(S[8]=r("h3",{class:"font-medium mb-2 text-amber-800 dark:text-amber-200"},"Basic Information",-1)),r("div",H8,[r("div",null,[S[4]||(S[4]=r("span",{class:"font-medium"},"ID:",-1)),Y(" "+v(I.id),1)]),r("div",null,[S[5]||(S[5]=r("span",{class:"font-medium"},"Max Level:",-1)),Y(" "+v(I.maxLevel===null?"Unlimited":f(ge)(I.maxLevel,0)),1)]),r("div",null,[S[6]||(S[6]=r("span",{class:"font-medium"},"Applies To:",-1)),r("div",G8,[(p(!0),g($e,null,Te(I.appliesTo,U=>(p(),g("span",{key:U,class:"px-1.5 py-0.5 text-xs rounded-full bg-amber-200 dark:bg-amber-900/40"},v(U),1))),128))])]),I.isCombo&&I.effects&&I.effects.length>0?(p(),g("div",V8,[S[7]||(S[7]=r("h3",{class:"font-medium mt-4 mb-2 text-amber-800 dark:text-amber-200"},"Effects",-1)),r("div",W8,[(p(!0),g($e,null,Te(I.effects,(U,q)=>(p(),g("div",{key:q,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},[r("div",z8,[r("div",null,[r("div",X8,v(C(U.target)),1),r("div",K8,v(x(U,I.level.toNumber()||1)),1)]),U.isMultiplier?(p(),g("span",Y8," Multiplier ")):G("",!0)])]))),128))])])):G("",!0)])]),r("div",null,[S[9]||(S[9]=r("h3",{class:"font-medium mb-2 text-amber-800 dark:text-amber-200"},"Effects & Costs by Level",-1)),Ee(Ad,{itemId:I.id,maxLevel:c(),tableHeaders:I.isCombo?["Level","Effects","Cost"]:["Level","Effect","Cost"],color:"amber"},{default:it(()=>[(p(!0),g($e,null,Te(c(I),U=>(p(),g("tr",{key:U,class:ee(["border-t border-amber-200 dark:border-amber-800 hover:bg-amber-100 dark:hover:bg-amber-900/30",I.maxLevel!==null&&U>I.maxLevel.toNumber()?"text-amber-500 dark:text-amber-400 italic":""])},[r("td",J8,v(U),1),r("td",Z8,[I.isCombo&&I.effects&&I.effects.length>0?(p(),g("div",eL,[(p(!0),g($e,null,Te(h(I,U),(q,k)=>(p(),g("div",{key:k,class:"text-xs mb-1 flex items-center gap-2"},[r("span",tL,v(C(q.target))+":",1),r("span",{class:ee(I.maxLevel!==null&&U>I.maxLevel.toNumber()?"text-amber-500 dark:text-amber-400":"text-amber-700 dark:text-amber-300")},v(q.effect),3),I.effects[k].isMultiplier?(p(),g("span",rL,"  ")):G("",!0)]))),128))])):(p(),g("div",oL,v(b(I,U)),1))]),r("td",{class:ee(["p-2 text-right",I.maxLevel!==null&&U>I.maxLevel.toNumber()?"text-amber-500 dark:text-amber-400":"text-amber-700 dark:text-amber-300"])},v(f(ge)(m(I,U),0)),3)],2))),128))]),_:2},1032,["itemId","maxLevel","tableHeaders"])])])])):G("",!0)]))),128))])])),[[Yr,P===n.value]])),128))])}}}),Gi=We(sL,[["__scopeId","data-v-251f5919"]]),nL={key:0,class:"p-4 text-center text-amber-600 dark:text-amber-400"},aL={class:"space-y-3"},lL=["onClick"],iL={class:"flex items-center gap-3"},uL={class:"font-medium"},cL={class:"text-xs text-amber-600 dark:text-amber-400"},dL={class:"flex items-center gap-4"},mL={class:"text-right"},pL={class:"text-sm"},fL={class:"font-medium"},gL={class:"text-xs"},vL={key:0,class:"border-t border-amber-300 dark:border-amber-700 p-3"},bL={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},hL={class:"space-y-1 text-sm"},xL={key:0},yL={class:"ml-2 mt-1 px-2 py-1 bg-amber-100 dark:bg-amber-900/30 rounded-md text-xs"},kL={class:"space-y-2"},_L={class:"flex items-start"},wL={class:"px-1.5 py-0.5 text-xs rounded-full bg-purple-100 dark:bg-purple-900/40 text-purple-800 dark:text-purple-300 mr-2 mt-0.5"},$L={class:"font-medium"},CL={class:"text-xs text-amber-700 dark:text-amber-300"},SL={class:"p-2"},AL={class:"p-2"},EL={key:0},ML={key:1,class:"text-xs italic"},mo="pheromone-shop",PL=Ie({__name:"PheromoneShopWiki",setup(e){const t=gs();St();const o=Or(),n=B(o.getSearchQuery(mo)),a=B(o.getMaxPreviewLevel(mo));De(n,C=>{o.setSearchQuery(mo,C)}),De(a,C=>{o.setMaxPreviewLevel(mo,C)});const l=C=>{o.toggleItemExpanded(mo,C)},i=C=>o.isItemExpanded(mo,C),u=C=>a.value,c=L(()=>{if(!n.value)return t.shopItems;const C=n.value.toLowerCase();return t.shopItems.filter(w=>w.name.toLowerCase().includes(C)||w.description.toLowerCase().includes(C)||w.id.toLowerCase().includes(C))}),d=(C,w)=>w<=0?C.baseCost:C.baseCost.mul(m(1.2).pow(w-1)),m=C=>new he(C),b=(C,w)=>{const M=C.multiplier(w);if(M.gte(1)){const S=M.minus(1).mul(100);return`+${ge(S,1)}%`}else return ge(M,2)},x=(C,w)=>C.modifiers.filter(M=>w>=M.unlockLevel),h=C=>({ep:"Evolution Points",worker:"Worker Ants",nursery:"Nursery",queenChamber:"Queen Chamber",colony:"Colony",megacolony:"Megacolony",hivemind:"Hivemind",antopolis:"Antopolis",global:"All Generators",pheromone:"Pheromone Essence",food:"Food"})[C]||C;return(C,w)=>(p(),g("div",null,[Ee(Po,{modelValue:n.value,"onUpdate:modelValue":w[0]||(w[0]=M=>n.value=M),placeholder:"Search pheromone upgrades..."},null,8,["modelValue"]),Ee(gn,{modelValue:a.value,"onUpdate:modelValue":w[1]||(w[1]=M=>a.value=M),color:"purple"},null,8,["modelValue"]),c.value.length===0?(p(),g("div",nL," No pheromone upgrades found for your search query. ")):G("",!0),r("div",aL,[(p(!0),g($e,null,Te(c.value,M=>(p(),g("div",{key:M.id,class:"border border-amber-300 dark:border-amber-700 rounded-lg overflow-hidden bg-amber-50/50 dark:bg-amber-900/10"},[r("div",{onClick:S=>l(M.id),class:"p-3 flex justify-between items-center cursor-pointer hover:bg-amber-100 dark:hover:bg-amber-900/20 transition-colors"},[r("div",iL,[w[3]||(w[3]=r("span",{class:"i-heroicons-beaker text-xl text-purple-700 dark:text-purple-400"},null,-1)),r("div",null,[r("div",uL,v(M.name),1),r("div",cL,v(M.description),1)])]),r("div",dL,[r("div",mL,[r("div",pL,[w[4]||(w[4]=Y("Current: ")),r("span",fL,v(f(t).getItemLevel(M.id)),1)]),r("div",gL,"Max Level: "+v(M.maxLevel),1)]),r("span",{class:ee(["transition-transform",i(M.id)?"rotate-180":""])},w[5]||(w[5]=[r("span",{class:"i-heroicons-chevron-down text-amber-600 dark:text-amber-400"},null,-1)]),2)])],8,lL),i(M.id)?(p(),g("div",vL,[r("div",bL,[r("div",null,[w[11]||(w[11]=r("h3",{class:"font-medium mb-2 text-purple-800 dark:text-purple-300"},"Basic Information",-1)),r("div",hL,[r("div",null,[w[6]||(w[6]=r("span",{class:"font-medium"},"ID:",-1)),Y(" "+v(M.id),1)]),r("div",null,[w[7]||(w[7]=r("span",{class:"font-medium"},"Base Cost:",-1)),Y(" "+v(f(ge)(M.baseCost,0))+" PE",1)]),M.unlockRequirement?(p(),g("div",xL,[w[8]||(w[8]=r("span",{class:"font-medium"},"Unlock Requirement:",-1)),r("div",yL,v(f(t).getUnlockRequirementText(M.id)),1)])):G("",!0),G("",!0)]),w[12]||(w[12]=r("h3",{class:"font-medium mt-4 mb-2 text-purple-800 dark:text-purple-300"},"Effects",-1)),r("div",kL,[(p(!0),g($e,null,Te(M.modifiers,(S,_)=>(p(),g("div",{key:_,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},[r("div",_L,[r("span",wL," Lvl "+v(S.unlockLevel)+"+ ",1),r("div",null,[r("div",$L,v(h(S.target)),1),r("div",CL,v(S.description),1)])])]))),128))])]),r("div",null,[w[13]||(w[13]=r("h3",{class:"font-medium mb-2 text-purple-800 dark:text-purple-300"},"Effects & Costs by Level",-1)),Ee(Ad,{itemId:M.id,maxLevel:u(),tableHeaders:["Level","Active Effects","Cost"],color:"purple"},{default:it(()=>[(p(!0),g($e,null,Te(u(M),S=>(p(),g("tr",{key:S,class:ee(["border-t border-amber-200 dark:border-amber-800 hover:bg-amber-100 dark:hover:bg-amber-900/30",S>M.maxLevel?"text-purple-500 dark:text-purple-400 italic":""])},[r("td",SL,v(S),1),r("td",AL,[x(M,S).length>0?(p(),g("div",EL,[(p(!0),g($e,null,Te(x(M,S),(_,y)=>(p(),g("div",{key:y,class:"text-xs"},[Y(v(h(_.target))+": ",1),r("span",{class:ee(S>M.maxLevel?"text-purple-500 dark:text-purple-400":"text-purple-700 dark:text-purple-300")},v(b(_,S)),3)]))),128))])):(p(),g("div",ML,"No effects yet"))]),r("td",{class:ee(["p-2 text-right",S>M.maxLevel?"text-purple-500 dark:text-purple-400":"text-purple-700 dark:text-purple-300"])},v(f(ge)(d(M,S),0)),3)],2))),128))]),_:2},1032,["itemId","maxLevel"])])])])):G("",!0)]))),128))])]))}}),Vi=We(PL,[["__scopeId","data-v-660ee95a"]]),TL={class:"mb-4 flex items-center"},LL={class:"inline-flex items-center cursor-pointer"},IL={key:0,class:"mb-6 p-4 border border-amber-300 dark:border-amber-700 rounded-lg bg-amber-50/50 dark:bg-amber-900/10"},FL={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4"},UL={class:"font-medium"},RL={class:"font-medium"},DL={class:"font-medium"},qL={class:"font-medium"},NL={class:"space-y-3"},OL=["onClick"],BL={class:"flex items-center gap-3"},QL={class:"relative w-10 h-10"},jL=["src","alt"],HL={class:"font-medium"},GL={class:"text-xs text-amber-600 dark:text-amber-400"},VL={class:"flex items-center gap-4"},WL={class:"text-right text-sm"},zL={key:0,class:"border-t border-amber-300 dark:border-amber-700 p-3"},XL={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},KL={class:"space-y-1 text-sm"},YL={class:"space-y-2"},JL={class:"flex items-start justify-between"},ZL={class:"font-medium"},e7={class:"text-xs text-amber-700 dark:text-amber-300"},t7={class:"text-right"},r7={class:"text-xs text-amber-700 dark:text-amber-300"},o7={class:"font-medium"},s7={key:0,class:"text-sm italic text-amber-600 dark:text-amber-400"},n7={key:1,class:"p-4 text-center text-amber-600 dark:text-amber-400"},Es="bugs-wiki",a7=Ie({__name:"BugsWiki",setup(e){const t=ir(),o=Bt(),n=Or(),a=dt(),l=B(n.getSearchQuery(Es)),i=B(!0);De(l,S=>{n.setSearchQuery(Es,S)});const u=S=>{n.toggleItemExpanded(Es,S)},c=S=>n.isItemExpanded(Es,S),d=S=>o.canOneHitBug(S),m=S=>{const _=t.getBugById(S);if(!_)return!1;const y=o.calculateDamage(_.damage,o.playerDefense);if(y.lte(0))return!0;const P=o.calculateDamage(o.playerDamage,_.defense);if(P.lte(0))return!1;const I=_.maxHealth.div(P).ceil(),U=o.playerMaxHealth.div(y).floor();return I.lte(U)},b=S=>Ct(S),x=S=>{const _=a.getItem(S);return _?_.name:S},h=L(()=>{if(!l.value)return t.bugs;const S=l.value.toLowerCase();return t.bugs.filter(_=>_.name.toLowerCase().includes(S)||_.description.toLowerCase().includes(S)||_.id.toLowerCase().includes(S)||_.drops.some(y=>y.itemId.toLowerCase().includes(S)||x(y.itemId).toLowerCase().includes(S)))}),C=L(()=>[...h.value].sort((S,_)=>S.maxHealth.cmp(_.maxHealth))),w=S=>{if(!t.getBugById(S))return"0";const P=.1+.02*t.bugs.findIndex(U=>U.id===S);return`${(Math.min(P,2)*100).toFixed(0)}% of food/sec`},M=S=>{try{return new URL(Object.assign({"../../assets/bugs/ant_legion_commander.png":Ba,"../../assets/bugs/ant_queen_guardian.png":Qa,"../../assets/bugs/ant_scout_master.png":ja,"../../assets/bugs/ant_tactician.png":Ha,"../../assets/bugs/ant_training_master.png":Ga,"../../assets/bugs/apocalyptic_termites.png":Va,"../../assets/bugs/army_ant.png":Wa,"../../assets/bugs/beetle.png":za,"../../assets/bugs/cockroach.png":Xa,"../../assets/bugs/colossal_cockroach.png":Ka,"../../assets/bugs/endless_ant_swarms.png":Ya,"../../assets/bugs/fire_ant.png":Ja,"../../assets/bugs/galactic_moth.png":Za,"../../assets/bugs/giant_firefly.png":el,"../../assets/bugs/giant_moth.png":tl,"../../assets/bugs/giant_stag_beetle.png":rl,"../../assets/bugs/grasshopper.png":ol,"../../assets/bugs/housefly.png":sl,"../../assets/bugs/ladybug.png":nl,"../../assets/bugs/mosquito.png":al,"../../assets/bugs/mutant_fly.png":ll,"../../assets/bugs/quantum_beetle.png":il,"../../assets/bugs/queen_wasp.png":ul,"../../assets/bugs/radioactive_spider.png":cl,"../../assets/bugs/safe.png":dl,"../../assets/bugs/scorpion.png":ml,"../../assets/bugs/soldier.png":pl,"../../assets/bugs/stag_beetle_swarm.png":fl,"../../assets/bugs/swarm_lord.png":gl,"../../assets/bugs/tarantula.png":vl,"../../assets/bugs/termite.png":bl,"../../assets/bugs/ultra_beetle.png":hl,"../../assets/bugs/wasp.png":xl,"../../assets/bugs/worker.png":yl})[`../../assets/bugs/${S}.png`],import.meta.url).href}catch{return null}};return(S,_)=>(p(),g("div",null,[Ee(Po,{modelValue:l.value,"onUpdate:modelValue":_[0]||(_[0]=y=>l.value=y),placeholder:"Search bugs or drops..."},null,8,["modelValue"]),r("div",TL,[r("label",LL,[tt(r("input",{type:"checkbox","onUpdate:modelValue":_[1]||(_[1]=y=>i.value=y),class:"sr-only peer"},null,512),[[Mt,i.value]]),_[2]||(_[2]=r("div",{class:"relative w-10 h-5 bg-amber-200 dark:bg-amber-900/40 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white dark:after:bg-amber-100 after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-amber-500"},null,-1)),_[3]||(_[3]=r("span",{class:"ml-2 text-sm text-amber-800 dark:text-amber-200"},"Show player relative strength",-1))])]),i.value?(p(),g("div",IL,[_[8]||(_[8]=r("h3",{class:"font-medium mb-2 text-amber-800 dark:text-amber-200"},"Your Stats",-1)),r("div",FL,[r("div",null,[_[4]||(_[4]=r("div",{class:"text-sm text-amber-600 dark:text-amber-400"},"Damage",-1)),r("div",UL,v(f(ge)(f(o).playerDamage,0)),1)]),r("div",null,[_[5]||(_[5]=r("div",{class:"text-sm text-amber-600 dark:text-amber-400"},"Health",-1)),r("div",RL,v(f(ge)(f(o).playerMaxHealth,0)),1)]),r("div",null,[_[6]||(_[6]=r("div",{class:"text-sm text-amber-600 dark:text-amber-400"},"Defense",-1)),r("div",DL,v(f(ge)(f(o).playerDefense,0)),1)]),r("div",null,[_[7]||(_[7]=r("div",{class:"text-sm text-amber-600 dark:text-amber-400"},"Regeneration",-1)),r("div",qL,v(f(ge)(f(o).playerRegen,0))+"/s",1)])])])):G("",!0),r("div",NL,[(p(!0),g($e,null,Te(C.value,y=>(p(),g("div",{key:y.id,class:ee(["border border-amber-300 dark:border-amber-700 rounded-lg overflow-hidden bg-amber-50/50 dark:bg-amber-900/10",{"border-green-400 dark:border-green-600":i.value&&d(y.id),"border-yellow-400 dark:border-yellow-600":i.value&&!d(y.id)&&m(y.id),"border-red-400 dark:border-red-600":i.value&&!m(y.id)}])},[r("div",{onClick:P=>u(y.id),class:"p-3 flex justify-between items-center cursor-pointer hover:bg-amber-100 dark:hover:bg-amber-900/20 transition-colors"},[r("div",BL,[r("div",QL,[M(y.id)?(p(),g("img",{key:0,src:M(y.id),alt:y.name,class:"w-full h-full object-contain"},null,8,jL)):(p(),g("span",{key:1,class:ee(["i-heroicons-bug-ant text-xl absolute inset-0 flex items-center justify-center",[d(y.id)?"text-green-600 dark:text-green-400":m(y.id)?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"]])},null,2))]),r("div",null,[r("div",HL,v(y.name),1),r("div",GL,v(y.description),1)])]),r("div",VL,[r("div",WL,[r("div",null,[_[9]||(_[9]=r("span",{class:"font-medium"},"HP:",-1)),Y(" "+v(f(ge)(y.maxHealth,0)),1)]),r("div",null,[_[10]||(_[10]=r("span",{class:"font-medium"},"DMG:",-1)),Y(" "+v(f(ge)(y.damage,0)),1)])]),r("span",{class:ee(["transition-transform",c(y.id)?"rotate-180":""])},_[11]||(_[11]=[r("span",{class:"i-heroicons-chevron-down text-amber-600 dark:text-amber-400"},null,-1)]),2)])],8,OL),c(y.id)?(p(),g("div",zL,[r("div",XL,[r("div",null,[_[18]||(_[18]=r("h3",{class:"font-medium mb-2 text-amber-800 dark:text-amber-200"},"Stats",-1)),r("div",KL,[r("div",null,[_[12]||(_[12]=r("span",{class:"font-medium"},"ID:",-1)),Y(" "+v(y.id),1)]),r("div",null,[_[13]||(_[13]=r("span",{class:"font-medium"},"Health:",-1)),Y(" "+v(f(ge)(y.maxHealth,0)),1)]),r("div",null,[_[14]||(_[14]=r("span",{class:"font-medium"},"Damage:",-1)),Y(" "+v(f(ge)(y.damage,0)),1)]),r("div",null,[_[15]||(_[15]=r("span",{class:"font-medium"},"Defense:",-1)),Y(" "+v(f(ge)(y.defense,0)),1)]),r("div",null,[_[16]||(_[16]=r("span",{class:"font-medium"},"Effective Damage:",-1)),Y(" "+v(f(ge)(f(o).calculateDamage(f(o).playerDamage,y.defense),0))+" (per hit)",1)]),r("div",null,[_[17]||(_[17]=r("span",{class:"font-medium"},"Reward:",-1)),Y(" "+v(w(y.id)),1)])]),i.value?(p(),g("div",{key:0,class:ee(["mt-4 p-2 rounded-md",{"bg-green-100 dark:bg-green-900/20 border border-green-300 dark:border-green-800":d(y.id),"bg-yellow-100 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-800":!d(y.id)&&m(y.id),"bg-red-100 dark:bg-red-900/20 border border-red-300 dark:border-red-800":!m(y.id)}])},[r("div",{class:ee(["font-medium mb-1",{"text-green-700 dark:text-green-300":d(y.id),"text-yellow-700 dark:text-yellow-300":!d(y.id)&&m(y.id),"text-red-700 dark:text-red-300":!m(y.id)}])},v(d(y.id)?"One-hit Kill":m(y.id)?"Can Defeat":"Too Strong"),3),r("div",{class:ee(["text-xs",{"text-green-600 dark:text-green-400":d(y.id),"text-yellow-600 dark:text-yellow-400":!d(y.id)&&m(y.id),"text-red-600 dark:text-red-400":!m(y.id)}])},v(d(y.id)?"You can kill this bug in one hit!":m(y.id)?"You can defeat this bug, but it will take multiple hits.":"This bug is too strong for you right now."),3)],2)):G("",!0)]),r("div",null,[_[20]||(_[20]=r("h3",{class:"font-medium mb-2 text-amber-800 dark:text-amber-200"},"Drops",-1)),r("div",YL,[(p(!0),g($e,null,Te(y.drops,(P,I)=>(p(),g("div",{key:I,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},[r("div",JL,[r("div",null,[r("div",ZL,v(x(P.itemId)),1),r("div",e7,v(P.minQuantity===P.maxQuantity?P.minQuantity:`${P.minQuantity}-${P.maxQuantity}`)+" per drop ",1)]),r("div",t7,[r("div",r7,[_[19]||(_[19]=Y(" Drop Chance: ")),r("span",o7,v(b(P.chance)),1)])])])]))),128)),y.drops.length===0?(p(),g("div",s7," This bug doesn't drop any items. ")):G("",!0)])])])])):G("",!0)],2))),128))]),C.value.length===0?(p(),g("div",n7," No bugs found matching your search query. ")):G("",!0)]))}}),Wi=We(a7,[["__scopeId","data-v-10b74066"]]),l7={class:"mb-4"},i7={class:"flex items-center justify-between mb-2"},u7={class:"flex flex-wrap gap-2"},c7=["onClick"],d7={class:"text-xs text-amber-600 dark:text-amber-400"},m7={key:0},p7={class:"text-xs text-amber-600 dark:text-amber-400 font-normal"},f7={class:"space-y-3"},g7=["onClick"],v7={class:"flex items-center gap-3"},b7={class:"text-xs text-amber-600 dark:text-amber-400"},h7={class:"flex items-center gap-4"},x7={class:"text-right"},y7={class:"text-xs text-amber-600 dark:text-amber-400"},k7={key:0,class:"border-t border-amber-300 dark:border-amber-700 p-3"},_7={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},w7={class:"space-y-1 text-sm"},$7={class:"grid grid-cols-2 gap-2"},C7={key:0,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},S7={class:"text-amber-700 dark:text-amber-300"},A7={key:1,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},E7={class:"text-amber-700 dark:text-amber-300"},M7={key:2,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},P7={class:"text-amber-700 dark:text-amber-300"},T7={key:3,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},L7={class:"text-amber-700 dark:text-amber-300"},I7={key:0},F7={class:"space-y-2"},U7={class:"font-medium"},R7={class:"text-amber-700 dark:text-amber-300"},D7={key:1,class:"mt-4"},q7={class:"space-y-2"},N7={key:0,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},O7={class:"text-amber-700 dark:text-amber-300"},B7={key:1,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},Q7={class:"text-amber-700 dark:text-amber-300"},j7={class:"font-medium"},H7={class:"text-amber-700 dark:text-amber-300"},G7={key:2,class:"text-sm italic text-amber-600 dark:text-amber-400 mt-4"},V7={key:3,class:"mt-4"},W7={class:"space-y-2"},z7={class:"font-medium"},X7={class:"text-amber-700 dark:text-amber-300"},K7={key:0,class:"p-4 text-center text-amber-600 dark:text-amber-400"},Ms="items-wiki",Y7=Ie({__name:"ItemsWiki",setup(e){const t=dt(),o=Or(),n=B(o.getSearchQuery(Ms));B(!0);const a=B(null),l=["common","uncommon","rare","epic","legendary","mythic","divine"],i=L(()=>{const P=new Set;return Object.values(t.items).forEach(I=>{P.add(I.rarity)}),Array.from(P).sort((I,U)=>l.indexOf(I)-l.indexOf(U))});De(n,P=>{o.setSearchQuery(Ms,P)});const u=P=>{o.toggleItemExpanded(Ms,P)},c=P=>o.isItemExpanded(Ms,P),d=L(()=>{let P=Object.values(t.items);if(a.value&&(P=P.filter(I=>I.rarity===a.value)),n.value){const I=n.value.toLowerCase();P=P.filter(U=>U.name.toLowerCase().includes(I)||U.description.toLowerCase().includes(I)||U.id.toLowerCase().includes(I)||U.rarity.toLowerCase().includes(I))}return P}),m=L(()=>{const P={};return i.value.forEach(I=>{P[I]=[]}),d.value.forEach(I=>{P[I.rarity]&&P[I.rarity].push(I)}),P}),b=P=>P?`+${ge(P,0)}`:"0",x=P=>{if(!P)return"0%";const I=P.sub(1).mul(100);return`+${ge(I,0)}%`},h=P=>t.getRarityColor(P),C=P=>t.getRarityBackground(P),w=P=>({worker:"Worker Ants",nursery:"Nursery",queenChamber:"Queen Chamber",colony:"Colony",megacolony:"Megacolony",hivemind:"Hivemind",antopolis:"Antopolis",global:"All Generators"})[P]||P,M=L(()=>{const P={};return i.value.forEach(I=>{P[I]=0}),Object.values(t.items).forEach(I=>{P[I.rarity]=(P[I.rarity]||0)+1}),P}),S=ir(),_=P=>S.getBugsByItemId(P),y=(P,I)=>Ct(S.getBugDropChance(P,I));return(P,I)=>(p(),g("div",null,[Ee(Po,{modelValue:n.value,"onUpdate:modelValue":I[0]||(I[0]=U=>n.value=U),placeholder:"Search items..."},null,8,["modelValue"]),r("div",l7,[r("div",i7,[I[2]||(I[2]=r("h3",{class:"font-medium text-amber-800 dark:text-amber-200"},"Filter by Rarity",-1)),a.value?(p(),g("button",{key:0,onClick:I[1]||(I[1]=U=>a.value=null),class:"text-xs px-2 py-1 bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-200 rounded-md hover:bg-amber-200 dark:hover:bg-amber-800/50"}," Clear Filter ")):G("",!0)]),r("div",u7,[(p(!0),g($e,null,Te(i.value,U=>(p(),g("button",{key:U,onClick:q=>a.value=U===a.value?null:U,class:ee(["px-3 py-1.5 rounded-lg text-sm transition-colors flex items-center gap-1",a.value===U?"border-2 font-medium shadow-sm "+C(U):"border border-amber-200 dark:border-amber-800 hover:bg-amber-100/50 dark:hover:bg-amber-900/30"])},[r("span",{class:ee(h(U))},v(U.charAt(0).toUpperCase()+U.slice(1)),3),r("span",d7,"("+v(M.value[U])+")",1)],10,c7))),128))])]),(p(!0),g($e,null,Te(m.value,(U,q)=>(p(),g("div",{key:q,class:"mb-6"},[U.length>0?(p(),g("div",m7,[r("h2",{class:ee(["text-lg font-bold mb-3 flex items-center gap-2",h(q)])},[r("span",null,v(q.charAt(0).toUpperCase()+q.slice(1))+" Items",1),r("span",p7,"("+v(U.length)+" items)",1)],2),r("div",f7,[(p(!0),g($e,null,Te(U,k=>(p(),g("div",{key:k.id,class:ee(["border rounded-lg overflow-hidden bg-amber-50/50 dark:bg-amber-900/10",C(k.rarity),a.value===k.rarity?"border-2":"border"])},[r("div",{onClick:W=>u(k.id),class:"p-3 flex justify-between items-center cursor-pointer hover:bg-amber-100/50 dark:hover:bg-amber-900/20 transition-colors"},[r("div",v7,[r("span",{class:ee(["i-heroicons-shield text-xl",h(k.rarity)])},null,2),r("div",null,[r("div",{class:ee(["font-medium",h(k.rarity)])},v(k.name),3),r("div",b7,v(k.description),1)])]),r("div",h7,[r("div",x7,[r("div",y7,v(k.rarity.charAt(0).toUpperCase()+k.rarity.slice(1)),1)]),r("span",{class:ee(["transition-transform",c(k.id)?"rotate-180":""])},I[3]||(I[3]=[r("span",{class:"i-heroicons-chevron-down text-amber-600 dark:text-amber-400"},null,-1)]),2)])],8,g7),c(k.id)?(p(),g("div",k7,[r("div",_7,[r("div",null,[r("h3",{class:ee(["font-medium mb-2",h(k.rarity)])},"Basic Information",2),r("div",w7,[r("div",null,[I[4]||(I[4]=r("span",{class:"font-medium"},"ID:",-1)),Y(" "+v(k.id),1)]),r("div",null,[I[5]||(I[5]=r("span",{class:"font-medium"},"Type:",-1)),Y(" "+v(k.type.charAt(0).toUpperCase()+k.type.slice(1)),1)]),r("div",null,[I[6]||(I[6]=r("span",{class:"font-medium"},"Rarity:",-1)),r("span",{class:ee(h(k.rarity))},v(k.rarity.charAt(0).toUpperCase()+k.rarity.slice(1)),3)])]),r("h3",{class:ee(["font-medium mt-4 mb-2",h(k.rarity)])},"Combat Stats",2),r("div",$7,[k.stats.damage?(p(),g("div",C7,[I[7]||(I[7]=r("div",{class:"font-medium"},"Damage",-1)),r("div",S7,v(b(k.stats.damage)),1)])):G("",!0),k.stats.health?(p(),g("div",A7,[I[8]||(I[8]=r("div",{class:"font-medium"},"Health",-1)),r("div",E7,v(b(k.stats.health)),1)])):G("",!0),k.stats.defense?(p(),g("div",M7,[I[9]||(I[9]=r("div",{class:"font-medium"},"Defense",-1)),r("div",P7,v(b(k.stats.defense)),1)])):G("",!0),k.stats.regen?(p(),g("div",T7,[I[10]||(I[10]=r("div",{class:"font-medium"},"Regeneration",-1)),r("div",L7,v(b(k.stats.regen)),1)])):G("",!0)])]),r("div",null,[k.productionModifiers&&Object.keys(k.productionModifiers).length>0?(p(),g("div",I7,[r("h3",{class:ee(["font-medium mb-2",h(k.rarity)])},"Production Modifiers",2),r("div",F7,[(p(!0),g($e,null,Te(k.productionModifiers,(W,le)=>(p(),g("div",{key:le,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},[r("div",U7,v(w(le)),1),r("div",R7,v(x(W)),1)]))),128))])])):G("",!0),k.specialModifiers&&Object.keys(k.specialModifiers).length>0?(p(),g("div",D7,[r("h3",{class:ee(["font-medium mb-2",h(k.rarity)])},"Special Effects",2),r("div",q7,[k.specialModifiers.epBoost?(p(),g("div",N7,[I[11]||(I[11]=r("div",{class:"font-medium"},"Evolution Points",-1)),r("div",O7,v(x(k.specialModifiers.epBoost)),1)])):G("",!0),k.specialModifiers.global?(p(),g("div",B7,[I[12]||(I[12]=r("div",{class:"font-medium"},"Global Production",-1)),r("div",Q7,v(x(k.specialModifiers.global)),1)])):G("",!0),P.key!=="epBoost"&&P.key!=="global"&&P.value!==void 0?(p(!0),g($e,{key:2},Te(k.specialModifiers,(W,le)=>(p(),g("div",{key:le,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},[r("div",j7,v(le.charAt(0).toUpperCase()+le.slice(1).replace(/([A-Z])/g," $1")),1),r("div",H7,v(x(W)),1)]))),128)):G("",!0)])])):G("",!0),(!k.productionModifiers||Object.keys(k.productionModifiers).length===0)&&(!k.specialModifiers||Object.keys(k.specialModifiers).length===0)?(p(),g("div",G7," This item has no production or special effects. ")):G("",!0),_(k.id).length>0?(p(),g("div",V7,[r("h3",{class:ee(["font-medium mb-2",h(k.rarity)])},"Bugs that drop this item",2),r("div",W7,[(p(!0),g($e,null,Te(_(k.id),W=>(p(),g("div",{key:W.id,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},[r("div",z7,v(W.name),1),r("div",X7,v(y(k.id,W.id)),1)]))),128))])])):G("",!0)])])])):G("",!0)],2))),128))])])):G("",!0)]))),128)),Object.values(m.value).every(U=>U.length===0)?(p(),g("div",K7," No items found matching your search criteria. ")):G("",!0)]))}}),zi=We(Y7,[["__scopeId","data-v-53bb6261"]]),J7={class:"mb-4 bg-emerald-50/70 dark:bg-emerald-900/20 p-3 rounded-lg border border-emerald-200 dark:border-emerald-800"},Z7={class:"block mb-2 text-sm font-medium text-emerald-800 dark:text-emerald-200"},eI={class:"font-bold text-emerald-600 dark:text-emerald-300"},tI={key:0,class:"p-4 text-center text-emerald-600 dark:text-emerald-400"},rI={class:"space-y-3"},oI=["onClick"],sI={class:"flex items-center gap-3"},nI={class:"font-medium"},aI={class:"text-xs text-emerald-600 dark:text-emerald-400"},lI={class:"flex items-center gap-4"},iI={class:"text-right"},uI={class:"text-sm"},cI={class:"font-medium"},dI={class:"text-xs"},mI={key:0,class:"border-t border-emerald-300 dark:border-emerald-700 p-3"},pI={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},fI={class:"space-y-1 text-sm"},gI={class:"overflow-x-auto max-h-60 overflow-y-auto border border-emerald-200 dark:border-emerald-800 rounded"},vI={class:"w-full text-sm"},bI={class:"p-2"},hI={class:"p-2 text-right"},xI={class:"p-2 text-right text-emerald-700 dark:text-emerald-300"},yI={class:"mt-4"},kI={class:"text-sm text-emerald-600 dark:text-emerald-400 mb-2"},_I={class:"overflow-x-auto border border-emerald-200 dark:border-emerald-800 rounded"},wI={class:"w-full text-sm"},$I={class:"p-2"},CI={class:"p-2 text-right"},SI={class:"p-2 text-right text-emerald-700 dark:text-emerald-300"},po="generators-wiki",AI=Ie({__name:"GeneratorsWiki",setup(e){const t=st(),o=Or(),n=B(o.getSearchQuery(po)),a=B(o.getMaxPreviewLevel(po));De(n,x=>{o.setSearchQuery(po,x)}),De(a,x=>{o.setMaxPreviewLevel(po,x)});const l=x=>{o.toggleItemExpanded(po,x)},i=x=>o.isItemExpanded(po,x),u=x=>ge(x.baseCost,0),c=(x,h)=>Qc(x,new he(h)),d=x=>{const h=t.getBaseProduction(x);return ge(h,0)},m=x=>({worker:"food",nursery:"worker ants",queenChamber:"nurseries",colony:"queen chambers",megacolony:"colonies",hivemind:"mega colonies",antopolis:"hive minds"})[x]||"",b=L(()=>{if(!n.value)return t.generators;const x=n.value.toLowerCase();return t.generators.filter(h=>h.name.toLowerCase().includes(x)||h.description.toLowerCase().includes(x)||h.id.toLowerCase().includes(x))});return(x,h)=>(p(),g("div",null,[Ee(Po,{modelValue:n.value,"onUpdate:modelValue":h[0]||(h[0]=C=>n.value=C),placeholder:"Search generators..."},null,8,["modelValue"]),r("div",J7,[r("label",Z7,[h[2]||(h[2]=Y(" Show generator costs up to ")),r("span",eI,v(a.value),1),h[3]||(h[3]=Y(" purchases "))]),Ee(gn,{modelValue:a.value,"onUpdate:modelValue":h[1]||(h[1]=C=>a.value=C),presets:[10,25,50,100,250,500,1e3],max:1e3,color:"emerald"},null,8,["modelValue"])]),b.value.length===0?(p(),g("div",tI," No generators found for this search query. ")):G("",!0),r("div",rI,[(p(!0),g($e,null,Te(b.value,C=>(p(),g("div",{key:C.id,class:"border border-emerald-300 dark:border-emerald-700 rounded-lg overflow-hidden bg-emerald-50/50 dark:bg-emerald-900/10"},[r("div",{onClick:w=>l(C.id),class:"p-3 flex justify-between items-center cursor-pointer hover:bg-emerald-100 dark:hover:bg-emerald-900/20 transition-colors"},[r("div",sI,[r("span",{class:ee([C.icon,"text-xl text-emerald-700 dark:text-emerald-300"])},null,2),r("div",null,[r("div",nI,v(C.name),1),r("div",aI,v(C.description),1)])]),r("div",lI,[r("div",iI,[r("div",uI,[h[4]||(h[4]=Y("Tier: ")),r("span",cI,v(C.tier),1)]),r("div",dI,"Base Cost: "+v(u(C)),1)]),r("span",{class:ee(["transition-transform",i(C.id)?"rotate-180":""])},h[5]||(h[5]=[r("span",{class:"i-heroicons-chevron-down text-emerald-600 dark:text-emerald-400"},null,-1)]),2)])],8,oI),i(C.id)?(p(),g("div",mI,[r("div",pI,[r("div",null,[h[11]||(h[11]=r("h3",{class:"font-medium mb-2 text-emerald-800 dark:text-emerald-200"},"Basic Information",-1)),r("div",fI,[r("div",null,[h[6]||(h[6]=r("span",{class:"font-medium"},"ID:",-1)),Y(" "+v(C.id),1)]),r("div",null,[h[7]||(h[7]=r("span",{class:"font-medium"},"Tier:",-1)),Y(" "+v(C.tier),1)]),r("div",null,[h[8]||(h[8]=r("span",{class:"font-medium"},"Base Cost:",-1)),Y(" "+v(u(C)),1)]),r("div",null,[h[9]||(h[9]=r("span",{class:"font-medium"},"Cost Growth:",-1)),Y(" "+v(f(ge)(C.costGrowth,2)),1)]),r("div",null,[h[10]||(h[10]=r("span",{class:"font-medium"},"Base Production:",-1)),Y(" "+v(d(C.id))+" "+v(m(C.id))+"/sec",1)])])]),r("div",null,[h[13]||(h[13]=r("h3",{class:"font-medium mb-2 text-emerald-800 dark:text-emerald-200"},"Cost Progression",-1)),r("div",gI,[r("table",vI,[h[12]||(h[12]=r("thead",{class:"bg-emerald-200 dark:bg-emerald-900/40 sticky top-0"},[r("tr",null,[r("th",{class:"p-2 text-left"},"Purchases"),r("th",{class:"p-2 text-right"},"Unit Cost"),r("th",{class:"p-2 text-right"},"Total Spent")])],-1)),r("tbody",null,[(p(!0),g($e,null,Te([1,5,10,25,50,100,250,500,1e3].filter(w=>w<=a.value),w=>(p(),g("tr",{key:w,class:"border-t border-emerald-200 dark:border-emerald-800 hover:bg-emerald-100 dark:hover:bg-emerald-900/30"},[r("td",bI,v(w),1),r("td",hI,v(f(ge)(c(C.tier,w),0)),1),r("td",xI,v(f(ge)(c(C.tier,w).mul(w),0)),1)]))),128))])])])])]),r("div",yI,[h[15]||(h[15]=r("h3",{class:"font-medium mb-2 text-emerald-800 dark:text-emerald-200"},"Production Information",-1)),r("p",kI,v(C.name)+" produces "+v(d(C.id))+" "+v(m(C.id))+" per second at base value. Each "+v(C.name.toLowerCase())+" you own multiplies this production linearly. ",1),r("div",_I,[r("table",wI,[h[14]||(h[14]=r("thead",{class:"bg-emerald-200 dark:bg-emerald-900/40"},[r("tr",null,[r("th",{class:"p-2 text-left"},"Count"),r("th",{class:"p-2 text-right"},"Base Production"),r("th",{class:"p-2 text-right"},"Per Generator")])],-1)),r("tbody",null,[(p(),g($e,null,Te([1,10,100,1e3,1e4],w=>r("tr",{key:w,class:"border-t border-emerald-200 dark:border-emerald-800 hover:bg-emerald-100 dark:hover:bg-emerald-900/30"},[r("td",$I,v(w),1),r("td",CI,v(f(ge)(new(f(he))(d(C.id)).mul(w),0)),1),r("td",SI,v(d(C.id)),1)])),64))])])])])])):G("",!0)]))),128))])]))}}),Xi=We(AI,[["__scopeId","data-v-b42a6b6c"]]),EI={class:"border border-amber-300 dark:border-amber-700 rounded-lg overflow-hidden bg-amber-50/50 dark:bg-amber-900/10 mb-4"},MI={class:"p-4"},PI={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},TI={class:"border border-amber-200 dark:border-amber-800 rounded-lg p-3"},LI={class:"text-sm"},II={class:"mb-2"},FI={key:0,class:"space-y-2"},UI={class:"flex items-center"},RI={class:"flex-1 bg-amber-100 dark:bg-amber-900/40 h-2 rounded-full overflow-hidden"},DI={class:"ml-2 text-xs"},qI={class:"flex items-center"},NI={class:"flex-1 bg-amber-100 dark:bg-amber-900/40 h-2 rounded-full overflow-hidden"},OI={class:"ml-2 text-xs"},BI={class:"text-sm"},QI={class:"text-sm"},jI={class:"border border-amber-200 dark:border-amber-800 rounded-lg p-3"},HI={class:"text-sm"},GI={class:"mb-2"},VI={key:0,class:"space-y-2"},WI={class:"text-sm"},zI={class:"text-sm"},XI={class:"border border-amber-300 dark:border-amber-700 rounded-lg overflow-hidden bg-amber-50/50 dark:bg-amber-900/10 mb-4"},KI={key:0,class:"border-t border-amber-300 dark:border-amber-700 p-3"},YI={key:0,class:"p-4 text-center text-amber-600 dark:text-amber-400"},JI={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ZI={class:"flex justify-between items-start mb-2"},eF={class:"font-medium text-amber-800 dark:text-amber-300"},tF={class:"text-xs text-amber-600 dark:text-amber-400"},rF={class:"text-sm text-amber-700 dark:text-amber-300 mb-3"},oF={class:"space-y-2 text-sm"},sF={class:"flex justify-between items-center"},nF={class:"font-medium"},aF={key:0,class:"flex justify-between items-center"},lF={class:"font-medium text-green-600 dark:text-green-400"},iF={class:"text-xs"},uF={key:1,class:"flex justify-between items-center"},cF={class:"font-medium text-amber-600 dark:text-amber-400"},dF={class:"flex justify-between items-center"},mF={key:2,class:"mt-3"},pF={key:3,class:"mt-3 text-sm text-amber-600 dark:text-amber-400"},fF={class:"border border-amber-300 dark:border-amber-700 rounded-lg overflow-hidden bg-amber-50/50 dark:bg-amber-900/10"},gF={key:0,class:"border-t border-amber-300 dark:border-amber-700 p-3"},vF={key:0,class:"p-4 text-center text-amber-600 dark:text-amber-400"},bF={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},hF={class:"flex justify-between items-start mb-2"},xF={class:"font-medium text-amber-800 dark:text-amber-300"},yF={class:"text-xs text-amber-600 dark:text-amber-400"},kF={class:"text-sm text-amber-700 dark:text-amber-300 mb-3"},_F={class:"space-y-2 text-sm"},wF={class:"flex justify-between items-center"},$F={class:"font-medium"},CF={key:0,class:"flex justify-between items-center"},SF={class:"font-medium text-green-600 dark:text-green-400"},AF={key:1,class:"flex justify-between items-center"},EF={class:"font-medium text-amber-600 dark:text-amber-400"},MF={class:"flex justify-between items-center"},PF={key:2,class:"mt-3"},TF={key:3,class:"mt-3 text-sm text-amber-600 dark:text-amber-400"},fo="mega-ant",LF=Ie({__name:"MegaAntWiki",setup(e){const t=gt(),o=Or(),n=B(o.getSearchQuery(fo)),a=B(o.getMaxPreviewLevel(fo));De(n,M=>{o.setSearchQuery(fo,M)}),De(a,M=>{o.setMaxPreviewLevel(fo,M)});const l=M=>{o.toggleItemExpanded(fo,M)},i=M=>o.isItemExpanded(fo,M),u=L(()=>t.isUnlocked?`Level ${t.level} (${t.levelProgress.toFixed(1)}% to next level)`:"Locked - Requires 'Mega Ant' prestige upgrade"),c=L(()=>t.isUnlocked?`Level ${t.colonyLevel} (${t.colonyLevelProgress.toFixed(1)}% to next level)`:"Locked - Requires 'Mega Ant' prestige upgrade"),d=(M,S)=>S?(S=S.toLowerCase(),M.filter(_=>{var y,P,I;return((y=_.name)==null?void 0:y.toLowerCase().includes(S))||((P=_.description)==null?void 0:P.toLowerCase().includes(S))||((I=_.id)==null?void 0:I.toLowerCase().includes(S))})):M,m=L(()=>d(t.upgrades,n.value)),b=L(()=>d(t.colonyUpgrades,n.value)),x=(M,S,_)=>{const y=t.getUpgradeEffectValue(M),P=t.getNextUpgradeEffectValue(M);return M===ut.EFFICIENCY||M===ut.DECAY_RATE?`+${((P-y)*100).toFixed(0)}%`:`+${(P-y).toFixed(0)}`},h=(M,S)=>{const _=M.getEffectValue(M.level),y=M.getEffectValue(Math.min(S,M.maxLevel));return y<=_||M.level>=M.maxLevel?"":M.id===ut.EFFICIENCY||M.id===ut.DECAY_RATE?` ${y.toFixed(2)} (+${((y-_)*100).toFixed(0)}%)`:` ${y.toFixed(0)} (+${(y-_).toFixed(0)})`},C=(M,S)=>{if(!M||M.level>=M.maxLevel)return"";const _=M.getMultiplier(M.level),y=M.getMultiplier(Math.min(S,M.maxLevel));if(y<=_)return"";const P=((y-_)*100).toFixed(0);return` +${((y-1)*100).toFixed(0)}% (+${P}%)`},w=(M,S,_)=>{const y=t.getColonyUpgradeMultiplier(M),P=t.getColonyUpgrade(M);return P?`+${((P.getMultiplier(S+1)-y)*100).toFixed(0)}%`:"+0%"};return(M,S)=>(p(),g("div",null,[r("div",EI,[r("div",MI,[S[12]||(S[12]=ct('<h2 class="text-lg font-semibold mb-4 flex items-center" data-v-200ca3d0><span class="i-heroicons-bug-ant text-xl text-amber-700 dark:text-amber-400 mr-2" data-v-200ca3d0></span> Mega Ant System Guide </h2><div class="bg-white dark:bg-gray-800 rounded-lg shadow p-4 mb-4" data-v-200ca3d0><h3 class="font-medium text-amber-800 dark:text-amber-300 mb-3" data-v-200ca3d0>How It Works</h3><div class="text-sm text-gray-700 dark:text-gray-300 space-y-2" data-v-200ca3d0><p data-v-200ca3d0>The Mega Ant is a special evolution of your ant colony that unlocks after reaching 100M Evolution Points. It features a unique dual digestive system that provides powerful bonuses to your entire colony.</p><div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-3" data-v-200ca3d0><div class="bg-amber-50 dark:bg-amber-900/20 p-3 rounded-lg border border-amber-200 dark:border-amber-700/50" data-v-200ca3d0><h4 class="font-medium text-amber-700 dark:text-amber-300 flex items-center gap-1 mb-2" data-v-200ca3d0><span class="i-heroicons-arrow-path-rounded-square" data-v-200ca3d0></span>Crop System (Mega Ant XP) </h4><ol class="list-decimal list-inside space-y-1 pl-1 text-xs" data-v-200ca3d0><li class="mb-1" data-v-200ca3d0>Feed <b data-v-200ca3d0>regular food</b> to your Mega Ant&#39;s crop</li><li class="mb-1" data-v-200ca3d0>Food is automatically digested over time at a rate determined by your upgrades</li><li class="mb-1" data-v-200ca3d0>Digestion grants <b data-v-200ca3d0>Mega Ant XP</b> based on the logarithm of food fed</li><li class="mb-1" data-v-200ca3d0>Mega Ant levels provide upgrade points for digestive systems</li></ol></div><div class="bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg border border-purple-200 dark:border-purple-700/50" data-v-200ca3d0><h4 class="font-medium text-purple-700 dark:text-purple-300 flex items-center gap-1 mb-2" data-v-200ca3d0><span class="i-heroicons-beaker" data-v-200ca3d0></span>True Stomach System (Colony XP) </h4><ol class="list-decimal list-inside space-y-1 pl-1 text-xs" data-v-200ca3d0><li class="mb-1" data-v-200ca3d0>Feed <b data-v-200ca3d0>pheromone essence</b> to the true stomach</li><li class="mb-1" data-v-200ca3d0>Essence is automatically digested over time at a rate determined by your upgrades</li><li class="mb-1" data-v-200ca3d0>Digestion grants <b data-v-200ca3d0>Colony XP</b> based on the logarithm of essence fed (2x more effective than food)</li><li class="mb-1" data-v-200ca3d0>Colony levels provide upgrade points for colony-wide bonuses</li></ol></div></div><div class="mt-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700/50" data-v-200ca3d0><h4 class="font-medium text-blue-700 dark:text-blue-300 mb-2" data-v-200ca3d0>Key Mechanics</h4><ul class="space-y-2 text-xs" data-v-200ca3d0><li class="flex items-start" data-v-200ca3d0><span class="i-heroicons-light-bulb text-blue-500 mr-1.5 mt-0.5" data-v-200ca3d0></span><span data-v-200ca3d0><b data-v-200ca3d0>XP Calculation:</b> XP gained is based on the exponent (magnitude) of the food/essence fed, not the raw amount. For example, feeding 1e100 food would yield approximately 100 XP.</span></li><li class="flex items-start" data-v-200ca3d0><span class="i-heroicons-light-bulb text-blue-500 mr-1.5 mt-0.5" data-v-200ca3d0></span><span data-v-200ca3d0><b data-v-200ca3d0>Upgrade System:</b> All Mega Ant upgrades affect both digestive systems simultaneously, improving capacity, digestion rate, or XP efficiency.</span></li><li class="flex items-start" data-v-200ca3d0><span class="i-heroicons-light-bulb text-blue-500 mr-1.5 mt-0.5" data-v-200ca3d0></span><span data-v-200ca3d0><b data-v-200ca3d0>Colony Upgrades:</b> These provide global bonuses to your entire ant farm, including EP gain, pheromone production, and global resource generation.</span></li><li class="flex items-start" data-v-200ca3d0><span class="i-heroicons-light-bulb text-blue-500 mr-1.5 mt-0.5" data-v-200ca3d0></span><span data-v-200ca3d0><b data-v-200ca3d0>Ascension:</b> Reset your progress but keep all upgrades to gain a permanent multiplier to XP gains. Each ascension gives +25% to all XP gains.</span></li></ul></div></div></div>',2)),r("div",PI,[r("div",TI,[S[8]||(S[8]=r("h3",{class:"font-medium text-amber-800 dark:text-amber-300 mb-2 flex items-center"},[r("span",{class:"i-heroicons-bug-ant text-lg mr-2"}),Y(" Mega Ant Status ")],-1)),r("div",LI,[r("div",II,v(u.value),1),f(t).isUnlocked?(p(),g("div",FI,[r("div",null,[S[4]||(S[4]=r("div",{class:"text-xs text-amber-600 dark:text-amber-400"},"Food Stomach",-1)),r("div",UI,[r("div",RI,[r("div",{class:"bg-amber-500 h-full",style:je({width:`${f(t).stomachFillPercentage}%`})},null,4)]),r("div",DI,v(f(t).stomachContent.toFixed(1))+"/"+v(f(t).effectiveStomachCapacity.toFixed(1)),1)])]),r("div",null,[S[5]||(S[5]=r("div",{class:"text-xs text-amber-600 dark:text-amber-400"},"Pheromone Stomach",-1)),r("div",qI,[r("div",NI,[r("div",{class:"bg-purple-500 h-full",style:je({width:`${f(t).pheromoneStomachFillPercentage}%`})},null,4)]),r("div",OI,v(f(t).pheromoneStomachContent.toFixed(1))+"/"+v(f(t).effectivePheromoneStomachCapacity.toFixed(1)),1)])]),r("div",null,[S[6]||(S[6]=r("div",{class:"text-xs text-amber-600 dark:text-amber-400"},"Experience Needed",-1)),r("div",BI,v(f(ge)(f(t).experienceForNextLevel,1))+" XP",1)]),r("div",null,[S[7]||(S[7]=r("div",{class:"text-xs text-amber-600 dark:text-amber-400"},"Available Upgrade Points",-1)),r("div",QI,v(f(t).availableLevels),1)])])):G("",!0)])]),r("div",jI,[S[11]||(S[11]=r("h3",{class:"font-medium text-amber-800 dark:text-amber-300 mb-2 flex items-center"},[r("span",{class:"i-heroicons-home-modern text-lg mr-2"}),Y(" Colony Status ")],-1)),r("div",HI,[r("div",GI,v(c.value),1),f(t).isUnlocked?(p(),g("div",VI,[r("div",null,[S[9]||(S[9]=r("div",{class:"text-xs text-amber-600 dark:text-amber-400"},"Colony Experience Needed",-1)),r("div",WI,v(f(ge)(f(t).colonyExperienceForNextLevel,1))+" XP",1)]),r("div",null,[S[10]||(S[10]=r("div",{class:"text-xs text-amber-600 dark:text-amber-400"},"Available Colony Upgrade Points",-1)),r("div",zI,v(f(t).availableColonyLevels),1)])])):G("",!0)])])])])]),Ee(Po,{modelValue:n.value,"onUpdate:modelValue":S[0]||(S[0]=_=>n.value=_),placeholder:"Search mega ant upgrades..."},null,8,["modelValue"]),Ee(gn,{modelValue:a.value,"onUpdate:modelValue":S[1]||(S[1]=_=>a.value=_),color:"amber",label:"Preview upgrades up to level:"},null,8,["modelValue"]),S[23]||(S[23]=r("div",{class:"mb-4 bg-amber-50/70 dark:bg-amber-900/20 p-2 rounded-lg border border-amber-200 dark:border-amber-800 text-xs text-amber-700 dark:text-amber-300"},[r("div",{class:"flex items-start"},[r("span",{class:"i-heroicons-information-circle mr-1 text-sm mt-0.5"}),r("div",null,[r("span",{class:"font-medium"},"Level Preview Tool:"),Y(" Adjust the slider above to see how upgrades will look at higher levels. The amber values show the progression from your current level to the selected preview level. ")])])],-1)),r("div",XI,[r("div",{onClick:S[2]||(S[2]=_=>l("megaAntUpgrades")),class:"p-3 flex justify-between items-center cursor-pointer hover:bg-amber-100 dark:hover:bg-amber-900/20 transition-colors"},[S[14]||(S[14]=r("div",{class:"flex items-center gap-3"},[r("span",{class:"i-heroicons-arrow-up-circle text-xl text-amber-700 dark:text-amber-400"}),r("div",null,[r("div",{class:"font-medium"},"Mega Ant Upgrades"),r("div",{class:"text-xs text-amber-600 dark:text-amber-400"},"Spend Mega Ant levels to improve your digestive capabilities")])],-1)),r("span",{class:ee(["transition-transform",i("megaAntUpgrades")?"rotate-180":""])},S[13]||(S[13]=[r("span",{class:"i-heroicons-chevron-down text-amber-600 dark:text-amber-400"},null,-1)]),2)]),i("megaAntUpgrades")?(p(),g("div",KI,[m.value.length===0?(p(),g("div",YI," No mega ant upgrades found for your search query. ")):(p(),g("div",JI,[(p(!0),g($e,null,Te(m.value,_=>(p(),g("div",{key:_.id,class:"border border-amber-200 dark:border-amber-800 rounded-lg p-3"},[r("div",ZI,[r("h3",eF,v(_.name),1),r("div",tF," Level "+v(_.level)+"/"+v(_.maxLevel),1)]),r("p",rF,v(_.description),1),r("div",oF,[r("div",sF,[S[15]||(S[15]=r("div",null,"Current Effect:",-1)),r("div",nF,v(f(t).getUpgradeEffectValue(_.id).toFixed(2)),1)]),_.level<_.maxLevel?(p(),g("div",aF,[S[16]||(S[16]=r("div",null,"Next Level:",-1)),r("div",lF,[Y(v(f(t).getNextUpgradeEffectValue(_.id).toFixed(2))+" ",1),r("span",iF,"("+v(x(_.id,_.level,_.level+1))+")",1)])])):G("",!0),_.level<_.maxLevel&&a.value>_.level+1?(p(),g("div",uF,[r("div",null,"At Level "+v(Math.min(a.value,_.maxLevel))+":",1),r("div",cF,v(h(_,a.value)),1)])):G("",!0),r("div",dF,[S[17]||(S[17]=r("div",null,"Cost:",-1)),r("div",null,v(_.costPerLevel)+" Mega Ant level"+v(_.costPerLevel>1?"s":""),1)]),_.level<_.maxLevel?(p(),g("div",mF,[r("div",{class:ee(["text-sm",f(t).canUpgrade(_.id)?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},v(f(t).canUpgrade(_.id)?"Available to purchase":"Not enough level points"),3)])):(p(),g("div",pF," Maximum level reached "))])]))),128))]))])):G("",!0)]),r("div",fF,[r("div",{onClick:S[3]||(S[3]=_=>l("colonyUpgrades")),class:"p-3 flex justify-between items-center cursor-pointer hover:bg-amber-100 dark:hover:bg-amber-900/20 transition-colors"},[S[19]||(S[19]=r("div",{class:"flex items-center gap-3"},[r("span",{class:"i-heroicons-home-modern text-xl text-amber-700 dark:text-amber-400"}),r("div",null,[r("div",{class:"font-medium"},"Colony Upgrades"),r("div",{class:"text-xs text-amber-600 dark:text-amber-400"},"Spend Colony levels to enhance various aspects of your ant farm")])],-1)),r("span",{class:ee(["transition-transform",i("colonyUpgrades")?"rotate-180":""])},S[18]||(S[18]=[r("span",{class:"i-heroicons-chevron-down text-amber-600 dark:text-amber-400"},null,-1)]),2)]),i("colonyUpgrades")?(p(),g("div",gF,[b.value.length===0?(p(),g("div",vF," No colony upgrades found for your search query. ")):(p(),g("div",bF,[(p(!0),g($e,null,Te(b.value,_=>(p(),g("div",{key:_.id,class:"border border-amber-200 dark:border-amber-800 rounded-lg p-3"},[r("div",hF,[r("h3",xF,v(_.name),1),r("div",yF," Level "+v(_.level)+"/"+v(_.maxLevel),1)]),r("p",kF,v(_.description),1),r("div",_F,[r("div",wF,[S[20]||(S[20]=r("div",null,"Current Effect:",-1)),r("div",$F,v(f(t).getFormattedColonyEffect(_.id)),1)]),_.level<_.maxLevel?(p(),g("div",CF,[S[21]||(S[21]=r("div",null,"Next Level:",-1)),r("div",SF,v(w(_.id,_.level,_.level+1)),1)])):G("",!0),_.level<_.maxLevel&&a.value>_.level+1?(p(),g("div",AF,[r("div",null,"At Level "+v(Math.min(a.value,_.maxLevel))+":",1),r("div",EF,v(C(_,a.value)),1)])):G("",!0),r("div",MF,[S[22]||(S[22]=r("div",null,"Cost:",-1)),r("div",null,v(_.costPerLevel)+" Colony level"+v(_.costPerLevel>1?"s":""),1)]),_.level<_.maxLevel?(p(),g("div",PF,[r("div",{class:ee(["text-sm",f(t).canColonyUpgrade(_.id)?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},v(f(t).canColonyUpgrade(_.id)?"Available to purchase":"Not enough colony points"),3)])):(p(),g("div",TF," Maximum level reached "))])]))),128))]))])):G("",!0)])]))}}),Ki=We(LF,[["__scopeId","data-v-200ca3d0"]]),IF={class:"wiki-page"},FF={class:"border-b border-amber-300 dark:border-amber-700 mb-6"},UF={class:"flex flex-wrap gap-1"},RF=["onClick"],DF={class:"mb-4"},qF={class:"text-xl font-medium mb-2"},NF=Ie({__name:"WikiPage",setup(e){const t=Or(),o=[{id:"prestige-upgrades",label:"Prestige Upgrades",icon:"i-heroicons-sparkles",component:Gi},{id:"pheromone-shop",label:"Pheromone Shop",icon:"i-heroicons-beaker",component:Vi},{id:"mega-ant",label:"Mega Ant",icon:"i-heroicons-bug-ant",component:Ki},{id:"bugs-wiki",label:"Bugs & Drops",icon:"i-heroicons-bug-dash",component:Wi},{id:"items-wiki",label:"Items",icon:"i-heroicons-shield",component:zi},{id:"generators-wiki",label:"Generators",icon:"i-heroicons-command-line",component:Xi}],n=a=>{t.setActiveTab(a)};return(a,l)=>(p(),g("div",IF,[l[1]||(l[1]=r("div",{class:"flex justify-between items-center mb-6"},[r("h1",{class:"text-2xl font-bold"},"Game Wiki")],-1)),r("div",FF,[r("div",UF,[(p(),g($e,null,Te(o,i=>r("button",{key:i.id,onClick:u=>n(i.id),class:ee(["px-4 py-2 -mb-px text-sm font-medium transition-colors flex items-center gap-2",f(t).activeTab===i.id?"border-b-2 border-amber-500 text-amber-800 dark:text-amber-300":"text-amber-700/70 dark:text-amber-300/70 hover:text-amber-900 dark:hover:text-amber-200 hover:bg-amber-100/50 dark:hover:bg-amber-900/20 rounded-t-md"])},[r("span",{class:ee(i.icon)},null,2),Y(" "+v(i.label),1)],10,RF)),64))])]),r("div",null,[f(t).activeTab==="prestige-upgrades"?(p(),Ge(Gi,{key:0})):G("",!0),f(t).activeTab==="pheromone-shop"?(p(),Ge(Vi,{key:1})):G("",!0),f(t).activeTab==="mega-ant"?(p(),Ge(Ki,{key:2})):G("",!0),f(t).activeTab==="bugs-wiki"?(p(),Ge(Wi,{key:3})):G("",!0),f(t).activeTab==="items-wiki"?(p(),Ge(zi,{key:4})):G("",!0),f(t).activeTab==="generators-wiki"?(p(),Ge(Xi,{key:5})):G("",!0)]),(p(!0),g($e,null,Te(o.filter(i=>!i.component&&f(t).activeTab===i.id),i=>(p(),g("div",{key:i.id,class:"p-8 text-center text-amber-600 dark:text-amber-400 border border-amber-200 dark:border-amber-800 rounded-lg"},[r("div",DF,[r("span",{class:ee([i.icon,"text-4xl opacity-50"])},null,2)]),r("h3",qF,v(i.label)+" Wiki",1),l[0]||(l[0]=r("p",null,"This section is under development and will be available soon.",-1))]))),128))]))}}),OF=We(NF,[["__scopeId","data-v-08c63a96"]]),BF={class:"space-y-4 px-2 sm:px-0"},QF={key:1,class:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg shadow-sm"},jF=Ie({__name:"QuestsPage",setup(e){const t=ht();return(o,n)=>(p(),g("div",BF,[n[1]||(n[1]=r("h1",{class:"text-xl font-bold mb-2 flex items-center"},[r("span",{class:"i-heroicons-clipboard-document-list text-blue-700 dark:text-blue-500 mr-2"}),Y(" Quests ")],-1)),f(t).isQuestsUnlocked?(p(),Ge(ud,{key:0})):(p(),g("div",QF,n[0]||(n[0]=[r("h2",{class:"text-lg font-semibold mb-2"},"Quests Locked",-1),r("p",{class:"text-gray-700 dark:text-gray-300"}," Complete more of your adventure to unlock the Quests system! ",-1)]))),Ee(ao,{threshold:400})]))}}),HF="/assets/finger-CWxvMBt2.png",GF={class:"sim-fullscreen"},VF={class:"absolute top-3 right-3 z-10"},WF=["aria-label"],zF={key:0,class:"i-heroicons-x-mark w-5 h-5"},XF={key:1,class:"i-heroicons-information-circle w-5 h-5"},KF={class:"bg-amber-50/90 dark:bg-gray-800/90 rounded-lg shadow-md p-3 backdrop-blur-sm"},YF={class:"text-xs mt-1"},JF={class:"text-xs mt-1 space-y-1"},ZF={key:0,class:"text-amber-600 dark:text-amber-400 font-medium"},eU={key:1,class:"text-amber-600 dark:text-amber-400 font-medium"},tU={key:2},rU={key:0,class:"block text-[10px]"},oU={class:"mt-2"},sU={class:"space-y-2"},nU={for:"speed-control",class:"block text-xs font-medium mb-1"},aU={class:"flex items-center"},lU={for:"food-toggle",class:"ml-2 text-xs"},iU={key:0},uU={key:0,class:"pt-1 border-t border-amber-200/50 dark:border-gray-700/50 mt-1"},cU={key:0,class:"i-heroicons-chevron-down w-3 h-3"},dU={key:1,class:"i-heroicons-chevron-right w-3 h-3"},mU={key:0,class:"mt-2 space-y-2"},pU={for:"size-control",class:"block text-xs font-medium mb-1"},fU={class:"bg-amber-100/50 dark:bg-gray-700/50 p-2 rounded text-xs"},gU={key:0},vU={key:1},Do=80,bU=Ie({__name:"SimulationPage",setup(e){const t=st(),{width:o,height:n}=dn(),a=B(null),l=B(null),i=B(null),u=B(null),c=L(()=>Ua()),d=B(!1),m=B(!1),b=B(1),x=B(!0),h=B(1),C=B(5),w=B([]),M=B(!1),S=B(null),_=B(0),y=B(0),P=B(0),I=B(!1),U=L(()=>Number(b.value).toFixed(1)),q=L(()=>Number(h.value).toFixed(1)),k=L(()=>{const D=t.getGenerator("worker");return!D||D.count.eq(0)?"0":ge(D.count,0)});L(()=>Math.pow(10,W.value/10).toFixed(0));const W=L(()=>{const D=t.getGenerator("worker");if(!D||D.count.eq(0))return 1;const z=D.count.toNumber();if(z<100)return Math.max(1,Math.floor(z));const J=Math.floor(Math.log10(z)*10);return Math.min(J,150)}),le=B([]),X=B([]),j=B([]),T=L(()=>{const J=o.value*n.value/(1920*1080),se=Math.floor(J*15);return Math.max(3,Math.min(3+se,25))}),K=B(!1),fe=B(1),we=B(null),Se=B(null),pe=(D,z)=>{if(!a.value)return{x:0,y:0};const J=a.value,se=J.getBoundingClientRect(),xe=J.width/se.width,Ae=J.height/se.height;return{x:(D-se.left)*xe,y:(z-se.top)*Ae}},ce=(D,z,J)=>{if(!x.value||J>=w.value.length)return!1;const se=w.value[J];return $(D,z,se.x,se.y)<se.size*1.2},ke=(D,z)=>{if(!x.value)return null;for(let J=w.value.length-1;J>=0;J--)if(ce(D,z,J))return J;return null},ue=D=>{if(!x.value||M.value)return;const{x:z,y:J}=pe(D.clientX,D.clientY),se=ke(z,J);I.value=se!==null,a.value&&(a.value.style.cursor=I.value?"grab":"default")},Z=D=>{if(!x.value||w.value.length===0)return!1;let z,J;if(D instanceof MouseEvent)z=D.clientX,J=D.clientY;else if(D.touches&&D.touches.length>0)z=D.touches[0].clientX,J=D.touches[0].clientY,D.preventDefault();else return!1;const se=pe(z,J),xe=ke(se.x,se.y);if(xe!==null){M.value=!0,S.value=xe;const Ae=w.value[xe];return _.value=se.x-Ae.x,y.value=se.y-Ae.y,P.value=Date.now(),a.value&&(a.value.style.cursor="grabbing"),!0}return!1},de=D=>{if(!M.value||S.value===null)return;let z,J;if(D instanceof MouseEvent)z=D.clientX,J=D.clientY;else if(D.touches&&D.touches.length>0)z=D.touches[0].clientX,J=D.touches[0].clientY,D.preventDefault();else return;const se=pe(z,J),xe=se.x-_.value,Ae=se.y-y.value;S.value<w.value.length&&(w.value[S.value].x=xe,w.value[S.value].y=Ae)},oe=D=>{const z=Date.now()-P.value;if(M.value&&z<150){if(D instanceof MouseEvent)D.clientX,D.clientY;else if(D.changedTouches&&D.changedTouches.length>0)D.changedTouches[0].clientX,D.changedTouches[0].clientY;else{M.value=!1,S.value=null,a.value&&(a.value.style.cursor="default");return}E()}M.value=!1,S.value=null,a.value&&(D instanceof MouseEvent?ue(D):a.value.style.cursor="default")},te=D=>{if(M.value)return!1;let z,J;if(D instanceof MouseEvent)z=D.clientX,J=D.clientY;else if(D.touches&&D.touches.length>0)z=D.touches[0].clientX,J=D.touches[0].clientY,D.preventDefault();else return!1;const se=pe(z,J);return we.value={x:se.x,y:se.y,active:!0,isDragging:!1},E(),!0},ae=D=>{var xe;if(!((xe=we.value)!=null&&xe.active))return;let z,J;if(D instanceof MouseEvent)z=D.clientX,J=D.clientY;else if(D.touches&&D.touches.length>0)z=D.touches[0].clientX,J=D.touches[0].clientY,D.preventDefault();else return;const se=pe(z,J);we.value&&(we.value.x=se.x,we.value.y=se.y,we.value.isDragging=!0)},F=()=>{we.value&&setTimeout(()=>{we.value&&(we.value.active=!1)},300)},E=()=>{K.value||(fe.value=b.value,K.value=!0,b.value=fe.value*1.8,setTimeout(()=>{K.value=!1,b.value=fe.value},2500))},N=()=>{if(!a.value)return;const D=a.value.width,z=a.value.height,J=D/2,se=z/2,xe=100,Ae=x.value?T.value:0;w.value=[];for(let Me=0;Me<Ae;Me++){const Le=[],Ue=Math.random()*20+10,Oe=Math.floor(Ue/3);for(let lt=0;lt<Oe;lt++){const vt=Math.random()*Math.PI*2,Ke=Math.random()*(Ue*.7),To=Math.random()*1.5+1;Le.push({angle:vt,distance:Ke,size:To})}let Je,Fe,nt;do Je=Math.random()*D,Fe=Math.random()*z,nt=$(Je,Fe,J,se);while(nt<xe);w.value.push({x:Je,y:Fe,size:Ue,value:Math.random()*100+50,seeds:Le})}},me=()=>{if(!a.value)return;const D=a.value.width,z=a.value.height;le.value=[];for(let J=0;J<W.value;J++){const se=Math.random()*2+2;le.value.push({x:Math.random()*D,y:Math.random()*z,size:se*Number(h.value),speed:(Math.random()*1+.5)*Number(b.value),angle:Math.random()*Math.PI*2,color:O(J),wanderAngle:0,hasFood:!1,targetFoodIndex:null,pauseUntil:0,legPhase:Math.random()*Math.PI*2})}},ie=()=>{if(!a.value)return;a.value.width,a.value.height;const D=30;X.value=[];const z=40;for(let se=0;se<z;se++){const xe=Math.random()*Math.PI*2,Ae=Math.random()*(D-5),Me=Math.cos(xe)*Ae,Le=Math.sin(xe)*Ae,Ue=Math.random()*2+1;X.value.push({x:Me,y:Le,size:Ue})}j.value=[];const J=3+Math.floor(Math.random()*3);for(let se=0;se<J;se++){const xe=se/J*Math.PI*2,Ae=D*.8+Math.random()*D*.4,Me=Math.cos(xe+.2)*(Ae*.5),Le=Math.sin(xe+.2)*(Ae*.5),Ue=Math.cos(xe)*Ae,Oe=Math.sin(xe)*Ae;j.value.push({controlX:Me,controlY:Le,endX:Ue,endY:Oe})}};He(()=>{if(Se.value=new Image,Se.value.src=HF,a.value){l.value=a.value.getContext("2d");const D=Le=>{Z(Le)||te(Le)},z=Le=>{de(Le),ue(Le),ae(Le)},J=Le=>{oe(Le),F()},se=Le=>{Le.preventDefault(),Z(Le)||te(Le)},xe=Le=>{de(Le),ae(Le)},Ae=Le=>{oe(Le),F()};a.value.addEventListener("mousedown",D),window.addEventListener("mousemove",z),window.addEventListener("mouseup",J),a.value.addEventListener("mouseleave",()=>{I.value=!1,a.value&&(a.value.style.cursor="default"),F()}),a.value.addEventListener("touchstart",se,{passive:!1}),window.addEventListener("touchmove",xe,{passive:!1}),window.addEventListener("touchend",Ae);const Me=()=>{a.value&&u.value&&(a.value.width=u.value.clientWidth,a.value.height=Math.min(u.value.clientHeight,window.innerHeight*.5),me(),N(),ie())};Me(),window.addEventListener("resize",Me),ye(),er(()=>{window.removeEventListener("resize",Me),a.value&&(a.value.removeEventListener("mousedown",D),a.value.removeEventListener("touchstart",se),a.value.removeEventListener("mouseleave",()=>{})),window.removeEventListener("mousemove",z),window.removeEventListener("mouseup",J),window.removeEventListener("touchmove",xe),window.removeEventListener("touchend",Ae),i.value!==null&&cancelAnimationFrame(i.value)})}}),Wr(()=>{le.value.length!==W.value&&me()}),Wr(()=>{const D=Number(b.value);le.value.forEach(z=>{z.speed=(Math.random()*1+.5)*D})}),Wr(()=>{const D=Number(h.value);le.value.forEach(z=>{const J=Math.random()*2+2;z.size=J*D})}),Wr(()=>{a.value&&w.value.length!==C.value&&N()}),Wr(()=>{`${o.value}${n.value}`,a.value&&x.value&&w.value.length!==T.value&&N()}),Wr(()=>{a.value&&!x.value?w.value=[]:a.value&&x.value&&w.value.length===0&&N()});const O=D=>{const z=["#8B4513","#A0522D","#CD853F","#D2691E","#8B5A2B","#654321"];return D%20===0?"#DAA520":z[D%z.length]},$=(D,z,J,se)=>Math.sqrt(Math.pow(J-D,2)+Math.pow(se-z,2)),A=(D,z,J,se)=>Math.atan2(se-z,J-D),Q=D=>{if(x.value&&!D.hasFood&&!(D.pauseUntil>Date.now())){if(D.targetFoodIndex!==null){const z=w.value[D.targetFoodIndex];if(!z){D.targetFoodIndex=null;return}if($(D.x,D.y,z.x,z.y)<z.size/2){if(D.hasFood=!0,D.targetFoodIndex=null,a.value){const se=a.value.width/2,xe=a.value.height/2;D.angle=A(D.x,D.y,se,xe)}return}D.angle=A(D.x,D.y,z.x,z.y);return}if(Math.random()<.01)for(let z=0;z<w.value.length;z++){const J=w.value[z];if($(D.x,D.y,J.x,J.y)<100&&Math.random()<.5){D.targetFoodIndex=z,D.angle=A(D.x,D.y,J.x,J.y);break}}}},ne=D=>{if(!D.hasFood||!a.value)return;const z=a.value.width/2,J=a.value.height/2;$(D.x,D.y,z,J)<20?(D.hasFood=!1,D.pauseUntil=Date.now()+Math.random()*500+100,D.speed=0,setTimeout(()=>{D.angle=Math.random()*Math.PI*2,D.speed=(Math.random()*1+.5)*Number(b.value),D.wanderAngle=(Math.random()-.5)*.3},Math.random()*500+100)):Math.random()<.05&&(D.angle=A(D.x,D.y,z,J),D.angle+=(Math.random()-.5)*.2)},re=()=>{if(le.value.length>0){const D=le.value[0],z=D.angle;if(D.hasFood&&a.value){const J=a.value.width/2,se=a.value.height/2,xe=A(D.x,D.y,J,se);Math.abs(xe-z)>Math.PI/2&&(D.angle=xe)}}},V=(D,z,J)=>{var Ae;if(D.pauseUntil>Date.now())return;if(D.hasFood?ne(D):Q(D),(Ae=we.value)!=null&&Ae.active){const Me=$(D.x,D.y,we.value.x,we.value.y);if(Me<Do){const Le=A(we.value.x,we.value.y,D.x,D.y),Je=1-Math.max(Me,15)/Do,Fe=Math.sin(Je*Math.PI/2);D.angle=D.angle*(1-Fe)+Le*Fe;const nt=(Math.random()*1+.5)*Number(b.value),vt=1+Math.min(Je*2,2.5-1);D.speed=nt*vt}}!D.hasFood&&D.targetFoodIndex===null&&(D.wanderAngle+=(Math.random()-.5)*.1,Math.random()<.01&&(D.wanderAngle=0),D.angle+=D.wanderAngle*.05,Math.random()<.01&&(D.angle+=(Math.random()-.5)*Math.PI*.5),Math.random()<.005&&(D.speed=0,D.pauseUntil=Date.now()+Math.random()*1e3+500,setTimeout(()=>{!D.hasFood&&D.targetFoodIndex===null&&(D.speed=(Math.random()*1+.5)*Number(b.value),D.angle+=(Math.random()-.5)*Math.PI)},Math.random()*1e3+500))),D.speed>0&&(D.legPhase+=D.speed*.3,D.legPhase>Math.PI*2&&(D.legPhase-=Math.PI*2));const se=Math.cos(D.angle)*D.speed,xe=Math.sin(D.angle)*D.speed;D.x+=se,D.y+=xe,D.x<0&&(D.x=z),D.x>z&&(D.x=0),D.y<0&&(D.y=J),D.y>J&&(D.y=0)},be=D=>{if(!l.value)return;l.value.save(),l.value.translate(D.x,D.y),l.value.rotate(D.angle),l.value.strokeStyle=D.color,l.value.lineWidth=.5;const z=D.size*.6,J=D.size*.5,se=D.size*1.3,xe=D.size*.9,Ae=D.size*1.5,Me=D.size*0,Le=-D.size*1.8;if(l.value.fillStyle=D.color,l.value.beginPath(),l.value.ellipse(Le,0,se,xe,0,0,Math.PI*2),l.value.fill(),l.value.fillStyle=D.color,l.value.beginPath(),l.value.ellipse(Me,0,J,J*1.4,0,0,Math.PI*2),l.value.fill(),l.value.beginPath(),l.value.arc(Ae,0,z,0,Math.PI*2),l.value.fill(),l.value.beginPath(),l.value.moveTo(Ae+z*.5,-z*.3),l.value.lineTo(Ae+z*2.5,-z*1.8),l.value.stroke(),l.value.beginPath(),l.value.moveTo(Ae+z*.5,z*.3),l.value.lineTo(Ae+z*2.5,z*1.8),l.value.stroke(),D.hasFood){const lt=Ae+z*1.2,vt=0,Ke=z*.8;l.value.save(),l.value.translate(lt,vt);const To=D.x*D.y%6.28;l.value.rotate(To),l.value.fillStyle="#7CB342",l.value.beginPath(),l.value.moveTo(0,0),l.value.lineTo(-Ke*.5,-Ke*.2),l.value.lineTo(-Ke*.7,-Ke*.1),l.value.lineTo(-Ke*.6,Ke*.1),l.value.lineTo(-Ke*.8,Ke*.3),l.value.lineTo(-Ke*.5,Ke*.4),l.value.quadraticCurveTo(0,Ke*.5,Ke*.5,Ke*.3),l.value.quadraticCurveTo(Ke*.7,0,Ke*.4,-Ke*.4),l.value.closePath(),l.value.fill(),l.value.strokeStyle="#558B2F",l.value.lineWidth=.5,l.value.beginPath(),l.value.moveTo(0,0),l.value.quadraticCurveTo(Ke*.2,Ke*.1,Ke*.3,Ke*.2),l.value.stroke(),l.value.beginPath(),l.value.moveTo(0,0),l.value.quadraticCurveTo(-Ke*.2,-Ke*.1,-Ke*.3,-Ke*.2),l.value.stroke(),l.value.restore()}const Ue=D.size*1.9,Oe=D.legPhase,Je=Math.sin(Oe)*.4,Fe=Math.sin(Oe+Math.PI*.66)*.4,nt=Math.sin(Oe+Math.PI*1.33)*.4;l.value.beginPath(),l.value.moveTo(Me+J,J*.7),l.value.lineTo(Me+J+Je*D.size,J+Ue*.8),l.value.stroke(),l.value.beginPath(),l.value.moveTo(Me+J,-J*.7),l.value.lineTo(Me+J-Je*D.size,-J-Ue*.8),l.value.stroke(),l.value.beginPath(),l.value.moveTo(Me,J*.8),l.value.lineTo(Me+Fe*D.size,J+Ue),l.value.stroke(),l.value.beginPath(),l.value.moveTo(Me,-J*.8),l.value.lineTo(Me-Fe*D.size,-J-Ue),l.value.stroke(),l.value.beginPath(),l.value.moveTo(Me-J,J*.7),l.value.lineTo(Me-J+nt*D.size,J+Ue*.8),l.value.stroke(),l.value.beginPath(),l.value.moveTo(Me-J,-J*.7),l.value.lineTo(Me-J-nt*D.size,-J-Ue*.8),l.value.stroke(),l.value.restore()},R=()=>{!l.value||!x.value||w.value.forEach((D,z)=>{const J=D.x,se=D.y;if(l.value.save(),l.value.translate(J,se),l.value.rotate(D.value%6.28),l.value.fillStyle="#7CB342",S.value===z){const Le=D.size*2.5,Ue=l.value.createRadialGradient(0,0,D.size,0,0,Le);Ue.addColorStop(0,"rgba(255, 215, 0, 0.6)"),Ue.addColorStop(1,"rgba(255, 215, 0, 0)"),l.value.fillStyle=Ue,l.value.beginPath(),l.value.arc(0,0,Le,0,Math.PI*2),l.value.fill(),l.value.fillStyle="#8BC34A"}l.value.beginPath();const xe=D.size*1.8,Ae=D.size*.9;l.value.moveTo(0,xe*.5);for(let Le=0;Le<5;Le++){const Ue=Ae*Math.sin(Le/4*Math.PI),Oe=xe*.5-xe*(Le/4),Je=Ue+Ae*.3,Fe=Oe+xe*.05;l.value.quadraticCurveTo(Je,Fe,Ue,Oe)}l.value.lineTo(0,-xe*.5);for(let Le=4;Le>=0;Le--){const Ue=-Ae*Math.sin(Le/4*Math.PI),Oe=xe*.5-xe*(Le/4),Je=Ue-Ae*.3,Fe=Oe+xe*.05;l.value.quadraticCurveTo(Je,Fe,Ue,Oe)}if(l.value.closePath(),l.value.fill(),S.value===z){const Le=Date.now()%1e3/1e3,Ue=.5+Math.sin(Le*Math.PI*2)*.5;l.value.strokeStyle=`rgba(255, 215, 0, ${Ue})`,l.value.lineWidth=2,l.value.stroke()}l.value.strokeStyle="#558B2F",l.value.lineWidth=2,l.value.beginPath(),l.value.moveTo(0,xe*.5),l.value.lineTo(0,xe*.7),l.value.stroke(),l.value.strokeStyle="#558B2F",l.value.lineWidth=.8,l.value.beginPath(),l.value.moveTo(0,xe*.5),l.value.lineTo(0,-xe*.45),l.value.stroke();const Me=3+Math.floor(D.size/8);for(let Le=0;Le<Me;Le++){const Ue=xe*.3-Le*xe*.6/Me,Oe=Ae*.7*(1-Math.abs(Ue)/(xe*.5));l.value.beginPath(),l.value.moveTo(0,Ue),l.value.quadraticCurveTo(Oe*.5,Ue-Ue*.2,Oe,Ue-Ue*.3),l.value.stroke(),l.value.beginPath(),l.value.moveTo(0,Ue),l.value.quadraticCurveTo(-Oe*.5,Ue-Ue*.2,-Oe,Ue-Ue*.3),l.value.stroke()}l.value.fillStyle="#8D6E63";for(let Le=0;Le<D.seeds.length;Le+=3)if(Le<D.seeds.length){const Ue=D.seeds[Le],Oe=Math.cos(Ue.angle)*Ue.distance*.5,Je=Math.sin(Ue.angle)*Ue.distance*.8;Math.abs(Oe)<Ae*Math.cos(Math.PI*Math.abs(Je)/xe)&&(l.value.beginPath(),l.value.arc(Oe,Je,Ue.size*.7,0,Math.PI*2),l.value.fill())}l.value.restore()})},H=()=>{if(!l.value||!a.value)return;const D=a.value.width/2,z=a.value.height/2,J=30;l.value.fillStyle="#8B4513",l.value.beginPath(),l.value.arc(D,z,J,0,Math.PI*2),l.value.fill(),l.value.fillStyle="#3E2723",l.value.beginPath(),l.value.arc(D,z,10,0,Math.PI*2),l.value.fill(),l.value.fillStyle="#A0522D",X.value.forEach(se=>{l.value.beginPath(),l.value.arc(D+se.x,z+se.y,se.size,0,Math.PI*2),l.value.fill()}),l.value.strokeStyle="#5D4037",l.value.lineWidth=1.5,j.value.forEach(se=>{l.value.beginPath(),l.value.moveTo(D,z),l.value.quadraticCurveTo(D+se.controlX,z+se.controlY,D+se.endX,z+se.endY),l.value.stroke()})},ve=()=>{var se;if(!l.value||!((se=we.value)!=null&&se.active))return;const D=we.value.x,z=we.value.y;we.value.isDragging;const J=l.value.createRadialGradient(D,z,Do*.3,D,z,Do);J.addColorStop(0,"rgba(255, 220, 50, 0.15)"),J.addColorStop(1,"rgba(255, 220, 50, 0)"),l.value.fillStyle=J,l.value.beginPath(),l.value.arc(D,z,Do,0,Math.PI*2),l.value.fill(),Se.value&&Se.value.complete&&l.value.drawImage(Se.value,D-60/2,z-60/2+25,60,60)},ye=()=>{if(!l.value||!a.value)return;const D=()=>{var se;if(!l.value||!a.value)return;const z=a.value.width,J=a.value.height;l.value.clearRect(0,0,z,J),H(),x.value&&R(),M.value&&S.value!==null||(se=we.value)!=null&&se.active&&ve(),Math.random()<.05&&re(),le.value.forEach(xe=>{V(xe,z,J),be(xe)}),i.value=requestAnimationFrame(D)};D()};return(D,z)=>{var J,se,xe,Ae;return p(),g("div",GF,[r("div",{ref_key:"containerRef",ref:u,class:"sim-container absolute inset-0 w-full h-full"},[r("canvas",{ref_key:"canvasRef",ref:a,class:"block w-full h-full"},null,512)],512),r("div",VF,[r("button",{onClick:z[0]||(z[0]=Me=>d.value=!d.value),class:ee(["bg-amber-100/90 dark:bg-gray-800/90 shadow-md p-2 rounded-full hover:bg-amber-200 dark:hover:bg-gray-700 transition-colors backdrop-blur-sm",{"bg-amber-200 dark:bg-gray-700":d.value}]),"aria-label":d.value?"Close info panel":"Open info panel"},[d.value?(p(),g("span",zF)):(p(),g("span",XF))],10,WF)]),d.value?(p(),g("div",{key:0,class:ee(["absolute top-14 right-3 z-10 max-w-xs transition-all duration-200 ease-in-out",{"translate-x-0 opacity-100":d.value,"translate-x-full opacity-0":!d.value}])},[r("div",KF,[z[10]||(z[10]=r("h1",{class:"text-sm font-bold"},"Ant Colony Simulation",-1)),r("p",YF,v(W.value)+" ants representing "+v(k.value)+" workers ",1),r("div",JF,[(J=we.value)!=null&&J.active?(p(),g("p",ZF," Scattering ants... drag to continue scattering! ")):M.value?(p(),g("p",eU," Dragging food... Release to place it. ")):(p(),g("p",tU,[z[6]||(z[6]=r("span",{class:"font-medium"},"Interactions:",-1)),z[7]||(z[7]=r("span",{class:"block mt-0.5 text-[10px]"}," Tap/drag on screen to scatter ants",-1)),x.value?(p(),g("span",rU," Drag green leaves to move food")):G("",!0)]))]),r("div",oU,[r("div",sU,[r("div",null,[r("label",nU,"Speed: "+v(U.value)+"x",1),tt(r("input",{type:"range",id:"speed-control","onUpdate:modelValue":z[1]||(z[1]=Me=>b.value=Me),min:"0.1",max:"3",step:"0.1",class:"w-full h-1.5 bg-amber-200 dark:bg-amber-900/50 rounded-lg appearance-none cursor-pointer"},null,512),[[oo,b.value,void 0,{number:!0}]])]),r("div",aU,[tt(r("input",{type:"checkbox",id:"food-toggle","onUpdate:modelValue":z[2]||(z[2]=Me=>x.value=Me),class:"w-3 h-3 text-amber-600 rounded border-amber-300 dark:border-amber-700 focus:ring-amber-500"},null,512),[[Mt,x.value]]),r("label",lU,[z[8]||(z[8]=Y(" Food Sources ")),x.value?(p(),g("span",iU,"("+v(T.value)+")",1)):G("",!0)])]),c.value?(p(),g("div",uU,[r("button",{onClick:z[3]||(z[3]=Me=>m.value=!m.value),class:"text-xs flex items-center space-x-1 text-amber-700 dark:text-amber-400 hover:text-amber-900 dark:hover:text-amber-300"},[m.value?(p(),g("span",cU)):(p(),g("span",dU)),z[9]||(z[9]=r("span",null,"Advanced Settings",-1))]),m.value?(p(),g("div",mU,[r("div",null,[r("label",pU,"Ant Size: "+v(q.value)+"x",1),tt(r("input",{type:"range",id:"size-control","onUpdate:modelValue":z[4]||(z[4]=Me=>h.value=Me),min:"0.5",max:"2",step:"0.1",class:"w-full h-1.5 bg-amber-200 dark:bg-amber-900/50 rounded-lg appearance-none cursor-pointer"},null,512),[[oo,h.value,void 0,{number:!0}]])]),r("div",fU,[r("div",null,"Window: "+v(f(o))+"x"+v(f(n))+"px",1),r("div",null,"Canvas: "+v(((se=a.value)==null?void 0:se.width)||0)+"x"+v(((xe=a.value)==null?void 0:xe.height)||0)+"px",1),r("div",null,"Food Spots: "+v(T.value),1),M.value?(p(),g("div",gU,"Dragging: Food #"+v(S.value),1)):G("",!0),(Ae=we.value)!=null&&Ae.active?(p(),g("div",vU,"Scattering active")):G("",!0)])])):G("",!0)])):G("",!0)])])])],2)):G("",!0),d.value&&f(o)<640?(p(),g("div",{key:1,class:"fixed inset-0 z-5",onClick:z[5]||(z[5]=Ye(Me=>d.value=!1,["stop"]))})):G("",!0)])}}}),hU=We(bU,[["__scopeId","data-v-c9dc4917"]]),xU="/assets/farm-bg-C4Ph_Hc7.png",yU={class:"text-center"},kU={class:"bg-amber-100/70 dark:bg-amber-900/20 p-4 rounded-lg shadow-md mb-4"},_U={class:"mt-3 flex flex-wrap justify-center items-center gap-2"},wU={class:"flex justify-center items-center gap-2 bg-amber-200/70 dark:bg-amber-800/50 py-2 px-4 rounded-full"},$U={class:"font-bold"},CU={class:"flex justify-center items-center gap-2 bg-blue-200/70 dark:bg-blue-800/50 py-2 px-4 rounded-full"},SU={class:"font-bold"},AU={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},EU={class:"bg-amber-50/70 dark:bg-amber-950/30 p-4 rounded-lg shadow lg:col-span-2"},MU={class:"flex flex-wrap items-center justify-between gap-2 mb-4"},PU={class:"flex flex-wrap items-center gap-2"},TU=["disabled"],LU={class:"bg-amber-200/50 dark:bg-amber-800/50 rounded px-2 py-1 flex items-center gap-1"},IU=["value"],FU=["value"],UU=["disabled"],RU=["disabled"],DU=["disabled"],qU=["disabled"],NU={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},OU=["onClick"],BU={class:"relative z-10 h-full flex flex-col justify-between"},QU={class:"flex justify-between items-start"},jU={class:"bg-amber-900/10 dark:bg-amber-900/30 px-2 py-0.5 rounded text-xs"},HU={class:"bg-amber-900/10 dark:bg-amber-900/30 px-2 py-0.5 rounded text-xs"},GU={class:"text-center flex-grow flex flex-col justify-center items-center"},VU={key:0,class:"i-heroicons-star text-yellow-500 text-xs",title:"This aphid has active upgrades"},WU={class:"text-xs"},zU={class:"text-xs mt-1"},XU={class:"text-xs text-amber-600 dark:text-amber-400"},KU={key:2,class:"my-1 flex flex-col items-center gap-1"},YU={class:"text-xs bg-green-100 dark:bg-green-900 px-2 py-0.5 rounded-full flex items-center gap-1"},JU={key:0,class:"flex items-center gap-1 bg-green-50 dark:bg-green-950 rounded-full px-2 py-0.5 mt-1 aphid-selector-wrapper"},ZU={class:"relative select-wrapper"},e9={key:0,class:"absolute inset-0 flex items-center justify-center pointer-events-none"},t9=["value","onChange"],r9=["value"],o9={class:"flex justify-center gap-2 flex-wrap"},s9=["onClick","disabled"],n9=["onClick"],a9=["onClick"],l9={key:2,class:"text-xs px-2 py-1 rounded bg-green-200/50 hover:bg-green-300/50 dark:bg-green-700/50 dark:hover:bg-green-600/50 transition-colors flex items-center gap-1 cursor-not-allowed",disabled:""},i9={key:0},u9={key:1},c9={class:"flex justify-between items-center mb-2"},d9={class:"grid grid-cols-1 gap-2 max-h-[calc(100%-2.5rem)] overflow-y-auto pr-1 custom-scrollbar"},m9=["onClick"],p9={class:"flex gap-2 text-2xs"},f9={class:"bg-amber-50/70 dark:bg-amber-950/30 p-4 rounded-lg shadow"},g9={class:"flex border-b border-amber-200 dark:border-amber-800 mb-4"},v9={key:0},b9={class:"grid grid-cols-1 gap-2 mb-4"},h9={class:"flex justify-between items-center"},x9={class:"flex gap-1"},y9=["onClick"],k9={class:"text-xs mt-1 opacity-80"},_9={class:"grid grid-cols-2 gap-1 mt-2 text-2xs"},w9={class:"bg-amber-900/10 dark:bg-amber-800/30 px-2 py-1 rounded"},$9={class:"font-medium"},C9={class:"bg-amber-900/10 dark:bg-amber-800/30 px-2 py-1 rounded"},S9={class:"font-medium"},A9={class:"grid grid-cols-1 gap-2"},E9={class:"flex justify-between items-center"},M9=["onClick","disabled"],P9={class:"text-xs mt-1 opacity-80"},T9={class:"grid grid-cols-2 gap-1 mt-2 text-2xs"},L9={class:"bg-amber-900/10 dark:bg-amber-800/30 px-2 py-1 rounded"},I9={class:"font-medium"},F9={class:"bg-amber-900/10 dark:bg-amber-800/30 px-2 py-1 rounded"},U9={class:"font-medium"},R9={key:1},D9={class:"flex flex-wrap gap-1 mb-4 justify-center"},q9=["onClick"],N9={class:"bg-amber-100/30 dark:bg-amber-900/20 p-3 rounded-lg mb-4"},O9={class:"grid grid-cols-1 gap-3 max-h-[60vh] overflow-y-auto pr-1 custom-scrollbar"},B9={class:"flex justify-between items-start"},Q9={class:"font-medium text-sm"},j9={class:"text-xs bg-amber-100 dark:bg-amber-900 px-1.5 py-0.5 rounded-full"},H9={class:"text-xs my-1 opacity-85"},G9={class:"flex justify-between items-center mt-2"},V9=["onClick","disabled"],W9={key:1,class:"text-xs px-2 py-1 rounded bg-green-200 dark:bg-green-900 text-green-700 dark:text-green-300"},z9=Ie({__name:"AphidFarmPage",setup(e){const t=$r(),{showToast:o}=Ot(),{formattedHoneydew:n,formatHoneydew:a,canAffordHoneydew:l}=fn(),i=B(null),u=B(!1),c=ue=>{if(!i.value||u.value){u.value=!1;return}i.value=null};He(()=>{document.addEventListener("click",c)}),er(()=>{document.removeEventListener("click",c)});const d=B("greenleaf"),m=B("types"),b=L(()=>t.selectedAphidType),x=()=>{const ue=t.calculateNewFieldCost();t.buyNewField()?o(`Purchased new field for ${a(ue)} honeydew!`,"success"):o(`Not enough honeydew! Need ${a(ue)} honeydew.`,"error")},h=ue=>{const Z=t.fields.find(de=>de.id===ue);if(Z){if(Z.isHarvestable&&Z.type){const de=t.harvestField(ue);o(`Harvested ${a(de)} honeydew!`,"success"),i.value=ue,u.value=!0;return}i.value===ue?i.value=null:(i.value=ue,u.value=!0)}},C=(ue,Z)=>{t.plantAphid(ue,Z)?(o(`Planted ${t.APHID_TYPES[Z].name}!`,"success"),i.value=null):o("Failed to plant aphid. Make sure it's unlocked.","error")},w=()=>{if(!b.value){o("Please select an aphid type first","error");return}let ue=0;t.fields.forEach(Z=>{(!Z.type||Z.type&&Z.isHarvestable&&Z.progress===0)&&t.plantAphid(Z.id,b.value)&&ue++}),ue>0?o(`Planted ${t.APHID_TYPES[b.value].name} in ${ue} fields!`,"success"):o("No fields available for planting","info")},M=()=>{let ue=s(0),Z=0;t.fields.forEach(de=>{if(de.isHarvestable&&de.type){const oe=t.harvestField(de.id);ue=ue.add(oe),Z++}}),Z>0?o(`Harvested ${a(ue)} honeydew from ${Z} fields!`,"success"):o("No fields ready for harvest","info")},S=()=>{const ue=t.calculatePlantAllCost();t.unlockPlantAll()?o(`Unlocked Plant All ability for ${a(ue)} honeydew!`,"success"):o(`Not enough honeydew! Need ${a(ue)} honeydew.`,"error")},_=()=>{const ue=t.calculateHarvestAllCost();t.unlockHarvestAll()?o(`Unlocked Harvest All ability for ${a(ue)} honeydew!`,"success"):o(`Not enough honeydew! Need ${a(ue)} honeydew.`,"error")},y=ue=>{const Z=t.fields.find(oe=>oe.id===ue);if(!Z)return;const de=t.getFieldUpgradeCost(ue);t.upgradeField(ue)?o(`Field upgraded to level ${Z.level}!`,"success"):o(`Not enough honeydew! Need ${a(de)} honeydew.`,"error")},P=ue=>{const Z=t.APHID_TYPES[ue];t.unlockAphidType(ue)?o(`Unlocked ${Z.name}!`,"success"):o(`Not enough honeydew! Need ${a(Z.unlockCost)} honeydew.`,"error")},I=ue=>t.unlockedAphidTypes.has(ue),U=L(()=>Object.entries(t.APHID_TYPES).filter(([ue])=>I(ue)).map(([ue,Z])=>({type:ue,...Z}))),q=L(()=>Object.entries(t.APHID_TYPES).filter(([ue])=>!I(ue)).map(([ue,Z])=>({type:ue,...Z})).sort((ue,Z)=>ue.unlockCost.cmp(Z.unlockCost))),k=ue=>{const Z=t.fields.find(oe=>oe.id===ue);if(!Z)return"";const de=["border-2","rounded-lg","p-3","flex","flex-col","justify-between","transition-all","relative","overflow-hidden","cursor-pointer"];if(Z.type){const oe=t.APHID_TYPES[Z.type].color.split("-")[1];de.push(`border-${oe}-${Z.isHarvestable?"500":"300"}`)}else de.push("border-amber-300");return Z.hasAutoFarming&&Z.autoFarmingEnabled?de.push("h-48"):Z.hasAutoFarming?de.push("h-44"):de.push("h-40"),de.join(" ")},W=ue=>{const Z=t.fields.find(te=>te.id===ue);if(!Z||!Z.type||Z.isHarvestable)return"";const de=t.getAphidGrowthTime(Z.type);return`${Math.ceil(de*(1-Z.progress))} trips remaining`},le=L(()=>t.fields.filter(ue=>ue.isHarvestable).length),X=L(()=>t.fields.filter(ue=>!ue.type||ue.type&&ue.progress===0&&ue.isHarvestable).length),j=ue=>{const Z=t.fields.find(oe=>oe.id===ue);if(!Z)return;const de=t.calculateAutoFarmingCost(ue);t.purchaseAutoFarming(ue)?o(`Auto farming activated for Field ${ue.replace("field","")}!`,"success"):Z.level<10?o("Field must be level 10 to unlock auto farming.","error"):o(`Not enough honeydew! Need ${a(de)} honeydew.`,"error")},T=ue=>{const Z=t.fields.find(de=>de.id===ue);!Z||!Z.hasAutoFarming||t.toggleAutoFarming(ue)&&o(`Auto farming ${Z.autoFarmingEnabled?"enabled":"disabled"} for Field ${ue.replace("field","")}.`,"success")},K=(ue,Z)=>{const de=t.fields.find(oe=>oe.id===ue);!de||!de.hasAutoFarming||t.setPreferredAphidType(ue,Z)&&o(`Set ${t.APHID_TYPES[Z].name} as preferred type for auto farming.`,"success")},fe=ue=>{const Z=t.fields.find(de=>de.id===ue);return Z?Z.level>=10:!1},we=ue=>{const Z=t.aphidUpgrades.find(te=>te.id===ue);if(!Z)return;const de=t.calculateUpgradeCost(ue),oe=t.getUpgradeLevel(ue);t.purchaseUpgrade(ue)?o(`Upgraded ${Z.name} to level ${oe+1}!`,"success"):o(`Not enough honeydew! Need ${a(de)} honeydew.`,"error")},Se=L(()=>Object.entries(t.APHID_TYPES).filter(([ue])=>t.unlockedAphidTypes.has(ue)).map(([ue,Z])=>({type:ue,...Z}))),pe=L(()=>t.aphidUpgrades.filter(ue=>ue.aphidType===d.value)),ce=ue=>{const Z=t.aphidUpgrades.find(oe=>oe.id===ue);return Z?`${t.getUpgradeLevel(ue)}/${Z.maxLevel}`:""},ke=ue=>t.aphidUpgrades.filter(de=>de.aphidType===ue).some(de=>t.getUpgradeLevel(de.id)>0);return(ue,Z)=>(p(),g("div",yU,[r("div",kU,[Z[10]||(Z[10]=r("h1",{class:"text-xl font-bold mb-2"},"Aphid Farm",-1)),Z[11]||(Z[11]=r("p",{class:"text-sm text-amber-800 dark:text-amber-300"},' Your ants have discovered that they can "farm" aphids for their sweet honeydew secretions! ',-1)),r("div",_U,[r("div",wU,[Z[6]||(Z[6]=r("span",{class:"i-heroicons-beaker text-amber-600 dark:text-amber-300"},null,-1)),r("span",$U,v(f(n)),1),Z[7]||(Z[7]=r("span",{class:"text-xs text-amber-700 dark:text-amber-400"},"honeydew",-1))]),r("div",CU,[Z[8]||(Z[8]=r("span",{class:"i-heroicons-square-2-stack text-blue-600 dark:text-blue-300"},null,-1)),r("span",SU,v(f(t).fields.length),1),Z[9]||(Z[9]=r("span",{class:"text-xs text-blue-700 dark:text-blue-400"},"fields",-1))])])]),r("div",AU,[r("div",EU,[r("div",MU,[Z[18]||(Z[18]=r("h2",{class:"text-lg font-semibold"},"Aphid Fields",-1)),r("div",PU,[r("button",{class:ee(["text-xs px-2 py-1 rounded bg-blue-200 hover:bg-blue-300 dark:bg-blue-700 dark:hover:bg-blue-600 transition-colors flex items-center gap-1",{"opacity-50 cursor-not-allowed":!f(t).canBuyNewField()}]),onClick:x,disabled:!f(t).canBuyNewField()},[Z[12]||(Z[12]=r("span",{class:"i-heroicons-plus text-blue-700 dark:text-blue-300"},null,-1)),Y(" Buy Field ("+v(f(a)(f(t).calculateNewFieldCost()))+") ",1)],10,TU),r("div",LU,[Z[13]||(Z[13]=r("label",{for:"aphid-select",class:"text-xs"},"Quick select:",-1)),r("select",{id:"aphid-select",value:b.value,onChange:Z[0]||(Z[0]=de=>f(t).selectedAphidType=de.target.value),class:"bg-transparent border-0 text-xs focus:ring-0 cursor-pointer"},[(p(!0),g($e,null,Te(U.value,de=>(p(),g("option",{key:de.id,value:de.type,class:ee(de.color)},v(de.name),11,FU))),128))],40,IU)]),f(t).hasPlantAllUnlocked?(p(),g("button",{key:0,class:ee(["text-xs px-2 py-1 rounded bg-green-200 hover:bg-green-300 dark:bg-green-700 dark:hover:bg-green-600 transition-colors flex items-center gap-1",{"opacity-50 cursor-not-allowed":X.value===0}]),onClick:w,disabled:X.value===0},[Z[14]||(Z[14]=r("span",{class:"i-heroicons-plus-circle text-green-700 dark:text-green-300"},null,-1)),Y(" Plant All ("+v(X.value)+") ",1)],10,UU)):(p(),g("button",{key:1,class:ee(["text-xs px-2 py-1 rounded bg-green-200 hover:bg-green-300 dark:bg-green-700 dark:hover:bg-green-600 transition-colors flex items-center gap-1",{"opacity-50 cursor-not-allowed":!f(t).canUnlockPlantAll()}]),onClick:S,disabled:!f(t).canUnlockPlantAll()},[Z[15]||(Z[15]=r("span",{class:"i-heroicons-lock-open text-green-700 dark:text-green-300"},null,-1)),Y(" Unlock Plant All ("+v(f(a)(f(t).calculatePlantAllCost()))+") ",1)],10,RU)),f(t).hasHarvestAllUnlocked?(p(),g("button",{key:2,class:ee(["text-xs px-2 py-1 rounded bg-amber-200 hover:bg-amber-300 dark:bg-amber-700 dark:hover:bg-amber-600 transition-colors flex items-center gap-1",{"opacity-50 cursor-not-allowed":le.value===0}]),onClick:M,disabled:le.value===0},[Z[16]||(Z[16]=r("span",{class:"i-heroicons-scissors text-amber-700 dark:text-amber-300"},null,-1)),Y(" Harvest All ("+v(le.value)+") ",1)],10,DU)):(p(),g("button",{key:3,class:ee(["text-xs px-2 py-1 rounded bg-amber-200 hover:bg-amber-300 dark:bg-amber-700 dark:hover:bg-amber-600 transition-colors flex items-center gap-1",{"opacity-50 cursor-not-allowed":!f(t).canUnlockHarvestAll()}]),onClick:_,disabled:!f(t).canUnlockHarvestAll()},[Z[17]||(Z[17]=r("span",{class:"i-heroicons-lock-open text-amber-700 dark:text-amber-300"},null,-1)),Y(" Unlock Harvest All ("+v(f(a)(f(t).calculateHarvestAllCost()))+") ",1)],10,qU))])]),r("div",NU,[(p(!0),g($e,null,Te(f(t).fields,de=>(p(),g("div",{key:de.id,class:"relative"},[r("div",{class:ee(k(de.id)),style:je({backgroundImage:`url(${f(xU)})`,backgroundSize:"cover",backgroundPosition:"center"}),onClick:oe=>h(de.id)},[Z[25]||(Z[25]=r("div",{class:"absolute inset-0 bg-black opacity-50"},null,-1)),de.type&&!de.isHarvestable?(p(),g("div",{key:0,class:"absolute bottom-0 left-0 right-0 transition-all",style:je({height:`${f(t).getFieldProgressPercentage(de.id)}%`,backgroundColor:de.type?`var(--${f(t).APHID_TYPES[de.type].color.split("-")[1]}-500)`:"transparent",opacity:"0.3"})},null,4)):G("",!0),r("div",BU,[r("div",QU,[r("span",jU," Field "+v(de.id.replace("field","")),1),r("span",HU," Level "+v(de.level),1)]),r("div",GU,[de.type?(p(),g($e,{key:0},[r("span",{class:ee([f(t).APHID_TYPES[de.type].color,"text-lg font-semibold flex items-center gap-1"])},[Y(v(f(t).APHID_TYPES[de.type].name)+" ",1),ke(de.type)?(p(),g("span",VU)):G("",!0)],2),de.isHarvestable?(p(),g($e,{key:0},[Z[19]||(Z[19]=r("span",{class:"text-xs mt-1 font-medium text-green-600 dark:text-green-400"},"Ready to harvest!",-1)),r("span",WU,v(f(a)(f(t).getAphidYield(de.type,de.level)))+" honeydew ",1)],64)):(p(),g($e,{key:1},[r("span",zU,v(f(t).getFieldProgressPercentage(de.id))+"% grown ",1),r("span",XU,v(W(de.id)),1)],64))],64)):(p(),g($e,{key:1},[Z[20]||(Z[20]=r("span",{class:"text-sm opacity-70"},"Empty Field",-1)),Z[21]||(Z[21]=r("span",{class:"text-xs mt-1 opacity-70"},"Plant aphids here",-1))],64)),de.hasAutoFarming?(p(),g("div",KU,[r("span",YU,[r("span",{class:ee(de.autoFarmingEnabled?"i-heroicons-play-circle text-green-600":"i-heroicons-pause-circle text-amber-600")},null,2),Y(" Auto Farming "+v(de.autoFarmingEnabled?"On":"Off"),1)]),de.autoFarmingEnabled?(p(),g("div",JU,[Z[22]||(Z[22]=r("span",{class:"text-2xs text-green-700 dark:text-green-300"},"Auto type:",-1)),r("div",ZU,[de.preferredAphidType?(p(),g("div",e9,[r("span",{class:ee(["text-2xs font-medium",de.preferredAphidType?f(t).APHID_TYPES[de.preferredAphidType].color:""])},v(de.preferredAphidType?f(t).APHID_TYPES[de.preferredAphidType].name:""),3)])):G("",!0),r("select",{class:"text-2xs bg-transparent border-0 p-0 focus:ring-0 cursor-pointer w-24 h-5 text-center styled-select opacity-0",value:de.preferredAphidType,onChange:oe=>K(de.id,oe.target.value),onClick:Z[1]||(Z[1]=Ye(()=>{},["stop"]))},[(p(!0),g($e,null,Te(U.value,oe=>(p(),g("option",{key:oe.id,value:oe.type,style:je({backgroundColor:`var(--${oe.color.split("-")[1]}-100)`,color:`var(--${oe.color.split("-")[1]}-800)`,fontWeight:"bold"})},v(oe.name),13,r9))),128))],40,t9)])])):G("",!0)])):G("",!0)]),r("div",o9,[r("button",{class:ee(["text-xs px-2 py-1 rounded bg-amber-200 hover:bg-amber-300 dark:bg-amber-700 dark:hover:bg-amber-600 transition-colors",{"opacity-50 cursor-not-allowed":!f(t).canUpgradeField(de.id)}]),onClick:Ye(oe=>y(de.id),["stop"]),disabled:!f(t).canUpgradeField(de.id)}," Upgrade ("+v(f(a)(f(t).getFieldUpgradeCost(de.id)))+") ",11,s9),de.hasAutoFarming?(p(),g("button",{key:0,class:"text-xs px-2 py-1 rounded bg-green-200 hover:bg-green-300 dark:bg-green-700 dark:hover:bg-green-600 transition-colors flex items-center gap-1",onClick:Ye(oe=>T(de.id),["stop"])},[r("span",{class:ee(de.autoFarmingEnabled?"i-heroicons-pause":"i-heroicons-play")},null,2),Y(" "+v(de.autoFarmingEnabled?"Pause Auto":"Start Auto"),1)],8,n9)):fe(de.id)&&f(t).canPurchaseAutoFarming(de.id)?(p(),g("button",{key:1,class:"text-xs px-2 py-1 rounded bg-green-200 hover:bg-green-300 dark:bg-green-700 dark:hover:bg-green-600 transition-colors flex items-center gap-1",onClick:Ye(oe=>j(de.id),["stop"])},[Z[23]||(Z[23]=r("span",{class:"i-heroicons-bolt text-green-700 dark:text-green-300"},null,-1)),r("span",null,"Auto Farm ("+v(f(a)(f(t).calculateAutoFarmingCost(de.id)))+")",1)],8,a9)):(p(),g("button",l9,[Z[24]||(Z[24]=r("span",{class:"i-heroicons-bolt text-green-700/50 dark:text-green-300/50"},null,-1)),fe(de.id)?(p(),g("span",u9,"Auto Farm ("+v(f(a)(f(t).calculateAutoFarmingCost(de.id)))+")",1)):(p(),g("span",i9,"Auto Farm (Lvl 10+)"))]))])])],14,OU),i.value===de.id?(p(),g("div",{key:0,class:"absolute inset-0 bg-amber-50/95 dark:bg-amber-900/95 rounded-lg border-2 border-amber-400 shadow-lg z-20 p-2 overflow-hidden",style:{"max-height":"100%","max-width":"100%"},onClick:Z[3]||(Z[3]=Ye(()=>{},["stop"]))},[r("div",c9,[Z[27]||(Z[27]=r("h3",{class:"font-semibold"}," Select Aphid ",-1)),r("button",{class:"text-amber-700 dark:text-amber-300 hover:text-amber-900 dark:hover:text-amber-100",onClick:Z[2]||(Z[2]=Ye(oe=>i.value=null,["stop"]))},Z[26]||(Z[26]=[r("span",{class:"i-heroicons-x-mark"},null,-1)]))]),r("div",d9,[(p(!0),g($e,null,Te(U.value,oe=>(p(),g("button",{key:oe.id,class:"text-left px-2 py-1.5 rounded flex items-center gap-1.5 hover:bg-amber-200/50 dark:hover:bg-amber-800/50 transition-colors text-sm",onClick:te=>C(de.id,oe.type)},[r("span",{class:ee([oe.color])},"",2),r("div",null,[r("div",null,v(oe.name),1),r("div",p9,[r("span",null,"Yield: "+v(f(a)(oe.baseYield)),1),r("span",null,"Time: "+v(oe.growthTime)+" trips",1)])])],8,m9))),128))])])):G("",!0)]))),128))])]),r("div",f9,[r("div",g9,[r("button",{class:ee(["px-4 py-2 font-medium text-sm mr-2 focus:outline-none",{"border-b-2 border-amber-500 text-amber-700 dark:text-amber-400":m.value==="types"}]),onClick:Z[4]||(Z[4]=de=>m.value="types")}," Aphid Types ",2),r("button",{class:ee(["px-4 py-2 font-medium text-sm focus:outline-none",{"border-b-2 border-amber-500 text-amber-700 dark:text-amber-400":m.value==="upgrades"}]),onClick:Z[5]||(Z[5]=de=>m.value="upgrades")}," Upgrades ",2)]),m.value==="types"?(p(),g("div",v9,[Z[34]||(Z[34]=r("h2",{class:"text-lg font-semibold mb-4"},"Aphid Types",-1)),Z[35]||(Z[35]=r("h3",{class:"text-sm font-medium border-b border-amber-200 dark:border-amber-800 pb-1 mb-2"},"Available Aphids",-1)),r("div",b9,[(p(!0),g($e,null,Te(U.value,de=>(p(),g("div",{key:de.id,class:"p-2 rounded bg-amber-100/50 dark:bg-amber-900/30 flex flex-col"},[r("div",h9,[r("span",{class:ee([de.color,"font-medium"])},v(de.name),3),r("div",x9,[r("button",{class:"text-xs px-1.5 py-0.5 rounded bg-green-200 hover:bg-green-300 dark:bg-green-700 dark:hover:bg-green-600 transition-colors flex items-center gap-1",onClick:oe=>{d.value=de.type,m.value="upgrades"}},Z[28]||(Z[28]=[r("span",{class:"i-heroicons-arrow-up-circle text-green-700 dark:text-green-300"},null,-1),Y(" Upgrades ")]),8,y9),Z[29]||(Z[29]=r("span",{class:"text-xs px-1.5 py-0.5 rounded bg-amber-200/50 dark:bg-amber-800/50"}," Unlocked ",-1))])]),r("p",k9,v(de.description),1),r("div",_9,[r("div",w9,[Z[30]||(Z[30]=r("span",{class:"opacity-70"},"Yield:",-1)),r("span",$9,v(f(a)(de.baseYield)),1)]),r("div",C9,[Z[31]||(Z[31]=r("span",{class:"opacity-70"},"Growth:",-1)),r("span",S9,v(de.growthTime)+" trips",1)])])]))),128))]),Z[36]||(Z[36]=r("h3",{class:"text-sm font-medium border-b border-amber-200 dark:border-amber-800 pb-1 mb-2"},"Unlock New Aphids",-1)),r("div",A9,[(p(!0),g($e,null,Te(q.value,de=>(p(),g("div",{key:de.id,class:"p-2 rounded bg-amber-100/30 dark:bg-amber-900/20 flex flex-col"},[r("div",E9,[r("span",{class:ee([de.color,"font-medium"])},v(de.name),3),r("button",{class:ee(["text-xs px-1.5 py-0.5 rounded bg-amber-300 hover:bg-amber-400 dark:bg-amber-700 dark:hover:bg-amber-600 transition-colors",{"opacity-50 cursor-not-allowed":!f(l)(de.unlockCost)}]),onClick:oe=>P(de.type),disabled:!f(l)(de.unlockCost)}," Unlock ("+v(f(a)(de.unlockCost))+") ",11,M9)]),r("p",P9,v(de.description),1),r("div",T9,[r("div",L9,[Z[32]||(Z[32]=r("span",{class:"opacity-70"},"Yield:",-1)),r("span",I9,v(f(a)(de.baseYield)),1)]),r("div",F9,[Z[33]||(Z[33]=r("span",{class:"opacity-70"},"Growth:",-1)),r("span",U9,v(de.growthTime)+" trips",1)])])]))),128))])])):(p(),g("div",R9,[Z[38]||(Z[38]=r("h2",{class:"text-lg font-semibold mb-4"},"Aphid Upgrades",-1)),r("div",D9,[(p(!0),g($e,null,Te(Se.value,de=>(p(),g("button",{key:de.type,class:ee(["px-2 py-1 rounded text-xs",[de.color,d.value===de.type?"bg-amber-200 dark:bg-amber-800":"bg-amber-100 dark:bg-amber-900 opacity-70 hover:opacity-100"]]),onClick:oe=>d.value=de.type},v(de.name),11,q9))),128))]),r("div",N9,[r("h3",{class:ee([f(t).APHID_TYPES[d.value].color,"font-medium text-sm mb-2"])},v(f(t).APHID_TYPES[d.value].name)+" Upgrades ",3),r("div",O9,[(p(!0),g($e,null,Te(pe.value,de=>(p(),g("div",{key:de.id,class:"bg-amber-50 dark:bg-amber-950 p-3 rounded border border-amber-200 dark:border-amber-800"},[r("div",B9,[r("h4",Q9,v(de.name),1),r("span",j9," Level "+v(ce(de.id)),1)]),r("p",H9,v(f(t).getUpgradeDescription(de.id)),1),r("div",G9,[Z[37]||(Z[37]=r("div",{class:"text-xs opacity-70"}," Effect increases with each level ",-1)),f(t).getUpgradeLevel(de.id)<de.maxLevel?(p(),g("button",{key:0,class:ee(["text-xs px-2 py-1 rounded bg-amber-300 hover:bg-amber-400 dark:bg-amber-700 dark:hover:bg-amber-600 transition-colors",{"opacity-50 cursor-not-allowed":!f(t).canPurchaseUpgrade(de.id)}]),onClick:oe=>we(de.id),disabled:!f(t).canPurchaseUpgrade(de.id)}," Upgrade ("+v(f(a)(f(t).calculateUpgradeCost(de.id)))+") ",11,V9)):(p(),g("span",W9," Max Level "))])]))),128))])])]))])])]))}}),X9=We(z9,[["__scopeId","data-v-31f92958"]]);function kl(){const e="gdpr_consent_status",t=B(localStorage.getItem(e)||"pending");return{consentStatus:t,acceptConsent:()=>(t.value="accepted",localStorage.setItem(e,t.value),!0),declineConsent:()=>(t.value="declined",localStorage.setItem(e,t.value),!1),hasConsent:()=>t.value==="accepted",isPending:()=>t.value==="pending"}}var vn=function(){return typeof document<"u"&&typeof window<"u"},K9=function(t,o){return new Promise(function(n,a){var l=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");if(i.async=!0,i.src=t,i.charset="utf-8",o){var u=document.createElement("link");u.href=o,u.rel="preconnect",l.appendChild(u)}l.appendChild(i),i.onload=n,i.onerror=a})},Y9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Object.keys(o).forEach(function(n){t[n]=o[n]})},Ed=so({property:null,isEnabled:!0,disableScriptLoader:!1,useDebugger:!1,globalObjectName:"gtag",dataLayerName:"dataLayer",resourceURL:"https://ww232323w.goo33311212gleta23gma1212nager.com/gtag/js",preconnectOrigin:"https://ww121aw.goog125yaaweewe233letagma444nager.com",customResource:null,appName:null,appId:null,appVersion:null}),Br=function(){return Mu(Ed)},Md=L(function(){var e=Br(),t=e.property;if(t.value)return Array.isArray(t.value)?t.value.find(function(o){return o.default===!0})||t.value[0]:t.value}),J9=L(function(){var e=Br(),t=e.property;return!!(t.value&&t.value.id!==null)}),ls=L(function(){var e=Br(),t=e.property;return Array.isArray(t.value)?t.value:[t.value]}),Z9=L(function(){var e=Br(),t=e.isEnabled,o=Md.value;return!!(o&&o.id&&t.value)}),vs=function(){var e;if(vn()){for(var t=Br(),o=t.globalObjectName,n=t.useDebugger,a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];n.value&&console.warn("[vue-gtag] Debugger:",l),(e=window)[o.value].apply(e,l)}},_l=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];ls.value.forEach(function(n){vs.apply(void 0,["config",n.id].concat(t))})},eR=function(e){_l({custom_map:e})},tR=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;vn()&&ls.value.forEach(function(t){window["ga-disable-".concat(t.id)]=e})},lo=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=Object.assign({},t);!o.send_to&&ls.value.length>1&&(o.send_to=ls.value.map(function(n){return n.id})),vs("event",e,o)},rR=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];lo.apply(void 0,["exception"].concat(t))},oR=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];_l.apply(void 0,["linker"].concat(t))},sR=function(e){var t={};typeof e=="string"?t={page_path:e,page_location:window.location.href}:t=e,typeof t.send_page_view>"u"&&(t.send_page_view=!0),lo("page_view",t)},nR=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];lo.apply(void 0,["purchase"].concat(t))},aR=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];lo.apply(void 0,["refund"].concat(t))},lR=function(){for(var e=Br(),t=e.appName,o=e.appId,n=e.appVersion,a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];var u=l[0],c={};typeof u=="string"?c={screen_name:u}:c=u,c.app_name==null&&t.value!=null&&(c.app_name=t.value),c.app_id==null&&o.value!=null&&(c.app_id=o.value),c.app_version==null&&n.value!=null&&(c.app_version=n.value),lo("screen_view",c)},iR=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];vs.apply(void 0,["set"].concat(t))},uR=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];lo.apply(void 0,["timing_complete"].concat(t))},Pd=Object.freeze({__proto__:null,config:_l,customMap:eR,disable:tR,event:lo,exception:rR,linker:oR,pageview:sR,purchase:nR,query:vs,refund:aR,screenview:lR,set:iR,time:uR}),Yi=B(!1),Ji=B(!1),cR=function(){var t=Br(),o=t.disableScriptLoader,n=t.preconnectOrigin,a=t.resourceURL,l=t.dataLayerName;if(!(!vn()||!J9.value||Ji.value)){if(Ji.value=!0,ls.value.forEach(function(u){var c=Object.assign({send_page_view:!1},u.params);vs("config",u.id,c)}),o.value){Yi.value=!0;return}var i="".concat(a.value,"?id=").concat(Md.value.id,"&l=").concat(l.value);K9(i,n.value).then(function(){Yi.value=!0})}},dR=function(){De(function(){return Z9.value},function(t){return t&&cR()},{immediate:!0})},mR=function(){if(vn()){var e=Br(),t=e.globalObjectName,o=e.dataLayerName;window[t.value]==null&&(window[o.value]=window[o.value]||[],window[t.value]=function(){window[o.value].push(arguments)}),window[t.value]("js",new Date)}},pR=function(){return Pd};so({template:null,useScreenview:!1,skipSamePath:!0});var fR={install:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Y9(Ed,o),mR(),dR(),t.config.globalProperties.$gtag=Pd}};function gR(){const{consentStatus:e,hasConsent:t}=kl(),{isEnabled:o,enable:n,disable:a,query:l,pageView:i,event:u,screenView:c,customMap:d,time:m,exception:b}=pR();return De(()=>e.value,C=>{C==="accepted"?n():a()}),{isAnalyticsEnabled:o,trackPageView:(C,w)=>{t()&&i(C,w)},trackEvent:(C,w)=>{t()&&u(C,w)},screenView:(C,w)=>{t()&&c(C,w)},exception:(C,w=!1)=>{t()&&b(C,w)},time:C=>t()?m(C):{send:()=>{}}}}const vR=[{path:"/",component:Hh,meta:{title:"Home"}},{path:"/settings",component:zx,meta:{title:"Settings"}},{path:"/upgrades",component:hy,meta:{title:"Upgrades"},beforeEnter:(e,t,o)=>{if(Yt().isFeatureUnlocked.upgrades)o();else{o("/");try{const{showToast:a}=Ot();a("Complete 10 trips to unlock Evolution","info")}catch{console.warn("Toast system not available")}}}},{path:"/adventure",component:fA,meta:{title:"Adventure"},beforeEnter:(e,t,o)=>{const{isAdventureUnlocked:n}=Qn();if(n.value)o();else{o("/upgrades");try{const{showToast:a}=Ot();a("You need to unlock Adventure Mode first (50 EP)","error")}catch{console.warn("Toast system not available")}}}},{path:"/quests",component:jF,meta:{title:"Quests"},beforeEnter:(e,t,o)=>{const{isAdventureUnlocked:n}=Qn();if(n.value)o();else{o("/upgrades");try{const{showToast:a}=Ot();a("You need to unlock Adventure Mode first (50 EP)","error")}catch{console.warn("Toast system not available")}}}},{path:"/inventory",component:A6,meta:{title:"Inventory"},beforeEnter:(e,t,o)=>{const{isAdventureUnlocked:n}=Qn();if(n.value)o();else{o("/");const{showToast:a}=Ot();a("Purchase Adventure Mode from the Evolution tab (50 EP)","info")}}},{path:"/achievements",component:o8,meta:{title:"Achievements"}},{path:"/changelog",component:f8,meta:{title:"Changelog"}},{path:"/wiki",component:OF,meta:{title:"Wiki"}},{path:"/simulation",component:hU,meta:{title:"Ant Simulation"}},{path:"/aphid-farm",component:X9,meta:{title:"Aphid Farm"},beforeEnter:(e,t,o)=>{if(Yt().isFeatureUnlocked.aphidFarm)o();else{o("/");try{const{showToast:a}=Ot();a("Complete more game progress to unlock the Aphid Farm","info")}catch{console.warn("Toast system not available")}}}}],ia=vf({history:Hp(),routes:vR});ia.isReady().then(()=>{const{trackPageView:e}=gR();ia.afterEach(t=>{e(t.path,t.meta.title)})});const bR={class:"relative group"},hR=["disabled"],xR={class:"relative"},yR={key:0,class:"absolute inset-0 flex items-center justify-center"},kR={class:"absolute inset-0 w-full h-full -rotate-90 transform pointer-events-none",viewBox:"0 0 100 100"},_R=["stroke-dasharray","stroke-dashoffset"],wR={key:0,class:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs font-bold p-1 rounded-full shadow-lg animate-pulse z-30"},$R={key:1,class:"absolute left-0 top-1/2 transform -translate-x-[calc(100%+5px)] -translate-y-1/2 bg-amber-600 text-white text-xs font-bold px-2 py-0.5 rounded-full shadow-sm"},CR={class:"absolute top-1/2 right-0 transform translate-x-[calc(100%+5px)] -translate-y-1/2 bg-amber-100 dark:bg-amber-900 text-amber-800 dark:text-amber-100 text-xs font-medium px-2 py-0.5 rounded-full shadow-sm z-25"},SR={class:"absolute -top-12 left-1/2 transform -translate-x-1/2 hidden group-hover:block bg-amber-900 text-amber-50 text-xs rounded px-3 py-2 w-max pointer-events-none z-25 shadow-lg transition-opacity duration-200"},AR=Ie({__name:"ColonyRushButton",setup(e){const t=ns(),{showToast:o}=Ot(),n=B(!1);async function a(){if(!t.isFeatureUnlocked){o("Colony Rush feature is not unlocked yet!","warning");return}if(!t.isRushAvailable){o("Colony Rush not ready yet!","warning");return}n.value=!0;try{await t.executeRush()?o(`Colony Rush activated! Processing ${t.rushDurationSeconds} seconds of game time...`,"success"):o("Failed to activate Colony Rush","error")}catch(u){console.error("Error during colony rush:",u),o("Error during colony rush","error")}finally{n.value=!1}}const l=L(()=>({"bg-green-600 hover:bg-green-700 cursor-pointer":t.isRushAvailable,"bg-gray-400 dark:bg-gray-700 cursor-not-allowed opacity-60":!t.isRushAvailable,"animate-pulse-rapid":n.value,"animate-processing":t.isProcessingRush})),i=L(()=>t.isFeatureUnlocked?t.isProcessingRush?`Processing ${t.rushDurationSeconds} seconds of game time...`:t.isRushAvailable?`Activate Colony Rush to skip ${t.rushDurationSeconds} seconds ahead!`:`Available after ${t.ticksUntilNextRush} more foraging trips`:"Unlock Colony Rush through Evolution upgrades");return(u,c)=>(p(),g("div",bR,[r("button",{class:ee(["flex items-center justify-center w-14 h-14 rounded-full text-white shadow-lg transform transition-all duration-300 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 relative z-25",l.value]),disabled:!f(t).isRushAvailable||f(t).isProcessingRush,onClick:c[0]||(c[0]=d=>a())},[r("div",xR,[c[2]||(c[2]=r("span",{class:"i-heroicons-bug-ant text-2xl absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 opacity-50"},null,-1)),c[3]||(c[3]=r("span",{class:"i-heroicons-bolt text-2xl relative z-25"},null,-1)),f(t).isProcessingRush?(p(),g("span",yR,c[1]||(c[1]=[r("span",{class:"i-heroicons-arrow-path text-2xl animate-spin text-white"},null,-1)]))):G("",!0)])],10,hR),(p(),g("svg",kR,[c[4]||(c[4]=r("circle",{class:"text-gray-200 dark:text-gray-700 stroke-current","stroke-width":"10",fill:"transparent",r:"45",cx:"50",cy:"50"},null,-1)),r("circle",{class:ee(["text-amber-500 stroke-current transition-all duration-300",{"text-gray-400 dark:text-gray-600":!f(t).isRushAvailable,"text-blue-500 dark:text-blue-400":f(t).isProcessingRush}]),"stroke-width":"10",fill:"transparent",r:"45",cx:"50",cy:"50","stroke-dasharray":2*Math.PI*45,"stroke-dashoffset":2*Math.PI*45*(1-f(t).cooldownPercentage/100)},null,10,_R)])),f(t).isProcessingRush?(p(),g("div",wR,c[5]||(c[5]=[r("span",{class:"i-heroicons-arrow-path text-sm animate-spin"},null,-1)]))):G("",!0),!f(t).isRushAvailable&&!f(t).isProcessingRush?(p(),g("div",$R,v(f(t).ticksUntilNextRush),1)):G("",!0),r("div",CR,v(f(t).rushesRemaining)+"/"+v(f(t).maxRushesPerDay),1),r("div",SR,[Y(v(i.value)+" ",1),c[6]||(c[6]=r("span",{class:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-amber-900 rotate-45"},null,-1))])]))}}),ER=We(AR,[["__scopeId","data-v-82ec6641"]]),MR={class:"flex flex-col h-full bg-amber-50 dark:bg-gray-900 text-amber-900 dark:text-amber-100 font-sans w-full main-background"},PR={class:"bg-gradient-to-r from-amber-800/90 to-amber-700/90 dark:from-amber-900/90 dark:to-amber-800/90 text-amber-50 shadow-lg relative z-10"},TR={class:"p-2 md:p-3"},LR={class:"flex items-center justify-between mb-2"},IR={class:"flex items-center gap-3"},FR={class:"text-xs bg-amber-900/30 dark:bg-amber-950/50 px-2 py-0.5 rounded-full whitespace-nowrap"},UR={class:"flex items-center bg-amber-900/20 dark:bg-amber-950/40 rounded-full px-1.5 py-0.5"},RR={class:"text-2xs sm:text-sm md:text-base font-medium"},DR={class:"flex items-center bg-amber-900/20 dark:bg-amber-950/40 rounded-full px-1.5 py-0.5"},qR={class:"text-2xs sm:text-sm md:text-base font-medium"},NR={key:0,class:"flex items-center bg-amber-900/20 dark:bg-amber-950/40 rounded-full px-1.5 py-0.5"},OR={class:"text-2xs sm:text-sm md:text-base font-medium"},BR={class:"flex items-center bg-amber-900/20 dark:bg-amber-950/40 rounded-full px-1.5 py-0.5"},QR={class:"text-2xs sm:text-sm md:text-base font-medium"},jR={class:"flex items-center bg-amber-900/20 dark:bg-amber-950/40 rounded-full px-1.5 py-0.5"},HR={class:"text-2xs sm:text-sm md:text-base font-medium"},GR={class:"flex items-center bg-amber-900/20 dark:bg-amber-950/40 rounded-full px-1.5 py-0.5"},VR={class:"text-2xs sm:text-sm md:text-base font-medium"},WR={key:1,class:"flex items-center bg-amber-900/20 dark:bg-amber-950/40 rounded-full px-1.5 py-0.5"},zR={class:"text-2xs sm:text-sm md:text-base font-medium"},XR={key:2,class:"flex items-center bg-amber-900/20 dark:bg-amber-950/40 rounded-full px-1.5 py-0.5"},KR={class:"text-2xs sm:text-sm md:text-base font-medium"},YR={key:3,class:"flex items-center bg-purple-900/30 dark:bg-purple-950/50 rounded-full px-1.5 py-0.5 group relative"},JR={class:"text-2xs sm:text-sm md:text-base font-medium text-purple-100"},ZR={class:"absolute -bottom-16 left-1/2 transform -translate-x-1/2 bg-purple-900 text-purple-50 text-xs rounded px-3 py-2 w-max pointer-events-none z-10 shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200"},eD={class:"relative mx-2 md:mx-3 mb-4"},tD={class:"flex justify-between items-center mb-0.5 px-1"},rD={class:"text-2xs text-amber-200 dark:text-amber-300"},oD={class:"h-3 bg-amber-900/30 dark:bg-amber-950/50 rounded-lg overflow-hidden relative"},sD={class:"absolute left-0 top-0 h-full w-full overflow-hidden"},nD={key:0,class:"absolute left-[10%] bottom-0 flex items-center ant-entry",style:{"animation-delay":"0.3s"}},aD={key:1,class:"absolute left-[15%] top-0 flex items-center ant-entry",style:{"animation-delay":"0.4s"}},lD={key:2,class:"absolute left-[25%] top-0.5 flex items-center ant-entry",style:{"animation-delay":"0.5s"}},iD={key:3,class:"absolute left-[30%] bottom-0 flex items-center ant-entry",style:{"animation-delay":"0.6s"}},uD={key:4,class:"absolute left-[45%] top-0 flex items-center ant-entry",style:{"animation-delay":"0.7s"}},cD={key:5,class:"absolute left-[50%] bottom-0.5 flex items-center ant-entry",style:{"animation-delay":"0.8s"}},dD={key:6,class:"absolute left-[65%] top-0 flex items-center ant-entry",style:{"animation-delay":"0.9s"}},mD={key:7,class:"absolute left-[70%] bottom-0 flex items-center ant-entry",style:{"animation-delay":"1s"}},pD={key:8,class:"absolute left-[85%] top-0.5 flex items-center ant-entry",style:{"animation-delay":"1.1s"}},fD={key:9,class:"absolute left-[90%] bottom-0 flex items-center ant-entry",style:{"animation-delay":"1.2s"}},gD={key:0,class:"flex justify-center absolute bottom-[-20px] left-0 right-0"},vD={class:"flex-1 overflow-y-auto p-4 pb-6 scroll-smooth relative"},bD={class:"bg-gradient-to-r from-amber-800/90 to-amber-700/90 dark:from-amber-900/90 dark:to-amber-800/90 text-amber-50 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] relative z-10"},hD={class:"flex justify-around items-center"},xD=["title"],yD={class:"text-2xs mt-0.5 font-medium"},kD={class:"relative"},_D={key:0,class:"absolute -top-1.5 -right-1.5 w-3 h-3 bg-green-500 rounded-full shadow-green-glow animate-harvest-pulse"},wD={class:"text-2xs mt-0.5 font-medium"},$D=["onClick"],CD={class:"text-2xs mt-0.5 font-medium"},SD={key:0,class:"fixed inset-x-0 bottom-0 z-20"},AD={class:"relative bg-gradient-to-r from-amber-50 to-amber-100 dark:from-gray-900 dark:to-gray-800 text-amber-900 dark:text-amber-100 rounded-t-xl shadow-lg transform max-h-[80vh] overflow-y-auto"},ED={class:"p-2"},MD={class:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 p-2"},PD={class:"relative"},TD={key:0,class:"absolute -top-1.5 -right-1.5 w-3 h-3 bg-green-500 rounded-full shadow-green-glow animate-harvest-pulse"},LD={class:"mt-1 text-xs font-medium text-center"},ID=Ie({__name:"MainLayout",setup(e){const t=Jt(),o=st(),n=Ve(),a=Yt(),l=St(),i=gt();Vt();const u=$r(),{showToast:c}=Ot(),d=ps(),{isFeatureUnlocked:m}=Bc(a),{formatHoneydew:b,honeydew:x}=fn(),{shouldAnimateFeature:h}=rd(),C=B(!0),w=B({upgrades:!1,adventure:!1,inventory:!1}),M=B(0),S=L(()=>Math.round(M.value));let _=null;const y=()=>{t.updateProgress(),a.checkProgression();const pe=t.progressPercentage,ce=pe-M.value;Math.abs(ce)>.1?M.value+=ce*.1:M.value=pe,_=requestAnimationFrame(y)};He(()=>{h("upgrades")&&(w.value.upgrades=!0,setTimeout(()=>{w.value.upgrades=!1},1500)),M.value=t.progressPercentage,_=requestAnimationFrame(y),document.addEventListener("click",fe),localStorage.getItem("hasVisitedSimulation")==="true"&&(C.value=!1),d.currentRoute.value.path==="/simulation"&&(C.value=!1)}),De(()=>m.value.upgrades,(pe,ce)=>{pe&&!ce&&(w.value.upgrades=!0,setTimeout(()=>{w.value.upgrades=!1},1500))});const P=L(()=>n.getUpgradeCount("unlockAdventure").gt(0));De(()=>P.value,(pe,ce)=>{pe&&!ce&&(w.value.adventure=!0,w.value.inventory=!0,setTimeout(()=>{w.value.adventure=!1,w.value.inventory=!1},1500))});const I=(pe,ce)=>{c(ce,"info")},U=B(null),q=pe=>{U.value===pe?U.value=null:U.value=pe},k=L(()=>m.value.aphidFarm?u.fields.some(pe=>pe.isHarvestable):!1),W=L(()=>[{name:"Colony",icon:"i-heroicons-bug-ant",route:"/",disabled:!1},{name:"Evolution",icon:"i-heroicons-sparkles",route:"/upgrades",disabled:!m.value.evolution,tooltip:"Purchase 5 nurseries to unlock Evolution"},{name:"Adventure",icon:"i-heroicons-bolt",route:P.value?"/adventure":"#",disabled:!P.value,tooltip:"Unlock Adventure Mode from the Evolution tab (50 EP)"},{name:"Inventory",icon:"i-heroicons-squares-2x2",route:P.value?"/inventory":"#",disabled:!P.value,tooltip:"Unlock Adventure Mode from the Evolution tab (50 EP)"},{name:"Aphids",icon:"i-heroicons-sun",route:"/aphid-farm",disabled:!m.value.aphidFarm,tooltip:"Unlock Evolution first",get hasNotification(){return k.value}},{name:"More",icon:"i-heroicons-ellipsis-horizontal",action:"toggleMorePanel",route:"#",disabled:!1}]),le=B(!1),X=()=>{le.value=!le.value},{isDarkMode:j}=pn(),T=Rc(),K=L(()=>[{name:"Achievements",icon:"i-heroicons-trophy",route:"/achievements",disabled:!1},{name:"Aphids",icon:"i-heroicons-sun",route:"/aphid-farm",disabled:!m.value.aphidFarm,tooltip:"Unlock Evolution first",get hasNotification(){return k.value}},{name:"Quests",icon:"i-heroicons-clipboard-document-list",route:P.value?"/quests":"#",disabled:!P.value,tooltip:"Unlock Adventure Mode from the Evolution tab (50 EP)"},{name:"Simulation",icon:"i-heroicons-bug-ant",route:"/simulation",disabled:!1},{name:"Wiki",icon:"i-heroicons-information-circle",route:"/wiki",disabled:!1},{name:"Changelog",icon:"i-heroicons-document-text",route:"/changelog",disabled:!1},{name:"Settings",icon:"i-heroicons-cog-6-tooth",route:"/settings",disabled:!1}]),fe=pe=>{U.value!==null&&!pe.target.closest(".nav-item")&&(U.value=null)};De(()=>T.path,pe=>{le.value=!1,pe==="/simulation"&&(C.value=!1,localStorage.setItem("hasVisitedSimulation","true"))});const we=L(()=>n.getUpgradeCount("unlockColonyRush").gt(0)),Se=L(()=>o.getActualProduction("worker"));return er(()=>{_!==null&&cancelAnimationFrame(_),document.removeEventListener("click",fe)}),(pe,ce)=>{const ke=Ca("router-link");return p(),g("div",{class:ee([{dark:f(j)},"h-dvh w-full overflow-hidden"])},[r("div",MR,[r("header",PR,[r("div",TR,[r("div",LR,[ce[2]||(ce[2]=r("div",{class:"flex items-center gap-3"},[r("h1",{class:"text-lg md:text-xl font-extrabold tracking-tight"},"Idle Ant Farm")],-1)),r("div",IR,[Ee(ke,{to:"/simulation",class:ee(["flex items-center gap-1 bg-amber-600 hover:bg-amber-500 dark:bg-amber-700 dark:hover:bg-amber-600 px-2 py-1 rounded-md transition-colors text-xs md:text-sm font-medium group",{"simulation-button-pulse":C.value}]),onClick:ce[0]||(ce[0]=ue=>C.value=!1)},{default:it(()=>ce[1]||(ce[1]=[r("span",{class:"i-heroicons-bug-ant text-amber-200 group-hover:scale-110 transition-transform"},null,-1),r("span",{class:"hidden sm:inline"},"Ant Simulation",-1),r("span",{class:"sm:hidden"},"Sim",-1)])),_:1},8,["class"]),r("span",FR,v(f(t).timeRemaining)+"s ",1)])]),f(m).colonyStatus?(p(),g("div",{key:0,class:ee(["flex flex-wrap items-center gap-1.5 md:gap-2",{"feature-unlock-pulse":f(h)("colonyStatus")}]),id:"resource-counter"},[r("div",UR,[ce[3]||(ce[3]=r("span",{class:"i-heroicons-cake text-amber-300 dark:text-amber-400 mr-1 text-xs"},null,-1)),r("span",RR,v(f(o).formatFood()),1)]),r("div",DR,[ce[4]||(ce[4]=r("span",{class:"i-heroicons-bug-ant text-amber-300 dark:text-amber-400 mr-1 text-xs"},null,-1)),r("span",qR,v(f(o).formatGeneratorCount("worker")),1)]),f(m).aphidFarm?(p(),g("div",NR,[ce[5]||(ce[5]=r("span",{class:"i-heroicons-beaker text-green-300 dark:text-green-400 mr-1 text-xs"},null,-1)),r("span",OR,v(f(b)(f(x)))+" HD",1)])):G("",!0),r("div",BR,[ce[6]||(ce[6]=r("span",{class:"i-heroicons-clock text-amber-300 dark:text-amber-400 mr-1 text-xs"},null,-1)),r("span",QR,v(f(t).tickDuration.toFixed(1))+"s/trip",1)]),r("div",jR,[ce[7]||(ce[7]=r("span",{class:"i-heroicons-clock text-amber-300 dark:text-amber-400 mr-1 text-xs"},null,-1)),r("span",HR,v(f(t).formattedCurrentEvolutionTicks)+" trips",1)]),r("div",GR,[ce[8]||(ce[8]=r("span",{class:"i-heroicons-arrow-trending-up text-amber-300 dark:text-amber-400 mr-1 text-xs"},null,-1)),r("span",VR,v(f(ge)(Se.value,1))+"/trip",1)]),f(m).upgrades?(p(),g("div",WR,[ce[9]||(ce[9]=r("span",{class:"i-heroicons-sparkles text-amber-300 dark:text-amber-400 mr-1 text-xs"},null,-1)),r("span",zR,v(f(n).formatEP())+" EP",1)])):G("",!0),P.value?(p(),g("div",XR,[ce[10]||(ce[10]=r("span",{class:"i-heroicons-beaker text-amber-300 dark:text-amber-400 mr-1 text-xs"},null,-1)),r("span",KR,v(f(l).formattedPheromoneEssence)+" PE",1)])):G("",!0),f(i).ascensionCount>0?(p(),g("div",YR,[ce[13]||(ce[13]=r("span",{class:"i-heroicons-arrow-up-circle text-purple-300 dark:text-purple-400 mr-1 text-xs"},null,-1)),r("span",JR,v(f(i).ascensionCount)+"A",1),r("div",ZR,[r("div",null,"+"+v(f(i).ascensionMultiplier.sub(1).mul(100).toFixed(0))+"% XP Gain",1),ce[11]||(ce[11]=r("div",null,"Preserves Mega Ant upgrades",-1)),ce[12]||(ce[12]=r("span",{class:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-purple-900 rotate-45"},null,-1))])])):G("",!0)],2)):G("",!0)]),r("div",eD,[r("div",tD,[ce[14]||(ce[14]=r("span",{class:"text-2xs text-amber-200 dark:text-amber-300 font-medium flex items-center"},[r("span",{class:"i-heroicons-arrow-path-rounded-square text-2xs mr-0.5"}),Y(" Foraging Trip ")],-1)),r("span",rD,v(S.value)+"% ",1)]),r("div",oD,[ce[26]||(ce[26]=r("div",{class:"absolute inset-0 h-full w-full opacity-30 bg-dotted-pattern"},null,-1)),r("div",{class:"h-full bg-gradient-to-r from-amber-500/70 to-amber-400/70 dark:from-amber-600/70 dark:to-amber-500/70 progress-fill",style:je({"--progress":`${S.value}%`})},null,4),r("div",sD,[ce[25]||(ce[25]=ct('<div class="absolute left-0 top-0 flex items-center ant-entry" data-v-ca68fb53><span class="i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march ant-shadow rotate-90" data-v-ca68fb53></span></div><div class="absolute left-2 bottom-0 flex items-center ant-entry" style="animation-delay:0.1s;" data-v-ca68fb53><span class="i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-2 ant-shadow rotate-90" data-v-ca68fb53></span></div><div class="absolute left-4 top-0.5 flex items-center ant-entry" style="animation-delay:0.2s;" data-v-ca68fb53><span class="i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-3 ant-shadow rotate-90" data-v-ca68fb53></span></div>',3)),S.value>=10?(p(),g("div",nD,ce[15]||(ce[15]=[r("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-4 ant-shadow rotate-90"},null,-1)]))):G("",!0),S.value>=15?(p(),g("div",aD,ce[16]||(ce[16]=[r("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-5 ant-shadow rotate-90"},null,-1)]))):G("",!0),S.value>=25?(p(),g("div",lD,ce[17]||(ce[17]=[r("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-6 ant-shadow rotate-90"},null,-1)]))):G("",!0),S.value>=30?(p(),g("div",iD,ce[18]||(ce[18]=[r("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-7 ant-shadow rotate-90"},null,-1)]))):G("",!0),S.value>=45?(p(),g("div",uD,ce[19]||(ce[19]=[r("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-8 ant-shadow rotate-90"},null,-1)]))):G("",!0),S.value>=50?(p(),g("div",cD,ce[20]||(ce[20]=[r("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-9 ant-shadow rotate-90"},null,-1)]))):G("",!0),S.value>=65?(p(),g("div",dD,ce[21]||(ce[21]=[r("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march ant-shadow rotate-90"},null,-1)]))):G("",!0),S.value>=70?(p(),g("div",mD,ce[22]||(ce[22]=[r("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-2 ant-shadow rotate-90"},null,-1)]))):G("",!0),S.value>=85?(p(),g("div",pD,ce[23]||(ce[23]=[r("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-3 ant-shadow rotate-90"},null,-1)]))):G("",!0),S.value>=90?(p(),g("div",fD,ce[24]||(ce[24]=[r("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-4 ant-shadow rotate-90"},null,-1)]))):G("",!0)])])]),f(m).colonyStatus&&we.value?(p(),g("div",gD,[Ee(ER)])):G("",!0)]),r("main",vD,[Mo(pe.$slots,"default",{},void 0,!0)]),r("footer",bD,[r("nav",hD,[(p(!0),g($e,null,Te(W.value,(ue,Z)=>(p(),g("div",{key:ue.name,class:"relative w-full h-full group nav-item",title:ue.tooltip},[ue.action==="toggleMorePanel"?(p(),g("div",{key:0,onClick:X,class:ee(["flex flex-col items-center py-2.5 px-1 w-full transition-colors duration-200 select-none cursor-pointer hover:bg-amber-900/10 dark:hover:bg-amber-950/30",{"text-amber-300 border-t-2 border-amber-300 bg-amber-900/20 dark:bg-amber-950/40":le.value}])},[r("span",{class:ee([ue.icon,"text-lg"])},null,2),r("span",yD,v(ue.name),1)],2)):ue.disabled?(p(),g("div",{key:2,class:"flex flex-col items-center py-2.5 h px-1 w-full transition-colors duration-200 select-none opacity-50 cursor-not-allowed",onClick:Ye(de=>{q(Z),I(ue.name,ue.tooltip||"")},["stop"])},[r("span",{class:ee([ue.icon,"text-lg"])},null,2),r("span",CD,v(ue.name),1),r("span",{class:ee(["absolute -top-12 left-1/2 transform -translate-x-1/2 bg-amber-900 text-amber-50 text-xs rounded px-3 py-2 w-max pointer-events-none z-10 shadow-lg",["opacity-0 group-hover:opacity-100 transition-opacity duration-200",{"opacity-100":U.value===Z}]])},[Y(v(ue.tooltip)+" ",1),ce[27]||(ce[27]=r("span",{class:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-amber-900 rotate-45"},null,-1))],2)],8,$D)):(p(),Ge(ke,{key:1,to:ue.route,class:ee(["flex flex-col items-center py-2.5 px-1 w-full transition-colors duration-200 select-none",{"text-amber-300 border-t-2 border-amber-300 bg-amber-900/20 dark:bg-amber-950/40":f(T).path===ue.route,"hover:bg-amber-900/10 dark:hover:bg-amber-950/30":f(T).path!==ue.route}])},{default:it(()=>[r("div",kD,[r("span",{class:ee([ue.icon,"text-lg"])},null,2),(typeof ue.hasNotification=="function"?ue.hasNotification():ue.hasNotification)?(p(),g("span",_D)):G("",!0)]),r("span",wD,v(ue.name),1)]),_:2},1032,["to","class"]))],8,xD))),128))])]),Ee(no,{name:"slide-panel"},{default:it(()=>[le.value?(p(),g("div",SD,[r("div",{class:"fixed inset-0 bg-black/30 dark:bg-black/50",onClick:X}),r("div",AD,[r("div",{class:"p-4 border-b border-amber-200 dark:border-amber-900/50 flex justify-between items-center sticky top-0 bg-inherit z-10"},[ce[29]||(ce[29]=r("h3",{class:"text-lg font-bold"},"More Options",-1)),r("button",{onClick:X,class:"p-1 rounded-full hover:bg-amber-200 dark:hover:bg-amber-900/40 transition-colors"},ce[28]||(ce[28]=[r("span",{class:"i-heroicons-x-mark text-xl"},null,-1)]))]),r("div",ED,[r("div",MD,[(p(!0),g($e,null,Te(K.value,ue=>(p(),Ge(ke,{key:ue.name,to:ue.route,class:ee(["flex flex-col items-center p-3 rounded-lg transition-colors duration-200",{"bg-amber-200/50 dark:bg-amber-900/20 hover:bg-amber-200 dark:hover:bg-amber-900/30":!ue.disabled,"opacity-50 cursor-not-allowed":ue.disabled}]),onClick:X},{default:it(()=>[r("div",PD,[r("span",{class:ee([ue.icon,"text-2xl text-amber-700 dark:text-amber-300"])},null,2),(typeof ue.hasNotification=="function"?ue.hasNotification():ue.hasNotification)?(p(),g("span",TD)):G("",!0)]),r("span",LD,v(ue.name),1)]),_:2},1032,["to","class"]))),128))])])])])):G("",!0)]),_:1})])],2)}}}),FD=We(ID,[["__scopeId","data-v-ca68fb53"]]),UD="/assets/background-BSJaSWun.png",RD={class:"w-full max-w-lg px-5 py-10 mx-auto my-4 bg-blue-950/80 rounded-xl"},DD={class:"text-base text-gray-300 mb-6 leading-relaxed text-center"},qD={class:"font-bold text-amber-400"},ND={key:0},OD={key:1},BD={class:"h-3 bg-blue-950 rounded-full mb-3 overflow-hidden"},QD={class:"text-sm text-gray-300 mb-5 flex justify-between"},jD={key:0,class:"mb-6"},HD={key:0,class:"mt-2 text-center"},GD={key:1,class:"mt-3 bg-blue-950/60 rounded-lg p-4 text-sm max-h-96 overflow-y-auto"},VD={class:"flex items-center justify-between mb-3 pb-3 border-b border-blue-800"},WD={class:"text-amber-400 font-medium"},zD={class:"flex items-center justify-between mb-2"},XD={class:"flex items-center"},KD={class:"text-gray-200 font-medium"},YD={class:"flex items-center"},JD={class:"text-gray-400 mr-2"},ZD={class:"text-amber-400 font-medium"},eq={class:"flex text-xs text-gray-400 justify-between"},tq={key:1,class:"flex justify-center"},rq={key:2,class:"flex justify-center"},oq={key:3,class:"bg-blue-900/80 rounded-xl p-4 mt-2"},sq=Ie({__name:"OfflineProgressModal",props:{isVisible:{type:Boolean},totalTicks:{},ticksProcessed:{},elapsedTime:{}},emits:["close"],setup(e,{expose:t,emit:o}){const n=e,a=o,l=ur(),i=st(),u=B(!1),c=B(!1),d=B([]),m=B(new he(0)),b=B(new he(0)),x=B(new he(0)),h=B(!1),C=L(()=>n.ticksProcessed>=n.totalTicks&&n.totalTicks>0),w=()=>{const j=l.generatorStats;if(Re("Checking saveSystem stats:",{modalStatsCount:d.value.length,saveSystemStatsCount:j.length,initialFoodInModal:m.value.toString(),initialFoodInSystem:l.initialFoodAmount?l.initialFoodAmount.toString():"n/a"}),d.value.length===0&&j.length>0){Re(" Syncing stats from saveSystem, found",j.length,"generators"),d.value=j.map(T=>({id:T.id,name:T.name,beforeCount:new he(T.beforeCount),afterCount:new he(T.afterCount),generated:new he(T.generated),selfReplicated:new he(T.selfReplicated),icon:T.icon})),Re(" Stats imported from saveSystem. First generator:",d.value.length>0?{id:d.value[0].id,before:d.value[0].beforeCount.toString(),after:d.value[0].afterCount.toString()}:"none");try{m.value.eq(0)&&l.initialFoodAmount&&(m.value=new he(l.initialFoodAmount),Re(" Got initial food from saveSystem:",m.value.toString()))}catch(T){Re(" Error getting initial food:",T)}}},M=()=>{if(w(),d.value.length>0){Re();return}const j=i;m.value=new he(j.food),Re(" Captured initial food:",m.value.toString()),d.value=j.generators.filter(T=>T.unlocked||T.count.gt(0)).map(T=>(Re(` Captured initial generator ${T.id} count:`,T.count.toString(),"self-replicated:",T.selfReplicated.toString()),{id:T.id,name:T.name,beforeCount:new he(T.count),afterCount:new he(T.count),generated:new he(0),selfReplicated:new he(T.selfReplicated),icon:T.icon})),Re(" Initial capture complete for",d.value.length,"generators")},S=()=>{if(w(),!C.value){Re();return}if(x.value.gt(0)){Re();return}Re(),b.value=new he(i.food),m.value.eq(0)&&(Re(),m.value=l.initialFoodAmount||new he(0)),x.value=b.value.sub(m.value),Re(" Food results:",{initial:m.value.toString(),current:b.value.toString(),generated:x.value.toString()});let j=!1;for(const T of d.value)if(T.beforeCount.gt(0)){j=!0;break}j||(Re(),l.generatorStats.length>0&&(d.value=l.generatorStats.map(T=>({id:T.id,name:T.name,beforeCount:new he(T.beforeCount),afterCount:new he(T.afterCount),generated:new he(T.generated),selfReplicated:new he(T.selfReplicated),icon:T.icon})))),d.value=d.value.map(T=>{const K=i.getGenerator(T.id);if(!K)return Re(` Generator ${T.id} not found`),T;const fe=new he(K.count),we=fe.sub(T.beforeCount),Se=new he(K.selfReplicated||0),pe=Se.sub(T.selfReplicated||0);return Re(` Generator ${T.id} final stats:`,{before:T.beforeCount.toString(),after:fe.toString(),generated:we.toString(),initialSelfReplicated:T.selfReplicated.toString(),finalSelfReplicated:Se.toString(),selfReplicatedDiff:pe.toString()}),{...T,afterCount:fe,generated:we,selfReplicated:pe}}),Re()};t({captureStats:M,generationStats:d,initialFood:m,updateStats:S}),He(()=>{Re(),c.value=!1;const j={isCalculating:l.isCalculatingOfflineProgress,isComplete:l.isCalculationComplete,ticksProcessed:n.ticksProcessed,totalTicks:n.totalTicks,calculationPercent:n.totalTicks>0?Math.round(n.ticksProcessed/n.totalTicks*100):0,showProductionDetails:h.value,initialFood:m.value.toString()};Re(" Initial calculation state:",j),w(),n.isVisible&&d.value.length===0&&(Re(),M()),l.isCalculationComplete&&!c.value&&(Re(),c.value=!0,setTimeout(()=>{S()},100))}),De(()=>n.isVisible,(j,T)=>{Re(" isVisible changed:",{newVal:j,oldVal:T,calculationState:{isCalculating:l.isCalculatingOfflineProgress,isComplete:l.isCalculationComplete,ticksProcessed:n.ticksProcessed,totalTicks:n.totalTicks,hasWatchedCalculation:c.value}}),j&&!T&&(w(),d.value.length===0&&(Re(),M()),l.isCalculationComplete&&!c.value&&(Re(),c.value=!0,setTimeout(()=>{S()},100)))}),De(()=>n.ticksProcessed,(j,T)=>{if(n.totalTicks>0){const K=j/n.totalTicks;Math.floor(K*4)>Math.floor(T/n.totalTicks*4)&&Re(` Tick processing at ${Math.round(K*100)}%:`,{newVal:j,totalTicks:n.totalTicks}),j>0&&T<j&&K>=.95&&(Re(),setTimeout(()=>S(),100)),j>=n.totalTicks&&T<n.totalTicks&&(Re(),setTimeout(()=>S(),200))}});const _=()=>{h.value=!h.value},y=L(()=>n.totalTicks===0?0:Math.min(100,Math.round(n.ticksProcessed/n.totalTicks*100))),P=L(()=>n.isVisible),I=j=>{if(j<60)return`${Math.floor(j)} seconds`;if(j<3600){const T=Math.floor(j/60);return`${T} minute${T!==1?"s":""}`}else{const T=Math.floor(j/3600),K=Math.floor(j%3600/60);return`${T} hour${T!==1?"s":""} ${K>0?`and ${K} minute${K!==1?"s":""}`:""}`}},U=()=>{a("close")},q=()=>{u.value=!0},k=()=>{u.value=!1},W=async()=>{await l.saveGameAsync(!0),window.location.reload()},le=j=>{P.value&&(j.preventDefault(),j.stopPropagation())},X=()=>{Re(),m.value=new he(0),b.value=new he(0),x.value=new he(0),w(),setTimeout(()=>{d.value.length===0&&M(),S()},50)};return De(()=>l.isCalculationComplete,(j,T)=>{Re(" saveSystem.isCalculationComplete changed:",{newVal:j,oldVal:T,hasWatchedCalculation:c.value}),j&&!T&&!c.value&&(Re(),c.value=!0,setTimeout(()=>{S()},200))}),(j,T)=>P.value?(p(),g("div",{key:0,id:"offlineProgressModal",class:"fixed inset-0 flex items-center justify-center z-100 flex-col backdrop-blur-md overflow-auto",style:je({background:`url(${f(UD)}) no-repeat center top fixed`,backgroundSize:"cover"}),onTouchmove:le},[r("div",RD,[T[6]||(T[6]=r("div",{class:"flex justify-center mb-8"},[r("span",{class:"i-heroicons-clock text-amber-400 text-5xl"})],-1)),T[7]||(T[7]=r("h3",{class:"text-xl font-bold mb-5 text-center text-amber-300"}," Colony Hibernation Progress ",-1)),r("p",DD,[T[0]||(T[0]=Y(" Your colony has been hibernating for ")),r("span",qD,v(I(j.elapsedTime)),1),T[1]||(T[1]=Y(". ")),C.value?(p(),g("span",OD,"Calculation complete! Your colony has been updated.")):(p(),g("span",ND,"We're calculating the progress made during this time."))]),r("div",BD,[r("div",{class:"h-full bg-amber-500 transition-all duration-300 ease-out",style:je({width:`${y.value}%`})},null,4)]),r("div",QD,[r("span",null,"Processing: "+v(j.ticksProcessed)+" / "+v(j.totalTicks),1),r("span",null,v(y.value)+"% complete",1)]),C.value?(p(),g("div",jD,[r("button",{onClick:_,class:"w-full py-2 px-4 bg-blue-900/80 hover:bg-blue-800 text-gray-300 rounded-lg text-sm font-medium transition-colors flex items-center justify-between"},[r("span",null,v(h.value?"Hide":"Show")+" Production Summary",1),r("span",{class:ee(h.value?"i-heroicons-chevron-up":"i-heroicons-chevron-down")},null,2)]),C.value&&d.value.every(K=>K.generated.eq(0))?(p(),g("div",HD,[r("button",{onClick:X,class:"text-xs text-gray-400 hover:text-gray-300 underline py-1 px-2"}," Refresh Statistics ")])):G("",!0),h.value?(p(),g("div",GD,[r("div",VD,[T[2]||(T[2]=r("div",{class:"flex items-center"},[r("span",{class:"i-heroicons-cake text-amber-400 mr-3 text-lg"}),r("span",{class:"text-gray-200 font-medium"},"Food Generated")],-1)),r("span",WD,"+"+v(f(ge)(x.value)),1)]),(p(!0),g($e,null,Te(d.value,K=>(p(),g("div",{key:K.id,class:"mb-3 pb-3 border-b border-blue-800 last:border-0 last:mb-0 last:pb-0"},[r("div",zD,[r("div",XD,[r("span",{class:ee(`${K.icon} text-amber-400 mr-3 text-lg`)},null,2),r("span",KD,v(K.name),1)]),r("div",YD,[r("span",JD,v(f(ge)(K.beforeCount)),1),T[3]||(T[3]=r("span",{class:"text-gray-500 mr-2"},"",-1)),r("span",ZD,v(f(ge)(K.afterCount)),1)])]),r("div",eq,[r("span",null,"Generated: +"+v(f(ge)(K.generated)),1),r("span",null,"Self-replicated: +"+v(f(ge)(K.selfReplicated)),1)])]))),128))])):G("",!0)])):G("",!0),C.value&&!u.value?(p(),g("div",tq,[r("button",{onClick:U,class:"py-3 px-8 bg-amber-600 hover:bg-amber-700 text-white rounded-lg text-base font-medium transition-colors"}," Continue ")])):G("",!0),!C.value&&!u.value?(p(),g("div",rq,[Ee(Eo,{onAction:q,class:"py-3 px-6 bg-blue-800 hover:bg-blue-900 text-white rounded-lg text-sm font-medium transition-colors","initial-delay":300,"repeat-interval":100},{default:it(()=>T[4]||(T[4]=[Y(" Skip Calculation ")])),_:1})])):G("",!0),u.value?(p(),g("div",oq,[T[5]||(T[5]=r("p",{class:"text-sm text-red-300 mb-4 font-medium text-center"}," Are you sure you want to skip the offline calculation? ",-1)),r("div",{class:"flex justify-center gap-3"},[r("button",{onClick:k,class:"py-2 px-5 bg-blue-700 hover:bg-blue-600 text-white rounded-lg text-sm font-medium transition-colors"}," Cancel "),r("button",{onClick:W,class:"py-2 px-5 bg-red-700 hover:bg-red-800 text-white rounded-lg text-sm font-medium transition-colors"}," Yes, Skip ")])])):G("",!0)])],36)):G("",!0)}});function nq(e={}){const{immediate:t=!1,onNeedRefresh:o,onOfflineReady:n,onRegistered:a,onRegisteredSW:l,onRegisterError:i}=e;let u,c;const d=async(b=!0)=>{await c};async function m(){if("serviceWorker"in navigator){if(u=await jc(async()=>{const{Workbox:b}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:b}},[]).then(({Workbox:b})=>new b("/sw.js",{scope:"/",type:"classic"})).catch(b=>{i==null||i(b)}),!u)return;u.addEventListener("activated",b=>{(b.isUpdate||b.isExternal)&&window.location.reload()}),u.addEventListener("installed",b=>{b.isUpdate||n==null||n()}),u.register({immediate:t}).then(b=>{l?l("/sw.js",b):a==null||a(b)}).catch(b=>{i==null||i(b)})}}return c=m(),d}function Td(e={}){const{immediate:t=!0,onNeedRefresh:o,onOfflineReady:n,onRegistered:a,onRegisteredSW:l,onRegisterError:i}=e,u=B(!1),c=B(!1);return{updateServiceWorker:nq({immediate:t,onNeedRefresh(){u.value=!0,o==null||o()},onOfflineReady(){c.value=!0,n==null||n()},onRegistered:a,onRegisteredSW:l,onRegisterError:i}),offlineReady:c,needRefresh:u}}function aq(e=15*60*1e3){const{updateServiceWorker:t}=Td(),o=ur(),{isCalculatingOfflineProgress:n}=Bc(o);let a;const l=()=>{if(n.value){console.log("Skipping PWA update check during offline progress calculation");return}console.log("Checking for PWA updates..."),t()};return He(()=>{l(),a=window.setInterval(l,e)}),er(()=>{a&&clearInterval(a)}),{checkForUpdates:l}}const lq={key:0,class:"fixed bottom-4 left-0 right-0 mx-auto w-full max-w-sm px-4"},iq=Ie({__name:"PWAUpdateNotification",setup(e){const{needRefresh:t,updateServiceWorker:o}=Td(),n=B(!1);aq(),He(()=>{De(t,l=>{n.value=l})});const a=()=>{o(),n.value=!1};return(l,i)=>(p(),Ge(no,{name:"slide-up"},{default:it(()=>[n.value?(p(),g("div",lq,[r("div",{class:"rounded-lg bg-indigo-600 dark:bg-indigo-700 p-4 shadow-lg"},[r("div",{class:"flex items-center justify-between"},[i[0]||(i[0]=r("div",{class:"flex-1"},[r("h3",{class:"text-sm font-medium text-white"}," App Update Available "),r("p",{class:"mt-1 text-sm text-indigo-100"}," A new version is available. Click to update. ")],-1)),r("div",{class:"ml-4 flex flex-shrink-0"},[r("button",{type:"button",class:"inline-flex rounded-md bg-indigo-500 dark:bg-indigo-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-indigo-400 dark:hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-400 dark:focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-indigo-600 dark:focus:ring-offset-indigo-700",onClick:a}," Update ")])])])])):G("",!0)]),_:1}))}}),uq=We(iq,[["__scopeId","data-v-3a33cdf7"]]),cq={class:"px-6 py-4 border-b border-amber-200 dark:border-amber-700 flex items-center"},dq={class:"flex-grow"},mq={key:0,class:"text-sm text-amber-600 dark:text-amber-400 mt-1"},pq={key:1,class:"text-sm text-amber-600 dark:text-amber-400 mt-1"},fq={class:"p-6 overflow-y-auto max-h-[60vh]"},gq=["innerHTML"],vq=Ie({__name:"UpdateAnnouncementModal",setup(e){const{showAnnouncement:t,updateDetails:o,closeAnnouncement:n}=nd(),a=B(!1),{isClosing:l,handleClose:i,preventBackgroundTouchMove:u}=br();De(t,m=>{a.value=m});const c=()=>{i(n)},d=m=>{m.key==="Escape"&&a.value&&c()};return He(()=>{window.addEventListener("keydown",d)}),Zt(()=>{window.removeEventListener("keydown",d)}),(m,b)=>(p(),Ge(no,{name:"fade"},{default:it(()=>[a.value?(p(),g("div",{key:0,class:"fixed inset-0 bg-black/30 dark:bg-black/60 z-50 backdrop-blur-sm flex items-center justify-center p-4 modal-backdrop","data-modal-backdrop":"true",onClick:Ye(c,["self"]),onTouchmove:b[0]||(b[0]=Ye((...x)=>f(u)&&f(u)(...x),["self"]))},[r("div",{class:ee(["relative bg-white dark:bg-slate-900 rounded-lg shadow-lg max-w-3xl w-full max-h-[calc(100vh-2rem)] overflow-hidden",{"opacity-75":f(l)}])},[r("div",cq,[r("div",dq,[b[1]||(b[1]=r("h2",{class:"text-xl font-bold text-amber-800 dark:text-amber-300"}," What's New in Idle Ant Farm ",-1)),f(o).versionRange.includes("to")?(p(),g("div",mq," Updates from v"+v(f(o).versionRange),1)):(p(),g("div",pq," Version "+v(f(o).versionRange)+" - "+v(f(o).date),1))]),r("button",{class:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors","aria-label":"Close modal",onClick:c},b[2]||(b[2]=[r("svg",{class:"w-5 h-5 text-slate-500 dark:text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),r("div",fq,[r("div",{class:"prose prose-amber dark:prose-invert max-w-none",innerHTML:f(o).content},null,8,gq)]),r("div",{class:"px-6 py-4 border-t border-amber-200 dark:border-amber-700 flex justify-end"},[r("button",{class:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-md transition-colors font-medium",onClick:c}," Got it ")])],2)],32)):G("",!0)]),_:1}))}}),bq=We(vq,[["__scopeId","data-v-09c2283e"]]),hq={class:"fixed top-4 right-4 z-50 flex flex-col gap-2 max-w-md"},xq={class:"flex-grow"},yq={class:"text-sm"},kq=["onClick"],_q=Ie({__name:"ToastContainer",setup(e){const{toasts:t,removeToast:o}=Ot(),n=l=>{switch(l){case"success":return"i-heroicons-check-circle";case"warning":return"i-heroicons-exclamation-triangle";case"error":return"i-heroicons-x-circle";case"info":default:return"i-heroicons-information-circle"}},a=l=>{switch(l){case"success":return"bg-green-700 dark:bg-green-800";case"warning":return"bg-yellow-700 dark:bg-yellow-800";case"error":return"bg-red-700 dark:bg-red-800";case"info":default:return"bg-amber-700 dark:bg-amber-800"}};return(l,i)=>(p(),g("div",hq,[Ee(Zm,{name:"toast"},{default:it(()=>[(p(!0),g($e,null,Te(f(t),u=>(p(),g("div",{key:u.id,class:ee(["rounded-lg shadow-lg text-white p-3 flex items-start gap-2",a(u.type)])},[r("span",{class:ee([n(u.type),"text-xl flex-shrink-0 mt-0.5"])},null,2),r("div",xq,[r("p",yq,v(u.message),1)]),r("button",{onClick:c=>f(o)(u.id),class:"text-white hover:text-gray-200 flex-shrink-0"},i[0]||(i[0]=[r("span",{class:"i-heroicons-x-mark text-lg"},null,-1)]),8,kq)],2))),128))]),_:1})]))}}),wq=We(_q,[["__scopeId","data-v-34c8d993"]]),$q={key:0,class:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 shadow-lg p-4 z-50 border-t border-gray-200 dark:border-gray-700"},Cq={class:"container mx-auto flex flex-col md:flex-row items-center justify-between gap-4"},Sq={class:"flex gap-3"},Aq=Ie({__name:"GdprConsentBanner",setup(e){const{acceptConsent:t,declineConsent:o,isPending:n}=kl();return(a,l)=>(p(),Ge(no,{name:"slide-up"},{default:it(()=>[f(n)()?(p(),g("div",$q,[r("div",Cq,[l[2]||(l[2]=r("div",{class:"text-sm text-gray-700 dark:text-gray-300"},[r("p",null,' We use cookies and similar technologies to analyze traffic, enhance site functionality, and improve your experience. By clicking "Accept", you consent to the use of cookies for analytics purposes. ')],-1)),r("div",Sq,[r("button",{class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",onClick:l[0]||(l[0]=(...i)=>f(o)&&f(o)(...i))}," Decline "),r("button",{class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:l[1]||(l[1]=(...i)=>f(t)&&f(t)(...i))}," Accept ")])])])):G("",!0)]),_:1}))}}),Eq=We(Aq,[["__scopeId","data-v-270f4b2e"]]),Mq={key:0,class:"font-bold text-lg mb-2 text-gray-900 dark:text-white"},Pq={class:"text-gray-700 dark:text-gray-300 mb-4"},Tq={class:"text-xs text-gray-500 dark:text-gray-400 mb-3"},Lq={class:"flex justify-between"},Iq={key:1,class:"flex-1"},Fq=Ie({__name:"TourTooltip",props:{step:{},isFirstStep:{type:Boolean},isLastStep:{type:Boolean},currentStepIndex:{},totalSteps:{}},emits:["next","prev","skip"],setup(e,{emit:t}){const o=e,n=t,a=B(null),l=mn();return He(()=>{a.value&&(l.tooltipElement&&(l.tooltipElement=a.value),console.log("Tooltip element set in store",a.value),setTimeout(()=>{console.log("Positioning tooltip on mount"),l.positionTooltip()},100))}),De(()=>o.step,()=>{setTimeout(()=>{a.value&&(l.tooltipElement=a.value,console.log("Tooltip element updated in store on step change"),l.highlightTarget(),l.positionTooltip())},100)}),(i,u)=>(p(),g("div",{ref_key:"tooltipRef",ref:a,class:ee(["fixed z-50 p-4 bg-white dark:bg-gray-800 rounded-lg shadow-lg max-w-sm tour-tooltip",`tour-tooltip-${i.step.placement||"bottom"}`])},[i.step.title?(p(),g("div",Mq,v(i.step.title),1)):G("",!0),r("div",Pq,v(i.step.content),1),r("div",Tq," Step "+v(i.currentStepIndex+1)+" of "+v(i.totalSteps),1),r("div",Lq,[i.isFirstStep?(p(),g("div",Iq)):(p(),g("button",{key:0,onClick:u[0]||(u[0]=c=>n("prev")),class:"px-3 py-1 text-sm bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"}," Previous ")),r("button",{onClick:u[1]||(u[1]=c=>n("skip")),class:"px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors"}," Skip Tour "),r("button",{onClick:u[2]||(u[2]=c=>n("next")),class:"px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors"},v(i.isLastStep?"Finish":"Next"),1)])],2))}}),Uq=We(Fq,[["__scopeId","data-v-ca46d417"]]),Rq={key:0,class:"tour-container"},Dq=Ie({__name:"Tour",setup(e){const t=mn();return De(()=>t.isActive,o=>{o&&setTimeout(()=>{t.highlightTarget()},100)},{immediate:!0}),He(()=>{t.isActive&&setTimeout(()=>{t.highlightTarget()},100)}),(o,n)=>(p(),Ge(A0,{to:"body"},[f(t).isActive&&f(t).currentStep?(p(),g("div",Rq,[n[0]||(n[0]=r("div",{class:"fixed inset-0 z-40 pointer-events-none bg-opacity-30 backdrop-blur-sm"},null,-1)),Ee(Uq,{step:f(t).currentStep,"is-first-step":f(t).isFirstStep,"is-last-step":f(t).isLastStep,"current-step-index":f(t).currentStepIndex,"total-steps":f(t).totalSteps,onNext:f(t).nextStep,onPrev:f(t).prevStep,onSkip:f(t).skipTour},null,8,["step","is-first-step","is-last-step","current-step-index","total-steps","onNext","onPrev","onSkip"])])):G("",!0)]))}}),qq=Ie({__name:"TourRestartButton",props:{buttonText:{default:"Start Tour"},buttonClass:{default:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors"}},setup(e){const t=mn(),o=()=>{console.log("Restarting tour"),t.resetTour(),t.startTour()};return(n,a)=>(p(),g("button",{class:ee(n.buttonClass),onClick:o},[Mo(n.$slots,"default",{},()=>[Y(v(n.buttonText),1)])],2))}}),Nq={key:0,class:"fixed bottom-24 right-6 z-50 w-80 bg-amber-50 dark:bg-gray-800 rounded-lg shadow-lg border border-amber-200 dark:border-amber-800 overflow-hidden"},Oq={class:"p-4"},Bq={class:"flex items-center gap-3"},Qq={class:"flex-shrink-0 w-10 h-10 rounded-full bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center"},jq={class:"flex-1"},Hq={class:"mt-1 text-sm font-medium text-amber-700 dark:text-amber-200"},Gq={class:"mt-0.5 text-xs text-amber-600/90 dark:text-amber-400/90"},Vq=Ie({__name:"AchievementNotification",setup(e){const t=Xt(),o=L(()=>t.recentlyCompleted[0]),n=L(()=>t.showNotification);return(a,l)=>(p(),Ge(no,{name:"slide-fade"},{default:it(()=>[n.value&&o.value?(p(),g("div",Nq,[r("div",Oq,[r("div",Bq,[r("div",Qq,[r("span",{class:ee([o.value.icon,"text-xl text-amber-600 dark:text-amber-300"])},null,2)]),r("div",jq,[l[0]||(l[0]=r("div",{class:"flex items-baseline justify-between"},[r("h3",{class:"text-sm font-medium text-amber-800 dark:text-amber-300"},"Achievement Unlocked!"),r("span",{class:"text-xs text-amber-600 dark:text-amber-400 font-bold px-2 py-0.5 rounded-full bg-amber-100 dark:bg-amber-900/30"}," +1 ")],-1)),r("p",Hq,v(o.value.name),1),r("p",Gq,v(o.value.description),1)])])]),l[1]||(l[1]=r("div",{class:"h-1 bg-amber-500 dark:bg-amber-600 animate-shrink"},null,-1))])):G("",!0)]),_:1}))}}),Wq=We(Vq,[["__scopeId","data-v-be41e0d8"]]);function zq(){const e=B(!0),t=B(Date.now()),o=ur(),n=async()=>{const l=e.value;if(e.value=document.visibilityState==="visible",e.value&&!l){const u=(Date.now()-t.value)/1e3;u>=5&&await o.calculateOfflineProgress(u,!0)}t.value=Date.now()},a=()=>{localStorage.setItem("lastActiveTimestamp",t.value.toString())};return He(async()=>{const l=localStorage.getItem("lastActiveTimestamp");if(l){const i=Date.now(),u=parseInt(l,10),c=(i-u)/1e3;c>=5&&await o.calculateOfflineProgress(c,!0),t.value=i,localStorage.removeItem("lastActiveTimestamp")}document.addEventListener("visibilitychange",n),window.addEventListener("beforeunload",a)}),er(()=>{document.removeEventListener("visibilitychange",n),window.removeEventListener("beforeunload",a)}),{isVisible:xa(e)}}const Xq={key:0},Kq={key:1,class:"fixed bottom-4 right-4 z-30"},Yq=Ie({__name:"App",setup(e){const t=ur(),o=B(!1);zq(),L(()=>t.isCalculatingOfflineProgress),De(()=>t.isCalculatingOfflineProgress,a=>{console.log("Calculation state changed to:",a)}),pn(),td({debounceTime:150,storageKey:"idleAntFarmScrollPositions",scrollElementSelector:"main"});const n=()=>{console.log("Closing offline progress modal"),t.showOfflineProgressModal=!1};return ns(),(a,l)=>{const i=Ca("router-view");return p(),g("div",null,[f(t).showOfflineProgressModal?G("",!0):(p(),g("div",Xq,[Ee(FD,null,{default:it(()=>[Ee(i)]),_:1}),Ee(bq),Ee(uq),Ee(wq),Ee(Wq),Ee(Eq),o.value?(p(),Ge(Dq,{key:0})):G("",!0),o.value?(p(),g("div",Kq,[Ee(qq,{"button-class":"px-4 py-2 bg-blue-500 text-white rounded-full shadow-lg hover:bg-blue-600 transition-colors flex items-center"},{default:it(()=>l[0]||(l[0]=[r("span",{class:"mr-1"},"?",-1),Y(" Help & Tour ")])),_:1})])):G("",!0)])),Ee(sq,{"is-visible":f(t).showOfflineProgressModal,"total-ticks":f(t).offlineProgressTotalTicks,"ticks-processed":f(t).offlineProgressTicksProcessed,"elapsed-time":f(t).offlineProgressElapsedTime,onClose:n},null,8,["is-visible","total-ticks","ticks-processed","elapsed-time"])])}}}),bn=dp(Yq),Jq=hf();bn.use(Jq);bn.use(ia);const{hasConsent:Zi}=kl();bn.use(fR,{property:{id:"G-B1PSTMRJMF"},isEnabled:Zi(),useDebugger:!1,disableScriptLoad:!Zi()});bn.mount("#app");const Ld=ur(),eu=Ld.loadGame();eu&&console.log("Loaded game with offline progress:",eu);Ld.startAutoSave();
