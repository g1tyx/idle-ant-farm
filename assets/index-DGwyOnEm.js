(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function qn(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const je={},Gr=[],jt=()=>{},Xu=()=>!1,ks=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Rn=e=>e.startsWith("onUpdate:"),Xe=Object.assign,Fn=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Zu=Object.prototype.hasOwnProperty,Fe=(e,t)=>Zu.call(e,t),Ce=Array.isArray,Vr=e=>To(e)==="[object Map]",_s=e=>To(e)==="[object Set]",ga=e=>To(e)==="[object Date]",Me=e=>typeof e=="function",Ke=e=>typeof e=="string",It=e=>typeof e=="symbol",Qe=e=>e!==null&&typeof e=="object",ji=e=>(Qe(e)||Me(e))&&Me(e.then)&&Me(e.catch),Hi=Object.prototype.toString,To=e=>Hi.call(e),ec=e=>To(e).slice(8,-1),Gi=e=>To(e)==="[object Object]",Un=e=>Ke(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,co=qn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ws=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},tc=/-(\w)/g,Et=ws(e=>e.replace(tc,(t,r)=>r?r.toUpperCase():"")),rc=/\B([A-Z])/g,pr=ws(e=>e.replace(rc,"-$1").toLowerCase()),Ss=ws(e=>e.charAt(0).toUpperCase()+e.slice(1)),js=ws(e=>e?`on${Ss(e)}`:""),dr=(e,t)=>!Object.is(e,t),ts=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},Vi=(e,t,r,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:r})},pn=e=>{const t=parseFloat(e);return isNaN(t)?e:t},oc=e=>{const t=Ke(e)?Number(e):NaN;return isNaN(t)?e:t};let va;const $s=()=>va||(va=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function tt(e){if(Ce(e)){const t={};for(let r=0;r<e.length;r++){const s=e[r],a=Ke(s)?ic(s):tt(s);if(a)for(const i in a)t[i]=a[i]}return t}else if(Ke(e)||Qe(e))return e}const sc=/;(?![^(]*\))/g,nc=/:([^]+)/,ac=/\/\*[^]*?\*\//g;function ic(e){const t={};return e.replace(ac,"").split(sc).forEach(r=>{if(r){const s=r.split(nc);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function ne(e){let t="";if(Ke(e))t=e;else if(Ce(e))for(let r=0;r<e.length;r++){const s=ne(e[r]);s&&(t+=s+" ")}else if(Qe(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const lc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",uc=qn(lc);function Wi(e){return!!e||e===""}function cc(e,t){if(e.length!==t.length)return!1;let r=!0;for(let s=0;r&&s<e.length;s++)r=Cs(e[s],t[s]);return r}function Cs(e,t){if(e===t)return!0;let r=ga(e),s=ga(t);if(r||s)return r&&s?e.getTime()===t.getTime():!1;if(r=It(e),s=It(t),r||s)return e===t;if(r=Ce(e),s=Ce(t),r||s)return r&&s?cc(e,t):!1;if(r=Qe(e),s=Qe(t),r||s){if(!r||!s)return!1;const a=Object.keys(e).length,i=Object.keys(t).length;if(a!==i)return!1;for(const l in e){const u=e.hasOwnProperty(l),c=t.hasOwnProperty(l);if(u&&!c||!u&&c||!Cs(e[l],t[l]))return!1}}return String(e)===String(t)}function Ki(e,t){return e.findIndex(r=>Cs(r,t))}const zi=e=>!!(e&&e.__v_isRef===!0),_=e=>Ke(e)?e:e==null?"":Ce(e)||Qe(e)&&(e.toString===Hi||!Me(e.toString))?zi(e)?_(e.value):JSON.stringify(e,Yi,2):String(e),Yi=(e,t)=>zi(t)?Yi(e,t.value):Vr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[s,a],i)=>(r[Hs(s,i)+" =>"]=a,r),{})}:_s(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>Hs(r))}:It(t)?Hs(t):Qe(t)&&!Ce(t)&&!Gi(t)?String(t):t,Hs=(e,t="")=>{var r;return It(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let lt;class Ji{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=lt,!t&&lt&&(this.index=(lt.scopes||(lt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=lt;try{return lt=this,t()}finally{lt=r}}}on(){lt=this}off(){lt=this.parent}stop(t){if(this._active){this._active=!1;let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(this.effects.length=0,r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function Xi(e){return new Ji(e)}function Nn(){return lt}function Zi(e,t=!1){lt&&lt.cleanups.push(e)}let Ge;const Gs=new WeakSet;class el{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,lt&&lt.active&&lt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Gs.has(this)&&(Gs.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||rl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ha(this),ol(this);const t=Ge,r=Pt;Ge=this,Pt=!0;try{return this.fn()}finally{sl(this),Ge=t,Pt=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Dn(t);this.deps=this.depsTail=void 0,ha(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Gs.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){fn(this)&&this.run()}get dirty(){return fn(this)}}let tl=0,mo,po;function rl(e,t=!1){if(e.flags|=8,t){e.next=po,po=e;return}e.next=mo,mo=e}function Bn(){tl++}function On(){if(--tl>0)return;if(po){let t=po;for(po=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;mo;){let t=mo;for(mo=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=r}}if(e)throw e}function ol(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function sl(e){let t,r=e.depsTail,s=r;for(;s;){const a=s.prevDep;s.version===-1?(s===r&&(r=a),Dn(s),dc(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=a}e.deps=t,e.depsTail=r}function fn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(nl(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function nl(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ko))return;e.globalVersion=ko;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!fn(e)){e.flags&=-3;return}const r=Ge,s=Pt;Ge=e,Pt=!0;try{ol(e);const a=e.fn(e._value);(t.version===0||dr(a,e._value))&&(e._value=a,t.version++)}catch(a){throw t.version++,a}finally{Ge=r,Pt=s,sl(e),e.flags&=-3}}function Dn(e,t=!1){const{dep:r,prevSub:s,nextSub:a}=e;if(s&&(s.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=s,e.nextSub=void 0),r.subs===e&&(r.subs=s,!s&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)Dn(i,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function dc(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let Pt=!0;const al=[];function fr(){al.push(Pt),Pt=!1}function gr(){const e=al.pop();Pt=e===void 0?!0:e}function ha(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=Ge;Ge=void 0;try{t()}finally{Ge=r}}}let ko=0;class mc{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Qn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ge||!Pt||Ge===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Ge)r=this.activeLink=new mc(Ge,this),Ge.deps?(r.prevDep=Ge.depsTail,Ge.depsTail.nextDep=r,Ge.depsTail=r):Ge.deps=Ge.depsTail=r,il(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const s=r.nextDep;s.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=s),r.prevDep=Ge.depsTail,r.nextDep=void 0,Ge.depsTail.nextDep=r,Ge.depsTail=r,Ge.deps===r&&(Ge.deps=s)}return r}trigger(t){this.version++,ko++,this.notify(t)}notify(t){Bn();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{On()}}}function il(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)il(s)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const us=new WeakMap,Mr=Symbol(""),gn=Symbol(""),_o=Symbol("");function st(e,t,r){if(Pt&&Ge){let s=us.get(e);s||us.set(e,s=new Map);let a=s.get(r);a||(s.set(r,a=new Qn),a.map=s,a.key=r),a.track()}}function zt(e,t,r,s,a,i){const l=us.get(e);if(!l){ko++;return}const u=c=>{c&&c.trigger()};if(Bn(),t==="clear")l.forEach(u);else{const c=Ce(e),d=c&&Un(r);if(c&&r==="length"){const m=Number(s);l.forEach((g,f)=>{(f==="length"||f===_o||!It(f)&&f>=m)&&u(g)})}else switch((r!==void 0||l.has(void 0))&&u(l.get(r)),d&&u(l.get(_o)),t){case"add":c?d&&u(l.get("length")):(u(l.get(Mr)),Vr(e)&&u(l.get(gn)));break;case"delete":c||(u(l.get(Mr)),Vr(e)&&u(l.get(gn)));break;case"set":Vr(e)&&u(l.get(Mr));break}}On()}function pc(e,t){const r=us.get(e);return r&&r.get(t)}function Fr(e){const t=Le(e);return t===e?t:(st(t,"iterate",_o),$t(e)?t:t.map(nt))}function Es(e){return st(e=Le(e),"iterate",_o),e}const fc={__proto__:null,[Symbol.iterator](){return Vs(this,Symbol.iterator,nt)},concat(...e){return Fr(this).concat(...e.map(t=>Ce(t)?Fr(t):t))},entries(){return Vs(this,"entries",e=>(e[1]=nt(e[1]),e))},every(e,t){return Vt(this,"every",e,t,void 0,arguments)},filter(e,t){return Vt(this,"filter",e,t,r=>r.map(nt),arguments)},find(e,t){return Vt(this,"find",e,t,nt,arguments)},findIndex(e,t){return Vt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Vt(this,"findLast",e,t,nt,arguments)},findLastIndex(e,t){return Vt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Vt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ws(this,"includes",e)},indexOf(...e){return Ws(this,"indexOf",e)},join(e){return Fr(this).join(e)},lastIndexOf(...e){return Ws(this,"lastIndexOf",e)},map(e,t){return Vt(this,"map",e,t,void 0,arguments)},pop(){return so(this,"pop")},push(...e){return so(this,"push",e)},reduce(e,...t){return ba(this,"reduce",e,t)},reduceRight(e,...t){return ba(this,"reduceRight",e,t)},shift(){return so(this,"shift")},some(e,t){return Vt(this,"some",e,t,void 0,arguments)},splice(...e){return so(this,"splice",e)},toReversed(){return Fr(this).toReversed()},toSorted(e){return Fr(this).toSorted(e)},toSpliced(...e){return Fr(this).toSpliced(...e)},unshift(...e){return so(this,"unshift",e)},values(){return Vs(this,"values",nt)}};function Vs(e,t,r){const s=Es(e),a=s[t]();return s!==e&&!$t(e)&&(a._next=a.next,a.next=()=>{const i=a._next();return i.value&&(i.value=r(i.value)),i}),a}const gc=Array.prototype;function Vt(e,t,r,s,a,i){const l=Es(e),u=l!==e&&!$t(e),c=l[t];if(c!==gc[t]){const g=c.apply(e,i);return u?nt(g):g}let d=r;l!==e&&(u?d=function(g,f){return r.call(this,nt(g),f,e)}:r.length>2&&(d=function(g,f){return r.call(this,g,f,e)}));const m=c.call(l,d,s);return u&&a?a(m):m}function ba(e,t,r,s){const a=Es(e);let i=r;return a!==e&&($t(e)?r.length>3&&(i=function(l,u,c){return r.call(this,l,u,c,e)}):i=function(l,u,c){return r.call(this,l,nt(u),c,e)}),a[t](i,...s)}function Ws(e,t,r){const s=Le(e);st(s,"iterate",_o);const a=s[t](...r);return(a===-1||a===!1)&&Vn(r[0])?(r[0]=Le(r[0]),s[t](...r)):a}function so(e,t,r=[]){fr(),Bn();const s=Le(e)[t].apply(e,r);return On(),gr(),s}const vc=qn("__proto__,__v_isRef,__isVue"),ll=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(It));function hc(e){It(e)||(e=String(e));const t=Le(this);return st(t,"has",e),t.hasOwnProperty(e)}class ul{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,s){if(r==="__v_skip")return t.__v_skip;const a=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!a;if(r==="__v_isReadonly")return a;if(r==="__v_isShallow")return i;if(r==="__v_raw")return s===(a?i?Ec:pl:i?ml:dl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const l=Ce(t);if(!a){let c;if(l&&(c=fc[r]))return c;if(r==="hasOwnProperty")return hc}const u=Reflect.get(t,r,Te(t)?t:s);return(It(r)?ll.has(r):vc(r))||(a||st(t,"get",r),i)?u:Te(u)?l&&Un(r)?u:u.value:Qe(u)?a?Hn(u):Lr(u):u}}class cl extends ul{constructor(t=!1){super(!1,t)}set(t,r,s,a){let i=t[r];if(!this._isShallow){const c=Pr(i);if(!$t(s)&&!Pr(s)&&(i=Le(i),s=Le(s)),!Ce(t)&&Te(i)&&!Te(s))return c?!1:(i.value=s,!0)}const l=Ce(t)&&Un(r)?Number(r)<t.length:Fe(t,r),u=Reflect.set(t,r,s,Te(t)?t:a);return t===Le(a)&&(l?dr(s,i)&&zt(t,"set",r,s):zt(t,"add",r,s)),u}deleteProperty(t,r){const s=Fe(t,r);t[r];const a=Reflect.deleteProperty(t,r);return a&&s&&zt(t,"delete",r,void 0),a}has(t,r){const s=Reflect.has(t,r);return(!It(r)||!ll.has(r))&&st(t,"has",r),s}ownKeys(t){return st(t,"iterate",Ce(t)?"length":Mr),Reflect.ownKeys(t)}}class bc extends ul{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const yc=new cl,xc=new bc,kc=new cl(!0);const vn=e=>e,Qo=e=>Reflect.getPrototypeOf(e);function _c(e,t,r){return function(...s){const a=this.__v_raw,i=Le(a),l=Vr(i),u=e==="entries"||e===Symbol.iterator&&l,c=e==="keys"&&l,d=a[e](...s),m=r?vn:t?hn:nt;return!t&&st(i,"iterate",c?gn:Mr),{next(){const{value:g,done:f}=d.next();return f?{value:g,done:f}:{value:u?[m(g[0]),m(g[1])]:m(g),done:f}},[Symbol.iterator](){return this}}}}function jo(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function wc(e,t){const r={get(a){const i=this.__v_raw,l=Le(i),u=Le(a);e||(dr(a,u)&&st(l,"get",a),st(l,"get",u));const{has:c}=Qo(l),d=t?vn:e?hn:nt;if(c.call(l,a))return d(i.get(a));if(c.call(l,u))return d(i.get(u));i!==l&&i.get(a)},get size(){const a=this.__v_raw;return!e&&st(Le(a),"iterate",Mr),Reflect.get(a,"size",a)},has(a){const i=this.__v_raw,l=Le(i),u=Le(a);return e||(dr(a,u)&&st(l,"has",a),st(l,"has",u)),a===u?i.has(a):i.has(a)||i.has(u)},forEach(a,i){const l=this,u=l.__v_raw,c=Le(u),d=t?vn:e?hn:nt;return!e&&st(c,"iterate",Mr),u.forEach((m,g)=>a.call(i,d(m),d(g),l))}};return Xe(r,e?{add:jo("add"),set:jo("set"),delete:jo("delete"),clear:jo("clear")}:{add(a){!t&&!$t(a)&&!Pr(a)&&(a=Le(a));const i=Le(this);return Qo(i).has.call(i,a)||(i.add(a),zt(i,"add",a,a)),this},set(a,i){!t&&!$t(i)&&!Pr(i)&&(i=Le(i));const l=Le(this),{has:u,get:c}=Qo(l);let d=u.call(l,a);d||(a=Le(a),d=u.call(l,a));const m=c.call(l,a);return l.set(a,i),d?dr(i,m)&&zt(l,"set",a,i):zt(l,"add",a,i),this},delete(a){const i=Le(this),{has:l,get:u}=Qo(i);let c=l.call(i,a);c||(a=Le(a),c=l.call(i,a)),u&&u.call(i,a);const d=i.delete(a);return c&&zt(i,"delete",a,void 0),d},clear(){const a=Le(this),i=a.size!==0,l=a.clear();return i&&zt(a,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(a=>{r[a]=_c(a,e,t)}),r}function jn(e,t){const r=wc(e,t);return(s,a,i)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?s:Reflect.get(Fe(r,a)&&a in s?r:s,a,i)}const Sc={get:jn(!1,!1)},$c={get:jn(!1,!0)},Cc={get:jn(!0,!1)};const dl=new WeakMap,ml=new WeakMap,pl=new WeakMap,Ec=new WeakMap;function Mc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ac(e){return e.__v_skip||!Object.isExtensible(e)?0:Mc(ec(e))}function Lr(e){return Pr(e)?e:Gn(e,!1,yc,Sc,dl)}function fl(e){return Gn(e,!1,kc,$c,ml)}function Hn(e){return Gn(e,!0,xc,Cc,pl)}function Gn(e,t,r,s,a){if(!Qe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=a.get(e);if(i)return i;const l=Ac(e);if(l===0)return e;const u=new Proxy(e,l===2?s:r);return a.set(e,u),u}function Jt(e){return Pr(e)?Jt(e.__v_raw):!!(e&&e.__v_isReactive)}function Pr(e){return!!(e&&e.__v_isReadonly)}function $t(e){return!!(e&&e.__v_isShallow)}function Vn(e){return e?!!e.__v_raw:!1}function Le(e){const t=e&&e.__v_raw;return t?Le(t):e}function Wn(e){return!Fe(e,"__v_skip")&&Object.isExtensible(e)&&Vi(e,"__v_skip",!0),e}const nt=e=>Qe(e)?Lr(e):e,hn=e=>Qe(e)?Hn(e):e;function Te(e){return e?e.__v_isRef===!0:!1}function N(e){return gl(e,!1)}function ut(e){return gl(e,!0)}function gl(e,t){return Te(e)?e:new Pc(e,t)}class Pc{constructor(t,r){this.dep=new Qn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:Le(t),this._value=r?t:nt(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,s=this.__v_isShallow||$t(t)||Pr(t);t=s?t:Le(t),dr(t,r)&&(this._rawValue=t,this._value=s?t:nt(t),this.dep.trigger())}}function E(e){return Te(e)?e.value:e}function Ht(e){return Me(e)?e():E(e)}const Ic={get:(e,t,r)=>t==="__v_raw"?e:E(Reflect.get(e,t,r)),set:(e,t,r,s)=>{const a=e[t];return Te(a)&&!Te(r)?(a.value=r,!0):Reflect.set(e,t,r,s)}};function vl(e){return Jt(e)?e:new Proxy(e,Ic)}function hl(e){const t=Ce(e)?new Array(e.length):{};for(const r in e)t[r]=bl(e,r);return t}class Lc{constructor(t,r,s){this._object=t,this._key=r,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return pc(Le(this._object),this._key)}}class Tc{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function qc(e,t,r){return Te(e)?e:Me(e)?new Tc(e):Qe(e)&&arguments.length>1?bl(e,t,r):N(e)}function bl(e,t,r){const s=e[t];return Te(s)?s:new Lc(e,t,r)}class Rc{constructor(t,r,s){this.fn=t,this.setter=r,this._value=void 0,this.dep=new Qn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ko-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Ge!==this)return rl(this,!0),!0}get value(){const t=this.dep.track();return nl(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Fc(e,t,r=!1){let s,a;return Me(e)?s=e:(s=e.get,a=e.set),new Rc(s,a,r)}const Ho={},cs=new WeakMap;let Sr;function Uc(e,t=!1,r=Sr){if(r){let s=cs.get(r);s||cs.set(r,s=[]),s.push(e)}}function Nc(e,t,r=je){const{immediate:s,deep:a,once:i,scheduler:l,augmentJob:u,call:c}=r,d=M=>a?M:$t(M)||a===!1||a===0?Yt(M,1):Yt(M);let m,g,f,p,h=!1,x=!1;if(Te(e)?(g=()=>e.value,h=$t(e)):Jt(e)?(g=()=>d(e),h=!0):Ce(e)?(x=!0,h=e.some(M=>Jt(M)||$t(M)),g=()=>e.map(M=>{if(Te(M))return M.value;if(Jt(M))return d(M);if(Me(M))return c?c(M,2):M()})):Me(e)?t?g=c?()=>c(e,2):e:g=()=>{if(f){fr();try{f()}finally{gr()}}const M=Sr;Sr=m;try{return c?c(e,3,[p]):e(p)}finally{Sr=M}}:g=jt,t&&a){const M=g,L=a===!0?1/0:a;g=()=>Yt(M(),L)}const k=Nn(),v=()=>{m.stop(),k&&k.active&&Fn(k.effects,m)};if(i&&t){const M=t;t=(...L)=>{M(...L),v()}}let w=x?new Array(e.length).fill(Ho):Ho;const S=M=>{if(!(!(m.flags&1)||!m.dirty&&!M))if(t){const L=m.run();if(a||h||(x?L.some((A,Y)=>dr(A,w[Y])):dr(L,w))){f&&f();const A=Sr;Sr=m;try{const Y=[L,w===Ho?void 0:x&&w[0]===Ho?[]:w,p];c?c(t,3,Y):t(...Y),w=L}finally{Sr=A}}}else m.run()};return u&&u(S),m=new el(g),m.scheduler=l?()=>l(S,!1):S,p=M=>Uc(M,!1,m),f=m.onStop=()=>{const M=cs.get(m);if(M){if(c)c(M,4);else for(const L of M)L();cs.delete(m)}},t?s?S(!0):w=m.run():l?l(S.bind(null,!0),!0):m.run(),v.pause=m.pause.bind(m),v.resume=m.resume.bind(m),v.stop=v,v}function Yt(e,t=1/0,r){if(t<=0||!Qe(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,Te(e))Yt(e.value,t,r);else if(Ce(e))for(let s=0;s<e.length;s++)Yt(e[s],t,r);else if(_s(e)||Vr(e))e.forEach(s=>{Yt(s,t,r)});else if(Gi(e)){for(const s in e)Yt(e[s],t,r);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Yt(e[s],t,r)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function qo(e,t,r,s){try{return s?e(...s):e()}catch(a){Ms(a,t,r)}}function Lt(e,t,r,s){if(Me(e)){const a=qo(e,t,r,s);return a&&ji(a)&&a.catch(i=>{Ms(i,t,r)}),a}if(Ce(e)){const a=[];for(let i=0;i<e.length;i++)a.push(Lt(e[i],t,r,s));return a}}function Ms(e,t,r,s=!0){const a=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||je;if(t){let u=t.parent;const c=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${r}`;for(;u;){const m=u.ec;if(m){for(let g=0;g<m.length;g++)if(m[g](e,c,d)===!1)return}u=u.parent}if(i){fr(),qo(i,null,10,[e,c,d]),gr();return}}Bc(e,r,a,s,l)}function Bc(e,t,r,s=!0,a=!1){if(a)throw e;console.error(e)}const ct=[];let Dt=-1;const Wr=[];let sr=null,Dr=0;const yl=Promise.resolve();let ds=null;function Ro(e){const t=ds||yl;return e?t.then(this?e.bind(this):e):t}function Oc(e){let t=Dt+1,r=ct.length;for(;t<r;){const s=t+r>>>1,a=ct[s],i=wo(a);i<e||i===e&&a.flags&2?t=s+1:r=s}return t}function Kn(e){if(!(e.flags&1)){const t=wo(e),r=ct[ct.length-1];!r||!(e.flags&2)&&t>=wo(r)?ct.push(e):ct.splice(Oc(t),0,e),e.flags|=1,xl()}}function xl(){ds||(ds=yl.then(_l))}function Dc(e){Ce(e)?Wr.push(...e):sr&&e.id===-1?sr.splice(Dr+1,0,e):e.flags&1||(Wr.push(e),e.flags|=1),xl()}function ya(e,t,r=Dt+1){for(;r<ct.length;r++){const s=ct[r];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;ct.splice(r,1),r--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function kl(e){if(Wr.length){const t=[...new Set(Wr)].sort((r,s)=>wo(r)-wo(s));if(Wr.length=0,sr){sr.push(...t);return}for(sr=t,Dr=0;Dr<sr.length;Dr++){const r=sr[Dr];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}sr=null,Dr=0}}const wo=e=>e.id==null?e.flags&2?-1:1/0:e.id;function _l(e){try{for(Dt=0;Dt<ct.length;Dt++){const t=ct[Dt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),qo(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Dt<ct.length;Dt++){const t=ct[Dt];t&&(t.flags&=-2)}Dt=-1,ct.length=0,kl(),ds=null,(ct.length||Wr.length)&&_l()}}let Je=null,wl=null;function ms(e){const t=Je;return Je=e,wl=e&&e.type.__scopeId||null,t}function We(e,t=Je,r){if(!t||e._n)return e;const s=(...a)=>{s._d&&Ta(-1);const i=ms(t);let l;try{l=e(...a)}finally{ms(i),s._d&&Ta(1)}return l};return s._n=!0,s._c=!0,s._d=!0,s}function He(e,t){if(Je===null)return e;const r=Ts(Je),s=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[i,l,u,c=je]=t[a];i&&(Me(i)&&(i={mounted:i,updated:i}),i.deep&&Yt(l),s.push({dir:i,instance:r,value:l,oldValue:void 0,arg:u,modifiers:c}))}return e}function kr(e,t,r,s){const a=e.dirs,i=t&&t.dirs;for(let l=0;l<a.length;l++){const u=a[l];i&&(u.oldValue=i[l].value);let c=u.dir[s];c&&(fr(),Lt(c,r,8,[e.el,u,e,t]),gr())}}const Sl=Symbol("_vte"),$l=e=>e.__isTeleport,fo=e=>e&&(e.disabled||e.disabled===""),xa=e=>e&&(e.defer||e.defer===""),ka=e=>typeof SVGElement<"u"&&e instanceof SVGElement,_a=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,bn=(e,t)=>{const r=e&&e.to;return Ke(r)?t?t(r):null:r},Cl={name:"Teleport",__isTeleport:!0,process(e,t,r,s,a,i,l,u,c,d){const{mc:m,pc:g,pbc:f,o:{insert:p,querySelector:h,createText:x,createComment:k}}=d,v=fo(t.props);let{shapeFlag:w,children:S,dynamicChildren:M}=t;if(e==null){const L=t.el=x(""),A=t.anchor=x("");p(L,r,s),p(A,r,s);const Y=(T,G)=>{w&16&&(a&&a.isCE&&(a.ce._teleportTarget=T),m(S,T,G,a,i,l,u,c))},U=()=>{const T=t.target=bn(t.props,h),G=El(T,t,x,p);T&&(l!=="svg"&&ka(T)?l="svg":l!=="mathml"&&_a(T)&&(l="mathml"),v||(Y(T,G),rs(t,!1)))};v&&(Y(r,A),rs(t,!0)),xa(t.props)?it(()=>{U(),t.el.__isMounted=!0},i):U()}else{if(xa(t.props)&&!e.el.__isMounted){it(()=>{Cl.process(e,t,r,s,a,i,l,u,c,d),delete e.el.__isMounted},i);return}t.el=e.el,t.targetStart=e.targetStart;const L=t.anchor=e.anchor,A=t.target=e.target,Y=t.targetAnchor=e.targetAnchor,U=fo(e.props),T=U?r:A,G=U?L:Y;if(l==="svg"||ka(A)?l="svg":(l==="mathml"||_a(A))&&(l="mathml"),M?(f(e.dynamicChildren,M,T,a,i,l,u),Zn(e,t,!0)):c||g(e,t,T,G,a,i,l,u,!1),v)U?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Go(t,r,L,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const D=t.target=bn(t.props,h);D&&Go(t,D,null,d,0)}else U&&Go(t,A,Y,d,1);rs(t,v)}},remove(e,t,r,{um:s,o:{remove:a}},i){const{shapeFlag:l,children:u,anchor:c,targetStart:d,targetAnchor:m,target:g,props:f}=e;if(g&&(a(d),a(m)),i&&a(c),l&16){const p=i||!fo(f);for(let h=0;h<u.length;h++){const x=u[h];s(x,t,r,p,!!x.dynamicChildren)}}},move:Go,hydrate:Qc};function Go(e,t,r,{o:{insert:s},m:a},i=2){i===0&&s(e.targetAnchor,t,r);const{el:l,anchor:u,shapeFlag:c,children:d,props:m}=e,g=i===2;if(g&&s(l,t,r),(!g||fo(m))&&c&16)for(let f=0;f<d.length;f++)a(d[f],t,r,2);g&&s(u,t,r)}function Qc(e,t,r,s,a,i,{o:{nextSibling:l,parentNode:u,querySelector:c,insert:d,createText:m}},g){const f=t.target=bn(t.props,c);if(f){const p=fo(t.props),h=f._lpa||f.firstChild;if(t.shapeFlag&16)if(p)t.anchor=g(l(e),t,u(e),r,s,a,i),t.targetStart=h,t.targetAnchor=h&&l(h);else{t.anchor=l(e);let x=h;for(;x;){if(x&&x.nodeType===8){if(x.data==="teleport start anchor")t.targetStart=x;else if(x.data==="teleport anchor"){t.targetAnchor=x,f._lpa=t.targetAnchor&&l(t.targetAnchor);break}}x=l(x)}t.targetAnchor||El(f,t,m,d),g(h&&l(h),t,f,r,s,a,i)}rs(t,p)}return t.anchor&&l(t.anchor)}const jc=Cl;function rs(e,t){const r=e.ctx;if(r&&r.ut){let s,a;for(t?(s=e.el,a=e.anchor):(s=e.targetStart,a=e.targetAnchor);s&&s!==a;)s.nodeType===1&&s.setAttribute("data-v-owner",r.uid),s=s.nextSibling;r.ut()}}function El(e,t,r,s){const a=t.targetStart=r(""),i=t.targetAnchor=r("");return a[Sl]=i,e&&(s(a,e),s(i,e)),i}const nr=Symbol("_leaveCb"),Vo=Symbol("_enterCb");function Ml(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return qe(()=>{e.isMounted=!0}),At(()=>{e.isUnmounting=!0}),e}const St=[Function,Array],Al={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:St,onEnter:St,onAfterEnter:St,onEnterCancelled:St,onBeforeLeave:St,onLeave:St,onAfterLeave:St,onLeaveCancelled:St,onBeforeAppear:St,onAppear:St,onAfterAppear:St,onAppearCancelled:St},Pl=e=>{const t=e.subTree;return t.component?Pl(t.component):t},Hc={name:"BaseTransition",props:Al,setup(e,{slots:t}){const r=Fo(),s=Ml();return()=>{const a=t.default&&zn(t.default(),!0);if(!a||!a.length)return;const i=Il(a),l=Le(e),{mode:u}=l;if(s.isLeaving)return Ks(i);const c=wa(i);if(!c)return Ks(i);let d=So(c,l,s,r,g=>d=g);c.type!==dt&&Ir(c,d);let m=r.subTree&&wa(r.subTree);if(m&&m.type!==dt&&!$r(c,m)&&Pl(r).type!==dt){let g=So(m,l,s,r);if(Ir(m,g),u==="out-in"&&c.type!==dt)return s.isLeaving=!0,g.afterLeave=()=>{s.isLeaving=!1,r.job.flags&8||r.update(),delete g.afterLeave,m=void 0},Ks(i);u==="in-out"&&c.type!==dt?g.delayLeave=(f,p,h)=>{const x=Ll(s,m);x[String(m.key)]=m,f[nr]=()=>{p(),f[nr]=void 0,delete d.delayedLeave,m=void 0},d.delayedLeave=()=>{h(),delete d.delayedLeave,m=void 0}}:m=void 0}else m&&(m=void 0);return i}}};function Il(e){let t=e[0];if(e.length>1){for(const r of e)if(r.type!==dt){t=r;break}}return t}const Gc=Hc;function Ll(e,t){const{leavingVNodes:r}=e;let s=r.get(t.type);return s||(s=Object.create(null),r.set(t.type,s)),s}function So(e,t,r,s,a){const{appear:i,mode:l,persisted:u=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:m,onEnterCancelled:g,onBeforeLeave:f,onLeave:p,onAfterLeave:h,onLeaveCancelled:x,onBeforeAppear:k,onAppear:v,onAfterAppear:w,onAppearCancelled:S}=t,M=String(e.key),L=Ll(r,e),A=(T,G)=>{T&&Lt(T,s,9,G)},Y=(T,G)=>{const D=G[1];A(T,G),Ce(T)?T.every(P=>P.length<=1)&&D():T.length<=1&&D()},U={mode:l,persisted:u,beforeEnter(T){let G=c;if(!r.isMounted)if(i)G=k||c;else return;T[nr]&&T[nr](!0);const D=L[M];D&&$r(e,D)&&D.el[nr]&&D.el[nr](),A(G,[T])},enter(T){let G=d,D=m,P=g;if(!r.isMounted)if(i)G=v||d,D=w||m,P=S||g;else return;let $=!1;const ee=T[Vo]=W=>{$||($=!0,W?A(P,[T]):A(D,[T]),U.delayedLeave&&U.delayedLeave(),T[Vo]=void 0)};G?Y(G,[T,ee]):ee()},leave(T,G){const D=String(e.key);if(T[Vo]&&T[Vo](!0),r.isUnmounting)return G();A(f,[T]);let P=!1;const $=T[nr]=ee=>{P||(P=!0,G(),ee?A(x,[T]):A(h,[T]),T[nr]=void 0,L[D]===e&&delete L[D])};L[D]=e,p?Y(p,[T,$]):$()},clone(T){const G=So(T,t,r,s,a);return a&&a(G),G}};return U}function Ks(e){if(As(e))return e=mr(e),e.children=null,e}function wa(e){if(!As(e))return $l(e.type)&&e.children?Il(e.children):e;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&Me(r.default))return r.default()}}function Ir(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ir(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function zn(e,t=!1,r){let s=[],a=0;for(let i=0;i<e.length;i++){let l=e[i];const u=r==null?l.key:String(r)+String(l.key!=null?l.key:i);l.type===he?(l.patchFlag&128&&a++,s=s.concat(zn(l.children,t,u))):(t||l.type!==dt)&&s.push(u!=null?mr(l,{key:u}):l)}if(a>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function _e(e,t){return Me(e)?Xe({name:e.name},t,{setup:e}):e}function Tl(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function ps(e,t,r,s,a=!1){if(Ce(e)){e.forEach((h,x)=>ps(h,t&&(Ce(t)?t[x]:t),r,s,a));return}if(Kr(s)&&!a){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&ps(e,t,r,s.component.subTree);return}const i=s.shapeFlag&4?Ts(s.component):s.el,l=a?null:i,{i:u,r:c}=e,d=t&&t.r,m=u.refs===je?u.refs={}:u.refs,g=u.setupState,f=Le(g),p=g===je?()=>!1:h=>Fe(f,h);if(d!=null&&d!==c&&(Ke(d)?(m[d]=null,p(d)&&(g[d]=null)):Te(d)&&(d.value=null)),Me(c))qo(c,u,12,[l,m]);else{const h=Ke(c),x=Te(c);if(h||x){const k=()=>{if(e.f){const v=h?p(c)?g[c]:m[c]:c.value;a?Ce(v)&&Fn(v,i):Ce(v)?v.includes(i)||v.push(i):h?(m[c]=[i],p(c)&&(g[c]=m[c])):(c.value=[i],e.k&&(m[e.k]=c.value))}else h?(m[c]=l,p(c)&&(g[c]=l)):x&&(c.value=l,e.k&&(m[e.k]=l))};l?(k.id=-1,it(k,r)):k()}}}$s().requestIdleCallback;$s().cancelIdleCallback;const Kr=e=>!!e.type.__asyncLoader,As=e=>e.type.__isKeepAlive;function Vc(e,t){ql(e,"a",t)}function Wc(e,t){ql(e,"da",t)}function ql(e,t,r=Ze){const s=e.__wdc||(e.__wdc=()=>{let a=r;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(Ps(t,s,r),r){let a=r.parent;for(;a&&a.parent;)As(a.parent.vnode)&&Kc(s,t,r,a),a=a.parent}}function Kc(e,t,r,s){const a=Ps(t,e,s,!0);vr(()=>{Fn(s[t],a)},r)}function Ps(e,t,r=Ze,s=!1){if(r){const a=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=(...l)=>{fr();const u=Uo(r),c=Lt(t,r,e,l);return u(),gr(),c});return s?a.unshift(i):a.push(i),i}}const Xt=e=>(t,r=Ze)=>{(!Eo||e==="sp")&&Ps(e,(...s)=>t(...s),r)},zc=Xt("bm"),qe=Xt("m"),Yc=Xt("bu"),Rl=Xt("u"),At=Xt("bum"),vr=Xt("um"),Jc=Xt("sp"),Xc=Xt("rtg"),Zc=Xt("rtc");function ed(e,t=Ze){Ps("ec",e,t)}const td="components";function Yn(e,t){return od(td,e,!0,t)||e}const rd=Symbol.for("v-ndc");function od(e,t,r=!0,s=!1){const a=Je||Ze;if(a){const i=a.type;{const u=Gd(i,!1);if(u&&(u===t||u===Et(t)||u===Ss(Et(t))))return i}const l=Sa(a[e]||i[e],t)||Sa(a.appContext[e],t);return!l&&s?i:l}}function Sa(e,t){return e&&(e[t]||e[Et(t)]||e[Ss(Et(t))])}function ke(e,t,r,s){let a;const i=r,l=Ce(e);if(l||Ke(e)){const u=l&&Jt(e);let c=!1;u&&(c=!$t(e),e=Es(e)),a=new Array(e.length);for(let d=0,m=e.length;d<m;d++)a[d]=t(c?nt(e[d]):e[d],d,void 0,i)}else if(typeof e=="number"){a=new Array(e);for(let u=0;u<e;u++)a[u]=t(u+1,u,void 0,i)}else if(Qe(e))if(e[Symbol.iterator])a=Array.from(e,(u,c)=>t(u,c,void 0,i));else{const u=Object.keys(e);a=new Array(u.length);for(let c=0,d=u.length;c<d;c++){const m=u[c];a[c]=t(e[m],m,c,i)}}else a=[];return a}function sd(e,t){for(let r=0;r<t.length;r++){const s=t[r];if(Ce(s))for(let a=0;a<s.length;a++)e[s[a].name]=s[a].fn;else s&&(e[s.name]=s.key?(...a)=>{const i=s.fn(...a);return i&&(i.key=s.key),i}:s.fn)}return e}function eo(e,t,r={},s,a){if(Je.ce||Je.parent&&Kr(Je.parent)&&Je.parent.ce)return t!=="default"&&(r.name=t),b(),Oe(he,null,[ye("slot",r,s&&s())],64);let i=e[t];i&&i._c&&(i._d=!1),b();const l=i&&Fl(i(r)),u=r.key||l&&l.key,c=Oe(he,{key:(u&&!It(u)?u:`_${t}`)+(!l&&s?"_fb":"")},l||(s?s():[]),l&&e._===1?64:-2);return!a&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),i&&i._c&&(i._d=!0),c}function Fl(e){return e.some(t=>Co(t)?!(t.type===dt||t.type===he&&!Fl(t.children)):!0)?e:null}const yn=e=>e?tu(e)?Ts(e):yn(e.parent):null,go=Xe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>yn(e.parent),$root:e=>yn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Nl(e),$forceUpdate:e=>e.f||(e.f=()=>{Kn(e.update)}),$nextTick:e=>e.n||(e.n=Ro.bind(e.proxy)),$watch:e=>Cd.bind(e)}),zs=(e,t)=>e!==je&&!e.__isScriptSetup&&Fe(e,t),nd={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:s,data:a,props:i,accessCache:l,type:u,appContext:c}=e;let d;if(t[0]!=="$"){const p=l[t];if(p!==void 0)switch(p){case 1:return s[t];case 2:return a[t];case 4:return r[t];case 3:return i[t]}else{if(zs(s,t))return l[t]=1,s[t];if(a!==je&&Fe(a,t))return l[t]=2,a[t];if((d=e.propsOptions[0])&&Fe(d,t))return l[t]=3,i[t];if(r!==je&&Fe(r,t))return l[t]=4,r[t];xn&&(l[t]=0)}}const m=go[t];let g,f;if(m)return t==="$attrs"&&st(e.attrs,"get",""),m(e);if((g=u.__cssModules)&&(g=g[t]))return g;if(r!==je&&Fe(r,t))return l[t]=4,r[t];if(f=c.config.globalProperties,Fe(f,t))return f[t]},set({_:e},t,r){const{data:s,setupState:a,ctx:i}=e;return zs(a,t)?(a[t]=r,!0):s!==je&&Fe(s,t)?(s[t]=r,!0):Fe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:s,appContext:a,propsOptions:i}},l){let u;return!!r[l]||e!==je&&Fe(e,l)||zs(t,l)||(u=i[0])&&Fe(u,l)||Fe(s,l)||Fe(go,l)||Fe(a.config.globalProperties,l)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Fe(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function $a(e){return Ce(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let xn=!0;function ad(e){const t=Nl(e),r=e.proxy,s=e.ctx;xn=!1,t.beforeCreate&&Ca(t.beforeCreate,e,"bc");const{data:a,computed:i,methods:l,watch:u,provide:c,inject:d,created:m,beforeMount:g,mounted:f,beforeUpdate:p,updated:h,activated:x,deactivated:k,beforeDestroy:v,beforeUnmount:w,destroyed:S,unmounted:M,render:L,renderTracked:A,renderTriggered:Y,errorCaptured:U,serverPrefetch:T,expose:G,inheritAttrs:D,components:P,directives:$,filters:ee}=t;if(d&&id(d,s,null),l)for(const z in l){const R=l[z];Me(R)&&(s[z]=R.bind(r))}if(a){const z=a.call(r,r);Qe(z)&&(e.data=Lr(z))}if(xn=!0,i)for(const z in i){const R=i[z],ie=Me(R)?R.bind(r,r):Me(R.get)?R.get.bind(r,r):jt,O=!Me(R)&&Me(R.set)?R.set.bind(r):jt,H=F({get:ie,set:O});Object.defineProperty(s,z,{enumerable:!0,configurable:!0,get:()=>H.value,set:re=>H.value=re})}if(u)for(const z in u)Ul(u[z],s,r,z);if(c){const z=Me(c)?c.call(r):c;Reflect.ownKeys(z).forEach(R=>{os(R,z[R])})}m&&Ca(m,e,"c");function ae(z,R){Ce(R)?R.forEach(ie=>z(ie.bind(r))):R&&z(R.bind(r))}if(ae(zc,g),ae(qe,f),ae(Yc,p),ae(Rl,h),ae(Vc,x),ae(Wc,k),ae(ed,U),ae(Zc,A),ae(Xc,Y),ae(At,w),ae(vr,M),ae(Jc,T),Ce(G))if(G.length){const z=e.exposed||(e.exposed={});G.forEach(R=>{Object.defineProperty(z,R,{get:()=>r[R],set:ie=>r[R]=ie})})}else e.exposed||(e.exposed={});L&&e.render===jt&&(e.render=L),D!=null&&(e.inheritAttrs=D),P&&(e.components=P),$&&(e.directives=$),T&&Tl(e)}function id(e,t,r=jt){Ce(e)&&(e=kn(e));for(const s in e){const a=e[s];let i;Qe(a)?"default"in a?i=wt(a.from||s,a.default,!0):i=wt(a.from||s):i=wt(a),Te(i)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:l=>i.value=l}):t[s]=i}}function Ca(e,t,r){Lt(Ce(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,r)}function Ul(e,t,r,s){let a=s.includes(".")?Yl(r,s):()=>r[s];if(Ke(e)){const i=t[e];Me(i)&&Se(a,i)}else if(Me(e))Se(a,e.bind(r));else if(Qe(e))if(Ce(e))e.forEach(i=>Ul(i,t,r,s));else{const i=Me(e.handler)?e.handler.bind(r):t[e.handler];Me(i)&&Se(a,i,e)}}function Nl(e){const t=e.type,{mixins:r,extends:s}=t,{mixins:a,optionsCache:i,config:{optionMergeStrategies:l}}=e.appContext,u=i.get(t);let c;return u?c=u:!a.length&&!r&&!s?c=t:(c={},a.length&&a.forEach(d=>fs(c,d,l,!0)),fs(c,t,l)),Qe(t)&&i.set(t,c),c}function fs(e,t,r,s=!1){const{mixins:a,extends:i}=t;i&&fs(e,i,r,!0),a&&a.forEach(l=>fs(e,l,r,!0));for(const l in t)if(!(s&&l==="expose")){const u=ld[l]||r&&r[l];e[l]=u?u(e[l],t[l]):t[l]}return e}const ld={data:Ea,props:Ma,emits:Ma,methods:uo,computed:uo,beforeCreate:at,created:at,beforeMount:at,mounted:at,beforeUpdate:at,updated:at,beforeDestroy:at,beforeUnmount:at,destroyed:at,unmounted:at,activated:at,deactivated:at,errorCaptured:at,serverPrefetch:at,components:uo,directives:uo,watch:cd,provide:Ea,inject:ud};function Ea(e,t){return t?e?function(){return Xe(Me(e)?e.call(this,this):e,Me(t)?t.call(this,this):t)}:t:e}function ud(e,t){return uo(kn(e),kn(t))}function kn(e){if(Ce(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function at(e,t){return e?[...new Set([].concat(e,t))]:t}function uo(e,t){return e?Xe(Object.create(null),e,t):t}function Ma(e,t){return e?Ce(e)&&Ce(t)?[...new Set([...e,...t])]:Xe(Object.create(null),$a(e),$a(t??{})):t}function cd(e,t){if(!e)return t;if(!t)return e;const r=Xe(Object.create(null),e);for(const s in t)r[s]=at(e[s],t[s]);return r}function Bl(){return{app:null,config:{isNativeTag:Xu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dd=0;function md(e,t){return function(s,a=null){Me(s)||(s=Xe({},s)),a!=null&&!Qe(a)&&(a=null);const i=Bl(),l=new WeakSet,u=[];let c=!1;const d=i.app={_uid:dd++,_component:s,_props:a,_container:null,_context:i,_instance:null,version:Wd,get config(){return i.config},set config(m){},use(m,...g){return l.has(m)||(m&&Me(m.install)?(l.add(m),m.install(d,...g)):Me(m)&&(l.add(m),m(d,...g))),d},mixin(m){return i.mixins.includes(m)||i.mixins.push(m),d},component(m,g){return g?(i.components[m]=g,d):i.components[m]},directive(m,g){return g?(i.directives[m]=g,d):i.directives[m]},mount(m,g,f){if(!c){const p=d._ceVNode||ye(s,a);return p.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),e(p,m,f),c=!0,d._container=m,m.__vue_app__=d,Ts(p.component)}},onUnmount(m){u.push(m)},unmount(){c&&(Lt(u,d._instance,16),e(null,d._container),delete d._container.__vue_app__)},provide(m,g){return i.provides[m]=g,d},runWithContext(m){const g=Ar;Ar=d;try{return m()}finally{Ar=g}}};return d}}let Ar=null;function os(e,t){if(Ze){let r=Ze.provides;const s=Ze.parent&&Ze.parent.provides;s===r&&(r=Ze.provides=Object.create(s)),r[e]=t}}function wt(e,t,r=!1){const s=Ze||Je;if(s||Ar){const a=Ar?Ar._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return r&&Me(t)?t.call(s&&s.proxy):t}}function Jn(){return!!(Ze||Je||Ar)}const Ol={},Dl=()=>Object.create(Ol),Ql=e=>Object.getPrototypeOf(e)===Ol;function pd(e,t,r,s=!1){const a={},i=Dl();e.propsDefaults=Object.create(null),jl(e,t,a,i);for(const l in e.propsOptions[0])l in a||(a[l]=void 0);r?e.props=s?a:fl(a):e.type.props?e.props=a:e.props=i,e.attrs=i}function fd(e,t,r,s){const{props:a,attrs:i,vnode:{patchFlag:l}}=e,u=Le(a),[c]=e.propsOptions;let d=!1;if((s||l>0)&&!(l&16)){if(l&8){const m=e.vnode.dynamicProps;for(let g=0;g<m.length;g++){let f=m[g];if(Is(e.emitsOptions,f))continue;const p=t[f];if(c)if(Fe(i,f))p!==i[f]&&(i[f]=p,d=!0);else{const h=Et(f);a[h]=_n(c,u,h,p,e,!1)}else p!==i[f]&&(i[f]=p,d=!0)}}}else{jl(e,t,a,i)&&(d=!0);let m;for(const g in u)(!t||!Fe(t,g)&&((m=pr(g))===g||!Fe(t,m)))&&(c?r&&(r[g]!==void 0||r[m]!==void 0)&&(a[g]=_n(c,u,g,void 0,e,!0)):delete a[g]);if(i!==u)for(const g in i)(!t||!Fe(t,g))&&(delete i[g],d=!0)}d&&zt(e.attrs,"set","")}function jl(e,t,r,s){const[a,i]=e.propsOptions;let l=!1,u;if(t)for(let c in t){if(co(c))continue;const d=t[c];let m;a&&Fe(a,m=Et(c))?!i||!i.includes(m)?r[m]=d:(u||(u={}))[m]=d:Is(e.emitsOptions,c)||(!(c in s)||d!==s[c])&&(s[c]=d,l=!0)}if(i){const c=Le(r),d=u||je;for(let m=0;m<i.length;m++){const g=i[m];r[g]=_n(a,c,g,d[g],e,!Fe(d,g))}}return l}function _n(e,t,r,s,a,i){const l=e[r];if(l!=null){const u=Fe(l,"default");if(u&&s===void 0){const c=l.default;if(l.type!==Function&&!l.skipFactory&&Me(c)){const{propsDefaults:d}=a;if(r in d)s=d[r];else{const m=Uo(a);s=d[r]=c.call(null,t),m()}}else s=c;a.ce&&a.ce._setProp(r,s)}l[0]&&(i&&!u?s=!1:l[1]&&(s===""||s===pr(r))&&(s=!0))}return s}const gd=new WeakMap;function Hl(e,t,r=!1){const s=r?gd:t.propsCache,a=s.get(e);if(a)return a;const i=e.props,l={},u=[];let c=!1;if(!Me(e)){const m=g=>{c=!0;const[f,p]=Hl(g,t,!0);Xe(l,f),p&&u.push(...p)};!r&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}if(!i&&!c)return Qe(e)&&s.set(e,Gr),Gr;if(Ce(i))for(let m=0;m<i.length;m++){const g=Et(i[m]);Aa(g)&&(l[g]=je)}else if(i)for(const m in i){const g=Et(m);if(Aa(g)){const f=i[m],p=l[g]=Ce(f)||Me(f)?{type:f}:Xe({},f),h=p.type;let x=!1,k=!0;if(Ce(h))for(let v=0;v<h.length;++v){const w=h[v],S=Me(w)&&w.name;if(S==="Boolean"){x=!0;break}else S==="String"&&(k=!1)}else x=Me(h)&&h.name==="Boolean";p[0]=x,p[1]=k,(x||Fe(p,"default"))&&u.push(g)}}const d=[l,u];return Qe(e)&&s.set(e,d),d}function Aa(e){return e[0]!=="$"&&!co(e)}const Gl=e=>e[0]==="_"||e==="$stable",Xn=e=>Ce(e)?e.map(Qt):[Qt(e)],vd=(e,t,r)=>{if(t._n)return t;const s=We((...a)=>Xn(t(...a)),r);return s._c=!1,s},Vl=(e,t,r)=>{const s=e._ctx;for(const a in e){if(Gl(a))continue;const i=e[a];if(Me(i))t[a]=vd(a,i,s);else if(i!=null){const l=Xn(i);t[a]=()=>l}}},Wl=(e,t)=>{const r=Xn(t);e.slots.default=()=>r},Kl=(e,t,r)=>{for(const s in t)(r||s!=="_")&&(e[s]=t[s])},hd=(e,t,r)=>{const s=e.slots=Dl();if(e.vnode.shapeFlag&32){const a=t._;a?(Kl(s,t,r),r&&Vi(s,"_",a,!0)):Vl(t,s)}else t&&Wl(e,t)},bd=(e,t,r)=>{const{vnode:s,slots:a}=e;let i=!0,l=je;if(s.shapeFlag&32){const u=t._;u?r&&u===1?i=!1:Kl(a,t,r):(i=!t.$stable,Vl(t,a)),l=t}else t&&(Wl(e,t),l={default:1});if(i)for(const u in a)!Gl(u)&&l[u]==null&&delete a[u]},it=Td;function yd(e){return xd(e)}function xd(e,t){const r=$s();r.__VUE__=!0;const{insert:s,remove:a,patchProp:i,createElement:l,createText:u,createComment:c,setText:d,setElementText:m,parentNode:g,nextSibling:f,setScopeId:p=jt,insertStaticContent:h}=e,x=(C,I,B,te=null,oe=null,ce=null,pe=void 0,fe=null,be=!!I.dynamicChildren)=>{if(C===I)return;C&&!$r(C,I)&&(te=q(C),re(C,oe,ce,!0),C=null),I.patchFlag===-2&&(be=!1,I.dynamicChildren=null);const{type:me,ref:we,shapeFlag:xe}=I;switch(me){case Ls:k(C,I,B,te);break;case dt:v(C,I,B,te);break;case ss:C==null&&w(I,B,te,pe);break;case he:P(C,I,B,te,oe,ce,pe,fe,be);break;default:xe&1?L(C,I,B,te,oe,ce,pe,fe,be):xe&6?$(C,I,B,te,oe,ce,pe,fe,be):(xe&64||xe&128)&&me.process(C,I,B,te,oe,ce,pe,fe,be,J)}we!=null&&oe&&ps(we,C&&C.ref,ce,I||C,!I)},k=(C,I,B,te)=>{if(C==null)s(I.el=u(I.children),B,te);else{const oe=I.el=C.el;I.children!==C.children&&d(oe,I.children)}},v=(C,I,B,te)=>{C==null?s(I.el=c(I.children||""),B,te):I.el=C.el},w=(C,I,B,te)=>{[C.el,C.anchor]=h(C.children,I,B,te,C.el,C.anchor)},S=({el:C,anchor:I},B,te)=>{let oe;for(;C&&C!==I;)oe=f(C),s(C,B,te),C=oe;s(I,B,te)},M=({el:C,anchor:I})=>{let B;for(;C&&C!==I;)B=f(C),a(C),C=B;a(I)},L=(C,I,B,te,oe,ce,pe,fe,be)=>{I.type==="svg"?pe="svg":I.type==="math"&&(pe="mathml"),C==null?A(I,B,te,oe,ce,pe,fe,be):T(C,I,oe,ce,pe,fe,be)},A=(C,I,B,te,oe,ce,pe,fe)=>{let be,me;const{props:we,shapeFlag:xe,transition:$e,dirs:Ee}=C;if(be=C.el=l(C.type,ce,we&&we.is,we),xe&8?m(be,C.children):xe&16&&U(C.children,be,null,te,oe,Ys(C,ce),pe,fe),Ee&&kr(C,null,te,"created"),Y(be,C,C.scopeId,pe,te),we){for(const Ne in we)Ne!=="value"&&!co(Ne)&&i(be,Ne,null,we[Ne],ce,te);"value"in we&&i(be,"value",null,we.value,ce),(me=we.onVnodeBeforeMount)&&Bt(me,te,C)}Ee&&kr(C,null,te,"beforeMount");const Ie=kd(oe,$e);Ie&&$e.beforeEnter(be),s(be,I,B),((me=we&&we.onVnodeMounted)||Ie||Ee)&&it(()=>{me&&Bt(me,te,C),Ie&&$e.enter(be),Ee&&kr(C,null,te,"mounted")},oe)},Y=(C,I,B,te,oe)=>{if(B&&p(C,B),te)for(let ce=0;ce<te.length;ce++)p(C,te[ce]);if(oe){let ce=oe.subTree;if(I===ce||Xl(ce.type)&&(ce.ssContent===I||ce.ssFallback===I)){const pe=oe.vnode;Y(C,pe,pe.scopeId,pe.slotScopeIds,oe.parent)}}},U=(C,I,B,te,oe,ce,pe,fe,be=0)=>{for(let me=be;me<C.length;me++){const we=C[me]=fe?ar(C[me]):Qt(C[me]);x(null,we,I,B,te,oe,ce,pe,fe)}},T=(C,I,B,te,oe,ce,pe)=>{const fe=I.el=C.el;let{patchFlag:be,dynamicChildren:me,dirs:we}=I;be|=C.patchFlag&16;const xe=C.props||je,$e=I.props||je;let Ee;if(B&&_r(B,!1),(Ee=$e.onVnodeBeforeUpdate)&&Bt(Ee,B,I,C),we&&kr(I,C,B,"beforeUpdate"),B&&_r(B,!0),(xe.innerHTML&&$e.innerHTML==null||xe.textContent&&$e.textContent==null)&&m(fe,""),me?G(C.dynamicChildren,me,fe,B,te,Ys(I,oe),ce):pe||R(C,I,fe,null,B,te,Ys(I,oe),ce,!1),be>0){if(be&16)D(fe,xe,$e,B,oe);else if(be&2&&xe.class!==$e.class&&i(fe,"class",null,$e.class,oe),be&4&&i(fe,"style",xe.style,$e.style,oe),be&8){const Ie=I.dynamicProps;for(let Ne=0;Ne<Ie.length;Ne++){const Be=Ie[Ne],xt=xe[Be],ft=$e[Be];(ft!==xt||Be==="value")&&i(fe,Be,xt,ft,oe,B)}}be&1&&C.children!==I.children&&m(fe,I.children)}else!pe&&me==null&&D(fe,xe,$e,B,oe);((Ee=$e.onVnodeUpdated)||we)&&it(()=>{Ee&&Bt(Ee,B,I,C),we&&kr(I,C,B,"updated")},te)},G=(C,I,B,te,oe,ce,pe)=>{for(let fe=0;fe<I.length;fe++){const be=C[fe],me=I[fe],we=be.el&&(be.type===he||!$r(be,me)||be.shapeFlag&70)?g(be.el):B;x(be,me,we,null,te,oe,ce,pe,!0)}},D=(C,I,B,te,oe)=>{if(I!==B){if(I!==je)for(const ce in I)!co(ce)&&!(ce in B)&&i(C,ce,I[ce],null,oe,te);for(const ce in B){if(co(ce))continue;const pe=B[ce],fe=I[ce];pe!==fe&&ce!=="value"&&i(C,ce,fe,pe,oe,te)}"value"in B&&i(C,"value",I.value,B.value,oe)}},P=(C,I,B,te,oe,ce,pe,fe,be)=>{const me=I.el=C?C.el:u(""),we=I.anchor=C?C.anchor:u("");let{patchFlag:xe,dynamicChildren:$e,slotScopeIds:Ee}=I;Ee&&(fe=fe?fe.concat(Ee):Ee),C==null?(s(me,B,te),s(we,B,te),U(I.children||[],B,we,oe,ce,pe,fe,be)):xe>0&&xe&64&&$e&&C.dynamicChildren?(G(C.dynamicChildren,$e,B,oe,ce,pe,fe),(I.key!=null||oe&&I===oe.subTree)&&Zn(C,I,!0)):R(C,I,B,we,oe,ce,pe,fe,be)},$=(C,I,B,te,oe,ce,pe,fe,be)=>{I.slotScopeIds=fe,C==null?I.shapeFlag&512?oe.ctx.activate(I,B,te,pe,be):ee(I,B,te,oe,ce,pe,be):W(C,I,be)},ee=(C,I,B,te,oe,ce,pe)=>{const fe=C.component=Od(C,te,oe);if(As(C)&&(fe.ctx.renderer=J),Dd(fe,!1,pe),fe.asyncDep){if(oe&&oe.registerDep(fe,ae,pe),!C.el){const be=fe.subTree=ye(dt);v(null,be,I,B)}}else ae(fe,C,I,B,oe,ce,pe)},W=(C,I,B)=>{const te=I.component=C.component;if(Id(C,I,B))if(te.asyncDep&&!te.asyncResolved){z(te,I,B);return}else te.next=I,te.update();else I.el=C.el,te.vnode=I},ae=(C,I,B,te,oe,ce,pe)=>{const fe=()=>{if(C.isMounted){let{next:xe,bu:$e,u:Ee,parent:Ie,vnode:Ne}=C;{const Ut=zl(C);if(Ut){xe&&(xe.el=Ne.el,z(C,xe,pe)),Ut.asyncDep.then(()=>{C.isUnmounted||fe()});return}}let Be=xe,xt;_r(C,!1),xe?(xe.el=Ne.el,z(C,xe,pe)):xe=Ne,$e&&ts($e),(xt=xe.props&&xe.props.onVnodeBeforeUpdate)&&Bt(xt,Ie,xe,Ne),_r(C,!0);const ft=Ia(C),Ft=C.subTree;C.subTree=ft,x(Ft,ft,g(Ft.el),q(Ft),C,oe,ce),xe.el=ft.el,Be===null&&Ld(C,ft.el),Ee&&it(Ee,oe),(xt=xe.props&&xe.props.onVnodeUpdated)&&it(()=>Bt(xt,Ie,xe,Ne),oe)}else{let xe;const{el:$e,props:Ee}=I,{bm:Ie,m:Ne,parent:Be,root:xt,type:ft}=C,Ft=Kr(I);_r(C,!1),Ie&&ts(Ie),!Ft&&(xe=Ee&&Ee.onVnodeBeforeMount)&&Bt(xe,Be,I),_r(C,!0);{xt.ce&&xt.ce._injectChildStyle(ft);const Ut=C.subTree=Ia(C);x(null,Ut,B,te,C,oe,ce),I.el=Ut.el}if(Ne&&it(Ne,oe),!Ft&&(xe=Ee&&Ee.onVnodeMounted)){const Ut=I;it(()=>Bt(xe,Be,Ut),oe)}(I.shapeFlag&256||Be&&Kr(Be.vnode)&&Be.vnode.shapeFlag&256)&&C.a&&it(C.a,oe),C.isMounted=!0,I=B=te=null}};C.scope.on();const be=C.effect=new el(fe);C.scope.off();const me=C.update=be.run.bind(be),we=C.job=be.runIfDirty.bind(be);we.i=C,we.id=C.uid,be.scheduler=()=>Kn(we),_r(C,!0),me()},z=(C,I,B)=>{I.component=C;const te=C.vnode.props;C.vnode=I,C.next=null,fd(C,I.props,te,B),bd(C,I.children,B),fr(),ya(C),gr()},R=(C,I,B,te,oe,ce,pe,fe,be=!1)=>{const me=C&&C.children,we=C?C.shapeFlag:0,xe=I.children,{patchFlag:$e,shapeFlag:Ee}=I;if($e>0){if($e&128){O(me,xe,B,te,oe,ce,pe,fe,be);return}else if($e&256){ie(me,xe,B,te,oe,ce,pe,fe,be);return}}Ee&8?(we&16&&V(me,oe,ce),xe!==me&&m(B,xe)):we&16?Ee&16?O(me,xe,B,te,oe,ce,pe,fe,be):V(me,oe,ce,!0):(we&8&&m(B,""),Ee&16&&U(xe,B,te,oe,ce,pe,fe,be))},ie=(C,I,B,te,oe,ce,pe,fe,be)=>{C=C||Gr,I=I||Gr;const me=C.length,we=I.length,xe=Math.min(me,we);let $e;for($e=0;$e<xe;$e++){const Ee=I[$e]=be?ar(I[$e]):Qt(I[$e]);x(C[$e],Ee,B,null,oe,ce,pe,fe,be)}me>we?V(C,oe,ce,!0,!1,xe):U(I,B,te,oe,ce,pe,fe,be,xe)},O=(C,I,B,te,oe,ce,pe,fe,be)=>{let me=0;const we=I.length;let xe=C.length-1,$e=we-1;for(;me<=xe&&me<=$e;){const Ee=C[me],Ie=I[me]=be?ar(I[me]):Qt(I[me]);if($r(Ee,Ie))x(Ee,Ie,B,null,oe,ce,pe,fe,be);else break;me++}for(;me<=xe&&me<=$e;){const Ee=C[xe],Ie=I[$e]=be?ar(I[$e]):Qt(I[$e]);if($r(Ee,Ie))x(Ee,Ie,B,null,oe,ce,pe,fe,be);else break;xe--,$e--}if(me>xe){if(me<=$e){const Ee=$e+1,Ie=Ee<we?I[Ee].el:te;for(;me<=$e;)x(null,I[me]=be?ar(I[me]):Qt(I[me]),B,Ie,oe,ce,pe,fe,be),me++}}else if(me>$e)for(;me<=xe;)re(C[me],oe,ce,!0),me++;else{const Ee=me,Ie=me,Ne=new Map;for(me=Ie;me<=$e;me++){const kt=I[me]=be?ar(I[me]):Qt(I[me]);kt.key!=null&&Ne.set(kt.key,me)}let Be,xt=0;const ft=$e-Ie+1;let Ft=!1,Ut=0;const oo=new Array(ft);for(me=0;me<ft;me++)oo[me]=0;for(me=Ee;me<=xe;me++){const kt=C[me];if(xt>=ft){re(kt,oe,ce,!0);continue}let Nt;if(kt.key!=null)Nt=Ne.get(kt.key);else for(Be=Ie;Be<=$e;Be++)if(oo[Be-Ie]===0&&$r(kt,I[Be])){Nt=Be;break}Nt===void 0?re(kt,oe,ce,!0):(oo[Nt-Ie]=me+1,Nt>=Ut?Ut=Nt:Ft=!0,x(kt,I[Nt],B,null,oe,ce,pe,fe,be),xt++)}const pa=Ft?_d(oo):Gr;for(Be=pa.length-1,me=ft-1;me>=0;me--){const kt=Ie+me,Nt=I[kt],fa=kt+1<we?I[kt+1].el:te;oo[me]===0?x(null,Nt,B,fa,oe,ce,pe,fe,be):Ft&&(Be<0||me!==pa[Be]?H(Nt,B,fa,2):Be--)}}},H=(C,I,B,te,oe=null)=>{const{el:ce,type:pe,transition:fe,children:be,shapeFlag:me}=C;if(me&6){H(C.component.subTree,I,B,te);return}if(me&128){C.suspense.move(I,B,te);return}if(me&64){pe.move(C,I,B,J);return}if(pe===he){s(ce,I,B);for(let xe=0;xe<be.length;xe++)H(be[xe],I,B,te);s(C.anchor,I,B);return}if(pe===ss){S(C,I,B);return}if(te!==2&&me&1&&fe)if(te===0)fe.beforeEnter(ce),s(ce,I,B),it(()=>fe.enter(ce),oe);else{const{leave:xe,delayLeave:$e,afterLeave:Ee}=fe,Ie=()=>s(ce,I,B),Ne=()=>{xe(ce,()=>{Ie(),Ee&&Ee()})};$e?$e(ce,Ie,Ne):Ne()}else s(ce,I,B)},re=(C,I,B,te=!1,oe=!1)=>{const{type:ce,props:pe,ref:fe,children:be,dynamicChildren:me,shapeFlag:we,patchFlag:xe,dirs:$e,cacheIndex:Ee}=C;if(xe===-2&&(oe=!1),fe!=null&&ps(fe,null,B,C,!0),Ee!=null&&(I.renderCache[Ee]=void 0),we&256){I.ctx.deactivate(C);return}const Ie=we&1&&$e,Ne=!Kr(C);let Be;if(Ne&&(Be=pe&&pe.onVnodeBeforeUnmount)&&Bt(Be,I,C),we&6)ue(C.component,B,te);else{if(we&128){C.suspense.unmount(B,te);return}Ie&&kr(C,null,I,"beforeUnmount"),we&64?C.type.remove(C,I,B,J,te):me&&!me.hasOnce&&(ce!==he||xe>0&&xe&64)?V(me,I,B,!1,!0):(ce===he&&xe&384||!oe&&we&16)&&V(be,I,B),te&&de(C)}(Ne&&(Be=pe&&pe.onVnodeUnmounted)||Ie)&&it(()=>{Be&&Bt(Be,I,C),Ie&&kr(C,null,I,"unmounted")},B)},de=C=>{const{type:I,el:B,anchor:te,transition:oe}=C;if(I===he){Ae(B,te);return}if(I===ss){M(C);return}const ce=()=>{a(B),oe&&!oe.persisted&&oe.afterLeave&&oe.afterLeave()};if(C.shapeFlag&1&&oe&&!oe.persisted){const{leave:pe,delayLeave:fe}=oe,be=()=>pe(B,ce);fe?fe(C.el,ce,be):be()}else ce()},Ae=(C,I)=>{let B;for(;C!==I;)B=f(C),a(C),C=B;a(I)},ue=(C,I,B)=>{const{bum:te,scope:oe,job:ce,subTree:pe,um:fe,m:be,a:me}=C;Pa(be),Pa(me),te&&ts(te),oe.stop(),ce&&(ce.flags|=8,re(pe,C,I,B)),fe&&it(fe,I),it(()=>{C.isUnmounted=!0},I),I&&I.pendingBranch&&!I.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===I.pendingId&&(I.deps--,I.deps===0&&I.resolve())},V=(C,I,B,te=!1,oe=!1,ce=0)=>{for(let pe=ce;pe<C.length;pe++)re(C[pe],I,B,te,oe)},q=C=>{if(C.shapeFlag&6)return q(C.component.subTree);if(C.shapeFlag&128)return C.suspense.next();const I=f(C.anchor||C.el),B=I&&I[Sl];return B?f(B):I};let Q=!1;const j=(C,I,B)=>{C==null?I._vnode&&re(I._vnode,null,null,!0):x(I._vnode||null,C,I,null,null,null,B),I._vnode=C,Q||(Q=!0,ya(),kl(),Q=!1)},J={p:x,um:re,m:H,r:de,mt:ee,mc:U,pc:R,pbc:G,n:q,o:e};return{render:j,hydrate:void 0,createApp:md(j)}}function Ys({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function _r({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function kd(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Zn(e,t,r=!1){const s=e.children,a=t.children;if(Ce(s)&&Ce(a))for(let i=0;i<s.length;i++){const l=s[i];let u=a[i];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=a[i]=ar(a[i]),u.el=l.el),!r&&u.patchFlag!==-2&&Zn(l,u)),u.type===Ls&&(u.el=l.el)}}function _d(e){const t=e.slice(),r=[0];let s,a,i,l,u;const c=e.length;for(s=0;s<c;s++){const d=e[s];if(d!==0){if(a=r[r.length-1],e[a]<d){t[s]=a,r.push(s);continue}for(i=0,l=r.length-1;i<l;)u=i+l>>1,e[r[u]]<d?i=u+1:l=u;d<e[r[i]]&&(i>0&&(t[s]=r[i-1]),r[i]=s)}}for(i=r.length,l=r[i-1];i-- >0;)r[i]=l,l=t[l];return r}function zl(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:zl(t)}function Pa(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const wd=Symbol.for("v-scx"),Sd=()=>wt(wd);function $d(e,t){return ea(e,null,t)}function Se(e,t,r){return ea(e,t,r)}function ea(e,t,r=je){const{immediate:s,deep:a,flush:i,once:l}=r,u=Xe({},r),c=t&&s||!t&&i!=="post";let d;if(Eo){if(i==="sync"){const p=Sd();d=p.__watcherHandles||(p.__watcherHandles=[])}else if(!c){const p=()=>{};return p.stop=jt,p.resume=jt,p.pause=jt,p}}const m=Ze;u.call=(p,h,x)=>Lt(p,m,h,x);let g=!1;i==="post"?u.scheduler=p=>{it(p,m&&m.suspense)}:i!=="sync"&&(g=!0,u.scheduler=(p,h)=>{h?p():Kn(p)}),u.augmentJob=p=>{t&&(p.flags|=4),g&&(p.flags|=2,m&&(p.id=m.uid,p.i=m))};const f=Nc(e,t,u);return Eo&&(d?d.push(f):c&&f()),f}function Cd(e,t,r){const s=this.proxy,a=Ke(e)?e.includes(".")?Yl(s,e):()=>s[e]:e.bind(s,s);let i;Me(t)?i=t:(i=t.handler,r=t);const l=Uo(this),u=ea(a,i.bind(s),r);return l(),u}function Yl(e,t){const r=t.split(".");return()=>{let s=e;for(let a=0;a<r.length&&s;a++)s=s[r[a]];return s}}const Ed=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Et(t)}Modifiers`]||e[`${pr(t)}Modifiers`];function Md(e,t,...r){if(e.isUnmounted)return;const s=e.vnode.props||je;let a=r;const i=t.startsWith("update:"),l=i&&Ed(s,t.slice(7));l&&(l.trim&&(a=r.map(m=>Ke(m)?m.trim():m)),l.number&&(a=r.map(pn)));let u,c=s[u=js(t)]||s[u=js(Et(t))];!c&&i&&(c=s[u=js(pr(t))]),c&&Lt(c,e,6,a);const d=s[u+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Lt(d,e,6,a)}}function Jl(e,t,r=!1){const s=t.emitsCache,a=s.get(e);if(a!==void 0)return a;const i=e.emits;let l={},u=!1;if(!Me(e)){const c=d=>{const m=Jl(d,t,!0);m&&(u=!0,Xe(l,m))};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!u?(Qe(e)&&s.set(e,null),null):(Ce(i)?i.forEach(c=>l[c]=null):Xe(l,i),Qe(e)&&s.set(e,l),l)}function Is(e,t){return!e||!ks(t)?!1:(t=t.slice(2).replace(/Once$/,""),Fe(e,t[0].toLowerCase()+t.slice(1))||Fe(e,pr(t))||Fe(e,t))}function Ia(e){const{type:t,vnode:r,proxy:s,withProxy:a,propsOptions:[i],slots:l,attrs:u,emit:c,render:d,renderCache:m,props:g,data:f,setupState:p,ctx:h,inheritAttrs:x}=e,k=ms(e);let v,w;try{if(r.shapeFlag&4){const M=a||s,L=M;v=Qt(d.call(L,M,m,g,p,f,h)),w=u}else{const M=t;v=Qt(M.length>1?M(g,{attrs:u,slots:l,emit:c}):M(g,null)),w=t.props?u:Ad(u)}}catch(M){vo.length=0,Ms(M,e,1),v=ye(dt)}let S=v;if(w&&x!==!1){const M=Object.keys(w),{shapeFlag:L}=S;M.length&&L&7&&(i&&M.some(Rn)&&(w=Pd(w,i)),S=mr(S,w,!1,!0))}return r.dirs&&(S=mr(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(r.dirs):r.dirs),r.transition&&Ir(S,r.transition),v=S,ms(k),v}const Ad=e=>{let t;for(const r in e)(r==="class"||r==="style"||ks(r))&&((t||(t={}))[r]=e[r]);return t},Pd=(e,t)=>{const r={};for(const s in e)(!Rn(s)||!(s.slice(9)in t))&&(r[s]=e[s]);return r};function Id(e,t,r){const{props:s,children:a,component:i}=e,{props:l,children:u,patchFlag:c}=t,d=i.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return s?La(s,l,d):!!l;if(c&8){const m=t.dynamicProps;for(let g=0;g<m.length;g++){const f=m[g];if(l[f]!==s[f]&&!Is(d,f))return!0}}}else return(a||u)&&(!u||!u.$stable)?!0:s===l?!1:s?l?La(s,l,d):!0:!!l;return!1}function La(e,t,r){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let a=0;a<s.length;a++){const i=s[a];if(t[i]!==e[i]&&!Is(r,i))return!0}return!1}function Ld({vnode:e,parent:t},r){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=r,t=t.parent;else break}}const Xl=e=>e.__isSuspense;function Td(e,t){t&&t.pendingBranch?Ce(e)?t.effects.push(...e):t.effects.push(e):Dc(e)}const he=Symbol.for("v-fgt"),Ls=Symbol.for("v-txt"),dt=Symbol.for("v-cmt"),ss=Symbol.for("v-stc"),vo=[];let _t=null;function b(e=!1){vo.push(_t=e?null:[])}function qd(){vo.pop(),_t=vo[vo.length-1]||null}let $o=1;function Ta(e,t=!1){$o+=e,e<0&&_t&&t&&(_t.hasOnce=!0)}function Zl(e){return e.dynamicChildren=$o>0?_t||Gr:null,qd(),$o>0&&_t&&_t.push(e),e}function y(e,t,r,s,a,i){return Zl(o(e,t,r,s,a,i,!0))}function Oe(e,t,r,s,a){return Zl(ye(e,t,r,s,a,!0))}function Co(e){return e?e.__v_isVNode===!0:!1}function $r(e,t){return e.type===t.type&&e.key===t.key}const eu=({key:e})=>e??null,ns=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Ke(e)||Te(e)||Me(e)?{i:Je,r:e,k:t,f:!!r}:e:null);function o(e,t=null,r=null,s=0,a=null,i=e===he?0:1,l=!1,u=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&eu(t),ref:t&&ns(t),scopeId:wl,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Je};return u?(ta(c,r),i&128&&e.normalize(c)):r&&(c.shapeFlag|=Ke(r)?8:16),$o>0&&!l&&_t&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&_t.push(c),c}const ye=Rd;function Rd(e,t=null,r=null,s=0,a=null,i=!1){if((!e||e===rd)&&(e=dt),Co(e)){const u=mr(e,t,!0);return r&&ta(u,r),$o>0&&!i&&_t&&(u.shapeFlag&6?_t[_t.indexOf(e)]=u:_t.push(u)),u.patchFlag=-2,u}if(Vd(e)&&(e=e.__vccOpts),t){t=Fd(t);let{class:u,style:c}=t;u&&!Ke(u)&&(t.class=ne(u)),Qe(c)&&(Vn(c)&&!Ce(c)&&(c=Xe({},c)),t.style=tt(c))}const l=Ke(e)?1:Xl(e)?128:$l(e)?64:Qe(e)?4:Me(e)?2:0;return o(e,t,r,s,a,l,i,!0)}function Fd(e){return e?Vn(e)||Ql(e)?Xe({},e):e:null}function mr(e,t,r=!1,s=!1){const{props:a,ref:i,patchFlag:l,children:u,transition:c}=e,d=t?Ud(a||{},t):a,m={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&eu(d),ref:t&&t.ref?r&&i?Ce(i)?i.concat(ns(t)):[i,ns(t)]:ns(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==he?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&mr(e.ssContent),ssFallback:e.ssFallback&&mr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&s&&Ir(m,c.clone(m)),m}function X(e=" ",t=0){return ye(Ls,null,e,t)}function to(e,t){const r=ye(ss,null,e);return r.staticCount=t,r}function K(e="",t=!1){return t?(b(),Oe(dt,null,e)):ye(dt,null,e)}function Qt(e){return e==null||typeof e=="boolean"?ye(dt):Ce(e)?ye(he,null,e.slice()):Co(e)?ar(e):ye(Ls,null,String(e))}function ar(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:mr(e)}function ta(e,t){let r=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(Ce(t))r=16;else if(typeof t=="object")if(s&65){const a=t.default;a&&(a._c&&(a._d=!1),ta(e,a()),a._c&&(a._d=!0));return}else{r=32;const a=t._;!a&&!Ql(t)?t._ctx=Je:a===3&&Je&&(Je.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Me(t)?(t={default:t,_ctx:Je},r=32):(t=String(t),s&64?(r=16,t=[X(t)]):r=8);e.children=t,e.shapeFlag|=r}function Ud(...e){const t={};for(let r=0;r<e.length;r++){const s=e[r];for(const a in s)if(a==="class")t.class!==s.class&&(t.class=ne([t.class,s.class]));else if(a==="style")t.style=tt([t.style,s.style]);else if(ks(a)){const i=t[a],l=s[a];l&&i!==l&&!(Ce(i)&&i.includes(l))&&(t[a]=i?[].concat(i,l):l)}else a!==""&&(t[a]=s[a])}return t}function Bt(e,t,r,s=null){Lt(e,t,7,[r,s])}const Nd=Bl();let Bd=0;function Od(e,t,r){const s=e.type,a=(t?t.appContext:e.appContext)||Nd,i={uid:Bd++,vnode:e,type:s,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ji(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Hl(s,a),emitsOptions:Jl(s,a),emit:null,emitted:null,propsDefaults:je,inheritAttrs:s.inheritAttrs,ctx:je,data:je,props:je,attrs:je,slots:je,refs:je,setupState:je,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Md.bind(null,i),e.ce&&e.ce(i),i}let Ze=null;const Fo=()=>Ze||Je;let gs,wn;{const e=$s(),t=(r,s)=>{let a;return(a=e[r])||(a=e[r]=[]),a.push(s),i=>{a.length>1?a.forEach(l=>l(i)):a[0](i)}};gs=t("__VUE_INSTANCE_SETTERS__",r=>Ze=r),wn=t("__VUE_SSR_SETTERS__",r=>Eo=r)}const Uo=e=>{const t=Ze;return gs(e),e.scope.on(),()=>{e.scope.off(),gs(t)}},qa=()=>{Ze&&Ze.scope.off(),gs(null)};function tu(e){return e.vnode.shapeFlag&4}let Eo=!1;function Dd(e,t=!1,r=!1){t&&wn(t);const{props:s,children:a}=e.vnode,i=tu(e);pd(e,s,i,t),hd(e,a,r);const l=i?Qd(e,t):void 0;return t&&wn(!1),l}function Qd(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,nd);const{setup:s}=r;if(s){fr();const a=e.setupContext=s.length>1?Hd(e):null,i=Uo(e),l=qo(s,e,0,[e.props,a]),u=ji(l);if(gr(),i(),(u||e.sp)&&!Kr(e)&&Tl(e),u){if(l.then(qa,qa),t)return l.then(c=>{Ra(e,c)}).catch(c=>{Ms(c,e,0)});e.asyncDep=l}else Ra(e,l)}else ru(e)}function Ra(e,t,r){Me(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Qe(t)&&(e.setupState=vl(t)),ru(e)}function ru(e,t,r){const s=e.type;e.render||(e.render=s.render||jt);{const a=Uo(e);fr();try{ad(e)}finally{gr(),a()}}}const jd={get(e,t){return st(e,"get",""),e[t]}};function Hd(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,jd),slots:e.slots,emit:e.emit,expose:t}}function Ts(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(vl(Wn(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in go)return go[r](e)},has(t,r){return r in t||r in go}})):e.proxy}function Gd(e,t=!0){return Me(e)?e.displayName||e.name:e.name||t&&e.__name}function Vd(e){return Me(e)&&"__vccOpts"in e}const F=(e,t)=>Fc(e,t,Eo);function ra(e,t,r){const s=arguments.length;return s===2?Qe(t)&&!Ce(t)?Co(t)?ye(e,null,[t]):ye(e,t):ye(e,null,t):(s>3?r=Array.prototype.slice.call(arguments,2):s===3&&Co(r)&&(r=[r]),ye(e,t,r))}const Wd="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Sn;const Fa=typeof window<"u"&&window.trustedTypes;if(Fa)try{Sn=Fa.createPolicy("vue",{createHTML:e=>e})}catch{}const ou=Sn?e=>Sn.createHTML(e):e=>e,Kd="http://www.w3.org/2000/svg",zd="http://www.w3.org/1998/Math/MathML",Kt=typeof document<"u"?document:null,Ua=Kt&&Kt.createElement("template"),Yd={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,s)=>{const a=t==="svg"?Kt.createElementNS(Kd,e):t==="mathml"?Kt.createElementNS(zd,e):r?Kt.createElement(e,{is:r}):Kt.createElement(e);return e==="select"&&s&&s.multiple!=null&&a.setAttribute("multiple",s.multiple),a},createText:e=>Kt.createTextNode(e),createComment:e=>Kt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Kt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,s,a,i){const l=r?r.previousSibling:t.lastChild;if(a&&(a===i||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),r),!(a===i||!(a=a.nextSibling)););else{Ua.innerHTML=ou(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const u=Ua.content;if(s==="svg"||s==="mathml"){const c=u.firstChild;for(;c.firstChild;)u.appendChild(c.firstChild);u.removeChild(c)}t.insertBefore(u,r)}return[l?l.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},Zt="transition",no="animation",Yr=Symbol("_vtc"),su={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},nu=Xe({},Al,su),Jd=e=>(e.displayName="Transition",e.props=nu,e),ro=Jd((e,{slots:t})=>ra(Gc,au(e),t)),wr=(e,t=[])=>{Ce(e)?e.forEach(r=>r(...t)):e&&e(...t)},Na=e=>e?Ce(e)?e.some(t=>t.length>1):e.length>1:!1;function au(e){const t={};for(const P in e)P in su||(t[P]=e[P]);if(e.css===!1)return t;const{name:r="v",type:s,duration:a,enterFromClass:i=`${r}-enter-from`,enterActiveClass:l=`${r}-enter-active`,enterToClass:u=`${r}-enter-to`,appearFromClass:c=i,appearActiveClass:d=l,appearToClass:m=u,leaveFromClass:g=`${r}-leave-from`,leaveActiveClass:f=`${r}-leave-active`,leaveToClass:p=`${r}-leave-to`}=e,h=Xd(a),x=h&&h[0],k=h&&h[1],{onBeforeEnter:v,onEnter:w,onEnterCancelled:S,onLeave:M,onLeaveCancelled:L,onBeforeAppear:A=v,onAppear:Y=w,onAppearCancelled:U=S}=t,T=(P,$,ee,W)=>{P._enterCancelled=W,tr(P,$?m:u),tr(P,$?d:l),ee&&ee()},G=(P,$)=>{P._isLeaving=!1,tr(P,g),tr(P,p),tr(P,f),$&&$()},D=P=>($,ee)=>{const W=P?Y:w,ae=()=>T($,P,ee);wr(W,[$,ae]),Ba(()=>{tr($,P?c:i),Ot($,P?m:u),Na(W)||Oa($,s,x,ae)})};return Xe(t,{onBeforeEnter(P){wr(v,[P]),Ot(P,i),Ot(P,l)},onBeforeAppear(P){wr(A,[P]),Ot(P,c),Ot(P,d)},onEnter:D(!1),onAppear:D(!0),onLeave(P,$){P._isLeaving=!0;const ee=()=>G(P,$);Ot(P,g),P._enterCancelled?(Ot(P,f),$n()):($n(),Ot(P,f)),Ba(()=>{P._isLeaving&&(tr(P,g),Ot(P,p),Na(M)||Oa(P,s,k,ee))}),wr(M,[P,ee])},onEnterCancelled(P){T(P,!1,void 0,!0),wr(S,[P])},onAppearCancelled(P){T(P,!0,void 0,!0),wr(U,[P])},onLeaveCancelled(P){G(P),wr(L,[P])}})}function Xd(e){if(e==null)return null;if(Qe(e))return[Js(e.enter),Js(e.leave)];{const t=Js(e);return[t,t]}}function Js(e){return oc(e)}function Ot(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[Yr]||(e[Yr]=new Set)).add(t)}function tr(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const r=e[Yr];r&&(r.delete(t),r.size||(e[Yr]=void 0))}function Ba(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Zd=0;function Oa(e,t,r,s){const a=e._endId=++Zd,i=()=>{a===e._endId&&s()};if(r!=null)return setTimeout(i,r);const{type:l,timeout:u,propCount:c}=iu(e,t);if(!l)return s();const d=l+"end";let m=0;const g=()=>{e.removeEventListener(d,f),i()},f=p=>{p.target===e&&++m>=c&&g()};setTimeout(()=>{m<c&&g()},u+1),e.addEventListener(d,f)}function iu(e,t){const r=window.getComputedStyle(e),s=h=>(r[h]||"").split(", "),a=s(`${Zt}Delay`),i=s(`${Zt}Duration`),l=Da(a,i),u=s(`${no}Delay`),c=s(`${no}Duration`),d=Da(u,c);let m=null,g=0,f=0;t===Zt?l>0&&(m=Zt,g=l,f=i.length):t===no?d>0&&(m=no,g=d,f=c.length):(g=Math.max(l,d),m=g>0?l>d?Zt:no:null,f=m?m===Zt?i.length:c.length:0);const p=m===Zt&&/\b(transform|all)(,|$)/.test(s(`${Zt}Property`).toString());return{type:m,timeout:g,propCount:f,hasTransform:p}}function Da(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,s)=>Qa(r)+Qa(e[s])))}function Qa(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function $n(){return document.body.offsetHeight}function em(e,t,r){const s=e[Yr];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const vs=Symbol("_vod"),lu=Symbol("_vsh"),lr={beforeMount(e,{value:t},{transition:r}){e[vs]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):ao(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:s}){!t!=!r&&(s?t?(s.beforeEnter(e),ao(e,!0),s.enter(e)):s.leave(e,()=>{ao(e,!1)}):ao(e,t))},beforeUnmount(e,{value:t}){ao(e,t)}};function ao(e,t){e.style.display=t?e[vs]:"none",e[lu]=!t}const tm=Symbol(""),rm=/(^|;)\s*display\s*:/;function om(e,t,r){const s=e.style,a=Ke(r);let i=!1;if(r&&!a){if(t)if(Ke(t))for(const l of t.split(";")){const u=l.slice(0,l.indexOf(":")).trim();r[u]==null&&as(s,u,"")}else for(const l in t)r[l]==null&&as(s,l,"");for(const l in r)l==="display"&&(i=!0),as(s,l,r[l])}else if(a){if(t!==r){const l=s[tm];l&&(r+=";"+l),s.cssText=r,i=rm.test(r)}}else t&&e.removeAttribute("style");vs in e&&(e[vs]=i?s.display:"",e[lu]&&(s.display="none"))}const ja=/\s*!important$/;function as(e,t,r){if(Ce(r))r.forEach(s=>as(e,t,s));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const s=sm(e,t);ja.test(r)?e.setProperty(pr(s),r.replace(ja,""),"important"):e[s]=r}}const Ha=["Webkit","Moz","ms"],Xs={};function sm(e,t){const r=Xs[t];if(r)return r;let s=Et(t);if(s!=="filter"&&s in e)return Xs[t]=s;s=Ss(s);for(let a=0;a<Ha.length;a++){const i=Ha[a]+s;if(i in e)return Xs[t]=i}return t}const Ga="http://www.w3.org/1999/xlink";function Va(e,t,r,s,a,i=uc(t)){s&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(Ga,t.slice(6,t.length)):e.setAttributeNS(Ga,t,r):r==null||i&&!Wi(r)?e.removeAttribute(t):e.setAttribute(t,i?"":It(r)?String(r):r)}function Wa(e,t,r,s,a){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?ou(r):r);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const u=i==="OPTION"?e.getAttribute("value")||"":e.value,c=r==null?e.type==="checkbox"?"on":"":String(r);(u!==c||!("_value"in e))&&(e.value=c),r==null&&e.removeAttribute(t),e._value=r;return}let l=!1;if(r===""||r==null){const u=typeof e[t];u==="boolean"?r=Wi(r):r==null&&u==="string"?(r="",l=!0):u==="number"&&(r=0,l=!0)}try{e[t]=r}catch{}l&&e.removeAttribute(a||t)}function Cr(e,t,r,s){e.addEventListener(t,r,s)}function nm(e,t,r,s){e.removeEventListener(t,r,s)}const Ka=Symbol("_vei");function am(e,t,r,s,a=null){const i=e[Ka]||(e[Ka]={}),l=i[t];if(s&&l)l.value=s;else{const[u,c]=im(t);if(s){const d=i[t]=cm(s,a);Cr(e,u,d,c)}else l&&(nm(e,u,l,c),i[t]=void 0)}}const za=/(?:Once|Passive|Capture)$/;function im(e){let t;if(za.test(e)){t={};let s;for(;s=e.match(za);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):pr(e.slice(2)),t]}let Zs=0;const lm=Promise.resolve(),um=()=>Zs||(lm.then(()=>Zs=0),Zs=Date.now());function cm(e,t){const r=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=r.attached)return;Lt(dm(s,r.value),t,5,[s])};return r.value=e,r.attached=um(),r}function dm(e,t){if(Ce(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(s=>a=>!a._stopped&&s&&s(a))}else return t}const Ya=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,mm=(e,t,r,s,a,i)=>{const l=a==="svg";t==="class"?em(e,s,l):t==="style"?om(e,r,s):ks(t)?Rn(t)||am(e,t,r,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):pm(e,t,s,l))?(Wa(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Va(e,t,s,l,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ke(s))?Wa(e,Et(t),s,i,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Va(e,t,s,l))};function pm(e,t,r,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ya(t)&&Me(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return Ya(t)&&Ke(r)?!1:t in e}const uu=new WeakMap,cu=new WeakMap,hs=Symbol("_moveCb"),Ja=Symbol("_enterCb"),fm=e=>(delete e.props.mode,e),gm=fm({name:"TransitionGroup",props:Xe({},nu,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=Fo(),s=Ml();let a,i;return Rl(()=>{if(!a.length)return;const l=e.moveClass||`${e.name||"v"}-move`;if(!xm(a[0].el,r.vnode.el,l))return;a.forEach(hm),a.forEach(bm);const u=a.filter(ym);$n(),u.forEach(c=>{const d=c.el,m=d.style;Ot(d,l),m.transform=m.webkitTransform=m.transitionDuration="";const g=d[hs]=f=>{f&&f.target!==d||(!f||/transform$/.test(f.propertyName))&&(d.removeEventListener("transitionend",g),d[hs]=null,tr(d,l))};d.addEventListener("transitionend",g)})}),()=>{const l=Le(e),u=au(l);let c=l.tag||he;if(a=[],i)for(let d=0;d<i.length;d++){const m=i[d];m.el&&m.el instanceof Element&&(a.push(m),Ir(m,So(m,u,s,r)),uu.set(m,m.el.getBoundingClientRect()))}i=t.default?zn(t.default()):[];for(let d=0;d<i.length;d++){const m=i[d];m.key!=null&&Ir(m,So(m,u,s,r))}return ye(c,null,i)}}}),vm=gm;function hm(e){const t=e.el;t[hs]&&t[hs](),t[Ja]&&t[Ja]()}function bm(e){cu.set(e,e.el.getBoundingClientRect())}function ym(e){const t=uu.get(e),r=cu.get(e),s=t.left-r.left,a=t.top-r.top;if(s||a){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${s}px,${a}px)`,i.transitionDuration="0s",e}}function xm(e,t,r){const s=e.cloneNode(),a=e[Yr];a&&a.forEach(u=>{u.split(/\s+/).forEach(c=>c&&s.classList.remove(c))}),r.split(/\s+/).forEach(u=>u&&s.classList.add(u)),s.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(s);const{hasTransform:l}=iu(s);return i.removeChild(s),l}const bs=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ce(t)?r=>ts(t,r):t};function km(e){e.target.composing=!0}function Xa(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const zr=Symbol("_assign"),ys={created(e,{modifiers:{lazy:t,trim:r,number:s}},a){e[zr]=bs(a);const i=s||a.props&&a.props.type==="number";Cr(e,t?"change":"input",l=>{if(l.target.composing)return;let u=e.value;r&&(u=u.trim()),i&&(u=pn(u)),e[zr](u)}),r&&Cr(e,"change",()=>{e.value=e.value.trim()}),t||(Cr(e,"compositionstart",km),Cr(e,"compositionend",Xa),Cr(e,"change",Xa))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:s,trim:a,number:i}},l){if(e[zr]=bs(l),e.composing)return;const u=(i||e.type==="number")&&!/^0\d/.test(e.value)?pn(e.value):e.value,c=t??"";u!==c&&(document.activeElement===e&&e.type!=="range"&&(s&&t===r||a&&e.value.trim()===c)||(e.value=c))}},mt={deep:!0,created(e,t,r){e[zr]=bs(r),Cr(e,"change",()=>{const s=e._modelValue,a=_m(e),i=e.checked,l=e[zr];if(Ce(s)){const u=Ki(s,a),c=u!==-1;if(i&&!c)l(s.concat(a));else if(!i&&c){const d=[...s];d.splice(u,1),l(d)}}else if(_s(s)){const u=new Set(s);i?u.add(a):u.delete(a),l(u)}else l(du(e,i))})},mounted:Za,beforeUpdate(e,t,r){e[zr]=bs(r),Za(e,t,r)}};function Za(e,{value:t,oldValue:r},s){e._modelValue=t;let a;if(Ce(t))a=Ki(t,s.props.value)>-1;else if(_s(t))a=t.has(s.props.value);else{if(t===r)return;a=Cs(t,du(e,!0))}e.checked!==a&&(e.checked=a)}function _m(e){return"_value"in e?e._value:e.value}function du(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const wm=["ctrl","shift","alt","meta"],Sm={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>wm.some(r=>e[`${r}Key`]&&!t.includes(r))},ot=(e,t)=>{const r=e._withMods||(e._withMods={}),s=t.join(".");return r[s]||(r[s]=(a,...i)=>{for(let l=0;l<t.length;l++){const u=Sm[t[l]];if(u&&u(a,t))return}return e(a,...i)})},$m={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},oa=(e,t)=>{const r=e._withKeys||(e._withKeys={}),s=t.join(".");return r[s]||(r[s]=a=>{if(!("key"in a))return;const i=pr(a.key);if(t.some(l=>l===i||$m[l]===i))return e(a)})},Cm=Xe({patchProp:mm},Yd);let ei;function Em(){return ei||(ei=yd(Cm))}const Mm=(...e)=>{const t=Em().createApp(...e),{mount:r}=t;return t.mount=s=>{const a=Pm(s);if(!a)return;const i=t._component;!Me(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const l=r(a,!1,Am(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),l},t};function Am(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Pm(e){return Ke(e)?document.querySelector(e):e}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Qr=typeof document<"u";function mu(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Im(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&mu(e.default)}const Re=Object.assign;function en(e,t){const r={};for(const s in t){const a=t[s];r[s]=Tt(a)?a.map(e):e(a)}return r}const ho=()=>{},Tt=Array.isArray,pu=/#/g,Lm=/&/g,Tm=/\//g,qm=/=/g,Rm=/\?/g,fu=/\+/g,Fm=/%5B/g,Um=/%5D/g,gu=/%5E/g,Nm=/%60/g,vu=/%7B/g,Bm=/%7C/g,hu=/%7D/g,Om=/%20/g;function sa(e){return encodeURI(""+e).replace(Bm,"|").replace(Fm,"[").replace(Um,"]")}function Dm(e){return sa(e).replace(vu,"{").replace(hu,"}").replace(gu,"^")}function Cn(e){return sa(e).replace(fu,"%2B").replace(Om,"+").replace(pu,"%23").replace(Lm,"%26").replace(Nm,"`").replace(vu,"{").replace(hu,"}").replace(gu,"^")}function Qm(e){return Cn(e).replace(qm,"%3D")}function jm(e){return sa(e).replace(pu,"%23").replace(Rm,"%3F")}function Hm(e){return e==null?"":jm(e).replace(Tm,"%2F")}function Mo(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Gm=/\/$/,Vm=e=>e.replace(Gm,"");function tn(e,t,r="/"){let s,a={},i="",l="";const u=t.indexOf("#");let c=t.indexOf("?");return u<c&&u>=0&&(c=-1),c>-1&&(s=t.slice(0,c),i=t.slice(c+1,u>-1?u:t.length),a=e(i)),u>-1&&(s=s||t.slice(0,u),l=t.slice(u,t.length)),s=Ym(s??t,r),{fullPath:s+(i&&"?")+i+l,path:s,query:a,hash:Mo(l)}}function Wm(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function ti(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Km(e,t,r){const s=t.matched.length-1,a=r.matched.length-1;return s>-1&&s===a&&Jr(t.matched[s],r.matched[a])&&bu(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function Jr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function bu(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!zm(e[r],t[r]))return!1;return!0}function zm(e,t){return Tt(e)?ri(e,t):Tt(t)?ri(t,e):e===t}function ri(e,t){return Tt(t)?e.length===t.length&&e.every((r,s)=>r===t[s]):e.length===1&&e[0]===t}function Ym(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),s=e.split("/"),a=s[s.length-1];(a===".."||a===".")&&s.push("");let i=r.length-1,l,u;for(l=0;l<s.length;l++)if(u=s[l],u!==".")if(u==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+s.slice(l).join("/")}const er={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ao;(function(e){e.pop="pop",e.push="push"})(Ao||(Ao={}));var bo;(function(e){e.back="back",e.forward="forward",e.unknown=""})(bo||(bo={}));function Jm(e){if(!e)if(Qr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Vm(e)}const Xm=/^[^#]+#/;function Zm(e,t){return e.replace(Xm,"#")+t}function e0(e,t){const r=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-r.left-(t.left||0),top:s.top-r.top-(t.top||0)}}const qs=()=>({left:window.scrollX,top:window.scrollY});function t0(e){let t;if("el"in e){const r=e.el,s=typeof r=="string"&&r.startsWith("#"),a=typeof r=="string"?s?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!a)return;t=e0(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function oi(e,t){return(history.state?history.state.position-t:-1)+e}const En=new Map;function r0(e,t){En.set(e,t)}function o0(e){const t=En.get(e);return En.delete(e),t}let s0=()=>location.protocol+"//"+location.host;function yu(e,t){const{pathname:r,search:s,hash:a}=t,i=e.indexOf("#");if(i>-1){let u=a.includes(e.slice(i))?e.slice(i).length:1,c=a.slice(u);return c[0]!=="/"&&(c="/"+c),ti(c,"")}return ti(r,e)+s+a}function n0(e,t,r,s){let a=[],i=[],l=null;const u=({state:f})=>{const p=yu(e,location),h=r.value,x=t.value;let k=0;if(f){if(r.value=p,t.value=f,l&&l===h){l=null;return}k=x?f.position-x.position:0}else s(p);a.forEach(v=>{v(r.value,h,{delta:k,type:Ao.pop,direction:k?k>0?bo.forward:bo.back:bo.unknown})})};function c(){l=r.value}function d(f){a.push(f);const p=()=>{const h=a.indexOf(f);h>-1&&a.splice(h,1)};return i.push(p),p}function m(){const{history:f}=window;f.state&&f.replaceState(Re({},f.state,{scroll:qs()}),"")}function g(){for(const f of i)f();i=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",m)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",m,{passive:!0}),{pauseListeners:c,listen:d,destroy:g}}function si(e,t,r,s=!1,a=!1){return{back:e,current:t,forward:r,replaced:s,position:window.history.length,scroll:a?qs():null}}function a0(e){const{history:t,location:r}=window,s={value:yu(e,r)},a={value:t.state};a.value||i(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,d,m){const g=e.indexOf("#"),f=g>-1?(r.host&&document.querySelector("base")?e:e.slice(g))+c:s0()+e+c;try{t[m?"replaceState":"pushState"](d,"",f),a.value=d}catch(p){console.error(p),r[m?"replace":"assign"](f)}}function l(c,d){const m=Re({},t.state,si(a.value.back,c,a.value.forward,!0),d,{position:a.value.position});i(c,m,!0),s.value=c}function u(c,d){const m=Re({},a.value,t.state,{forward:c,scroll:qs()});i(m.current,m,!0);const g=Re({},si(s.value,c,null),{position:m.position+1},d);i(c,g,!1),s.value=c}return{location:s,state:a,push:u,replace:l}}function i0(e){e=Jm(e);const t=a0(e),r=n0(e,t.state,t.location,t.replace);function s(i,l=!0){l||r.pauseListeners(),history.go(i)}const a=Re({location:"",base:e,go:s,createHref:Zm.bind(null,e)},t,r);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function l0(e){return typeof e=="string"||e&&typeof e=="object"}function xu(e){return typeof e=="string"||typeof e=="symbol"}const ku=Symbol("");var ni;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ni||(ni={}));function Xr(e,t){return Re(new Error,{type:e,[ku]:!0},t)}function Wt(e,t){return e instanceof Error&&ku in e&&(t==null||!!(e.type&t))}const ai="[^/]+?",u0={sensitive:!1,strict:!1,start:!0,end:!0},c0=/[.+*?^${}()[\]/\\]/g;function d0(e,t){const r=Re({},u0,t),s=[];let a=r.start?"^":"";const i=[];for(const d of e){const m=d.length?[]:[90];r.strict&&!d.length&&(a+="/");for(let g=0;g<d.length;g++){const f=d[g];let p=40+(r.sensitive?.25:0);if(f.type===0)g||(a+="/"),a+=f.value.replace(c0,"\\$&"),p+=40;else if(f.type===1){const{value:h,repeatable:x,optional:k,regexp:v}=f;i.push({name:h,repeatable:x,optional:k});const w=v||ai;if(w!==ai){p+=10;try{new RegExp(`(${w})`)}catch(M){throw new Error(`Invalid custom RegExp for param "${h}" (${w}): `+M.message)}}let S=x?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;g||(S=k&&d.length<2?`(?:/${S})`:"/"+S),k&&(S+="?"),a+=S,p+=20,k&&(p+=-8),x&&(p+=-20),w===".*"&&(p+=-50)}m.push(p)}s.push(m)}if(r.strict&&r.end){const d=s.length-1;s[d][s[d].length-1]+=.7000000000000001}r.strict||(a+="/?"),r.end?a+="$":r.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const l=new RegExp(a,r.sensitive?"":"i");function u(d){const m=d.match(l),g={};if(!m)return null;for(let f=1;f<m.length;f++){const p=m[f]||"",h=i[f-1];g[h.name]=p&&h.repeatable?p.split("/"):p}return g}function c(d){let m="",g=!1;for(const f of e){(!g||!m.endsWith("/"))&&(m+="/"),g=!1;for(const p of f)if(p.type===0)m+=p.value;else if(p.type===1){const{value:h,repeatable:x,optional:k}=p,v=h in d?d[h]:"";if(Tt(v)&&!x)throw new Error(`Provided param "${h}" is an array but it is not repeatable (* or + modifiers)`);const w=Tt(v)?v.join("/"):v;if(!w)if(k)f.length<2&&(m.endsWith("/")?m=m.slice(0,-1):g=!0);else throw new Error(`Missing required param "${h}"`);m+=w}}return m||"/"}return{re:l,score:s,keys:i,parse:u,stringify:c}}function m0(e,t){let r=0;for(;r<e.length&&r<t.length;){const s=t[r]-e[r];if(s)return s;r++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function _u(e,t){let r=0;const s=e.score,a=t.score;for(;r<s.length&&r<a.length;){const i=m0(s[r],a[r]);if(i)return i;r++}if(Math.abs(a.length-s.length)===1){if(ii(s))return 1;if(ii(a))return-1}return a.length-s.length}function ii(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const p0={type:0,value:""},f0=/[a-zA-Z0-9_]/;function g0(e){if(!e)return[[]];if(e==="/")return[[p0]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${r})/"${d}": ${p}`)}let r=0,s=r;const a=[];let i;function l(){i&&a.push(i),i=[]}let u=0,c,d="",m="";function g(){d&&(r===0?i.push({type:0,value:d}):r===1||r===2||r===3?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:d,regexp:m,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),d="")}function f(){d+=c}for(;u<e.length;){if(c=e[u++],c==="\\"&&r!==2){s=r,r=4;continue}switch(r){case 0:c==="/"?(d&&g(),l()):c===":"?(g(),r=1):f();break;case 4:f(),r=s;break;case 1:c==="("?r=2:f0.test(c)?f():(g(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&u--);break;case 2:c===")"?m[m.length-1]=="\\"?m=m.slice(0,-1)+c:r=3:m+=c;break;case 3:g(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&u--,m="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${d}"`),g(),l(),a}function v0(e,t,r){const s=d0(g0(e.path),r),a=Re(s,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function h0(e,t){const r=[],s=new Map;t=di({strict:!1,end:!0,sensitive:!1},t);function a(g){return s.get(g)}function i(g,f,p){const h=!p,x=ui(g);x.aliasOf=p&&p.record;const k=di(t,g),v=[x];if("alias"in g){const M=typeof g.alias=="string"?[g.alias]:g.alias;for(const L of M)v.push(ui(Re({},x,{components:p?p.record.components:x.components,path:L,aliasOf:p?p.record:x})))}let w,S;for(const M of v){const{path:L}=M;if(f&&L[0]!=="/"){const A=f.record.path,Y=A[A.length-1]==="/"?"":"/";M.path=f.record.path+(L&&Y+L)}if(w=v0(M,f,k),p?p.alias.push(w):(S=S||w,S!==w&&S.alias.push(w),h&&g.name&&!ci(w)&&l(g.name)),wu(w)&&c(w),x.children){const A=x.children;for(let Y=0;Y<A.length;Y++)i(A[Y],w,p&&p.children[Y])}p=p||w}return S?()=>{l(S)}:ho}function l(g){if(xu(g)){const f=s.get(g);f&&(s.delete(g),r.splice(r.indexOf(f),1),f.children.forEach(l),f.alias.forEach(l))}else{const f=r.indexOf(g);f>-1&&(r.splice(f,1),g.record.name&&s.delete(g.record.name),g.children.forEach(l),g.alias.forEach(l))}}function u(){return r}function c(g){const f=x0(g,r);r.splice(f,0,g),g.record.name&&!ci(g)&&s.set(g.record.name,g)}function d(g,f){let p,h={},x,k;if("name"in g&&g.name){if(p=s.get(g.name),!p)throw Xr(1,{location:g});k=p.record.name,h=Re(li(f.params,p.keys.filter(S=>!S.optional).concat(p.parent?p.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),g.params&&li(g.params,p.keys.map(S=>S.name))),x=p.stringify(h)}else if(g.path!=null)x=g.path,p=r.find(S=>S.re.test(x)),p&&(h=p.parse(x),k=p.record.name);else{if(p=f.name?s.get(f.name):r.find(S=>S.re.test(f.path)),!p)throw Xr(1,{location:g,currentLocation:f});k=p.record.name,h=Re({},f.params,g.params),x=p.stringify(h)}const v=[];let w=p;for(;w;)v.unshift(w.record),w=w.parent;return{name:k,path:x,params:h,matched:v,meta:y0(v)}}e.forEach(g=>i(g));function m(){r.length=0,s.clear()}return{addRoute:i,resolve:d,removeRoute:l,clearRoutes:m,getRoutes:u,getRecordMatcher:a}}function li(e,t){const r={};for(const s of t)s in e&&(r[s]=e[s]);return r}function ui(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:b0(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function b0(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const s in e.components)t[s]=typeof r=="object"?r[s]:r;return t}function ci(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function y0(e){return e.reduce((t,r)=>Re(t,r.meta),{})}function di(e,t){const r={};for(const s in e)r[s]=s in t?t[s]:e[s];return r}function x0(e,t){let r=0,s=t.length;for(;r!==s;){const i=r+s>>1;_u(e,t[i])<0?s=i:r=i+1}const a=k0(e);return a&&(s=t.lastIndexOf(a,s-1)),s}function k0(e){let t=e;for(;t=t.parent;)if(wu(t)&&_u(e,t)===0)return t}function wu({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function _0(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<s.length;++a){const i=s[a].replace(fu," "),l=i.indexOf("="),u=Mo(l<0?i:i.slice(0,l)),c=l<0?null:Mo(i.slice(l+1));if(u in t){let d=t[u];Tt(d)||(d=t[u]=[d]),d.push(c)}else t[u]=c}return t}function mi(e){let t="";for(let r in e){const s=e[r];if(r=Qm(r),s==null){s!==void 0&&(t+=(t.length?"&":"")+r);continue}(Tt(s)?s.map(i=>i&&Cn(i)):[s&&Cn(s)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+r,i!=null&&(t+="="+i))})}return t}function w0(e){const t={};for(const r in e){const s=e[r];s!==void 0&&(t[r]=Tt(s)?s.map(a=>a==null?null:""+a):s==null?s:""+s)}return t}const S0=Symbol(""),pi=Symbol(""),Rs=Symbol(""),na=Symbol(""),Mn=Symbol("");function io(){let e=[];function t(s){return e.push(s),()=>{const a=e.indexOf(s);a>-1&&e.splice(a,1)}}function r(){e=[]}return{add:t,list:()=>e.slice(),reset:r}}function ir(e,t,r,s,a,i=l=>l()){const l=s&&(s.enterCallbacks[a]=s.enterCallbacks[a]||[]);return()=>new Promise((u,c)=>{const d=f=>{f===!1?c(Xr(4,{from:r,to:t})):f instanceof Error?c(f):l0(f)?c(Xr(2,{from:t,to:f})):(l&&s.enterCallbacks[a]===l&&typeof f=="function"&&l.push(f),u())},m=i(()=>e.call(s&&s.instances[a],t,r,d));let g=Promise.resolve(m);e.length<3&&(g=g.then(d)),g.catch(f=>c(f))})}function rn(e,t,r,s,a=i=>i()){const i=[];for(const l of e)for(const u in l.components){let c=l.components[u];if(!(t!=="beforeRouteEnter"&&!l.instances[u]))if(mu(c)){const m=(c.__vccOpts||c)[t];m&&i.push(ir(m,r,s,l,u,a))}else{let d=c();i.push(()=>d.then(m=>{if(!m)throw new Error(`Couldn't resolve component "${u}" at "${l.path}"`);const g=Im(m)?m.default:m;l.mods[u]=m,l.components[u]=g;const p=(g.__vccOpts||g)[t];return p&&ir(p,r,s,l,u,a)()}))}}return i}function fi(e){const t=wt(Rs),r=wt(na),s=F(()=>{const c=E(e.to);return t.resolve(c)}),a=F(()=>{const{matched:c}=s.value,{length:d}=c,m=c[d-1],g=r.matched;if(!m||!g.length)return-1;const f=g.findIndex(Jr.bind(null,m));if(f>-1)return f;const p=gi(c[d-2]);return d>1&&gi(m)===p&&g[g.length-1].path!==p?g.findIndex(Jr.bind(null,c[d-2])):f}),i=F(()=>a.value>-1&&A0(r.params,s.value.params)),l=F(()=>a.value>-1&&a.value===r.matched.length-1&&bu(r.params,s.value.params));function u(c={}){if(M0(c)){const d=t[E(e.replace)?"replace":"push"](E(e.to)).catch(ho);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:s,href:F(()=>s.value.href),isActive:i,isExactActive:l,navigate:u}}function $0(e){return e.length===1?e[0]:e}const C0=_e({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:fi,setup(e,{slots:t}){const r=Lr(fi(e)),{options:s}=wt(Rs),a=F(()=>({[vi(e.activeClass,s.linkActiveClass,"router-link-active")]:r.isActive,[vi(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=t.default&&$0(t.default(r));return e.custom?i:ra("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:a.value},i)}}}),E0=C0;function M0(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function A0(e,t){for(const r in t){const s=t[r],a=e[r];if(typeof s=="string"){if(s!==a)return!1}else if(!Tt(a)||a.length!==s.length||s.some((i,l)=>i!==a[l]))return!1}return!0}function gi(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const vi=(e,t,r)=>e??t??r,P0=_e({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const s=wt(Mn),a=F(()=>e.route||s.value),i=wt(pi,0),l=F(()=>{let d=E(i);const{matched:m}=a.value;let g;for(;(g=m[d])&&!g.components;)d++;return d}),u=F(()=>a.value.matched[l.value]);os(pi,F(()=>l.value+1)),os(S0,u),os(Mn,a);const c=N();return Se(()=>[c.value,u.value,e.name],([d,m,g],[f,p,h])=>{m&&(m.instances[g]=d,p&&p!==m&&d&&d===f&&(m.leaveGuards.size||(m.leaveGuards=p.leaveGuards),m.updateGuards.size||(m.updateGuards=p.updateGuards))),d&&m&&(!p||!Jr(m,p)||!f)&&(m.enterCallbacks[g]||[]).forEach(x=>x(d))},{flush:"post"}),()=>{const d=a.value,m=e.name,g=u.value,f=g&&g.components[m];if(!f)return hi(r.default,{Component:f,route:d});const p=g.props[m],h=p?p===!0?d.params:typeof p=="function"?p(d):p:null,k=ra(f,Re({},h,t,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(g.instances[m]=null)},ref:c}));return hi(r.default,{Component:k,route:d})||k}}});function hi(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const I0=P0;function L0(e){const t=h0(e.routes,e),r=e.parseQuery||_0,s=e.stringifyQuery||mi,a=e.history,i=io(),l=io(),u=io(),c=ut(er);let d=er;Qr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=en.bind(null,q=>""+q),g=en.bind(null,Hm),f=en.bind(null,Mo);function p(q,Q){let j,J;return xu(q)?(j=t.getRecordMatcher(q),J=Q):J=q,t.addRoute(J,j)}function h(q){const Q=t.getRecordMatcher(q);Q&&t.removeRoute(Q)}function x(){return t.getRoutes().map(q=>q.record)}function k(q){return!!t.getRecordMatcher(q)}function v(q,Q){if(Q=Re({},Q||c.value),typeof q=="string"){const B=tn(r,q,Q.path),te=t.resolve({path:B.path},Q),oe=a.createHref(B.fullPath);return Re(B,te,{params:f(te.params),hash:Mo(B.hash),redirectedFrom:void 0,href:oe})}let j;if(q.path!=null)j=Re({},q,{path:tn(r,q.path,Q.path).path});else{const B=Re({},q.params);for(const te in B)B[te]==null&&delete B[te];j=Re({},q,{params:g(B)}),Q.params=g(Q.params)}const J=t.resolve(j,Q),le=q.hash||"";J.params=m(f(J.params));const C=Wm(s,Re({},q,{hash:Dm(le),path:J.path})),I=a.createHref(C);return Re({fullPath:C,hash:le,query:s===mi?w0(q.query):q.query||{}},J,{redirectedFrom:void 0,href:I})}function w(q){return typeof q=="string"?tn(r,q,c.value.path):Re({},q)}function S(q,Q){if(d!==q)return Xr(8,{from:Q,to:q})}function M(q){return Y(q)}function L(q){return M(Re(w(q),{replace:!0}))}function A(q){const Q=q.matched[q.matched.length-1];if(Q&&Q.redirect){const{redirect:j}=Q;let J=typeof j=="function"?j(q):j;return typeof J=="string"&&(J=J.includes("?")||J.includes("#")?J=w(J):{path:J},J.params={}),Re({query:q.query,hash:q.hash,params:J.path!=null?{}:q.params},J)}}function Y(q,Q){const j=d=v(q),J=c.value,le=q.state,C=q.force,I=q.replace===!0,B=A(j);if(B)return Y(Re(w(B),{state:typeof B=="object"?Re({},le,B.state):le,force:C,replace:I}),Q||j);const te=j;te.redirectedFrom=Q;let oe;return!C&&Km(s,J,j)&&(oe=Xr(16,{to:te,from:J}),H(J,J,!0,!1)),(oe?Promise.resolve(oe):G(te,J)).catch(ce=>Wt(ce)?Wt(ce,2)?ce:O(ce):R(ce,te,J)).then(ce=>{if(ce){if(Wt(ce,2))return Y(Re({replace:I},w(ce.to),{state:typeof ce.to=="object"?Re({},le,ce.to.state):le,force:C}),Q||te)}else ce=P(te,J,!0,I,le);return D(te,J,ce),ce})}function U(q,Q){const j=S(q,Q);return j?Promise.reject(j):Promise.resolve()}function T(q){const Q=Ae.values().next().value;return Q&&typeof Q.runWithContext=="function"?Q.runWithContext(q):q()}function G(q,Q){let j;const[J,le,C]=T0(q,Q);j=rn(J.reverse(),"beforeRouteLeave",q,Q);for(const B of J)B.leaveGuards.forEach(te=>{j.push(ir(te,q,Q))});const I=U.bind(null,q,Q);return j.push(I),V(j).then(()=>{j=[];for(const B of i.list())j.push(ir(B,q,Q));return j.push(I),V(j)}).then(()=>{j=rn(le,"beforeRouteUpdate",q,Q);for(const B of le)B.updateGuards.forEach(te=>{j.push(ir(te,q,Q))});return j.push(I),V(j)}).then(()=>{j=[];for(const B of C)if(B.beforeEnter)if(Tt(B.beforeEnter))for(const te of B.beforeEnter)j.push(ir(te,q,Q));else j.push(ir(B.beforeEnter,q,Q));return j.push(I),V(j)}).then(()=>(q.matched.forEach(B=>B.enterCallbacks={}),j=rn(C,"beforeRouteEnter",q,Q,T),j.push(I),V(j))).then(()=>{j=[];for(const B of l.list())j.push(ir(B,q,Q));return j.push(I),V(j)}).catch(B=>Wt(B,8)?B:Promise.reject(B))}function D(q,Q,j){u.list().forEach(J=>T(()=>J(q,Q,j)))}function P(q,Q,j,J,le){const C=S(q,Q);if(C)return C;const I=Q===er,B=Qr?history.state:{};j&&(J||I?a.replace(q.fullPath,Re({scroll:I&&B&&B.scroll},le)):a.push(q.fullPath,le)),c.value=q,H(q,Q,j,I),O()}let $;function ee(){$||($=a.listen((q,Q,j)=>{if(!ue.listening)return;const J=v(q),le=A(J);if(le){Y(Re(le,{replace:!0,force:!0}),J).catch(ho);return}d=J;const C=c.value;Qr&&r0(oi(C.fullPath,j.delta),qs()),G(J,C).catch(I=>Wt(I,12)?I:Wt(I,2)?(Y(Re(w(I.to),{force:!0}),J).then(B=>{Wt(B,20)&&!j.delta&&j.type===Ao.pop&&a.go(-1,!1)}).catch(ho),Promise.reject()):(j.delta&&a.go(-j.delta,!1),R(I,J,C))).then(I=>{I=I||P(J,C,!1),I&&(j.delta&&!Wt(I,8)?a.go(-j.delta,!1):j.type===Ao.pop&&Wt(I,20)&&a.go(-1,!1)),D(J,C,I)}).catch(ho)}))}let W=io(),ae=io(),z;function R(q,Q,j){O(q);const J=ae.list();return J.length?J.forEach(le=>le(q,Q,j)):console.error(q),Promise.reject(q)}function ie(){return z&&c.value!==er?Promise.resolve():new Promise((q,Q)=>{W.add([q,Q])})}function O(q){return z||(z=!q,ee(),W.list().forEach(([Q,j])=>q?j(q):Q()),W.reset()),q}function H(q,Q,j,J){const{scrollBehavior:le}=e;if(!Qr||!le)return Promise.resolve();const C=!j&&o0(oi(q.fullPath,0))||(J||!j)&&history.state&&history.state.scroll||null;return Ro().then(()=>le(q,Q,C)).then(I=>I&&t0(I)).catch(I=>R(I,q,Q))}const re=q=>a.go(q);let de;const Ae=new Set,ue={currentRoute:c,listening:!0,addRoute:p,removeRoute:h,clearRoutes:t.clearRoutes,hasRoute:k,getRoutes:x,resolve:v,options:e,push:M,replace:L,go:re,back:()=>re(-1),forward:()=>re(1),beforeEach:i.add,beforeResolve:l.add,afterEach:u.add,onError:ae.add,isReady:ie,install(q){const Q=this;q.component("RouterLink",E0),q.component("RouterView",I0),q.config.globalProperties.$router=Q,Object.defineProperty(q.config.globalProperties,"$route",{enumerable:!0,get:()=>E(c)}),Qr&&!de&&c.value===er&&(de=!0,M(a.location).catch(le=>{}));const j={};for(const le in er)Object.defineProperty(j,le,{get:()=>c.value[le],enumerable:!0});q.provide(Rs,Q),q.provide(na,fl(j)),q.provide(Mn,c);const J=q.unmount;Ae.add(q),q.unmount=function(){Ae.delete(q),Ae.size<1&&(d=er,$&&$(),$=null,c.value=er,de=!1,z=!1),J()}}};function V(q){return q.reduce((Q,j)=>Q.then(()=>T(j)),Promise.resolve())}return ue}function T0(e,t){const r=[],s=[],a=[],i=Math.max(t.matched.length,e.matched.length);for(let l=0;l<i;l++){const u=t.matched[l];u&&(e.matched.find(d=>Jr(d,u))?s.push(u):r.push(u));const c=e.matched[l];c&&(t.matched.find(d=>Jr(d,c))||a.push(c))}return[r,s,a]}function Fs(){return wt(Rs)}function Su(e){return wt(na)}/*!
 * pinia v3.0.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let $u;const Us=e=>$u=e,Cu=Symbol();function An(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var yo;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(yo||(yo={}));function q0(){const e=Xi(!0),t=e.run(()=>N({}));let r=[],s=[];const a=Wn({install(i){Us(a),a._a=i,i.provide(Cu,a),i.config.globalProperties.$pinia=a,s.forEach(l=>r.push(l)),s=[]},use(i){return this._a?r.push(i):s.push(i),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return a}const Eu=()=>{};function bi(e,t,r,s=Eu){e.push(t);const a=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),s())};return!r&&Nn()&&Zi(a),a}function Ur(e,...t){e.slice().forEach(r=>{r(...t)})}const R0=e=>e(),yi=Symbol(),on=Symbol();function Pn(e,t){e instanceof Map&&t instanceof Map?t.forEach((r,s)=>e.set(s,r)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const s=t[r],a=e[r];An(a)&&An(s)&&e.hasOwnProperty(r)&&!Te(s)&&!Jt(s)?e[r]=Pn(a,s):e[r]=s}return e}const F0=Symbol();function U0(e){return!An(e)||!e.hasOwnProperty(F0)}const{assign:rr}=Object;function N0(e){return!!(Te(e)&&e.effect)}function B0(e,t,r,s){const{state:a,actions:i,getters:l}=t,u=r.state.value[e];let c;function d(){u||(r.state.value[e]=a?a():{});const m=hl(r.state.value[e]);return rr(m,i,Object.keys(l||{}).reduce((g,f)=>(g[f]=Wn(F(()=>{Us(r);const p=r._s.get(e);return l[f].call(p,p)})),g),{}))}return c=Mu(e,d,t,r,s,!0),c}function Mu(e,t,r={},s,a,i){let l;const u=rr({actions:{}},r),c={deep:!0};let d,m,g=[],f=[],p;const h=s.state.value[e];!i&&!h&&(s.state.value[e]={}),N({});let x;function k(U){let T;d=m=!1,typeof U=="function"?(U(s.state.value[e]),T={type:yo.patchFunction,storeId:e,events:p}):(Pn(s.state.value[e],U),T={type:yo.patchObject,payload:U,storeId:e,events:p});const G=x=Symbol();Ro().then(()=>{x===G&&(d=!0)}),m=!0,Ur(g,T,s.state.value[e])}const v=i?function(){const{state:T}=r,G=T?T():{};this.$patch(D=>{rr(D,G)})}:Eu;function w(){l.stop(),g=[],f=[],s._s.delete(e)}const S=(U,T="")=>{if(yi in U)return U[on]=T,U;const G=function(){Us(s);const D=Array.from(arguments),P=[],$=[];function ee(z){P.push(z)}function W(z){$.push(z)}Ur(f,{args:D,name:G[on],store:L,after:ee,onError:W});let ae;try{ae=U.apply(this&&this.$id===e?this:L,D)}catch(z){throw Ur($,z),z}return ae instanceof Promise?ae.then(z=>(Ur(P,z),z)).catch(z=>(Ur($,z),Promise.reject(z))):(Ur(P,ae),ae)};return G[yi]=!0,G[on]=T,G},M={_p:s,$id:e,$onAction:bi.bind(null,f),$patch:k,$reset:v,$subscribe(U,T={}){const G=bi(g,U,T.detached,()=>D()),D=l.run(()=>Se(()=>s.state.value[e],P=>{(T.flush==="sync"?m:d)&&U({storeId:e,type:yo.direct,events:p},P)},rr({},c,T)));return G},$dispose:w},L=Lr(M);s._s.set(e,L);const Y=(s._a&&s._a.runWithContext||R0)(()=>s._e.run(()=>(l=Xi()).run(()=>t({action:S}))));for(const U in Y){const T=Y[U];if(Te(T)&&!N0(T)||Jt(T))i||(h&&U0(T)&&(Te(T)?T.value=h[U]:Pn(T,h[U])),s.state.value[e][U]=T);else if(typeof T=="function"){const G=S(T,U);Y[U]=G,u.actions[U]=T}}return rr(L,Y),rr(Le(L),Y),Object.defineProperty(L,"$state",{get:()=>s.state.value[e],set:U=>{k(T=>{rr(T,U)})}}),s._p.forEach(U=>{rr(L,l.run(()=>U({store:L,app:s._a,pinia:s,options:u})))}),h&&i&&r.hydrate&&r.hydrate(L.$state,h),d=!0,m=!0,L}/*! #__NO_SIDE_EFFECTS__ */function Ye(e,t,r){let s;const a=typeof t=="function";s=a?r:t;function i(l,u){const c=Jn();return l=l||(c?wt(Cu,null):null),l&&Us(l),l=$u,l._s.has(e)||(a?Mu(e,t,s,l):B0(e,s,l)),l._s.get(e)}return i.$id=e,i}function Au(e){const t=Le(e),r={};for(const s in t){const a=t[s];a.effect?r[s]=F({get:()=>e[s],set(i){e[s]=i}}):(Te(a)||Jt(a))&&(r[s]=qc(e,s))}return r}function O0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sn,xi;function D0(){return xi||(xi=1,sn=function(e,t,r){if(e==null||t==null)return e;var s=String(e),a=typeof t=="number"?t:parseInt(t,10);if(isNaN(a)||!isFinite(a))return s;var i=s.length;if(i>=a)return s;var l=r==null?"":String(r);l===""&&(l=" ");for(var u=a-i;l.length<u;)l+=l;var c=l.length>u?l.substr(0,u):l;return s+c}),sn}var Q0=D0();const nn=O0(Q0);var jr=9e15,Wo=function(){for(var e=[],t=-323;t<=308;t++)e.push(+("1e"+t));return function(r){return e[r+323]}}(),ge=function(e){return e instanceof se?e:new se(e)},gt=function(e,t){return new se().fromMantissaExponent(e,t)},Er=function(e,t){return new se().fromMantissaExponent_noNormalize(e,t)};function j0(e,t,r,s){var a=t.mul(r.pow(s));return se.floor(e.div(a).mul(r.sub(1)).add(1).log10()/r.log10())}function H0(e,t,r,s){return t.mul(r.pow(s)).mul(se.sub(1,r.pow(e))).div(se.sub(1,r))}var se=function(){function e(t){this.mantissa=NaN,this.exponent=NaN,t===void 0?(this.m=0,this.e=0):t instanceof e?this.fromDecimal(t):typeof t=="number"?this.fromNumber(t):this.fromString(t)}return Object.defineProperty(e.prototype,"m",{get:function(){return this.mantissa},set:function(t){this.mantissa=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"e",{get:function(){return this.exponent},set:function(t){this.exponent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"s",{get:function(){return this.sign()},set:function(t){if(t===0)return this.e=0,void(this.m=0);this.sgn()!==t&&(this.m=-this.m)},enumerable:!1,configurable:!0}),e.fromMantissaExponent=function(t,r){return new e().fromMantissaExponent(t,r)},e.fromMantissaExponent_noNormalize=function(t,r){return new e().fromMantissaExponent_noNormalize(t,r)},e.fromDecimal=function(t){return new e().fromDecimal(t)},e.fromNumber=function(t){return new e().fromNumber(t)},e.fromString=function(t){return new e().fromString(t)},e.fromValue=function(t){return new e().fromValue(t)},e.fromValue_noAlloc=function(t){return t instanceof e?t:new e(t)},e.abs=function(t){return ge(t).abs()},e.neg=function(t){return ge(t).neg()},e.negate=function(t){return ge(t).neg()},e.negated=function(t){return ge(t).neg()},e.sign=function(t){return ge(t).sign()},e.sgn=function(t){return ge(t).sign()},e.round=function(t){return ge(t).round()},e.floor=function(t){return ge(t).floor()},e.ceil=function(t){return ge(t).ceil()},e.trunc=function(t){return ge(t).trunc()},e.add=function(t,r){return ge(t).add(r)},e.plus=function(t,r){return ge(t).add(r)},e.sub=function(t,r){return ge(t).sub(r)},e.subtract=function(t,r){return ge(t).sub(r)},e.minus=function(t,r){return ge(t).sub(r)},e.mul=function(t,r){return ge(t).mul(r)},e.multiply=function(t,r){return ge(t).mul(r)},e.times=function(t,r){return ge(t).mul(r)},e.div=function(t,r){return ge(t).div(r)},e.divide=function(t,r){return ge(t).div(r)},e.recip=function(t){return ge(t).recip()},e.reciprocal=function(t){return ge(t).recip()},e.reciprocate=function(t){return ge(t).reciprocate()},e.cmp=function(t,r){return ge(t).cmp(r)},e.compare=function(t,r){return ge(t).cmp(r)},e.eq=function(t,r){return ge(t).eq(r)},e.equals=function(t,r){return ge(t).eq(r)},e.neq=function(t,r){return ge(t).neq(r)},e.notEquals=function(t,r){return ge(t).notEquals(r)},e.lt=function(t,r){return ge(t).lt(r)},e.lte=function(t,r){return ge(t).lte(r)},e.gt=function(t,r){return ge(t).gt(r)},e.gte=function(t,r){return ge(t).gte(r)},e.max=function(t,r){return ge(t).max(r)},e.min=function(t,r){return ge(t).min(r)},e.clamp=function(t,r,s){return ge(t).clamp(r,s)},e.clampMin=function(t,r){return ge(t).clampMin(r)},e.clampMax=function(t,r){return ge(t).clampMax(r)},e.cmp_tolerance=function(t,r,s){return ge(t).cmp_tolerance(r,s)},e.compare_tolerance=function(t,r,s){return ge(t).cmp_tolerance(r,s)},e.eq_tolerance=function(t,r,s){return ge(t).eq_tolerance(r,s)},e.equals_tolerance=function(t,r,s){return ge(t).eq_tolerance(r,s)},e.neq_tolerance=function(t,r,s){return ge(t).neq_tolerance(r,s)},e.notEquals_tolerance=function(t,r,s){return ge(t).notEquals_tolerance(r,s)},e.lt_tolerance=function(t,r,s){return ge(t).lt_tolerance(r,s)},e.lte_tolerance=function(t,r,s){return ge(t).lte_tolerance(r,s)},e.gt_tolerance=function(t,r,s){return ge(t).gt_tolerance(r,s)},e.gte_tolerance=function(t,r,s){return ge(t).gte_tolerance(r,s)},e.log10=function(t){return ge(t).log10()},e.absLog10=function(t){return ge(t).absLog10()},e.pLog10=function(t){return ge(t).pLog10()},e.log=function(t,r){return ge(t).log(r)},e.log2=function(t){return ge(t).log2()},e.ln=function(t){return ge(t).ln()},e.logarithm=function(t,r){return ge(t).logarithm(r)},e.pow10=function(t){return Number.isInteger(t)?Er(1,t):gt(Math.pow(10,t%1),Math.trunc(t))},e.pow=function(t,r){return typeof t=="number"&&t===10&&typeof r=="number"&&Number.isInteger(r)?Er(1,r):ge(t).pow(r)},e.exp=function(t){return ge(t).exp()},e.sqr=function(t){return ge(t).sqr()},e.sqrt=function(t){return ge(t).sqrt()},e.cube=function(t){return ge(t).cube()},e.cbrt=function(t){return ge(t).cbrt()},e.dp=function(t){return ge(t).dp()},e.decimalPlaces=function(t){return ge(t).dp()},e.affordGeometricSeries=function(t,r,s,a){return j0(ge(t),ge(r),ge(s),a)},e.sumGeometricSeries=function(t,r,s,a){return H0(t,ge(r),ge(s),a)},e.affordArithmeticSeries=function(t,r,s,a){return function(i,l,u,c){var d=l.add(c.mul(u)).sub(u.div(2)),m=d.pow(2);return d.neg().add(m.add(u.mul(i).mul(2)).sqrt()).div(u).floor()}(ge(t),ge(r),ge(s),ge(a))},e.sumArithmeticSeries=function(t,r,s,a){return function(i,l,u,c){var d=l.add(c.mul(u));return i.div(2).mul(d.mul(2).plus(i.sub(1).mul(u)))}(ge(t),ge(r),ge(s),ge(a))},e.efficiencyOfPurchase=function(t,r,s){return function(a,i,l){return a.div(i).add(a.div(l))}(ge(t),ge(r),ge(s))},e.randomDecimalForTesting=function(t){if(20*Math.random()<1)return Er(0,0);var r=10*Math.random();10*Math.random()<1&&(r=Math.round(r)),r*=Math.sign(2*Math.random()-1);var s=Math.floor(Math.random()*t*2)-t;return gt(r,s)},e.prototype.normalize=function(){if(this.m>=1&&this.m<10)return this;if(this.m===0)return this.m=0,this.e=0,this;var t=Math.floor(Math.log10(Math.abs(this.m)));return this.m=t===-324?10*this.m/1e-323:this.m/Wo(t),this.e+=t,this},e.prototype.fromMantissaExponent=function(t,r){return isFinite(t)&&isFinite(r)?(this.m=t,this.e=r,this.normalize(),this):(t=Number.NaN,r=Number.NaN,this)},e.prototype.fromMantissaExponent_noNormalize=function(t,r){return this.m=t,this.e=r,this},e.prototype.fromDecimal=function(t){return this.m=t.m,this.e=t.e,this},e.prototype.fromNumber=function(t){return isNaN(t)?(this.m=Number.NaN,this.e=Number.NaN):t===Number.POSITIVE_INFINITY?(this.m=1,this.e=jr):t===Number.NEGATIVE_INFINITY?(this.m=-1,this.e=jr):t===0?(this.m=0,this.e=0):(this.e=Math.floor(Math.log10(Math.abs(t))),this.m=this.e===-324?10*t/1e-323:t/Wo(this.e),this.normalize()),this},e.prototype.fromString=function(t){if(t.indexOf("e")!==-1){var r=t.split("e");this.m=parseFloat(r[0]),this.e=parseFloat(r[1]),this.normalize()}else if(t==="NaN")this.m=Number.NaN,this.e=Number.NaN;else if(this.fromNumber(parseFloat(t)),isNaN(this.m))throw Error("[DecimalError] Invalid argument: "+t);return this},e.prototype.fromValue=function(t){return t instanceof e?this.fromDecimal(t):typeof t=="number"?this.fromNumber(t):typeof t=="string"?this.fromString(t):(this.m=0,this.e=0,this)},e.prototype.toNumber=function(){if(!isFinite(this.e))return Number.NaN;if(this.e>308)return this.m>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;if(this.e<-324)return 0;if(this.e===-324)return this.m>0?5e-324:-5e-324;var t=this.m*Wo(this.e);if(!isFinite(t)||this.e<0)return t;var r=Math.round(t);return Math.abs(r-t)<1e-10?r:t},e.prototype.mantissaWithDecimalPlaces=function(t){if(isNaN(this.m)||isNaN(this.e))return Number.NaN;if(this.m===0)return 0;var r=t+1,s=Math.ceil(Math.log10(Math.abs(this.m))),a=Math.round(this.m*Math.pow(10,r-s))*Math.pow(10,s-r);return parseFloat(a.toFixed(Math.max(r-s,0)))},e.prototype.toString=function(){return isNaN(this.m)||isNaN(this.e)?"NaN":this.e>=jr?this.m>0?"Infinity":"-Infinity":this.e<=-9e15||this.m===0?"0":this.e<21&&this.e>-7?this.toNumber().toString():this.m+"e"+(this.e>=0?"+":"")+this.e},e.prototype.toExponential=function(t){if(isNaN(this.m)||isNaN(this.e))return"NaN";if(this.e>=jr)return this.m>0?"Infinity":"-Infinity";if(this.e<=-9e15||this.m===0)return"0"+(t>0?nn(".",t+1,"0"):"")+"e+0";if(this.e>-324&&this.e<308)return this.toNumber().toExponential(t);isFinite(t)||(t=17);var r=t+1,s=Math.max(1,Math.ceil(Math.log10(Math.abs(this.m))));return(Math.round(this.m*Math.pow(10,r-s))*Math.pow(10,s-r)).toFixed(Math.max(r-s,0))+"e"+(this.e>=0?"+":"")+this.e},e.prototype.toFixed=function(t){return isNaN(this.m)||isNaN(this.e)?"NaN":this.e>=jr?this.m>0?"Infinity":"-Infinity":this.e<=-9e15||this.m===0?"0"+(t>0?nn(".",t+1,"0"):""):this.e>=17?this.m.toString().replace(".","").padEnd(this.e+1,"0")+(t>0?nn(".",t+1,"0"):""):this.toNumber().toFixed(t)},e.prototype.toPrecision=function(t){return this.e<=-7?this.toExponential(t-1):t>this.e?this.toFixed(t-this.e-1):this.toExponential(t-1)},e.prototype.valueOf=function(){return this.toString()},e.prototype.toJSON=function(){return this.toString()},e.prototype.toStringWithDecimalPlaces=function(t){return this.toExponential(t)},e.prototype.abs=function(){return Er(Math.abs(this.m),this.e)},e.prototype.neg=function(){return Er(-this.m,this.e)},e.prototype.negate=function(){return this.neg()},e.prototype.negated=function(){return this.neg()},e.prototype.sign=function(){return Math.sign(this.m)},e.prototype.sgn=function(){return this.sign()},e.prototype.round=function(){return this.e<-1?new e(0):this.e<17?new e(Math.round(this.toNumber())):this},e.prototype.floor=function(){return this.e<-1?Math.sign(this.m)>=0?new e(0):new e(-1):this.e<17?new e(Math.floor(this.toNumber())):this},e.prototype.ceil=function(){return this.e<-1?Math.sign(this.m)>0?new e(1):new e(0):this.e<17?new e(Math.ceil(this.toNumber())):this},e.prototype.trunc=function(){return this.e<0?new e(0):this.e<17?new e(Math.trunc(this.toNumber())):this},e.prototype.add=function(t){var r,s,a=ge(t);if(this.m===0)return a;if(a.m===0)return this;if(this.e>=a.e?(r=this,s=a):(r=a,s=this),r.e-s.e>17)return r;var i=Math.round(1e14*r.m+1e14*s.m*Wo(s.e-r.e));return gt(i,r.e-14)},e.prototype.plus=function(t){return this.add(t)},e.prototype.sub=function(t){return this.add(ge(t).neg())},e.prototype.subtract=function(t){return this.sub(t)},e.prototype.minus=function(t){return this.sub(t)},e.prototype.mul=function(t){if(typeof t=="number")return t<1e307&&t>-1e307?gt(this.m*t,this.e):gt(1e-307*this.m*t,this.e+307);var r=typeof t=="string"?new e(t):t;return gt(this.m*r.m,this.e+r.e)},e.prototype.multiply=function(t){return this.mul(t)},e.prototype.times=function(t){return this.mul(t)},e.prototype.div=function(t){return this.mul(ge(t).recip())},e.prototype.divide=function(t){return this.div(t)},e.prototype.divideBy=function(t){return this.div(t)},e.prototype.dividedBy=function(t){return this.div(t)},e.prototype.recip=function(){return gt(1/this.m,-this.e)},e.prototype.reciprocal=function(){return this.recip()},e.prototype.reciprocate=function(){return this.recip()},e.prototype.cmp=function(t){var r=ge(t);if(this.m===0){if(r.m===0)return 0;if(r.m<0)return 1;if(r.m>0)return-1}if(r.m===0){if(this.m<0)return-1;if(this.m>0)return 1}if(this.m>0)return r.m<0||this.e>r.e?1:this.e<r.e?-1:this.m>r.m?1:this.m<r.m?-1:0;if(this.m<0)return r.m>0||this.e>r.e?-1:this.e<r.e||this.m>r.m?1:this.m<r.m?-1:0;throw Error("Unreachable code")},e.prototype.compare=function(t){return this.cmp(t)},e.prototype.eq=function(t){var r=ge(t);return this.e===r.e&&this.m===r.m},e.prototype.equals=function(t){return this.eq(t)},e.prototype.neq=function(t){return!this.eq(t)},e.prototype.notEquals=function(t){return this.neq(t)},e.prototype.lt=function(t){var r=ge(t);return this.m===0?r.m>0:r.m===0?this.m<=0:this.e===r.e?this.m<r.m:this.m>0?r.m>0&&this.e<r.e:r.m>0||this.e>r.e},e.prototype.lte=function(t){return!this.gt(t)},e.prototype.gt=function(t){var r=ge(t);return this.m===0?r.m<0:r.m===0?this.m>0:this.e===r.e?this.m>r.m:this.m>0?r.m<0||this.e>r.e:r.m<0&&this.e<r.e},e.prototype.gte=function(t){return!this.lt(t)},e.prototype.max=function(t){var r=ge(t);return this.lt(r)?r:this},e.prototype.min=function(t){var r=ge(t);return this.gt(r)?r:this},e.prototype.clamp=function(t,r){return this.max(t).min(r)},e.prototype.clampMin=function(t){return this.max(t)},e.prototype.clampMax=function(t){return this.min(t)},e.prototype.cmp_tolerance=function(t,r){var s=ge(t);return this.eq_tolerance(s,r)?0:this.cmp(s)},e.prototype.compare_tolerance=function(t,r){return this.cmp_tolerance(t,r)},e.prototype.eq_tolerance=function(t,r){var s=ge(t);return e.lte(this.sub(s).abs(),e.max(this.abs(),s.abs()).mul(r))},e.prototype.equals_tolerance=function(t,r){return this.eq_tolerance(t,r)},e.prototype.neq_tolerance=function(t,r){return!this.eq_tolerance(t,r)},e.prototype.notEquals_tolerance=function(t,r){return this.neq_tolerance(t,r)},e.prototype.lt_tolerance=function(t,r){var s=ge(t);return!this.eq_tolerance(s,r)&&this.lt(s)},e.prototype.lte_tolerance=function(t,r){var s=ge(t);return this.eq_tolerance(s,r)||this.lt(s)},e.prototype.gt_tolerance=function(t,r){var s=ge(t);return!this.eq_tolerance(s,r)&&this.gt(s)},e.prototype.gte_tolerance=function(t,r){var s=ge(t);return this.eq_tolerance(s,r)||this.gt(s)},e.prototype.log10=function(){return this.e+Math.log10(this.m)},e.prototype.absLog10=function(){return this.e+Math.log10(Math.abs(this.m))},e.prototype.pLog10=function(){return this.m<=0||this.e<0?0:this.log10()},e.prototype.log=function(t){return Math.LN10/Math.log(t)*this.log10()},e.prototype.log2=function(){return 3.321928094887362*this.log10()},e.prototype.ln=function(){return 2.302585092994045*this.log10()},e.prototype.logarithm=function(t){return this.log(t)},e.prototype.pow=function(t){var r,s=t instanceof e?t.toNumber():t,a=this.e*s;if(Number.isSafeInteger(a)&&(r=Math.pow(this.m,s),isFinite(r)&&r!==0))return gt(r,a);var i=Math.trunc(a),l=a-i;if(r=Math.pow(10,s*Math.log10(this.m)+l),isFinite(r)&&r!==0)return gt(r,i);var u=e.pow10(s*this.absLog10());return this.sign()===-1?Math.abs(s%2)===1?u.neg():Math.abs(s%2)===0?u:new e(Number.NaN):u},e.prototype.pow_base=function(t){return ge(t).pow(this)},e.prototype.factorial=function(){var t=this.toNumber()+1;return e.pow(t/Math.E*Math.sqrt(t*Math.sinh(1/t)+1/(810*Math.pow(t,6))),t).mul(Math.sqrt(2*Math.PI/t))},e.prototype.exp=function(){var t=this.toNumber();return-706<t&&t<709?e.fromNumber(Math.exp(t)):e.pow(Math.E,t)},e.prototype.sqr=function(){return gt(Math.pow(this.m,2),2*this.e)},e.prototype.sqrt=function(){return this.m<0?new e(Number.NaN):this.e%2!=0?gt(3.16227766016838*Math.sqrt(this.m),Math.floor(this.e/2)):gt(Math.sqrt(this.m),Math.floor(this.e/2))},e.prototype.cube=function(){return gt(Math.pow(this.m,3),3*this.e)},e.prototype.cbrt=function(){var t=1,r=this.m;r<0&&(t=-1,r=-r);var s=t*Math.pow(r,1/3),a=this.e%3;return gt(a===1||a===-1?2.154434690031883*s:a!==0?4.641588833612778*s:s,Math.floor(this.e/3))},e.prototype.sinh=function(){return this.exp().sub(this.negate().exp()).div(2)},e.prototype.cosh=function(){return this.exp().add(this.negate().exp()).div(2)},e.prototype.tanh=function(){return this.sinh().div(this.cosh())},e.prototype.asinh=function(){return e.ln(this.add(this.sqr().add(1).sqrt()))},e.prototype.acosh=function(){return e.ln(this.add(this.sqr().sub(1).sqrt()))},e.prototype.atanh=function(){return this.abs().gte(1)?Number.NaN:e.ln(this.add(1).div(new e(1).sub(this)))/2},e.prototype.ascensionPenalty=function(t){return t===0?this:this.pow(Math.pow(10,-t))},e.prototype.egg=function(){return this.add(9)},e.prototype.lessThanOrEqualTo=function(t){return this.cmp(t)<1},e.prototype.lessThan=function(t){return this.cmp(t)<0},e.prototype.greaterThanOrEqualTo=function(t){return this.cmp(t)>-1},e.prototype.greaterThan=function(t){return this.cmp(t)>0},e.prototype.decimalPlaces=function(){return this.dp()},e.prototype.dp=function(){if(!isFinite(this.mantissa))return NaN;if(this.exponent>=17)return 0;for(var t=this.mantissa,r=-this.exponent,s=1;Math.abs(Math.round(t*s)/s-t)>1e-10;)s*=10,r++;return r>0?r:0},Object.defineProperty(e,"MAX_VALUE",{get:function(){return G0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"MIN_VALUE",{get:function(){return V0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"NUMBER_MAX_VALUE",{get:function(){return W0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"NUMBER_MIN_VALUE",{get:function(){return K0},enumerable:!1,configurable:!0}),e}(),G0=Er(1,jr),V0=Er(1,-9e15),W0=ge(Number.MAX_VALUE),K0=ge(Number.MIN_VALUE);function n(e){return new se(e)}function Z(e,t=2){if(!e)return"0";try{if(e.eq(e).toString()==="false")return"0"}catch{return"0"}if(e.eq(0)||e.lt(.01))return"0";if(e.lt(1e3)){const r=e.toFixed(t);return r.includes(".")?r.replace(/\.?0+$/,""):r}else return e.lt(1e6)?`${e.div(1e3).toFixed(t)}K`:e.lt(1e9)?`${e.div(1e6).toFixed(t)}M`:e.lt(1e12)?`${e.div(1e9).toFixed(t)}B`:e.lt(1e15)?`${e.div(1e12).toFixed(t)}T`:e.lt(1e18)?`${e.div(1e15).toFixed(t)}Qa`:e.lt(1e21)?`${e.div(1e18).toFixed(t)}Qi`:e.lt(1e24)?`${e.div(1e21).toFixed(t)}Sx`:e.lt(1e27)?`${e.div(1e24).toFixed(t)}Sp`:e.toExponential(t)}function z0(e){const t=e,r=n(3),s=n(1.065).add(n(.004).mul(t)),a=t,i=t.sub(999).max(0).div(1e3),l=a.mul(n(1).add(i));return r.mul(s.pow(l))}function Y0(e){const t=e,r=n(2e3),s=n(2.9).add(n(.3).mul(t)),a=t,i=t.sub(199).max(0).div(500),l=a.mul(n(1).add(i));return r.mul(s.pow(l))}function J0(e){const t=e,r=n(1e8),s=n(20).add(n(10).mul(t)),a=t,i=t.sub(99).max(0).div(n(1e3).div(3)),l=a.mul(n(1).add(i));return r.mul(s.pow(l))}function X0(e){const t=e,r=n(4e18),s=n(50).add(n(30).mul(t)),a=t,i=t.sub(74).max(0).div(200),l=a.mul(n(1).add(i));return r.mul(s.pow(l))}function Z0(e){const t=e,r=n("5e46"),s=n(220).add(n(80).mul(t)),a=t,i=t.sub(49).max(0).div(200),l=a.mul(n(1).add(i));return r.mul(s.pow(l))}function ep(e){const t=e,r=n("6e200"),s=n("6e5").add(n("6e5").mul(t)),a=t,i=t.div(n(500).div(3)),l=a.mul(n(1).add(i));return r.mul(s.pow(l))}function tp(e){const t=e,r=n("7e500"),s=n("7e7").add(n("7e7").mul(t)),a=t,i=t.div(50),l=a.mul(n(1).add(i));return r.mul(s.pow(l))}function Pu(e,t){switch(e){case 1:return z0(t);case 2:return Y0(t);case 3:return J0(t);case 4:return X0(t);case 5:return Z0(t);case 6:return ep(t);case 7:return tp(t);default:return n(10).mul(n(1.1).pow(t))}}function rt(e){const t=typeof e=="number"?new se(e):e;return t.lt(1e-4)?`${t.mul(100).toExponential(2)}%`:t.lt(.01)?`${t.mul(100).toFixed(4)}%`:t.lt(.1)?`${t.mul(100).toFixed(3)}%`:t.lt(1)?`${t.mul(100).toFixed(2)}%`:t.lt(10)?`${t.mul(100).toFixed(1)}%`:t.lt(1e3)?`${t.mul(100).toFixed(0)}%`:t.lt(1e6)?`${t.div(1e3).toFixed(2)}K%`:t.lt(1e9)?`${t.div(1e6).toFixed(2)}M%`:t.lt(1e12)?`${t.div(1e9).toFixed(2)}B%`:t.lt(1e15)?`${t.div(1e12).toFixed(2)}T%`:`${t.toExponential(2)}%`}const rp=[{id:"workerEfficiency",generatorId:"worker",name:"Worker Efficiency",description:"Increases food production of worker ants",cost:n(1),level:n(0),maxLevel:n(10),effect:e=>n(1).add(e.mul(.2)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased food production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"workerTraining",generatorId:"worker",name:"Worker Training",description:"Decreases the cost of worker ants",cost:n(1),level:n(0),maxLevel:n(5),effect:e=>n(1).sub(e.mul(.05)),formatEffect:e=>`${n(1).sub(e).mul(100).toFixed(0)}% decreased worker cost`,icon:"i-heroicons-academic-cap",unlocked:!0},{id:"workerForaging",generatorId:"worker",name:"Advanced Foraging",description:"Workers find higher quality food sources",cost:n(2),level:n(0),maxLevel:n(8),effect:e=>n(1).add(e.mul(.15)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased food quality`,icon:"i-heroicons-map",unlocked:!0},{id:"workerEndurance",generatorId:"worker",name:"Worker Endurance",description:"Workers can carry more food per trip",cost:n(2),level:n(0),maxLevel:n(7),effect:e=>n(1).add(e.mul(.1)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased carrying capacity`,icon:"i-heroicons-battery-100",unlocked:!0},{id:"workerBase",generatorId:"worker",name:"Worker Base",description:"Increases base food production of workers by 10",cost:n(2),level:n(0),maxLevel:n(7),formatEffect:e=>`+${e.mul(10).toFixed(0)} base food production`,icon:"i-heroicons-building-storefront",unlocked:!0},{id:"nurseryEfficiency",generatorId:"nursery",name:"Nursery Efficiency",description:"Increases worker ant production of nurseries",cost:n(1),level:n(0),maxLevel:n(10),effect:e=>n(1).add(e.mul(.2)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased worker production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"nurseryExpansion",generatorId:"nursery",name:"Nursery Expansion",description:"Decreases the cost of nurseries",cost:n(1),level:n(0),maxLevel:n(5),effect:e=>n(1).sub(e.mul(.05)),formatEffect:e=>`${n(1).sub(e).mul(100).toFixed(0)}% decreased nursery cost`,icon:"i-heroicons-home",unlocked:!0},{id:"nurseryNutrition",generatorId:"nursery",name:"Larval Nutrition",description:"Better nutrition leads to faster worker development",cost:n(2),level:n(0),maxLevel:n(8),effect:e=>n(1).add(e.mul(.12)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% faster worker development`,icon:"i-heroicons-beaker",unlocked:!0},{id:"nurseryCapacity",generatorId:"nursery",name:"Nursery Capacity",description:"Nurseries can care for more larvae simultaneously",cost:n(2),level:n(0),maxLevel:n(6),effect:e=>n(1).add(e.mul(.15)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased larvae capacity`,icon:"i-heroicons-cube",unlocked:!0},{id:"nurseryBase",generatorId:"nursery",name:"Nursery Base",description:"Increases base worker production of nurseries by 1",cost:n(2),level:n(0),maxLevel:n(7),formatEffect:e=>`+${e.toFixed(0)} base worker production`,icon:"i-heroicons-building-storefront",unlocked:!0},{id:"queenChamberEfficiency",generatorId:"queenChamber",name:"Queen Efficiency",description:"Increases nursery production of queen chambers",cost:n(1),level:n(0),maxLevel:n(10),effect:e=>n(1).add(e.mul(.2)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased nursery production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"queenChamberLongevity",generatorId:"queenChamber",name:"Queen Longevity",description:"Decreases the cost of queen chambers",cost:n(1),level:n(0),maxLevel:n(5),effect:e=>n(1).sub(e.mul(.05)),formatEffect:e=>`${n(1).sub(e).mul(100).toFixed(0)}% decreased queen chamber cost`,icon:"i-heroicons-clock",unlocked:!0},{id:"queenChamberFertility",generatorId:"queenChamber",name:"Queen Fertility",description:"Queen chambers occasionally create new queens",cost:n(3),level:n(0),maxLevel:n(5),effect:e=>n(e.mul(.005)),formatEffect:e=>`${e.mul(100).toFixed(1)}% chance to generate a free queen chamber per tick`,icon:"i-heroicons-heart",unlocked:!0},{id:"queenChamberRoyalJelly",generatorId:"queenChamber",name:"Royal Jelly",description:"Special food increases queen egg production",cost:n(2),level:n(0),maxLevel:n(7),effect:e=>n(1).add(e.mul(.15)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased egg production`,icon:"i-heroicons-fire",unlocked:!0},{id:"queenChamberGuards",generatorId:"queenChamber",name:"Royal Guards",description:"Special guards protect the queen, increasing productivity",cost:n(2),level:n(0),maxLevel:n(6),effect:e=>n(1).add(e.mul(.1)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased productivity`,icon:"i-heroicons-shield-check",unlocked:!0},{id:"queenChamberEvolution",generatorId:"queenChamber",name:"Royal Evolution",description:"Queens enhance evolution potential, increasing EP gain by 0.05% per level per manual purchase of queen chamber per evolution done",cost:n(3),level:n(0),maxLevel:n(5),effect:e=>n(e.mul(5e-4)),formatEffect:e=>`+${e.mul(100).toFixed(3)}% EP gain per queen chamber per evolution`,icon:"i-heroicons-sparkles",unlocked:!0},{id:"queenChamberBase",generatorId:"queenChamber",name:"Queen Chamber Base",description:"Increases base nursery production of queen chambers by 1",cost:n(2),level:n(0),maxLevel:n(7),formatEffect:e=>`+${e.toFixed(0)} base nursery production`,icon:"i-heroicons-building-storefront",unlocked:!0},{id:"colonyEfficiency",generatorId:"colony",name:"Colony Efficiency",description:"Increases queen chamber production of colonies",cost:n(1),level:n(0),maxLevel:n(10),effect:e=>n(1).add(e.mul(.2)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased queen chamber production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"colonyExpansion",generatorId:"colony",name:"Colony Expansion",description:"Decreases the cost of colonies",cost:n(1),level:n(0),maxLevel:n(5),effect:e=>n(1).sub(e.mul(.05)),formatEffect:e=>`${n(1).sub(e).mul(100).toFixed(0)}% decreased colony cost`,icon:"i-heroicons-building-office-2",unlocked:!0},{id:"colonyOrganization",generatorId:"colony",name:"Colony Organization",description:"Better organization leads to increased productivity",cost:n(2),level:n(0),maxLevel:n(8),effect:e=>n(1).add(e.mul(.15)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased productivity`,icon:"i-heroicons-squares-2x2",unlocked:!0},{id:"colonyInfrastructure",generatorId:"colony",name:"Colony Infrastructure",description:"Improved tunnels and chambers increase overall efficiency",cost:n(2),level:n(0),maxLevel:n(7),effect:e=>n(1).add(e.mul(.12)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased efficiency`,icon:"i-heroicons-cube-transparent",unlocked:!0},{id:"colonyBase",generatorId:"colony",name:"Colony Base",description:"Increases base queen chamber production of colonies by 1",cost:n(2),level:n(0),maxLevel:n(7),formatEffect:e=>`+${e.toFixed(0)} base queen chamber production`,icon:"i-heroicons-building-storefront",unlocked:!0},{id:"megacolonyEfficiency",generatorId:"megacolony",name:"Megacolony Efficiency",description:"Increases colony production of megacolonies",cost:n(1),level:n(0),maxLevel:n(10),effect:e=>n(1).add(e.mul(.2)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased colony production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"megacolonyExpansion",generatorId:"megacolony",name:"Megacolony Expansion",description:"Decreases the cost of megacolonies",cost:n(1),level:n(0),maxLevel:n(5),effect:e=>n(1).sub(e.mul(.05)),formatEffect:e=>`${n(1).sub(e).mul(100).toFixed(0)}% decreased megacolony cost`,icon:"i-heroicons-building-office",unlocked:!0},{id:"megacolonyNetworking",generatorId:"megacolony",name:"Colony Networking",description:"Enhanced communication between colonies increases production",cost:n(2),level:n(0),maxLevel:n(8),effect:e=>n(1).add(e.mul(.15)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased production`,icon:"i-heroicons-share",unlocked:!0},{id:"megacolonyTerritory",generatorId:"megacolony",name:"Territory Control",description:"Better territory management improves resource gathering",cost:n(2),level:n(0),maxLevel:n(7),effect:e=>n(1).add(e.mul(.12)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% improved resource gathering`,icon:"i-heroicons-map",unlocked:!0},{id:"megacolonyBase",generatorId:"megacolony",name:"Megacolony Base",description:"Increases base colony production of megacolonies by 1",cost:n(2),level:n(0),maxLevel:n(7),formatEffect:e=>`+${e.toFixed(0)} base colony production`,icon:"i-heroicons-building-storefront",unlocked:!0},{id:"hivemindEfficiency",generatorId:"hivemind",name:"Hivemind Efficiency",description:"Increases megacolony production of hiveminds",cost:n(1),level:n(0),maxLevel:n(10),effect:e=>n(1).add(e.mul(.2)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased megacolony production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"hivemindExpansion",generatorId:"hivemind",name:"Hivemind Expansion",description:"Decreases the cost of hiveminds",cost:n(1),level:n(0),maxLevel:n(5),effect:e=>n(1).sub(e.mul(.05)),formatEffect:e=>`${n(1).sub(e).mul(100).toFixed(0)}% decreased hivemind cost`,icon:"i-heroicons-globe-americas",unlocked:!0},{id:"hivemindSynergy",generatorId:"hivemind",name:"Collective Synergy",description:"Enhanced collective consciousness improves coordination",cost:n(2),level:n(0),maxLevel:n(8),effect:e=>n(1).add(e.mul(.15)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% improved coordination`,icon:"i-heroicons-cpu-chip",unlocked:!0},{id:"hivemindIntelligence",generatorId:"hivemind",name:"Collective Intelligence",description:"Increased cognitive capacity improves decision making",cost:n(2),level:n(0),maxLevel:n(7),effect:e=>n(1).add(e.mul(.12)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% improved decision making`,icon:"i-heroicons-brain",unlocked:!0},{id:"hivemindBase",generatorId:"hivemind",name:"Hivemind Base",description:"Increases base megacolony production of hiveminds by 1",cost:n(2),level:n(0),maxLevel:n(7),formatEffect:e=>`+${e.toFixed(0)} base megacolony production`,icon:"i-heroicons-building-storefront",unlocked:!0},{id:"antopolisEfficiency",generatorId:"antopolis",name:"Antopolis Efficiency",description:"Increases hivemind production of antopolis",cost:n(1),level:n(0),maxLevel:n(10),effect:e=>n(1).add(e.mul(.2)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased hivemind production`,icon:"i-heroicons-bolt",unlocked:!0},{id:"antopolisExpansion",generatorId:"antopolis",name:"Antopolis Expansion",description:"Decreases the cost of antopolis",cost:n(1),level:n(0),maxLevel:n(5),effect:e=>n(1).sub(e.mul(.05)),formatEffect:e=>`${n(1).sub(e).mul(100).toFixed(0)}% decreased antopolis cost`,icon:"i-heroicons-building-library",unlocked:!0},{id:"antopolisInnovation",generatorId:"antopolis",name:"Technological Innovation",description:"Advanced technology increases overall productivity",cost:n(2),level:n(0),maxLevel:n(8),effect:e=>n(1).add(e.mul(.15)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% increased productivity`,icon:"i-heroicons-light-bulb",unlocked:!0},{id:"antopolisCivilization",generatorId:"antopolis",name:"Ant Civilization",description:"Cultural and social advances improve efficiency",cost:n(2),level:n(0),maxLevel:n(7),effect:e=>n(1).add(e.mul(.12)),formatEffect:e=>`${e.sub(1).mul(100).toFixed(0)}% improved efficiency`,icon:"i-heroicons-academic-cap",unlocked:!0},{id:"antopolisBase",generatorId:"antopolis",name:"Antopolis Base",description:"Increases base hivemind production of antopolis by 1",cost:n(2),level:n(0),maxLevel:n(7),formatEffect:e=>`+${e.toFixed(0)} base hivemind production`,icon:"i-heroicons-building-storefront",unlocked:!0}],Iu={training_sword:{id:"training_sword",name:"Training Sword",description:"A basic sword for training. Better than nothing!",type:"equipment",rarity:"common",stats:{damage:n(5)},productionModifiers:{worker:n(2),nursery:n(1.2)},quantity:n(1)},training_armor:{id:"training_armor",name:"Training Armor",description:"Basic protective gear for training.",type:"equipment",rarity:"common",stats:{health:n(20)},productionModifiers:{worker:n(1.5),nursery:n(1.3)},quantity:n(1)},wooden_shield:{id:"wooden_shield",name:"Wooden Shield",description:"A simple wooden shield that offers basic protection.",type:"equipment",rarity:"common",stats:{health:n(15),defense:n(3)},productionModifiers:{worker:n(1.8),nursery:n(1.4)},quantity:n(1)},foraging_tools:{id:"foraging_tools",name:"Foraging Tools",description:"Basic tools that help ants gather resources more efficiently.",type:"equipment",rarity:"common",stats:{damage:n(2)},productionModifiers:{worker:n(2.2),nursery:n(1.1)},quantity:n(1)},leaf_cloak:{id:"leaf_cloak",name:"Leaf Cloak",description:"A simple cloak made from leaves that provides minimal protection.",type:"equipment",rarity:"common",stats:{health:n(10),defense:n(1)},productionModifiers:{worker:n(1.7),nursery:n(1.5)},quantity:n(1)},pebble_hammer:{id:"pebble_hammer",name:"Pebble Hammer",description:"A small pebble attached to a stick. Crude but effective.",type:"equipment",rarity:"common",stats:{damage:n(7)},productionModifiers:{worker:n(1.8),nursery:n(1.6)},quantity:n(1)},worker_sword:{id:"worker_sword",name:"Worker Sword",description:"A sturdy sword used by worker ants.",type:"equipment",rarity:"uncommon",stats:{damage:n(15)},productionModifiers:{nursery:n(2.5),queenChamber:n(1.5)},quantity:n(1)},worker_armor:{id:"worker_armor",name:"Worker Armor",description:"Durable armor worn by worker ants.",type:"equipment",rarity:"uncommon",stats:{health:n(50)},productionModifiers:{nursery:n(2.2),queenChamber:n(1.7)},quantity:n(1)},reinforced_mandibles:{id:"reinforced_mandibles",name:"Reinforced Mandibles",description:"Strengthened mandibles that can cut through tougher materials.",type:"equipment",rarity:"uncommon",stats:{damage:n(20),defense:n(5)},productionModifiers:{nursery:n(3),queenChamber:n(1.8)},quantity:n(1)},resin_helmet:{id:"resin_helmet",name:"Resin Helmet",description:"A helmet crafted from hardened tree resin, offering good protection.",type:"equipment",rarity:"uncommon",stats:{health:n(40),defense:n(10)},productionModifiers:{nursery:n(2.7),queenChamber:n(1.9)},quantity:n(1)},thorn_spear:{id:"thorn_spear",name:"Thorn Spear",description:"A spear tipped with a sharp rose thorn. Excellent for piercing.",type:"equipment",rarity:"uncommon",stats:{damage:n(25)},productionModifiers:{nursery:n(2.8),queenChamber:n(2)},quantity:n(1)},beetle_shell_shield:{id:"beetle_shell_shield",name:"Beetle Shell Shield",description:"A shield made from a small beetle's shell. Surprisingly durable.",type:"equipment",rarity:"uncommon",stats:{health:n(60),defense:n(15)},productionModifiers:{nursery:n(2.6),queenChamber:n(2.1)},quantity:n(1)},mandible_crusher:{id:"mandible_crusher",name:"Mandible Crusher",description:"A fearsome weapon forged from the mandibles of giant beetles.",type:"equipment",rarity:"rare",stats:{damage:n(100),defense:n(25)},productionModifiers:{queenChamber:n(3),colony:n(2)},quantity:n(1)},exoskeleton_plate:{id:"exoskeleton_plate",name:"Exoskeleton Plate",description:"Armor crafted from the hardened exoskeleton of a giant stag beetle.",type:"equipment",rarity:"rare",stats:{health:n(300),defense:n(50),regen:n(5)},productionModifiers:{queenChamber:n(3.5),colony:n(2.5)},quantity:n(1)},venom_dagger:{id:"venom_dagger",name:"Venom Dagger",description:"A deadly dagger coated with scorpion venom that melts through defenses.",type:"equipment",rarity:"rare",stats:{damage:n(150),regen:n(3)},productionModifiers:{queenChamber:n(4),colony:n(3)},quantity:n(1)},evolution_crystal:{id:"evolution_crystal",name:"Evolution Crystal",description:"A mysterious crystal that resonates with evolutionary energy, enhancing EP gains.",type:"equipment",rarity:"rare",stats:{damage:n(50),health:n(100),regen:n(2)},productionModifiers:{queenChamber:n(3),colony:n(2)},specialModifiers:{epBoost:n(1.3)},quantity:n(1)},hive_amplifier:{id:"hive_amplifier",name:"Hive Amplifier",description:"A powerful artifact that amplifies the productivity of the entire colony.",type:"equipment",rarity:"rare",stats:{damage:n(75),health:n(150),defense:n(30)},productionModifiers:{global:n(1.5)},quantity:n(1)},void_reaver:{id:"void_reaver",name:"Void Reaver",description:"A mythical blade that tears through the fabric of reality.",type:"equipment",rarity:"epic",stats:{damage:n(500),defense:n(100),regen:n(10)},productionModifiers:{colony:n(5),megacolony:n(3)},quantity:n(1)},chronos_shell:{id:"chronos_shell",name:"Chronos Shell",description:"Armor that manipulates time itself, allowing the wearer to exist slightly out of phase with reality.",type:"equipment",rarity:"epic",stats:{health:n(1e3),defense:n(200),regen:n(20)},productionModifiers:{colony:n(6),megacolony:n(4)},quantity:n(1)},entropy_fangs:{id:"entropy_fangs",name:"Entropy Fangs",description:"Mandibles that accelerate entropy in whatever they touch.",type:"equipment",rarity:"epic",stats:{damage:n(750),defense:n(150),regen:n(15)},productionModifiers:{colony:n(7),megacolony:n(5)},quantity:n(1)},ascension_matrix:{id:"ascension_matrix",name:"Ascension Matrix",description:"A mythical matrix of pure evolutionary potential.",type:"equipment",rarity:"epic",stats:{damage:n(300),health:n(500),defense:n(100),regen:n(10)},productionModifiers:{colony:n(4),megacolony:n(3)},specialModifiers:{epBoost:n(2)},quantity:n(1)},omnipotent_catalyst:{id:"omnipotent_catalyst",name:"Omnipotent Catalyst",description:"A mythical catalyst that exponentially increases productivity.",type:"equipment",rarity:"epic",stats:{damage:n(400),health:n(600),defense:n(120),regen:n(12)},productionModifiers:{global:n(2)},quantity:n(1)},infinity_shard:{id:"infinity_shard",name:"Infinity Shard",description:"A fragment of the universe's beginning.",type:"equipment",rarity:"legendary",stats:{damage:n(5e3),defense:n(1e3),regen:n(50),health:n(5e3)},productionModifiers:{megacolony:n(10),hivemind:n(5)},quantity:n(1)},eternity_weave:{id:"eternity_weave",name:"Eternity Weave",description:"Armor woven from the threads of eternity itself.",type:"equipment",rarity:"legendary",stats:{health:n(1e4),defense:n(2e3),regen:n(100),damage:n(2e3)},productionModifiers:{megacolony:n(12),hivemind:n(6)},quantity:n(1)},genesis_claw:{id:"genesis_claw",name:"Genesis Claw",description:"A weapon that contains the power of creation itself.",type:"equipment",rarity:"legendary",stats:{damage:n(7500),defense:n(1500),regen:n(75),health:n(3e3)},productionModifiers:{megacolony:n(15),hivemind:n(8)},quantity:n(1)},transcendence_core:{id:"transcendence_core",name:"Transcendence Core",description:"A divine core of pure evolutionary essence.",type:"equipment",rarity:"legendary",stats:{damage:n(3e3),health:n(5e3),defense:n(500),regen:n(50)},productionModifiers:{megacolony:n(8),hivemind:n(4)},specialModifiers:{epBoost:n(3)},quantity:n(1)},universal_amplifier:{id:"universal_amplifier",name:"Universal Amplifier",description:"A divine artifact that amplifies productivity to godlike levels.",type:"equipment",rarity:"legendary",stats:{damage:n(4e3),health:n(6e3),defense:n(600),regen:n(60)},productionModifiers:{global:n(3)},quantity:n(1)},quantum_mandibles:{id:"quantum_mandibles",name:"Quantum Mandibles",description:"Mandibles that exist in multiple dimensions at once.",type:"equipment",rarity:"mythic",stats:{damage:n(1e4),defense:n(2e3),regen:n(150),health:n(5e3)},productionModifiers:{hivemind:n(20),antopolis:n(10)},quantity:n(1)},mythic_ascension_matrix:{id:"mythic_ascension_matrix",name:"Ascension Matrix",description:"A mythical matrix of pure evolutionary potential.",type:"equipment",rarity:"mythic",stats:{damage:n(5e3),health:n(7500),defense:n(1e3),regen:n(100)},productionModifiers:{hivemind:n(15),antopolis:n(8)},specialModifiers:{epBoost:n(5)},quantity:n(1)},mythic_catalyst:{id:"mythic_catalyst",name:"Omnipotent Catalyst",description:"A mythical catalyst that exponentially increases productivity.",type:"equipment",rarity:"mythic",stats:{damage:n(6e3),health:n(9e3),defense:n(1200),regen:n(120)},productionModifiers:{global:n(5)},quantity:n(1)},divine_infinity_shard:{id:"divine_infinity_shard",name:"Infinity Shard",description:"A fragment of the universe's beginning.",type:"equipment",rarity:"divine",stats:{damage:n(5e4),defense:n(5e3),regen:n(500),health:n(5e4)},productionModifiers:{hivemind:n(50),antopolis:n(30)},quantity:n(1)},divine_eternity_weave:{id:"divine_eternity_weave",name:"Eternity Weave",description:"Armor woven from the threads of eternity itself.",type:"equipment",rarity:"divine",stats:{health:n(1e5),defense:n(1e4),regen:n(1e3),damage:n(1e4)},productionModifiers:{hivemind:n(60),antopolis:n(40)},quantity:n(1)},divine_genesis_claw:{id:"divine_genesis_claw",name:"Genesis Claw",description:"A weapon that contains the power of creation itself.",type:"equipment",rarity:"divine",stats:{damage:n(75e3),defense:n(7500),regen:n(750),health:n(25e3)},productionModifiers:{hivemind:n(80),antopolis:n(50)},quantity:n(1)},divine_transcendence_core:{id:"divine_transcendence_core",name:"Transcendence Core",description:"A divine core of pure evolutionary essence.",type:"equipment",rarity:"divine",stats:{damage:n(3e4),health:n(5e4),defense:n(5e3),regen:n(500)},productionModifiers:{hivemind:n(40),antopolis:n(25)},specialModifiers:{epBoost:n(10)},quantity:n(1)},divine_universal_amplifier:{id:"divine_universal_amplifier",name:"Universal Amplifier",description:"A divine artifact that amplifies productivity to godlike levels.",type:"equipment",rarity:"divine",stats:{damage:n(4e4),health:n(6e4),defense:n(6e3),regen:n(600)},productionModifiers:{global:n(10)},quantity:n(1)},divine_ant_queen_crown:{id:"divine_ant_queen_crown",name:"Ant Queen Crown",description:"A crown forged from the essence of ant queens, granting supreme authority.",type:"equipment",rarity:"divine",stats:{damage:n(45e3),health:n(55e3),defense:n(5500),regen:n(550)},productionModifiers:{hivemind:n(45),antopolis:n(35)},specialModifiers:{epBoost:n(8)},quantity:n(1)},mythic_swarm_controller:{id:"mythic_swarm_controller",name:"Swarm Controller",description:"A mystical device that allows control over vast swarms of insects.",type:"equipment",rarity:"mythic",stats:{damage:n(5500),health:n(8500),defense:n(1100),regen:n(110)},productionModifiers:{hivemind:n(18),antopolis:n(10)},specialModifiers:{epBoost:n(4)},quantity:n(1)},epic_ant_commander_armor:{id:"epic_ant_commander_armor",name:"Ant Commander Armor",description:"Armor that marks you as a supreme commander of ant armies.",type:"equipment",rarity:"epic",stats:{damage:n(600),health:n(800),defense:n(150),regen:n(15)},productionModifiers:{colony:n(8),megacolony:n(5)},specialModifiers:{epBoost:n(1.5)},quantity:n(1)},rare_ant_tactician_helm:{id:"rare_ant_tactician_helm",name:"Ant Tactician Helm",description:"A helm that enhances tactical thinking and ant coordination.",type:"equipment",rarity:"rare",stats:{damage:n(150),health:n(200),defense:n(40),regen:n(4)},productionModifiers:{queenChamber:n(4),colony:n(2.5)},specialModifiers:{epBoost:n(1.2)},quantity:n(1)},uncommon_ant_scout_gear:{id:"uncommon_ant_scout_gear",name:"Ant Scout Gear",description:"Lightweight gear perfect for ant scouts.",type:"equipment",rarity:"uncommon",stats:{damage:n(30),health:n(40),defense:n(8),regen:n(1)},productionModifiers:{nursery:n(3),queenChamber:n(2)},specialModifiers:{epBoost:n(1.1)},quantity:n(1)},common_ant_training_kit:{id:"common_ant_training_kit",name:"Ant Training Kit",description:"Basic training equipment for young ants.",type:"equipment",rarity:"common",stats:{damage:n(8),health:n(12),defense:n(3)},productionModifiers:{worker:n(2.5),nursery:n(1.8)},specialModifiers:{epBoost:n(1.05)},quantity:n(1)}},ki=1.2,an=1.15,bt=Ye("item",()=>{const e=N(Iu),t=f=>e.value[f],r=(f,p=se.fromNumber(1),h=0)=>{const x=t(f);if(x)return{...x,quantity:p,mergeLevel:h}},s={common:"text-gray-600 dark:text-gray-400",uncommon:"text-green-600 dark:text-green-400",rare:"text-blue-600 dark:text-blue-400",epic:"text-purple-600 dark:text-purple-400",legendary:"text-yellow-600 dark:text-yellow-400",mythic:"text-pink-600 dark:text-pink-400",divine:"text-cyan-600 dark:text-cyan-400"},a={common:"bg-gray-100 dark:bg-gray-800",uncommon:"bg-green-100 dark:bg-green-900/30",rare:"bg-blue-100 dark:bg-blue-900/30",epic:"bg-purple-100 dark:bg-purple-900/30",legendary:"bg-yellow-100 dark:bg-yellow-900/30",mythic:"bg-pink-100 dark:bg-pink-900/30",divine:"bg-cyan-100 dark:bg-cyan-900/30"};return{items:e,getItem:t,createItem:r,getRarityColor:f=>s[f]||s.common,getRarityBackground:f=>a[f]||a.common,getFormattedItemName:f=>!f.mergeLevel||f.mergeLevel===0?f.name:`${f.name} +${f.mergeLevel}`,getCalculatedStats:f=>{const p=t(f.id);if(!(p!=null&&p.stats))return null;const h=f.mergeLevel||0,x=se.fromNumber(Math.pow(ki,h)),k={...p.stats};return k.damage&&p.stats.damage&&(k.damage=p.stats.damage.mul(x)),k.health&&p.stats.health&&(k.health=p.stats.health.mul(x)),k.defense&&p.stats.defense&&(k.defense=p.stats.defense.mul(x)),k.regen&&p.stats.regen&&(k.regen=p.stats.regen.mul(x)),k},getCalculatedProductionModifiers:f=>{const p=t(f.id);if(!(p!=null&&p.productionModifiers))return null;const h=f.mergeLevel||0,x=se.fromNumber(Math.pow(an,h)),k={};return Object.entries(p.productionModifiers).forEach(([v,w])=>{k[v]=w.mul(x)}),k},getCalculatedSpecialModifiers:f=>{const p=t(f.id);if(!(p!=null&&p.specialModifiers))return null;const h=f.mergeLevel||0,x=se.fromNumber(Math.pow(an,h)),k={};return Object.entries(p.specialModifiers).forEach(([v,w])=>{w&&(k[v]=w.mul(x))}),k},formatModifierValue:f=>f.minus(1).mul(100).toFixed(1)+"%",MERGE_STAT_MULTIPLIER:ki,MERGE_MODIFIER_MULTIPLIER:an}}),op=[{id:"safe",name:"Training Bug",description:"A weak bug used for training. Perfect for beginners.",health:n(100),maxHealth:n(100),damage:n(0),defense:n(0),drops:[{itemId:"training_sword",chance:.15,minQuantity:1,maxQuantity:1},{itemId:"training_armor",chance:.15,minQuantity:1,maxQuantity:1},{itemId:"wooden_shield",chance:.1,minQuantity:1,maxQuantity:1},{itemId:"leaf_cloak",chance:.1,minQuantity:1,maxQuantity:1},{itemId:"pebble_hammer",chance:1e-5,minQuantity:1,maxQuantity:1}]},{id:"worker",name:"Worker Ant",description:"A common worker ant. Slightly tougher than training bugs.",health:n(500),maxHealth:n(500),damage:n(25),defense:n(10),drops:[{itemId:"worker_sword",chance:.08,minQuantity:1,maxQuantity:1},{itemId:"worker_armor",chance:.08,minQuantity:1,maxQuantity:1},{itemId:"foraging_tools",chance:.1,minQuantity:1,maxQuantity:1},{itemId:"pebble_hammer",chance:.05,minQuantity:1,maxQuantity:1},{itemId:"reinforced_mandibles",chance:.03,minQuantity:1,maxQuantity:1}]},{id:"soldier",name:"Soldier Ant",description:"A powerful soldier ant. Much tougher than worker ants.",health:n(2500),maxHealth:n(2500),damage:n(100),defense:n(50),drops:[{itemId:"reinforced_mandibles",chance:.06,minQuantity:1,maxQuantity:1},{itemId:"resin_helmet",chance:.06,minQuantity:1,maxQuantity:1},{itemId:"thorn_spear",chance:.04,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.04,minQuantity:1,maxQuantity:1}]},{id:"ladybug",name:"Ladybug",health:n(1e4),maxHealth:n(1e4),damage:n(500),defense:n(200),description:"Looks cute but can be surprisingly tough!",drops:[{itemId:"mandible_crusher",chance:.01,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.03,minQuantity:1,maxQuantity:1},{itemId:"venom_dagger",chance:.015,minQuantity:1,maxQuantity:1}]},{id:"housefly",name:"Housefly",health:n(1e5),maxHealth:n(1e5),damage:n(2500),defense:n(1e3),description:"Annoying and surprisingly durable.",drops:[{itemId:"exoskeleton_plate",chance:.008,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.02,minQuantity:1,maxQuantity:1}]},{id:"mosquito",name:"Mosquito",health:n(1e6),maxHealth:n(1e6),damage:n(1e4),defense:n(5e3),description:"Small but extremely irritating.",drops:[{itemId:"venom_dagger",chance:.006,minQuantity:1,maxQuantity:1},{itemId:"hive_amplifier",chance:.025,minQuantity:1,maxQuantity:1}]},{id:"beetle",name:"Beetle",health:n(1e8),maxHealth:n(1e8),damage:n(1e5),defense:n(2e4),description:"Hard shell, strong bite.",drops:[{itemId:"exoskeleton_plate",chance:.015,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.04,minQuantity:1,maxQuantity:1}]},{id:"grasshopper",name:"Grasshopper",health:n(1e10),maxHealth:n(1e10),damage:n(1e7),defense:n(1e5),description:"Jumps around and avoids attacks!",drops:[{itemId:"mandible_crusher",chance:.012,minQuantity:1,maxQuantity:1},{itemId:"thorn_spear",chance:.03,minQuantity:1,maxQuantity:1}]},{id:"cockroach",name:"Cockroach",health:n(1e13),maxHealth:n(1e13),damage:n(1e10),defense:n(1e6),description:"Survivor of everything. Just won't die.",drops:[{itemId:"venom_dagger",chance:.012,minQuantity:1,maxQuantity:1},{itemId:"chronos_shell",chance:2e-4,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.02,minQuantity:1,maxQuantity:1}]},{id:"fire_ant",name:"Fire Ant",health:n(1e16),maxHealth:n(1e16),damage:n(1e13),defense:n(1e8),description:"Burns everything in its path.",drops:[{itemId:"void_reaver",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"entropy_fangs",chance:4e-4,minQuantity:1,maxQuantity:1},{itemId:"venom_dagger",chance:.03,minQuantity:1,maxQuantity:1}]},{id:"termite",name:"Termite",health:n(1e20),maxHealth:n(1e20),damage:n(1e16),defense:n(1e10),description:"Destroys everything it touches.",drops:[{itemId:"mandible_crusher",chance:.02,minQuantity:1,maxQuantity:1},{itemId:"reinforced_mandibles",chance:.05,minQuantity:1,maxQuantity:1}]},{id:"wasp",name:"Wasp",health:n(1e25),maxHealth:n(1e25),damage:n(1e20),defense:n(1e12),description:"Faster and angrier than a hornet!",drops:[{itemId:"void_reaver",chance:.004,minQuantity:1,maxQuantity:1},{itemId:"entropy_fangs",chance:6e-4,minQuantity:1,maxQuantity:1},{itemId:"venom_dagger",chance:.04,minQuantity:1,maxQuantity:1}]},{id:"scorpion",name:"Scorpion",health:n(1e30),maxHealth:n(1e30),damage:n(1e25),defense:n(1e15),description:"Big pincers, bigger stinger.",drops:[{itemId:"venom_dagger",chance:.03,minQuantity:1,maxQuantity:1},{itemId:"void_reaver",chance:8e-4,minQuantity:1,maxQuantity:1},{itemId:"entropy_fangs",chance:.05,minQuantity:1,maxQuantity:1}]},{id:"giant_moth",name:"Giant Moth",health:n(1e40),maxHealth:n(1e40),damage:n(1e30),defense:n(1e20),description:"Loves lights. Too bad it's also huge.",drops:[{itemId:"infinity_shard",chance:.001,minQuantity:1,maxQuantity:1},{itemId:"chronos_shell",chance:4e-4,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.04,minQuantity:1,maxQuantity:1},{itemId:"eternity_weave",chance:6e-4,minQuantity:1,maxQuantity:1}]},{id:"tarantula",name:"Tarantula",health:n(1e50),maxHealth:n(1e50),damage:n(1e40),defense:n(1e25),description:"Fluffy but terrifying.",drops:[{itemId:"exoskeleton_plate",chance:.025,minQuantity:1,maxQuantity:1},{itemId:"entropy_fangs",chance:.001,minQuantity:1,maxQuantity:1},{itemId:"venom_dagger",chance:.06,minQuantity:1,maxQuantity:1}]},{id:"giant_stag_beetle",name:"Giant Stag Beetle",health:n(1e65),maxHealth:n(1e65),damage:n(1e50),defense:n(1e30),description:"Massive pincers that can crush anything.",drops:[{itemId:"mandible_crusher",chance:.04,minQuantity:1,maxQuantity:1},{itemId:"entropy_fangs",chance:.0015,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.07,minQuantity:1,maxQuantity:1}]},{id:"army_ant",name:"Army Ant",health:n(1e80),maxHealth:n(1e80),damage:n(1e65),defense:n(1e40),description:"A relentless horde of ants.",drops:[{itemId:"void_reaver",chance:.006,minQuantity:1,maxQuantity:1},{itemId:"infinity_shard",chance:1e-4,minQuantity:1,maxQuantity:1},{itemId:"reinforced_mandibles",chance:.08,minQuantity:1,maxQuantity:3}]},{id:"stag_beetle_swarm",name:"Stag Beetle Swarm",health:n(1e100),maxHealth:n(1e100),damage:n(1e80),defense:n(1e50),description:"Too many beetles to count.",drops:[{itemId:"quantum_mandibles",chance:.0015,minQuantity:1,maxQuantity:1},{itemId:"divine_eternity_weave",chance:15e-5,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.1,minQuantity:1,maxQuantity:5}]},{id:"mutant_fly",name:"Mutant Fly",health:n(1e125),maxHealth:n(1e125),damage:n(1e100),defense:n(1e65),description:"Somehow even more annoying than a normal fly.",drops:[{itemId:"divine_infinity_shard",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"void_reaver",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.06,minQuantity:1,maxQuantity:2}]},{id:"giant_firefly",name:"Giant Firefly",health:n(1e150),maxHealth:n(1e150),damage:n(1e120),defense:n(1e80),description:"Brighter than the sun, dangerous too.",drops:[{itemId:"divine_infinity_shard",chance:.003,minQuantity:1,maxQuantity:1},{itemId:"chronos_shell",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.07,minQuantity:1,maxQuantity:2}]},{id:"ultra_beetle",name:"Ultra Beetle",health:n(1e200),maxHealth:n(1e200),damage:n(1e160),defense:n(1e100),description:"Bigger. Stronger. Shinier.",drops:[{itemId:"quantum_mandibles",chance:.0025,minQuantity:1,maxQuantity:1},{itemId:"entropy_fangs",chance:.003,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.12,minQuantity:2,maxQuantity:5},{itemId:"genesis_claw",chance:.0015,minQuantity:1,maxQuantity:1},{itemId:"universal_amplifier",chance:.001,minQuantity:1,maxQuantity:1}]},{id:"queen_wasp",name:"Queen Wasp",health:n("1e300"),maxHealth:n("1e300"),damage:n("1e250"),defense:n("1e150"),description:"Controls an entire hive of wasps.",drops:[{itemId:"divine_genesis_claw",chance:.01,minQuantity:1,maxQuantity:1},{itemId:"infinity_shard",chance:4e-4,minQuantity:1,maxQuantity:1},{itemId:"venom_dagger",chance:.1,minQuantity:1,maxQuantity:3}]},{id:"colossal_cockroach",name:"Colossal Cockroach",health:n("1e500"),maxHealth:n("1e500"),damage:n("1e400"),defense:n("1e200"),description:"Even harder to kill than before.",drops:[{itemId:"exoskeleton_plate",chance:.005,minQuantity:1,maxQuantity:1},{itemId:"divine_eternity_weave",chance:6e-4,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.08,minQuantity:1,maxQuantity:3},{itemId:"transcendence_core",chance:4e-4,minQuantity:1,maxQuantity:1},{itemId:"mythic_catalyst",chance:2e-4,minQuantity:1,maxQuantity:1}]},{id:"apocalyptic_termites",name:"Apocalyptic Termites",health:n("1e750"),maxHealth:n("1e750"),damage:n("1e600"),defense:n("1e300"),description:"Capable of reducing everything to dust.",drops:[{itemId:"quantum_mandibles",chance:.004,minQuantity:1,maxQuantity:1},{itemId:"divine_genesis_claw",chance:2e-4,minQuantity:1,maxQuantity:1},{itemId:"reinforced_mandibles",chance:.12,minQuantity:2,maxQuantity:5}]},{id:"radioactive_spider",name:"Radioactive Spider",health:n("1e1000"),maxHealth:n("1e1000"),damage:n("1e800"),defense:n("1e400"),description:"Not the kind that gives you superpowers.",drops:[{itemId:"venom_dagger",chance:.006,minQuantity:1,maxQuantity:1},{itemId:"divine_infinity_shard",chance:8e-4,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.1,minQuantity:2,maxQuantity:4}]},{id:"endless_ant_swarms",name:"Endless Ant Swarm",health:n("1e2000"),maxHealth:n("1e2000"),damage:n("1e1500"),defense:n("1e750"),description:"A never-ending army of ants.",drops:[{itemId:"divine_genesis_claw",chance:.008,minQuantity:1,maxQuantity:1},{itemId:"divine_eternity_weave",chance:.001,minQuantity:1,maxQuantity:1},{itemId:"reinforced_mandibles",chance:.14,minQuantity:3,maxQuantity:8}]},{id:"galactic_moth",name:"Galactic Moth",health:n("1e5000"),maxHealth:n("1e5000"),damage:n("1e4000"),defense:n("1e2000"),description:"It seeks the biggest, brightest lights in the universe.",drops:[{itemId:"divine_infinity_shard",chance:.006,minQuantity:1,maxQuantity:1},{itemId:"divine_genesis_claw",chance:4e-4,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.12,minQuantity:2,maxQuantity:5}]},{id:"quantum_beetle",name:"Quantum Beetle",health:n("1e10000"),maxHealth:n("1e10000"),damage:n("1e8000"),defense:n("1e4000"),description:"Exists in multiple places at once.",drops:[{itemId:"quantum_mandibles",chance:.01,minQuantity:1,maxQuantity:1},{itemId:"divine_genesis_claw",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"divine_infinity_shard",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"divine_eternity_weave",chance:.002,minQuantity:1,maxQuantity:1},{itemId:"divine_transcendence_core",chance:.0015,minQuantity:1,maxQuantity:1},{itemId:"divine_universal_amplifier",chance:.0015,minQuantity:1,maxQuantity:1},{itemId:"mythic_ascension_matrix",chance:.001,minQuantity:1,maxQuantity:1},{itemId:"ascension_matrix",chance:.003,minQuantity:1,maxQuantity:1},{itemId:"omnipotent_catalyst",chance:.0025,minQuantity:1,maxQuantity:1},{itemId:"beetle_shell_shield",chance:.2,minQuantity:5,maxQuantity:10},{itemId:"evolution_crystal",chance:.2,minQuantity:3,maxQuantity:8}]},{id:"ant_queen_guardian",name:"Ant Queen Guardian",health:n("1e15000"),maxHealth:n("1e15000"),damage:n("1e12000"),defense:n("1e6000"),description:"The ultimate protector of ant queens.",drops:[{itemId:"divine_ant_queen_crown",chance:.005,minQuantity:1,maxQuantity:1},{itemId:"mythic_swarm_controller",chance:.01,minQuantity:1,maxQuantity:1},{itemId:"divine_infinity_shard",chance:.003,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.15,minQuantity:3,maxQuantity:6}]},{id:"swarm_lord",name:"Swarm Lord",health:n("1e20000"),maxHealth:n("1e20000"),damage:n("1e16000"),defense:n("1e8000"),description:"Commands vast swarms of insects with deadly precision.",drops:[{itemId:"mythic_swarm_controller",chance:.008,minQuantity:1,maxQuantity:1},{itemId:"epic_ant_commander_armor",chance:.015,minQuantity:1,maxQuantity:1},{itemId:"divine_eternity_weave",chance:.004,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.18,minQuantity:4,maxQuantity:8}]},{id:"ant_legion_commander",name:"Ant Legion Commander",health:n("1e25000"),maxHealth:n("1e25000"),damage:n("1e20000"),defense:n("1e10000"),description:"Leads massive ant legions into battle.",drops:[{itemId:"epic_ant_commander_armor",chance:.01,minQuantity:1,maxQuantity:1},{itemId:"rare_ant_tactician_helm",chance:.02,minQuantity:1,maxQuantity:1},{itemId:"divine_genesis_claw",chance:.005,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.2,minQuantity:5,maxQuantity:10}]},{id:"ant_tactician",name:"Ant Tactician",health:n("1e30000"),maxHealth:n("1e30000"),damage:n("1e24000"),defense:n("1e12000"),description:"Masters the art of ant warfare and strategy.",drops:[{itemId:"rare_ant_tactician_helm",chance:.015,minQuantity:1,maxQuantity:1},{itemId:"uncommon_ant_scout_gear",chance:.03,minQuantity:1,maxQuantity:1},{itemId:"divine_transcendence_core",chance:.006,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.22,minQuantity:6,maxQuantity:12}]},{id:"ant_scout_master",name:"Ant Scout Master",health:n("1e35000"),maxHealth:n("1e35000"),damage:n("1e28000"),defense:n("1e14000"),description:"The ultimate scout, gathering intelligence with unmatched speed.",drops:[{itemId:"uncommon_ant_scout_gear",chance:.02,minQuantity:1,maxQuantity:1},{itemId:"common_ant_training_kit",chance:.04,minQuantity:1,maxQuantity:1},{itemId:"divine_universal_amplifier",chance:.007,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.25,minQuantity:7,maxQuantity:14}]},{id:"ant_training_master",name:"Ant Training Master",health:n("1e40000"),maxHealth:n("1e40000"),damage:n("1e32000"),defense:n("1e16000"),description:"Transforms young ants into elite warriors.",drops:[{itemId:"common_ant_training_kit",chance:.025,minQuantity:1,maxQuantity:1},{itemId:"evolution_crystal",chance:.28,minQuantity:8,maxQuantity:16},{itemId:"mythic_ascension_matrix",chance:.008,minQuantity:1,maxQuantity:1},{itemId:"divine_ant_queen_crown",chance:.003,minQuantity:1,maxQuantity:1}]}],aa=Ye("filter",()=>{const e=N(new Set);return{filteredItems:e,toggleItemFilter:l=>{e.value.has(l)?e.value.delete(l):e.value.add(l)},isItemFiltered:l=>e.value.has(l),getAllAvailableItems:()=>Object.values(Iu),getState:()=>({filteredItems:Array.from(e.value)}),loadState:l=>{l.filteredItems&&(e.value=new Set(l.filteredItems))}}}),sp=!1;console.log("[Idle Ant Farm] Debug logging disabled (env: undefined, version: undefined)");const ve=(e,...t)=>{},Lu=(e,...t)=>{console.warn(`[Idle Ant Farm][WARN] ${e}`,...t)},np=(e,...t)=>{console.error(`[Idle Ant Farm][ERROR] ${e}`,...t)},ap=()=>sp,qt=Ye("adventure",()=>{const e=De(),t=hr(),r=pt(),s=Mt(),a=Ue(),i=aa(),l=yt(),u=bt(),c=ht(),d=F(()=>a.getUpgradeCount("unlockAdventure").gt(0)),m=F(()=>{const C=a.getUpgradeCount("doubleKill");return se.fromNumber(.01).mul(C)}),g=F(()=>{const C=a.getUpgradeCount("doubleKillEffect");return se.fromNumber(2).mul(C)}),f=F(()=>{const C=e.generators[0].count.mul(se.fromNumber(10)),I=e.generators[0].count,B=r.totalStats.damage.mul(I);return C.plus(B)}),p=F(()=>{const C=e.generators[0].count.mul(se.fromNumber(100)),I=e.generators[0].count,B=r.totalStats.health.mul(I);return C.plus(B)}),h=F(()=>{const C=e.generators[0].count,I=e.generators[0].count,B=r.totalStats.regen.mul(I);return C.plus(B)}),x=F(()=>{const C=e.generators[0].count.mul(se.fromNumber(10)),I=e.generators[0].count,B=r.totalStats.defense.mul(I);return C.plus(B)}),k=N(p.value),v=N(!0),w=N(!0),S=N("safe"),M=N([]),L=30,A=N(!1),Y=N(!1),U=N("combat"),T=N(!1),G=N(!1),D=N(!1),P=(C,I)=>{const B=C.minus(I);return C.gt(0)&&B.lte(0)?new se(1):se.max(B,new se(0))},$=(C,I="info")=>{const B={timestamp:Date.now(),message:C,type:I};M.value.length>=L?M.value=[...M.value.slice(1),B]:M.value.push(B)},ee=()=>{$("You died! Returning to safe training...","info"),k.value=p.value,S.value="safe",Q("safe"),A.value=!0},W=()=>{t.selectedBug&&(t.selectedBug.health=t.selectedBug.maxHealth,$(`A new ${t.selectedBug.name} appears with ${Z(t.selectedBug.maxHealth)} health!`,"info"))},ae=C=>{const I=t.getBugById(C);return I?P(f.value,I.defense).gte(I.maxHealth):!1},z=C=>{const I=t.bugs.findIndex(B=>B.id===C);return I===-1||I===t.bugs.length-1?null:t.bugs[I+1].id},R=C=>{const I=t.bugs.findIndex(fe=>fe.id===C.id),B=se.fromNumber(.1).add(se.fromNumber(.02).mul(I)),te=se.min(B,se.fromNumber(2)),ce=e.foodPerSecond.mul(te);return{reward:se.max(ce,se.fromNumber(10)),percentage:te}},ie=C=>{const I=t.bugs.findIndex(te=>te.id===C.id),B=se.fromNumber(5).mul(se.pow(1.15,I));return I>50?B.mul(se.fromNumber(50+(I-50)*.3)):B.floor()},O=C=>{const I=h.value.mul(C);k.value=se.min(p.value,k.value.add(I))},H=C=>{var te;if(!t.selectedBug)return!1;if(A.value)return W(),A.value=!1,!1;if(t.isBugDead)return!1;const I=P(f.value,t.selectedBug.defense);if(t.attackBug(I),C&&$(`You deal ${Z(I)} damage to ${t.selectedBug.name} (${Z(t.selectedBug.health)}/${Z(t.selectedBug.maxHealth)} HP)`,"combat"),t.isBugDead){const oe=c.activeQuest!==null,ce=((te=c.activeQuest)==null?void 0:te.title)||"";return de(t.selectedBug,C),oe&&c.activeQuest===null&&$(`Quest completed: ${ce}!`,"reward"),!1}const B=P(t.selectedBug.damage,x.value);return V(B),C&&$(`${t.selectedBug.name} deals ${Z(B)} damage to you (${Z(k.value)}/${Z(p.value)} HP)`,"combat"),q.value},re=C=>{const I=t.getRandomDrops();if(I.length===0)return;const B=I.filter(oe=>!i.isItemFiltered(oe.itemId)),te=I.filter(oe=>i.isItemFiltered(oe.itemId));if(B.length>0&&B.forEach(oe=>{r.addItem(oe.itemId,se.fromNumber(oe.quantity)),C&&$(`You found ${oe.quantity}x ${oe.itemId}!`,"reward")}),te.length>0&&r.isAutoSalvageUnlocked&&r.isAutoSalvageEnabled){let oe=n(0);if(te.forEach(ce=>{const pe=u.getItem(ce.itemId);if(!pe)return;const fe={...pe,quantity:se.fromNumber(ce.quantity)},be=s.calculateSalvageValue(fe);oe=oe.add(be)}),oe.gt(0)){const ce=l.getPheromoneGainMultiplier(),pe=s.addPheromoneEssence(oe);if(C)if(ce.gt(1)){const fe=Z(oe),be=Z(pe.sub(oe));$(`Auto-salvaged filtered items for ${fe} + ${be} bonus Pheromone Essence!`,"reward")}else $(`Auto-salvaged filtered items for ${Z(pe)} Pheromone Essence!`,"reward")}}else I.length!==B.length&&C&&$("Some items were filtered out based on your settings.","info")},de=(C,I)=>{var be;const{reward:B,percentage:te}=R(C);if(e.food=e.food.add(B),I){const me=Z(te.mul(100),0);$(`You defeated ${C.name} and gained ${Z(B)} food (${me}% of your food/sec)!`,"reward")}const oe=ie(C),ce=l.getPheromoneGainMultiplier(),pe=s.addPheromoneEssence(oe);if(I)if(ce.gt(1)){const me=Z(oe),we=Z(pe.sub(oe));$(`You collected ${me} + ${we} bonus Pheromone Essence (${Z(ce)}x multiplier)!`,"reward")}else $(`You collected ${Z(pe)} Pheromone Essence!`,"reward");re(I);let fe=1;if(Math.random()<m.value.toNumber()){I&&$(`DOUBLE KILL! (${Z(g.value)}x multiplier)`,"reward");const me=B.mul(g.value);e.food=e.food.add(me);const we=oe.mul(g.value),xe=s.addPheromoneEssence(we);I&&$(`Double kill bonus: +${Z(me)} food and +${Z(xe)} Pheromone Essence!`,"reward"),re(I),fe=2*g.value.toNumber()}try{if(c.activeQuest){const me=c.activeQuest.goals.filter(we=>we.type===ze.KILL_BUGS);if(me.length>0)for(const we of me){const xe=!we.target,$e=we.target&&C.id===we.target,Ee=["bug_slayer_initiate","extreme_bug_hunter"].includes(c.activeQuest.id)||c.activeQuest.id.includes("exterminator_");if(xe||$e||Ee){let Ie=we.currentAmount instanceof se?we.currentAmount:n(we.currentAmount||0);if(Ie=Ie.add(fe),we.currentAmount=Ie,I){const Ne=we.requiredAmount instanceof se?we.requiredAmount:n(we.requiredAmount||0);$(xe||Ee?`Quest progress: ${Z(Ie)}/${Z(Ne)} total kills`:`Quest progress: ${Z(Ie)}/${Z(Ne)} ${C.name} kills`,"info")}ve(`${c.activeQuest.id} quest progress for goal ${we.type}${we.target?` (${we.target})`:""}: ${Ie.toString()} / ${we.requiredAmount}`)}}c.tick()}}catch(me){np("Error updating quest progress for bug defeat:",me)}if(Y.value){const me=z(S.value);me&&ae(me)&&(I&&$(`Auto advancing to next bug: ${(be=t.getBugById(me))==null?void 0:be.name}`,"info"),j(me))}A.value=!0},Ae=(C=1)=>{if(d.value){C>1?O(C):ue();for(let I=0;I<C;I++)if(H(C===1)){ee();break}}},ue=()=>{const C=k.value;if(k.value=k.value.plus(h.value).clamp(0,p.value),k.value.gt(C)&&h.value.gt(0)){const I=k.value.minus(C);I.gt(0)&&$(`You regenerate ${Z(I)} health (${Z(k.value)}/${Z(p.value)} HP)`,"info")}},V=C=>{k.value=k.value.minus(C).clamp(0,p.value)},q=F(()=>k.value.lte(0)),Q=C=>{var B,te,oe;const I=t.selectedBug;if(t.selectBug(C),(I==null?void 0:I.id)!==C){$(`You start fighting ${(B=t.selectedBug)==null?void 0:B.name} (${Z(((te=t.selectedBug)==null?void 0:te.damage)||se.fromNumber(0))} damage, ${Z(((oe=t.selectedBug)==null?void 0:oe.maxHealth)||se.fromNumber(0))} health)`,"info");const ce=e.generators[0].count.mul(se.fromNumber(10)),pe=e.generators[0].count,fe=r.totalStats.damage.mul(pe);fe.gt(0)&&$(`Your equipment provides a damage boost of ${Z(fe)} (${Z(ce)} base + ${Z(fe)} equipment boost)`,"info"),A.value=!0}},j=C=>{var I,B;S.value!==C&&$(`Switching target from ${((I=t.getBugById(S.value))==null?void 0:I.name)||"unknown"} to ${((B=t.getBugById(C))==null?void 0:B.name)||"unknown"}`,"info"),S.value=C,Q(C)},J=C=>{C.currentHealth&&(k.value=n(C.currentHealth)),C.selectedBugId&&(S.value=C.selectedBugId,Q(C.selectedBugId)),typeof C.autoAdvance=="boolean"&&(Y.value=C.autoAdvance),C.filters&&(typeof C.filters.showOneHitOnly=="boolean"&&(T.value=C.filters.showOneHitOnly),typeof C.filters.showCanKillOnly=="boolean"&&(G.value=C.filters.showCanKillOnly),typeof C.filters.showAllEnemies=="boolean"&&(D.value=C.filters.showAllEnemies)),C.activeTab&&(U.value=C.activeTab),$("Adventure state loaded","info")},le=()=>({currentHealth:k.value.toString(),selectedBugId:S.value,autoAdvance:Y.value,activeTab:U.value,filters:{showOneHitOnly:T.value,showCanKillOnly:G.value,showAllEnemies:D.value}});return Q("safe"),{currentHealth:k,playerMaxHealth:p,playerDamage:f,playerRegen:h,playerDefense:x,isDead:q,isInCombat:v,autoCombatEnabled:w,selectedBugId:S,logs:M,isAdventureUnlocked:d,tick:Ae,takeDamage:V,regenHealth:ue,startCombat:Q,toggleAutoCombat:j,loadState:J,getState:le,autoAdvance:Y,canOneHitBug:ae,showOneHitOnly:T,showCanKillOnly:G,showAllEnemies:D,activeTab:U,calculateDamage:P,addLog:$}}),hr=Ye("bug",()=>{const e=N(op),t=N(e.value[0]),r=N("safe"),s=Ue(),a=F(()=>s.getUpgradeCount("reRollChance").div(100)),i=F(()=>t.value?t.value.health.lte(0):!1),l=F(()=>t.value?t.value.health.div(t.value.maxHealth).mul(100).toNumber():0),u=x=>{const k=e.value.find(v=>v.id===x);k&&(t.value=k,r.value=x,k.health=k.maxHealth)},c=x=>{t.value&&(t.value.health=t.value.health.minus(x).clamp(0,t.value.maxHealth))},d=()=>{if(!t.value)return[];const x=[],k=qt();return t.value.drops.forEach(v=>{if(Math.random()<=v.chance){const w=Math.floor(Math.random()*(v.maxQuantity-v.minQuantity+1)+v.minQuantity);x.push({itemId:v.itemId,quantity:w})}if(a.value.gt(0)&&Math.random()<=a.value.toNumber()){const w=Math.floor(Math.random()*(v.maxQuantity-v.minQuantity+1)+v.minQuantity);x.push({itemId:v.itemId,quantity:w}),k.addLog(`Re-roll successful! Gained ${w}x ${v.itemId}!`,"reward")}}),x},m=x=>{x.selectedBugId&&(u(x.selectedBugId),x.selectedBugHealth&&(t.value.health=n(x.selectedBugHealth)))},g=()=>{var x,k;return{selectedBugId:((x=t.value)==null?void 0:x.id)||null,selectedBugHealth:((k=t.value)==null?void 0:k.health.toString())||null}},f=x=>e.value.find(k=>k.id===x),p=x=>e.value.filter(k=>k.drops.some(v=>v.itemId===x)),h=(x,k)=>{const v=f(k);if(!v)return 0;const w=v.drops.find(S=>S.itemId===x);return w?w.chance:0};return{bugs:e.value.sort((x,k)=>x.health.minus(k.health).toNumber()),selectedBug:t,selectedBugId:r,isBugDead:i,getBugHealthPercentage:l,selectBug:u,attackBug:c,getRandomDrops:d,loadState:m,getState:g,getBugById:f,getBugsByItemId:p,getBugDropChance:h}});var ze=(e=>(e.KILL_BUGS="kill_bugs",e.COLLECT_FOOD="collect_food",e.COLLECT_PHEROMONE="collect_pheromone",e))(ze||{}),vt=(e=>(e.ITEM="item",e.FOOD="food",e.PHEROMONE="pheromone",e.EP="ep",e.MULTIPLIER="multiplier",e))(vt||{});const ip=[{id:"kill_training_bugs",title:"Basic Training",description:"Defeat 25 training bugs to practice your combat skills.",goals:[{type:"kill_bugs",target:"safe",requiredAmount:"25",currentAmount:"0"}],rewards:[{type:"food",value:5e3},{type:"pheromone",value:100}],isCompleted:!1,isActive:!1},{id:"kill_grasshopper",title:"Grasshopper Hunter",description:"Defeat 15 grasshoppers to protect your colony.",goals:[{type:"kill_bugs",target:"grasshopper",requiredAmount:"15",currentAmount:"0"}],rewards:[{type:"pheromone",value:200},{type:"multiplier",value:1.1,target:"global"}],isCompleted:!1,isActive:!1},{id:"kill_tarantula",title:"Spider Slayer",description:"Defeat 10 tarantulas to prove your colony's strength.",goals:[{type:"kill_bugs",target:"tarantula",requiredAmount:"10",currentAmount:"0"}],rewards:[{type:"ep",value:1e3},{type:"pheromone",value:350}],isCompleted:!1,isActive:!1},{id:"kill_beetle",title:"Beetle Buster",description:"Defeat 8 beetles to claim their territory.",goals:[{type:"kill_bugs",target:"beetle",requiredAmount:"8",currentAmount:"0"}],rewards:[{type:"pheromone",value:500},{type:"multiplier",value:1.15,target:"soldier"}],isCompleted:!1,isActive:!1},{id:"kill_scorpion",title:"Scorpion Subjugator",description:"Defeat 5 scorpions to secure your colony's dominance.",goals:[{type:"kill_bugs",target:"scorpion",requiredAmount:"5",currentAmount:"0"}],rewards:[{type:"ep",value:2500},{type:"multiplier",value:1.2,target:"global"}],isCompleted:!1,isActive:!1},{id:"kill_army_ant",title:"Ant Terminator",description:"Defeat 3 army ants to demonstrate your colony's prowess.",goals:[{type:"kill_bugs",target:"army_ant",requiredAmount:"3",currentAmount:"0"}],rewards:[{type:"pheromone",value:1e3},{type:"ep",value:5e3}],isCompleted:!1,isActive:!1},{id:"collect_food_basic",title:"Colony Provisions",description:"Collect 50,000 food to support your growing colony.",goals:[{type:"collect_food",requiredAmount:"50000",currentAmount:"0"}],rewards:[{type:"multiplier",value:1.25,target:"worker"}],isCompleted:!1,isActive:!1},{id:"collect_food_intermediate",title:"Winter Storage",description:"Collect 250,000 food to prepare for harsher seasons.",goals:[{type:"collect_food",requiredAmount:"250000",currentAmount:"0"}],rewards:[{type:"multiplier",value:1.35,target:"food"},{type:"ep",value:2e3}],isCompleted:!1,isActive:!1},{id:"collect_food_advanced",title:"Feast Preparation",description:"Collect 1,000,000 food for a colony-wide celebration.",goals:[{type:"collect_food",requiredAmount:"1000000",currentAmount:"0"}],rewards:[{type:"multiplier",value:1.5,target:"global"},{type:"ep",value:5e3}],isCompleted:!1,isActive:!1},{id:"collect_food_expert",title:"Food Empire",description:"Collect 10,000,000 food to establish your colony as a food powerhouse.",goals:[{type:"collect_food",requiredAmount:"10000000",currentAmount:"0"}],rewards:[{type:"multiplier",value:2,target:"food"},{type:"ep",value:1e4}],isCompleted:!1,isActive:!1},{id:"collect_pheromone_basic",title:"Essence Collector",description:"Collect 500 pheromone essence to unlock new mystical powers.",goals:[{type:"collect_pheromone",requiredAmount:"500",currentAmount:"0"}],rewards:[{type:"multiplier",value:1.2,target:"pheromone"}],isCompleted:!1,isActive:!1},{id:"collect_pheromone_intermediate",title:"Essence Master",description:"Collect 2,000 pheromone essence to enhance your colony's powers.",goals:[{type:"collect_pheromone",requiredAmount:"2000",currentAmount:"0"}],rewards:[{type:"multiplier",value:1.3,target:"pheromone"},{type:"ep",value:3e3}],isCompleted:!1,isActive:!1},{id:"collect_pheromone_advanced",title:"Essence Harvester",description:"Collect 5,000 pheromone essence to reach new heights of power.",goals:[{type:"collect_pheromone",requiredAmount:"5000",currentAmount:"0"}],rewards:[{type:"multiplier",value:1.5,target:"global"},{type:"ep",value:7500}],isCompleted:!1,isActive:!1},{id:"collect_pheromone_expert",title:"Essence Architect",description:"Collect 15,000 pheromone essence to reshape the destiny of your colony.",goals:[{type:"collect_pheromone",requiredAmount:"15000",currentAmount:"0"}],rewards:[{type:"multiplier",value:2,target:"pheromone"},{type:"ep",value:15e3}],isCompleted:!1,isActive:!1},{id:"bug_slayer_initiate",title:"Bug Slayer Initiate",description:"Defeat 50 bugs of any type to begin your path as a bug slayer.",goals:[{type:"kill_bugs",requiredAmount:"50",currentAmount:"0"}],rewards:[{type:"food",value:1e5},{type:"pheromone",value:2500},{type:"multiplier",value:1.5,target:"global"}],isCompleted:!1,isActive:!1},{id:"resource_champion",title:"Resource Champion",description:"Collect 500,000 food and 1,000 pheromone essence to prove your mastery of resources.",goals:[{type:"collect_food",requiredAmount:"500000",currentAmount:"0",description:"Collect 500,000 food"},{type:"collect_pheromone",requiredAmount:"1000",currentAmount:"0",description:"Collect 1,000 pheromone essence"}],rewards:[{type:"multiplier",value:1.5,target:"global"},{type:"ep",value:1e4}],isCompleted:!1,isActive:!1},{id:"exterminator_novice",title:"Exterminator Novice",description:"Defeat 100 bugs of any type to begin your career as an exterminator.",goals:[{type:"kill_bugs",requiredAmount:"1e2",currentAmount:"0"}],rewards:[{type:"multiplier",value:1.3,target:"global"},{type:"ep",value:7500}],isCompleted:!1,isActive:!1},{id:"exterminator_adept",title:"Exterminator Adept",description:"Defeat 1,000 bugs of any type to advance your extermination skills.",goals:[{type:"kill_bugs",requiredAmount:"1e3",currentAmount:"0"}],rewards:[{type:"multiplier",value:1.4,target:"global"},{type:"ep",value:15e3}],isCompleted:!1,isActive:!1},{id:"exterminator_expert",title:"Exterminator Expert",description:"Defeat 10,000 bugs of any type to become a legend among exterminators.",goals:[{type:"kill_bugs",requiredAmount:"1e4",currentAmount:"0"}],rewards:[{type:"multiplier",value:2,target:"global"},{type:"ep",value:5e4}],isCompleted:!1,isActive:!1},{id:"exterminator_master",title:"Exterminator Master",description:"Defeat 100,000 bugs of any type to achieve mastery in the art of bug hunting.",goals:[{type:"kill_bugs",requiredAmount:"1e5",currentAmount:"0"}],rewards:[{type:"multiplier",value:3,target:"global"},{type:"ep",value:25e4}],isCompleted:!1,isActive:!1},{id:"beetle_genocide",title:"Beetle Genocide",description:"Defeat 5,000 beetles to eliminate their threat forever.",goals:[{type:"kill_bugs",target:"beetle",requiredAmount:"5e3",currentAmount:"0"}],rewards:[{type:"multiplier",value:2.5,target:"soldier"},{type:"ep",value:1e5}],isCompleted:!1,isActive:!1},{id:"scorpion_slaughter",title:"Scorpion Slaughter",description:"Defeat 2,500 scorpions to eliminate their threat.",goals:[{type:"kill_bugs",target:"scorpion",requiredAmount:"2.5e3",currentAmount:"0"}],rewards:[{type:"multiplier",value:2.75,target:"global"},{type:"ep",value:15e4}],isCompleted:!1,isActive:!1},{id:"tarantula_terror",title:"Tarantula Terror",description:"Defeat 3,000 tarantulas to free the colony from fear.",goals:[{type:"kill_bugs",target:"tarantula",requiredAmount:"3e3",currentAmount:"0"}],rewards:[{type:"multiplier",value:3.25,target:"soldier"},{type:"ep",value:2e5}],isCompleted:!1,isActive:!1},{id:"army_ant_annihilation",title:"Army Ant Annihilation",description:"Defeat 1,000 army ants to prove your colony's supremacy.",goals:[{type:"kill_bugs",target:"army_ant",requiredAmount:"1e3",currentAmount:"0"}],rewards:[{type:"multiplier",value:3.5,target:"global"},{type:"ep",value:3e5}],isCompleted:!1,isActive:!1},{id:"food_tycoon",title:"Food Tycoon",description:"Collect 100,000,000 food to become a food industry mogul.",goals:[{type:"collect_food",requiredAmount:"1e8",currentAmount:"0"}],rewards:[{type:"multiplier",value:5,target:"food"},{type:"ep",value:5e4}],isCompleted:!1,isActive:!1},{id:"food_billionaire",title:"Food Billionaire",description:"Collect 1,000,000,000 food to join the elite of food collectors.",goals:[{type:"collect_food",requiredAmount:"1e9",currentAmount:"0"}],rewards:[{type:"multiplier",value:10,target:"food"},{type:"ep",value:1e5}],isCompleted:!1,isActive:!1},{id:"food_trillionaire",title:"Food Trillionaire",description:"Collect 1,000,000,000,000 food to become a legend among food collectors.",goals:[{type:"collect_food",requiredAmount:"1e12",currentAmount:"0"}],rewards:[{type:"multiplier",value:25,target:"food"},{type:"ep",value:5e5}],isCompleted:!1,isActive:!1},{id:"essence_virtuoso",title:"Essence Virtuoso",description:"Collect 100,000 pheromone essence to master the mystical arts.",goals:[{type:"collect_pheromone",requiredAmount:"1e5",currentAmount:"0"}],rewards:[{type:"multiplier",value:5,target:"pheromone"},{type:"ep",value:75e3}],isCompleted:!1,isActive:!1},{id:"essence_grandmaster",title:"Essence Grandmaster",description:"Collect 1,000,000 pheromone essence to achieve grandmaster status.",goals:[{type:"collect_pheromone",requiredAmount:"1e6",currentAmount:"0"}],rewards:[{type:"multiplier",value:10,target:"pheromone"},{type:"ep",value:15e4}],isCompleted:!1,isActive:!1},{id:"essence_transcendent",title:"Essence Transcendent",description:"Collect 10,000,000 pheromone essence to transcend mortal limitations.",goals:[{type:"collect_pheromone",requiredAmount:"1e7",currentAmount:"0"}],rewards:[{type:"multiplier",value:25,target:"pheromone"},{type:"ep",value:75e4}],isCompleted:!1,isActive:!1},{id:"supreme_resource_master",title:"Supreme Resource Master",description:"Collect 5,000,000 food and 100,000 pheromone essence simultaneously.",goals:[{type:"collect_food",requiredAmount:"5e6",currentAmount:"0",description:"Collect 5,000,000 food"},{type:"collect_pheromone",requiredAmount:"1e5",currentAmount:"0",description:"Collect 100,000 pheromone essence"}],rewards:[{type:"multiplier",value:5,target:"global"},{type:"ep",value:2e5}],isCompleted:!1,isActive:!1},{id:"universal_harvester",title:"Universal Harvester",description:"Collect 50,000,000 food and 1,000,000 pheromone essence simultaneously.",goals:[{type:"collect_food",requiredAmount:"5e7",currentAmount:"0",description:"Collect 50,000,000 food"},{type:"collect_pheromone",requiredAmount:"1e6",currentAmount:"0",description:"Collect 1,000,000 pheromone essence"}],rewards:[{type:"multiplier",value:10,target:"global"},{type:"ep",value:1e6}],isCompleted:!1,isActive:!1},{id:"extreme_bug_hunter",title:"Extreme Bug Hunter",description:"Defeat a total of 1,000,000 bugs of any type to become the ultimate predator.",goals:[{type:"kill_bugs",requiredAmount:"1e6",currentAmount:"0"}],rewards:[{type:"multiplier",value:50,target:"global"},{type:"ep",value:5e6}],isCompleted:!1,isActive:!1},{id:"quantum_beetle_hunter",title:"Quantum Beetle Hunter",description:"Defeat 100 quantum beetles to harness their reality-bending power.",goals:[{type:"kill_bugs",target:"quantum_beetle",requiredAmount:"1e2",currentAmount:"0"}],rewards:[{type:"multiplier",value:100,target:"global"},{type:"ep",value:1e7}],isCompleted:!1,isActive:!1},{id:"galactic_moth_hunter",title:"Galactic Moth Hunter",description:"Defeat 250 galactic moths to harness their cosmic energy.",goals:[{type:"kill_bugs",target:"galactic_moth",requiredAmount:"2.5e2",currentAmount:"0"}],rewards:[{type:"multiplier",value:75,target:"global"},{type:"ep",value:75e5}],isCompleted:!1,isActive:!1},{id:"endless_ant_swarm_challenge",title:"Endless Swarm Challenge",description:"Defeat 500 endless ant swarms to claim ultimate hive dominance.",goals:[{type:"kill_bugs",target:"endless_ant_swarms",requiredAmount:"5e2",currentAmount:"0"}],rewards:[{type:"multiplier",value:125,target:"global"},{type:"ep",value:15e6}],isCompleted:!1,isActive:!1},{id:"cosmic_food_harvester",title:"Cosmic Food Harvester",description:"Collect 1e20 food to feed the entire universe.",goals:[{type:"collect_food",requiredAmount:"1e20",currentAmount:"0"}],rewards:[{type:"multiplier",value:1e3,target:"food"},{type:"ep",value:5e7}],isCompleted:!1,isActive:!1},{id:"pheromone_transcendence",title:"Pheromone Transcendence",description:"Collect 1e15 pheromone essence to unlock the secrets of the universe.",goals:[{type:"collect_pheromone",requiredAmount:"1e15",currentAmount:"0"}],rewards:[{type:"multiplier",value:1e3,target:"pheromone"},{type:"ep",value:1e8}],isCompleted:!1,isActive:!1}];function ln(e,t){for(const r of e.goals)if(!(r.type!==ze.KILL_BUGS||!r.target)&&!(e.id==="bug_slayer_initiate"||e.id.includes("exterminator_"))&&!t.getBugById(r.target))return!1;return!0}const ht=Ye("quest",()=>{yt();const e=De(),t=hr(),r=Mt(),s=pt(),a=Ue(),i=N("available"),l=F(()=>!0),u=N(n(0)),c=N(n(0)),d=N([]),m=N(null),g=N([]);Se(m,T=>{!T&&i.value==="inProgress"&&(i.value="available")});const f=()=>{if(m.value){if(m.value.goals)for(const T of m.value.goals)(!(T.currentAmount instanceof se)&&typeof T.currentAmount!="string"||!(T.requiredAmount instanceof se)&&typeof T.requiredAmount!="string")&&(console.error("Invalid goal amounts in tick",{current:T.currentAmount,required:T.requiredAmount}),!(T.currentAmount instanceof se)&&typeof T.currentAmount!="string"&&(console.log("Fixing invalid currentAmount in goal"),T.currentAmount=n(0)),!(T.requiredAmount instanceof se)&&typeof T.requiredAmount!="string"&&(console.log("Fixing invalid requiredAmount in goal"),T.requiredAmount=n(10)));else{console.error("Quest has no goals array",m.value);return}x()}},p=T=>{if(!m.value||!m.value.goals)return;let G=!1;for(const D of m.value.goals)if(D.type===ze.COLLECT_FOOD){const P=D.currentAmount instanceof se?D.currentAmount:n(D.currentAmount||0);D.currentAmount=P.add(T),G=!0}G&&x()},h=T=>{if(!m.value||!m.value.goals)return;let G=!1;for(const D of m.value.goals)if(D.type===ze.COLLECT_PHEROMONE){const P=D.currentAmount instanceof se?D.currentAmount:n(D.currentAmount||0);D.currentAmount=P.add(T),G=!0}G&&x()},x=()=>{if(!m.value||!m.value.goals)return;m.value.goals.every(G=>{try{const D=G.currentAmount instanceof se?G.currentAmount:n(G.currentAmount||0),P=G.requiredAmount instanceof se?G.requiredAmount:n(G.requiredAmount||0);return D.gte(P)}catch(D){return console.error("Error comparing goal amounts:",D,{current:G.currentAmount,required:G.requiredAmount}),!1}})&&w(m.value)},k=T=>{if(m.value)return console.warn("Cannot start a new quest while another is active"),!1;const G=d.value.find($=>$.id===T);if(!G)return console.warn(`Quest with ID ${T} not found`),!1;if(!ln(G,t))return Lu(`Cannot start quest ${T} - one or more target bugs do not exist`),!1;if(!G.goals||G.goals.length===0)return console.warn(`Quest ${T} has no goals`),!1;for(const $ of G.goals)!($.requiredAmount instanceof se)&&typeof $.requiredAmount!="string"&&(console.warn(`Quest ${T} has invalid requiredAmount in goal, fixing`,$.requiredAmount),$.requiredAmount=n($.requiredAmount||10)),$.currentAmount instanceof se||(console.warn(`Quest ${T} has invalid currentAmount in goal, fixing`,$.currentAmount),$.currentAmount=n(0));console.log("Starting quest with values:",{id:G.id,title:G.title,goals:G.goals.map($=>({type:$.type,requiredAmount:$.requiredAmount.toString?$.requiredAmount.toString():$.requiredAmount,currentAmount:$.currentAmount.toString()}))});for(const $ of G.goals)$.currentAmount=n(0);G.isActive=!0;const D=G.goals.some($=>$.type===ze.COLLECT_FOOD),P=G.goals.some($=>$.type===ze.COLLECT_PHEROMONE);return D&&(u.value=new se(e.food)),P&&(c.value=new se(r.pheromoneEssence)),m.value=G,d.value=d.value.filter($=>$.id!==T),!0},v=()=>{if(!m.value)return console.warn("No active quest to cancel"),!1;const T={...m.value};T.goals&&Array.isArray(T.goals)&&(T.goals=T.goals.map(D=>({...D,currentAmount:n(0)}))),T.isActive=!1;const G=d.value.findIndex(D=>D.id===T.id);return G===-1?d.value.push(T):d.value[G]=T,m.value=null,!0},w=T=>(T.isCompleted=!0,T.isActive=!1,T.rewards.forEach(G=>{S(G)}),g.value.push({...T}),m.value=null,console.log(`Quest completed: ${T.title}`),!0),S=T=>{switch(T.type){case vt.ITEM:if(typeof T.value=="string"&&T.quantity){const G=typeof T.quantity=="number"?n(T.quantity):n(1);s.addItem(T.value,G)}else console.error("Invalid item reward:",T);break;case vt.EP:try{let G;T.value instanceof se?G=new se(T.value):typeof T.value=="number"||typeof T.value=="string"&&!isNaN(Number(T.value))?G=n(T.value):(console.error("Invalid EP reward value:",T.value),G=n(0)),a.evolutionPoints=a.evolutionPoints.add(G),console.log(`Added ${G.toString()} Evolution Points from quest reward`)}catch(G){console.error("Error processing EP reward:",G)}break;case vt.FOOD:try{let G;T.value instanceof se?G=new se(T.value):typeof T.value=="number"||typeof T.value=="string"&&!isNaN(Number(T.value))?G=n(T.value):(console.error("Invalid FOOD reward value:",T.value),G=n(0)),e.food=e.food.add(G),console.log(`Added ${G.toString()} Food from quest reward`)}catch(G){console.error("Error processing FOOD reward:",G)}break;case vt.PHEROMONE:try{let G;T.value instanceof se?G=new se(T.value):typeof T.value=="number"||typeof T.value=="string"&&!isNaN(Number(T.value))?G=n(T.value):(console.error("Invalid PHEROMONE reward value:",T.value),G=n(0)),r.addPheromoneEssence(G),console.log(`Added ${G.toString()} Pheromone Essence from quest reward`)}catch(G){console.error("Error processing PHEROMONE reward:",G)}break;case vt.MULTIPLIER:if(typeof T.value=="number"&&typeof T.target=="string"){const G=T.value;console.log(`Applied permanent multiplier: ${G}x to ${T.target}`)}else console.error("Invalid MULTIPLIER reward:",T);break;default:console.warn(`Unhandled reward type: ${T.type}`)}},M=()=>{const T=ip.map(D=>({...D,goals:D.goals.map($=>({...$,requiredAmount:typeof $.requiredAmount=="string"?$.requiredAmount:n($.requiredAmount||0).toString(),currentAmount:typeof $.currentAmount=="string"?$.currentAmount:n($.currentAmount||0).toString()}))})),G=T.filter(D=>ln(D,t));d.value=[...G],console.log(`Initialized ${d.value.length} quests (filtered from ${T.length} total templates)`)},L=T=>{var P,$;if(M(),T.activeTab&&(i.value=T.activeTab),g.value=[],T.completedQuests&&Array.isArray(T.completedQuests))try{g.value=T.completedQuests.map(ee=>({...ee,goals:Array.isArray(ee.goals)?ee.goals.map(W=>({...W,requiredAmount:typeof W.requiredAmount=="string"?W.requiredAmount:n(W.requiredAmount||0).toString(),currentAmount:typeof W.currentAmount=="string"?W.currentAmount:n(W.currentAmount||0).toString()})):[]}))}catch(ee){console.error("Error loading completed quests:",ee)}if(m.value=null,T.activeQuest)try{const ee={...T.activeQuest,goals:Array.isArray(T.activeQuest.goals)?T.activeQuest.goals.map(W=>({...W,requiredAmount:n(W.requiredAmount||0),currentAmount:n(W.currentAmount||0)})):[]};m.value=ee}catch(ee){console.error("Error loading active quest:",ee)}const G=g.value.map(ee=>ee.id),D=(P=m.value)==null?void 0:P.id;d.value=d.value.filter(ee=>!G.includes(ee.id)&&ee.id!==D),d.value=d.value.filter(ee=>ln(ee,t)),T.foodAtQuestStart&&(u.value=n(T.foodAtQuestStart)),T.pheromoneAtQuestStart&&(c.value=n(T.pheromoneAtQuestStart)),console.log(`Loaded ${d.value.length} available quests, ${g.value.length} completed quests, active quest: ${(($=m.value)==null?void 0:$.id)||"none"}`)},A=()=>({activeTab:i.value,availableQuests:d.value.map(T=>({...T,goals:T.goals.map(G=>({...G,requiredAmount:G.requiredAmount.toString(),currentAmount:G.currentAmount.toString()}))})),activeQuest:m.value?{...m.value,goals:m.value.goals.map(T=>({...T,requiredAmount:T.requiredAmount.toString(),currentAmount:T.currentAmount.toString()}))}:null,completedQuests:g.value.map(T=>({...T,goals:T.goals.map(G=>({...G,requiredAmount:G.requiredAmount.toString(),currentAmount:G.currentAmount.toString()}))})),foodAtQuestStart:u.value.toString(),pheromoneAtQuestStart:c.value.toString()}),Y=()=>{d.value=[],g.value=[],m.value=null,u.value=n(0),c.value=n(0),M(),console.log("Quests reset to initial state")},U=(T,G)=>{if(!m.value||!m.value.goals)return;let D=!1;for(const P of m.value.goals){if(P.type!==ze.KILL_BUGS||P.target&&P.target!==T)continue;let $=typeof P.currentAmount=="string"?n(P.currentAmount):P.currentAmount;$=$.add(G),P.currentAmount=$.toString(),D=!0}D&&x()};return M(),{activeTab:i,isQuestsUnlocked:l,availableQuests:d,activeQuest:m,completedQuests:g,foodAtQuestStart:u,pheromoneAtQuestStart:c,tick:f,startQuest:k,cancelQuest:v,completeQuest:w,resetQuests:Y,loadState:L,getState:A,updateDefeatBugProgress:U,trackFoodGain:p,trackPheromoneGain:h}}),Mt=Ye("pheromoneEssence",()=>{const e=N(n(0)),t=N(n(0)),r=yt(),s=F(()=>Z(e.value,2)),a=F(()=>Z(t.value,2)),i=g=>{var k;let f=1;switch(g.rarity){case"common":f=1;break;case"uncommon":f=3;break;case"rare":f=10;break;case"epic":f=25;break;case"legendary":f=75;break;case"mythic":f=200;break;case"divine":f=500;break;default:f=1}const h=1+(g.mergeLevel||0)*.5,x=((k=g.quantity)==null?void 0:k.toNumber())||1;return n(f*h*x)};return{pheromoneEssence:e,totalCollectedEssence:t,formattedPheromoneEssence:s,formattedTotalCollectedEssence:a,calculateSalvageValue:i,addPheromoneEssence:g=>{const f=g.mul(r.getPheromoneGainMultiplier());e.value=e.value.add(f),t.value=t.value.add(f);try{ht().trackPheromoneGain(f)}catch(p){console.error("Error tracking pheromone gain for quests:",p)}try{et().updateMegacolonyProgress(f)}catch(p){console.error("Error updating megacolony progress:",p)}return f},spendPheromoneEssence:g=>e.value.lt(g)?!1:(e.value=e.value.sub(g),!0),salvageItem:g=>{if(!g)return{success:!1,message:"Item not found"};const f=i(g),p=r.getPheromoneGainMultiplier(),h=f.mul(p);e.value=e.value.add(h),t.value=t.value.add(h);let x=`Salvaged ${g.name} for ${Z(h)} Pheromone Essence`;if(p.gt(1)){const k=Z(f),v=Z(h.sub(f));x=`Salvaged ${g.name} for ${k} + ${v} bonus Pheromone Essence`}return{success:!0,message:x,salvageValue:h}},getState:()=>({pheromoneEssence:e.value.toString(),totalCollectedEssence:t.value.toString()}),loadState:g=>{g.pheromoneEssence&&(e.value=n(g.pheromoneEssence)),g.totalCollectedEssence&&(t.value=n(g.totalCollectedEssence))}}}),Gt=Ye("progression",()=>{const e=N("initial"),t=N({initial:!0,colonyStatus:!1,upgrades:!1,evolution:!1,complete:!1}),r=F(()=>({colonyStatus:t.value.colonyStatus,colonyPage:t.value.colonyStatus,upgrades:t.value.upgrades,evolution:t.value.evolution,showMetamorphosisExplanation:!t.value.complete,tour:!1}));return{currentStage:e,stageCompleted:t,isFeatureUnlocked:r,checkProgression:()=>{var c;const l=De(),u=br();if(!t.value.colonyStatus){const d=l.getGenerator("worker");d&&d.count.gt(0)&&(t.value.colonyStatus=!0,e.value="colonyStatus")}t.value.colonyStatus&&!t.value.upgrades&&u.totalTicks.gte(10)&&(t.value.upgrades=!0,e.value="upgrades"),t.value.upgrades&&!t.value.evolution&&(c=l.getGenerator("nursery"))!=null&&c.count.gte(5)&&(t.value.evolution=!0,e.value="evolution"),t.value.evolution&&!t.value.complete&&Ue().hasEvolved&&(t.value.complete=!0,e.value="complete")},getState:()=>({currentStage:e.value,stageCompleted:t.value}),loadState:l=>{l.currentStage&&(e.value=l.currentStage),l.stageCompleted&&(t.value={...t.value,...l.stageCompleted})}}}),br=Ye("game",()=>{const e=N(10),t=N(1),r=F(()=>{const A=Ue(),Y=A.getUpgradeMultiplier("cycleTimeReduction").toNumber(),U=A.getUpgradeMultiplier("cycleTimeReductionAdvanced").toNumber();return Math.max(.1,(e.value-Y-U)/t.value)}),s=N(0),a=N(0),i=N(Date.now()),l=N(!0),u=N(n(0)),c=N(n(0)),d=F(()=>Math.round(s.value*100)),m=F(()=>Math.round(a.value*100)),g=F(()=>(r.value*(1-s.value)).toFixed(1)),f=F(()=>(r.value/2*(1-a.value)).toFixed(1)),p=F(()=>Z(u.value,0)),h=F(()=>Z(c.value,0));function x(){u.value=u.value.add(1),c.value=c.value.add(1),De().tick(),Ue().updateLoopProgress(1),et().updateWorkerProgress(1);try{pt().processAutoMerge()}catch(D){console.error("Error processing auto-merge:",D)}Gt().checkProgression();try{ht().tick()}catch(D){console.error("Error processing quests:",D)}Rt().debouncedSave(),s.value=0,i.value=Date.now()}function k(){if(!l.value)return;const A=Date.now(),Y=(A-i.value)/1e3;s.value+=Y/r.value,Ue().getUpgradeCount("unlockAdventure").gt(0)&&(a.value+=Y/(r.value/2),a.value>=1&&(qt().tick(),a.value=0)),s.value>=1&&x(),i.value=A}function v(){l.value=!l.value,l.value&&(i.value=Date.now())}function w(A){t.value=A,console.log(`Game speed set to ${A}x`)}const S=()=>({totalTicks:u.value.toString(),currentEvolutionTicks:c.value.toString(),baseTickDuration:e.value,gameSpeed:t.value}),M=A=>{A.totalTicks&&(u.value=n(A.totalTicks)),A.currentEvolutionTicks&&(c.value=n(A.currentEvolutionTicks)),A.baseTickDuration&&(e.value=A.baseTickDuration),A.gameSpeed&&(t.value=A.gameSpeed)};function L(){c.value=n(0)}return{tickDuration:r,tickProgress:s,adventureTickProgress:a,isRunning:l,totalTicks:u,currentEvolutionTicks:c,formattedTotalTicks:p,formattedCurrentEvolutionTicks:h,progressPercentage:d,adventureProgressPercentage:m,timeRemaining:g,adventureTimeRemaining:f,gameSpeed:t,setGameSpeed:w,tick:x,updateProgress:k,toggleRunning:v,getState:S,loadState:M,resetEvolutionTicks:L}});function ia(e){return Nn()?(Zi(e),!0):!1}const un=new WeakMap,lp=(...e)=>{var t;const r=e[0],s=(t=Fo())==null?void 0:t.proxy;if(s==null&&!Jn())throw new Error("injectLocal must be called in setup");return s&&un.has(s)&&r in un.get(s)?un.get(s)[r]:wt(...e)},up=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const cp=e=>e!=null,dp=Object.prototype.toString,mp=e=>dp.call(e)==="[object Object]",_i=()=>{};function pp(e,t){function r(...s){return new Promise((a,i)=>{Promise.resolve(e(()=>t.apply(this,s),{fn:t,thisArg:this,args:s})).then(a).catch(i)})}return r}function fp(e,t={}){let r,s,a=_i;const i=c=>{clearTimeout(c),a(),a=_i};let l;return c=>{const d=Ht(e),m=Ht(t.maxWait);return r&&i(r),d<=0||m!==void 0&&m<=0?(s&&(i(s),s=null),Promise.resolve(c())):new Promise((g,f)=>{a=t.rejectOnCancel?f:g,l=c,m&&!s&&(s=setTimeout(()=>{r&&i(r),s=null,g(l())},m)),r=setTimeout(()=>{s&&i(s),s=null,g(c())},d)})}}function wi(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function is(e){return Array.isArray(e)?e:[e]}function gp(e){return Fo()}function vp(e,t=200,r={}){return pp(fp(t,r),e)}function Tu(e,t=!0,r){gp()?qe(e,r):t?e():Ro(e)}function hp(e,t,r){return Se(e,t,{...r,immediate:!0})}const No=up?window:void 0;function Zr(e){var t;const r=Ht(e);return(t=r==null?void 0:r.$el)!=null?t:r}function Po(...e){const t=[],r=()=>{t.forEach(u=>u()),t.length=0},s=(u,c,d,m)=>(u.addEventListener(c,d,m),()=>u.removeEventListener(c,d,m)),a=F(()=>{const u=is(Ht(e[0])).filter(c=>c!=null);return u.every(c=>typeof c!="string")?u:void 0}),i=hp(()=>{var u,c;return[(c=(u=a.value)==null?void 0:u.map(d=>Zr(d)))!=null?c:[No].filter(d=>d!=null),is(Ht(a.value?e[1]:e[0])),is(E(a.value?e[2]:e[1])),Ht(a.value?e[3]:e[2])]},([u,c,d,m])=>{if(r(),!(u!=null&&u.length)||!(c!=null&&c.length)||!(d!=null&&d.length))return;const g=mp(m)?{...m}:m;t.push(...u.flatMap(f=>c.flatMap(p=>d.map(h=>s(f,p,h,g)))))},{flush:"post"}),l=()=>{i(),r()};return ia(r),l}function bp(){const e=ut(!1),t=Fo();return t&&qe(()=>{e.value=!0},t),e}function la(e){const t=bp();return F(()=>(t.value,!!e()))}function yp(e,t,r={}){const{window:s=No,...a}=r;let i;const l=la(()=>s&&"MutationObserver"in s),u=()=>{i&&(i.disconnect(),i=void 0)},c=F(()=>{const f=Ht(e),p=is(f).map(Zr).filter(cp);return new Set(p)}),d=Se(()=>c.value,f=>{u(),l.value&&f.size&&(i=new MutationObserver(t),f.forEach(p=>i.observe(p,a)))},{immediate:!0,flush:"post"}),m=()=>i==null?void 0:i.takeRecords(),g=()=>{d(),u()};return ia(g),{isSupported:l,stop:g,takeRecords:m}}const xp=Symbol("vueuse-ssr-width");function kp(){const e=Jn()?lp(xp,null):null;return typeof e=="number"?e:void 0}function _p(e,t={}){const{window:r=No,ssrWidth:s=kp()}=t,a=la(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function"),i=ut(typeof s=="number"),l=ut(),u=ut(!1),c=d=>{u.value=d.matches};return $d(()=>{if(i.value){i.value=!a.value;const d=Ht(e).split(",");u.value=d.some(m=>{const g=m.includes("not all"),f=m.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),p=m.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let h=!!(f||p);return f&&h&&(h=s>=wi(f[1])),p&&h&&(h=s<=wi(p[1])),g?!h:h});return}a.value&&(l.value=r.matchMedia(Ht(e)),u.value=l.value.matches)}),Po(l,"change",c,{passive:!0}),F(()=>u.value)}function wp(e,t,r={}){const{window:s=No,...a}=r;let i;const l=la(()=>s&&"ResizeObserver"in s),u=()=>{i&&(i.disconnect(),i=void 0)},c=F(()=>{const g=Ht(e);return Array.isArray(g)?g.map(f=>Zr(f)):[Zr(g)]}),d=Se(c,g=>{if(u(),l.value&&s){i=new ResizeObserver(t);for(const f of g)f&&i.observe(f,a)}},{immediate:!0,flush:"post"}),m=()=>{u(),d()};return ia(m),{isSupported:l,stop:m}}function Sp(e,t={}){const{reset:r=!0,windowResize:s=!0,windowScroll:a=!0,immediate:i=!0,updateTiming:l="sync"}=t,u=ut(0),c=ut(0),d=ut(0),m=ut(0),g=ut(0),f=ut(0),p=ut(0),h=ut(0);function x(){const v=Zr(e);if(!v){r&&(u.value=0,c.value=0,d.value=0,m.value=0,g.value=0,f.value=0,p.value=0,h.value=0);return}const w=v.getBoundingClientRect();u.value=w.height,c.value=w.bottom,d.value=w.left,m.value=w.right,g.value=w.top,f.value=w.width,p.value=w.x,h.value=w.y}function k(){l==="sync"?x():l==="next-frame"&&requestAnimationFrame(()=>x())}return wp(e,k),Se(()=>Zr(e),v=>!v&&k()),yp(e,k,{attributeFilter:["style","class"]}),a&&Po("scroll",k,{capture:!0,passive:!0}),s&&Po("resize",k,{passive:!0}),Tu(()=>{i&&k()}),{height:u,bottom:c,left:d,right:m,top:g,width:f,x:p,y:h,update:k}}function qu(e={}){const{window:t=No,initialWidth:r=Number.POSITIVE_INFINITY,initialHeight:s=Number.POSITIVE_INFINITY,listenOrientation:a=!0,includeScrollbar:i=!0,type:l="inner"}=e,u=ut(r),c=ut(s),d=()=>{if(t)if(l==="outer")u.value=t.outerWidth,c.value=t.outerHeight;else if(l==="visual"&&t.visualViewport){const{width:g,height:f,scale:p}=t.visualViewport;u.value=Math.round(g*p),c.value=Math.round(f*p)}else i?(u.value=t.innerWidth,c.value=t.innerHeight):(u.value=t.document.documentElement.clientWidth,c.value=t.document.documentElement.clientHeight)};d(),Tu(d);const m={passive:!0};if(Po("resize",d,m),t&&l==="visual"&&t.visualViewport&&Po(t.visualViewport,"resize",d,m),a){const g=_p("(orientation: portrait)");Se(g,()=>d())}return{width:u,height:c}}const Si=[{id:"welcome",target:"#header-title",title:"Welcome to Idle Ant Farm!",content:"This tour will guide you through the basics of the game.",placement:"bottom"},{id:"resources",target:"#resource-counter",title:"Resources",content:"Here you can see your current resources. These are used to purchase upgrades and ants.",placement:"bottom"},{id:"generators",target:"#generator-section",title:"Generators",content:"Generators produce resources automatically. Purchase more to increase your production.",placement:"right"},{id:"colony",target:"#colony-tab",title:"Colony",content:"Click here to access your colony, and upgrade your ants.",placement:"bottom",route:"/colony"},{id:"prestige",target:"#prestige-section",title:"Prestige",content:"When you've progressed far enough, you can prestige to earn permanent bonuses.",placement:"left",route:"/prestige"},{id:"home",target:"#home-tab",title:"Home",content:"Return to the main screen to see your colony status.",placement:"bottom",route:"/"},{id:"complete",target:"#header-title",title:"Tour Complete!",content:"You now know the basics of Idle Ant Farm. Happy farming!",placement:"bottom"}],Ns=Ye("tourStore",()=>{const e=Rt(),t=Fs(),r=N(!1),s=N(0),a=N(Si),i=N(!1),l=N(!1),u=N(null),c=N(null),{width:d,height:m,top:g,left:f,right:p,bottom:h,x,y:k,update:v}=Sp(u),w=F(()=>a.value[s.value]||null),S=F(()=>s.value===0),M=F(()=>s.value===a.value.length-1),L=F(()=>a.value.length);Se(()=>e.isCalculatingOfflineProgress,O=>{l.value&&!O&&(l.value=!1,i.value||setTimeout(()=>{P()},500))}),Se(w,async O=>{if(console.log("Current step changed",O),!O||!r.value){console.log("Skipping target update: no step or tour inactive");return}const H=O.target;if(H){if(console.log("Looking for target element",H),await new Promise(re=>setTimeout(re,100)),H.startsWith("#")){const re=H.substring(1);u.value=document.getElementById(re),console.log("Found target by ID",re,u.value)}else u.value=document.querySelector(H),console.log("Found target by selector",H,u.value);u.value?(v(),console.log("Updated bounding box",{width:d.value,height:m.value,top:g.value,left:f.value}),T(),U()):console.warn(`Tour target element not found: ${H}`)}});const A=O=>{O&&O.length>0&&(a.value=O)},Y=()=>{a.value=Si},U=()=>{if(console.log("Positioning tooltip",{targetElement:u.value,tooltipElement:c.value}),!u.value||!c.value){console.warn("Cannot position tooltip: missing elements",{targetElement:!!u.value,tooltipElement:!!c.value});return}const O=u.value.getBoundingClientRect(),H=c.value.getBoundingClientRect(),re=20;console.log("Element rects",{targetRect:O,tooltipRect:H});let de=O.left+O.width/2-H.width/2,Ae=0,ue="bottom";const V=window.innerWidth,q=10;de=Math.max(q,Math.min(de,V-H.width-q)),window.innerHeight-O.bottom-re>=H.height?(Ae=O.bottom+re,ue="bottom"):(Ae=O.top-H.height-re,ue="top"),Ae<q&&(Ae=O.bottom+re,ue="bottom"),console.log("Final position",{tooltipX:de,tooltipY:Ae,placement:ue}),c.value.style.left=`${de}px`,c.value.style.top=`${Ae}px`,c.value.dataset.placement=ue,c.value.getBoundingClientRect()},T=()=>{u.value&&(u.value.classList.add("tour-highlight"),u.value.scrollIntoView({behavior:"smooth",block:"center"}))},G=()=>{u.value&&u.value.classList.remove("tour-highlight")},D=()=>{v(),U()},P=async()=>{var O;if(console.log("Starting tour",{isCalculatingOfflineProgress:e.isCalculatingOfflineProgress,hasSeenTour:i.value}),e.isCalculatingOfflineProgress){console.log("Waiting for offline progress calculation to complete"),l.value=!0;return}s.value=0,console.log("Reset to first step",w.value),(O=w.value)!=null&&O.onBeforeShow&&(console.log("Running onBeforeShow hook"),await w.value.onBeforeShow()),r.value=!0,console.log("Tour activated")},$=()=>{G(),r.value=!1,i.value=!0},ee=async()=>{if(M.value){$();return}G(),s.value++;const O=w.value;O!=null&&O.route&&await t.push(O.route),O!=null&&O.onBeforeShow&&await O.onBeforeShow()},W=async()=>{if(S.value)return;G(),s.value--;const O=w.value;O!=null&&O.route&&await t.push(O.route),O!=null&&O.onBeforeShow&&await O.onBeforeShow()},ae=()=>{$()},z=()=>{i.value=!1};return qe(()=>{window.addEventListener("resize",D),!e.isCalculatingOfflineProgress&&!i.value&&setTimeout(()=>{P()},500)}),At(()=>{window.removeEventListener("resize",D),G()}),{isActive:r,currentStepIndex:s,steps:a,hasSeenTour:i,isWaitingForOfflineProgress:l,targetElement:u,tooltipElement:c,currentStep:w,isFirstStep:S,isLastStep:M,totalSteps:L,targetBounding:{width:d,height:m,top:g,left:f,right:p,bottom:h,x,y:k},setTourSteps:A,resetTourSteps:Y,startTour:P,endTour:$,nextStep:ee,prevStep:W,skipTour:ae,resetTour:z,positionTooltip:U,highlightTarget:T,removeHighlight:G,collectState:()=>({hasSeenTour:i.value}),applyState:O=>{O&&typeof O.hasSeenTour=="boolean"&&(i.value=O.hasSeenTour)}}}),$p=()=>{const e=[100,1e3,1e4,1e5,1e6,1e7,1e8,"1e9","1e10","1e12","1e15","1e18","1e21","1e24","1e27","1e30","1e33","1e36","1e40","1e45","1e50","1e60","1e70","1e80","1e90","1e100","1e120","1e150","1e200","1e250","1e300","1e350","1e400","1e450","1e500"],t=["Hungry Beginnings","First Snack","Food Stock","Small Pantry","Food Hoarder","Nutritional Wealth","Food Supply Chain","Food Mountain","Endless Buffet","Food Empire","Quantum Nutrients","Interdimensional Feast","Sextillion Snack","Septillion Supper","Octillion Omelets","Nonillion Nourishment","Decillion Dinner","Undecillion Utopia","Duodecillion Delicacies","Tredecillion Treats","Quattuordecillion Quantities","Quintillion Quotient","Sextillion Surplus","Septillion Stores","Octillion Overstock","Googol Gastronomy","Trigintillion Triumph","Quantum Realm Cuisine","Cosmic Consumables","Universal Eatery","Multiversal Meals","Hyperdimensional Hunger","Transcendent Treats","Infinite Ingestion","Unlimited Appetite"],r=e.map(i=>`Collect ${i} food in total`),a=(()=>{const i=[];for(let u=0;u<5;u++){const c=1.02+u*.02;i.push({target:"worker",multiplier:c,description:`Worker production +${Math.round((c-1)*100)}%`})}for(let u=0;u<3;u++){const c=1.05+u*.05;i.push({target:"nursery",multiplier:c,description:`Nursery production +${Math.round((c-1)*100)}%`})}for(let u=0;u<3;u++){const c=1.05+u*.05;i.push({target:"queenChamber",multiplier:c,description:`Queen Chamber production +${Math.round((c-1)*100)}%`})}for(let u=0;u<3;u++){const c=1.05+u*.05;i.push({target:"colony",multiplier:c,description:`Colony production +${Math.round((c-1)*100)}%`})}for(let u=0;u<3;u++){const c=1.05+u*.05;i.push({target:"megacolony",multiplier:c,description:`Megacolony production +${Math.round((c-1)*100)}%`})}for(let u=0;u<2;u++){const c=1.05+u*.05;i.push({target:"hivemind",multiplier:c,description:`Hivemind production +${Math.round((c-1)*100)}%`})}for(let u=0;u<2;u++){const c=1.05+u*.05;i.push({target:"antopolis",multiplier:c,description:`Antopolis production +${Math.round((c-1)*100)}%`})}const l=e.length-i.length;for(let u=0;u<l;u++){let c;u<5?c=3+u*2:u<8?c=15+(u-5)*5:c=30+(u-8)*10,i.push({target:"global",multiplier:1+c/100,description:`All generators +${c}%`})}return i})();return e.map((i,l)=>({id:`food-${l+1}`,name:t[l],description:r[l],categoryId:"general",icon:"i-heroicons-cake",requirement:n(i),currentValue:n(0),completed:!1,completionDate:void 0,rewardDescription:a[l].description,hiddenUntilCompleted:!1,targetStat:"totalFood",modifiers:[{target:a[l].target,multiplier:n(a[l].multiplier),formatMultiplier:u=>`+${rt(u.sub(1).mul(100))} ${a[l].target==="global"?"all generators":`${a[l].target} production`}`}]}))},Cp=()=>{const e=[3600,86400,604800],t=["Dedicated","Ant Enthusiast","Colony Manager"],r=["Play for 1 hour in total","Play for 1 day in total","Play for 1 week in total"];return e.map((s,a)=>({id:`time-${a+1}`,name:t[a],description:r[a],categoryId:"general",icon:"i-heroicons-clock",requirement:n(s),currentValue:n(0),completed:!1,completionDate:void 0,hiddenUntilCompleted:!1,targetStat:"totalGameTime"}))},Ep=()=>{const e=[10,100,1e3,1e6,1e9,1e12,1e15,1e20,1e25,1e30,1e40,1e50,1e60,1e75,1e90,1e100,1e125,1e150,1e175,1e200,1e225,1e250,1e275,1e300,1/0,1/0,1/0,1/0,1/0],t=["First Workers","Worker Army","Worker Legion","Worker Nation","Worker Empire","Worker Planet","Worker Galaxy","Worker Universe","Worker Dimension","Worker Multiverse","Worker Hyperverse","Worker Omniverse","Worker Xenoverse","Worker Megaverse","Worker Gigaverse","Worker Teraverse","Worker Petaverse","Worker Exaverse","Worker Zettaverse","Worker Yottaverse","Worker Xennaverse","Worker Wekaverse","Worker Vendaverse","Worker Udaverse","Worker Tredaverse","Worker Sornaverse","Worker Rinnaverse","Worker Quentaverse","Worker Immortal Empire"],r=["Have 10 worker ants","Have 100 worker ants","Have 1,000 worker ants","Have a million worker ants","Have a billion worker ants","Have a trillion worker ants","Have a quadrillion worker ants","Have 1e20 worker ants","Have 1e25 worker ants","Have 1e30 worker ants","Have 1e40 worker ants","Have 1e50 worker ants","Have 1e60 worker ants","Have 1e75 worker ants","Have 1e90 worker ants","Have 1e100 worker ants","Have 1e125 worker ants","Have 1e150 worker ants","Have 1e175 worker ants","Have 1e200 worker ants","Have 1e225 worker ants","Have 1e250 worker ants","Have 1e275 worker ants","Have 1e300 worker ants","Have 1e325 worker ants","Have 1e350 worker ants","Have 1e400 worker ants","Have 1e450 worker ants","Have 1e500 worker ants"],s=[null,null,{multiplier:1.05,description:"Worker production +5%"},{multiplier:1.1,description:"Worker production +10%"},{multiplier:1.15,description:"Worker production +15%"},{multiplier:1.2,description:"Worker production +20%"},{multiplier:1.25,description:"Worker production +25%"},{multiplier:1.3,description:"Worker production +30%"},{multiplier:1.35,description:"Worker production +35%"},{multiplier:1.4,description:"Worker production +40%"},{multiplier:1.45,description:"Worker production +45%"},{multiplier:1.5,description:"Worker production +50%"},{multiplier:1.55,description:"Worker production +55%"},{multiplier:1.6,description:"Worker production +60%"},{multiplier:1.65,description:"Worker production +65%"},{multiplier:1.68,description:"Worker production +68%"},{multiplier:1.71,description:"Worker production +71%"},{multiplier:1.74,description:"Worker production +74%"},{multiplier:1.77,description:"Worker production +77%"},{multiplier:1.8,description:"Worker production +80%"},{multiplier:1.83,description:"Worker production +83%"},{multiplier:1.86,description:"Worker production +86%"},{multiplier:1.89,description:"Worker production +89%"},{multiplier:1.92,description:"Worker production +92%"},{multiplier:1.94,description:"Worker production +94%"},{multiplier:1.96,description:"Worker production +96%"},{multiplier:1.98,description:"Worker production +98%"},{multiplier:1.99,description:"Worker production +99%"},{multiplier:2,description:"Worker production +100%"}];return e.map((a,i)=>{const l={id:`workers-${i+1}`,name:t[i],description:r[i],categoryId:"colony",icon:"i-heroicons-bug-ant",requirement:n(a),currentValue:n(0),completed:!1,completionDate:void 0,hiddenUntilCompleted:i>5,targetStat:"workers"};return s[i]&&(l.rewardDescription=s[i].description,l.modifiers=[{target:"worker",multiplier:n(s[i].multiplier),formatMultiplier:u=>`+${rt(u.sub(1).mul(100))} worker production`}]),l})},Mp=()=>{const e=[1,5,10,25,50,100],t=["First Evolution","Evolving Species","Evolution Expert","Evolution Master","Darwin Would Be Proud","Evolutionary Apex"],r=e.map(a=>`Perform ${a} evolution${a>1?"s":""}`),s=[null,{multiplier:1.02,description:"All generators +2%"},null,{multiplier:1.05,description:"All generators +5%"},{multiplier:1.1,description:"All generators +10%"},{multiplier:1.2,description:"All generators +20%"}];return e.map((a,i)=>{const l={id:`evolution-${a===1?"1":a}`,name:t[i],description:r[i],categoryId:"evolution",icon:"i-heroicons-sparkles",requirement:n(a),currentValue:n(0),completed:!1,completionDate:void 0,hiddenUntilCompleted:!1,targetStat:"totalEvolutions"};return s[i]&&(l.rewardDescription=s[i].description,l.modifiers=[{target:"global",multiplier:n(s[i].multiplier),formatMultiplier:u=>`+${rt(u.sub(1).mul(100))} all generators`}]),l})},Ap=()=>{const e=[10,25,50],t=["Loop Master","Loop Expert","Loop Legend"],r=e.map(a=>`Complete ${a} loops in a single evolution`),s=[null,null,{multiplier:1.1,description:"Evolution Points +10%"}];return e.map((a,i)=>{const l={id:`loops-${i+1}`,name:t[i],description:r[i],categoryId:"evolution",icon:"i-heroicons-arrow-path",requirement:n(a),currentValue:n(0),completed:!1,completionDate:void 0,hiddenUntilCompleted:!1,targetStat:"maxLoopsInEvolution"};return s[i]&&(l.rewardDescription=s[i].description,l.modifiers=[{target:"ep",multiplier:n(s[i].multiplier),formatMultiplier:u=>`+${rt(u.sub(1).mul(100))} evolution points`}]),l})},Pp=()=>{const e=[10,100,1e3],t=["Evolution Points","Evolution Wealth","Evolution Fortune"],r=e.map(a=>`Earn ${a} evolution points in total`),s=[null,null,{multiplier:1.05,description:"Evolution Points +5%"}];return e.map((a,i)=>{const l={id:`ep-${i+1}`,name:t[i],description:r[i],categoryId:"evolution",icon:"i-heroicons-bolt",requirement:n(a),currentValue:n(0),completed:!1,completionDate:void 0,hiddenUntilCompleted:!1,targetStat:"totalEvolutionPoints"};return s[i]&&(l.rewardDescription=s[i].description,l.modifiers=[{target:"ep",multiplier:n(s[i].multiplier),formatMultiplier:u=>`+${rt(u.sub(1).mul(100))} evolution points`}]),l})},cn=(e,t,r,s,a=null,i=1.2)=>{const l=s.map((d,m)=>m===0?`First ${t}`:m===1?`${t} Network`:m===2?`${t} Empire`:m===3?`${t} Dominion`:m===4?`${t} Supremacy`:m===5?`${t} Mastery`:m===6?`${t} Abundance`:m===7?`${t} Legacy`:m===8?`${t} Infinity`:m===9?`Cosmic ${t}`:m===10?`Galactic ${t}`:m===11?`Universal ${t}`:m===12?`Multiversal ${t}`:m===13?`Transcendent ${t}`:`Omnipotent ${t}`),u=s.map(d=>{const m=String(d);let g;if(m.includes("e")){const[f,p]=m.split("e"),h=parseInt(p,10);if(h<6)g=Number(m).toLocaleString();else if(h<21){const x=["Million","Million","Million","Billion","Billion","Billion","Trillion","Trillion","Trillion","Quadrillion","Quadrillion","Quadrillion","Quintillion","Quintillion","Quintillion"],k=h-6,v=x[k];g=`${(Math.pow(10,h%3)*parseFloat(f)).toFixed(2)} ${v}`}else g=`10^${p}`}else Number(m)>=1e6?g=`${(Number(m)/1e6).toFixed(1)}M`:Number(m)>=1e3?g=`${(Number(m)/1e3).toFixed(1)}K`:g=m;return`Have ${g} ${t.toLowerCase()}${Number(m)>1?"s":""}`}),c={nursery:"nurseries",queenChamber:"queenChambers",colony:"colonies",megacolony:"megacolonies",hivemind:"hiveminds",antopolis:"antopolis"};return s.map((d,m)=>{const g={id:`${e.toLowerCase()}-${m+1}`,name:l[m],description:u[m],categoryId:"colony",icon:r,requirement:n(d),currentValue:n(0),completed:!1,completionDate:void 0,hiddenUntilCompleted:m>4,targetStat:c[e]||`${e.toLowerCase()}s`};if(a!==null&&m===a){const f=Math.round((i-1)*100);g.rewardDescription=`${t} production +${f}%`,g.modifiers=[{target:e,multiplier:n(i),formatMultiplier:p=>`+${rt(p.sub(1).mul(100))} ${e.toLowerCase()} production`}]}if(m>5){const f=Math.min(1,.1+(m-5)*.05),p=Math.round(f*100);if(g.rewardDescription=`${t} production +${p}%`,g.modifiers=[{target:e,multiplier:n(1+f),formatMultiplier:h=>`+${rt(h.sub(1).mul(100))} ${e.toLowerCase()} production`}],m>=10){const h=.05+(m-10)*.05,x=Math.round(h*100);g.rewardDescription+=` and all generators +${x}%`,g.modifiers.push({target:"global",multiplier:n(1+h),formatMultiplier:k=>`+${rt(k.sub(1).mul(100))} all generators`})}}return g})},Ip=()=>[{id:"megacolony",name:"Mega Colony",displayName:"Mega Expansion",icon:"i-heroicons-building-office-2",statName:"megacolonies"},{id:"hivemind",name:"Hive Mind",displayName:"Collective Consciousness",icon:"i-heroicons-cpu-chip",statName:"hiveminds"},{id:"antopolis",name:"Antopolis",displayName:"Ant City",icon:"i-heroicons-building-library",statName:"antopolis"}].map(t=>({id:`${t.id}-1`,name:t.displayName,description:`Have your first ${t.name.toLowerCase()}`,categoryId:"colony",icon:t.icon,requirement:n(1),currentValue:n(0),completed:!1,completionDate:void 0,rewardDescription:`${t.name} production +5%`,hiddenUntilCompleted:!1,targetStat:t.statName,modifiers:[{target:t.id,multiplier:n(1.05),formatMultiplier:r=>`+${rt(r.sub(1).mul(100))} ${t.id} production`}]})),Lp=()=>({id:"adventure-unlock",name:"Adventure Begins",description:"Unlock adventure mode",categoryId:"adventure",icon:"i-heroicons-map",requirement:n(1),currentValue:n(0),completed:!1,completionDate:void 0,rewardDescription:"",hiddenUntilCompleted:!0}),Tp=()=>[{id:"general",name:"General",description:"General game achievements",icon:"i-heroicons-trophy",sortOrder:0,achievements:[]},{id:"colony",name:"Colony",description:"Achievements related to your ant colony",icon:"i-heroicons-bug-ant",sortOrder:1,achievements:[]},{id:"evolution",name:"Evolution",description:"Achievements related to evolution progress",icon:"i-heroicons-sparkles",sortOrder:2,achievements:[]},{id:"adventure",name:"Adventure",description:"Achievements related to adventure mode",icon:"i-heroicons-map",sortOrder:3,achievements:[]}],qp=()=>{const e=[10,100,1e3,1e4,1e5,"1e6","1e9","1e12","1e15","1e20","1e30","1e50","1e75","1e100","1e150","1e200","1e250"],t=[10,100,1e3,1e4,"1e5",...e.slice(5)];return[...$p(),...Cp(),...Ep(),...cn("nursery","Nursery","i-heroicons-home-modern",e,4,1.2),...cn("queenChamber","Queen Chamber","i-heroicons-crown",e,4,1.1),...cn("colony","Colony","i-heroicons-building-storefront",t,3,1.05),...Ip(),...Mp(),...Pp(),...Ap(),Lp()]},Ru=Tp(),Fu=qp();Fu.forEach(e=>{const t=Ru.find(r=>r.id===e.categoryId);t&&t.achievements.push(e)});const Ct=Ye("achievements",()=>{const e=N(Fu),t=N(Ru),r=N({food:n(0),totalFood:n(0),workers:n(0),totalWorkers:n(0),nurseries:n(0),totalNurseries:n(0),queenChambers:n(0),totalQueenChambers:n(0),colonies:n(0),totalColonies:n(0),megacolonies:n(0),totalMegacolonies:n(0),hiveminds:n(0),totalHiveminds:n(0),antopolis:n(0),totalAntopolis:n(0),evolutionPoints:n(0),totalEvolutionPoints:n(0),totalEvolutions:n(0),maxLoopsInEvolution:n(0),totalGameTime:n(0),fastestEvolution:n(0),generatorUpgradesPurchased:n(0),prestigeUpgradesPurchased:n(0)}),s=N([]),a=N(!1),i=N(!0),l=F(()=>e.value.length),u=F(()=>e.value.filter(A=>A.completed).length),c=F(()=>u.value/l.value*100),d=A=>e.value.filter(Y=>Y.categoryId===A),m=()=>e.value.filter(A=>!A.hiddenUntilCompleted||A.completed),g=A=>{const Y=e.value.find(U=>U.id===A);return Y?Y.completed:!1},f=(A,Y,U=!1)=>{r.value[A]&&(U?r.value[A]=r.value[A].add(Y):Y.gt(r.value[A])&&(r.value[A]=Y),p(A))},p=A=>{const Y=e.value.filter(U=>U.targetStat===A&&!U.completed);for(const U of Y)U.currentValue=r.value[A],U.currentValue.gte(U.requirement)&&h(U.id)},h=A=>{console.log("completeAchievement",A);const Y=e.value.find(U=>U.id===A);!Y||Y.completed||(Y.completed=!0,Y.completionDate=Date.now(),s.value.push(Y),i.value&&(a.value=!0),setTimeout(()=>{s.value=s.value.filter(U=>U.id!==A),s.value.length===0&&(a.value=!1)},5e3))},x=(A,Y)=>{f("food",A,!1),f("totalFood",Y,!0)},k=(A,Y)=>{switch(A){case"worker":f("workers",Y,!1);break;case"nursery":f("nurseries",Y,!1);break;case"queenChamber":f("queenChambers",Y,!1);break;case"colony":f("colonies",Y,!1);break;case"megacolony":f("megacolonies",Y,!1);break;case"hivemind":f("hiveminds",Y,!1);break;case"antopolis":f("antopolis",Y,!1);break}},v=(A,Y,U,T)=>{f("evolutionPoints",A,!1),f("totalEvolutionPoints",Y,!0),f("totalEvolutions",U,!1),f("maxLoopsInEvolution",T,!1)},w=A=>{f("totalGameTime",n(A),!0)};return{achievementList:e,categories:t,stats:r,recentlyCompleted:s,showNotification:a,notificationsEnabled:i,totalAchievements:l,completedAchievements:u,completionPercentage:c,getAchievementsByCategory:d,getVisibleAchievements:m,checkAchievement:g,updateStats:f,completeAchievement:h,updateFoodStats:x,updateGeneratorCounts:k,updateEvolutionStats:v,updateGameTime:w,tick:(A=1)=>{try{const Y=br();w(A)}catch(Y){console.error("Error updating game time achievements:",Y)}},getState:()=>({achievements:e.value.map(A=>({id:A.id,currentValue:A.currentValue.toString(),completed:A.completed,completionDate:A.completionDate})),stats:Object.entries(r.value).reduce((A,[Y,U])=>(A[Y]=U.toString(),A),{}),notificationsEnabled:i.value}),loadState:A=>{A.achievements&&Array.isArray(A.achievements)&&A.achievements.forEach(Y=>{const U=e.value.find(T=>T.id===Y.id);U&&(U.currentValue=n(Y.currentValue),U.completed=Y.completed,U.completionDate=Y.completionDate)}),A.stats&&Object.entries(A.stats).forEach(([Y,U])=>{const T=Y;r.value[T]!==void 0&&(r.value[T]=n(U))}),A.notificationsEnabled!==void 0&&(i.value=A.notificationsEnabled)}}}),Bs=Ye("pheromoneShop",()=>{const e=Mt(),t=N([{id:"food_amplifier",name:"Food Amplifier",description:"Enhances food production through advanced pheromone manipulation.",maxLevel:100,baseCost:n(100),modifiers:[{target:"worker",multiplier:v=>n(1).add(v*.1),unlockLevel:1,description:"Food Production +10% per level"},{target:"pheromone",multiplier:v=>n(1).add((v-5)*.05),unlockLevel:5,description:"Pheromone Gain +5% per level above 5"},{target:"ep",multiplier:v=>n(1).add((v-10)*.05),unlockLevel:10,description:"EP Gain +5% per level above 10"},{target:"pheromone",multiplier:v=>n(1).add((v-25)*.03),unlockLevel:25,description:"Pheromone Gain +3% per level above 25"}]},{id:"evolution_catalyst",name:"Evolution Catalyst",description:"Accelerates evolutionary progress through pheromone enhancement.",maxLevel:100,baseCost:n(200),modifiers:[{target:"ep",multiplier:v=>n(1).add(v*.15),unlockLevel:1,description:"EP Gain +15% per level"},{target:"worker",multiplier:v=>n(1).add((v-15)*.08),unlockLevel:15,description:"Food Production +8% per level above 15"},{target:"pheromone",multiplier:v=>n(1).add((v-30)*.04),unlockLevel:30,description:"Pheromone Gain +4% per level above 30"}],unlockRequirement:{type:"itemLevel",target:"food_amplifier",value:5,description:"Reach level 5 with Food Amplifier"}},{id:"ant_i_gravity",name:"Ant-i-Gravity",description:"Defying the laws of physics, just like ants carrying 50x their weight!",maxLevel:150,baseCost:n(1e3),modifiers:[{target:"global",multiplier:v=>n(1).add(v*.05),unlockLevel:1,description:"All Generators +5% per level"},{target:"nursery",multiplier:v=>n(1).add((v-20)*.15),unlockLevel:20,description:"Nursery Production +15% per level above 20"},{target:"pheromone",multiplier:v=>n(1).add((v-50)*.08),unlockLevel:50,description:"Pheromone Gain +8% per level above 50"},{target:"ep",multiplier:v=>n(1).add((v-75)*.12),unlockLevel:75,description:"EP Gain +12% per level above 75"}],unlockRequirement:{type:"itemLevel",target:"evolution_catalyst",value:10,description:"Reach level 10 with Evolution Catalyst"}},{id:"formicidable_power",name:"Formicidable Power",description:"Unleash the formidable power of the Formicidae family!",maxLevel:200,baseCost:n(2500),modifiers:[{target:"queenChamber",multiplier:v=>n(1).add(v*.2),unlockLevel:1,description:"Queen Chamber Production +20% per level"},{target:"colony",multiplier:v=>n(1).add(v*.2),unlockLevel:1,description:"Colony Production +20% per level"},{target:"global",multiplier:v=>n(1).add((v-25)*.08),unlockLevel:25,description:"All Generators +8% per level above 25"},{target:"ep",multiplier:v=>n(1).add((v-100)*.15),unlockLevel:100,description:"EP Gain +15% per level above 100"}],unlockRequirement:{type:"essence",value:5e3,description:"Collect 5,000 Pheromone Essence total"}},{id:"hill_of_a_deal",name:"Hill of a Deal",description:"This deal is too good to pass up! Trust me, I'm an antrepreneur.",maxLevel:300,baseCost:n(1e5),modifiers:[{target:"pheromone",multiplier:v=>n(1).add(v),unlockLevel:1,description:"Pheromone Gain +100% per level"},{target:"megacolony",multiplier:v=>n(1).add(v*.3),unlockLevel:1,description:"Megacolony Production +30% per level"},{target:"hivemind",multiplier:v=>n(1).add(v*.3),unlockLevel:1,description:"Hivemind Production +30% per level"},{target:"global",multiplier:v=>n(1).add((v-50)*.1),unlockLevel:50,description:"All Generators +10% per level above 50"},{target:"ep",multiplier:v=>n(1).add((v-150)*.2),unlockLevel:150,description:"EP Gain +20% per level above 150"}],unlockRequirement:{type:"itemLevel",target:"formicidable_power",value:25,description:"Reach level 25 with Formicidable Power"}},{id:"antstronaut",name:"ANTstronaut Program",description:"One small step for ant, one giant leap for ant-kind!",maxLevel:500,baseCost:n(1e6),modifiers:[{target:"antopolis",multiplier:v=>n(1).add(v*.5),unlockLevel:1,description:"Antopolis Production +50% per level"},{target:"global",multiplier:v=>n(1).add(v*.15),unlockLevel:1,description:"All Generators +15% per level"},{target:"pheromone",multiplier:v=>n(1).add((v-100)*.3),unlockLevel:100,description:"Pheromone Gain +30% per level above 100"},{target:"ep",multiplier:v=>n(1).add((v-200)*.4),unlockLevel:200,description:"EP Gain +40% per level above 200"},{target:"global",multiplier:v=>n(1).add((v-400)*1),unlockLevel:400,description:"All Generators +100% per level above 400"}],unlockRequirement:{type:"itemLevel",target:"hill_of_a_deal",value:50,description:"Reach level 50 with Hill of a Deal"}},{id:"no_picant",name:"No Pic-ant",description:"We packed the perfect pheromones for this pic-ant! Spicy!",maxLevel:100,baseCost:n(5e3),modifiers:[{target:"worker",multiplier:v=>n(1).add(v*.25),unlockLevel:1,description:"Food Production +25% per level"},{target:"global",multiplier:v=>n(1).add((v-25)*.1),unlockLevel:25,description:"All Generators +10% per level above 25"},{target:"pheromone",multiplier:v=>n(1).add((v-50)*.15),unlockLevel:50,description:"Pheromone Gain +15% per level above 50"}],unlockRequirement:{type:"itemLevel",target:"ant_i_gravity",value:15,description:"Reach level 15 with Ant-i-Gravity"}},{id:"uncl_ant",name:"Uncl-Ant Power",description:"With great power comes great respANTsibility.",maxLevel:250,baseCost:n(25e3),modifiers:[{target:"global",multiplier:v=>n(1).add(v*.12),unlockLevel:1,description:"All Generators +12% per level"},{target:"ep",multiplier:v=>n(1).add(v*.18),unlockLevel:1,description:"EP Gain +18% per level"},{target:"pheromone",multiplier:v=>n(1).add((v-100)*.2),unlockLevel:100,description:"Pheromone Gain +20% per level above 100"}],unlockRequirement:{type:"itemLevel",target:"no_picant",value:20,description:"Reach level 20 with No Pic-ant"}},{id:"ant_trail_blazer",name:"Ant Trail Blazer",description:"Mark your path to success with powerful pheromone trails.",maxLevel:50,baseCost:n(50),modifiers:[{target:"worker",multiplier:v=>n(1).add(v*.05),unlockLevel:1,description:"Food Production +5% per level"},{target:"nursery",multiplier:v=>n(1).add(v*.05),unlockLevel:1,description:"Nursery Production +5% per level"},{target:"pheromone",multiplier:v=>n(1).add((v-10)*.03),unlockLevel:10,description:"Pheromone Gain +3% per level above 10"}]},{id:"sweet_scent",name:"Sweet Scent",description:"A sweet pheromone blend that makes all ants work more efficiently.",maxLevel:75,baseCost:n(150),modifiers:[{target:"global",multiplier:v=>n(1).add(v*.03),unlockLevel:1,description:"All Generators +3% per level"},{target:"ep",multiplier:v=>n(1).add((v-20)*.04),unlockLevel:20,description:"EP Gain +4% per level above 20"},{target:"pheromone",multiplier:v=>n(1).add((v-50)*.02),unlockLevel:50,description:"Pheromone Gain +2% per level above 50"}],unlockRequirement:{type:"itemLevel",target:"ant_trail_blazer",value:5,description:"Reach level 5 with Ant Trail Blazer"}},{id:"formic_boost",name:"Formic Boost",description:"Harness the power of formic acid to supercharge your colony.",maxLevel:80,baseCost:n(400),modifiers:[{target:"worker",multiplier:v=>n(1).add(v*.08),unlockLevel:1,description:"Food Production +8% per level"},{target:"queenChamber",multiplier:v=>n(1).add(v*.07),unlockLevel:1,description:"Queen Chamber Production +7% per level"},{target:"nursery",multiplier:v=>n(1).add(v*.04),unlockLevel:1,description:"Nursery Production +4% per level"},{target:"pheromone",multiplier:v=>n(1).add((v-15)*.04),unlockLevel:15,description:"Pheromone Gain +4% per level above 15"}],unlockRequirement:{type:"itemLevel",target:"sweet_scent",value:10,description:"Reach level 10 with Sweet Scent"}}]),r=N({}),s=N({by:"unlocked",direction:"desc"}),a=v=>r.value[v]||0,i=v=>{const w=t.value.find(M=>M.id===v);if(!w)return!1;if(!w.unlockRequirement)return!0;const S=w.unlockRequirement;switch(S.type){case"essence":return e.totalCollectedEssence.gte(S.value);case"itemLevel":return S.target?a(S.target)>=S.value:!1;case"level":return!1;default:return!1}},l=F(()=>t.value.filter(v=>i(v.id))),u=v=>{const w=t.value.find(M=>M.id===v);if(!w)return n(0);const S=a(v);return S>=w.maxLevel?n(0):w.baseCost.mul(n(1.2).pow(S))},c=v=>{const w=t.value.find(M=>M.id===v);if(!w)return[];const S=a(v);return w.modifiers.filter(M=>S>=M.unlockLevel)},d=(v,w)=>{const S=t.value.find(A=>A.id===v);if(!S||!S.modifiers[w])return n(1);const M=a(v),L=S.modifiers[w];return M<L.unlockLevel?n(1):L.multiplier(M)},m=v=>{const w=t.value.find(S=>S.id===v);return!w||!w.unlockRequirement?"":w.unlockRequirement.description},g=F(()=>{const v=t.value.map(w=>({...w,unlocked:i(w.id),level:a(w.id),nextCost:u(w.id)}));return f(v)});function f(v){const{by:w,direction:S}=s.value;return[...v].sort((L,A)=>{if(w==="unlocked"){if(S==="asc"){if(L.unlocked!==A.unlocked)return L.unlocked?-1:1}else if(L.unlocked!==A.unlocked)return L.unlocked?1:-1}switch(w){case"price":return S==="asc"?L.nextCost.cmp(A.nextCost):A.nextCost.cmp(L.nextCost);case"level":return S==="asc"?L.level-A.level:A.level-L.level;case"maxLevel":return S==="asc"?L.maxLevel-A.maxLevel:A.maxLevel-L.maxLevel;case"name":return S==="asc"?L.name.localeCompare(A.name):A.name.localeCompare(L.name);case"unlocked":return L.name.localeCompare(A.name);default:return 0}})}return{shopItems:t,unlockedShopItems:l,getAllShopItemsWithStatus:g,getItemLevel:a,getNextLevelCost:u,getActiveModifiers:c,getCurrentModifierValue:d,upgradeItem:v=>{const w=t.value.find(L=>L.id===v);if(!w||!i(v)||a(v)>=w.maxLevel)return!1;const M=u(v);return e.spendPheromoneEssence(M)?(r.value[v]=(r.value[v]||0)+1,!0):!1},isItemUnlocked:i,getUnlockRequirementText:m,setSortPreference:(v,w)=>{s.value={by:v,direction:w}},sortPreference:s,getState:()=>({itemLevels:r.value,sortPreference:s.value}),loadState:v=>{v.itemLevels&&(r.value=v.itemLevels),v.sortPreference&&(s.value=v.sortPreference)}}}),Io=Ye("colonyRush",()=>{const e=N(50),t=N(30),r=N(30),s=Ue(),a=F(()=>s.getUpgradeCount("unlockColonyRush").gt(0)),i=F(()=>{const U=s.getUpgradeCount("rushMaxPerDay").mul(2);return e.value+U.toNumber()}),l=F(()=>{const U=s.getUpgradeCount("rushCooldownReduction").mul(2);return Math.max(1,t.value-U.toNumber())}),u=F(()=>{const U=s.getUpgradeCount("rushDurationIncrease").mul(10);return r.value+U.toNumber()}),c=N(0),d=N(0),m=N(""),g=N(0),f=N(!1),p=F(()=>i.value-c.value),h=F(()=>a.value&&p.value>0&&g.value>=l.value&&!f.value),x=F(()=>g.value>=l.value?100:Math.floor(g.value/l.value*100)),k=F(()=>g.value>=l.value?0:l.value-g.value),v=F(()=>{const U=k.value;return U<=0?"Ready":`${U} trips`});function w(){S()}function S(){const U=new Date().toDateString();m.value!==U&&(c.value=0,m.value=U)}function M(){f.value||(g.value++,S())}async function L(){if(!h.value)return!1;const U=Rt();c.value++,d.value=Date.now(),g.value=0,f.value=!0;try{const T=u.value,G=U.showOfflineProgressModal;return U.showOfflineProgressModal=!1,await U.calculateOfflineProgress(T,!0),U.showOfflineProgressModal=G,!0}catch(T){return console.error("Error executing colony rush:",T),!1}finally{f.value=!1}}const A=()=>({baseMaxRushesPerDay:e.value,baseRushCooldownTicks:t.value,baseRushDurationSeconds:r.value,rushesUsedToday:c.value,lastRushTimestamp:d.value,lastRushResetDate:m.value,ticksSinceLastRush:g.value}),Y=U=>{U&&(U.baseMaxRushesPerDay!==void 0?e.value=U.baseMaxRushesPerDay:U.maxRushesPerDay!==void 0&&(e.value=U.maxRushesPerDay),U.baseRushCooldownTicks!==void 0?t.value=U.baseRushCooldownTicks:U.rushCooldownTicks!==void 0&&(t.value=U.rushCooldownTicks),U.baseRushDurationSeconds!==void 0?r.value=U.baseRushDurationSeconds:U.rushDurationSeconds!==void 0&&(r.value=U.rushDurationSeconds),U.rushesUsedToday!==void 0&&(c.value=U.rushesUsedToday),U.lastRushTimestamp!==void 0&&(d.value=U.lastRushTimestamp),U.lastRushResetDate!==void 0&&(m.value=U.lastRushResetDate),U.ticksSinceLastRush!==void 0&&(g.value=U.ticksSinceLastRush),S())};return w(),{baseMaxRushesPerDay:e,baseRushCooldownTicks:t,baseRushDurationSeconds:r,maxRushesPerDay:i,rushCooldownTicks:l,rushDurationSeconds:u,rushesUsedToday:c,rushesRemaining:p,lastRushTimestamp:d,lastRushResetDate:m,ticksSinceLastRush:g,isRushAvailable:h,isFeatureUnlocked:a,cooldownPercentage:x,ticksUntilNextRush:k,formatTripsUntilNextRush:v,initialize:w,trackTick:M,executeRush:L,getState:A,loadState:Y,isProcessingRush:f}}),Tr=Ye("wiki",()=>{const e=N("prestige-upgrades"),t=N({"prestige-upgrades":"","pheromone-shop":"","bugs-wiki":"","items-wiki":"","generators-wiki":""}),r=N({"prestige-upgrades":10,"pheromone-shop":10,"bugs-wiki":10,"items-wiki":10,"generators-wiki":10}),s=N({"prestige-upgrades":{},"pheromone-shop":{},"bugs-wiki":{},"items-wiki":{},"generators-wiki":{}}),a=N({"prestige-upgrades":{},"pheromone-shop":{},"bugs-wiki":{},"items-wiki":{},"generators-wiki":{}}),i=N({"prestige-upgrades":[],"pheromone-shop":[],"bugs-wiki":[],"items-wiki":[],"generators-wiki":[]}),l=S=>{e.value=S},u=(S,M)=>{t.value[S]=M},c=S=>t.value[S]||"",d=(S,M)=>{r.value[S]=M},m=S=>r.value[S]||10,g=(S,M)=>{s.value[S]||(s.value[S]={}),s.value[S][M]=!s.value[S][M],s.value[S][M]&&x(S,M)},f=(S,M)=>!!(s.value[S]&&s.value[S][M]),p=(S,M)=>{a.value[S]||(a.value[S]={}),a.value[S][M]=!a.value[S][M]},h=(S,M)=>!!(a.value[S]&&a.value[S][M]),x=(S,M)=>{i.value[S]||(i.value[S]=[]);const L=i.value[S].filter(A=>A!==M);L.unshift(M),i.value[S]=L.slice(0,10)};return{activeTab:e,setActiveTab:l,setSearchQuery:u,getSearchQuery:c,setMaxPreviewLevel:d,getMaxPreviewLevel:m,toggleItemExpanded:g,isItemExpanded:f,toggleIgnoreMaxLevel:p,shouldIgnoreMaxLevel:h,addToRecentlyViewed:x,getRecentlyViewedItems:S=>i.value[S]||[],getState:()=>({activeTab:e.value,searchQueries:t.value,maxPreviewLevels:r.value,expandedItemsMap:s.value,ignoreMaxLevelMap:a.value,recentlyViewedItems:i.value}),loadState:S=>{S.activeTab&&(e.value=S.activeTab),S.searchQueries&&(t.value=S.searchQueries),S.maxPreviewLevels&&(r.value=S.maxPreviewLevels),S.expandedItemsMap&&(s.value=S.expandedItemsMap),S.recentlyViewedItems&&(i.value=S.recentlyViewedItems)}}}),Ko="idle-ant-farm-save",Rp=6e4,Fp=2e3,Rt=Ye("saveSystem",()=>{const e=De(),t=N(!0),r=N(!0),s=N(!0),a=N(Date.now()),i=N(Date.now()),l=N(!1),u=N(!1),c=N(!1),d=N(0),m=N(0),g=N(0),f=N(new se(0)),p=[],h=()=>{f.value=new se(e.food),ve(`🔄 Initial food captured: ${f.value.toString()}`),p.length=0;const ue=e.generators;for(const V of ue)V.unlocked&&p.push({id:V.id,name:V.name,beforeCount:new se(V.count),afterCount:new se(V.count),generated:new se(0),selfReplicated:V.selfReplicated?new se(V.selfReplicated):new se(0),icon:V.icon});ve(`🔄 Initial generator state captured: ${p.length} generators`),p.length>0&&ve("🔄 First generator:",{id:p[0].id,count:p[0].beforeCount.toString(),selfReplicated:p[0].selfReplicated.toString()})},x=N([]);let k=null;const v=()=>({gameStore:br(),generatorStore:De(),prestigeStore:Ue(),generatorUpgradeStore:et(),inventoryStore:pt(),adventureStore:qt(),tourStore:Ns(),progressionStore:Gt(),filterStore:aa(),achievementStore:Ct(),pheromoneEssenceStore:Mt(),pheromoneShopStore:Bs(),colonyRushStore:Io(),wikiStore:Tr(),questStore:ht()}),w=()=>{const ue=v(),V=Date.now();return{settings:{autoSaveEnabled:t.value,offlineProgressEnabled:r.value,autoEnableGeneratorsAfterPrestige:s.value},lastSaveTime:V,gameStore:ue.gameStore.getState(),generatorStore:ue.generatorStore.getState(),prestigeStore:ue.prestigeStore.getState(),generatorUpgradeStore:ue.generatorUpgradeStore.getState(),inventoryStore:ue.inventoryStore.getState(),adventureStore:ue.adventureStore.getState(),tourStore:ue.tourStore.collectState(),progressionStore:ue.progressionStore.getState(),filterStore:ue.filterStore.getState(),achievementStore:ue.achievementStore.getState(),pheromoneEssenceStore:ue.pheromoneEssenceStore.getState(),pheromoneShopStore:ue.pheromoneShopStore.getState(),colonyRush:ue.colonyRushStore.getState(),wikiStore:ue.wikiStore.getState(),questStore:ue.questStore.getState()}},S=async ue=>{if(!ue)return!1;try{const V=v();return ue.settings&&(t.value=ue.settings.autoSaveEnabled??!0,r.value=ue.settings.offlineProgressEnabled??!0,s.value=ue.settings.autoEnableGeneratorsAfterPrestige??!0),ue.lastSaveTime&&(a.value=ue.lastSaveTime),ue.gameStore&&await Promise.resolve(V.gameStore.loadState(ue.gameStore)),ue.generatorStore&&await Promise.resolve(V.generatorStore.loadState(ue.generatorStore)),ue.prestigeStore&&await Promise.resolve(V.prestigeStore.loadState(ue.prestigeStore)),ue.generatorUpgradeStore&&await Promise.resolve(V.generatorUpgradeStore.loadState(ue.generatorUpgradeStore)),ue.inventoryStore&&await Promise.resolve(V.inventoryStore.loadState(ue.inventoryStore)),ue.adventureStore&&await Promise.resolve(V.adventureStore.loadState(ue.adventureStore)),ue.tourStore&&await Promise.resolve(V.tourStore.applyState(ue.tourStore)),ue.progressionStore&&await Promise.resolve(V.progressionStore.loadState(ue.progressionStore)),ue.filterStore&&await Promise.resolve(V.filterStore.loadState(ue.filterStore)),ue.achievementStore&&await Promise.resolve(V.achievementStore.loadState(ue.achievementStore)),ue.pheromoneEssenceStore&&await Promise.resolve(V.pheromoneEssenceStore.loadState(ue.pheromoneEssenceStore)),ue.pheromoneShopStore&&await Promise.resolve(V.pheromoneShopStore.loadState(ue.pheromoneShopStore)),ue.colonyRush&&await Promise.resolve(V.colonyRushStore.loadState(ue.colonyRush)),ue.wikiStore&&await Promise.resolve(V.wikiStore.loadState(ue.wikiStore)),ue.questStore&&await Promise.resolve(V.questStore.loadState(ue.questStore)),i.value=Date.now(),!0}catch(V){return ve("Error applying saved state:",V),!1}},M=(ue,V=!1)=>new Promise(q=>{if(!r.value){q(null);return}const Q=V?ue:(Date.now()-ue)/1e3;if(ve(`Calculating offline progress for ${Q.toFixed(1)} seconds`),Q<10){q(null);return}const j=1*24*60*60,J=Math.min(Q,j);Q>j&&ve(`Capping offline progress from ${Q.toFixed(0)} to ${j} seconds (1 day)`);const le=v(),C=le.gameStore.tickDuration,I=Math.floor(J/C);if(I<=0){q(null);return}ve(),f.value=new se(le.generatorStore.food.toString()),ve("[OfflineProgress] Starting calculation with initial food:",f.value.toString()),h(),l.value=!0,c.value=!Io().isProcessingRush,setTimeout(()=>{var B,te;try{const oe=document.getElementById("offlineProgressModal");if(oe){const ce=(te=(B=oe==null?void 0:oe.__vueParentComponent)==null?void 0:B.component)==null?void 0:te.exposed;ce!=null&&ce.captureStats?(ve("[OfflineProgress] Capturing initial generator stats via modal"),ce.captureStats()):ve("[OfflineProgress] Found modal element but could not access component API")}else ve("[OfflineProgress] Modal element not found in DOM")}catch(oe){ve("[OfflineProgress] Error accessing modal component:",oe)}d.value=I,m.value=0,g.value=J,ve(),L(I,le,q)},50)}),L=(ue,V,q)=>{let j=0;ve(),V.generatorStore.generators.forEach(le=>{(le.unlocked||le.count.gt(0))&&ve(`[OfflineProgress] Generator ${le.id}: count=${le.count.toString()}, selfReplicated=${le.selfReplicated.toString()}`)}),ve("[OfflineProgress] Initial food:",V.generatorStore.food.toString());const J=()=>{const le=ue-j,C=Math.min(100,le);if(C<=0){ve(),V.generatorStore.generators.forEach(I=>{(I.unlocked||I.count.gt(0))&&ve(`[OfflineProgress] Generator ${I.id}: count=${I.count.toString()}, selfReplicated=${I.selfReplicated.toString()}`)}),ve("[OfflineProgress] Final food:",V.generatorStore.food.toString()),Y(q);return}V.gameStore.tick(),V.prestigeStore.updateLoopProgress(C),A(V,C),j+=C,m.value=j,ve(),j<ue?setTimeout(J,0):Y(q)};J()},A=(ue,V)=>{const q=m.value===0,Q=m.value+V>=d.value;q&&(ve(),ue.generatorStore.generators.filter(J=>J.unlocked||J.count.gt(0)).slice(0,3).forEach(J=>{ve(`[OfflineProgress] Before first batch - Generator ${J.id}: count=${J.count.toString()}`)})),ue.generatorStore.tick(V),ue.prestigeStore.getUpgradeCount("unlockAdventure").gt(0)&&ue.adventureStore.tick(V*2),ue.achievementStore.tick(V),q&&(ue.generatorStore.generators.filter(J=>J.unlocked||J.count.gt(0)).slice(0,3).forEach(J=>{ve(`[OfflineProgress] After first batch - Generator ${J.id}: count=${J.count.toString()}`)}),ve(`[OfflineProgress] Food after first batch: ${ue.generatorStore.food.toString()}`)),Q&&ve()},Y=ue=>{ve(),l.value=!1,u.value=!0,ve(),Ae();const V=e.food.sub(f.value);ve(`🔄 Food generated during offline progress: ${V.toString()}`),ve(`🔄 Food values: initial=${f.value.toString()}, final=${e.food.toString()}`),ve(),ue({elapsedTime:g.value,ticks:d.value,processedTicks:m.value})},U=()=>{try{const ue=w();return localStorage.setItem(Ko,JSON.stringify(ue)),a.value=ue.lastSaveTime,ve("Game saved successfully"),!0}catch(ue){return ve("Error saving game:",ue),!1}},T=()=>new Promise(ue=>{try{const V=w();localStorage.setItem(Ko,JSON.stringify(V)),a.value=V.lastSaveTime,ve("Game saved successfully"),ue(!0)}catch(V){ve("Error saving game:",V),ue(!1)}}),G=async()=>{try{const ue=localStorage.getItem(Ko);if(!ue)return!1;const V=JSON.parse(ue),q=await S(V);if(q&&r.value){const Q=V.lastSaveTime||Date.now();return ve(`Calculating offline progress from saved time: ${new Date(Q).toLocaleString()}`),await M(Q)}return q}catch(ue){return ve("Error loading game:",ue),!1}},D=()=>{try{const ue=w(),V=JSON.stringify(ue);return btoa(V)}catch(ue){return ve("Error exporting save:",ue),null}},P=()=>{try{const ue=D();if(!ue)return!1;const Q=`idle-ant-farm-save-${new Date().toISOString().split("T")[0]}.txt`,j=new Blob([ue],{type:"text/plain"}),J=window.URL.createObjectURL(j),le=document.createElement("a");return le.href=J,le.download=Q,document.body.appendChild(le),le.click(),window.URL.revokeObjectURL(J),document.body.removeChild(le),!0}catch(ue){return ve("Error exporting save to file:",ue),!1}},$=async ue=>{try{const V=atob(ue),q=JSON.parse(V);return await S(q)}catch(V){return ve("Error importing save:",V),!1}},ee=async ue=>{try{return new Promise(async V=>{const q=new FileReader;q.onload=async Q=>{var j;if((j=Q.target)!=null&&j.result){const J=Q.target.result,le=await $(J);V(le)}else V(!1)},q.onerror=()=>{ve("Error reading file"),V(!1)},q.readAsText(ue)})}catch(V){return ve("Error importing save from file:",V),!1}},W=()=>{try{return localStorage.removeItem(Ko),window.location.reload(),ve("Game reset successfully"),!0}catch(ue){return ve("Error resetting game:",ue),!1}},ae=vp(()=>{t.value&&U()},Fp),z=()=>{k||(k=window.setInterval(()=>{t.value&&U()},Rp))},R=()=>{k&&(clearInterval(k),k=null)},ie=()=>{t.value=!t.value,t.value&&z()},O=()=>{r.value=!r.value,ae()},H=()=>{s.value=!s.value,ae()},re=async ue=>{if(ue<=0)return!1;const V=ue*60*60;return ve(),await M(V,!0),!0},de=F(()=>((Date.now()-a.value)/1e3).toFixed(0)),Ae=()=>{const ue=e.generators;for(let V=0;V<p.length;V++){const q=p[V],Q=ue.find(j=>j.id===q.id);if(Q){const j=new se(Q.count),J=j.sub(q.beforeCount),C=(Q.selfReplicated?new se(Q.selfReplicated):new se(0)).sub(q.selfReplicated);p[V]={...q,afterCount:j,generated:J,selfReplicated:C},ve(`Updated stats for ${q.id}:`,{before:q.beforeCount.toString(),after:j.toString(),generated:J.toString(),selfReplicated:C.toString()})}}ve()};return{autoSaveEnabled:t,offlineProgressEnabled:r,autoEnableGeneratorsAfterPrestige:s,lastSaveTime:a,lastLoadTime:i,timeSinceLastSave:de,isCalculatingOfflineProgress:l,isCalculationComplete:u,offlineProgressTotalTicks:d,offlineProgressTicksProcessed:m,offlineProgressElapsedTime:g,calculationTimeouts:x,saveGame:U,saveGameAsync:T,loadGame:G,exportSave:D,exportSaveToFile:P,importSave:$,importSaveFromFile:ee,resetGame:W,startAutoSave:z,stopAutoSave:R,toggleAutoSave:ie,toggleOfflineProgress:O,toggleAutoEnableGeneratorsAfterPrestige:H,calculateOfflineProgress:M,debouncedSave:ae,simulateOfflineTime:re,showOfflineProgressModal:c,generatorStats:p,captureInitialState:h,getStores:v,initialFoodAmount:f,updateGeneratorStats:Ae}}),pt=Ye("inventory",()=>{const e=bt(),t=Ue(),r=N([]),s=20,a=N([]),i=10,l=F(()=>t.getUpgradeCount("equipmentSlots")),u=N(!1),c=F(()=>t.getUpgradeCount("unlockAutoMerge").gt(0)),d=N(!0),m=F(()=>t.getUpgradeCount("unlockAutoSalvage").gt(0)),g=N("default"),f=N("none"),p=N({equipmentStats:!1,combatStats:!1,specialModifiers:!1,productionModifiers:!1}),h=q=>{p.value[q]=!p.value[q]},x=F(()=>{const q=n(s),Q=t.getUpgradeMultiplier("inventorySlots");return q.add(Q)}),k=F(()=>i),v=()=>{const q=a.value.map(J=>({id:J.id,item:J.item,locked:J.locked,mergeLevel:J.mergeLevel})),Q=[],j=k.value;for(let J=0;J<j;J++){const le=q.find(C=>C.id===J);Q.push({id:J,item:(le==null?void 0:le.item)||null,locked:J>=l.value.toNumber(),mergeLevel:(le==null?void 0:le.mergeLevel)||0})}a.value=Q},w=q=>e.getItem(q),S=F(()=>{const q={damage:se.fromNumber(0),health:se.fromNumber(0),regen:se.fromNumber(0),defense:se.fromNumber(0)};return a.value.forEach(Q=>{if(Q.item){const j=e.getItem(Q.item);if(j!=null&&j.stats){const J=Q.mergeLevel||0,le=J>0?se.fromNumber(Math.pow(U,J)):se.fromNumber(1);j.stats.damage&&(q.damage=q.damage.plus(j.stats.damage.mul(le))),j.stats.health&&(q.health=q.health.plus(j.stats.health.mul(le))),j.stats.regen&&(q.regen=q.regen.plus(j.stats.regen.mul(le))),j.stats.defense&&(q.defense=q.defense.plus(j.stats.defense.mul(le)))}}}),q}),M=F(()=>{const q={};return a.value.forEach(Q=>{if(Q.item){const j=e.getItem(Q.item);if(j!=null&&j.productionModifiers){const J=Q.mergeLevel||0,le=J>0?se.fromNumber(Math.pow(T,J)):se.fromNumber(1);Object.entries(j.productionModifiers).forEach(([C,I])=>{q[C]||(q[C]=se.fromNumber(1)),q[C]=q[C].mul(I.mul(le))})}}}),Object.fromEntries(Object.entries(q).filter(([Q,j])=>j.gt(1)))}),L=F(()=>{const q={epBoost:se.fromNumber(1),global:se.fromNumber(1)};return a.value.forEach(Q=>{if(Q.item){const j=e.getItem(Q.item);if(j!=null&&j.specialModifiers){const J=Q.mergeLevel||0,le=J>0?se.fromNumber(Math.pow(T,J)):se.fromNumber(1);j.specialModifiers.epBoost&&(q.epBoost=q.epBoost.mul(j.specialModifiers.epBoost.mul(le))),j.specialModifiers.global&&(q.global=q.global.mul(j.specialModifiers.global.mul(le))),Object.entries(j.specialModifiers).forEach(([C,I])=>{C!=="epBoost"&&C!=="global"&&I!==void 0&&(q[C]||(q[C]=se.fromNumber(1)),q[C]=q[C].mul(I.mul(le)))})}}}),q}),A=()=>{const q=new Map;r.value.forEach(Q=>{const j=`${Q.id}_${Q.mergeLevel||0}`,J=q.get(j);if(J){const le=J.quantity||se.fromNumber(1),C=Q.quantity||se.fromNumber(1);J.quantity=le.plus(C)}else q.set(j,{...Q})}),r.value=Array.from(q.values())},Y=5,U=1.2,T=1.15,G=2,D=q=>{var oe;if(q.length===0)return{success:!1,message:"No items selected for merging"};const Q=q[0],j=r.value[Q];if(!j)return{success:!1,message:"Item not found"};const J=j.mergeLevel||0;if(J>=Y)return{success:!1,message:`Item already at maximum merge level (${Y})`};const le=((oe=j.quantity)==null?void 0:oe.toNumber())||1,C=P(J);if(le<C)return{success:!1,message:`Need at least ${C} items to merge (have ${le})`};if(!(j.quantity&&j.quantity.sub(C).lte(0))&&r.value.length>=x.value.toNumber())return{success:!1,message:"Not enough inventory space for the merged item. Free up space first."};const B={...j,mergeLevel:J+1,quantity:se.fromNumber(1),stats:{...j.stats}},te=e.getItem(j.id);if(B.stats&&(te!=null&&te.stats)){const ce=J+1,pe=se.fromNumber(Math.pow(U,ce));te.stats.damage&&(B.stats.damage=te.stats.damage.mul(pe)),te.stats.health&&(B.stats.health=te.stats.health.mul(pe)),te.stats.regen&&(B.stats.regen=te.stats.regen.mul(pe)),te.stats.defense&&(B.stats.defense=te.stats.defense.mul(pe))}return te!=null&&te.productionModifiers&&(B.productionModifiers={},Object.entries(te.productionModifiers).forEach(([ce,pe])=>{const fe=se.fromNumber(Math.pow(T,J+1)),be=pe;B.productionModifiers[ce]=be.mul(fe)})),te!=null&&te.specialModifiers&&(B.specialModifiers={},Object.entries(te.specialModifiers).forEach(([ce,pe])=>{if(pe){const fe=se.fromNumber(Math.pow(T,J+1)),be=pe;B.specialModifiers[ce]=be.mul(fe)}})),j.quantity?(j.quantity=j.quantity.sub(C),j.quantity.lte(0)&&r.value.splice(Q,1)):r.value.splice(Q,1),r.value.push(B),A(),{success:!0,message:`Successfully merged ${C}x ${j.name} into ${j.name} +${J+1}`,item:B}},P=q=>G+q,$=()=>{var Q;const q=[];for(let j=0;j<r.value.length;j++){const J=r.value[j],le=J.mergeLevel||0;if(le>=Y)continue;const C=((Q=J.quantity)==null?void 0:Q.toNumber())||1,I=P(le);C>=I&&q.push({itemId:J.id,item:J,count:C,indices:[j],mergeLevel:le,requiredItems:I})}return q},ee=(q,Q=se.fromNumber(1),j=0)=>{if(n(r.value.length).gte(x.value))return!1;const le=bt().createItem(q,Q,j);return le?(r.value.push(le),A(),!0):!1},W=q=>{r.value.splice(q,1),A()},ae=(q,Q,j)=>{const J=a.value[Q];if(!J||J.locked)return!1;const le=r.value[j];return!le||le.id!==q||a.value.some(I=>I.item===q)||J.item&&w(J.item)&&!ee(J.item,se.fromNumber(1),J.mergeLevel||0)?!1:(J.item=q,J.mergeLevel=le.mergeLevel||0,le.quantity&&le.quantity.gt(1)?le.quantity=le.quantity.sub(1):r.value.splice(j,1),A(),!0)},z=q=>{const Q=a.value[q];return!Q||Q.locked?!1:Q.item?w(Q.item)&&(n(r.value.length).gte(x.value)||!ee(Q.item,se.fromNumber(1),Q.mergeLevel||0))?!1:(Q.item=null,Q.mergeLevel=0,A(),!0):!1},R=N(n(0)),ie=Mt().formattedPheromoneEssence,O=q=>{var C;let Q=1;switch(q.rarity){case"common":Q=1;break;case"uncommon":Q=3;break;case"rare":Q=10;break;case"epic":Q=25;break;case"legendary":Q=75;break;case"mythic":Q=200;break;case"divine":Q=500;break;default:Q=1}const J=1+(q.mergeLevel||0)*.5,le=((C=q.quantity)==null?void 0:C.toNumber())||1;return n(Q*J*le)},H=q=>{const Q=r.value[q];if(!Q)return{success:!1,message:"Item not found"};const j=Mt().salvageItem(Q);return r.value.splice(q,1),A(),j},re=()=>{if(!c.value||!u.value||Rt().isCalculatingOfflineProgress)return;const q=$();if(q.length===0)return;let Q=0;const j=new Map;for(const J of q){const le=D(J.indices);if(le.success&&le.item){Q++;const C=`${le.item.id}-${le.item.mergeLevel}`;j.set(C,le.item)}}if(Q>0){let J=!0,le=0;for(;J;){J=!1;const C=$();if(C.length>0)for(const I of C){const B=D(I.indices);if(B.success&&B.item){le++,J=!0;const te=`${B.item.id}-${B.item.mergeLevel}`;j.set(te,B.item);break}}else J=!1}Q+=le}return Q>0?Q:null},de=()=>{c.value&&(u.value=!u.value)},Ae=()=>{m.value&&(d.value=!d.value)},ue=()=>({inventory:r.value.map(q=>{var Q;return{id:q.id,quantity:(Q=q.quantity)==null?void 0:Q.toString(),mergeLevel:q.mergeLevel}}),equipmentSlots:a.value,isAutoMergeEnabled:u.value,isAutoSalvageEnabled:d.value,selectedInventorySort:g.value,selectedInventoryFilter:f.value,collapsedSections:p.value}),V=q=>{if(q.inventory&&(r.value=q.inventory.map(Q=>{const j=e.getItem(Q.id);return j?{...j,quantity:Q.quantity?n(Q.quantity):n(1),mergeLevel:Q.mergeLevel||0}:(console.error(`Failed to load item with ID: ${Q.id}`),null)}).filter(Boolean)),q.equipmentSlots){const Q=q.equipmentSlots.map((j,J)=>{const le={id:j.id??J,item:null,locked:j.id>=l.value.toNumber(),mergeLevel:0};return j.item&&(e.getItem(j.item)?(le.item=j.item,le.mergeLevel=j.mergeLevel||0):console.error(`Failed to load equipped item with ID: ${j.item}`)),le});a.value=Q}else v();typeof q.isAutoMergeEnabled=="boolean"&&(u.value=q.isAutoMergeEnabled),typeof q.isAutoSalvageEnabled=="boolean"&&(d.value=q.isAutoSalvageEnabled),q.selectedInventorySort&&(g.value=q.selectedInventorySort),q.selectedInventoryFilter&&(f.value=q.selectedInventoryFilter),q.collapsedSections&&(p.value=q.collapsedSections),A()};return v(),{inventory:r,maxInventorySlots:x,equipmentSlots:a,maxEquipmentSlots:k,unlockedEquipmentSlots:l,totalStats:S,totalProductionModifiers:M,totalSpecialModifiers:L,collapsedSections:p,toggleSection:h,addItem:ee,removeItem:W,equipItem:ae,unequipItem:z,stackItems:A,getState:ue,loadState:V,getItem:w,initializeEquipmentSlots:v,mergeItems:D,findMergeableItems:$,getItemsRequiredForMerge:P,MAX_MERGE_LEVEL:Y,pheromoneEssence:R,formattedPheromoneEssence:ie,salvageItem:H,calculateSalvageValue:O,isAutoMergeEnabled:u,isAutoMergeUnlocked:c,processAutoMerge:re,toggleAutoMerge:de,toggleAutoSalvage:Ae,selectedInventorySort:g,selectedInventoryFilter:f,isAutoSalvageEnabled:d,isAutoSalvageUnlocked:m}}),yt=Ye("multiplier",()=>{const e=De(),t=Ue(),r=et(),s=pt(),a=Ct(),i=Bs();ht();const l=()=>{const R=[],ie=t.getAllMultipliers();t.evolutionUpgrades.forEach(re=>{if(!re.level.eq(0)&&!(re.category!=="production"&&re.category!=="synergy")&&re.appliesTo.includes("global"))if(re.id==="generatorSynergy"||re.id==="evolutionSynergy"){const de=re.id==="generatorSynergy"?"generatorSynergyBonus":"evolutionSynergyBonus";ie[de]&&ie[de].gt(1)&&R.push({id:de,name:re.name,getMultiplier:()=>ie[de]||n(1),appliesTo:()=>!0})}else R.push({id:re.id,name:re.name,getMultiplier:()=>t.getUpgradeMultiplier(re.id),appliesTo:()=>!0})});const H=s.totalSpecialModifiers;return H.global&&H.global.gt(1)&&R.push({id:"item_global_multiplier",name:"Global Production Bonus",getMultiplier:()=>H.global,appliesTo:()=>!0}),s.equipmentSlots.forEach(re=>{if(re.item){const de=s.getItem(re.item);de&&de.productionModifiers&&de.productionModifiers.global&&R.push({id:`equipment_${de.id}_global`,name:`${de.name} Global Bonus`,getMultiplier:()=>de.productionModifiers.global,appliesTo:()=>!0})}}),R},u=()=>{const R=[];return t.evolutionUpgrades.forEach(O=>{O.level.eq(0)||O.isCombo||O.category!=="production"&&O.category!=="synergy"||O.appliesTo&&O.appliesTo.length>0&&R.push({id:O.id,name:O.name,getMultiplier:()=>t.getUpgradeMultiplier(O.id),appliesTo:H=>{var re;return((re=O.appliesTo)==null?void 0:re.includes(H))||!1}})}),R.push({id:"advancedEfficiency",name:"Advanced Efficiency",getMultiplier:()=>t.getUpgradeMultiplier("strongerSoldiers"),appliesTo:O=>{const H=e.getGenerator(O);return H?H.tier>4:!1}}),R},c=()=>{const R=[];return t.evolutionUpgrades.forEach(O=>{O.level.eq(0)||O.isCombo&&(!O.effects||O.effects.length===0||O.effects.forEach(H=>{H.target!=="global"&&H.target!=="ep"?R.push({id:`${O.id}_${H.target}`,name:O.name,getMultiplier:()=>H.multiplier(O.level),appliesTo:re=>re===H.target}):H.target==="global"&&R.push({id:`${O.id}_global`,name:O.name,getMultiplier:()=>H.multiplier(O.level),appliesTo:()=>!0})}))}),R},d=R=>{let ie=n(1);return t.evolutionUpgrades.forEach(H=>{H.level.eq(0)||H.category==="level-requirement"&&(H.appliesTo.includes("global")||H.appliesTo.includes(R))&&(ie=ie.mul(H.effect(H.level)))}),ie},m=()=>{const R=[];return r.generatorUpgrades.filter(H=>!["Training","Expansion","Longevity","Automation","Fertility","Dominance"].some(de=>H.id.includes(de))).forEach(H=>{H.level.gt(0)&&R.push({id:H.id,name:H.name,getMultiplier:()=>r.getUpgradeMultiplier(H.id),appliesTo:re=>re===H.generatorId})}),R},g=()=>{const R=[];return s.equipmentSlots.forEach(ie=>{if(ie.item){const O=s.getItem(ie.item);if(O!=null&&O.productionModifiers){let H=n(1);ie.mergeLevel&&ie.mergeLevel>0&&(H=n(Math.pow(1.15,ie.mergeLevel))),Object.entries(O.productionModifiers).forEach(([re,de])=>{if(re==="global")return;const Ae=de.mul(H);R.push({id:`equipment_${O.id}_${re}`,name:`${O.name} Bonus`,getMultiplier:()=>Ae,appliesTo:ue=>ue===re})})}}}),R},f=()=>{const R=[{id:"tierBonus",name:"Tier Bonus",getMultiplier:O=>{const H=e.getGenerator(O);if(H&&H.tier>4){const re=1+(H.tier-4)*.1;return n(re)}return n(1)},appliesTo:O=>{const H=e.getGenerator(O);return H?H.tier>4:!1}},{id:"evolutionaryAdaptation",name:"Evolutionary Adaptation",getMultiplier:O=>{const H=t.getUpgrade("evolutionaryAdaptation");if(H&&H.level.gt(0)){const re=t.evolutionCount;return n(1).add(re.mul(.01))}return n(1)},appliesTo:O=>{const H=t.getUpgrade("evolutionaryAdaptation");return H?H.appliesTo.includes(O):!1}}],ie=s.totalSpecialModifiers;return ie.global&&ie.global.gt(1)&&R.push({id:"item_global_multiplier",name:"Global Production Bonus",getMultiplier:()=>ie.global,appliesTo:()=>!0}),R},p=()=>{const R=[];return a.achievementList.filter(O=>O.completed&&O.modifiers&&O.modifiers.length>0).forEach(O=>{O.modifiers&&O.modifiers.forEach(H=>{R.push({id:`achievement_${O.id}_${H.target}`,name:O.name,getMultiplier:()=>H.multiplier,appliesTo:re=>H.target==="global"?!0:H.target==="ep"?!1:re===H.target})})}),R},h=()=>{try{let R=n(1);const ie=i.shopItems;for(const O of ie){const H=i.getItemLevel(O.id);if(H!==0)for(const re of O.modifiers)re.target==="ep"&&H>=re.unlockLevel&&(R=R.mul(re.multiplier(H)))}return R}catch(R){return console.error("Error calculating Pheromone Shop EP multiplier:",R),n(1)}},x=R=>{try{let ie=n(1);const O=i.shopItems;for(const H of O){const re=i.getItemLevel(H.id);if(re!==0)for(const de of H.modifiers)de.target===R&&re>=de.unlockLevel&&(ie=ie.mul(de.multiplier(re)))}return ie}catch(ie){return console.error(`Error calculating Pheromone Shop multiplier for ${R}:`,ie),n(1)}},k=()=>{try{let R=n(1);const ie=i.shopItems;for(const O of ie){const H=i.getItemLevel(O.id);if(H!==0)for(const re of O.modifiers)re.target==="global"&&H>=re.unlockLevel&&(R=R.mul(re.multiplier(H)))}return R}catch(R){return console.error("Error calculating Pheromone Shop Global multiplier:",R),n(1)}},v=()=>{ve();try{let R=n(1);ve("Starting with base multiplier: 1");const ie=i.shopItems;ve(`Processing ${ie.length} pheromone shop items`);for(const H of ie){const re=i.getItemLevel(H.id);if(re!==0){ve(`Processing shop item: ${H.id} (level ${re})`);for(const de of H.modifiers)if(de.target==="pheromone"&&re>=de.unlockLevel){const Ae=de.multiplier(re);ve(`Adding pheromone modifier from ${H.id}: +${Ae.toString()}`),R=R.add(Ae)}}}const O=t.evolutionUpgrades;ve(`Processing ${O.length} evolution upgrades for pheromone effects`),O.forEach(H=>{H.level.eq(0)||!H.isCombo||!H.effects||(ve(`Processing combo upgrade: ${H.id} (level ${H.level.toString()})`),H.effects.forEach(re=>{if(re.target==="pheromone")if(re.isMultiplier){const de=re.multiplier(H.level);ve(`Multiplying pheromone effect from ${H.id}: ×${de.toString()}`),R=R.mul(de)}else{const de=re.multiplier(H.level);ve(`Adding pheromone effect from ${H.id}: +${de.toString()}`),R=R.add(de)}}))});try{const H=ht();ve(`Processing ${H.completedQuests.length} completed quests for pheromone rewards`),H.completedQuests.forEach(re=>{ve(`Checking quest ${re.id} for pheromone rewards`),re.rewards.forEach(de=>{de.type===vt.MULTIPLIER&&de.target==="pheromone"&&(ve(`Adding pheromone multiplier from quest ${re.id}: +${de.value}`),R=R.add(n(de.value)))})})}catch(H){console.error("Error getting pheromone multipliers from quests:",H),ve("Error processing quest pheromone multipliers",H)}return ve(`Final pheromone gain multiplier: ${R.toString()}`),R}catch(R){return console.error("Error calculating Pheromone gain multiplier:",R),ve("Error calculating pheromone gain multiplier",R),n(1)}},w=()=>{try{let R=n(1);const ie=i.shopItems;for(const H of ie){const re=i.getItemLevel(H.id);if(re!==0)for(const de of H.modifiers)de.target==="food"&&re>=de.unlockLevel&&(R=R.mul(de.multiplier(re)))}t.evolutionUpgrades.forEach(H=>{H.level.eq(0)||!H.isCombo||!H.effects||H.effects.forEach(re=>{re.target==="food"&&(R=R.mul(re.multiplier(H.level)))})});try{ht().completedQuests.forEach(re=>{re.rewards.forEach(de=>{de.type===vt.MULTIPLIER&&de.target==="food"&&typeof de.value=="number"&&(R=R.mul(de.value))})})}catch(H){console.error("Error getting food multipliers from quests:",H)}return R}catch(R){return console.error("Error calculating Food Production multiplier:",R),n(1)}},S=()=>{const R=[];return R.push({id:"pheromone_shop_global",name:"Pheromone Shop Global Bonus",getMultiplier:()=>k(),appliesTo:()=>!0}),R.push({id:"pheromone_shop_generator",name:"Pheromone Shop Generator Bonus",getMultiplier:ie=>x(ie),appliesTo:()=>!0}),R},M=()=>{const R=[];try{const ie=ht();ie.completedQuests.length>0&&ie.completedQuests.forEach(O=>{O.rewards.forEach((H,re)=>{H.type===vt.MULTIPLIER&&H.target&&typeof H.value=="number"&&R.push({id:`quest_${O.id}_reward_${re}`,name:`${O.title} Reward`,getMultiplier:()=>n(H.value),appliesTo:de=>H.target==="global"?!0:H.target==="food"||H.target==="pheromone"?!1:de===H.target})})})}catch(ie){console.error("Error retrieving quest multipliers:",ie)}return R},L=(R=!1)=>{const ie=[...l(),...u(),...c(),...m(),...g(),...f(),...S(),...M()];return R||ie.push(...p()),ie},A=(R,ie=!1)=>{let O=n(1);const H=L(ie);for(const re of H)if(re.appliesTo(R)){const de=re.getMultiplier(R);de.gt(1)&&(O=O.mul(de))}return O},Y=(R,ie=!1)=>A(R,ie),U=(R,ie=!1)=>{const O=Y(R,ie);return O.lt(1e3)?`${O.toFixed(2)}x`:Z(O,2)+"x"},T=(R,ie=!1)=>{const O=[],H=L(ie);for(const re of H)if(re.appliesTo(R)){const de=re.getMultiplier(R);de.gt(1)&&O.push({name:re.name,value:de,formatted:Z(de,2)+"x",id:re.id})}return O},G=()=>s.totalSpecialModifiers.epBoost||n(1),D=()=>{const R=t.evolutionUpgrades;let ie=n(1);return R.forEach(O=>{O.level.eq(0)||O.isCombo&&(!O.effects||O.effects.length===0||O.effects.forEach(H=>{H.target==="ep"&&(ie=ie.mul(H.multiplier(O.level)))}))}),ie},P=()=>{let R=n(1);return a.achievementList.filter(O=>O.completed&&O.modifiers&&O.modifiers.length>0).forEach(O=>{O.modifiers&&O.modifiers.forEach(H=>{H.target==="ep"&&(R=R.mul(H.multiplier))})}),R};return{getProductionMultiplier:Y,getFormattedMultiplier:U,getMultiplierBreakdown:T,getItemEpBoost:G,getUpgradesEpBoost:D,getAchievementEpBoost:P,getEPBoostMultiplier:()=>{let R=G();return R=R.mul(D()),R=R.mul(P()),R=R.mul(h()),R},getQueenChamberEPBoost:()=>{var R;try{const ie=De(),O=et(),H=Ue(),re=ie.getGenerator("queenChamber");if(!re||re.manualPurchases.eq(0))return n(1);const de=O.getUpgrade("queenChamberEvolution");if(!de||de.level.eq(0))return n(1);const Ae=H.evolutionCount;if(Ae.eq(0))return n(1);const V=(((R=de.effect)==null?void 0:R.call(de,de.level))||n(0)).mul(re.manualPurchases).mul(Ae);return n(1).add(V)}catch(ie){return console.error("Error calculating Queen Chamber EP boost:",ie),n(1)}},getCostMultipliers:R=>{let ie=n(1);return t.evolutionUpgrades.forEach(H=>{if(!H.level.eq(0))if(H.isCombo)H.isCombo&&H.effects&&H.effects.forEach(re=>{const de=re.category==="cost"||re.category===void 0&&re.multiplier(H.level).lt(1);(re.target===R||re.target==="global")&&de&&(ie=ie.mul(re.multiplier(H.level)))});else{if(H.category!=="cost")return;H.appliesTo&&H.appliesTo.includes(R)&&(ie=ie.mul(t.getUpgradeMultiplier(H.id)))}}),ie},getAchievementMultipliers:p,getFoodProductionMultiplier:w,getPheromoneGainMultiplier:v,getPheromoneShopEpMultiplier:h,getPheromoneShopGlobalMultiplier:k,getPheromoneShopGeneratorMultiplier:x,getLevelRequirementMultipliers:d,loadState:R=>{},getState:()=>({foodMultiplier:w().toString(),pheromoneMultiplier:v().toString(),epMultiplier:h().toString()})}}),et=Ye("generatorUpgrade",()=>{const e=N({worker:n(1),nursery:n(1),queenChamber:n(1),colony:n(1),megacolony:n(1),hivemind:n(1),antopolis:n(1)}),t=N({worker:n(0),nursery:n(0),queenChamber:n(0),colony:n(0),megacolony:n(0),hivemind:n(0),antopolis:n(0)}),r=N({worker:n(0),nursery:n(0),queenChamber:n(0),colony:n(0),megacolony:n(0),hivemind:n(0),antopolis:n(0)}),s=(D,P)=>{let $,ee;switch(D){case"worker":$=n(5),ee=1.5;break;case"nursery":return $=n(1e3),ee=1.1,n($).mul(n(2).pow(n(P).pow(2).div(2)));case"queenChamber":case"hivemind":case"antopolis":$=n(10),ee=1.3;break;case"colony":$=n(5),ee=1.2;break;case"megacolony":return $=n(1e3),ee=1.1,n($).mul(n(2).pow(n(P).pow(2).div(1.2)));default:$=n(100),ee=1.5}const W=$.mul(P.pow(ee));try{const z=yt().getLevelRequirementMultipliers(D);return W.mul(z)}catch(ae){return console.error("Error applying level requirement multiplier:",ae),W}},a=N(rp),i=D=>a.value.filter(P=>P.generatorId===D),l=D=>a.value.find(P=>P.id===D),u=D=>{var $;const P=l(D);return P?(($=P==null?void 0:P.effect)==null?void 0:$.call(P,P.level))??n(1):n(1)},c=D=>{const P=a.value.filter(ee=>ee.generatorId===D),$={};return P.forEach(ee=>{var W;$[ee.id]=((W=ee.effect)==null?void 0:W.call(ee,ee.level))??n(1)}),$},d=(D,P)=>{if(e.value[D].eq(0))return;r.value[D]=r.value[D].add(P);const $=e.value[D],ee=s(D,$);r.value[D].gte(ee)&&(e.value[D]=e.value[D].add(1),r.value[D]=r.value[D].sub(ee),t.value[D]=t.value[D].add(1))},m=D=>{d("worker",n(D))},g=D=>{d("nursery",D)},f=D=>{d("queenChamber",n(D))},p=D=>{d("colony",n(D))},h=D=>{d("megacolony",D)},x=D=>{d("hivemind",n(D))},k=D=>{d("antopolis",n(D))},v=D=>{var $;const P=l(D);return!P||P.maxLevel!==null&&P.level.gte(P.maxLevel)||t.value[P.generatorId].lt(P.cost)?!1:(t.value[P.generatorId]=t.value[P.generatorId].sub(P.cost),P.level=P.level.add(1),p(1),($=P.apply)==null||$.call(P),!0)},w=()=>({generatorLevels:Object.entries(e.value).reduce((D,[P,$])=>(S(P)&&(D[P]=$.toString()),D),{}),generatorPoints:Object.entries(t.value).reduce((D,[P,$])=>(S(P)&&(D[P]=$.toString()),D),{}),levelProgress:Object.entries(r.value).reduce((D,[P,$])=>(S(P)&&(D[P]=$.toString()),D),{}),upgrades:a.value.map(D=>({id:D.id,level:D.level.toString()}))}),S=D=>["worker","nursery","queenChamber","colony","megacolony","hivemind","antopolis"].includes(D);return{generatorLevels:e,generatorPoints:t,levelProgress:r,generatorUpgrades:a,getUpgradesForGenerator:i,getUpgrade:l,getUpgradeMultiplier:u,getMultipliersForGenerator:c,updateWorkerProgress:m,updateNurseryProgress:g,updateQueenChamberProgress:f,updateColonyProgress:p,updateMegacolonyProgress:h,updateHivemindProgress:x,updateAntopolisProgress:k,purchaseUpgrade:v,resetProgress:()=>{const D=Object.keys(e.value).filter(S);D.forEach(P=>{e.value[P]=n(1)}),D.forEach(P=>{t.value[P]=n(0)}),D.forEach(P=>{r.value[P]=n(0)}),a.value.forEach(P=>{P.level=n(0)})},formatLevel:D=>Z(e.value[D],0),formatPoints:D=>Z(t.value[D],0),formatProgressPercentage:D=>{const P=e.value[D],$=s(D,P),W=r.value[D].div($).mul(100).toNumber();return Math.min(100,Math.round(W))},formatNextLevelRequirement:D=>{const P=e.value[D],$=s(D,P);return Z($,0)},formatLevelRequirementReduction:D=>{try{const $=yt().getLevelRequirementMultipliers(D);if($.gte(1))return"0%";const ee=n(1).sub($).mul(100);return`${Z(ee,1)}%`}catch(P){return console.error("Error formatting level requirement reduction:",P),"0%"}},getState:w,loadState:D=>{D.generatorLevels&&Object.entries(D.generatorLevels).forEach(([P,$])=>{S(P)&&(typeof $=="string"||typeof $=="number")&&(e.value[P]=n($))}),D.generatorPoints&&Object.entries(D.generatorPoints).forEach(([P,$])=>{S(P)&&(typeof $=="string"||typeof $=="number")&&(t.value[P]=n($))}),D.levelProgress&&Object.entries(D.levelProgress).forEach(([P,$])=>{S(P)&&(typeof $=="string"||typeof $=="number")&&(r.value[P]=n($))}),D.upgrades&&Array.isArray(D.upgrades)&&D.upgrades.forEach(P=>{const $=l(P.id);$&&P.level&&(typeof P.level=="string"||typeof P.level=="number")&&($.level=n(P.level))})}}});function In(){const e=Ct(),t=a=>{const i=e.achievementList.filter(u=>u.completed&&u.modifiers&&u.modifiers.length>0),l=[];return i.forEach(u=>{u.modifiers&&u.modifiers.forEach(c=>{(c.target===a||a!=="ep"&&c.target==="global")&&l.push({...c,achievementName:u.name,achievementId:u.id})})}),l},r=a=>{const i=t(a);return i.length===0?n(1):i.reduce((l,u)=>l.mul(u.multiplier),n(1))};return{getModifiersByTarget:t,getTotalMultiplier:r,getModifierSummary:a=>{const i=t(a);if(i.length===0)return"";const u=r(a).sub(1).mul(100);let c=a;return a==="global"?c="All generators":a==="ep"?c="Evolution points":a==="worker"?c="Workers":a==="nursery"?c="Nurseries":a==="queenChamber"?c="Queen chambers":a==="colony"?c="Colonies":a==="megacolony"?c="Megacolonies":a==="hivemind"?c="Hiveminds":a==="antopolis"&&(c="Antopolis"),`${c} +${rt(u)} from ${i.length} achievement${i.length>1?"s":""}`}}}function xs(){const e=yt(),t=pt(),{getTotalMultiplier:r}=In(),s=g=>{const f=e.getMultiplierBreakdown(g,!0),p=l(g),h=a(g),x=new Map;f.forEach(v=>{!v.name.includes("Bonus")&&!v.name.includes("Equipment")&&x.set(v.name,v)}),p.forEach(v=>{x.set(v.name,v)}),h.forEach(v=>{x.set(v.name,v)});const k=i(g);return k.gt(1)&&x.set("Achievement Bonuses",{name:"Achievement Bonuses",value:k,formatted:Z(k,2)+"x",id:"achievement_combined"}),Array.from(x.values()).sort((v,w)=>w.value.cmp(v.value))},a=g=>{const f=[],p=e.getPheromoneShopGeneratorMultiplier(g);p.gt(1)&&f.push({name:"Pheromone Shop Generator Bonus",value:p,formatted:Z(p,2)+"x",id:"pheromone_shop_generator"});const h=e.getPheromoneShopGlobalMultiplier();return h.gt(1)&&f.push({name:"Pheromone Shop Global Bonus",value:h,formatted:Z(h,2)+"x",id:"pheromone_shop_global"}),f},i=g=>{const f=r("global"),p=r(g);return f.mul(p)},l=g=>{var p;const f=[];return t.equipmentSlots.forEach(h=>{var x,k,v;if(h.item&&!h.locked){const w=t.getItem(h.item);if(w){if((k=(x=w.specialModifiers)==null?void 0:x.global)!=null&&k.gt(1)){let S=w.specialModifiers.global;if(h.mergeLevel&&h.mergeLevel>0){const M=se.fromNumber(Math.pow(1.15,h.mergeLevel));S=S.mul(M),f.push({name:`${w.name} +${h.mergeLevel} Global Bonus`,value:S,formatted:Z(S,2)+"x",id:`equipment_${w.id}_global_merged`})}else f.push({name:`${w.name} Global Bonus`,value:S,formatted:Z(S,2)+"x",id:`equipment_${w.id}_global`})}if(w.productionModifiers&&((v=w.productionModifiers[g])!=null&&v.gt(1))){let S=w.productionModifiers[g];if(h.mergeLevel&&h.mergeLevel>0){const M=se.fromNumber(Math.pow(1.15,h.mergeLevel));S=S.mul(M),f.push({name:`${w.name} +${h.mergeLevel} Bonus`,value:S,formatted:Z(S,2)+"x",id:`equipment_${w.id}_${g}_merged`})}else f.push({name:`${w.name} Bonus`,value:S,formatted:Z(S,2)+"x",id:`equipment_${w.id}_${g}`})}}}}),(p=t.totalSpecialModifiers.global)!=null&&p.gt(1)&&f.push({name:"Global Production Bonus (All Equipment)",value:t.totalSpecialModifiers.global,formatted:Z(t.totalSpecialModifiers.global,2)+"x",id:"equipment_global_total"}),f},u=g=>{const f=s(g);let p=n(1);return f.forEach(h=>{p=p.mul(h.value)}),p};return{getEnhancedMultiplierBreakdown:s,getTotalMultiplier:u,getFormattedTotalMultiplier:g=>{const f=u(g);return f.lt(1e3)?`${f.toFixed(2)}x`:Z(f,2)+"x"},getAchievementMultiplier:i,getAchievementMultiplierBreakdown:g=>{const{getModifiersByTarget:f}=In(),p=f("global"),h=f(g),x=[];return p.forEach(k=>{const v=k;x.push({name:`${v.achievementName||"Achievement"} (Global)`,value:k.multiplier,formatted:Z(k.multiplier,2)+"x",id:`achievement_${v.achievementId||"unknown"}_global`})}),h.forEach(k=>{const v=k;x.push({name:v.achievementName||"Achievement",value:k.multiplier,formatted:Z(k.multiplier,2)+"x",id:`achievement_${v.achievementId||"unknown"}_${g}`})}),x.sort((k,v)=>v.value.cmp(k.value))},getPheromoneShopMultiplierBreakdown:()=>{const g=[],f=e.getPheromoneShopEpMultiplier();f.gt(1)&&g.push({name:"Pheromone Shop EP Bonus",value:f,formatted:Z(f,2)+"x",id:"pheromone_shop_ep"});const p=e.getFoodProductionMultiplier();p.gt(1)&&g.push({name:"Pheromone Shop Food Production Bonus",value:p,formatted:Z(p,2)+"x",id:"pheromone_shop_food"});const h=e.getPheromoneGainMultiplier();h.gt(1)&&g.push({name:"Pheromone Shop Essence Gain Bonus",value:h,formatted:Z(h,2)+"x",id:"pheromone_shop_pheromone"});const x=e.getPheromoneShopGlobalMultiplier();return x.gt(1)&&g.push({name:"Pheromone Shop Global Production Bonus",value:x,formatted:Z(x,2)+"x",id:"pheromone_shop_global"}),g.sort((k,v)=>v.value.cmp(k.value))},getPheromoneShopModifiersForGenerator:a}}const De=Ye("generator",()=>{const e=N([{id:"worker",name:"Worker Ant",description:"Gathers food and materials for the colony",tier:1,count:n(0),manualPurchases:n(0),selfReplicated:n(0),baseCost:n(10),costGrowth:n(1.1),initialBaseProduction:n(10),unlocked:!0,purchasable:!1,icon:"i-heroicons-bug-ant",autoPurchaseEnabled:!0},{id:"nursery",name:"Nursery",description:"Produces worker ants",tier:2,count:n(0),manualPurchases:n(0),selfReplicated:n(0),baseCost:n(100),costGrowth:n(1.1),initialBaseProduction:n(1),unlocked:!1,purchasable:!1,icon:"i-heroicons-home-modern",autoPurchaseEnabled:!0},{id:"queenChamber",name:"Queen Chamber",description:"Nurtures new queens",tier:3,count:n(0),manualPurchases:n(0),selfReplicated:n(0),baseCost:n(1e3),costGrowth:n(1.1),initialBaseProduction:n(1),unlocked:!1,purchasable:!1,icon:"i-heroicons-crown",autoPurchaseEnabled:!0},{id:"colony",name:"Colony",description:"Expands your ant empire",tier:4,count:n(0),manualPurchases:n(0),selfReplicated:n(0),baseCost:n(1e4),costGrowth:n(1.1),initialBaseProduction:n(1),unlocked:!1,purchasable:!1,icon:"i-heroicons-building-storefront",autoPurchaseEnabled:!0},{id:"megacolony",name:"Mega Colony",description:"A massive colony complex with advanced infrastructure",tier:5,count:n(0),manualPurchases:n(0),selfReplicated:n(0),baseCost:n(1e5),costGrowth:n(1.2),initialBaseProduction:n(1),unlocked:!1,purchasable:!1,icon:"i-heroicons-building-office-2",autoPurchaseEnabled:!0},{id:"hivemind",name:"Hive Mind",description:"A collective consciousness that coordinates all colonies",tier:6,count:n(0),manualPurchases:n(0),selfReplicated:n(0),baseCost:n(1e6),costGrowth:n(1.2),initialBaseProduction:n(1),unlocked:!1,purchasable:!1,icon:"i-heroicons-cpu-chip",autoPurchaseEnabled:!0},{id:"antopolis",name:"Antopolis",description:"An entire city-state of ants with advanced civilization",tier:7,count:n(0),manualPurchases:n(0),selfReplicated:n(0),baseCost:n(1e7),costGrowth:n(1.2),initialBaseProduction:n(1),unlocked:!1,purchasable:!1,icon:"i-heroicons-building-library",autoPurchaseEnabled:!0}]),t=N(n(10)),r=F(()=>Y("worker")),s=W=>e.value.find(ae=>ae.id===W),a=F(()=>e.value.filter(W=>W.unlocked)),i=F(()=>{const ae=Math.max(...e.value.filter(R=>R.unlocked&&R.tier<=4).map(R=>R.tier))+1,z=e.value.find(R=>R.tier===ae);if(!(z&&z.tier>=5))return z}),l=W=>{const ae=s(W);if(!ae)return n(0);let z=n(1);try{const O=et();if(W==="worker")z=O.getUpgradeMultiplier("workerTraining");else if(W==="nursery")z=O.getUpgradeMultiplier("nurseryExpansion");else if(W==="queenChamber")z=O.getUpgradeMultiplier("queenChamberLongevity");else if(W==="colony")z=O.getUpgradeMultiplier("colonyExpansion");else if(W==="megacolony"||W==="hivemind"||W==="antopolis")try{z=Ue().getUpgradeMultiplier("strongerSoldiers")}catch(H){console.error("Error applying advanced generator cost reduction:",H)}}catch(O){console.error("Error applying cost reduction:",O)}const R=Pu(ae.tier,ae.manualPurchases),ie=yt();return z=z.mul(ie.getCostMultipliers(W)),R.mul(z)},u=(W,ae=1)=>{const z=s(W);if(!z||!z.unlocked&&!z.purchasable)return!1;if(W==="hivemind"){const ie=s("megacolony");if(!ie||ie.count.eq(0))return!1}else if(W==="antopolis"){const ie=s("hivemind");if(!ie||ie.count.eq(0))return!1}const R=l(W);if(t.value.gte(R)){t.value=t.value.sub(R),z.count=z.count.add(ae),z.manualPurchases=z.manualPurchases.add(ae),d(z.tier);try{et().updateQueenChamberProgress(ae)}catch(O){console.error("Error updating generator progress:",O)}Gt().checkProgression();try{Ct().updateGeneratorCounts(W,z.count)}catch(O){console.error("Error updating achievements:",O)}return!0}return!1},c=(W,ae)=>{const z=s(W);if(z){z.count=z.count.add(ae),z.count.gte(10)&&d(z.tier);try{Ct().updateGeneratorCounts(W,z.count)}catch(R){console.error("Error updating achievements:",R)}}},d=W=>{const ae=e.value.find(R=>R.tier===W),z=e.value.find(R=>R.tier===W+1);ae&&z&&!z.unlocked&&ae.count.gte(10)&&(z.unlocked=!0)},m=W=>{const ae=s(W);if(!ae)return n(0);let z=ae.initialBaseProduction;try{const R=et(),ie=`${W}Base`,O=R.getUpgrade(ie);O&&(W==="worker"?z=z.add(n(10).mul(O.level)):z=z.add(O.level))}catch(R){console.error("Error calculating base production:",R)}return z},g=W=>m(W),f=(W,ae,z)=>{try{const R=`${W}Reproduction`,ie=z.getUpgradeMultiplier(R);if(ie.gt(0)&&ae>0&&Math.random()<ie.toNumber()){const H={nursery:"worker",queenChamber:"nursery",colony:"queenChamber",megacolony:"colony",hivemind:"megacolony",antopolis:"hivemind"},re={worker:"nursery",nursery:"queenChamber",queenChamber:"colony",colony:"megacolony",megacolony:"hivemind",hivemind:"antopolis"};if(W==="worker"){const ue=re[W],V=s(ue);if(V&&V.count.gt(0)){const j=Y(ue).mul(.01).floor(),J=j.gt(0)?j:n(1),le=s(W);return le&&(le.selfReplicated=le.selfReplicated.add(J)),J}const q=s(W);return q&&(q.selfReplicated=q.selfReplicated.add(1)),n(1)}const de=re[W];if(de){const ue=s(de);if(ue&&ue.count.gt(0)){const q=Y(de).mul(.01).floor(),Q=q.gt(0)?q:n(1),j=s(W);return j&&(j.selfReplicated=j.selfReplicated.add(Q)),Q}}const Ae=s(W);return Ae&&(Ae.selfReplicated=Ae.selfReplicated.add(1)),n(1)}}catch(R){console.error(`Error processing self-reproduction for ${W}:`,R)}return n(0)},p=(W,ae,z,R,ie)=>{if(ie.lte(0)||z<=0)return;const O={worker:"nursery",nursery:"queenChamber",queenChamber:"colony",colony:"megacolony",megacolony:"hivemind",hivemind:"antopolis"},H=Math.floor(R*ie.toNumber());if(H<=0)return;const re=O[W];if(!re){const Q=n(H);ae.count=ae.count.add(Q),ae.selfReplicated=ae.selfReplicated.add(Q);return}const de=s(re);if(!de||de.count.lte(0)){const Q=n(H);ae.count=ae.count.add(Q),ae.selfReplicated=ae.selfReplicated.add(Q);return}const ue=Y(re).mul(.01).floor(),q=(ue.gt(0)?ue:n(1)).mul(H);ae.count=ae.count.add(q),ae.selfReplicated=ae.selfReplicated.add(q)},h=W=>{try{const ae=Ue(),z={worker:"autoWorker",nursery:"autoNursery",queenChamber:"autoQueenChamber",colony:"autoColony",megacolony:"autoMegacolony",hivemind:"autoHivemind",antopolis:"autoAntopolis"},R=(O,H)=>{if(!O.unlocked||!O.autoPurchaseEnabled)return;const re=z[O.id];if(!re)return;const de=ae.getUpgradeMultiplier(re);if(de.gt(0))if(H){const Ae=Math.min(100,W*de.toNumber());for(let ue=0;ue<Ae;ue++)u(O.id,1)}else for(let Ae=0;Ae<de.toNumber();Ae++)u(O.id,1)},ie=W>1;for(const O of[...e.value].reverse())R(O,ie)}catch(ae){console.error("Error applying auto-purchasing:",ae)}},x=W=>{try{const ae=Io();if(ae.isProcessingRush)return;ae.trackTick()}catch(ae){console.error("Error tracking colony rush tick:",ae)}},k=(W,ae,z,R)=>{if(!W.unlocked||!W.count.gt(0))return;let ie=Y(W.id);if(z>1&&(ie=ie.mul(z)),c(ae.id,ie),z<=1){const O=f(W.id,W.count.toNumber(),R);O.gt(0)&&(W.count=W.count.add(O))}else{const O=`${W.id}Reproduction`,H=R.getUpgradeMultiplier(O);p(W.id,W,W.count.toNumber(),z,H)}},v=(W,ae,z,R,ie)=>{if(!W.unlocked||!W.count.gt(0))return;let O=r.value;ae>1&&(O=O.mul(ae)),t.value=t.value.add(O);try{ht().trackFoodGain(O)}catch(H){console.error("Error tracking food gain for quests:",H)}try{R.updateNurseryProgress(O)}catch(H){console.error("Error updating nursery progress:",H)}if(ae<=1){const H=f("worker",W.count.toNumber(),z);H.gt(0)&&(W.count=W.count.add(H))}else{const re=z.getUpgradeMultiplier("workerReproduction");p("worker",W,W.count.toNumber(),ae,re)}ie&&ie.updateFoodStats(t.value,O)},w=(W=1)=>{const ae=Ue(),z=et();yt();let R=null;try{R=Ct()}catch(O){console.error("Achievement store not available:",O)}h(W),x();for(let O=e.value.length-1;O>0;O--){const H=e.value[O],re=e.value[O-1];d(H.tier),k(H,re,W,ae)}const ie=e.value[0];v(ie,W,ae,z,R)},S=W=>{const ae=s(W);return ae?Z(ae.count,0):"0"},M=W=>{const ae=s(W);return ae?Z(ae.manualPurchases,0):"0"},L=()=>Z(t.value,2),A=W=>{try{const{getTotalMultiplier:ae}=xs();return ae(W)}catch(ae){return console.error("Error calculating production multiplier:",ae),n(1)}},Y=W=>{const ae=s(W);if(!ae)return n(0);const z=g(W),R=A(W);return z.mul(R).mul(ae.count.add(ae.selfReplicated))},U=W=>{try{const{getFormattedTotalMultiplier:ae}=xs();return ae(W)}catch(ae){console.error("Error formatting production multiplier:",ae);const z=A(W);return`${Z(z,2)}x`}},T=W=>{const ae=s(W);return ae?(ae.autoPurchaseEnabled=!ae.autoPurchaseEnabled,!0):!1},G=W=>{const ae=s(W);return ae?Z(ae.selfReplicated,0):"0"},D=W=>{const ae=s(W);return ae?ae.selfReplicated:n(0)},P=()=>({food:t.value.toString(),generators:e.value.map(W=>({id:W.id,count:W.count.toString(),manualPurchases:W.manualPurchases.toString(),selfReplicated:W.selfReplicated.toString(),unlocked:W.unlocked,purchasable:W.purchasable,autoPurchaseEnabled:W.autoPurchaseEnabled}))}),$=W=>{W.food&&(t.value=n(W.food)),W.generators&&Array.isArray(W.generators)&&W.generators.forEach(ae=>{const z=s(ae.id);z&&(z.count=n(ae.count),ae.manualPurchases?z.manualPurchases=n(ae.manualPurchases):z.manualPurchases=n(ae.count),ae.selfReplicated?z.selfReplicated=n(ae.selfReplicated):z.selfReplicated=n(0),z.unlocked=ae.unlocked,ae.purchasable!==void 0?z.purchasable=ae.purchasable:z.tier>=5&&ae.unlocked&&(z.purchasable=!0,z.unlocked=!1),ae.autoPurchaseEnabled!==void 0&&(z.autoPurchaseEnabled=ae.autoPurchaseEnabled))})},ee=F(()=>{let W=0;return Object.values(et().generatorPoints).forEach(ae=>{W+=ae.toNumber()}),W});return{generators:e,unlockedGenerators:a,nextUnlockableGenerator:i,food:t,foodPerSecond:r,totalPointsAvailable:ee,getGenerator:s,getGeneratorCost:l,buyGenerator:u,addGeneratorAuto:c,unlockNextTier:d,tick:w,formatGeneratorCount:S,formatManualPurchases:M,formatFood:L,getProductionMultiplier:A,formatProductionMultiplier:U,toggleAutoPurchase:T,getState:P,loadState:$,getBaseProduction:g,getActualProduction:Y,formatSelfReplicated:G,getSelfReplicatedCount:D}}),Pe=e=>{const t=(e.toNumber()-1)*100;return t>=1e3?`+${rt(t)}`:`+${t.toFixed(0)}%`},Hr=e=>{const t=(1-e.toNumber())*100;return t>=1e3?`-${rt(t)}`:`-${t.toFixed(0)}%`},xo=e=>`${Z(e,2)}x`,dn=e=>{if(e.eq(0))return"1/0";const t=e.pow(-1);return`1/${Z(t,0)}`},or=e=>`${Z(e,0)}`,$i=e=>`${Z(e,1)}s`,ur=e=>e.gt(0)?"Unlocked":"Locked",Up=()=>[{id:"foodProcessing",name:"Faster Food Processing",description:"Increases food production by 10% per level",baseCost:n(1),cost:n(1),costMultiplier:e=>n(e.cost).mul(n(1.05).pow(e.level)),level:n(0),maxLevel:null,effect:e=>n(1).add(e.mul(.1)),formatEffect:Pe,icon:"i-heroicons-cake",isUnlocked:()=>!0,category:"production",appliesTo:["worker"]},{id:"doubleFood",name:"Double Food",description:"Doubles the amount of food produced per level",baseCost:n(100),cost:n(100),level:n(0),maxLevel:n(3),costMultiplier:e=>n(e.cost).mul(n(3).pow(e.level)),effect:e=>n(1).add(e.mul(1)),formatEffect:Pe,icon:"i-heroicons-cake",isUnlocked:()=>!0,category:"production",appliesTo:["worker"]},{id:"foodProcessingAdvanced",name:"Advanced Food Processing",description:"Increases food production by 20% per level",baseCost:n(1e6),cost:n(1e6),costMultiplier:e=>n(e.cost).mul(n(1.4).pow(e.level)),level:n(0),maxLevel:null,effect:e=>n(1).add(e.mul(.2)),formatEffect:Pe,icon:"i-heroicons-cake",isUnlocked:()=>!0,category:"production",appliesTo:["worker"]},{id:"efficientQueens",name:"Efficient Queens",description:"Queens produce 15% more nurseries per level",baseCost:n(1e3),cost:n(1e3),costMultiplier:e=>n(e.cost).mul(n(1.15).pow(e.level)),level:n(0),maxLevel:null,effect:e=>n(1).add(e.mul(.15)),formatEffect:Pe,icon:"i-heroicons-bug-ant",isUnlocked:()=>!0,category:"production",appliesTo:["queenChamber"]},{id:"efficientQueensAdvanced",name:"Advanced Efficient Queens",description:"Queens produce 30% more nurseries per level",baseCost:n(1e6),cost:n(1e6),costMultiplier:e=>n(e.cost).mul(n(1.35).pow(e.level)),level:n(0),maxLevel:null,effect:e=>n(1).add(e.mul(.3)),formatEffect:Pe,icon:"i-heroicons-bug-ant",isUnlocked:()=>!0,category:"production",appliesTo:["queenChamber"]},{id:"strongerSoldiers",name:"Stronger Soldier Ants",description:"Increases overall colony efficiency by 5% per level",baseCost:n(5),cost:n(5),costMultiplier:e=>n(e.cost).mul(n(1.6).pow(e.level)),level:n(0),maxLevel:null,effect:e=>n(1).add(e.mul(.05)),formatEffect:Pe,icon:"i-heroicons-shield-check",isUnlocked:()=>!0,category:"production",appliesTo:["global"]},{id:"mutatedWorkers",name:"Mutated Worker Ants",description:"Worker ants produce 20% more food per level",baseCost:n(8),cost:n(8),costMultiplier:e=>n(e.cost).mul(n(1.7).pow(e.level)),level:n(0),maxLevel:n(15),effect:e=>n(1).add(e.mul(.2)),formatEffect:Pe,icon:"i-heroicons-sparkles",isUnlocked:()=>!0,category:"production",appliesTo:["worker"]},{id:"nurseryEfficiency",name:"Advanced Nursery Techniques",description:"Nurseries produce 25% more worker ants per level",baseCost:n(10),cost:n(10),costMultiplier:e=>n(e.cost).mul(n(1.35).pow(e.level)),level:n(0),maxLevel:null,effect:e=>n(1).add(e.mul(.25)),formatEffect:Pe,icon:"i-heroicons-beaker",isUnlocked:()=>!0,category:"production",appliesTo:["nursery"]},{id:"colonyExpansion",name:"Colony Expansion Tactics",description:"Colonies produce 30% more queen chambers per level",baseCost:n(2500),cost:n(2500),costMultiplier:e=>n(e.cost).mul(n(1.65).pow(e.level)),level:n(0),maxLevel:null,effect:e=>n(1).add(e.mul(.3)),formatEffect:Pe,icon:"i-heroicons-map",isUnlocked:()=>!0,category:"production",appliesTo:["colony"]},{id:"exponentialGrowth",name:"Exponential Growth",description:"All production increases by 2x per level",baseCost:n(1e3),cost:n(1e3),costMultiplier:e=>n(e.cost).mul(n(2).pow(n(e.level).mul(1.8))),level:n(0),maxLevel:n(16),effect:e=>n(2).pow(e),formatEffect:xo,icon:"i-heroicons-chart-bar",isUnlocked:()=>!0,category:"production",appliesTo:["global"]},{id:"compoundEvolution",name:"Compound Evolution",description:"All production increases by 2% per level, compounding with other upgrades",baseCost:n(50),cost:n(50),costMultiplier:e=>n(e.cost).mul(n(1.5).pow(e.level)),level:n(0),maxLevel:n(5),effect:e=>n(1).add(e.mul(.02)),formatEffect:Pe,icon:"i-heroicons-arrow-trending-up",isUnlocked:()=>!0,category:"production",appliesTo:["global"]},{id:"megacolonyEfficiency",name:"Mega Colony Optimization",description:"Mega Colonies produce 40% more colonies per level",baseCost:n(100),cost:n(100),costMultiplier:e=>n(e.cost).mul(n(2).pow(e.level)),level:n(0),maxLevel:n(10),effect:e=>n(1).add(e.mul(.4)),formatEffect:Pe,icon:"i-heroicons-building-office-2",isUnlocked:()=>!1,category:"production",appliesTo:["megacolony"]},{id:"hivemindEfficiency",name:"Hive Mind Optimization",description:"Hive Minds produce 50% more mega colonies per level",baseCost:n(500),cost:n(500),costMultiplier:e=>n(e.cost).mul(n(2.2).pow(e.level)),level:n(0),maxLevel:n(10),effect:e=>n(1).add(e.mul(.5)),formatEffect:Pe,icon:"i-heroicons-cpu-chip",isUnlocked:()=>!1,category:"production",appliesTo:["hivemind"]},{id:"antopolisEfficiency",name:"Antopolis Optimization",description:"Antopolis produces 60% more hive minds per level",baseCost:n(2500),cost:n(2500),costMultiplier:e=>n(e.cost).mul(n(2.5).pow(e.level)),level:n(0),maxLevel:n(10),effect:e=>n(1).add(e.mul(.6)),formatEffect:Pe,icon:"i-heroicons-building-library",isUnlocked:()=>!1,category:"production",appliesTo:["antopolis"]},{id:"exponentialPheromone",name:"Exponential Pheromone",description:"Pheromone production increases exponentially per level",baseCost:n(100),cost:n(100),costMultiplier:e=>n(e.cost).mul(n(1.2).pow(e.level)).pow(e.level),level:n(0),maxLevel:n(6),effect:e=>n(2).pow(e),formatEffect:Pe,icon:"i-heroicons-beaker",isUnlocked:()=>!1,category:"production",appliesTo:["pheromone"],effects:[{target:"pheromone",multiplier:e=>n(2).pow(e),formatEffect:Pe,isMultiplier:!0}],isCombo:!0},{id:"multiBoost",isCombo:!0,name:"Early Multi-Tier Enhancement",description:"Boosts worker ants by 5%, nurseries by 2.5%, and EP gain by 20% per level",baseCost:n(500),cost:n(500),costMultiplier:e=>n(e.cost).mul(n(2).pow(e.level)),level:n(0),maxLevel:n(50),effect:e=>n(1).add(e.mul(.05)),formatEffect:Pe,icon:"i-heroicons-bolt-solid",isUnlocked:()=>!0,category:"production",appliesTo:["global"],effects:[{target:"worker",multiplier:e=>n(1).add(e.mul(.05)),formatEffect:Pe,category:"production"},{target:"nursery",multiplier:e=>n(1).add(e.mul(.025)),formatEffect:Pe,category:"production"},{target:"ep",multiplier:e=>n(1).add(e.mul(.2)),formatEffect:Pe,category:"prestige"}]},{id:"midTierBoost",isCombo:!0,name:"Mid-Tier Synergy",description:"Boosts queen chambers by 8%, colonies by 5%, and pheromone production by 15% per level",baseCost:n(5e3),cost:n(5e3),costMultiplier:e=>n(e.cost).mul(n(2.2).pow(e.level)),level:n(0),maxLevel:n(40),effect:e=>n(1).add(e.mul(.08)),formatEffect:Pe,icon:"i-heroicons-cube-transparent",isUnlocked:()=>!0,category:"production",appliesTo:["global"],effects:[{target:"queenChamber",multiplier:e=>n(1).add(e.mul(.08)),formatEffect:Pe,category:"production"},{target:"colony",multiplier:e=>n(1).add(e.mul(.05)),formatEffect:Pe,category:"production"},{target:"pheromone",multiplier:e=>n(1).add(e.mul(.15)),formatEffect:Pe,category:"production",isMultiplier:!0}]},{id:"advancedTierBoost",isCombo:!0,name:"Advanced Tier Integration",description:"Boosts mega colonies by 10%, hive minds by 7%, and doubles EP gain per level",baseCost:n(5e4),cost:n(5e4),costMultiplier:e=>n(e.cost).mul(n(2.5).pow(e.level)),level:n(0),maxLevel:n(30),effect:e=>n(1).add(e.mul(.1)),formatEffect:Pe,icon:"i-heroicons-globe-alt",isUnlocked:()=>!1,category:"production",appliesTo:["global"],effects:[{target:"megacolony",multiplier:e=>n(1).add(e.mul(.1)),formatEffect:Pe,category:"production"},{target:"hivemind",multiplier:e=>n(1).add(e.mul(.07)),formatEffect:Pe,category:"production"},{target:"ep",multiplier:e=>n(1).add(e.mul(.2)),formatEffect:Pe,category:"prestige"}]},{id:"resourceSynergy",isCombo:!0,name:"Resource Synergy",description:"Boosts food production by 12%, pheromone production by 10% per level",baseCost:n(1e3),cost:n(1e3),costMultiplier:e=>n(e.cost).mul(n(1.8).pow(e.level)),level:n(0),maxLevel:n(25),effect:e=>n(1).add(e.mul(.12)),formatEffect:Pe,icon:"i-heroicons-archive-box",isUnlocked:()=>!0,category:"production",appliesTo:["global"],effects:[{target:"food",multiplier:e=>n(1).add(e.mul(.12)),formatEffect:Pe,category:"production"},{target:"pheromone",multiplier:e=>n(1).add(e.mul(.1)),formatEffect:Pe,category:"production"}]},{id:"grandSynergy",isCombo:!0,name:"Grand Colony Synergy",description:"Boosts all production by 5%, EP gain by 25%",baseCost:n(1e5),cost:n(1e5),costMultiplier:e=>n(e.cost).mul(n(3).pow(e.level)),level:n(0),maxLevel:n(20),effect:e=>n(1).add(e.mul(.05)),formatEffect:Pe,icon:"i-heroicons-fire",isUnlocked:()=>!1,category:"production",appliesTo:["global"],effects:[{target:"global",multiplier:e=>n(1).add(e.mul(.05)),formatEffect:Pe,category:"production"},{target:"ep",multiplier:e=>n(1).add(e.mul(.25)),formatEffect:Pe,category:"prestige"}]},{id:"reproductionNexus",isCombo:!0,name:"Reproduction Nexus",description:"Boosts queen reproduction by 15%, nursery efficiency by 10%, and reduces all ant costs by 5% per level",baseCost:n(7500),cost:n(7500),costMultiplier:e=>n(e.cost).mul(n(1.9).pow(e.level)),level:n(0),maxLevel:n(35),effect:e=>n(1).add(e.mul(.15)),formatEffect:Pe,icon:"i-heroicons-heart",isUnlocked:()=>!0,category:"reproduction",appliesTo:["global"],effects:[{target:"queenChamber",multiplier:e=>n(1).add(e.mul(.15)),formatEffect:Pe,category:"reproduction"},{target:"nursery",multiplier:e=>n(1).add(e.mul(.1)),formatEffect:Pe,category:"efficiency"}]},{id:"pheromoneSynergyMultiplier",name:"Pheromone Synergy Multiplier",description:"Boosts pheromone production by 10% per level (multiplier) and adds 25% to the amount of pheromone produced per level",baseCost:n(5e6),cost:n(5e6),costMultiplier:e=>n(e.cost).mul(n(2).pow(e.level).mul(n(1.5))),level:n(0),maxLevel:n(10),effect:e=>n(1).add(e.mul(.1)),formatEffect:Pe,icon:"i-heroicons-beaker",isUnlocked:()=>!0,category:"production",appliesTo:["pheromone"],isCombo:!0,effects:[{target:"pheromone",multiplier:e=>n(1).add(e.mul(.1)),formatEffect:Pe,isMultiplier:!0},{target:"pheromone",multiplier:e=>n(1).add(e.mul(.25)),formatEffect:Pe}]}],Np=()=>[{id:"workerCostDiscount",name:"Worker Cost Discount",description:"Divides the cost of workers by 1500 per level",baseCost:n(100),cost:n(100),costMultiplier:e=>n(e.cost).mul(n(1.4).pow(e.level)).pow(n(e.level.gt(0)?2:1)),level:n(0),maxLevel:n(25),effect:e=>n(1).div(n(1500).mul(e)),formatEffect:dn,icon:"i-heroicons-user-group",isUnlocked:()=>!0,category:"cost",appliesTo:["worker"]},{id:"nurseryCostDiscount",name:"Nursery Cost Discount",description:"Divides the cost of nurseries by 8200 per level",baseCost:n(1e3),cost:n(1e3),costMultiplier:e=>n(e.cost).mul(n(1.4).pow(e.level)).pow(n(e.level.gt(0)?2:1)),level:n(0),maxLevel:n(25),effect:e=>n(1).div(n(8200).mul(e)),formatEffect:dn,icon:"i-heroicons-user-group",isUnlocked:()=>!0,category:"cost",appliesTo:["nursery"]},{id:"queenChamberCostDiscount",name:"Queen Chamber Cost Discount",description:"Divides the cost of queen chambers by 1e6 per level",baseCost:n(1e4),cost:n(1e4),costMultiplier:e=>n(e.cost).mul(n(1.4).pow(e.level)).pow(n(e.level.gt(0)?2:1)),level:n(0),maxLevel:n(25),effect:e=>n(1).div(n(1e6).mul(e)),formatEffect:dn,icon:"i-heroicons-user-group",isUnlocked:()=>!0,category:"cost",appliesTo:["queenChamber"]}],Bp=()=>[{id:"unlockMegacolony",name:"Mega Colony",description:"Unlocks the Mega Colony generator",baseCost:n(1e3),cost:n(1e3),level:n(0),maxLevel:n(1),effect:e=>n(e),formatEffect:ur,icon:"i-heroicons-building-office-2",isUnlocked:()=>!0,category:"research",appliesTo:["global"]},{id:"unlockHivemind",name:"Hive Mind",description:"Unlocks the Hive Mind generator",baseCost:n(1e9),cost:n(1e9),level:n(0),maxLevel:n(1),effect:e=>n(e),formatEffect:ur,icon:"i-heroicons-cpu-chip",isUnlocked:()=>!1,category:"research",appliesTo:["global"]},{id:"unlockAntopolis",name:"Antopolis",description:"Unlocks the Antopolis generator",baseCost:n(1e12),cost:n(1e12),level:n(0),maxLevel:n(1),effect:e=>n(e),formatEffect:ur,icon:"i-heroicons-building-library",isUnlocked:()=>!1,category:"research",appliesTo:["global"]},{id:"unlockAdventure",name:"Adventure Mode",description:"Unlock Adventure mode and the Inventory system",baseCost:n(50),cost:n(50),level:n(0),maxLevel:n(1),effect:e=>n(e),formatEffect:ur,icon:"i-heroicons-bolt",isUnlocked:()=>!0,category:"research",appliesTo:["global"]}],Op=()=>[{id:"cycleTimeReduction",name:"Time Manipulation",description:"Decreases cycle time by 0.2 seconds per level",baseCost:n(50),cost:n(50),costMultiplier:e=>n(e.cost).mul(n(1.5).pow(e.level)),level:n(0),maxLevel:n(20),effect:e=>n(.2).mul(e),formatEffect:$i,icon:"i-heroicons-clock-solid",isUnlocked:()=>!0,category:"efficiency",appliesTo:["global"]},{id:"cycleTimeReductionAdvanced",name:"Advanced Time Manipulation",description:"Decreases cycle time by 0.4 seconds per level",baseCost:n(1e9),cost:n(1e9),costMultiplier:e=>n(e.cost).mul(n(1.5).pow(e.level)),level:n(0),maxLevel:n(10),effect:e=>n(.4).mul(e),formatEffect:$i,icon:"i-heroicons-clock-solid",isUnlocked:()=>!1,category:"efficiency",appliesTo:["global"]},{id:"cycleFoodReduction",name:"Cycle Food Reduction",description:"Reduces the food required for each cycle by 5% per level (max 75%)",baseCost:n(50),cost:n(50),costMultiplier:e=>n(e.cost).mul(n(2).pow(e.level)),level:n(0),maxLevel:n(15),effect:e=>n(1).sub(e.mul(.05).min(.75)),formatEffect:Hr,icon:"i-heroicons-arrow-down-circle",isUnlocked:()=>!0,category:"efficiency",appliesTo:["global"]}],Dp=()=>[{id:"autoWorker",name:"Worker Automation",description:"Automatically purchases Worker Ants each tick. Each level increases purchases per tick.",baseCost:n(5),cost:n(5),costMultiplier:e=>n(e.cost).mul(n(1.3).pow(e.level)),level:n(0),maxLevel:n(25),effect:e=>e,formatEffect:or,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!0,category:"automation",appliesTo:["worker","global"]},{id:"autoNursery",name:"Nursery Automation",description:"Automatically purchases Nurseries each tick. Each level increases purchases per tick.",baseCost:n(15),cost:n(15),costMultiplier:e=>n(e.cost).mul(n(1.35).pow(e.level)),level:n(0),maxLevel:n(25),effect:e=>e,formatEffect:or,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!0,category:"automation",appliesTo:["nursery","global"]},{id:"autoQueenChamber",name:"Queen Chamber Automation",description:"Automatically purchases Queen Chambers each tick. Each level increases purchases per tick.",baseCost:n(500),cost:n(500),costMultiplier:e=>n(e.cost).mul(n(1.4).pow(e.level)),level:n(0),maxLevel:n(25),effect:e=>e,formatEffect:or,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!0,category:"automation",appliesTo:["queenChamber","global"]},{id:"autoColony",name:"Colony Automation",description:"Automatically purchases Colonies each tick. Each level increases purchases per tick.",baseCost:n(200),cost:n(200),costMultiplier:e=>n(e.cost).mul(n(1.45).pow(e.level)),level:n(0),maxLevel:n(25),effect:e=>e,formatEffect:or,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!0,category:"automation",appliesTo:["global"]},{id:"autoMegacolony",name:"Mega Colony Automation",description:"Automatically purchases Mega Colonies each tick. Each level increases purchases per tick.",baseCost:n(2e3),cost:n(2e3),costMultiplier:e=>n(e.cost).mul(n(1.5).pow(e.level)),level:n(0),maxLevel:n(25),effect:e=>e,formatEffect:or,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!1,category:"automation",appliesTo:["global"]},{id:"autoHivemind",name:"Hive Mind Automation",description:"Automatically purchases Hive Minds each tick. Each level increases purchases per tick.",baseCost:n(2e4),cost:n(2e4),costMultiplier:e=>n(e.cost).mul(n(1.55).pow(e.level)),level:n(0),maxLevel:n(25),effect:e=>e,formatEffect:or,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!1,category:"automation",appliesTo:["global"]},{id:"autoAntopolis",name:"Antopolis Automation",description:"Automatically purchases Antopolis each tick. Each level increases purchases per tick.",baseCost:n(2e5),cost:n(2e5),costMultiplier:e=>n(e.cost).mul(n(1.6).pow(e.level)),level:n(0),maxLevel:n(25),effect:e=>e,formatEffect:or,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!1,category:"automation",appliesTo:["global"]},{id:"bulkAutomation",name:"Bulk Automation",description:"Multiplies the effectiveness of all automation upgrades",baseCost:n(50),cost:n(50),costMultiplier:e=>n(e.cost).mul(n(2).pow(e.level)),level:n(0),maxLevel:n(10),effect:e=>n(1).add(e.mul(4)),formatEffect:xo,icon:"i-heroicons-bolt",isUnlocked:()=>!0,category:"automation",appliesTo:["global"]},{id:"unlockAutoMerge",name:"Auto Merge",description:"Unlock automatic merging of items in your inventory",baseCost:n(100),cost:n(100),level:n(0),maxLevel:n(1),effect:e=>n(e),formatEffect:ur,icon:"i-heroicons-arrow-path",isUnlocked:()=>!0,category:"automation",appliesTo:["global"]},{id:"unlockAutoSalvage",name:"Auto Salvage",description:"Automatically salvage filtered items for Pheromone Essence",baseCost:n(200),cost:n(200),level:n(0),maxLevel:n(1),effect:e=>n(e),formatEffect:ur,icon:"i-heroicons-beaker",isUnlocked:()=>!0,category:"automation",appliesTo:["global"]},{id:"unlockColonyRush",name:"Colony Rush",description:"Unlock the Colony Rush ability, allowing you to skip ahead 30 seconds of production time. Limited to 50 uses per day with a cooldown period between uses.",baseCost:n(75),cost:n(75),level:n(0),maxLevel:n(1),effect:e=>n(e),formatEffect:ur,icon:"i-heroicons-bolt",isUnlocked:()=>!0,category:"automation",appliesTo:["global"]},{id:"rushCooldownReduction",name:"Rush Efficiency",description:"Reduces the cooldown between Colony Rushes by 2 foraging trips per level.",baseCost:n(100),cost:n(100),costMultiplier:e=>n(e.cost).mul(n(1.5).pow(e.level)),level:n(0),maxLevel:n(20),effect:e=>e.mul(2),formatEffect:e=>`${e.toNumber()} foraging trips less cooldown`,icon:"i-heroicons-clock",isUnlocked:()=>!1,category:"automation",appliesTo:["global"]},{id:"rushDurationIncrease",name:"Extended Rush",description:"Increases Colony Rush duration by 10 seconds per level.",baseCost:n(150),cost:n(150),costMultiplier:e=>n(e.cost).mul(n(1.75).pow(e.level)),level:n(0),maxLevel:n(18),effect:e=>e.mul(10),formatEffect:e=>`+${e.toNumber()} seconds duration`,icon:"i-heroicons-hourglass",isUnlocked:()=>!1,category:"automation",appliesTo:["global"]},{id:"rushMaxPerDay",name:"Rush Capacity",description:"Increases maximum Colony Rushes per day by 2 per level.",baseCost:n(125),cost:n(125),costMultiplier:e=>n(e.cost).mul(n(1.6).pow(e.level)),level:n(0),maxLevel:n(25),effect:e=>e.mul(2),formatEffect:e=>`+${e.toNumber()} max rushes per day`,icon:"i-heroicons-battery-100",isUnlocked:()=>!1,category:"automation",appliesTo:["global"]}],Qp=()=>[{id:"generatorSynergy",name:"Generator Synergy",description:"Each generator type boosts all others by 2% per level",baseCost:n(100),cost:n(100),costMultiplier:e=>n(e.cost).mul(n(3).pow(e.level)),level:n(0),maxLevel:n(5),effect:e=>n(1).add(e.mul(.02)),formatEffect:Pe,icon:"i-heroicons-puzzle-piece",isUnlocked:()=>!0,category:"synergy",appliesTo:["global"]},{id:"evolutionSynergy",name:"Evolution Synergy",description:"Each evolution completed boosts production by 1% per level",baseCost:n(200),cost:n(200),costMultiplier:e=>n(e.cost).mul(n(3).pow(e.level)),level:n(0),maxLevel:n(5),effect:e=>n(1).add(e.mul(.01)),formatEffect:Pe,icon:"i-heroicons-arrow-path",isUnlocked:()=>!0,category:"synergy",appliesTo:["global"]}],jp=()=>[{id:"epBoost",name:"Evolution Mastery",description:"Increases Evolution Points gained per cycle by 10% per level",baseCost:n(25),cost:n(25),costMultiplier:e=>n(e.cost).mul(n(1.8).pow(e.level)),level:n(0),maxLevel:n(25),effect:e=>n(1).add(e.mul(.1)),formatEffect:Pe,icon:"i-heroicons-star",isUnlocked:()=>!0,category:"prestige",appliesTo:["ep"]},{id:"exponentialEvolution",name:"Exponential Evolution",description:"Increases Evolution Points gained per cycle exponentially",baseCost:n(1e4),cost:n(1e4),level:n(0),maxLevel:n(3),effect:e=>n(2).pow(e),formatEffect:xo,icon:"i-heroicons-star",isUnlocked:()=>!0,category:"prestige",appliesTo:["ep"]},{id:"doubleEvolution",name:"Double Evolution",description:"Doubles the amount of Evolution Points gained per cycle",baseCost:n(1e3),cost:n(1e3),costMultiplier:e=>n(e.cost).mul(n(10).pow(e.level)),level:n(0),maxLevel:n(2),effect:e=>e.gt(0)?n(2).pow(e):n(1),formatEffect:xo,icon:"i-heroicons-star",isUnlocked:()=>!0,category:"prestige",appliesTo:["ep"]},{id:"startingFood",name:"Starting Resources",description:"Start with 10x more food per level after evolution",baseCost:n(100),cost:n(100),costMultiplier:e=>n(e.cost).mul(n(1.5).pow(e.level)),level:n(0),maxLevel:n(10),effect:e=>n(10).pow(e),formatEffect:xo,icon:"i-heroicons-banknotes",isUnlocked:()=>!0,category:"prestige",appliesTo:["global"]},{id:"prestigeAcceleration",name:"Prestige Acceleration",description:"Start with more cycles completed after evolution",baseCost:n(100),cost:n(100),costMultiplier:e=>n(e.cost).mul(n(2).pow(e.level)),level:n(0),maxLevel:n(10),effect:e=>e,formatEffect:or,icon:"i-heroicons-rocket-launch",isUnlocked:()=>!0,category:"prestige",appliesTo:["global"]},{id:"inventorySlots",name:"Inventory Expansion",description:"Increase maximum inventory slots by 5. Each level adds more slots, but costs increase rapidly.",baseCost:n(100),cost:n(100),level:n(0),maxLevel:null,effect:e=>e.mul(5),formatEffect:e=>{const t=(e.toNumber()-5)*100;return t>=1e3?`+${rt(t)}`:`+${t.toFixed(0)} slots`},isUnlocked:()=>!0,costMultiplier:({cost:e,level:t})=>e.mul(n(1.5).pow(t)),icon:"i-heroicons-squares-2x2",category:"prestige",appliesTo:["global"]},{id:"equipmentSlots",name:"Equipment Mastery",description:"Unlock an additional equipment slot. Each level unlocks one more slot, up to a maximum of 10 slots.",baseCost:n(1e3),cost:n(1e3),level:n(1),maxLevel:n(10),effect:e=>e,formatEffect:e=>`${Z(e,0)} slots`,isUnlocked:()=>!0,icon:"i-heroicons-shield-check",category:"prestige",costMultiplier:e=>n(e.cost).mul(n(2).pow(n(2).pow(e.level))),appliesTo:["global"]},{id:"evolutionaryAdaptation",name:"Evolutionary Adaptation",description:"Each evolution cycle grants a stacking 1% bonus to food production",baseCost:n(1e3),cost:n(1e3),level:n(0),maxLevel:n(1),effect:e=>e,formatEffect:ur,icon:"i-heroicons-arrow-trending-up",isUnlocked:()=>!0,category:"prestige",appliesTo:["worker"]}],Hp=()=>[{id:"workerReproduction",name:"Worker Self-Replication",description:"Workers have a 1% chance per level to reproduce themselves each tick (max 5%)",baseCost:n(50),cost:n(50),costMultiplier:e=>n(e.cost).mul(n(3).pow(e.level)),level:n(0),maxLevel:n(5),effect:e=>e.mul(.01).min(.05),formatEffect:e=>`${(e.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>!0,category:"reproduction",appliesTo:["worker"]},{id:"nurseryReproduction",name:"Nursery Self-Replication",description:"Nurseries have a 1% chance per level to reproduce themselves each tick (max 5%)",baseCost:n(500),cost:n(500),costMultiplier:e=>n(e.cost).mul(n(3).pow(e.level)),level:n(0),maxLevel:n(5),effect:e=>e.mul(.01).min(.05),formatEffect:e=>`${(e.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>!0,category:"reproduction",appliesTo:["nursery"]},{id:"queenChamberReproduction",name:"Queen Chamber Self-Replication",description:"Queen Chambers have a 1% chance per level to reproduce themselves each tick (max 5%)",baseCost:n(2500),cost:n(2500),costMultiplier:e=>n(e.cost).mul(n(3).pow(e.level)),level:n(0),maxLevel:n(5),effect:e=>e.mul(.01).min(.05),formatEffect:e=>`${(e.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>!0,category:"reproduction",appliesTo:["queenChamber"]},{id:"colonyReproduction",name:"Colony Self-Replication",description:"Colonies have a 1% chance per level to reproduce themselves each tick (max 5%)",baseCost:n(25e3),cost:n(25e3),costMultiplier:e=>n(e.cost).mul(n(3).pow(e.level)),level:n(0),maxLevel:n(5),effect:e=>e.mul(.01).min(.05),formatEffect:e=>`${(e.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>!0,category:"reproduction",appliesTo:["colony"]},{id:"megacolonyReproduction",name:"Mega Colony Self-Replication",description:"Mega Colonies have a 1% chance per level to reproduce themselves each tick (max 5%)",baseCost:n(25e4),cost:n(25e4),costMultiplier:e=>n(e.cost).mul(n(3).pow(e.level)),level:n(0),maxLevel:n(5),effect:e=>e.mul(.01).min(.05),formatEffect:e=>`${(e.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>!1,category:"reproduction",appliesTo:["megacolony"]},{id:"hivemindReproduction",name:"Hive Mind Self-Replication",description:"Hive Minds have a 1% chance per level to reproduce themselves each tick (max 5%)",baseCost:n(25e7),cost:n(25e7),costMultiplier:e=>n(e.cost).mul(n(3).pow(e.level)),level:n(0),maxLevel:n(5),effect:e=>e.mul(.01).min(.05),formatEffect:e=>`${(e.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>!1,category:"reproduction",appliesTo:["hivemind"]},{id:"antopolisReproduction",name:"Antopolis Self-Replication",description:"Antopolis has a 1% chance per level to reproduce itself each tick (max 5%)",baseCost:n(25e8),cost:n(25e8),costMultiplier:e=>n(e.cost).mul(n(3).pow(e.level)),level:n(0),maxLevel:n(5),effect:e=>e.mul(.01).min(.05),formatEffect:e=>`${(e.toNumber()*100).toFixed(1)}%`,icon:"i-heroicons-arrow-path",isUnlocked:()=>!1,category:"reproduction",appliesTo:["antopolis"]}],Gp=()=>[{id:"levelUpReduction",name:"Swift Progression",description:"Reduces the requirements for all generator level-ups by 10% per level",baseCost:n(150),cost:n(150),costMultiplier:e=>n(e.cost).mul(n(1.8).pow(e.level)),level:n(0),maxLevel:n(5),effect:e=>n(1).sub(e.mul(.1)),formatEffect:Hr,icon:"i-heroicons-arrow-trending-up",isUnlocked:()=>!0,category:"level-requirement",appliesTo:["global"]},{id:"workerLevelUpReduction",name:"Worker Advancement",description:"Reduces worker level-up requirements by 15% per level",baseCost:n(75),cost:n(75),costMultiplier:e=>n(e.cost).mul(n(1.5).pow(e.level)),level:n(0),maxLevel:n(3),effect:e=>n(1).sub(e.mul(.15)),formatEffect:Hr,icon:"i-heroicons-user-solid",isUnlocked:()=>!0,category:"level-requirement",appliesTo:["worker"]},{id:"nurseryLevelUpReduction",name:"Nursery Advancement",description:"Reduces nursery level-up requirements by 20% per level",baseCost:n(300),cost:n(300),costMultiplier:e=>n(e.cost).mul(n(1.5).pow(e.level)),level:n(0),maxLevel:n(3),effect:e=>n(1).sub(e.mul(.2)),formatEffect:Hr,icon:"i-heroicons-home-solid",isUnlocked:()=>!0,category:"level-requirement",appliesTo:["nursery"]},{id:"queenChamberLevelUpReduction",name:"Queen Chamber Advancement",description:"Reduces queen chamber level-up requirements by 20% per level",baseCost:n(500),cost:n(500),costMultiplier:e=>n(e.cost).mul(n(1.6).pow(e.level)),level:n(0),maxLevel:n(3),effect:e=>n(1).sub(e.mul(.2)),formatEffect:Hr,icon:"i-heroicons-crown-solid",isUnlocked:()=>!0,category:"level-requirement",appliesTo:["queenChamber"]},{id:"advancedGeneratorLevelUpReduction",name:"Advanced Generator Advancement",description:"Reduces level-up requirements for high-tier generators by 25% per level",baseCost:n(2e3),cost:n(2e3),costMultiplier:e=>n(e.cost).mul(n(2).pow(e.level)),level:n(0),maxLevel:n(2),effect:e=>n(1).sub(e.mul(.25)),formatEffect:Hr,icon:"i-heroicons-building-office-2",isUnlocked:()=>!1,category:"level-requirement",appliesTo:["colony","megacolony","hivemind","antopolis"]}],Vp=(e,t)=>{const r=t.find(i=>i.id==="unlockMegacolony"),s=t.find(i=>i.id==="unlockHivemind"),a=t.find(i=>i.id==="unlockAntopolis");return["autoMegacolony","megacolonyEfficiency","unlockHivemind"].includes(e)?r?r.level.gt(0):!1:["autoHivemind","hivemindEfficiency","unlockAntopolis"].includes(e)?s?s.level.gt(0):!1:["autoAntopolis","antopolisEfficiency"].includes(e)?a?a.level.gt(0):!1:["rushCooldownReduction","rushDurationIncrease","rushMaxPerDay"].includes(e)?zo("unlockColonyRush",t):e==="foodProcessingAdvanced"?zo("foodProcessing",t):e==="efficientQueensAdvanced"?zo("efficientQueens",t):e==="cycleTimeReductionAdvanced"?zo("cycleTimeReduction",t):!0},zo=(e,t)=>{const r=t.find(s=>s.id===e);return r?r.level.eq(r.maxLevel||n(0)):!1},Uu=(e,t,r)=>t.eq(0)?e:r?r({cost:e,level:t}):e.mul(n(1.5).pow(t)),Wp=()=>[{id:"reRollChance",name:"Re-Roll Chance",description:"Increases the chance to re-roll items from defeated bugs in adventure mode, giving you a better chance to get the items you want.",baseCost:n(1e4),cost:n(1e4),costMultiplier:e=>n(e.cost).mul(n(1.3).pow(e.level)),level:n(0),maxLevel:n(100),effect:e=>e,formatEffect:e=>`+${e.toNumber()}%`,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!0,category:"adventure",appliesTo:["global"]},{id:"doubleKill",name:"Double Kill",description:"Increases the chance to get a double kill in adventure mode, giving you a better chance to get the items you want.",baseCost:n(1e4),cost:n(1e4),costMultiplier:e=>n(e.cost).mul(n(1.3).pow(e.level)),level:n(0),maxLevel:n(100),effect:e=>e,formatEffect:e=>`+${e.toNumber()}%`,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!0,category:"adventure",appliesTo:["global"]},{id:"doubleKillEffect",name:"Double Kill Effect",description:"Increases the effect of the double kill in adventure mode, increases the quantity of bugs killed in a double kill.",baseCost:n(1e4),cost:n(1e4),costMultiplier:e=>n(e.cost).mul(n(1.6).pow(e.level).pow(1.2)),level:n(0),maxLevel:n(3),effect:e=>e,formatEffect:e=>`x${e.toNumber()}`,icon:"i-heroicons-cog-6-tooth",isUnlocked:()=>!0,category:"adventure",appliesTo:["global"]}],Kp=()=>{const e=[...Up(),...Np(),...Bp(),...Op(),...Dp(),...Qp(),...jp(),...Hp(),...Gp(),...Wp()];return e.map(t=>{const r=t.isUnlocked;return r()===!1&&(t.isUnlocked=()=>Vp(t.id,e)),t}),e.forEach(t=>{t.level.gt(0)&&t.costMultiplier&&(t.cost=Uu(t.baseCost,t.level,t.costMultiplier))}),e},Ln=Kp(),Ue=Ye("prestige",()=>{const e=N(n(0)),t=N(n(0)),r=N(n(0)),s=N(n(0)),a=N(n(0)),i=N(n(3)),l=N(n(1e3)),u=N(n(0)),c=N(!1),d=N(!0),m=N(!0),g=N("all"),f=N(""),p=N("default"),h=F(()=>t.value.gt(0)),x=F(()=>Gt().isFeatureUnlocked.evolution),k=F(()=>{const V=t.value.toNumber();let q=3;return V<=100?q+=V*.95:V<=150?q=3+100*.95+(V-100)*1.35:V<=200?q=3+100*.95+50*1.35+(V-150)*1.95:V<=250?q=3+100*.95+50*1.35+50*1.95+(V-200)*2.55:V<=300?q=3+100*.95+50*1.35+50*1.95+50*2.55+(V-250)*3.25:q=3+100*.95+50*1.35+50*1.95+50*2.55+50*3.25+(V-300)*4.05,n(q).ceil()}),v=N(Ln),w=V=>{const q=S(V);return q?q.effect(q.level):n(1)},S=V=>v.value.find(q=>q.id===V),M=V=>{const q=S(V);return q?q.level:n(0)},L=()=>{const V={},q=De();v.value.forEach(le=>{le.isCombo||(V[le.id]=le.effect(le.level))}),v.value.forEach(le=>{le.isCombo&&(le.level.eq(0)||le.effects&&le.effects.forEach(C=>{const I=`${le.id}_${C.target}`;V[I]=C.multiplier(le.level)}))});const Q=v.value.find(le=>le.id==="generatorSynergy");if(Q&&Q.level.gt(0)){const le=q.generators.filter(I=>I.unlocked||I.purchasable).length,C=Q.level.mul(.02).mul(le);V.generatorSynergyBonus=n(1).add(C)}else V.generatorSynergyBonus=n(1);const j=v.value.find(le=>le.id==="evolutionSynergy");if(j&&j.level.gt(0)){const le=j.level.mul(.01).mul(t.value);V.evolutionSynergyBonus=n(1).add(le)}else V.evolutionSynergyBonus=n(1);const J=v.value.find(le=>le.id==="bulkAutomation");return J&&J.level.gt(0)?V.bulkAutomationMultiplier=n(1).add(J.level.mul(4)):V.bulkAutomationMultiplier=n(1),V},A=F(()=>a.value.gte(k.value)),Y=()=>{const V={};v.value.filter(te=>te.appliesTo.includes("ep")).forEach(te=>{if(te.level.eq(0))return;const oe=te.effect(te.level);oe.gt(1)&&(V[te.id]={value:oe,description:te.name,tooltip:`Bonus from ${te.name} upgrade.`})});const Q=yt(),j=Q.getItemEpBoost();j.gt(1)&&(V.itemEPBoost={value:j,description:"Item Boost",tooltip:"Bonus from equipped items with EP boost."});const J=Q.getUpgradesEpBoost();J.gt(1)&&(V.upgradesFromCombosEPBoost={value:J,description:"Combo Upgrades Boost",tooltip:"Bonus from combo upgrades with EP boost."});const le=Q.getAchievementEpBoost();le.gt(1)&&(V.achievementEPBoost={value:le,description:"Achievements Boost",tooltip:"Bonus from achievements with EP boost."});const C=Q.getQueenChamberEPBoost();C.gt(1)&&(V.queenChamberEPBoost={value:C,description:"Queen Chamber",tooltip:"Bonus from Royal Evolution upgrade."});const I=n(1).add(t.value.div(10));I.gt(1)&&(V.evolutionCount={value:I,description:"Evolution Count",tooltip:"Small bonus based on total number of evolutions completed."});const B=Q.getPheromoneShopEpMultiplier();return B.gt(1)&&(V.pheromoneShopEPBoost={value:B,description:"Pheromone Shop",tooltip:"Bonus from Pheromone Shop."}),V},U=()=>{n(1);const V=a.value.toNumber();if(V<=0)return n(0);const q=n(V);n(.1);const Q=q,j=q.mul(q.sub(1)).mul(.05);let J=Q.add(j);const le=Y();return Object.values(le).forEach(C=>{J=J.mul(C.value)}),J},T=({foodReset:V=!0,ticksReset:q=!0})=>{u.value=n(l.value.toString()),a.value=a.value.add(1),et().updateHivemindProgress(1);try{Ct().updateStats("maxLoopsInEvolution",a.value,!1)}catch(J){console.error("Error updating loop achievements:",J)}i.value=n(3).plus(a.value.mul(.5)).mul(n(1.05).pow(n(a.value).div(5))).ceil();const Q=n(1e3).mul(n(1.5).pow(n(a.value).pow(1.2))),j=w("cycleFoodReduction");q&&(r.value=n(0)),V&&(et().updateAntopolisProgress(1),l.value=Q.mul(j))},G=(V=1)=>{if(!x.value)return;r.value=r.value.add(V),s.value=s.value.add(V),r.value.gte(i.value)&&T({foodReset:!1,ticksReset:!0}),De().food.gte(l.value)&&T({foodReset:!0,ticksReset:!1})},D=()=>Z(e.value,2),P=()=>Z(t.value,0),$=()=>Z(a.value,0),ee=()=>Z(k.value,0),W=()=>{const V=U();return Z(V,2)},ae=()=>Z(i.value,1),z=()=>Z(l.value,0),R=()=>Z(s.value,0),ie=()=>{c.value=!1,d.value=!0,m.value=!0,g.value="all",f.value="",p.value="default"},O=()=>({evolutionPoints:e.value.toString(),evolutionCount:t.value.toString(),currentLoopTicks:r.value.toString(),currentEvolutionTicks:s.value.toString(),loopsCompleted:a.value.toString(),ticksPerLoop:i.value.toString(),foodForNextLoop:l.value.toString(),previousFoodRequirement:u.value.toString(),upgrades:v.value.map(V=>({id:V.id,level:V.level.toString()})),filters:{showMaxed:c.value,showAffordable:d.value,showUnlocked:m.value,activeTab:g.value,searchQuery:f.value,selectedSort:p.value}}),H=V=>{V.evolutionPoints&&(e.value=n(V.evolutionPoints)),V.evolutionCount&&(t.value=n(V.evolutionCount)),V.loopsCompleted&&(a.value=n(V.loopsCompleted)),V.currentLoopTicks&&(r.value=n(V.currentLoopTicks)),V.currentEvolutionTicks&&(s.value=n(V.currentEvolutionTicks)),V.ticksPerLoop&&(i.value=n(V.ticksPerLoop)),V.foodForNextLoop?l.value=n(V.foodForNextLoop):V.antsForNextLoop&&(l.value=n(V.antsForNextLoop)),V.previousFoodRequirement?u.value=n(V.previousFoodRequirement):u.value=n(0),V.upgrades&&Array.isArray(V.upgrades)&&V.upgrades.forEach(q=>{const Q=v.value.find(j=>j.id===q.id);if(Q){Q.level=n(q.level);const j=Q.costMultiplier;j?Q.cost=j({cost:Q.baseCost,level:Q.level}):Q.cost=Q.baseCost.mul(n(1.5).pow(Q.level))}}),V.filters&&(typeof V.filters.showMaxed=="boolean"&&(c.value=V.filters.showMaxed),typeof V.filters.showAffordable=="boolean"&&(d.value=V.filters.showAffordable),typeof V.filters.showUnlocked=="boolean"&&(m.value=V.filters.showUnlocked),typeof V.filters.activeTab=="string"&&(g.value=V.filters.activeTab),typeof V.filters.searchQuery=="string"&&(f.value=V.filters.searchQuery),typeof V.filters.selectedSort=="string"&&(p.value=V.filters.selectedSort))},re=()=>{if(!A.value)return!1;const V=U();e.value=e.value.add(V),t.value=t.value.add(1);try{Ct().updateEvolutionStats(e.value,V,t.value,a.value)}catch(q){console.error("Error updating achievement stats:",q)}return de(),!0},de=()=>{var te;const V=De(),q=et(),Q=br(),j=Rt();Q.resetEvolutionTicks(),V.generators.forEach(oe=>{if(oe.count=n(0),oe.manualPurchases=n(0),oe.selfReplicated=n(0),oe.tier>1&&oe.tier<=4&&(oe.unlocked=!1),oe.tier>=5){const ce=oe.id==="megacolony"?"unlockMegacolony":oe.id==="hivemind"?"unlockHivemind":oe.id==="antopolis"?"unlockAntopolis":"";if(ce){const pe=v.value.find(fe=>fe.id===ce);oe.purchasable=pe?pe.level.gt(0):!1,oe.unlocked=!1}else oe.purchasable=!1,oe.unlocked=!1}j.autoEnableGeneratorsAfterPrestige&&(oe.autoPurchaseEnabled=!0)});const J=w("startingFood"),le=n(10);V.food=le.mul(J),r.value=n(0);const C=((te=v.value.find(oe=>oe.id==="prestigeAcceleration"))==null?void 0:te.level)||n(0);a.value=C.gt(0)?new se(C.toString()):n(0);const I=w("cycleFoodReduction"),B=n(1e3);l.value=B.mul(I),u.value=n(0),i.value=n(3),q.resetProgress()};return{evolutionPoints:e,evolutionCount:t,currentLoopTicks:r,currentEvolutionTicks:s,loopsCompleted:a,ticksPerLoop:i,foodForNextLoop:l,previousFoodRequirement:u,hasEvolved:h,requiredLoops:k,evolutionUpgrades:v,canEvolve:A,showMaxed:c,showAffordable:d,showUnlocked:m,activeTab:g,searchQuery:f,selectedSort:p,resetFilters:ie,getUpgrade:S,getUpgradeMultiplier:w,getAllMultipliers:L,getEPModifiers:Y,evolve:re,resetProgress:de,purchaseUpgrade:V=>{const q=v.value.find(j=>j.id===V);if(!q||q.maxLevel&&q.level.gte(q.maxLevel)||e.value.lt(q.cost)||!q.isUnlocked())return!1;if(V==="unlockHivemind"){const J=De().getGenerator("megacolony");if(!J||J.count.eq(0))return!1}else if(V==="unlockAntopolis"){const J=De().getGenerator("hivemind");if(!J||J.count.eq(0))return!1}e.value=e.value.sub(q.cost),q.level=q.level.add(1);const Q=q.costMultiplier;if(Q?q.cost=Q({cost:q.baseCost,level:q.level}):q.cost=q.baseCost.mul(n(1.5).pow(q.level)),V==="unlockMegacolony"){const J=De().generators.find(le=>le.id==="megacolony");J&&(J.purchasable=!0,J.unlocked=!1)}else if(V==="unlockHivemind"){const J=De().generators.find(le=>le.id==="hivemind");J&&(J.purchasable=!0,J.unlocked=!1)}else if(V==="unlockAntopolis"){const J=De().generators.find(le=>le.id==="antopolis");J&&(J.purchasable=!0,J.unlocked=!1)}return!0},updateLoopProgress:G,formatEP:D,formatEvolutionCount:P,formatLoopsCompleted:$,formatRequiredLoops:ee,formatPotentialEPGain:W,formatTicksPerLoop:ae,formatFoodForNextLoop:z,formatCurrentEvolutionTicks:R,getState:O,loadState:H,isUpgradeUnlocked:V=>{const q=v.value.find(Q=>Q.id===V);return q?q.isUnlocked():!1},unlockedPrestige:x,getUpgradeCount:M}});function mn(){const e=Ue();return{isAdventureUnlocked:F(()=>e.getUpgradeCount("unlockAdventure").gt(0))}}const Yo=N([]);let zp=0;function cr(){const e=(r,s="info",a=3e3)=>{const i=zp++;return Yo.value.push({id:i,message:r,type:s,timeout:a}),setTimeout(()=>{t(i)},a),i},t=r=>{const s=Yo.value.findIndex(a=>a.id===r);s!==-1&&Yo.value.splice(s,1)};return{toasts:Yo,showToast:e,removeToast:t}}function Nu(e={}){const{storageKey:t="scrollPositions",debounceTime:r=100,saveOnUnmount:s=!0,scrollElementSelector:a="main"}=e,i=Su(),l=Fs(),u=N(0);let c=null,d=null;const m=N(!1),g=()=>c?c.scrollTop:0,f=()=>{if(!(!c||m.value))try{const w=JSON.parse(localStorage.getItem(t)||"{}"),S=g();w[i.path]=S,localStorage.setItem(t,JSON.stringify(w)),u.value=S}catch(w){console.error("Failed to save scroll position:",w)}},p=async()=>{if(c)try{m.value=!0;const S=JSON.parse(localStorage.getItem(t)||"{}")[i.path]||0;await Ro(),c.scrollTo({top:S,behavior:"auto"}),u.value=S,setTimeout(()=>{m.value=!1},50)}catch(w){console.error("Failed to restore scroll position:",w),m.value=!1}},h=()=>{m.value||(d!==null&&window.clearTimeout(d),d=window.setTimeout(()=>{f()},r))},x=()=>{try{const w=JSON.parse(localStorage.getItem(t)||"{}");delete w[i.path],localStorage.setItem(t,JSON.stringify(w)),u.value=0,c&&c.scrollTo({top:0})}catch(w){console.error("Failed to clear scroll position:",w)}},k=()=>{try{localStorage.removeItem(t),u.value=0,c&&c.scrollTo({top:0})}catch(w){console.error("Failed to clear all scroll positions:",w)}},v=()=>(c=document.querySelector(a),c?(c.addEventListener("scroll",h,{passive:!0}),!0):(console.warn(`Scrollable element not found with selector: ${a}`),!1));return qe(()=>{setTimeout(()=>{v()&&p()},50)}),At(()=>{c&&c.removeEventListener("scroll",h),s&&!m.value&&f(),d!==null&&window.clearTimeout(d)}),l.beforeEach((w,S,M)=>{S.path!==w.path&&!m.value&&f(),M()}),Se(()=>i.path,(w,S)=>{w!==S&&setTimeout(()=>{p()},150)}),{scrollPosition:u,saveScrollPosition:f,restoreScrollPosition:p,clearScrollPosition:x,clearAllScrollPositions:k}}const Yp=_e({__name:"ScrollToTopButton",props:{threshold:{default:300},buttonClass:{default:"fixed bottom-4 right-4 bg-amber-600 hover:bg-amber-700 text-white rounded-full p-3 shadow-lg transition-all duration-200 z-50"},iconClass:{default:"i-heroicons-arrow-up w-5 h-5"}},setup(e){const t=e,{scrollPosition:r}=Nu(),s=N(!1);Se(r,i=>{s.value=i>t.threshold});const a=()=>{const i=document.querySelector("main");i&&i.scrollTo({top:0,behavior:"smooth"})};return(i,l)=>(b(),Oe(ro,{name:"fade"},{default:We(()=>[s.value?(b(),y("button",{key:0,onClick:a,class:ne([i.buttonClass,"fixed bottom-20 right-6 bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-800 text-white rounded-full p-3 shadow-lg transition-all duration-200 z-10 flex items-center justify-center transform hover:scale-105 active:scale-95"]),"aria-label":"Scroll to top"},[o("span",{class:ne([i.iconClass,"w-5 h-5"])},null,2)],2)):K("",!0)]),_:1}))}}),Ve=(e,t)=>{const r=e.__vccOpts||e;for(const[s,a]of t)r[s]=a;return r},qr=Ve(Yp,[["__scopeId","data-v-d69777c8"]]),Ci="idle-ant-farm-animated-features";function Bu(){const e=Gt(),r=N((()=>{try{const u=localStorage.getItem(Ci);return u?JSON.parse(u):{}}catch(u){return console.error("Error loading animated features:",u),{}}})()),s=()=>{try{localStorage.setItem(Ci,JSON.stringify(r.value))}catch(u){console.error("Error saving animated features:",u)}},a=u=>e.isFeatureUnlocked[u]&&!r.value[u]?(r.value[u]=!0,s(),!0):!1,i=u=>{delete r.value[u],s()},l=()=>{r.value={},s()};return qe(()=>{Object.keys(e.isFeatureUnlocked).forEach(u=>{e.isFeatureUnlocked[u]&&r.value[u]===void 0&&(r.value[u]=!0)}),s()}),{shouldAnimateFeature:a,animatedFeatures:r,forceAnimateFeature:i,resetAllAnimations:l}}const Jp={worker:{name:"Worker Ants",icon:"i-heroicons-bug-ant"},nursery:{name:"Nursery",icon:"i-heroicons-home-modern"},queenChamber:{name:"Queen Chamber",icon:"i-heroicons-crown"},colony:{name:"Colony",icon:"i-heroicons-building-storefront"},megacolony:{name:"Mega Colony",icon:"i-heroicons-building-office-2"},hivemind:{name:"Hive Mind",icon:"i-heroicons-cpu-chip"},antopolis:{name:"Antopolis",icon:"i-heroicons-building-library"}};function Xp(e){if(!e)return"";switch(e){case"worker":return"Levels up based on foraging ticks in current evolution";case"nursery":return"Levels up based on amount of food gained";case"queenChamber":return"Levels up based on total manual purchases";case"colony":return"Levels up based on amount of upgrades purchased";case"megacolony":return"Levels up based on pheromone gained";case"hivemind":return"Levels up based on amount of cycles completed in current evolution";case"antopolis":return"Levels up based on total food cycles completed in current evolution";default:return""}}function Zp(e){if(!e)return"";switch(e){case"worker":return"ticks";case"nursery":return"food";case"queenChamber":return"purchases";case"colony":return"upgrades";case"megacolony":return"points";case"hivemind":return"types";case"antopolis":return"levels";default:return""}}function yr(){const e=N(!1);return{isClosing:e,handleClose:(s,a=250)=>{a>0?(e.value=!0,setTimeout(()=>{s(),e.value=!1},a)):s()},preventBackgroundTouchMove:s=>{const a=s.target;(a.classList.contains("modal-backdrop")||a.getAttribute("data-modal-backdrop")==="true")&&s.preventDefault()}}}const ef=_e({__name:"GeneratorInfoDialog",props:{show:{type:Boolean}},emits:["close"],setup(e,{emit:t}){const r=e,s=t,{isClosing:a,handleClose:i,preventBackgroundTouchMove:l}=yr(),u=()=>{i(()=>s("close"),250)},c=d=>{d.key==="Escape"&&r.show&&u()};return qe(()=>{window.addEventListener("keydown",c)}),At(()=>{window.removeEventListener("keydown",c)}),Se(()=>r.show,d=>{}),(d,m)=>d.show?(b(),y("div",{key:0,class:"fixed inset-0 z-50 modal-backdrop","data-modal-backdrop":"true",onClick:ot(u,["self"]),onTouchmove:m[0]||(m[0]=ot((...g)=>E(l)&&E(l)(...g),["self"]))},[o("div",{class:ne(["absolute inset-0 bg-black/50 animate-fadeIn",{"animate-fadeOut":E(a)}])},null,2),o("div",{class:ne(["fixed inset-0 flex flex-col animate-fadeIn",{"animate-fadeOut":E(a)}])},[o("div",{class:ne(["w-full h-full flex flex-col bg-amber-50 dark:bg-gray-900 text-amber-900 dark:text-amber-100 font-sans animate-slideUp",{"animate-slideDown":E(a)}])},[o("header",{class:"bg-gradient-to-r from-amber-800 to-amber-700 dark:from-amber-900 dark:to-amber-800 text-amber-50 shadow-lg"},[o("div",{class:"p-2 md:p-3"},[o("div",{class:"flex items-center justify-between"},[m[2]||(m[2]=o("h1",{class:"text-lg md:text-xl font-bold tracking-tight flex items-center"},[o("span",{class:"i-heroicons-information-circle text-amber-300 dark:text-amber-400 mr-2"}),X(" About Ant Specialization ")],-1)),o("button",{onClick:u,class:"text-amber-50 hover:text-amber-300 dark:hover:text-amber-200 transition-colors p-1.5 rounded-full hover:bg-amber-900/30 dark:hover:bg-amber-950/40"},m[1]||(m[1]=[o("span",{class:"i-heroicons-x-mark text-lg"},null,-1)]))])])]),m[4]||(m[4]=to('<main class="flex-1 overflow-y-auto p-4 pb-6 scroll-smooth" data-v-620fc169><div class="space-y-3" data-v-620fc169><div class="bg-white dark:bg-gray-800 rounded-xl shadow-md border border-amber-200 dark:border-amber-700 p-3" data-v-620fc169><p class="text-sm text-amber-800 dark:text-amber-300 mb-2 font-medium" data-v-620fc169> How Ant Specialization Works: </p><ul class="text-xs text-amber-800 dark:text-amber-300 list-disc pl-4 space-y-1" data-v-620fc169><li data-v-620fc169>Each ant type has its own specialization level that increases based on different metrics: </li><li class="ml-3" data-v-620fc169><strong data-v-620fc169>Worker Ants:</strong> Level up based on foraging trips in current evolution (50% increase per level)</li><li class="ml-3" data-v-620fc169><strong data-v-620fc169>Nurseries:</strong> Level up based on amount of food gathered (100% increase per level)</li><li class="ml-3" data-v-620fc169><strong data-v-620fc169>Queen Chambers:</strong> Level up based on total manual purchases (30% increase per level)</li><li class="ml-3" data-v-620fc169><strong data-v-620fc169>Colonies:</strong> Level up based on amount of adaptations developed (20% increase per level)</li><li data-v-620fc169>Each level-up awards 1 adaptation point for that ant type</li><li data-v-620fc169>Adaptation points can be spent on specialized traits for that ant type</li><li data-v-620fc169>Specialization levels and adaptations reset when your colony undergoes metamorphosis </li></ul></div><div class="bg-white dark:bg-gray-800 rounded-xl shadow-md border border-amber-200 dark:border-amber-700 p-3" data-v-620fc169><p class="text-sm text-amber-800 dark:text-amber-300 mb-2 font-medium" data-v-620fc169> Types of Ant Adaptations: </p><ul class="text-xs text-amber-800 dark:text-amber-300 list-disc pl-4 space-y-1" data-v-620fc169><li data-v-620fc169><strong data-v-620fc169>Efficiency Adaptations:</strong> Increase production (+20% per level)</li><li data-v-620fc169><strong data-v-620fc169>Resource Adaptations:</strong> Decrease resource requirements (-5% per level)</li><li data-v-620fc169><strong data-v-620fc169>Special Adaptations:</strong> Add a chance for ants to reproduce themselves </li></ul></div></div></main>',1)),o("footer",{class:"bg-gradient-to-r from-amber-800 to-amber-700 dark:from-amber-900 dark:to-amber-800 text-amber-50 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]"},[o("div",{class:"flex justify-end p-3"},[o("button",{onClick:u,class:"px-3 py-2 bg-amber-900/20 dark:bg-amber-950/40 hover:bg-amber-900/30 dark:hover:bg-amber-950/50 rounded-lg text-amber-50 font-medium transition-colors duration-200 flex items-center justify-center active:scale-95 border border-amber-600 dark:border-amber-700"},m[3]||(m[3]=[o("span",{class:"i-heroicons-arrow-left text-base mr-1"},null,-1),X(" Return to Dashboard ")]))])])],2)],2)],32)):K("",!0)}}),tf=Ve(ef,[["__scopeId","data-v-620fc169"]]),rf=["disabled"],Bo=_e({__name:"HoldableButton",props:{disabled:{type:Boolean},class:{},initialDelay:{},repeatInterval:{},accelerate:{type:Boolean},minInterval:{}},emits:["action"],setup(e,{emit:t}){const r=e,s=t,a=r.initialDelay??500,i=r.repeatInterval??100,l=r.accelerate??!0,u=r.minInterval??50,c=N(!1),d=N(null),m=N(null),g=N(i),f=N(0),p=w=>{r.disabled||(w.preventDefault(),s("action"),c.value=!0,f.value=Date.now(),d.value=window.setTimeout(()=>{h()},a))},h=()=>{r.disabled||(m.value!==null&&clearInterval(m.value),g.value=i,m.value=window.setInterval(()=>{if(r.disabled){v();return}if(s("action"),l){const w=Date.now()-f.value;w>2e3&&(g.value=Math.max(u,i-Math.floor((w-2e3)/100)*5),g.value!==i&&(clearInterval(m.value),m.value=window.setInterval(()=>{r.disabled||s("action")},g.value)))}},g.value))},x=()=>{v()},k=()=>{v()},v=()=>{c.value=!1,d.value!==null&&(clearTimeout(d.value),d.value=null),m.value!==null&&(clearInterval(m.value),m.value=null)};return vr(()=>{v()}),(w,S)=>(b(),y("button",{class:ne([r.class,"transition-all duration-150 flex items-center justify-center cursor-pointer disabled:cursor-not-allowed",c.value?"transform scale-95":"transform scale-100"]),disabled:w.disabled,onMousedown:p,onMouseup:x,onMouseleave:k,onTouchstart:p,onTouchend:x,onTouchcancel:x},[eo(w.$slots,"default")],42,rf))}}),of={key:0,class:"bg-white/80 dark:bg-gray-800/80 p-3 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700 hover:border-amber-300 dark:hover:border-amber-600 transition-colors"},sf={class:"flex justify-between items-start"},nf={class:"flex items-center"},af={class:"font-medium text-gray-900 dark:text-gray-100"},lf={class:"text-xs text-gray-600 dark:text-gray-400 mt-1"},uf={class:"text-right"},cf={class:"text-xs text-amber-700 dark:text-amber-400"},df={class:"font-medium"},mf={key:0},pf={class:"text-xs text-amber-700 dark:text-amber-400 mt-1"},ff={class:"font-medium"},gf={class:"mt-3 flex justify-between items-center"},vf={class:"text-xs text-amber-700 dark:text-amber-400"},hf={key:0},bf={class:"font-medium"},yf={key:1,class:"text-green-600 dark:text-green-500 font-medium"},xf={key:0},kf={key:1},_f=_e({__name:"GeneratorUpgradeItem",props:{upgradeId:{type:String,required:!0}},setup(e){const t=e,r=et(),s=F(()=>r.getUpgrade(t.upgradeId)),a=F(()=>!s.value||s.value.maxLevel!==null&&s.value.level.gte(s.value.maxLevel)?!1:r.generatorPoints[s.value.generatorId].gte(s.value.cost)),i=F(()=>{var d,m,g,f;if(!s.value)return"";const c=((m=(d=s.value).effect)==null?void 0:m.call(d,s.value.level))??n(1);return((f=(g=s.value).formatEffect)==null?void 0:f.call(g,c))??Z(c,2)}),l=F(()=>{var c,d,m,g,f,p;return s.value?((g=(m=s.value).formatEffect)==null?void 0:g.call(m,((d=(c=s.value).effect)==null?void 0:d.call(c,s.value.level.add(1)))??n(1)))??Z(((p=(f=s.value).effect)==null?void 0:p.call(f,s.value.level.add(1)))??n(1),2):""}),u=()=>{a.value&&s.value&&r.purchaseUpgrade(s.value.id)};return(c,d)=>s.value?(b(),y("div",of,[o("div",sf,[o("div",null,[o("div",nf,[o("span",{class:ne(s.value.icon+" text-amber-600 dark:text-amber-500 mr-2")},null,2),o("span",af,_(s.value.name),1)]),o("div",lf,_(s.value.description),1)]),o("div",uf,[o("div",cf,[d[0]||(d[0]=X(" Level: ")),o("span",df,_(E(Z)(s.value.level,0)),1),s.value.maxLevel!==null?(b(),y("span",mf,"/"+_(E(Z)(s.value.maxLevel,0)),1)):K("",!0)]),o("div",pf,[d[1]||(d[1]=X(" Effect: ")),o("span",ff,_(i.value),1)])])]),o("div",gf,[o("div",vf,[s.value.maxLevel===null||s.value.level.lt(s.value.maxLevel)?(b(),y("span",hf,[d[2]||(d[2]=X(" Next: ")),o("span",bf,_(l.value),1)])):(b(),y("span",yf,"MAX LEVEL"))]),ye(Bo,{onAction:u,disabled:!a.value,class:ne(a.value?"px-3 py-1 text-xs rounded-md font-medium bg-amber-500 hover:bg-amber-600 dark:bg-amber-600 dark:hover:bg-amber-700 text-white":"px-3 py-1 text-xs rounded-md font-medium bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed"),"initial-delay":400,"repeat-interval":200,accelerate:!0},{default:We(()=>[s.value.maxLevel===null||s.value.level.lt(s.value.maxLevel)?(b(),y("span",xf," Adapt ("+_(E(Z)(s.value.cost,0))+" pts) ",1)):(b(),y("span",kf,"Maxed"))]),_:1},8,["disabled","class"])])])):K("",!0)}}),wf={key:0,class:"fixed inset-0 z-50"},Sf={class:"bg-gradient-to-r from-amber-800 to-amber-700 dark:from-amber-900 dark:to-amber-800 text-amber-50 shadow-lg"},$f={class:"p-2 md:p-3"},Cf={class:"flex items-center justify-between"},Ef={class:"text-lg md:text-xl font-bold tracking-tight flex items-center opacity-0 animate-fadeIn",style:{animationDelay:"150ms",animationFillMode:"forwards"}},Mf={class:"flex-1 overflow-y-auto p-4 pb-6 scroll-smooth"},Af={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md border border-amber-200 dark:border-amber-700 p-3 mb-4 opacity-0 animate-fadeIn",style:{animationDelay:"200ms",animationFillMode:"forwards"}},Pf={class:"flex flex-col md:flex-row md:justify-between md:items-center gap-3"},If={class:"text-xl font-bold text-amber-800 dark:text-amber-300 flex items-center"},Lf={class:"text-xl font-bold text-amber-800 dark:text-amber-300 flex items-center"},Tf={key:0},qf={class:"text-xl font-bold text-amber-800 dark:text-amber-300 flex items-center"},Rf={class:"mt-3"},Ff={class:"text-sm text-amber-800 dark:text-amber-300 font-medium mb-1 flex justify-between"},Uf={class:"h-2.5 bg-amber-100 dark:bg-amber-900/50 rounded-full overflow-hidden"},Nf={class:"flex justify-between mt-1 text-xs text-amber-700 dark:text-amber-400"},Bf={class:"mt-3 pt-3 border-t border-amber-200 dark:border-amber-700"},Of={class:"text-xs text-amber-700 dark:text-amber-400"},Df={key:0,class:"text-xs text-green-600 dark:text-green-400 mt-1"},Qf={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 opacity-0 animate-fadeIn",style:{animationDelay:"300ms",animationFillMode:"forwards"}},jf=_e({__name:"GeneratorUpgradeModal",props:{show:{type:Boolean},selectedGenerator:{},generatorInfo:{}},emits:["close"],setup(e,{emit:t}){const r=e,s=t,a=et(),i=N(!1),l=N(!1),u=F(()=>r.selectedGenerator?a.getUpgradesForGenerator(r.selectedGenerator):[]);Se(()=>r.show,p=>{p?l.value=!0:i.value=!1});const c=()=>{i.value=!0,setTimeout(()=>{s("close"),l.value=!1},400)},d=F(()=>Xp(r.selectedGenerator)),m=F(()=>Zp(r.selectedGenerator)),g=F(()=>r.selectedGenerator?a.formatLevelRequirementReduction(r.selectedGenerator):"0%");qe(()=>{window.addEventListener("keydown",f)}),vr(()=>{window.removeEventListener("keydown",f)});const f=p=>{p.key==="Escape"&&c()};return(p,h)=>{var x,k,v;return l.value?(b(),y("div",wf,[o("div",{class:ne(["absolute inset-0 bg-black/50 animate-fadeIn",{"animate-fadeOut":i.value}])},null,2),p.selectedGenerator?(b(),y("div",{key:0,class:ne(["fixed inset-0 flex flex-col animate-fadeIn",{"animate-fadeOut":i.value}])},[o("div",{class:ne(["w-full h-full flex flex-col bg-amber-50 dark:bg-gray-900 text-amber-900 dark:text-amber-100 font-sans animate-slideUp",{"animate-slideDown":i.value}])},[o("header",Sf,[o("div",$f,[o("div",Cf,[o("h1",Ef,[o("span",{class:ne([(x=p.generatorInfo[p.selectedGenerator])==null?void 0:x.icon,"text-amber-300 dark:text-amber-200 mr-2"])},null,2),X(" "+_((k=p.generatorInfo[p.selectedGenerator])==null?void 0:k.name)+" Adaptations ",1)]),o("button",{onClick:c,class:"text-amber-50 hover:text-amber-300 transition-colors p-1.5 rounded-full hover:bg-amber-900/30 dark:hover:bg-amber-950/40"},h[0]||(h[0]=[o("span",{class:"i-heroicons-x-mark text-lg"},null,-1)]))])])]),o("main",Mf,[o("div",Af,[o("div",Pf,[o("div",null,[h[2]||(h[2]=o("div",{class:"text-sm text-amber-800 dark:text-amber-300 font-medium"},"Current Level",-1)),o("div",If,[h[1]||(h[1]=o("span",{class:"i-heroicons-star text-amber-500 dark:text-amber-400 mr-1"},null,-1)),X(" Level "+_((v=E(a).generatorLevels[p.selectedGenerator])==null?void 0:v.toNumber()),1)])]),o("div",null,[h[4]||(h[4]=o("div",{class:"text-sm text-amber-800 dark:text-amber-300 font-medium"},"Available Points",-1)),o("div",Lf,[h[3]||(h[3]=o("span",{class:"i-heroicons-bolt text-amber-500 dark:text-amber-400 mr-1"},null,-1)),X(" "+_(E(a).formatPoints(p.selectedGenerator))+" points ",1)])]),g.value!=="0%"?(b(),y("div",Tf,[h[6]||(h[6]=o("div",{class:"text-sm text-amber-800 dark:text-amber-300 font-medium"},"Level Requirement Reduction",-1)),o("div",qf,[h[5]||(h[5]=o("span",{class:"i-heroicons-arrow-trending-down text-green-500 dark:text-green-400 mr-1"},null,-1)),X(" "+_(g.value),1)])])):K("",!0)]),o("div",Rf,[o("div",Ff,[h[7]||(h[7]=o("span",null,"Progress to Next Level",-1)),o("span",null,_(E(a).formatProgressPercentage(p.selectedGenerator))+"%",1)]),o("div",Uf,[o("div",{class:"h-full bg-amber-500 dark:bg-amber-600 transition-all duration-300 ease-out",style:tt({width:`${E(a).formatProgressPercentage(p.selectedGenerator)}%`})},null,4)]),o("div",Nf,[o("span",null,"Current: "+_(E(Z)(E(a).levelProgress[p.selectedGenerator]||0,0)),1),o("span",null,"Next: "+_(E(a).formatNextLevelRequirement(p.selectedGenerator))+" "+_(m.value),1)])]),o("div",Bf,[o("div",Of,_(d.value),1),g.value!=="0%"?(b(),y("div",Df," Level requirements reduced by "+_(g.value)+" from prestige upgrades. ",1)):K("",!0)])]),h[8]||(h[8]=o("h4",{class:"text-base font-bold text-amber-800 dark:text-amber-300 mb-3 flex items-center opacity-0 animate-fadeIn",style:{animationDelay:"250ms",animationFillMode:"forwards"}},[o("span",{class:"i-heroicons-adjustments-horizontal text-amber-600 dark:text-amber-500 mr-2"}),X(" Available Adaptations ")],-1)),o("div",Qf,[(b(!0),y(he,null,ke(u.value,w=>(b(),Oe(_f,{key:w.id,upgradeId:w.id},null,8,["upgradeId"]))),128))])]),o("footer",{class:"bg-gradient-to-r from-amber-800 to-amber-700 dark:from-amber-900 dark:to-amber-800 text-amber-50 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]"},[o("div",{class:"flex justify-end p-3"},[o("button",{onClick:c,class:"px-3 py-2 bg-amber-900/20 dark:bg-amber-950/40 hover:bg-amber-900/30 dark:hover:bg-amber-950/50 rounded-lg text-amber-50 font-medium transition-colors duration-200 flex items-center justify-center active:scale-95 border border-amber-600 dark:border-amber-700"},h[9]||(h[9]=[o("span",{class:"i-heroicons-arrow-left text-base mr-1"},null,-1),X(" Return to Dashboard ")]))])])],2)],2)):K("",!0)])):K("",!0)}}}),Hf=Ve(jf,[["__scopeId","data-v-b9c45bd4"]]),Gf={class:"grid grid-cols-3 gap-2"},Vf={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},Wf={class:"text-sm font-bold flex items-center"},Kf={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},zf={class:"text-sm font-bold flex items-center"},Yf={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},Jf={class:"text-sm font-bold flex items-center"},Xf={key:0,class:"text-xs text-amber-600 dark:text-amber-500"},Zf={class:"mt-2 pt-2 border-t border-amber-200/50 dark:border-amber-700/50 text-xs"},eg={class:"flex flex-wrap gap-x-3 gap-y-1 mb-1"},tg=["href"],rg=["href"],og=["href"],sg=_e({__name:"HomeColonyStatusCard",props:{className:{},githubIssuesUrl:{},discordUrl:{},buyMeCoffeeUrl:{}},setup(e){const t=De(),r=Ue(),s=F(()=>Z(t.foodPerSecond,2)),a=F(()=>t.getGenerator("worker")),i=F(()=>a.value?a.value.count.sub(a.value.manualPurchases):0),l=F(()=>typeof i.value!="number"&&i.value.gt(0)),u=F(()=>t.formatGeneratorCount("worker"));return F(()=>Math.round(r.currentLoopTicks.div(r.ticksPerLoop).mul(100).toNumber())),(c,d)=>(b(),y("section",{class:ne(["bg-gradient-to-br from-amber-100 to-amber-50 dark:from-amber-900/40 dark:to-amber-800/30 rounded-xl p-3 shadow-md",c.className])},[d[10]||(d[10]=o("h2",{class:"text-base font-bold mb-2 flex items-center"},[o("span",{class:"i-heroicons-chart-bar text-amber-700 dark:text-amber-500 mr-2"}),X(" Colony Status ")],-1)),o("div",Gf,[o("div",Vf,[d[1]||(d[1]=o("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Food",-1)),o("div",Wf,[d[0]||(d[0]=o("span",{class:"i-heroicons-cake text-amber-600 dark:text-amber-500 mr-1 text-xs"},null,-1)),X(" "+_(E(t).formatFood()),1)])]),o("div",Kf,[d[3]||(d[3]=o("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Food/Trip",-1)),o("div",zf,[d[2]||(d[2]=o("span",{class:"i-heroicons-arrow-trending-up text-amber-600 dark:text-amber-500 mr-1 text-xs"},null,-1)),X(" "+_(s.value),1)])]),o("div",Yf,[d[5]||(d[5]=o("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Worker Ants",-1)),o("div",Jf,[d[4]||(d[4]=o("span",{class:"i-heroicons-bug-ant text-amber-600 dark:text-amber-500 mr-1 text-xs"},null,-1)),X(" "+_(E(t).formatGeneratorCount("worker")),1)]),l.value?(b(),y("div",Xf," ("+_(u.value)+" auto) ",1)):K("",!0)])]),o("div",Zf,[o("div",eg,[o("a",{href:c.githubIssuesUrl,target:"_blank",rel:"noopener noreferrer",class:"text-amber-700 dark:text-amber-400 hover:underline inline-flex items-center"},d[6]||(d[6]=[o("span",{class:"i-heroicons-bug-ant text-xs mr-1"},null,-1),X(" Report Issues ")]),8,tg),o("a",{href:c.discordUrl,target:"_blank",rel:"noopener noreferrer",class:"text-amber-700 dark:text-amber-400 hover:underline inline-flex items-center"},d[7]||(d[7]=[o("span",{class:"i-heroicons-chat-bubble-left-right text-xs mr-1"},null,-1),X(" Discord ")]),8,rg),o("a",{href:c.buyMeCoffeeUrl,target:"_blank",rel:"noopener noreferrer",class:"text-amber-700 dark:text-amber-400 hover:underline inline-flex items-center"},d[8]||(d[8]=[o("span",{class:"i-heroicons-heart text-xs mr-1"},null,-1),X(" Buy me a coffee ")]),8,og)]),d[9]||(d[9]=o("div",{class:"flex flex-wrap items-center justify-between gap-2 text-amber-700/80 dark:text-amber-400/80"},[o("span",{class:"text-[11px]"},"Made with ❤️ by Mezeman"),o("span",{class:"text-[11px] font-medium"},"Remember to export your save!")],-1))])],2))}}),ng={class:"space-y-1 sm:space-y-2"},ag={class:"grid grid-cols-2 gap-1 sm:gap-2"},ig={class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},lg={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},ug={key:0},cg={key:1},dg={class:"text-xs sm:text-sm font-bold flex items-center"},mg={class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},pg={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},fg={key:0},gg={key:1},vg={class:"text-xs sm:text-sm font-bold flex items-center"},hg={class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},bg={class:"flex justify-between items-center mb-0.5 sm:mb-1"},yg={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},xg={key:0},kg={key:1},_g={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300"},wg={class:"h-1.5 sm:h-2 bg-purple-100 dark:bg-purple-900/50 rounded-full overflow-hidden"},Sg={class:"text-2xs sm:text-xs text-purple-600 dark:text-purple-400 mt-0.5 sm:mt-1"},$g={key:0},Cg={key:1},Eg={class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},Mg={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium mb-0.5 sm:mb-1"},Ag={key:0},Pg={key:1},Ig={class:"grid grid-cols-2 gap-1"},Lg={class:"text-2xs sm:text-xs font-medium flex items-center text-purple-700 dark:text-purple-400"},Tg={key:0},qg={key:1},Rg={class:"text-2xs sm:text-xs font-medium flex items-center text-purple-700 dark:text-purple-400"},Fg={key:0},Ug={key:1},Ng=_e({__name:"MetamorphosisCard",props:{className:{}},setup(e){const t=Ue(),{width:r}=qu(),s=F(()=>r.value<640),a=F(()=>t.formatEvolutionCount()),i=F(()=>t.formatEP()),l=F(()=>t.formatLoopsCompleted()),u=F(()=>Z(t.requiredLoops,1)),c=F(()=>Z(t.ticksPerLoop,1)),d=F(()=>Z(t.foodForNextLoop,0)),m=F(()=>Math.min(100,Math.round(t.loopsCompleted.div(t.requiredLoops).toNumber()*100)));return(g,f)=>{const p=Yn("router-link");return b(),y("section",{class:ne(["bg-gradient-to-br from-purple-200 to-purple-100 dark:from-purple-900/40 dark:to-purple-800/40 rounded-xl p-2 sm:p-3 shadow-md border border-purple-300/50 dark:border-purple-700/50 dark:text-purple-100",g.className])},[f[4]||(f[4]=o("h2",{class:"text-sm sm:text-base font-bold mb-1 sm:mb-2 flex items-center text-purple-800 dark:text-purple-200"},[o("span",{class:"i-heroicons-sparkles text-purple-700 dark:text-purple-400 mr-1 sm:mr-2"}),X(" Metamorphosis ")],-1)),eo(g.$slots,"explanation"),o("div",ng,[o("div",ag,[o("div",ig,[o("div",lg,[s.value?(b(),y("span",ug,"Meta Count")):(b(),y("span",cg,"Metamorphosis Count"))]),o("div",dg,[f[0]||(f[0]=o("span",{class:"i-heroicons-sparkles text-purple-600 dark:text-purple-400 mr-0.5 sm:mr-1 text-2xs sm:text-xs"},null,-1)),X(" "+_(a.value),1)])]),o("div",mg,[o("div",pg,[s.value?(b(),y("span",fg,"Evo Points")):(b(),y("span",gg,"Evolution Points"))]),o("div",vg,[f[1]||(f[1]=o("span",{class:"i-heroicons-sparkles text-purple-600 dark:text-purple-400 mr-0.5 sm:mr-1 text-2xs sm:text-xs"},null,-1)),X(" "+_(i.value),1)])])]),o("div",hg,[o("div",bg,[o("div",yg,[s.value?(b(),y("span",xg,"Cycles Done")):(b(),y("span",kg,"Foraging Cycles Completed"))]),o("div",_g,[o("span",null,_(m.value)+"%",1)])]),o("div",wg,[o("div",{class:"h-full bg-purple-600 dark:bg-purple-500 transition-all duration-300 ease-out",style:tt({width:`${m.value}%`})},null,4)]),o("div",Sg,[X(_(l.value)+" / "+_(u.value)+" ",1),s.value?(b(),y("span",$g,"cycles")):(b(),y("span",Cg,"cycles required"))])]),o("div",Eg,[o("div",Mg,[s.value?(b(),y("span",Ag,"Cycle Reqs")):(b(),y("span",Pg,"Cycle Requirements"))]),o("div",Ig,[o("div",Lg,[f[2]||(f[2]=o("span",{class:"i-heroicons-clock text-purple-600 dark:text-purple-400 mr-0.5 sm:mr-1 text-2xs sm:text-xs"},null,-1)),X(" "+_(c.value)+" ",1),s.value?(b(),y("span",Tg,"trips")):(b(),y("span",qg,"trips"))]),o("div",Rg,[f[3]||(f[3]=o("span",{class:"i-heroicons-cake text-purple-600 dark:text-purple-400 mr-0.5 sm:mr-1 text-2xs sm:text-xs"},null,-1)),X(" "+_(d.value)+" food ",1)])])]),ye(p,{to:"/upgrades",class:"block w-full px-2 sm:px-3 py-1 sm:py-1.5 bg-gradient-to-r from-purple-700 to-purple-600 hover:from-purple-800 hover:to-purple-700 dark:from-purple-800 dark:to-purple-700 dark:hover:from-purple-900 dark:hover:to-purple-800 text-white rounded-md text-2xs sm:text-xs font-medium text-center shadow-sm transition-colors duration-200"},{default:We(()=>[s.value?(b(),y("span",Fg,"View Adaptations")):(b(),y("span",Ug,"View Evolutionary Adaptations"))]),_:1})])],2)}}}),Bg={key:0,class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden border border-gray-300 dark:border-gray-700 transition-all duration-200 opacity-75 relative"},Og={class:"absolute inset-0 bg-gray-100/80 dark:bg-gray-900/80 flex items-center justify-center z-10"},Dg={class:"text-center p-3"},Qg={class:"text-sm font-bold text-gray-700"},jg={class:"text-xs text-gray-600 mt-1"},Hg={class:"mt-2 w-full"},Gg={class:"text-xs text-gray-700 flex justify-between"},Vg={class:"h-1.5 bg-gray-200 rounded-full mt-1 overflow-hidden"},Wg={class:"flex flex-col"},Kg={class:"bg-gradient-to-r from-gray-500 to-gray-400 py-1.5 px-2 flex items-center justify-between text-white"},zg={class:"flex items-center"},Yg={class:"font-bold text-sm"},Jg={class:"p-2 text-gray-700"},Xg={class:"flex mb-1.5"},Zg={class:"flex-grow pr-2"},ev={class:"text-xs mb-1"},tv={class:"text-xs text-gray-600"},rv={class:"flex justify-between"},ov=_e({__name:"NextUnlockableGenerator",props:{generator:{}},setup(e){const t=e,r=F(()=>{if(!t.generator)return"";switch(t.generator.tier){case 1:return"food";case 2:return"worker ants";case 3:return"nurseries";case 4:return"queen chambers";default:return"colonies"}}),s=F(()=>10),a=De(),i=F(()=>{if(!t.generator)return;const u=t.generator.tier-1;return a.unlockedGenerators.find(c=>c.tier===u)}),l=F(()=>{if(!i.value||!t.generator)return 0;const u=i.value.count.toNumber();return Math.min(100,Math.round(u/s.value*100))});return(u,c)=>{var d;return u.generator?(b(),y("div",Bg,[o("div",Og,[o("div",Dg,[c[1]||(c[1]=o("span",{class:"i-heroicons-lock-closed text-2xl text-gray-500 mb-2 inline-block"},null,-1)),o("h4",Qg,"Unlock "+_(u.generator.name),1),o("p",jg," Requires "+_(s.value)+" "+_(((d=i.value)==null?void 0:d.name)||"previous tier"),1),o("div",Hg,[o("div",Gg,[c[0]||(c[0]=o("span",null,"Progress:",-1)),o("span",null,_(l.value)+"%",1)]),o("div",Vg,[o("div",{class:"h-full bg-amber-500 transition-all duration-300 ease-out",style:tt({width:`${l.value}%`})},null,4)])])])]),o("div",Wg,[o("div",Kg,[o("div",zg,[o("span",{class:ne([u.generator.icon,"text-xl mr-1.5 text-gray-300"])},null,2),o("h3",Yg,_(u.generator.name),1)]),c[2]||(c[2]=o("div",{class:"text-xs font-medium bg-gray-600/30 px-1.5 py-0.5 rounded"}," 0 ",-1))]),o("div",Jg,[o("div",Xg,[o("div",Zg,[o("p",ev,_(u.generator.description),1),o("div",tv,[o("div",rv,[c[3]||(c[3]=o("span",null,"Base Production:",-1)),o("span",null,_(E(a).getBaseProduction(u.generator.id).toString())+" "+_(r.value)+"/trip",1)])])])]),c[4]||(c[4]=o("button",{disabled:"",class:"w-full py-1.5 px-3 rounded text-xs font-medium bg-gray-200 text-gray-500 cursor-not-allowed"},[o("span",{class:"i-heroicons-lock-closed text-sm mr-1"}),X(" Locked ")],-1))])])])):K("",!0)}}}),sv={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] flex flex-col mx-auto border border-amber-200 dark:border-amber-700"},nv={class:"text-base font-bold mb-3 flex items-center text-amber-800 dark:text-amber-300 p-5 pb-2 border-b border-amber-200 dark:border-amber-700"},av={class:"overflow-y-auto px-5 flex-grow"},iv={class:"space-y-2 mb-4"},lv={class:"text-amber-700 dark:text-amber-400"},uv={class:"font-medium text-amber-900 dark:text-amber-200"},cv={key:0,class:"mt-6 mb-4"},dv={class:"border-t border-amber-200 dark:border-amber-700 pt-4 mb-3"},mv={class:"flex items-center"},pv={class:"font-medium text-green-900 dark:text-green-200 mr-2"},fv={key:0,class:"pl-2 space-y-2 mb-4 animate-fadeIn"},gv={class:"text-green-700 dark:text-green-400 text-sm"},vv={class:"font-medium text-green-900 dark:text-green-200 text-sm"},hv={class:"border-t-2 border-amber-200 dark:border-amber-700 pt-3 flex justify-between items-center font-bold text-amber-900 dark:text-amber-200 px-5"},bv={class:"bg-amber-200 dark:bg-amber-700 px-3 py-1 rounded-lg"},yv=_e({__name:"MultiplierBreakdownModal",props:{show:{type:Boolean},generatorId:{},generatorName:{}},emits:["close"],setup(e,{emit:t}){const r=e,s=t,{handleClose:a,preventBackgroundTouchMove:i}=yr(),l=N(!1),u=()=>{a(()=>s("close"),0)},c=S=>{S.key==="Escape"&&r.show&&u()};qe(()=>{window.addEventListener("keydown",c)}),At(()=>{window.removeEventListener("keydown",c)});const{getEnhancedMultiplierBreakdown:d,getFormattedTotalMultiplier:m,getAchievementMultiplier:g,getAchievementMultiplierBreakdown:f}=xs(),p=F(()=>d(r.generatorId)),h=F(()=>f(r.generatorId)),x=F(()=>h.value.length>0),k=F(()=>{const S=g(r.generatorId);return S.lt(1e3)?`${S.toFixed(2)}x`:Z(S,2)+"x"}),v=F(()=>m(r.generatorId)),w=()=>{l.value=!l.value};return(S,M)=>S.show?(b(),y("div",{key:0,class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm modal-backdrop","data-modal-backdrop":"true",onClick:ot(u,["self"]),onTouchmove:M[0]||(M[0]=ot((...L)=>E(i)&&E(i)(...L),["self"]))},[o("div",sv,[o("h3",nv,[M[1]||(M[1]=o("span",{class:"i-heroicons-chart-bar text-amber-600 dark:text-amber-400 mr-2"},null,-1)),X(" "+_(S.generatorName)+" Multiplier Breakdown ",1)]),o("div",av,[o("div",iv,[(b(!0),y(he,null,ke(p.value,(L,A)=>(b(),y("div",{key:A,class:"flex justify-between items-center py-2 px-3 rounded-lg bg-amber-50 dark:bg-amber-900/30"},[o("span",lv,_(L.name),1),o("span",uv,_(L.formatted),1)]))),128))]),x.value?(b(),y("div",cv,[o("div",dv,[o("button",{onClick:w,class:"flex justify-between items-center w-full py-2 px-3 rounded-lg bg-green-50 dark:bg-green-900/30 hover:bg-green-100 dark:hover:bg-green-900/50 transition-colors"},[M[2]||(M[2]=o("span",{class:"text-green-700 dark:text-green-400 flex items-center"},[o("span",{class:"i-heroicons-trophy mr-2"}),X(" Achievement Bonuses ")],-1)),o("div",mv,[o("span",pv,_(k.value),1),o("span",{class:ne([{"i-heroicons-chevron-down":!l.value,"i-heroicons-chevron-up":l.value},"text-green-600 dark:text-green-400"])},null,2)])])]),l.value?(b(),y("div",fv,[(b(!0),y(he,null,ke(h.value,(L,A)=>(b(),y("div",{key:A,class:"flex justify-between items-center py-2 px-3 rounded-lg bg-green-50/50 dark:bg-green-900/20"},[o("span",gv,_(L.name),1),o("span",vv,_(L.formatted),1)]))),128))])):K("",!0)])):K("",!0)]),o("div",hv,[M[3]||(M[3]=o("span",null,"Total Multiplier",-1)),o("span",bv,_(v.value),1)]),o("div",{class:"mt-4 flex justify-end px-5 pb-5"},[o("button",{onClick:u,class:"py-2 px-4 bg-amber-600 hover:bg-amber-700 dark:bg-amber-700 dark:hover:bg-amber-800 rounded-lg text-white text-sm font-medium transition-colors"}," Close ")])])],32)):K("",!0)}}),xv=Ve(yv,[["__scopeId","data-v-d4b17523"]]),kv={class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden border border-amber-200 dark:border-amber-700 transition-all duration-200"},_v={class:"flex flex-col h-full"},wv={class:"bg-gradient-to-r from-amber-600 to-amber-500 dark:from-amber-700 dark:to-amber-600 py-1.5 px-2.5 flex items-center justify-between text-white"},Sv={class:"flex items-center"},$v={class:"font-bold text-xs md:text-sm"},Cv={class:"text-xs font-medium bg-amber-700/30 dark:bg-amber-800/40 px-1.5 py-0.5 rounded"},Ev={class:"px-2.5 pt-2 pb-1 text-amber-900 dark:text-amber-100 flex-grow text-xs"},Mv={class:"mb-1.5"},Av={class:"grid grid-cols-2 gap-x-2 gap-y-0.5 mb-1.5"},Pv={class:"text-right text-amber-700 dark:text-amber-400"},Iv={class:"text-right text-amber-600 dark:text-amber-500"},Lv={key:1},Tv={class:"text-right text-amber-700 dark:text-amber-400"},qv={class:"text-right text-amber-700 dark:text-amber-400"},Rv={class:"text-right text-amber-700 dark:text-amber-400"},Fv={key:0,class:"border-t border-amber-100 dark:border-amber-800 pt-1.5 mb-1.5"},Uv={class:"flex justify-between items-center mb-1"},Nv={class:"text-xs bg-amber-100 dark:bg-amber-900 text-amber-800 dark:text-amber-200 px-1.5 py-0.5 rounded-full"},Bv={class:"h-1.5 bg-amber-100 dark:bg-amber-900/50 rounded-full overflow-hidden"},Ov={class:"flex justify-between mt-0.5 text-2xs text-amber-700 dark:text-amber-400"},Dv={key:1,class:"flex justify-between items-center mb-1.5 border-t border-amber-100 dark:border-amber-800 pt-1.5"},Qv={class:"px-2.5 py-2 mt-auto border-t border-amber-100 dark:border-amber-800"},jv={key:0,class:"text-xs text-red-600 dark:text-red-400 mb-1 flex items-center"},Hv=_e({__name:"GeneratorItem",props:{generator:{}},emits:["upgrade"],setup(e,{emit:t}){const r=e,s=De(),a=Ue();yt();const i=Gt(),l=et(),u=N(!1),{getTotalMultiplier:c,getFormattedTotalMultiplier:d}=xs(),m=F(()=>s.getGeneratorCost(r.generator.id)),g=F(()=>Z(m.value,2)),f=F(()=>s.food.gte(m.value)),p=F(()=>Z(r.generator.count.add(r.generator.selfReplicated),0)),h=F(()=>Z(r.generator.manualPurchases,0)),x=F(()=>r.generator.count.sub(r.generator.manualPurchases)),k=F(()=>Z(x.value,0)),v=F(()=>Z(s.getBaseProduction(r.generator.id),1));F(()=>c(r.generator.id));const w=F(()=>d(r.generator.id)),S=F(()=>s.getActualProduction(r.generator.id)),M=F(()=>Z(S.value,1)),L=F(()=>r.generator.selfReplicated),A=F(()=>Z(L.value,0)),Y=F(()=>{const re=`${r.generator.id}Reproduction`;return a.getUpgradeMultiplier(re).gt(0)}),U={worker:"autoWorker",nursery:"autoNursery",queenChamber:"autoQueenChamber",colony:"autoColony",megacolony:"autoMegacolony",hivemind:"autoHivemind",antopolis:"autoAntopolis"},T=F(()=>{const re=U[r.generator.id];return re?a.getUpgradeMultiplier(re).gt(0):!1}),G=()=>{s.toggleAutoPurchase(r.generator.id)},D=()=>{f.value&&!P.value&&s.buyGenerator(r.generator.id)},P=F(()=>{if(r.generator.id==="hivemind"){const re=s.getGenerator("megacolony");return!re||re.count.eq(0)}else if(r.generator.id==="antopolis"){const re=s.getGenerator("hivemind");return!re||re.count.eq(0)}return!1}),$=F(()=>r.generator.id==="hivemind"?"Requires at least one Mega Colony":r.generator.id==="antopolis"?"Requires at least one Hive Mind":""),ee=F(()=>{switch(r.generator.tier){case 1:return"food";case 2:return"worker ants";case 3:return"nurseries";case 4:return"queen chambers";case 5:return"colonies";case 6:return"mega colonies";case 7:return"hive minds";default:return"resources"}}),W=F(()=>f.value&&!P.value?"w-full py-1.5 px-2.5 rounded text-xs font-medium bg-amber-600 hover:bg-amber-700 dark:bg-amber-700 dark:hover:bg-amber-800 text-white":"w-full py-1.5 px-2.5 rounded text-xs font-medium bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed"),ae=F(()=>i.isFeatureUnlocked.upgrades),z=F(()=>{var re;return((re=l.generatorLevels[r.generator.id])==null?void 0:re.toNumber())||0}),R=F(()=>l.formatProgressPercentage(r.generator.id)),ie=F(()=>l.formatPoints(r.generator.id));N(!1);const O=()=>{H("upgrade",r.generator.id)},H=t;return(re,de)=>(b(),y(he,null,[o("div",kv,[o("div",_v,[o("div",wv,[o("div",Sv,[o("span",{class:ne([re.generator.icon,"text-lg mr-1.5 text-amber-200 dark:text-amber-100"])},null,2),o("h3",$v,_(re.generator.name),1)]),o("div",Cv,_(p.value),1)]),o("div",Ev,[o("p",Mv,_(re.generator.description),1),o("div",Av,[de[3]||(de[3]=o("div",{class:"font-medium text-amber-700 dark:text-amber-400"},"Production:",-1)),o("div",Pv,_(M.value)+" "+_(ee.value)+"/trip",1),de[4]||(de[4]=o("div",{class:"font-medium text-amber-600 dark:text-amber-500"},"Base × Multiplier:",-1)),o("div",Iv,[X(_(v.value)+" × ",1),w.value.length>0?(b(),y("span",{key:0,class:"cursor-pointer underline decoration-dotted",onClick:de[0]||(de[0]=Ae=>u.value=!0)},_(w.value),1)):(b(),y("span",Lv,_(w.value),1))]),de[5]||(de[5]=o("div",{class:"font-medium text-amber-700 dark:text-amber-400"},"Bought:",-1)),o("div",Tv,_(h.value),1),de[6]||(de[6]=o("div",{class:"font-medium text-amber-700 dark:text-amber-400"},"Generated:",-1)),o("div",qv,_(k.value),1),Y.value?(b(),y(he,{key:0},[de[2]||(de[2]=o("div",{class:"font-medium text-amber-700 dark:text-amber-400"},"Self-Replicated:",-1)),o("div",Rv,_(A.value),1)],64)):K("",!0)]),ae.value&&re.generator.count.gt(0)?(b(),y("div",Fv,[o("div",Uv,[de[7]||(de[7]=o("span",{class:"font-medium text-amber-800 dark:text-amber-300 flex items-center"},[o("span",{class:"i-heroicons-star text-amber-600 dark:text-amber-400 mr-1 text-xs"}),X(" Specialization: ")],-1)),o("span",Nv," Lvl "+_(z.value),1)]),o("div",Bv,[o("div",{class:"h-full bg-amber-500 dark:bg-amber-600 transition-all duration-700 ease-out",style:tt({width:`${R.value}%`})},null,4)]),o("div",Ov,[o("span",null,_(ie.value)+" points",1),o("span",null,_(R.value)+"%",1)]),o("button",{onClick:O,class:"mt-1 w-full text-xs bg-amber-600 dark:bg-amber-700 text-white px-2 py-1 rounded-md flex items-center justify-center hover:bg-amber-700 dark:hover:bg-amber-800 transition-colors"},de[8]||(de[8]=[o("span",{class:"i-heroicons-arrow-up-circle text-xs mr-1"},null,-1),X(" Upgrade Specialization ")]))])):K("",!0),T.value?(b(),y("div",Dv,[de[9]||(de[9]=o("span",{class:"font-medium text-amber-800 dark:text-amber-300"},"Auto-purchase:",-1)),o("button",{onClick:G,class:ne(["w-8 h-4 rounded-full relative cursor-pointer transition-colors duration-200 ease-in-out",re.generator.autoPurchaseEnabled?"bg-green-500 dark:bg-green-600":"bg-gray-300 dark:bg-gray-600"])},[o("span",{class:ne(["absolute top-0.5 left-0.5 w-3 h-3 bg-white dark:bg-gray-200 rounded-full shadow transform transition-transform duration-200 ease-in-out",re.generator.autoPurchaseEnabled?"translate-x-4":"translate-x-0"])},null,2)],2)])):K("",!0)]),o("div",Qv,[P.value?(b(),y("div",jv,[de[10]||(de[10]=o("span",{class:"i-heroicons-exclamation-triangle text-xs mr-1"},null,-1)),X(" "+_($.value),1)])):K("",!0),ye(Bo,{onAction:D,disabled:!f.value||P.value,class:ne(W.value),"initial-delay":400,"repeat-interval":150,accelerate:!0,"min-interval":30},{default:We(()=>[de[11]||(de[11]=o("span",{class:"i-heroicons-shopping-cart text-xs mr-1"},null,-1)),X(" Buy for "+_(g.value)+" food ",1)]),_:1},8,["disabled","class"])])])]),ye(xv,{show:u.value,"generator-id":re.generator.id,"generator-name":re.generator.name,onClose:de[1]||(de[1]=Ae=>u.value=!1)},null,8,["show","generator-id","generator-name"])],64))}}),Gv=Ve(Hv,[["__scopeId","data-v-29ccec33"]]),Vv={class:"text-base font-bold mb-2 flex items-center justify-between"},Wv={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3"},Kv=_e({__name:"AntHierarchySection",props:{className:{}},emits:["upgrade","showInfo"],setup(e,{emit:t}){const r=t,s=De(),a=Gt(),i=F(()=>s.unlockedGenerators),l=F(()=>s.nextUnlockableGenerator),u=m=>{r("upgrade",m)},c=F(()=>a.isFeatureUnlocked.upgrades),d=()=>{r("showInfo")};return(m,g)=>{const f=Gv,p=ov;return b(),y("section",{id:"generator-section",class:ne(["bg-gradient-to-br from-amber-100 to-amber-50 rounded-xl p-3 shadow-md dark:from-amber-900/30 dark:to-amber-800/30 dark:text-amber-50",m.className])},[o("h2",Vv,[g[1]||(g[1]=o("div",{class:"flex items-center"},[o("span",{class:"i-heroicons-cog-6-tooth text-amber-700 mr-2"}),X(" Ant Hierarchy ")],-1)),E(c)?(b(),y("button",{key:0,onClick:d,class:"w-5 h-5 rounded-full bg-amber-200 hover:bg-amber-300 dark:bg-amber-800 dark:hover:bg-amber-700 flex items-center justify-center text-amber-700 dark:text-amber-300 transition-colors"},g[0]||(g[0]=[o("span",{class:"i-heroicons-question-mark-circle text-base"},null,-1)]))):K("",!0)]),o("div",Wv,[(b(!0),y(he,null,ke(E(i),h=>(b(),Oe(f,{key:h.id,generator:h,onUpgrade:u},null,8,["generator"]))),128)),E(l)?(b(),Oe(p,{key:0,generator:E(l)},null,8,["generator"])):K("",!0)])],2)}}}),zv={class:"space-y-4"},Yv={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Jv="https://discord.gg/kNXpD53Q4F",Xv="https://discord.gg/cHyAFTx9kj",Zv="https://buymeacoffee.com/idleantfarm",eh=_e({__name:"IndexPage",setup(e){br(),De(),Ue();const t=Gt();et();const{isFeatureUnlocked:r}=t,{shouldAnimateFeature:s}=Bu(),a=N(!1),i=N(!1),l=N(!1),u=N(null),c=N(!1),d=p=>{u.value=p,c.value=!0},m=()=>{c.value=!1},g=N(!1),f=()=>{g.value=!g.value};return qe(()=>{s("colonyStatus")&&(a.value=!0,setTimeout(()=>{a.value=!1},1500)),s("upgrades")&&(i.value=!0,setTimeout(()=>{i.value=!1},1500)),s("upgrades")&&(l.value=!0,setTimeout(()=>{l.value=!1},1500))}),Se(()=>r.colonyStatus,(p,h)=>{p&&!h&&(a.value=!0,setTimeout(()=>{a.value=!1},1500))}),Se(()=>r.upgrades,(p,h)=>{p&&!h&&(i.value=!0,l.value=!0,setTimeout(()=>{i.value=!1,l.value=!1},1500))}),(p,h)=>(b(),y("div",zv,[o("div",Yv,[E(r).colonyStatus?(b(),Oe(sg,{key:0,class:ne(["md:col-span-2",{"feature-unlock-pulse":a.value}]),"github-issues-url":Jv,"discord-url":Xv,"buy-me-coffee-url":Zv},null,8,["class"])):K("",!0),E(r).evolution?(b(),Oe(Ng,{key:1,class:ne({"feature-unlock-pulse":i.value})},sd({_:2},[E(r).showMetamorphosisExplanation?{name:"explanation",fn:We(()=>[h[0]||(h[0]=o("div",{class:"p-3 bg-blue-100 dark:bg-blue-900 rounded-md mb-3 text-sm"},[o("p",{class:"font-medium"},"What is Metamorphosis?"),o("p",{class:"mt-1"},"Metamorphosis allows you to evolve your colony and gain powerful bonuses. Purchase ants and other generators to increase your Evolution Points (EP).")],-1))]),key:"0"}:void 0]),1032,["class"])):K("",!0)]),ye(Kv,{onUpgrade:d,onShowInfo:f}),ye(tf,{show:g.value,onClose:f},null,8,["show"]),ye(Hf,{show:c.value,"selected-generator":u.value,"generator-info":E(Jp),onClose:m},null,8,["show","selected-generator","generator-info"]),ye(qr,{threshold:400})]))}});function th(){const e=N(null),t=N(!1),r=N(!1),s=N(!0),a=()=>{(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0||document.referrer.includes("android-app://"))&&(r.value=!0)},i=()=>{const d=navigator.userAgent.toLowerCase(),m=d.indexOf("chrome")>-1&&d.indexOf("edg")===-1,g=d.indexOf("edg")>-1,f=d.indexOf("safari")>-1&&d.indexOf("chrome")===-1,p=d.indexOf("firefox")>-1,h=d.indexOf("arc")>-1,x=d.indexOf("macintosh")>-1;(r.value||h||f&&x||!m&&!g&&!f&&!p)&&(s.value=!1)},l=d=>{d.preventDefault(),e.value=d,t.value=!0},u=()=>{r.value=!0,t.value=!1,e.value=null,console.log("PWA was installed")},c=async()=>{if(!e.value){s.value&&alert('要安装此应用程序：点击浏览器中的共享/菜单按钮，然后选择“添加到主屏幕”或“安装”。');return}e.value.prompt(),(await e.value.userChoice).outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),e.value=null,t.value=!1};return qe(()=>{a(),i(),window.addEventListener("beforeinstallprompt",l),window.addEventListener("appinstalled",u)}),vr(()=>{window.removeEventListener("beforeinstallprompt",l),window.removeEventListener("appinstalled",u)}),{isInstallable:t,isInstalled:r,browserSupportsInstall:s,promptInstall:c}}const rh="0.9.9";function Ou(){return{version:rh}}function Du(e){let t=e;return t=t.replace(/```([^`]+)```/g,(r,s)=>`<pre class="bg-amber-100 dark:bg-amber-950/40 p-4 rounded-lg overflow-x-auto my-3"><code>${s.trim()}</code></pre>`),t=t.replace(/`([^`]+)`/g,(r,s)=>`<code class="bg-amber-100 dark:bg-amber-950/40 px-1 py-0.5 rounded font-mono text-sm">${s}</code>`),t=t.replace(/^## (.+)$/gm,(r,s)=>`<h2 class="text-xl font-bold mt-6 mb-3 text-amber-800 dark:text-amber-300">${s}</h2>`),t=t.replace(/^### (.+)$/gm,(r,s)=>`<h3 class="text-lg font-bold mt-4 mb-2 text-amber-700 dark:text-amber-400">${s}</h3>`),t=t.replace(/\*\*([^*]+)\*\*/g,(r,s)=>`<strong class="font-bold">${s}</strong>`),t=t.replace(/\*([^*]+)\*/g,(r,s)=>`<em class="italic">${s}</em>`),t=t.replace(/\[([^\]]+)\]\(([^)]+)\)/g,(r,s,a)=>`<a href="${a}" class="text-amber-600 dark:text-amber-400 hover:underline" target="_blank" rel="noopener noreferrer">${s}</a>`),t=t.replace(/^\s*-\s+(.+)$/gm,(r,s)=>`<li class="mb-1">${s}</li>`),t=t.replace(/<li class="mb-1">(.+)<\/li>\n<li class="mb-1">/g,`<li class="mb-1">$1</li>
<li class="mb-1">`),t=t.replace(/(<li class="mb-1">.+<\/li>\n)+/g,r=>`<ul class="list-disc pl-6 my-3">${r}</ul>`),t=t.replace(/^([^<\n].+)$/gm,(r,s)=>`<p class="my-2">${s}</p>`),t=t.replace(/## \[(.+)\] - (.+)/g,(r,s,a)=>`<h2 class="text-xl font-bold mt-6 mb-3 text-amber-800 dark:text-amber-300">
      <span class="inline-block bg-amber-200 dark:bg-amber-800/80 text-amber-800 dark:text-amber-200 px-2 py-1 rounded mr-2">${s}</span>
      <span class="text-amber-600 dark:text-amber-400 text-base">${a}</span>
    </h2>`),t}const Ei="idle-ant-farm-last-version",Mi="idle-ant-farm-announcements-enabled",lo=(e,t)=>{const r=e.split(".").map(Number),s=t.split(".").map(Number);for(let a=0;a<Math.max(r.length,s.length);a++){const i=a<r.length?r[a]:0,l=a<s.length?s[a]:0;if(i>l)return 1;if(i<l)return-1}return 0};function Qu(){const{version:e}=Ou(),t=N(!1),r=N(!0),s=N({versionRange:"",date:"",content:""}),a=N(!0),i=()=>localStorage.getItem(Ei)||"0.0.0",l=()=>{localStorage.setItem(Ei,e)},u=()=>{const x=localStorage.getItem(Mi);x!==null&&(r.value=x==="true")},c=()=>{r.value=!r.value,localStorage.setItem(Mi,r.value.toString())},d=F(()=>{const x=i();return lo(e,x)>0}),m=(x,k)=>{const v=`## [${k}]`,w=x.indexOf(v);if(w===-1)return null;const S=x.substring(w).match(/## \[[^\]]+\] - ([^\n]+)/);if(!S)return null;const M=S[1],L=x.indexOf(`

`,w)+2,A=x.indexOf("## [",L),Y=A!==-1?A:x.length,U=x.substring(L,Y).trim();return{version:k,date:M,content:U}},g=x=>{const k=[],v=/## \[([^\]]+)\] - ([^\n]+)/g;let w;for(;(w=v.exec(x))!==null;){const S=w[1];w[2];const M=m(x,S);M&&k.push(M)}return k.sort((S,M)=>lo(M.version,S.version)),k},f=(x,k,v)=>{const w=g(x);if(w.length===0)return null;const S=w.filter(A=>lo(A.version,k)>0&&lo(A.version,v)<=0);if(S.length===0)return null;S.sort((A,Y)=>lo(Y.version,A.version));let M="";return S.forEach(A=>{M+=`<h2 class="text-xl font-bold mt-6 mb-3 text-amber-800 dark:text-amber-300">
        <span class="inline-block bg-amber-200 dark:bg-amber-800/80 text-amber-800 dark:text-amber-200 px-2 py-1 rounded mr-2">v${A.version}</span>
        <span class="text-amber-600 dark:text-amber-400 text-base">${A.date}</span>
      </h2>
${Du(A.content)}

`}),{versionRange:S.length===1?S[0].version:`${S[S.length-1].version} to ${S[0].version}`,date:S[0].date,content:M}},p=async()=>{try{a.value=!0;const k=await(await fetch("/CHANGELOG.md")).text(),v=i(),w=f(k,v,e);w&&(s.value=w,d.value&&r.value&&(t.value=!0))}catch(x){console.error("Failed to load changelog:",x)}finally{a.value=!1}},h=()=>{t.value=!1,l()};return u(),qe(()=>{p()}),{showAnnouncement:t,updateDetails:s,isLoading:a,hasVersionUpdate:d,closeAnnouncement:h,announcementsEnabled:r,toggleAnnouncementsEnabled:c}}const oh=Ye("darkMode",()=>{const e=N(!1);function t(){const i=localStorage.getItem("darkMode");i==="true"?e.value=!0:i==="false"?e.value=!1:e.value=window.matchMedia("(prefers-color-scheme: dark)").matches,a(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",l=>{localStorage.getItem("darkMode")===null&&s(l.matches)})}function r(){e.value=!e.value,a()}function s(i){e.value=i,a()}function a(){e.value?(document.documentElement.classList.add("dark"),localStorage.setItem("darkMode","true")):(document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode","false"))}return{isDarkMode:e,initialize:t,toggleDarkMode:r,setDarkMode:s}});function Os(){const e=oh();return qe(()=>{e.initialize()}),{isDarkMode:e.isDarkMode,toggleDarkMode:e.toggleDarkMode,setDarkMode:e.setDarkMode}}const sh={class:"flex items-center justify-between"},nh={class:"relative inline-flex items-center cursor-pointer"},ah=_e({__name:"DarkModeToggle",setup(e){const{isDarkMode:t,toggleDarkMode:r}=Os();return(s,a)=>(b(),y("div",sh,[a[3]||(a[3]=o("div",null,[o("div",{class:"text-sm font-medium"},"Dark Mode"),o("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Toggle between light and dark theme")],-1)),o("label",nh,[He(o("input",{"onUpdate:modelValue":a[0]||(a[0]=i=>Te(t)?t.value=i:null),type:"checkbox",class:"sr-only peer",onChange:a[1]||(a[1]=(...i)=>E(r)&&E(r)(...i))},null,544),[[mt,E(t)]]),a[2]||(a[2]=o("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])]))}}),ih="0.9.9",lh={class:"space-y-4 dark:bg-gray-900 dark:text-gray-100"},uh={key:0,class:"bg-gradient-to-br from-green-100 to-green-50 dark:from-green-900 dark:to-green-800 rounded-xl p-3 shadow-md"},ch={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-green-200 dark:border-green-700"},dh={class:"text-xs text-green-800 dark:text-green-200"},mh={class:"text-xs font-medium mt-1"},ph={class:"mt-2 flex justify-end"},fh={key:1,class:"bg-gradient-to-br from-blue-100 to-blue-50 dark:from-blue-900 dark:to-blue-800 rounded-xl p-3 shadow-md"},gh={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-blue-200 dark:border-blue-700"},vh={key:1,class:"text-sm text-blue-800 dark:text-blue-200"},hh={class:"bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-800 dark:to-gray-700 rounded-xl p-3 shadow-md"},bh={class:"space-y-2"},yh={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},xh={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},kh={class:"flex items-center justify-between"},_h={class:"relative inline-flex items-center cursor-pointer"},wh={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},Sh={class:"flex items-center justify-between"},$h={class:"relative inline-flex items-center cursor-pointer"},Ch={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},Eh={class:"flex items-center justify-between"},Mh={class:"relative inline-flex items-center cursor-pointer"},Ah={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},Ph={class:"flex items-center justify-between"},Ih={class:"relative inline-flex items-center cursor-pointer"},Lh={key:2,class:"bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-800 dark:to-gray-700 rounded-xl p-3 shadow-md"},Th={class:"space-y-2"},qh={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},Rh={class:"flex items-center justify-between"},Fh={class:"relative inline-flex items-center cursor-pointer"},Uh={class:"bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-800 dark:to-gray-700 rounded-xl p-3 shadow-md"},Nh={class:"space-y-2"},Bh={key:0,class:"bg-green-100 dark:bg-green-900 p-2 rounded-lg border border-green-200 dark:border-green-700"},Oh={class:"text-xs text-green-800 dark:text-green-200 flex items-center"},Dh={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},Qh={class:"mb-2"},jh={key:0,class:"mt-1"},Hh={key:0,class:"text-xs text-green-600 dark:text-green-400 mt-0.5"},Gh={class:"grid grid-cols-2 gap-2 mb-2"},Vh={class:"bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md p-1.5 mb-1 h-16 flex flex-col justify-center"},Wh={key:0,class:"text-xs text-red-600 dark:text-red-400 mt-0.5"},Kh={key:1,class:"text-xs text-green-600 dark:text-green-400 mt-0.5"},zh={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},Yh={key:1,class:"space-y-1"},Jh={class:"grid grid-cols-2 gap-2"},Xh={class:"bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-800 dark:to-gray-700 rounded-xl p-3 shadow-md"},Zh={class:"grid grid-cols-2 gap-2"},eb={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},tb={class:"text-sm font-medium"},rb={class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600"},ob={class:"text-sm font-medium"},sb=_e({__name:"SettingsPage",setup(e){const t=Rt(),r=br(),s=Ue(),a=Ct(),{announcementsEnabled:i,toggleAnnouncementsEnabled:l}=Qu(),{isInstallable:u,promptInstall:c,browserSupportsInstall:d}=th();N(1);const m=N(""),g=N(""),f=N(""),p=N(!1),h=N(!1),x=N(null),k=N(!1),v=N(!1),w=N(!1),S=N(null);Se(()=>t.isCalculatingOfflineProgress,P=>{!P&&t.offlineProgressTotalTicks>0&&(S.value={elapsedTime:t.offlineProgressElapsedTime,ticks:t.offlineProgressTotalTicks})});const M=()=>{const P=t.exportSave();P&&(m.value=P,h.value=!0,setTimeout(()=>{h.value=!1},3e3))},L=async()=>{if(f.value="",!g.value){f.value="Please enter a save string";return}try{await t.importSave(g.value)?(p.value=!0,g.value="",setTimeout(()=>{p.value=!1},3e3)):f.value="Invalid save data"}catch(P){f.value="Error importing save",console.error(P)}},A=async P=>{f.value="";const $=P.target;if(!$.files||$.files.length===0){f.value="No file selected";return}const ee=$.files[0];try{await t.importSaveFromFile(ee)?(p.value=!0,setTimeout(()=>{p.value=!1},3e3)):f.value="Invalid save data in file"}catch(W){f.value="Error importing save from file",console.error(W)}x.value&&(x.value.value="")},Y=()=>{t.exportSaveToFile()},U=()=>{t.saveGame()&&(k.value=!0,setTimeout(()=>{k.value=!1},3e3))},T=async()=>{await t.loadGame()&&(v.value=!0,setTimeout(()=>{v.value=!1},3e3))},G=()=>{w.value?t.resetGame():(w.value=!0,setTimeout(()=>{w.value=!1},5e3))},D=P=>{if(P<60)return`${Math.floor(P)} seconds`;if(P<3600){const $=Math.floor(P/60);return`${$} minute${$!==1?"s":""}`}else{const $=Math.floor(P/3600),ee=Math.floor(P%3600/60);return`${$} hour${$!==1?"s":""} ${ee>0?`and ${ee} minute${ee!==1?"s":""}`:""}`}};return qe(()=>{}),N(0),(P,$)=>{const ee=qr;return b(),y(he,null,[o("div",lh,[S.value?(b(),y("section",uh,[$[20]||($[20]=o("h2",{class:"text-base font-bold mb-2 flex items-center text-green-800 dark:text-green-200"},[o("span",{class:"i-heroicons-clock text-green-700 dark:text-green-300 mr-2"}),X(" Offline Progress Applied ")],-1)),o("div",ch,[o("p",dh," While you were away for "+_(D(S.value.elapsedTime))+", your colony continued to work! ",1),o("p",mh,[$[19]||($[19]=o("span",{class:"i-heroicons-check-circle text-green-600 dark:text-green-400 mr-1"},null,-1)),X(" "+_(S.value.ticks)+" game cycles completed ",1)])]),o("div",ph,[o("button",{onClick:$[0]||($[0]=W=>S.value=null),class:"text-xs text-green-800 dark:text-green-200 bg-green-200 dark:bg-green-700 hover:bg-green-300 dark:hover:bg-green-600 px-2 py-1 rounded-md"}," Dismiss ")])])):K("",!0),E(u)||E(d)?(b(),y("section",fh,[$[26]||($[26]=o("h2",{class:"text-base font-bold mb-2 flex items-center text-blue-800 dark:text-blue-200"},[o("span",{class:"i-heroicons-device-phone-mobile text-blue-700 dark:text-blue-300 mr-2"}),X(" Install Colony App ")],-1)),o("div",gh,[$[25]||($[25]=o("p",{class:"text-sm text-blue-800 dark:text-blue-200 mb-2"}," Install Idle Ant Farm as an app on your device for the best experience! ",-1)),E(u)?(b(),y("button",{key:0,onClick:$[1]||($[1]=(...W)=>E(c)&&E(c)(...W)),class:"w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium flex items-center justify-center"},$[21]||($[21]=[o("span",{class:"i-heroicons-arrow-down-tray text-base mr-2"},null,-1),X(" Install App ")]))):E(d)?(b(),y("div",vh,[$[23]||($[23]=o("p",{class:"mb-2"},"To install this app on your device:",-1)),$[24]||($[24]=o("ol",{class:"list-decimal pl-5 space-y-1"},[o("li",null,"Tap the share/menu button in your browser"),o("li",null,'Select "Add to Home Screen" or "Install"')],-1)),o("button",{onClick:$[2]||($[2]=(...W)=>E(c)&&E(c)(...W)),class:"mt-2 w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium flex items-center justify-center"},$[22]||($[22]=[o("span",{class:"i-heroicons-information-circle text-base mr-2"},null,-1),X(" Show Installation Help ")]))])):K("",!0)])])):K("",!0),o("section",hh,[$[35]||($[35]=o("h2",{class:"text-base font-bold mb-2 flex items-center"},[o("span",{class:"i-heroicons-cog-6-tooth text-gray-700 dark:text-gray-300 mr-2"}),X(" Colony Settings ")],-1)),o("div",bh,[o("div",yh,[ye(ah)]),o("div",xh,[o("div",kh,[$[28]||($[28]=o("div",null,[o("div",{class:"text-sm font-medium"},"Achievement Notifications"),o("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Show popup notifications when achievements are unlocked")],-1)),o("label",_h,[He(o("input",{type:"checkbox","onUpdate:modelValue":$[3]||($[3]=W=>E(a).notificationsEnabled=W),class:"sr-only peer"},null,512),[[mt,E(a).notificationsEnabled]]),$[27]||($[27]=o("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])]),o("div",wh,[o("div",Sh,[$[30]||($[30]=o("div",null,[o("div",{class:"text-sm font-medium"},"Update Announcements"),o("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Show popup with details when the game is updated ")],-1)),o("label",$h,[He(o("input",{type:"checkbox","onUpdate:modelValue":$[4]||($[4]=W=>Te(i)?i.value=W:null),onChange:$[5]||($[5]=(...W)=>E(l)&&E(l)(...W)),class:"sr-only peer"},null,544),[[mt,E(i)]]),$[29]||($[29]=o("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])]),o("div",Ch,[o("div",Eh,[$[32]||($[32]=o("div",null,[o("div",{class:"text-sm font-medium"},"Pheromone Trail Preservation"),o("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Automatically save your colony progress every minute ")],-1)),o("label",Mh,[He(o("input",{type:"checkbox","onUpdate:modelValue":$[6]||($[6]=W=>E(t).autoSaveEnabled=W),class:"sr-only peer"},null,512),[[mt,E(t).autoSaveEnabled]]),$[31]||($[31]=o("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])]),o("div",Ah,[o("div",Ph,[$[34]||($[34]=o("div",null,[o("div",{class:"text-sm font-medium"},"Hibernation Progress"),o("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Calculate colony progress while you're away")],-1)),o("label",Ih,[He(o("input",{type:"checkbox","onUpdate:modelValue":$[7]||($[7]=W=>E(t).offlineProgressEnabled=W),class:"sr-only peer"},null,512),[[mt,E(t).offlineProgressEnabled]]),$[33]||($[33]=o("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])])])]),E(s).hasEvolved?(b(),y("section",Lh,[$[38]||($[38]=o("h2",{class:"text-base font-bold mb-2 flex items-center"},[o("span",{class:"i-heroicons-arrow-path text-gray-700 dark:text-gray-300 mr-2"}),X(" Evolution Settings ")],-1)),o("div",Th,[o("div",qh,[o("div",Rh,[$[37]||($[37]=o("div",null,[o("div",{class:"text-sm font-medium"},"Auto-Enable Auto Purchases After Evolution"),o("div",{class:"text-xs text-gray-600 dark:text-gray-400"},"Automatically enable all auto-purchases after evolving")],-1)),o("label",Fh,[He(o("input",{type:"checkbox","onUpdate:modelValue":$[8]||($[8]=W=>E(t).autoEnableGeneratorsAfterPrestige=W),class:"sr-only peer"},null,512),[[mt,E(t).autoEnableGeneratorsAfterPrestige]]),$[36]||($[36]=o("div",{class:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1))])])])])])):K("",!0),o("section",Uh,[$[56]||($[56]=o("h2",{class:"text-base font-bold mb-2 flex items-center"},[o("span",{class:"i-heroicons-document-text text-gray-700 dark:text-gray-300 mr-2"}),X(" Colony Memory Management ")],-1)),o("div",Nh,[o("div",{class:"grid grid-cols-2 gap-2"},[o("button",{onClick:U,class:"py-1.5 px-3 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},$[39]||($[39]=[o("span",{class:"i-heroicons-document-arrow-down text-base mr-1"},null,-1),X(" Save Colony ")])),o("button",{onClick:T,class:"py-1.5 px-3 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},$[40]||($[40]=[o("span",{class:"i-heroicons-document-arrow-up text-base mr-1"},null,-1),X(" Load Colony ")]))]),k.value||v.value?(b(),y("div",Bh,[o("p",Oh,[$[41]||($[41]=o("span",{class:"i-heroicons-check-circle text-green-600 dark:text-green-400 mr-1"},null,-1)),o("span",null,_(k.value?"Colony saved successfully!":"Colony loaded successfully!"),1)])])):K("",!0),o("div",Dh,[$[51]||($[51]=o("div",{class:"text-sm font-medium mb-1"},"Export/Import Colony Data",-1)),o("div",Qh,[o("div",{class:"grid grid-cols-2 gap-2"},[o("button",{onClick:M,class:"py-1.5 px-3 bg-gray-600 hover:bg-gray-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},$[42]||($[42]=[o("span",{class:"i-heroicons-arrow-down-tray text-base mr-1"},null,-1),X(" Export as Code ")])),o("button",{onClick:Y,class:"py-1.5 px-3 bg-gray-600 hover:bg-gray-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},$[43]||($[43]=[o("span",{class:"i-heroicons-document-arrow-down text-base mr-1"},null,-1),X(" Export as File ")]))]),m.value?(b(),y("div",jh,[$[44]||($[44]=o("div",{class:"text-xs text-gray-600 dark:text-gray-400 mb-0.5"},"Copy this code to save your colony data: ",-1)),He(o("textarea",{readonly:"",class:"w-full p-1.5 text-xs bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md h-16 font-mono dark:text-gray-200","onUpdate:modelValue":$[9]||($[9]=W=>m.value=W)},null,512),[[ys,m.value]]),h.value?(b(),y("div",Hh," Colony data exported successfully! ")):K("",!0)])):K("",!0)]),o("div",null,[$[50]||($[50]=o("div",{class:"text-xs text-gray-600 dark:text-gray-400 mb-0.5"},"Import your colony data:",-1)),o("div",Gh,[o("div",null,[$[46]||($[46]=o("div",{class:"text-xs text-gray-600 dark:text-gray-400 mb-0.5"},"Paste code:",-1)),He(o("textarea",{class:"w-full p-1.5 text-xs bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md h-16 font-mono mb-1 dark:text-gray-200","onUpdate:modelValue":$[10]||($[10]=W=>g.value=W),placeholder:"Paste your colony data here..."},null,512),[[ys,g.value]]),o("button",{onClick:L,class:"w-full py-1.5 px-3 bg-gray-600 hover:bg-gray-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},$[45]||($[45]=[o("span",{class:"i-heroicons-arrow-up-tray text-base mr-1"},null,-1),X(" Import from Code ")]))]),o("div",null,[$[49]||($[49]=o("div",{class:"text-xs text-gray-600 dark:text-gray-400 mb-0.5"},"Select file:",-1)),o("div",Vh,[o("input",{type:"file",ref_key:"fileInputRef",ref:x,accept:".txt",class:"text-xs w-full dark:text-gray-200 hidden",onChange:A,id:"file-import-input"},null,544),$[47]||($[47]=o("label",{for:"file-import-input",class:"cursor-pointer bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md py-1.5 px-3 text-xs font-medium text-center flex items-center justify-center"},[o("span",{class:"i-heroicons-document-plus text-base mr-1"}),X(" Choose Save File ")],-1))]),o("button",{onClick:$[11]||($[11]=()=>{var W;return(W=x.value)==null?void 0:W.click()}),class:"w-full py-1.5 px-3 bg-gray-600 hover:bg-gray-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},$[48]||($[48]=[o("span",{class:"i-heroicons-folder-open text-base mr-1"},null,-1),X(" Import from File ")]))])]),f.value?(b(),y("div",Wh,_(f.value),1)):K("",!0),p.value?(b(),y("div",Kh," Colony data imported successfully! ")):K("",!0)])]),o("div",zh,[$[54]||($[54]=o("div",{class:"text-sm font-medium mb-1"},"Reset Colony",-1)),$[55]||($[55]=o("p",{class:"text-xs text-gray-600 dark:text-gray-400 mb-2"}," This will completely reset your colony progress. This action cannot be undone. ",-1)),w.value?(b(),y("div",Yh,[$[53]||($[53]=o("p",{class:"text-xs text-red-600 dark:text-red-400 font-medium"},"Are you sure you want to reset your colony? ",-1)),o("div",Jh,[o("button",{onClick:$[13]||($[13]=W=>w.value=!1),class:"py-1.5 px-3 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md text-xs font-medium"}," Cancel "),o("button",{onClick:$[14]||($[14]=W=>G()),class:"py-1.5 px-3 bg-red-600 hover:bg-red-700 text-white rounded-md text-xs font-medium"}," Yes, Reset ")])])):(b(),y("button",{key:0,onClick:$[12]||($[12]=W=>w.value=!0),class:"w-full py-1.5 px-3 bg-red-600 hover:bg-red-700 text-white rounded-md text-xs font-medium flex items-center justify-center"},$[52]||($[52]=[o("span",{class:"i-heroicons-trash text-base mr-1"},null,-1),X(" Reset Colony ")])))])])]),K("",!0),o("section",Xh,[$[66]||($[66]=o("h2",{class:"text-base font-bold mb-2 flex items-center"},[o("span",{class:"i-heroicons-information-circle text-gray-700 dark:text-gray-300 mr-2"}),X(" Game Information ")],-1)),o("div",Zh,[o("div",eb,[$[64]||($[64]=o("div",{class:"text-xs text-gray-800 dark:text-gray-400"},"Game Version:",-1)),o("div",tb,"v"+_(E(ih)),1)]),o("div",rb,[$[65]||($[65]=o("div",{class:"text-xs text-gray-800 dark:text-gray-400"},"Total Ticks:",-1)),o("div",ob,_(E(r).formattedTotalTicks),1)])])])]),ye(ee,{threshold:400})],64)}}}),nb=_e({__name:"AboutEvolutionDialog",props:{show:{type:Boolean}},emits:["close"],setup(e,{emit:t}){const r=e,s=t,{handleClose:a,preventBackgroundTouchMove:i}=yr(),l=()=>{a(()=>s("close"),0)},u=c=>{c.key==="Escape"&&r.show&&l()};return qe(()=>{window.addEventListener("keydown",u)}),At(()=>{window.removeEventListener("keydown",u)}),(c,d)=>c.show?(b(),y("div",{key:0,class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm modal-backdrop","data-modal-backdrop":"true",onClick:ot(l,["self"]),onTouchmove:d[0]||(d[0]=ot((...m)=>E(i)&&E(i)(...m),["self"]))},[o("div",{class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-2xl w-full p-5 mx-auto max-h-[80vh] overflow-y-auto border border-purple-200 dark:border-purple-700"},[o("div",{class:"flex justify-between items-center mb-3 pb-2 border-b border-purple-200 dark:border-purple-700"},[d[2]||(d[2]=o("h3",{class:"text-base font-bold flex items-center text-purple-800 dark:text-purple-300"},[o("span",{class:"i-heroicons-information-circle text-purple-600 dark:text-purple-400 mr-2"}),X(" About Metamorphosis ")],-1)),o("button",{onClick:l,class:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700"},d[1]||(d[1]=[o("span",{class:"i-heroicons-x-mark text-lg"},null,-1)]))]),d[3]||(d[3]=to('<div class="space-y-4 text-gray-700 dark:text-gray-300 text-sm"><p><strong>Metamorphosis</strong> is your colony&#39;s method of evolution, allowing you to transform your ants into more advanced forms and gain powerful permanent bonuses. </p><div class="bg-purple-50 dark:bg-purple-900/30 p-3 rounded-lg border border-purple-100 dark:border-purple-800"><h4 class="font-semibold text-purple-700 dark:text-purple-400 mb-2">Metamorphosis Process:</h4><ul class="list-disc pl-5 space-y-1"><li>Evolving resets most of your progress, including resources, structures, adaptations, and more.</li><li>You&#39;ll keep all EP (Evolution Points) and the bonuses they provide.</li><li>You&#39;ll gain EP based on your progress in the current evolution.</li><li>Each evolution unlocks new technologies, ant types, and game mechanics.</li></ul></div><div class="bg-green-50 dark:bg-green-900/30 p-3 rounded-lg border border-green-100 dark:border-green-800"><h4 class="font-semibold text-green-700 dark:text-green-400 mb-2">What You Keep:</h4><ul class="list-disc pl-5 space-y-1"><li>Evolution Points (EP) and all bonuses from them</li><li>Unlocked achievements</li><li>Pheromone Essence</li><li>Premium items and pets</li></ul></div><div class="bg-red-50 dark:bg-red-900/30 p-3 rounded-lg border border-red-100 dark:border-red-800"><h4 class="font-semibold text-red-700 dark:text-red-400 mb-2">What Resets:</h4><ul class="list-disc pl-5 space-y-1"><li>All resources (food, minerals, etc.)</li><li>Purchased structures and their levels</li><li>Adaptations and specialization levels</li><li>Colony level and title</li><li>Research and technology</li></ul></div><p> For the optimal evolution, focus on maximizing food production, colony level, and unlocking adaptations to earn more EP. Remember that early evolutions may feel slower, but each evolution makes subsequent ones faster and more rewarding. </p></div>',1))])],32)):K("",!0)}}),ab={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-5 mx-auto border border-purple-200 dark:border-purple-700"},ib={class:"text-sm text-gray-700 dark:text-gray-300 mb-4 leading-relaxed"},lb={class:"font-bold text-purple-600 dark:text-purple-400"},ub={key:0,class:"mb-4 p-2 bg-purple-50 dark:bg-purple-900/30 rounded-lg border border-purple-200 dark:border-purple-700"},cb={class:"text-xs text-purple-800 dark:text-purple-300 flex items-center"},db={key:1,class:"mb-4 p-2 bg-purple-50 dark:bg-purple-900/30 rounded-lg border border-purple-200 dark:border-purple-700"},mb={class:"text-xs text-purple-800 dark:text-purple-300 flex items-center"},pb={class:"flex space-x-3"},fb=_e({__name:"EvolutionConfirmationDialog",props:{show:{type:Boolean}},emits:["confirm","cancel"],setup(e,{emit:t}){const r=t,s=Ue(),a=yt(),i=F(()=>{const u=a.getQueenChamberEPBoost();return u.gt(1)?Z(u.sub(1).mul(100),2)+"%":null}),l=F(()=>{const u=a.getEPBoostMultiplier();return u.gt(1)?Z(u.sub(1).mul(100),2)+"%":null});return(u,c)=>u.show?(b(),y("div",{key:0,class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",onKeydown:c[2]||(c[2]=oa(d=>r("cancel"),["esc"])),onClick:c[3]||(c[3]=d=>r("cancel"))},[o("div",ab,[c[12]||(c[12]=o("h3",{class:"text-base font-bold mb-3 flex items-center text-purple-800 dark:text-purple-300 pb-2 border-b border-purple-200 dark:border-purple-700"},[o("span",{class:"i-heroicons-sparkles text-purple-600 dark:text-purple-400 mr-2"}),X(" Confirm Metamorphosis ")],-1)),o("p",ib,[c[4]||(c[4]=X(" You are about to metamorphose your colony. You will gain ")),o("span",lb,_(E(s).formatPotentialEPGain())+" Evolution Points",1),c[5]||(c[5]=X(". ")),c[6]||(c[6]=o("br",null,null,-1)),c[7]||(c[7]=X("Your progress will reset, but your evolutionary adaptations will remain. "))]),i.value?(b(),y("div",ub,[o("div",cb,[c[8]||(c[8]=o("span",{class:"i-heroicons-crown text-purple-600 dark:text-purple-400 mr-1"},null,-1)),o("span",null,"Queen Chamber Bonus: +"+_(i.value),1)]),c[9]||(c[9]=o("p",{class:"text-2xs text-purple-700 dark:text-purple-400 mt-1"}," Your queen chambers are enhancing your evolution potential, providing a bonus to EP gain. This bonus comes from the Royal Evolution upgrade. ",-1))])):K("",!0),l.value?(b(),y("div",db,[o("div",mb,[c[10]||(c[10]=o("span",{class:"i-heroicons-sparkles text-purple-600 dark:text-purple-400 mr-1"},null,-1)),o("span",null,"Item Bonus: +"+_(l.value),1)]),c[11]||(c[11]=o("p",{class:"text-2xs text-purple-700 dark:text-purple-400 mt-1"}," Your equipped items are enhancing your evolution potential, providing a bonus to EP gain. ",-1))])):K("",!0),o("div",pb,[o("button",{onClick:c[0]||(c[0]=d=>r("cancel")),class:"flex-1 py-2 px-4 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 text-sm font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"}," Cancel "),o("button",{onClick:c[1]||(c[1]=d=>r("confirm")),class:"flex-1 py-2 px-4 bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-800 rounded-lg text-white text-sm font-medium transition-colors"}," Metamorphose ")])])],32)):K("",!0)}}),gb={class:"p-2.5"},vb={class:"flex justify-between items-center mb-1.5"},hb={class:"flex items-center"},bb={key:0},yb={class:"flex justify-between items-center"},xb={class:"font-medium"},kb={key:0,class:"text-xs bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 px-1 py-0.5 rounded"},_b={key:0},wb={key:0},Sb={key:0,class:"text-xs text-red-500 dark:text-red-400 mt-1"},$b=_e({__name:"EvolutionUpgradeItem",props:{upgrade:{}},setup(e){const t=e,r=Ue(),s=F(()=>Z(t.upgrade.cost,2)),a=F(()=>Z(t.upgrade.level,0)),i=F(()=>t.upgrade.maxLevel?Z(t.upgrade.maxLevel,0):"∞"),l=F(()=>t.upgrade.formatEffect(t.upgrade.effect(t.upgrade.level))),u=F(()=>t.upgrade.effects?t.upgrade.effects.map(A=>({target:A.target,value:A.formatEffect(A.multiplier(t.upgrade.level)),isMultiplier:A.isMultiplier})):[]),c=F(()=>t.upgrade.effects&&t.upgrade.effects.length>0),d=F(()=>r.evolutionPoints.gte(t.upgrade.cost)),m=F(()=>t.upgrade.maxLevel?t.upgrade.level.gte(t.upgrade.maxLevel):!1),g=F(()=>{if(!t.upgrade.isUnlocked())return!0;if(t.upgrade.id==="unlockHivemind"){const Y=De().getGenerator("megacolony");return!Y||Y.count.eq(0)}else if(t.upgrade.id==="unlockAntopolis"){const Y=De().getGenerator("hivemind");return!Y||Y.count.eq(0)}return!1}),f=F(()=>t.upgrade.isUnlocked()?t.upgrade.id==="unlockHivemind"?"Requires at least one Mega Colony":t.upgrade.id==="unlockAntopolis"?"Requires at least one Hive Mind":"":"Upgrade not yet unlocked"),p=()=>{d.value&&!m.value&&!g.value&&r.purchaseUpgrade(t.upgrade.id)},h=()=>{switch(t.upgrade.category){case"production":return"border-purple-200 dark:border-purple-800";case"efficiency":return"border-blue-200 dark:border-blue-800";case"automation":return"border-red-200 dark:border-red-800";case"research":return"border-amber-200 dark:border-amber-800";case"synergy":return"border-green-200 dark:border-green-800";case"prestige":return"border-indigo-200 dark:border-indigo-800";default:return"border-gray-200 dark:border-gray-700"}},x=()=>{switch(t.upgrade.category){case"production":return"text-purple-600 dark:text-purple-400";case"efficiency":return"text-blue-600 dark:text-blue-400";case"automation":return"text-red-600 dark:text-red-400";case"research":return"text-amber-600 dark:text-amber-400";case"synergy":return"text-green-600 dark:text-green-400";case"prestige":return"text-indigo-600 dark:text-indigo-400";default:return"text-gray-600 dark:text-gray-400"}},k=()=>{switch(t.upgrade.category){case"production":return"text-purple-900 dark:text-purple-200";case"efficiency":return"text-blue-900 dark:text-blue-200";case"automation":return"text-red-900 dark:text-red-200";case"research":return"text-amber-900 dark:text-amber-200";case"synergy":return"text-green-900 dark:text-green-200";case"prestige":return"text-indigo-900 dark:text-indigo-200";default:return"text-gray-900 dark:text-gray-200"}},v=()=>{switch(t.upgrade.category){case"production":return"text-purple-700 dark:text-purple-300";case"efficiency":return"text-blue-700 dark:text-blue-300";case"automation":return"text-red-700 dark:text-red-300";case"research":return"text-amber-700 dark:text-amber-300";case"synergy":return"text-green-700 dark:text-green-300";case"prestige":return"text-indigo-700 dark:text-indigo-300";default:return"text-gray-700 dark:text-gray-300"}},w=()=>{switch(t.upgrade.category){case"production":return"text-purple-600 dark:text-purple-400";case"efficiency":return"text-blue-600 dark:text-blue-400";case"automation":return"text-red-600 dark:text-red-400";case"research":return"text-amber-600 dark:text-amber-400";case"synergy":return"text-green-600 dark:text-green-400";case"prestige":return"text-indigo-600 dark:text-indigo-400";default:return"text-gray-600 dark:text-gray-400"}},S=()=>{switch(t.upgrade.category){case"production":return"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200";case"efficiency":return"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200";case"automation":return"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200";case"research":return"bg-amber-100 dark:bg-amber-900 text-amber-800 dark:text-amber-200";case"synergy":return"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200";case"prestige":return"bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200";default:return"bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200"}},M=()=>{switch(t.upgrade.category){case"production":return"bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-800 text-white";case"efficiency":return"bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 text-white";case"automation":return"bg-red-600 hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-800 text-white";case"research":return"bg-amber-600 hover:bg-amber-700 dark:bg-amber-700 dark:hover:bg-amber-800 text-white";case"synergy":return"bg-green-600 hover:bg-green-700 dark:bg-green-700 dark:hover:bg-green-800 text-white";case"prestige":return"bg-indigo-600 hover:bg-indigo-700 dark:bg-indigo-700 dark:hover:bg-indigo-800 text-white";default:return"bg-gray-600 hover:bg-gray-700 dark:bg-gray-700 dark:hover:bg-gray-800 text-white"}},L=F(()=>d.value&&!m.value&&!g.value?M():"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400 cursor-not-allowed");return(A,Y)=>(b(),y("div",{class:ne(["bg-white/90 dark:bg-gray-800/90 rounded-lg shadow-sm overflow-hidden border transition-all duration-200 hover:shadow-md",[h(),{"opacity-75":!d.value||m.value||g.value}]])},[o("div",gb,[o("div",vb,[o("div",hb,[o("span",{class:ne([A.upgrade.icon,"text-lg mr-1.5",x()])},null,2),o("h3",{class:ne(["font-medium text-sm",k()])},_(A.upgrade.name),3)]),o("div",{class:ne(["text-xs font-medium px-1.5 py-0.5 rounded",S()])},[X(" Lv. "+_(a.value),1),A.upgrade.maxLevel?(b(),y("span",bb,"/"+_(i.value),1)):K("",!0)],2)]),o("p",{class:ne(["text-xs mb-2",v()])},_(A.upgrade.description),3),o("div",yb,[o("div",{class:ne(["text-xs space-y-1",w()])},[c.value?(b(!0),y(he,{key:0},ke(u.value,(U,T)=>(b(),y("div",{key:T,class:"flex items-center gap-1"},[o("span",xb,_(U.target)+":",1),o("span",null,_(U.value),1),U.isMultiplier?(b(),y("span",kb,"×")):K("",!0)]))),128)):(b(),y(he,{key:1},[t.upgrade.level.gt(0)?(b(),y("span",_b,"Effect: "+_(l.value),1)):K("",!0)],64))],2),ye(Bo,{onAction:p,disabled:!d.value||m.value||g.value,class:ne(["py-1 px-2 rounded text-xs font-medium transition-colors",L.value])},{default:We(()=>[m.value?(b(),y("span",wb,"Max")):(b(),y(he,{key:1},[X(_(s.value)+" EP ",1)],64))]),_:1},8,["disabled","class"])]),g.value?(b(),y("div",Sb,_(f.value),1)):K("",!0)])],2))}}),ls=["production","efficiency","automation","research","synergy","prestige","reproduction","cost","level-requirement","adventure"],ua=()=>[...ls],Cb=()=>["all",...ua()],ju=[{id:"default",label:"Default",compareFn:()=>0},{id:"cost-asc",label:"Cost (Low to High)",compareFn:(e,t)=>!e.cost||!t.cost?0:e.cost.cmp(t.cost)},{id:"cost-desc",label:"Cost (High to Low)",compareFn:(e,t)=>!e.cost||!t.cost?0:t.cost.cmp(e.cost)},{id:"level-asc",label:"Level (Low to High)",compareFn:(e,t)=>!e.level||!t.level?0:e.level.cmp(t.level)},{id:"level-desc",label:"Level (High to Low)",compareFn:(e,t)=>!e.level||!t.level?0:t.level.cmp(e.level)},{id:"name-asc",label:"Name (A to Z)",compareFn:(e,t)=>e.name.localeCompare(t.name)},{id:"name-desc",label:"Name (Z to A)",compareFn:(e,t)=>t.name.localeCompare(e.name)}],Hu=()=>{const e=Ue(),t=N(!1),r=N(!0),s=N(!0),a=N(""),i=ju,l=N(i[0].id),u=F(()=>{const f=e.evolutionUpgrades;if(!a.value.trim())return f;const p=a.value.toLowerCase();return f.filter(h=>h.name.toLowerCase().includes(p)||h.description.toLowerCase().includes(p))}),c=F(()=>{const f=i.find(p=>p.id===l.value);return f?f.compareFn:(console.warn(`Sort option "${l.value}" not found, using default.`),i[0].compareFn)});return{showMaxed:t,showAffordable:r,showUnlocked:s,searchQuery:a,sortOptions:i,selectedSort:l,textFilteredUpgrades:u,getCurrentSortFunction:c,resetFilters:()=>{t.value=!1,r.value=!0,s.value=!0,a.value="",l.value=i[0].id},syncWithStore:()=>{t.value=e.showMaxed,r.value=e.showAffordable,s.value=e.showUnlocked},saveToStore:()=>{e.showMaxed=t.value,e.showAffordable=r.value,e.showUnlocked=s.value}}},Eb={class:"space-y-4"},Mb={key:0,class:"text-center py-8"},Ab={key:1,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3"},Pb=_e({__name:"UpgradeGrid",props:{category:{},showMaxed:{type:Boolean},showAffordable:{type:Boolean},showUnlocked:{type:Boolean},searchQuery:{},selectedSort:{}},emits:["resetFilters"],setup(e,{expose:t,emit:r}){const s=e,a=r,i=ju,l=Ue(),u=F(()=>l.evolutionUpgrades),c=F(()=>{const f=Object.fromEntries(ua().map(p=>[p,[]]));return u.value.forEach(p=>{f[p.category]&&f[p.category].push(p)}),f}),d=f=>{const p=i.find(h=>h.id===f);return p?p.compareFn:(console.warn(`Sort option "${f}" not found, using default.`),i[0].compareFn)},m=F(()=>{let f=[];if(s.category==="all"?Object.values(c.value).forEach(h=>{f=[...f,...h]}):s.category in c.value&&(f=c.value[s.category]||[]),s.searchQuery.trim()){const h=s.searchQuery.toLowerCase();f=f.filter(x=>x.name.toLowerCase().includes(h)||x.description.toLowerCase().includes(h))}const p=f.filter(h=>{const x=s.showMaxed?!(h.maxLevel&&h.level.gte(h.maxLevel)):!0,k=!s.showAffordable||l.evolutionPoints.gte(h.cost),v=!s.showUnlocked||h.isUnlocked();return x&&k&&v});if(s.selectedSort&&s.selectedSort!=="default"){const h=d(s.selectedSort);return[...p].sort(h)}return p}),g=F(()=>{var f;if(s.category==="all"){let p=0;return Object.values(c.value).forEach(h=>{p+=h.length}),p}return((f=c.value[s.category])==null?void 0:f.length)||0});return t({count:g}),(f,p)=>(b(),y("div",Eb,[m.value.length===0?(b(),y("div",Mb,[p[1]||(p[1]=o("div",{class:"text-gray-400 dark:text-gray-500 i-heroicons-face-frown text-4xl mx-auto mb-2"},null,-1)),p[2]||(p[2]=o("p",{class:"text-gray-600 dark:text-gray-400"},"No upgrades match your filters",-1)),o("button",{onClick:p[0]||(p[0]=h=>a("resetFilters")),class:"mt-2 text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-300 text-sm"}," Reset filters ")])):(b(),y("div",Ab,[(b(!0),y(he,null,ke(m.value,h=>(b(),Oe($b,{key:h.id,upgrade:h},null,8,["upgrade"]))),128))]))]))}}),Ib={class:"mb-4 flex flex-col sm:flex-row gap-3 w-full"},Lb={class:"relative flex-1"},Tb={class:"relative"},qb=["value"],Rb=["value"],Fb=_e({__name:"UpgradeSearchBar",props:{searchQuery:{},sortOptions:{},selectedSort:{}},emits:["update:searchQuery","update:selectedSort","search"],setup(e,{emit:t}){const r=e,s=t,a=N(r.searchQuery),i=N(r.selectedSort);let l=null;const u=()=>{l&&clearTimeout(l),l=setTimeout(()=>{s("update:searchQuery",a.value),s("search")},300)},c=d=>{const g=d.target.value;g&&(i.value=g,s("update:selectedSort",g))};return Se(()=>r.searchQuery,d=>{a.value=d}),Se(()=>r.selectedSort,d=>{i.value=d}),(d,m)=>(b(),y("div",Ib,[o("div",Lb,[m[3]||(m[3]=o("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[o("span",{class:"i-heroicons-magnifying-glass text-gray-400"})],-1)),He(o("input",{"onUpdate:modelValue":m[0]||(m[0]=g=>a.value=g),type:"text",placeholder:"Search upgrades...",onInput:u,class:"w-full pl-10 pr-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-gray-900 dark:text-gray-100"},null,544),[[ys,a.value]]),a.value?(b(),y("button",{key:0,onClick:m[1]||(m[1]=g=>{a.value="",s("update:searchQuery",""),s("search")}),class:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"},m[2]||(m[2]=[o("span",{class:"i-heroicons-x-mark"},null,-1)]))):K("",!0)]),o("div",Tb,[o("select",{value:i.value,onChange:c,class:"appearance-none w-full sm:w-52 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg pl-3 pr-10 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 text-gray-900 dark:text-gray-100"},[(b(!0),y(he,null,ke(d.sortOptions,g=>(b(),y("option",{key:g.id,value:g.id},_(g.label),9,Rb))),128))],40,qb),m[4]||(m[4]=o("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500 dark:text-gray-400"},[o("span",{class:"i-heroicons-chevron-down"})],-1))])]))}}),Ub={class:"space-y-4"},Nb={class:"flex flex-col sm:flex-row flex-wrap items-start sm:items-center justify-start sm:justify-end gap-3 sm:gap-4"},Bb={class:"flex items-center space-x-2"},Ob={class:"flex items-center space-x-2"},Db={class:"flex items-center space-x-2"},Qb=_e({__name:"UpgradeFilters",props:{showMaxed:{type:Boolean},showAffordable:{type:Boolean},showUnlocked:{type:Boolean},searchQuery:{},selectedSort:{}},emits:["update:showMaxed","update:showAffordable","update:showUnlocked","update:searchQuery","update:selectedSort","resetFilters","search"],setup(e,{emit:t}){const r=e,s=t,{showMaxed:a,showAffordable:i,showUnlocked:l,searchQuery:u,sortOptions:c,selectedSort:d,resetFilters:m}=Hu();qe(()=>{a.value=r.showMaxed,i.value=r.showAffordable,l.value=r.showUnlocked,u.value=r.searchQuery,d.value=r.selectedSort});const g=p=>{d.value=p,s("update:selectedSort",p)};Se(()=>r.showMaxed,p=>{a.value=p}),Se(()=>r.showAffordable,p=>{i.value=p}),Se(()=>r.showUnlocked,p=>{l.value=p}),Se(()=>r.searchQuery,p=>{u.value=p}),Se(()=>r.selectedSort,p=>{d.value!==p&&(d.value=p)}),Se(a,p=>{p!==r.showMaxed&&s("update:showMaxed",p)}),Se(i,p=>{p!==r.showAffordable&&s("update:showAffordable",p)}),Se(l,p=>{p!==r.showUnlocked&&s("update:showUnlocked",p)}),Se(u,p=>{p!==r.searchQuery&&s("update:searchQuery",p)}),Se(d,p=>{p!==r.selectedSort&&s("update:selectedSort",p)});const f=()=>{m(),s("resetFilters")};return(p,h)=>(b(),y("div",Ub,[ye(Fb,{searchQuery:E(u),sortOptions:E(c),selectedSort:E(d),"onUpdate:searchQuery":h[0]||(h[0]=x=>s("update:searchQuery",x)),"onUpdate:selectedSort":g,onSearch:h[1]||(h[1]=x=>s("search"))},null,8,["searchQuery","sortOptions","selectedSort"]),o("div",Nb,[o("div",Bb,[He(o("input",{"onUpdate:modelValue":h[2]||(h[2]=x=>Te(l)?l.value=x:null),type:"checkbox",id:"show-unlocked",class:"form-checkbox h-4 w-4 sm:h-5 sm:w-5 text-purple-600 rounded border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 focus:ring-purple-500 dark:focus:ring-purple-400"},null,512),[[mt,E(l)]]),h[5]||(h[5]=o("label",{for:"show-unlocked",class:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 font-medium"},"Show Unlocked",-1))]),o("div",Ob,[He(o("input",{"onUpdate:modelValue":h[3]||(h[3]=x=>Te(a)?a.value=x:null),type:"checkbox",id:"show-maxed",class:"form-checkbox h-4 w-4 sm:h-5 sm:w-5 text-purple-600 rounded border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 focus:ring-purple-500 dark:focus:ring-purple-400"},null,512),[[mt,E(a)]]),h[6]||(h[6]=o("label",{for:"show-maxed",class:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 font-medium"},"Hide Maxed",-1))]),o("div",Db,[He(o("input",{"onUpdate:modelValue":h[4]||(h[4]=x=>Te(i)?i.value=x:null),type:"checkbox",id:"show-affordable",class:"form-checkbox h-4 w-4 sm:h-5 sm:w-5 text-purple-600 rounded border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 focus:ring-purple-500 dark:focus:ring-purple-400"},null,512),[[mt,E(i)]]),h[7]||(h[7]=o("label",{for:"show-affordable",class:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 font-medium"},"Show Affordable",-1))]),E(a)||!E(i)||!E(l)||E(u)?(b(),y("button",{key:0,onClick:f,class:"text-xs sm:text-sm text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-300 font-medium mt-2 sm:mt-0"}," Reset filters ")):K("",!0)])]))}}),jb={class:"sticky top-0 z-20 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-b border-gray-200 dark:border-gray-700",role:"tablist","aria-label":"Upgrade Categories"},Hb={class:"flex overflow-x-auto scrollbar-hide"},Gb=["onClick","onKeydown","id","aria-selected","aria-controls","tabindex"],Vb=_e({__name:"UpgradeTabsNavigation",props:{activeTab:{},categories:{}},emits:["update:activeTab"],setup(e,{emit:t}){const r=e,s=t,a=c=>{switch(c){case"production":return"i-heroicons-bolt";case"efficiency":return"i-heroicons-cog-6-tooth";case"automation":return"i-heroicons-cog-8-tooth";case"research":return"i-heroicons-beaker";case"synergy":return"i-heroicons-puzzle-piece";case"prestige":return"i-heroicons-star";case"all":return"i-heroicons-squares-2x2";default:return"i-heroicons-face-frown"}},i=c=>{switch(c){case"production":return"Production";case"efficiency":return"Efficiency";case"automation":return"Automation";case"research":return"Research";case"synergy":return"Synergy";case"prestige":return"Prestige";case"all":return"All";default:return c.charAt(0).toUpperCase()+c.slice(1)}},l=(c,d)=>{if(c.key==="ArrowRight"){const m=(d+1)%r.categories.length;s("update:activeTab",r.categories[m]),u(m),c.preventDefault()}else if(c.key==="ArrowLeft"){const m=(d-1+r.categories.length)%r.categories.length;s("update:activeTab",r.categories[m]),u(m),c.preventDefault()}else if(c.key==="Home")s("update:activeTab",r.categories[0]),u(0),c.preventDefault();else if(c.key==="End"){const m=r.categories.length-1;s("update:activeTab",r.categories[m]),u(m),c.preventDefault()}},u=c=>{const d=`tab-${r.categories[c]}`;setTimeout(()=>{const m=document.getElementById(d);m&&m.focus()},10)};return(c,d)=>(b(),y("div",jb,[o("div",Hb,[(b(!0),y(he,null,ke(c.categories,(m,g)=>(b(),y("button",{key:m,onClick:f=>s("update:activeTab",m),onKeydown:f=>l(f,g),class:ne(["px-4 py-3 font-medium text-sm whitespace-nowrap transition-colors outline-none",c.activeTab===m?"border-b-2 border-purple-600 dark:border-purple-500 text-purple-700 dark:text-purple-400":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"]),id:`tab-${m}`,"aria-selected":c.activeTab===m,"aria-controls":`panel-${m}`,role:"tab",tabindex:c.activeTab===m?0:-1},[o("span",{class:ne([a(m),"mr-1.5"])},null,2),X(" "+_(i(m))+" ",1),eo(c.$slots,"badge",{category:m},void 0,!0)],42,Gb))),128))])]))}}),Wb=Ve(Vb,[["__scopeId","data-v-63de947e"]]),Kb={class:"bg-gradient-to-br from-purple-200 to-purple-100 dark:from-purple-900/40 dark:to-purple-800/40 rounded-xl p-2 sm:p-4 shadow-md border border-purple-300/50 dark:border-purple-700/50 dark:text-purple-100"},zb={class:"flex flex-col space-y-2 sm:space-y-3"},Yb={class:"flex items-center justify-between"},Jb={class:"text-sm sm:text-base font-bold flex items-center text-purple-800 dark:text-purple-200"},Xb={key:0},Zb={key:1},e1={class:"flex items-center space-x-1 sm:space-x-2"},t1={class:"grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3"},r1={class:"sm:col-span-2 grid grid-cols-2 gap-2 sm:gap-3"},o1={class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},s1={class:"flex justify-between items-center"},n1={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},a1={key:0},i1={key:1},l1={class:"text-xs sm:text-sm font-bold flex items-center"},u1={class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},c1={class:"flex justify-between items-center"},d1={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},m1={key:0},p1={key:1},f1={class:"text-xs sm:text-sm font-bold flex items-center"},g1={class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},v1={class:"flex justify-between items-center"},h1={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},b1={key:0},y1={key:1},x1={class:"text-xs sm:text-sm font-bold flex items-center text-purple-700 dark:text-purple-400"},k1={class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},_1={class:"flex justify-between items-center"},w1={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},S1={key:0},$1={key:1},C1={class:"text-xs sm:text-sm font-bold flex items-center text-purple-700 dark:text-purple-400"},E1={class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},M1={class:"flex justify-between items-center mb-0.5 sm:mb-1"},A1={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},P1={key:0},I1={key:1},L1={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300"},T1={class:"ml-1 text-purple-500 dark:text-purple-400"},q1={class:"h-1.5 sm:h-2 bg-purple-100 dark:bg-purple-900/50 rounded-full overflow-hidden"},R1={class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700"},F1={class:"flex justify-between items-center mb-0.5 sm:mb-1"},U1={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},N1={key:0},B1={key:1},O1={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300"},D1={class:"ml-1 text-purple-500 dark:text-purple-400"},Q1={class:"h-1.5 sm:h-2 bg-purple-100 dark:bg-purple-900/50 rounded-full overflow-hidden"},j1={class:"flex sm:flex-col space-x-2 sm:space-x-0 sm:space-y-2"},H1={key:0,class:"bg-white/90 dark:bg-gray-800/90 p-1.5 sm:p-2 rounded-lg shadow-sm border border-purple-300 dark:border-purple-700 flex-grow"},G1={class:"text-2xs sm:text-xs text-purple-800 dark:text-purple-300 font-medium"},V1={key:0},W1={key:1},K1={class:"text-xs sm:text-sm font-bold flex items-center text-purple-700 dark:text-purple-400"},z1={class:"mt-1 space-y-0.5"},Y1={class:"group relative cursor-help"},J1={class:"absolute bottom-full left-0 mb-1 hidden group-hover:block w-48 p-1.5 bg-gray-800 text-white text-2xs rounded shadow-lg z-10"},X1={key:0},Z1=["disabled"],ey={key:0,class:"text-2xs sm:text-sm"},ty={key:0},ry={key:1},oy={key:1,class:"text-2xs sm:text-xs"},sy={key:0,class:"bg-blue-50 dark:bg-blue-900/30 p-2 sm:p-3 rounded-lg text-2xs sm:text-xs text-blue-800 dark:text-blue-300 border border-blue-200 dark:border-blue-800"},ny={class:"grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3"},ay={class:"list-disc pl-4 mt-1 space-y-0.5"},iy=_e({__name:"EvolutionStatusSection",props:{showAboutEvolution:{type:Boolean}},emits:["toggleAboutEvolution","confirmEvolution"],setup(e,{emit:t}){const r=t,s=Ue(),a=De();yt();const i=et(),{width:l}=qu(),u=F(()=>l.value<640),c=F(()=>s.canEvolve),d=F(()=>Math.round(s.currentLoopTicks.div(s.ticksPerLoop).mul(100).toNumber())),m=F(()=>Math.min(100,Math.round(a.food.div(s.foodForNextLoop).mul(100).toNumber()))),g=F(()=>Z(s.requiredLoops,1)),f=F(()=>Z(s.currentLoopTicks,0)),p=F(()=>Z(s.ticksPerLoop,1)),h=F(()=>Z(a.food,0)),x=F(()=>Z(s.foodForNextLoop,0)),k=F(()=>s.getEPModifiers()),v=w=>Z(w.sub(1).mul(100),2)+"%";return(w,S)=>(b(),y("section",Kb,[o("div",zb,[o("div",Yb,[o("h2",Jb,[S[2]||(S[2]=o("span",{class:"i-heroicons-sparkles text-purple-700 dark:text-purple-400 mr-1 sm:mr-2"},null,-1)),u.value?(b(),y("span",Xb,"Meta Status")):(b(),y("span",Zb,"Metamorphosis Status"))]),o("div",e1,[o("button",{onClick:S[0]||(S[0]=M=>r("toggleAboutEvolution")),class:"w-5 h-5 sm:w-6 sm:h-6 rounded-full bg-purple-300 dark:bg-purple-700 hover:bg-purple-400 dark:hover:bg-purple-600 flex items-center justify-center text-purple-800 dark:text-purple-200 transition-colors"},S[3]||(S[3]=[o("span",{class:"i-heroicons-question-mark-circle text-sm sm:text-base"},null,-1)]))])]),o("div",t1,[o("div",r1,[o("div",o1,[o("div",s1,[o("div",n1,[u.value?(b(),y("span",a1,"Evo Points")):(b(),y("span",i1,"Evolution Points"))]),o("div",l1,[S[4]||(S[4]=o("span",{class:"i-heroicons-sparkles text-purple-600 dark:text-purple-400 mr-0.5 sm:mr-1 text-2xs sm:text-xs"},null,-1)),X(" "+_(E(s).formatEP()),1)])])]),o("div",u1,[o("div",c1,[o("div",d1,[u.value?(b(),y("span",m1,"Meta")):(b(),y("span",p1,"Metamorphosis"))]),o("div",f1,[S[5]||(S[5]=o("span",{class:"i-heroicons-arrow-path text-purple-600 dark:text-purple-400 mr-0.5 sm:mr-1 text-2xs sm:text-xs"},null,-1)),X(" "+_(E(s).formatEvolutionCount()),1)])])]),o("div",g1,[o("div",v1,[o("div",h1,[u.value?(b(),y("span",b1,"Cycles")):(b(),y("span",y1,"Foraging Cycles"))]),o("div",x1,[S[6]||(S[6]=o("span",{class:"i-heroicons-arrow-path text-purple-600 dark:text-purple-400 mr-0.5 sm:mr-1 text-2xs sm:text-xs"},null,-1)),X(" "+_(E(s).formatLoopsCompleted()),1)])])]),o("div",k1,[o("div",_1,[o("div",w1,[u.value?(b(),y("span",S1,"Evo Req")):(b(),y("span",$1,"Evolution Requirement"))]),o("div",C1,[S[7]||(S[7]=o("span",{class:"i-heroicons-sparkles text-purple-600 dark:text-purple-400 mr-0.5 sm:mr-1 text-2xs sm:text-xs"},null,-1)),X(" "+_(g.value)+" Cycles ",1)])])]),o("div",E1,[o("div",M1,[o("div",A1,[u.value?(b(),y("span",P1,"Trip Prog to Next Cycle")):(b(),y("span",I1,"Trip Progress towards Next Cycle"))]),o("div",L1,[o("span",null,_(d.value)+"%",1),o("span",T1," ("+_(f.value)+"/"+_(p.value)+") ",1)])]),o("div",q1,[o("div",{class:"h-full bg-purple-600 dark:bg-purple-500 transition-all duration-300 ease-out",style:tt({width:`${d.value}%`})},null,4)])]),o("div",R1,[o("div",F1,[o("div",U1,[u.value?(b(),y("span",N1,"Food Prog to Next Cycle")):(b(),y("span",B1,"Food Progress towards Next Cycle"))]),o("div",O1,[o("span",null,_(m.value)+"%",1),o("span",D1," ("+_(h.value)+"/"+_(x.value)+") ",1)])]),o("div",Q1,[o("div",{class:"h-full bg-purple-600 dark:bg-purple-500 transition-all duration-300 ease-out",style:tt({width:`${m.value}%`})},null,4)])])]),o("div",j1,[c.value?(b(),y("div",H1,[o("div",G1,[u.value?(b(),y("span",V1,"Potential")):(b(),y("span",W1,"Potential Gain"))]),o("div",K1,[S[8]||(S[8]=o("span",{class:"i-heroicons-sparkles text-purple-600 dark:text-purple-400 mr-0.5 sm:mr-1 text-2xs sm:text-xs"},null,-1)),X(" +"+_(E(s).formatPotentialEPGain())+" EP ",1)]),o("div",z1,[(b(!0),y(he,null,ke(k.value,(M,L)=>{var A;return b(),y("div",{key:L,class:"text-2xs text-purple-600 dark:text-purple-400 flex items-center"},[S[9]||(S[9]=o("span",{class:"i-heroicons-sparkles text-2xs mr-0.5"},null,-1)),o("span",Y1,[X(_(M.description)+": +"+_(v(M.value))+" ",1),o("div",J1,[o("p",null,_(M.tooltip),1),L==="queenChamberEPBoost"?(b(),y("p",X1,_((A=E(i).getUpgrade("queenChamberEvolution"))==null?void 0:A.description),1)):K("",!0)])])])}),128))])])):K("",!0),o("button",{onClick:S[1]||(S[1]=M=>r("confirmEvolution")),class:ne(["py-1.5 sm:py-2 px-2 sm:px-3 rounded-lg text-white font-bold transition-colors duration-200 flex items-center justify-center flex-grow",c.value?"bg-gradient-to-r from-purple-700 to-purple-600 hover:from-purple-800 hover:to-purple-700 dark:from-purple-800 dark:to-purple-700 dark:hover:from-purple-900 dark:hover:to-purple-800 shadow-lg":"bg-gray-300 dark:bg-gray-700 cursor-not-allowed"]),disabled:!c.value},[S[10]||(S[10]=o("span",{class:"i-heroicons-sparkles text-sm sm:text-base mr-1 sm:mr-1.5"},null,-1)),c.value?(b(),y("span",ey,[u.value?(b(),y("span",ty,"Transform")):(b(),y("span",ry,"Metamorphose"))])):(b(),y("span",oy," Need "+_(g.value)+" Cycles ",1))],10,Z1)])]),E(s).hasEvolved?K("",!0):(b(),y("div",sy,[o("div",ny,[o("div",null,[S[15]||(S[15]=o("p",{class:"font-medium mb-1"},"Foraging Cycles",-1)),o("p",null,[S[11]||(S[11]=X("You need ")),o("strong",null,_(g.value)+" cycles",1),S[12]||(S[12]=X(" to evolve. Each cycle requires either:"))]),o("ul",ay,[o("li",null,[o("strong",null,_(p.value),1),S[13]||(S[13]=X(" foraging trips"))]),o("li",null,[o("strong",null,_(x.value),1),S[14]||(S[14]=X(" food collected"))])])]),S[16]||(S[16]=o("div",null,[o("p",{class:"font-medium mb-1"},"Trip Progress"),o("p",null,"Shows how many foraging trips you've completed toward the next cycle."),o("p",{class:"mt-1"},"Your ants automatically make trips over time. Upgrades can speed this up or allow more simultaneous trips.")],-1)),S[17]||(S[17]=o("div",null,[o("p",{class:"font-medium mb-1"},"Food Progress"),o("p",null,"Shows how much food you've collected toward instantly completing a cycle."),o("p",{class:"mt-1"},"Collecting enough food is an alternative way to complete cycles, especially useful later in the game.")],-1))]),S[18]||(S[18]=o("p",{class:"mt-2 text-center"},[X("Click the "),o("span",{class:"i-heroicons-question-mark-circle inline-block align-text-bottom"}),X(" button above for more detailed information.")],-1))]))])]))}}),ly={class:"space-y-4"},uy={key:0,class:"bg-white dark:bg-gray-800 rounded-xl shadow-md border border-gray-200/50 dark:border-gray-700/50"},cy={class:"sticky top-[-20px] z-20 bg-white dark:bg-gray-800"},dy={key:0,class:"ml-1.5 px-1.5 py-0.5 text-xs rounded-full bg-gray-100 dark:bg-gray-700"},my={class:"p-4"},py=["id","aria-labelledby","hidden"],fy={key:1},gy=_e({__name:"UpgradesPage",setup(e){const t=Ue(),r=F(()=>t.evolutionUpgrades),{showMaxed:s,showAffordable:a,showUnlocked:i,searchQuery:l,selectedSort:u,sortOptions:c,resetFilters:d}=Hu(),m=F(()=>{const L=Object.fromEntries(ua().map(A=>[A,[]]));return r.value.forEach(A=>{L[A.category]&&L[A.category].push(A)}),L}),g=L=>{var A;if(L==="all"){let Y=0;return Object.values(m.value).forEach(U=>{Y+=U.length}),Y}return((A=m.value[L])==null?void 0:A.length)||0};qe(()=>{s.value=t.showMaxed,a.value=t.showAffordable,i.value=t.showUnlocked,l.value=t.searchQuery||"",u.value=t.selectedSort||c[0].id}),Se([s,a,i,l,u],()=>{t.showMaxed!==s.value&&(t.showMaxed=s.value),t.showAffordable!==a.value&&(t.showAffordable=a.value),t.showUnlocked!==i.value&&(t.showUnlocked=i.value),t.searchQuery!==l.value&&(t.searchQuery=l.value),t.selectedSort!==u.value&&(t.selectedSort=u.value)},{deep:!0});const f=F({get:()=>t.activeTab,set:L=>t.activeTab=L}),p=N(!1),h=N(!1),x=()=>{t.canEvolve&&(p.value=!0)},k=()=>{t.canEvolve&&(t.evolve(),p.value=!1)},v=()=>{p.value=!1},w=()=>{h.value=!h.value},S=()=>{d(),t.resetFilters()},M=Cb();return(L,A)=>{const Y=iy,U=Wb,T=Qb,G=Pb,D=fb,P=nb,$=qr;return b(),y("div",ly,[ye(Y,{showAboutEvolution:h.value,onToggleAboutEvolution:w,onConfirmEvolution:x},null,8,["showAboutEvolution"]),E(t).hasEvolved?(b(),y("div",uy,[o("div",cy,[ye(U,{activeTab:f.value,"onUpdate:activeTab":A[0]||(A[0]=ee=>f.value=ee),categories:E(M)},{badge:We(({category:ee})=>[ee!=="all"?(b(),y("span",dy,_(g(ee)),1)):K("",!0)]),_:1},8,["activeTab","categories"])]),o("div",my,[ye(T,{showMaxed:E(s),"onUpdate:showMaxed":A[1]||(A[1]=ee=>Te(s)?s.value=ee:null),showAffordable:E(a),"onUpdate:showAffordable":A[2]||(A[2]=ee=>Te(a)?a.value=ee:null),showUnlocked:E(i),"onUpdate:showUnlocked":A[3]||(A[3]=ee=>Te(i)?i.value=ee:null),searchQuery:E(l),"onUpdate:searchQuery":A[4]||(A[4]=ee=>Te(l)?l.value=ee:null),selectedSort:E(u),"onUpdate:selectedSort":A[5]||(A[5]=ee=>Te(u)?u.value=ee:null),onResetFilters:S,onSearch:ee=>{}},null,8,["showMaxed","showAffordable","showUnlocked","searchQuery","selectedSort"]),(b(!0),y(he,null,ke(E(M),ee=>(b(),y("div",{key:`panel-${ee}`,id:`panel-${ee}`,role:"tabpanel","aria-labelledby":`tab-${ee}`,hidden:f.value!==ee},[ye(G,{category:ee,showMaxed:E(s),showAffordable:E(a),showUnlocked:E(i),searchQuery:E(l),selectedSort:E(u),onResetFilters:S},null,8,["category","showMaxed","showAffordable","showUnlocked","searchQuery","selectedSort"])],8,py))),128))])])):(b(),y("div",fy,A[6]||(A[6]=[o("div",{class:"p-4"},[o("div",{class:"border border-gray-200/50 dark:border-gray-700/50 rounded-xl shadow-md p-4 text-center text-gray-500 dark:text-gray-400"},[o("p",null,"You need to evolve to access the upgrades.")])],-1)]))),ye(D,{show:p.value,onConfirm:k,onCancel:v},null,8,["show"]),ye(P,{show:h.value,onClose:w},null,8,["show"]),ye($,{threshold:400})])}}}),vy=Ve(gy,[["__scopeId","data-v-4ee9fd46"]]),hy={key:0,class:"flex items-center bg-purple-100 dark:bg-purple-800/40 px-3 py-2 rounded-lg"},by={class:"text-md font-bold text-purple-800 dark:text-purple-300"},yy=_e({__name:"PheromoneMultiplierInfo",setup(e){const t=yt(),r=F(()=>t.getPheromoneGainMultiplier()),s=F(()=>rt(r.value)),a=F(()=>r.value.gt(1));return(i,l)=>a.value?(b(),y("div",hy,[l[1]||(l[1]=o("span",{class:"i-heroicons-arrow-trending-up text-purple-600 dark:text-purple-400 mr-2"},null,-1)),o("div",null,[l[0]||(l[0]=o("div",{class:"text-sm text-purple-600 dark:text-purple-400"},"Essence Gain Multiplier",-1)),o("div",by,_(s.value),1)])])):K("",!0)}}),xy={class:"space-y-4"},ky={class:"bg-gradient-to-br from-purple-100 to-purple-50 dark:from-purple-900/40 dark:to-purple-800/30 rounded-xl p-4 shadow-md"},_y={class:"flex items-center justify-between mb-4 p-3 bg-purple-50 dark:bg-purple-900/50 rounded-lg"},wy={class:"flex items-center"},Sy={class:"text-xl font-bold text-purple-800 dark:text-purple-300"},$y={class:"mb-4 flex flex-wrap gap-2 bg-purple-50 dark:bg-purple-900/30 p-3 rounded-lg"},Cy={class:"flex flex-wrap gap-2"},Ey=["onClick"],My={class:"space-y-4"},Ay={class:"flex justify-between items-start mb-2"},Py={class:"text-lg font-semibold text-purple-800 dark:text-purple-200"},Iy={class:"text-sm text-purple-600 dark:text-purple-400"},Ly={class:"text-right"},Ty={class:"text-sm text-purple-600 dark:text-purple-400"},qy={key:0,class:"mt-4 bg-gray-50 dark:bg-gray-700/30 p-3 rounded-lg border border-gray-200 dark:border-gray-700"},Ry={class:"flex items-center"},Fy={class:"text-sm text-blue-600 dark:text-blue-400"},Uy={class:"space-y-2 mt-3"},Ny={class:"flex items-center"},By={key:0,class:"i-heroicons-check-circle text-green-500 dark:text-green-400 mr-2"},Oy={key:1,class:"i-heroicons-lock-closed text-gray-400 dark:text-gray-500 mr-2"},Dy={key:2,class:"text-purple-700 dark:text-purple-300"},Qy={key:3,class:"text-gray-500 dark:text-gray-400"},jy={class:"text-xs ml-1"},Hy={key:0,class:"font-medium text-green-600 dark:text-green-400"},Gy={key:0},Vy={key:1},Wy={key:2},Ky={key:3},zy=_e({__name:"PheromoneShopTab",setup(e){const t=Mt(),r=Bs(),s=[{value:"unlocked",label:"Unlocked Status"},{value:"level",label:"Current Level"},{value:"maxLevel",label:"Max Level"},{value:"price",label:"Price"},{value:"name",label:"Name"}],a=F(()=>r.sortPreference.by),i=F(()=>r.sortPreference.direction);function l(p){if(p===a.value)r.setSortPreference(p,i.value==="asc"?"desc":"asc");else{const h=p==="name"?"asc":"desc";r.setSortPreference(p,h)}}function u(p){r.upgradeItem(p)}function c(p){return`+${(p instanceof se?p:new se(String(p))).sub(1).mul(100).toFixed(1)}%`}function d(p){const h=r.getNextLevelCost(p);return t.pheromoneEssence.gte(h)}function m(p){const h=r.shopItems.find(S=>S.id===p),x=h&&r.getItemLevel(p)>=h.maxLevel,k=d(p),v=h&&r.isItemUnlocked(p),w="mt-4 w-full py-2 px-4 text-white rounded-lg transition-colors duration-200 flex items-center justify-center";return v?x?`${w} opacity-50 cursor-not-allowed bg-purple-600`:k?`${w} bg-purple-600 hover:bg-purple-700`:`${w} opacity-50 cursor-not-allowed bg-red-600`:`${w} opacity-50 cursor-not-allowed bg-gray-500`}function g(p){const h=r.shopItems.find(v=>v.id===p),x=h&&r.getItemLevel(p)>=h.maxLevel;return!!(!(h&&r.isItemUnlocked(p))||x||!d(p))}const f=F(()=>r.getAllShopItemsWithStatus);return(p,h)=>(b(),y("div",xy,[o("div",ky,[h[6]||(h[6]=o("h2",{class:"text-lg font-bold mb-2 flex items-center"},[o("span",{class:"i-heroicons-beaker text-purple-700 dark:text-purple-500 mr-2"}),X(" Pheromone Essence Shop ")],-1)),o("div",_y,[o("div",wy,[h[1]||(h[1]=o("span",{class:"i-heroicons-flask text-purple-600 dark:text-purple-400 text-xl mr-2"},null,-1)),o("div",null,[h[0]||(h[0]=o("div",{class:"text-sm text-purple-600 dark:text-purple-400"},"Available Essence",-1)),o("div",Sy,_(E(t).formattedPheromoneEssence),1)])]),ye(yy)]),o("div",$y,[h[2]||(h[2]=o("div",{class:"text-sm text-purple-600 dark:text-purple-400 flex items-center mr-2"},[o("span",{class:"i-heroicons-arrow-up-down text-purple-500 dark:text-purple-400 mr-1"}),X(" Sort by: ")],-1)),o("div",Cy,[(b(),y(he,null,ke(s,x=>o("button",{key:x.value,onClick:k=>l(x.value),class:ne(["px-2 py-1 text-xs rounded-md transition-colors",{"bg-purple-500 text-white font-medium":a.value===x.value,"bg-purple-100 dark:bg-purple-900/40 text-purple-700 dark:text-purple-300 hover:bg-purple-200 dark:hover:bg-purple-900/60":a.value!==x.value}])},[X(_(x.label)+" ",1),a.value===x.value?(b(),y("span",{key:0,class:ne(["ml-1",i.value==="asc"?"i-heroicons-arrow-up-20-solid":"i-heroicons-arrow-down-20-solid"])},null,2)):K("",!0)],10,Ey)),64))])]),o("div",My,[(b(!0),y(he,null,ke(f.value,x=>(b(),y("div",{key:x.id,class:ne(["bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border",x.unlocked?"border-purple-200 dark:border-purple-800":"border-gray-300 dark:border-gray-700 border-dashed"])},[o("div",Ay,[o("div",null,[o("h3",Py,_(x.name),1),o("p",Iy,_(x.description),1)]),o("div",Ly,[o("div",Ty," Level "+_(E(r).getItemLevel(x.id))+"/"+_(x.maxLevel),1),o("div",{class:ne(["text-xs",d(x.id)?"text-purple-500 dark:text-purple-300":"text-red-500 dark:text-red-300"])}," Next: "+_(E(Z)(E(r).getNextLevelCost(x.id)))+" Essence ",3)])]),x.unlocked?K("",!0):(b(),y("div",qy,[o("div",Ry,[h[3]||(h[3]=o("span",{class:"i-heroicons-information-circle text-blue-500 dark:text-blue-400 mr-2"},null,-1)),o("div",Fy," To unlock: "+_(E(r).getUnlockRequirementText(x.id)),1)])])),o("div",Uy,[(b(!0),y(he,null,ke(x.modifiers,(k,v)=>(b(),y("div",{key:k.target,class:ne(["flex items-center justify-between text-sm py-1 px-2 rounded-md",E(r).getItemLevel(x.id)>=k.unlockLevel?"bg-green-50 dark:bg-green-900/20 border border-green-100 dark:border-green-800/50":"bg-gray-50 dark:bg-gray-700/30 border border-gray-100 dark:border-gray-700/50"])},[o("div",Ny,[E(r).getItemLevel(x.id)>=k.unlockLevel?(b(),y("span",By)):(b(),y("span",Oy)),E(r).getItemLevel(x.id)>=k.unlockLevel?(b(),y("span",Dy,_(k.description),1)):(b(),y("span",Qy,[h[4]||(h[4]=X(" Mystery enhancement ")),o("span",jy,"(Unlocks at level "+_(k.unlockLevel)+")",1)]))]),E(r).getItemLevel(x.id)>=k.unlockLevel?(b(),y("div",Hy,_(c(E(r).getCurrentModifierValue(x.id,v))),1)):K("",!0)],2))),128))]),ye(Bo,{class:ne(m(x.id)),disabled:g(x.id),onAction:k=>u(x.id),"initial-delay":500,"repeat-interval":100,accelerate:!0,"min-interval":50},{default:We(()=>[h[5]||(h[5]=o("span",{class:"i-heroicons-arrow-up-circle mr-2"},null,-1)),E(r).getItemLevel(x.id)>=x.maxLevel?(b(),y("span",Gy,"Max Level")):x.unlocked?d(x.id)?(b(),y("span",Ky,"Upgrade")):(b(),y("span",Wy,"Can't Afford")):(b(),y("span",Vy,"Unlock"))]),_:2},1032,["class","disabled","onAction"])],2))),128))]),h[7]||(h[7]=to('<div class="mt-4 text-sm text-purple-600 dark:text-purple-400 bg-purple-50 dark:bg-purple-900/50 p-3 rounded-lg"><div class="flex items-start"><span class="i-heroicons-information-circle text-purple-600 dark:text-purple-400 mt-0.5 mr-2"></span><div><p class="mb-1">Pheromone Essence is collected from defeated enemies in the Adventure mode.</p><p>Higher-level enemies provide more essence. Defeat tougher bugs to collect more!</p><p class="mt-1 text-blue-600 dark:text-blue-400">Upgrade existing items to discover new pheromone enhancements!</p></div></div></div>',1))])]))}}),Yy={class:"space-y-4"},Jy={key:0,class:"space-y-3"},Xy={class:"bg-gray-900 rounded-lg shadow-lg p-4 mb-4"},Zy={class:"text-xl font-bold text-amber-300 mb-2"},ex={class:"text-gray-400 mb-4"},tx={key:0,class:"space-y-4"},rx={class:"flex justify-between text-sm"},ox={class:"text-gray-300"},sx={class:"text-gray-300"},nx={class:"w-full bg-gray-700 rounded-full h-2.5"},ax={class:"mt-4"},ix={class:"list-disc list-inside text-gray-400"},lx={class:"flex border-b border-gray-200 dark:border-gray-700 mb-4"},ux={key:1,class:"space-y-3"},cx={key:0,class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-700/50"},dx={key:1,class:"space-y-4"},mx={class:"bg-blue-50 dark:bg-blue-900/20 px-4 py-2 border-b border-blue-100 dark:border-blue-800 flex justify-between items-center"},px={class:"flex items-center"},fx={class:"font-semibold text-blue-800 dark:text-blue-300"},gx={key:0,class:"px-2 py-0.5 rounded-full text-xs bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-300"},vx={key:1,class:"px-2 py-0.5 rounded-full text-xs bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-300"},hx={class:"p-4 space-y-3"},bx={class:"text-gray-700 dark:text-gray-300 text-sm"},yx={class:"bg-gray-50 dark:bg-gray-700/50 rounded-md p-2 text-sm"},xx={class:"flex justify-between items-center"},kx={class:"text-gray-700 dark:text-gray-300"},_x={class:"space-y-1"},wx={class:"ml-4 space-y-2"},Sx={class:"w-4 h-4 mr-2 rounded-full bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center text-xs text-blue-600 dark:text-blue-400"},$x={class:"text-gray-600 dark:text-gray-400"},Cx=["onClick","disabled"],Ex={key:0,class:"i-heroicons-play mr-1"},Mx={key:1,class:"i-heroicons-clock mr-1"},Ax={key:2,class:"space-y-3"},Px={key:0,class:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200 dark:border-green-700/50"},Ix={key:1,class:"space-y-4"},Lx={class:"bg-green-50 dark:bg-green-900/20 px-4 py-2 border-b border-green-100 dark:border-green-800 flex justify-between items-center"},Tx={class:"flex items-center"},qx={class:"font-semibold text-green-800 dark:text-green-300"},Rx={key:0,class:"px-2 py-0.5 rounded-full text-xs bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-300"},Fx={key:1,class:"px-2 py-0.5 rounded-full text-xs bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-300"},Ux={class:"p-4 space-y-3"},Nx={class:"text-gray-700 dark:text-gray-300 text-sm"},Bx={class:"bg-green-50 dark:bg-green-900/20 rounded-md p-2 text-sm flex items-center"},Ox={class:"text-green-700 dark:text-green-300"},Dx={class:"space-y-1"},Qx={class:"ml-4 space-y-2"},jx={class:"w-4 h-4 mr-2 rounded-full bg-green-100 dark:bg-green-900/50 flex items-center justify-center text-xs text-green-600 dark:text-green-400"},Hx={class:"text-gray-600 dark:text-gray-400"},Gx={key:3,class:"mt-8 border-t pt-4 border-gray-200 dark:border-gray-700"},Vx={class:"flex gap-2"},Gu=_e({__name:"QuestTabContent",setup(e){const t=ht();Mt();const r=f=>{if(!f.goals||f.goals.length===0)return!1;for(const p of f.goals)p.type===ze.KILL_BUGS&&p.target;return!0},s=F(()=>t.availableQuests.filter(f=>r(f))),a=f=>{t.activeTab=f},i=f=>{t.startQuest(f)},l=f=>{switch(f){case ze.KILL_BUGS:return"Kill Bugs";case ze.COLLECT_FOOD:return"Collect Food";case ze.COLLECT_PHEROMONE:return"Collect Pheromone";default:return"Unknown"}},u=f=>{if(!f.goals||f.goals.length===0)return"No requirements";if(f.goals.length===1){const p=f.goals[0];switch(p.type){case ze.KILL_BUGS:return`Kill ${m(p.requiredAmount)} ${p.target||"bugs"}`;case ze.COLLECT_FOOD:return`Collect ${m(p.requiredAmount)} food`;case ze.COLLECT_PHEROMONE:return`Collect ${m(p.requiredAmount)} pheromone essence`;default:return"Unknown requirement"}}return`Complete ${f.goals.length} objectives`},c=f=>{if((!(f.requiredAmount instanceof se)||!(f.currentAmount instanceof se))&&(Lu("Invalid goal amounts - not Decimal instances",{current:f.currentAmount,required:f.requiredAmount}),f.currentAmount=n(f.currentAmount||0),f.requiredAmount=n(f.requiredAmount||0)),f.requiredAmount.eq(0))return 100;try{const p=f.currentAmount.div(f.requiredAmount);return Math.min(100,Math.floor(p.toNumber()*100))}catch(p){return console.error("Error calculating goal progress percentage:",p),0}},d=f=>{const p=typeof f.value=="string"?new se(f.value):f.value instanceof se?f.value:new se(f.value);switch(f.type){case vt.ITEM:return`${f.quantity||1}x ${f.value}`;case vt.FOOD:return`${m(p)} Food`;case vt.PHEROMONE:return`${m(p)} Pheromone Essence`;case vt.EP:return`${m(p)} Evolution Points`;case vt.MULTIPLIER:const h=f.target==="global"?"Global Production":f.target;return`${f.value}x ${h} multiplier permanently`;default:return"Unknown reward"}},m=f=>{try{return typeof f=="string"?f.includes("e")||f.includes("E")?new se(f).toExponential(2):Z(new se(f),0):f instanceof se?Z(f,0):Z(new se(f),0)}catch(p){return console.error("Error formatting large number:",p,f),"0"}},g=N(null);return Se(()=>t.activeQuest,(f,p)=>{p&&!f&&g.value&&t.completedQuests.some(x=>x.id===g.value)&&console.log("Quest completed!",g.value),g.value=(f==null?void 0:f.id)||null},{immediate:!0}),(f,p)=>(b(),y("div",Yy,[E(t).activeQuest?(b(),y("div",Jy,[p[5]||(p[5]=o("div",{class:"flex items-center justify-between"},[o("h3",{class:"text-lg font-semibold"},"Active Quest"),o("span",{class:"px-2 py-1 rounded-full text-xs bg-amber-100 dark:bg-amber-900/50 text-amber-800 dark:text-amber-300"}," In Progress ")],-1)),o("div",Xy,[o("h3",Zy,_(E(t).activeQuest.title),1),o("p",ex,_(E(t).activeQuest.description),1),E(t).activeQuest.goals?(b(),y("div",tx,[(b(!0),y(he,null,ke(E(t).activeQuest.goals,(h,x)=>(b(),y("div",{key:x,class:"space-y-2"},[o("div",rx,[o("span",ox,_(h.description||l(h.type)+" Progress"),1),o("span",sx,_(m(h.currentAmount))+" / "+_(m(h.requiredAmount)),1)]),o("div",nx,[o("div",{class:ne(["h-2.5 rounded-full",h.type===E(ze).COLLECT_FOOD?"bg-blue-600":h.type===E(ze).COLLECT_PHEROMONE?"bg-green-600":"bg-amber-600"]),style:tt({width:`${c(h)}%`})},null,6)])]))),128))])):K("",!0),o("div",ax,[p[4]||(p[4]=o("h4",{class:"text-lg font-semibold text-gray-300 mb-2"},"Rewards:",-1)),o("ul",ix,[(b(!0),y(he,null,ke(E(t).activeQuest.rewards,(h,x)=>(b(),y("li",{key:x},_(d(h)),1))),128))])]),o("button",{onClick:p[0]||(p[0]=h=>E(t).cancelQuest()),class:"mt-4 px-4 py-2 bg-red-700 hover:bg-red-600 text-white rounded focus:outline-none"}," Abandon Quest ")]),p[6]||(p[6]=o("div",{class:"border-t border-gray-200 dark:border-gray-700 my-4"},null,-1))])):K("",!0),o("div",lx,[o("button",{onClick:p[1]||(p[1]=h=>a("available")),class:ne(["px-4 py-2 text-sm font-medium rounded-t-lg transition-colors duration-200",E(t).activeTab==="available"?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 border-b-2 border-blue-500":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800/50"])},p[7]||(p[7]=[o("span",{class:"i-heroicons-clipboard-document-check mr-1 inline-block"},null,-1),X(" Available ")]),2),o("button",{onClick:p[2]||(p[2]=h=>a("completed")),class:ne(["px-4 py-2 text-sm font-medium rounded-t-lg transition-colors duration-200",E(t).activeTab==="completed"?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200 border-b-2 border-green-500":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800/50"])},p[8]||(p[8]=[o("span",{class:"i-heroicons-check-badge mr-1 inline-block"},null,-1),X(" Completed ")]),2)]),E(t).activeTab==="available"?(b(),y("div",ux,[s.value.length===0?(b(),y("div",cx,p[9]||(p[9]=[o("h3",{class:"text-lg font-semibold text-blue-800 dark:text-blue-300 mb-2"},"Available Quests",-1),o("p",{class:"text-blue-700 dark:text-blue-400"}," There are no available quests at the moment. Check back later! ",-1)]))):(b(),y("div",dx,[p[13]||(p[13]=o("h3",{class:"text-lg font-semibold mb-2"},"Available Quests",-1)),(b(!0),y(he,null,ke(s.value,h=>(b(),y("div",{key:h.id,class:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 overflow-hidden"},[o("div",mx,[o("div",px,[p[10]||(p[10]=o("span",{class:"i-heroicons-clipboard-document-list text-blue-600 dark:text-blue-400 mr-2"},null,-1)),o("h4",fx,_(h.title),1)]),h.goals&&h.goals.length===1?(b(),y("span",gx,_(l(h.goals[0].type)),1)):(b(),y("span",vx," Multiple Goals "))]),o("div",hx,[o("p",bx,_(h.description),1),o("div",yx,[o("div",xx,[o("span",kx,[p[11]||(p[11]=o("span",{class:"i-heroicons-flag mr-1 inline-block"},null,-1)),X(" Goal: "+_(u(h)),1)])])]),o("div",_x,[p[12]||(p[12]=o("h5",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Rewards:",-1)),o("ul",wx,[(b(!0),y(he,null,ke(h.rewards,(x,k)=>(b(),y("li",{key:k,class:"flex items-center text-sm"},[o("span",Sx,_(k+1),1),o("span",$x,_(d(x)),1)]))),128))])]),o("button",{onClick:x=>i(h.id),class:ne(["mt-2 w-full py-1.5 text-white rounded-md transition-colors duration-200 flex items-center justify-center",E(t).activeQuest!==null?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"]),disabled:E(t).activeQuest!==null},[E(t).activeQuest===null?(b(),y("span",Ex)):(b(),y("span",Mx)),X(" "+_(E(t).activeQuest===null?"Start Quest":"Complete Active Quest First"),1)],10,Cx)])]))),128))]))])):E(t).activeTab==="completed"?(b(),y("div",Ax,[E(t).completedQuests.length===0?(b(),y("div",Px,p[14]||(p[14]=[o("h3",{class:"text-lg font-semibold text-green-800 dark:text-green-300 mb-2"},"Completed Quests",-1),o("p",{class:"text-green-700 dark:text-green-400"}," You haven't completed any quests yet. Start some quests and finish them to see them here! ",-1)]))):(b(),y("div",Ix,[p[18]||(p[18]=o("h3",{class:"text-lg font-semibold mb-2"},"Completed Quests",-1)),(b(!0),y(he,null,ke(E(t).completedQuests,h=>(b(),y("div",{key:h.id,class:"bg-white dark:bg-gray-800 rounded-lg shadow-md border border-gray-200 dark:border-gray-700 overflow-hidden"},[o("div",Lx,[o("div",Tx,[p[15]||(p[15]=o("span",{class:"i-heroicons-check-badge text-green-600 dark:text-green-400 mr-2"},null,-1)),o("h4",qx,_(h.title),1)]),h.goals&&h.goals.length===1?(b(),y("span",Rx,_(l(h.goals[0].type)),1)):(b(),y("span",Fx," Multiple Goals "))]),o("div",Ux,[o("p",Nx,_(h.description),1),o("div",Bx,[p[16]||(p[16]=o("span",{class:"i-heroicons-check-circle text-green-600 dark:text-green-400 mr-1"},null,-1)),o("span",Ox," Completed: "+_(u(h)),1)]),o("div",Dx,[p[17]||(p[17]=o("h5",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Rewards received:",-1)),o("ul",Qx,[(b(!0),y(he,null,ke(h.rewards,(x,k)=>(b(),y("li",{key:k,class:"flex items-center text-sm"},[o("span",jx,_(k+1),1),o("span",Hx,_(d(x)),1)]))),128))])])])]))),128))]))])):K("",!0),E(ap)()?(b(),y("div",Gx,[p[19]||(p[19]=o("h3",{class:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-2"},"Development Tools",-1)),o("div",Vx,[o("button",{onClick:p[3]||(p[3]=h=>E(t).resetQuests()),class:"px-3 py-1 bg-red-100 hover:bg-red-200 dark:bg-red-900/40 dark:hover:bg-red-800/60 text-red-800 dark:text-red-300 text-xs rounded-md transition-colors"}," Reset All Quests ")])])):K("",!0),ye(qr,{threshold:400})]))}}),Wx={class:"bg-gradient-to-br from-red-100 to-red-50 dark:from-red-900/40 dark:to-red-800/30 rounded-xl p-3 shadow-md"},Kx={class:"flex items-center justify-between mb-2"},zx={class:"text-xs bg-red-900/30 dark:bg-red-950/50 px-2 py-0.5 rounded-full whitespace-nowrap"},Yx={class:"w-full h-2 bg-red-900/30 dark:bg-red-950/50 rounded-full overflow-hidden"},Jx={class:"text-xs text-red-600 dark:text-red-400 mt-1"},Xx=_e({__name:"AdventureProgressBar",setup(e){const t=br();return(r,s)=>(b(),y("div",Wx,[o("div",Kx,[s[0]||(s[0]=o("h2",{class:"text-base font-bold flex items-center"},[o("span",{class:"i-heroicons-clock text-red-700 dark:text-red-500 mr-2"}),X(" Adventure Progress ")],-1)),o("span",zx,_(E(t).adventureTimeRemaining)+"s ",1)]),o("div",Yx,[o("div",{class:"h-full bg-gradient-to-r from-red-600 to-red-500 dark:from-red-500 dark:to-red-400 transition-all duration-100 ease-linear",style:tt({width:`${E(t).adventureProgressPercentage}%`})},null,4)]),o("div",Jx,_(E(t).adventureProgressPercentage)+"% ",1)]))}}),Zx={class:"flex items-center justify-between mb-2"},ek={class:"text-base font-bold flex items-center"},tk={class:"flex items-center gap-2"},rk={key:0,class:"text-xs bg-amber-100 dark:bg-amber-900/50 px-2 py-0.5 rounded-full text-amber-800 dark:text-amber-300 font-medium flex items-center"},ok={class:"text-xs bg-amber-200 dark:bg-amber-900/50 px-2 py-0.5 rounded-full text-amber-800 dark:text-amber-300 font-medium"},sk={class:"w-full h-2.5 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden mb-3"},nk={key:0,class:"mb-3 bg-amber-100 dark:bg-amber-900/30 rounded-md p-2 text-xs"},ak={class:"flex items-center justify-between mb-1"},ik={class:"flex items-center"},lk={class:"font-medium text-amber-800 dark:text-amber-300"},uk={class:"text-amber-700 dark:text-amber-400"},ck={key:0,class:"w-full h-1.5 bg-amber-200 dark:bg-amber-800 rounded-full overflow-hidden"},dk={class:"grid grid-cols-2 gap-2 mb-2"},mk={class:"space-y-1"},pk={class:"bg-amber-100/70 dark:bg-amber-900/30 p-1.5 rounded text-xs flex justify-between"},fk={class:"font-medium text-amber-800 dark:text-amber-300"},gk={class:"bg-amber-100/70 dark:bg-amber-900/30 p-1.5 rounded text-xs flex justify-between"},vk={class:"font-medium text-amber-800 dark:text-amber-300"},hk={class:"bg-amber-100/70 dark:bg-amber-900/30 p-1.5 rounded text-xs flex justify-between"},bk={class:"font-medium text-amber-800 dark:text-amber-300"},yk={class:"space-y-1"},xk={class:"bg-amber-100/70 dark:bg-amber-900/30 p-1.5 rounded text-xs flex justify-between"},kk={class:"font-medium text-amber-800 dark:text-amber-300"},_k={class:"bg-amber-100/70 dark:bg-amber-900/30 p-1.5 rounded text-xs flex justify-between"},wk={class:"font-medium text-amber-800 dark:text-amber-300"},Sk={class:"bg-amber-100/70 dark:bg-amber-900/30 p-1.5 rounded text-xs flex justify-between"},$k={class:"font-medium text-amber-800 dark:text-amber-300"},Ck={class:"bg-amber-100/70 dark:bg-amber-900/30 p-2 rounded text-xs space-y-1 mb-3"},Ek={class:"flex justify-between"},Mk={class:"font-medium text-amber-800 dark:text-amber-300"},Ak={class:"flex justify-between"},Pk={class:"font-medium text-amber-800 dark:text-amber-300"},Ik={class:"flex justify-between"},Lk={class:"font-medium text-amber-800 dark:text-amber-300"},Tk=_e({__name:"CombatStatusCard",props:{bug:{}},setup(e){const t=e,r=hr(),s=qt(),a=ht(),i=F(()=>!a.activeQuest||!t.bug?!1:a.activeQuest.goals&&a.activeQuest.goals.length>0?a.activeQuest.goals.some(x=>x.type===ze.KILL_BUGS&&(!x.target||x.target===t.bug.id)):!1),l=F(()=>{if(!i.value||!a.activeQuest)return null;const x=a.activeQuest.goals.find(k=>k.type===ze.KILL_BUGS&&(!k.target||k.target===t.bug.id));return x?{title:a.activeQuest.title,currentAmount:x.currentAmount,requiredAmount:x.requiredAmount,progress:x.currentAmount instanceof se&&x.requiredAmount instanceof se?`${Z(x.currentAmount)}/${Z(x.requiredAmount)}`:`${x.currentAmount}/${x.requiredAmount}`}:null}),u=F(()=>t.bug?t.bug.health.div(t.bug.maxHealth).mul(100).toNumber():0),c=F(()=>s.calculateDamage(s.playerDamage,t.bug.defense)),d=F(()=>s.calculateDamage(t.bug.damage,s.playerDefense)),m=F(()=>t.bug.health.div(c.value).ceil()),g=F(()=>s.playerMaxHealth.div(d.value).floor()),f=F(()=>{const x=r.bugs.findIndex(v=>v.id===t.bug.id),k=se.fromNumber(10).mul(se.pow(1.2,x));return x>50?k.mul(se.fromNumber(50+(x-50)*.5)):k}),p=F(()=>{const x=r.bugs.findIndex(v=>v.id===t.bug.id),k=se.fromNumber(5).mul(se.pow(1.15,x));return x>50?k.mul(se.fromNumber(50+(x-50)*.3)).floor():k.floor()}),h=(x,k)=>{try{if(x instanceof se&&k instanceof se)return Math.min(100,x.div(k).toNumber()*100);if(typeof x=="string"&&typeof k=="string"){const v=new se(x),w=new se(k);return Math.min(100,v.div(w).toNumber()*100)}else{const v=x instanceof se?x:new se(x),w=k instanceof se?k:new se(k);return Math.min(100,v.div(w).toNumber()*100)}}catch(v){return console.error("Error calculating progress percentage:",v),0}};return(x,k)=>(b(),y("div",{class:ne(["bg-gradient-to-br rounded-xl p-3 shadow-md border h-full transition-all duration-200",[i.value?"from-amber-100/80 to-amber-50/80 dark:from-amber-900/30 dark:to-amber-800/20 border-2 border-amber-400 dark:border-amber-600":"from-amber-100 to-amber-50 dark:from-amber-900/40 dark:to-amber-800/30 border-2 border-amber-300 dark:border-amber-700"]])},[o("div",Zx,[o("h2",ek,[k[0]||(k[0]=o("span",{class:"i-heroicons-bug-ant text-amber-700 dark:text-amber-500 mr-2"},null,-1)),X(" "+_(x.bug.name),1)]),o("div",tk,[i.value?(b(),y("span",rk,k[1]||(k[1]=[o("span",{class:"i-heroicons-clipboard-document-check mr-1"},null,-1),X(" Quest Target ")]))):K("",!0),o("span",ok,_(Math.round(u.value))+"% HP ",1)])]),o("div",sk,[o("div",{class:"h-full bg-amber-500 dark:bg-amber-600 rounded-full transition-all duration-200",style:tt(`width: ${u.value}%`)},null,4)]),i.value&&l.value?(b(),y("div",nk,[o("div",ak,[o("div",ik,[k[2]||(k[2]=o("span",{class:"i-heroicons-flag text-amber-600 dark:text-amber-400 mr-1"},null,-1)),o("span",lk,_(l.value.title),1)]),o("span",uk,_(l.value.progress),1)]),l.value.currentAmount&&l.value.requiredAmount?(b(),y("div",ck,[o("div",{class:"h-full bg-amber-500 dark:bg-amber-600 rounded-full",style:tt(`width: ${h(l.value.currentAmount,l.value.requiredAmount)}%`)},null,4)])):K("",!0)])):K("",!0),o("div",dk,[o("div",mk,[k[6]||(k[6]=o("h3",{class:"text-sm font-semibold text-amber-800 dark:text-amber-300 mb-1"},"Combat Stats",-1)),o("div",pk,[k[3]||(k[3]=o("span",{class:"text-amber-700 dark:text-amber-400"},"Health:",-1)),o("span",fk,_(E(Z)(x.bug.health))+" / "+_(E(Z)(x.bug.maxHealth)),1)]),o("div",gk,[k[4]||(k[4]=o("span",{class:"text-amber-700 dark:text-amber-400"},"Damage:",-1)),o("span",vk,_(E(Z)(x.bug.damage)),1)]),o("div",hk,[k[5]||(k[5]=o("span",{class:"text-amber-700 dark:text-amber-400"},"Defense:",-1)),o("span",bk,_(E(Z)(x.bug.defense)),1)])]),o("div",yk,[k[10]||(k[10]=o("h3",{class:"text-sm font-semibold text-amber-800 dark:text-amber-300 mb-1"},"Rewards",-1)),o("div",xk,[k[7]||(k[7]=o("span",{class:"text-amber-700 dark:text-amber-400"},"Food:",-1)),o("span",kk,_(E(Z)(f.value)),1)]),o("div",_k,[k[8]||(k[8]=o("span",{class:"text-amber-700 dark:text-amber-400"},"Essence:",-1)),o("span",wk,_(E(Z)(p.value)),1)]),o("div",Sk,[k[9]||(k[9]=o("span",{class:"text-amber-700 dark:text-amber-400"},"Time to Kill:",-1)),o("span",$k,_(E(Z)(m.value))+" hits",1)])])]),o("div",Ck,[o("div",Ek,[k[11]||(k[11]=o("span",{class:"text-amber-700 dark:text-amber-400"},"You deal:",-1)),o("span",Mk,_(E(Z)(c.value))+" per hit",1)]),o("div",Ak,[k[12]||(k[12]=o("span",{class:"text-amber-700 dark:text-amber-400"},"You take:",-1)),o("span",Pk,_(E(Z)(d.value))+" per hit",1)]),o("div",Ik,[k[13]||(k[13]=o("span",{class:"text-amber-700 dark:text-amber-400"},"You survive:",-1)),o("span",Lk,_(E(Z)(g.value))+" hits",1)])]),k[14]||(k[14]=o("div",{class:"text-center text-xs text-amber-700 dark:text-amber-400"}," To change enemies, select a different bug from the Adventure Map below. ",-1))],2))}}),qk={class:"bg-gradient-to-br from-red-100 to-red-50 dark:from-red-900/40 dark:to-red-800/30 rounded-xl p-3 shadow-md h-full"},Rk={class:"flex items-center justify-between mb-2"},Fk={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-red-200 dark:border-red-700 mb-2"},Uk={class:"text-xs text-red-700 dark:text-red-400 font-medium flex justify-between"},Nk={class:"h-2 bg-red-100 dark:bg-red-900/50 rounded-full mt-1 overflow-hidden"},Bk={class:"text-xs text-red-600 dark:text-red-400 mt-1"},Ok={class:"grid grid-cols-3 gap-2 mb-2"},Dk={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-red-200 dark:border-red-700"},Qk={class:"text-sm font-bold flex items-center"},jk={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-red-200 dark:border-red-700"},Hk={class:"text-sm font-bold flex items-center"},Gk={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-red-200 dark:border-red-700"},Vk={class:"text-sm font-bold flex items-center"},Wk={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-red-200 dark:border-red-700 flex items-center"},Kk={class:"flex items-center gap-2 text-xs text-red-700 dark:text-red-400 cursor-pointer"},zk=_e({__name:"PlayerStatsCard",setup(e){const t=qt(),r=F(()=>Z(t.currentHealth)),s=F(()=>Z(t.playerMaxHealth)),a=F(()=>Z(t.playerDamage)),i=F(()=>Z(t.playerRegen)),l=F(()=>Z(t.playerDefense)),u=F(()=>t.playerMaxHealth.eq(0)?0:t.currentHealth.div(t.playerMaxHealth).mul(100).toNumber());return(c,d)=>(b(),y("section",qk,[o("div",Rk,[d[1]||(d[1]=o("h2",{class:"text-base font-bold flex items-center"},[o("span",{class:"i-heroicons-user-circle text-red-700 dark:text-red-500 mr-2"}),X(" Player Stats ")],-1)),o("span",{class:ne(["text-xs px-2 py-0.5 rounded-full",E(t).isDead?"bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300":"bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300"])},_(E(t).isDead?"Dead":"Alive"),3)]),o("div",Fk,[o("div",Uk,[d[2]||(d[2]=o("span",null,"Health",-1)),o("span",null,_(Math.round(u.value))+"%",1)]),o("div",Nk,[o("div",{class:"h-full bg-gradient-to-r from-red-600 to-red-500 dark:from-red-500 dark:to-red-400 transition-all duration-300 ease-out",style:tt({width:`${u.value}%`})},null,4)]),o("div",Bk,_(r.value)+" / "+_(s.value),1)]),o("div",Ok,[o("div",Dk,[d[4]||(d[4]=o("div",{class:"text-xs text-red-700 dark:text-red-400 font-medium"},"Attack",-1)),o("div",Qk,[d[3]||(d[3]=o("span",{class:"i-heroicons-bolt text-red-600 dark:text-red-500 mr-1 text-xs"},null,-1)),X(" "+_(a.value),1)])]),o("div",jk,[d[6]||(d[6]=o("div",{class:"text-xs text-red-700 dark:text-red-400 font-medium"},"Defense",-1)),o("div",Hk,[d[5]||(d[5]=o("span",{class:"i-heroicons-shield-check text-red-600 dark:text-red-500 mr-1 text-xs"},null,-1)),X(" "+_(l.value),1)])]),o("div",Gk,[d[8]||(d[8]=o("div",{class:"text-xs text-red-700 dark:text-red-400 font-medium"},"Regen",-1)),o("div",Vk,[d[7]||(d[7]=o("span",{class:"i-heroicons-arrow-path text-red-600 dark:text-red-500 mr-1 text-xs"},null,-1)),X(" "+_(i.value),1)])])]),o("div",Wk,[o("label",Kk,[He(o("input",{type:"checkbox","onUpdate:modelValue":d[0]||(d[0]=m=>E(t).autoAdvance=m),class:"rounded border-red-300 text-red-600 focus:ring-red-500 dark:border-red-700 dark:bg-red-900/30"},null,512),[[mt,E(t).autoAdvance]]),d[9]||(d[9]=o("div",{class:"flex items-center"},[o("span",{class:"i-heroicons-rocket-launch text-red-600 dark:text-red-400 mr-1.5"}),o("span",{class:"font-medium"},"Auto Advance (One Hit Kills)")],-1))]),d[10]||(d[10]=o("div",{class:"ml-auto text-xs text-red-600 dark:text-red-400 opacity-80"},[o("span",{class:"i-heroicons-arrow-right-circle"})],-1))])]))}}),Yk={class:"bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-800 dark:to-gray-700 rounded-xl p-3 shadow-md"},Jk={class:"flex items-center justify-between mb-2"},Xk={key:0,class:"bg-white/80 dark:bg-gray-900/80 p-2 rounded-lg shadow-sm border border-gray-200 dark:border-gray-600 h-36 sm:h-48 overflow-y-auto"},Zk={key:0,class:"text-xs text-gray-600 dark:text-gray-400"},e_={key:1,class:"space-y-1"},t_={class:"text-gray-500 dark:text-gray-400 mr-1"},r_={key:1,class:"mt-2 text-xs text-gray-600 dark:text-gray-400 flex items-center bg-gray-50 dark:bg-gray-800 p-2 rounded-lg border border-gray-200 dark:border-gray-600"},o_=_e({__name:"CombatLogCard",setup(e){const t=qt(),r=N(!0),s=()=>{r.value=!r.value},a=F(()=>t.logs.slice(-10));return(i,l)=>(b(),y("section",Yk,[o("div",Jk,[l[0]||(l[0]=o("h2",{class:"text-base font-bold flex items-center"},[o("span",{class:"i-heroicons-document-text text-gray-700 dark:text-gray-300 mr-2"}),X(" Combat Log ")],-1)),o("button",{onClick:s,class:"md:hidden text-gray-600 dark:text-gray-400 p-1 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700"},[o("span",{class:ne(r.value?"i-heroicons-chevron-up":"i-heroicons-chevron-down")},null,2)])]),r.value?(b(),y("div",Xk,[E(t).logs.length===0?(b(),y("div",Zk,l[1]||(l[1]=[o("p",{class:"mb-1"},"• Adventure mode initialized",-1),o("p",{class:"mb-1"},"• Select an enemy to begin combat",-1),o("p",{class:"mb-1"},"• Combat is turn-based: you attack, then the enemy attacks",-1)]))):(b(),y("div",e_,[(b(!0),y(he,null,ke(a.value,u=>(b(),y("div",{key:u.timestamp+u.message,class:"text-xs"},[o("span",t_,_(new Date(u.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})),1),o("span",{class:ne({"text-gray-600 dark:text-gray-300":u.type==="info","text-red-600 dark:text-red-400":u.type==="combat","text-green-600 dark:text-green-400":u.type==="reward"})},_(u.message),3)]))),128))]))])):K("",!0),r.value?(b(),y("div",r_,l[2]||(l[2]=[o("span",{class:"i-heroicons-information-circle text-gray-600 dark:text-gray-400 mr-1 inline-block flex-shrink-0"},null,-1),o("span",null,"Combat is turn-based. Your damage scales with your ant count!",-1)]))):K("",!0)]))}}),s_={class:"flex items-center justify-between gap-1 mb-1.5"},n_={class:"flex items-center"},a_={class:"font-medium text-blue-700 dark:text-blue-300 text-sm"},i_={key:0,class:"ml-1 text-xs bg-green-100 dark:bg-green-900/50 px-1 py-0 rounded-full text-green-700 dark:text-green-400"},l_={key:1,class:"ml-1 text-xs bg-amber-100 dark:bg-amber-900/50 px-1.5 py-0.5 rounded-full text-amber-700 dark:text-amber-400 font-medium flex items-center"},u_={key:0,class:"mb-1.5 bg-amber-100 dark:bg-amber-900/30 rounded-md p-1.5 text-xs"},c_={class:"flex items-center justify-between"},d_={class:"flex items-center"},m_={class:"font-medium text-amber-800 dark:text-amber-300"},p_={class:"text-amber-700 dark:text-amber-400"},f_={class:"grid grid-cols-2 gap-1.5 text-xs"},g_={class:"flex justify-between bg-blue-50/50 dark:bg-blue-900/30 px-2 py-1 rounded"},v_={class:"font-medium text-blue-700 dark:text-blue-300"},h_={class:"flex justify-between bg-blue-50/50 dark:bg-blue-900/30 px-2 py-1 rounded"},b_={class:"font-medium text-blue-700 dark:text-blue-300"},y_={class:"flex justify-between bg-blue-50/50 dark:bg-blue-900/30 px-2 py-1 rounded"},x_={class:"font-medium text-blue-700 dark:text-blue-300"},k_={class:"flex justify-between bg-blue-50/50 dark:bg-blue-900/30 px-2 py-1 rounded"},__={class:"font-medium text-blue-700 dark:text-blue-300"},w_={key:0},S_={key:1},$_={key:2},C_={key:3},E_={class:"text-blue-700 dark:text-blue-300 font-medium"},M_=_e({__name:"BugCard",props:{bug:{}},emits:["showDropTable"],setup(e,{emit:t}){const r=e,s=t,a=qt(),i=hr(),l=ht(),u=k=>{const v=i.bugs.findIndex(A=>A.id===k.id),w=se.fromNumber(10).mul(se.pow(1.2,v)),S=v>50?w.mul(se.fromNumber(50+(v-50)*.5)):w,M=se.fromNumber(5).mul(se.pow(1.15,v)),L=v>50?M.mul(se.fromNumber(50+(v-50)*.3)):M;return{food:S,essence:L.floor()}},c=F(()=>a.selectedBugId===r.bug.id&&a.isInCombat),d=()=>{s("showDropTable",r.bug)},m=()=>{a.toggleAutoCombat(r.bug.id)},g=F(()=>Z(r.bug.maxHealth.div(a.calculateDamage(a.playerDamage,r.bug.defense))));F(()=>Z(a.calculateDamage(r.bug.damage,a.playerDefense))),F(()=>Z(a.playerMaxHealth.div(a.calculateDamage(r.bug.damage,a.playerDefense))));const f=F(()=>{if(a.canOneHitBug(r.bug.id))return"oneHit";const k=r.bug.maxHealth.div(a.calculateDamage(a.playerDamage,r.bug.defense)),v=a.playerMaxHealth.div(a.calculateDamage(r.bug.damage,a.playerDefense));return v.gt(k.mul(1.2))?"safe":v.gt(k)?"risky":"dangerous"}),p=F(()=>{const k=u(r.bug).essence;return k.gte(1e3)?`${Z(k.div(1e3))}K`:Z(k)}),h=F(()=>!l.activeQuest||!r.bug?!1:l.activeQuest.goals&&l.activeQuest.goals.length>0?l.activeQuest.goals.some(k=>k.type===ze.KILL_BUGS&&(!k.target||k.target===r.bug.id)):!1),x=F(()=>{if(!h.value||!l.activeQuest)return null;const k=l.activeQuest.goals.find(v=>v.type===ze.KILL_BUGS&&(!v.target||v.target===r.bug.id));return k?{title:l.activeQuest.title,progress:`${k.currentAmount instanceof se?k.currentAmount.toString():k.currentAmount}/${k.requiredAmount instanceof se?k.requiredAmount.toString():k.requiredAmount}`}:null});return(k,v)=>(b(),y("div",{class:ne(["bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border h-full transition-all duration-200",[h.value?"border-2 border-amber-400 dark:border-amber-600 shadow-md":"border border-blue-200 dark:border-blue-700",h.value?"bg-amber-50/80 dark:bg-amber-900/20":"bg-white/80 dark:bg-gray-800/80"]])},[o("div",s_,[o("div",n_,[v[1]||(v[1]=o("span",{class:"i-heroicons-bug-ant text-blue-600 dark:text-blue-400 mr-1 text-base"},null,-1)),o("span",a_,_(k.bug.name),1),c.value?(b(),y("span",i_," Active ")):K("",!0),h.value?(b(),y("span",l_,v[0]||(v[0]=[o("span",{class:"i-heroicons-clipboard-document-check mr-0.5 inline-block"},null,-1),X(" Quest ")]))):K("",!0)]),o("div",{class:"flex items-center space-x-1"},[o("button",{onClick:d,class:"p-1 rounded-full hover:bg-blue-100 dark:hover:bg-blue-800/50 transition-colors"},v[2]||(v[2]=[o("span",{class:"i-heroicons-information-circle text-blue-600 dark:text-blue-400 text-sm"},null,-1)])),o("button",{onClick:m,class:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 px-2 py-1 rounded-lg text-white text-xs font-medium transition-colors duration-200"}," Fight ")])]),h.value&&x.value?(b(),y("div",u_,[o("div",c_,[o("div",d_,[v[3]||(v[3]=o("span",{class:"i-heroicons-flag text-amber-600 dark:text-amber-400 mr-1"},null,-1)),o("span",m_,_(x.value.title),1)]),o("span",p_,_(x.value.progress),1)])])):K("",!0),o("div",f_,[o("div",g_,[v[4]||(v[4]=o("span",{class:"text-blue-500 dark:text-blue-400"},"HP:",-1)),o("span",v_,_(E(Z)(k.bug.maxHealth)),1)]),o("div",h_,[v[5]||(v[5]=o("span",{class:"text-blue-500 dark:text-blue-400"},"DMG:",-1)),o("span",b_,_(E(Z)(k.bug.damage)),1)]),o("div",y_,[v[6]||(v[6]=o("span",{class:"text-blue-500 dark:text-blue-400"},"DEF:",-1)),o("span",x_,_(E(Z)(k.bug.defense)),1)]),o("div",k_,[v[7]||(v[7]=o("span",{class:"text-blue-500 dark:text-blue-400"},[o("span",{class:"i-heroicons-flask text-blue-600 dark:text-blue-400 mr-1"})],-1)),o("span",__,_(p.value),1)])]),o("div",{class:ne(["flex justify-between mt-1.5 text-xs",{"mt-1":h.value&&x.value}])},[o("div",{class:ne(["flex items-center",{"text-green-600 dark:text-green-400":f.value==="oneHit"||f.value==="safe","text-yellow-600 dark:text-yellow-400":f.value==="risky","text-red-600 dark:text-red-400":f.value==="dangerous"}])},[o("span",{class:ne([{"i-heroicons-bolt":f.value==="oneHit","i-heroicons-check-circle":f.value==="safe","i-heroicons-exclamation-triangle":f.value==="risky","i-heroicons-x-circle":f.value==="dangerous"},"mr-1"])},null,2),f.value==="oneHit"?(b(),y("span",w_,"One Hit Kill")):f.value==="safe"?(b(),y("span",S_,"Safe to Fight")):f.value==="risky"?(b(),y("span",$_,"Risky")):(b(),y("span",C_,"Too Strong"))],2),o("div",null,[o("span",E_,_(g.value),1),v[8]||(v[8]=o("span",{class:"text-blue-500 dark:text-blue-400"}," hits",-1))])],2)],2))}}),A_={class:"bg-gradient-to-br from-blue-100 to-blue-50 dark:from-blue-900/40 dark:to-blue-800/30 rounded-xl p-3 shadow-md relative"},P_={class:"sticky top-[-20px] z-10 bg-gradient-to-br from-blue-100 to-blue-50 dark:from-blue-900/40 dark:to-blue-800/30 -mx-3 -mt-3 px-3 pt-3 pb-2"},I_={class:"flex flex-col gap-2"},L_={class:"flex items-center justify-between"},T_={class:"flex items-center gap-2"},q_={class:"text-xs bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 px-2 py-0.5 rounded-full"},R_={class:"flex flex-wrap items-center gap-2 text-xs bg-blue-50/50 dark:bg-blue-900/30 p-1.5 rounded-lg"},F_={class:"flex items-center gap-2 sm:gap-3"},U_={class:"flex items-center gap-1"},N_={class:"mt-2 rounded-lg"},B_={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2"},O_=_e({__name:"AdventureMapSection",emits:["showDropTable"],setup(e,{emit:t}){const r=qt(),s=hr(),a=t,i=F(()=>{let c=s.bugs;return r.showOneHitOnly&&(c=c.filter(d=>r.canOneHitBug(d.id))),c}),l=c=>{a("showDropTable",c)},u=c=>{if(r.selectedBugId===c.id&&r.isInCombat)return"selected";if(r.canOneHitBug(c.id))return"oneHit";const d=c.maxHealth.div(r.calculateDamage(r.playerDamage,c.defense)),m=r.playerMaxHealth.div(r.calculateDamage(c.damage,r.playerDefense));return m.gt(d.mul(1.2))?"safe":m.gt(d)?"risky":"dangerous"};return(c,d)=>(b(),y("section",A_,[o("div",P_,[o("div",I_,[o("div",L_,[d[1]||(d[1]=o("h2",{class:"text-base font-bold flex items-center"},[o("span",{class:"i-heroicons-map text-blue-700 dark:text-blue-500 mr-2"}),X(" Adventure Map ")],-1)),o("div",T_,[o("span",q_,_(i.value.length)+" Bugs ",1)])]),o("div",R_,[o("div",F_,[o("label",U_,[He(o("input",{type:"checkbox","onUpdate:modelValue":d[0]||(d[0]=m=>E(r).showOneHitOnly=m),class:"rounded border-blue-300 text-blue-600 focus:ring-blue-500 dark:border-blue-700 dark:bg-blue-900/30 h-3 w-3"},null,512),[[mt,E(r).showOneHitOnly]]),d[2]||(d[2]=o("span",{class:"whitespace-nowrap text-blue-700 dark:text-blue-400"},"One Hit Only",-1))])]),d[3]||(d[3]=to('<div class="ml-auto flex items-center space-x-2 text-xs"><span class="inline-block h-2 w-2 rounded-full bg-green-400 dark:bg-green-500"></span><span class="text-blue-700 dark:text-blue-400 mr-2">Safe</span><span class="inline-block h-2 w-2 rounded-full bg-yellow-400 dark:bg-yellow-500"></span><span class="text-blue-700 dark:text-blue-400 mr-2">Risky</span><span class="inline-block h-2 w-2 rounded-full bg-red-400 dark:bg-red-500"></span><span class="text-blue-700 dark:text-blue-400">Dangerous</span></div>',1))])])]),o("div",N_,[o("div",B_,[(b(!0),y(he,null,ke(i.value,m=>(b(),y("div",{key:m.id,class:ne({"border-green-400 dark:border-green-500 border-2":u(m)==="selected","border-l-4 border-l-green-400 dark:border-l-green-500":u(m)==="oneHit"&&u(m)!=="selected","border-l-4 border-l-green-300 dark:border-l-green-400":u(m)==="safe"&&u(m)!=="selected"&&u(m)!=="oneHit","border-l-4 border-l-yellow-400 dark:border-l-yellow-500":u(m)==="risky"&&u(m)!=="selected","border-l-4 border-l-red-400 dark:border-l-red-500":u(m)==="dangerous"&&u(m)!=="selected"})},[ye(M_,{bug:m,onShowDropTable:l},null,8,["bug"])],2))),128))])])]))}}),D_={class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm"},Q_={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-md p-4 sm:p-5 mx-auto border border-blue-200 dark:border-blue-700 max-h-[90vh] overflow-y-auto"},j_={class:"flex items-center justify-between pb-2 border-b border-blue-200 dark:border-blue-700"},H_={class:"text-base font-bold flex items-center text-blue-800 dark:text-blue-300"},G_={class:"space-y-3 mt-3"},V_={class:"text-sm text-gray-700 dark:text-gray-300"},W_={class:"space-y-2"},K_={class:"flex items-center space-x-2"},z_={class:"text-xs text-gray-500"},Y_={class:"text-sm text-gray-600 dark:text-gray-400"},J_=_e({__name:"DropTableModal",props:{bug:{}},emits:["close"],setup(e,{emit:t}){const r=t,s=bt(),a=()=>{r("close")};return(i,l)=>(b(),y("div",D_,[o("div",Q_,[o("div",j_,[o("h3",H_,[l[0]||(l[0]=o("span",{class:"i-heroicons-bug-ant text-blue-600 dark:text-blue-400 mr-2"},null,-1)),X(" "+_(i.bug.name)+" Drop Table ",1)]),o("button",{onClick:a,class:"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700"},l[1]||(l[1]=[o("span",{class:"i-heroicons-x-mark text-gray-600 dark:text-gray-400 text-lg"},null,-1)]))]),o("div",G_,[o("div",V_,_(i.bug.description),1),o("div",W_,[(b(!0),y(he,null,ke(i.bug.drops,u=>{var c,d;return b(),y("div",{key:u.itemId,class:"flex items-center justify-between p-2 rounded-lg bg-gray-50 dark:bg-gray-700/50"},[o("div",K_,[o("span",{class:ne(["text-sm font-medium",E(s).getRarityColor(((c=E(s).getItem(u.itemId))==null?void 0:c.rarity)||"common")])},_((d=E(s).getItem(u.itemId))==null?void 0:d.name),3),o("span",z_,_((u.chance*100).toFixed(1))+"% ",1)]),o("div",Y_,_(u.minQuantity)+"-"+_(u.maxQuantity)+"x ",1)])}),128))])]),o("div",{class:"flex justify-end mt-4"},[o("button",{onClick:a,class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800 rounded-lg text-white text-sm font-medium transition-colors"}," Close ")])])]))}}),X_={class:"space-y-4 px-2 sm:px-0"},Z_={class:"flex border-b border-gray-200 dark:border-gray-700 mb-4"},ew={class:"ml-1 text-xs bg-purple-100 dark:bg-purple-900/50 px-1.5 py-0.5 rounded-full text-purple-800 dark:text-purple-300"},tw={key:0,class:"space-y-3"},rw={class:"grid grid-cols-1 lg:grid-cols-2 gap-3"},ow={key:1,class:"bg-gradient-to-br from-amber-100/50 to-amber-50/50 dark:from-amber-900/20 dark:to-amber-800/10 rounded-xl p-3 shadow-md border border-amber-200/50 dark:border-amber-700/50 flex items-center justify-center"},sw={key:1},nw={key:2},aw=_e({__name:"AdventurePage",setup(e){const t=Mt(),r=qt(),s=hr();ht();const a=d=>{r.activeTab=d},i=N(!1),l=N(null),u=d=>{l.value=d,i.value=!0},c=()=>{i.value=!1};return(d,m)=>(b(),y("div",X_,[m[8]||(m[8]=o("h1",{class:"text-xl font-bold mb-2 flex items-center"},[o("span",{class:"i-heroicons-shield-exclamation text-red-700 dark:text-red-500 mr-2"}),X(" Adventure ")],-1)),o("div",Z_,[o("button",{onClick:m[0]||(m[0]=g=>a("combat")),class:ne(["px-4 py-2 text-sm font-medium rounded-t-lg transition-colors duration-200",E(r).activeTab==="combat"?"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200 border-b-2 border-red-500":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800/50"])},m[3]||(m[3]=[o("span",{class:"i-heroicons-bolt mr-1 inline-block"},null,-1),X(" Combat ")]),2),o("button",{onClick:m[1]||(m[1]=g=>a("shop")),class:ne(["px-4 py-2 text-sm font-medium rounded-t-lg transition-colors duration-200 flex items-center",E(r).activeTab==="shop"?"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-200 border-b-2 border-purple-500":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800/50"])},[m[4]||(m[4]=o("span",{class:"i-heroicons-beaker mr-1 inline-block"},null,-1)),m[5]||(m[5]=X(" Shop ")),o("span",ew,_(E(t).formattedPheromoneEssence),1)],2),o("button",{onClick:m[2]||(m[2]=g=>a("quests")),class:ne(["px-4 py-2 text-sm font-medium rounded-t-lg transition-colors duration-200",E(r).activeTab==="quests"?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-200 border-b-2 border-blue-500":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800/50"])},m[6]||(m[6]=[o("span",{class:"i-heroicons-clipboard-document-list mr-1 inline-block"},null,-1),X(" Quests ")]),2)]),E(r).activeTab==="combat"?(b(),y("div",tw,[ye(Xx),o("div",rw,[ye(zk),E(r).isInCombat&&E(s).selectedBug?(b(),Oe(Tk,{key:0,bug:E(s).selectedBug},null,8,["bug"])):(b(),y("div",ow,m[7]||(m[7]=[o("div",{class:"text-center text-amber-600 dark:text-amber-400"},[o("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-4xl mb-2 block mx-auto opacity-50"}),o("p",{class:"text-sm"},"Select an enemy from the Adventure Map to begin combat")],-1)])))]),ye(o_),ye(O_,{onShowDropTable:u})])):E(r).activeTab==="shop"?(b(),y("div",sw,[ye(zy)])):E(r).activeTab==="quests"?(b(),y("div",nw,[ye(Gu)])):K("",!0),i.value?(b(),Oe(J_,{key:3,bug:l.value,onClose:c},null,8,["bug"])):K("",!0),ye(qr,{threshold:400})]))}}),iw={class:"sticky top-0 z-20 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-b border-gray-200 dark:border-gray-700",role:"tablist","aria-label":"Inventory Sections"},lw={class:"flex overflow-x-auto scrollbar-hide"},uw=["aria-selected","tabindex"],cw=["aria-selected","tabindex"],dw=_e({__name:"InventoryTabsNavigation",props:{activeTab:{}},emits:["update:activeTab"],setup(e,{emit:t}){const r=t,s=(i,l)=>{i.key==="ArrowRight"?(r("update:activeTab","inventory"),a(1),i.preventDefault()):i.key==="ArrowLeft"&&(r("update:activeTab","equipment"),a(0),i.preventDefault())},a=i=>{const l=`tab-${i===0?"equipment":"inventory"}`;setTimeout(()=>{const u=document.getElementById(l);u&&u.focus()},10)};return(i,l)=>(b(),y("div",iw,[o("div",lw,[o("button",{onClick:l[0]||(l[0]=u=>r("update:activeTab","equipment")),onKeydown:l[1]||(l[1]=u=>s(u)),class:ne(["px-4 py-3 font-medium text-sm whitespace-nowrap transition-colors outline-none",i.activeTab==="equipment"?"border-b-2 border-purple-600 dark:border-purple-500 text-purple-700 dark:text-purple-400":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"]),id:"tab-equipment","aria-selected":i.activeTab==="equipment","aria-controls":"panel-equipment",role:"tab",tabindex:i.activeTab==="equipment"?0:-1},l[4]||(l[4]=[o("span",{class:"i-heroicons-shield-check mr-1.5"},null,-1),X(" Equipment ")]),42,uw),o("button",{onClick:l[2]||(l[2]=u=>r("update:activeTab","inventory")),onKeydown:l[3]||(l[3]=u=>s(u)),class:ne(["px-4 py-3 font-medium text-sm whitespace-nowrap transition-colors outline-none",i.activeTab==="inventory"?"border-b-2 border-purple-600 dark:border-purple-500 text-purple-700 dark:text-purple-400":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"]),id:"tab-inventory","aria-selected":i.activeTab==="inventory","aria-controls":"panel-inventory",role:"tab",tabindex:i.activeTab==="inventory"?0:-1},l[5]||(l[5]=[o("span",{class:"i-heroicons-shopping-bag mr-1.5"},null,-1),X(" Inventory ")]),42,cw)])]))}}),mw=Ve(dw,[["__scopeId","data-v-122a1ba3"]]),pw={class:"bg-gradient-to-br from-amber-100 to-amber-50 dark:from-amber-900/40 dark:to-amber-800/30 rounded-xl p-3 shadow-md"},fw={class:"mt-3"},gw={class:"grid grid-cols-3 gap-2"},vw={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},hw={class:"text-sm font-bold text-amber-600 dark:text-amber-500"},bw={key:0,class:"text-xs text-amber-500 dark:text-amber-400 mt-1"},yw={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},xw={class:"text-sm font-bold text-amber-600 dark:text-amber-500"},kw={key:0,class:"text-xs text-amber-500 dark:text-amber-400 mt-1"},_w={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},ww={class:"text-sm font-bold text-amber-600 dark:text-amber-500"},Sw={key:0,class:"text-xs text-amber-500 dark:text-amber-400 mt-1"},$w={key:0,class:"mt-3"},Cw={class:"grid grid-cols-2 gap-2"},Ew={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},Mw={class:"text-sm font-bold text-amber-600 dark:text-amber-500"},Aw={class:"text-xs text-amber-500 dark:text-amber-400 mt-1"},Pw={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},Iw={class:"text-sm font-bold text-amber-600 dark:text-amber-500"},Lw={class:"text-xs text-amber-500 dark:text-amber-400 mt-1"},Tw={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},qw={class:"text-sm font-bold text-amber-600 dark:text-amber-500"},Rw={class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},Fw={class:"text-sm font-bold text-amber-600 dark:text-amber-500"},Uw={key:1,class:"mt-3"},Nw={class:"grid grid-cols-2 gap-2"},Bw={key:0,class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},Ow={class:"text-sm font-bold text-amber-600 dark:text-amber-500"},Dw={key:1,class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},Qw={class:"text-sm font-bold text-amber-600 dark:text-amber-500"},jw={key:0,class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},Hw={class:"text-xs text-amber-700 dark:text-amber-400 font-medium capitalize"},Gw={class:"text-sm font-bold text-amber-600 dark:text-amber-500"},Vw={key:2,class:"mt-3 bg-amber-50 dark:bg-amber-900/30 p-3 rounded-lg text-sm"},Ww={class:"text-amber-600 dark:text-amber-300 text-xs"},Kw={key:3,class:"mt-3"},zw={class:"grid grid-cols-2 gap-2"},Yw={class:"text-xs text-amber-700 dark:text-amber-400 font-medium capitalize"},Jw={class:"text-sm font-bold text-amber-600 dark:text-amber-500"},Xw={class:"text-base font-bold mb-3 flex items-center bg-gradient-to-br from-amber-100 to-amber-50 dark:from-amber-900/40 dark:to-amber-800/30 py-2 z-10"},Zw={class:"ml-2 text-xs text-amber-600 dark:text-amber-400"},e2={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-2"},t2=["onClick"],r2={key:0,class:"absolute inset-0 flex flex-col items-center justify-center bg-amber-900/80 p-2 text-center"},o2={class:"flex-1 flex flex-col items-center justify-center p-2 text-center"},s2={key:0,class:"absolute top-1 right-1 bg-blue-200/90 dark:bg-blue-900/90 text-blue-900 dark:text-blue-200 rounded-md px-1.5 py-0.5 text-xs font-medium"},n2={key:2,class:"absolute inset-0 flex flex-col items-center justify-center text-amber-600 dark:text-amber-400"},a2={class:"mt-4 flex justify-center"},Ai=_e({__name:"EquipmentSection",props:{onSlotClick:{type:Function}},setup(e){const t=pt(),r=bt(),s=De(),a=qt(),i=F(()=>s.generators[0].count),l=F(()=>p(i.value)),u=F(()=>t.totalStats.damage.mul(i.value)),c=F(()=>t.totalStats.health.mul(i.value)),d=F(()=>t.totalStats.regen.mul(i.value)),m=F(()=>a.playerDamage),g=F(()=>a.playerMaxHealth),f=F(()=>a.playerRegen),p=L=>Z(L,0),h=F(()=>i.value.gt(0)),x=L=>r.getItem(L),k=(L,A)=>{const Y=t.equipmentSlots[A];if(Y&&Y.item===L)return Y.mergeLevel||0;const U=r.getItem(L);return(U==null?void 0:U.mergeLevel)||0},v=L=>Z(L.sub(1).mul(100),2)+"%",w=F(()=>{const L=t.totalSpecialModifiers;return Object.keys(L).some(A=>L[A].gt(1))}),S=L=>Z(L.sub(1).mul(100),2)+"%",M=L=>{t.toggleSection(L)};return(L,A)=>{var Y,U;return b(),y("section",pw,[o("div",fw,[o("div",{onClick:A[0]||(A[0]=T=>M("equipmentStats")),class:"flex justify-between items-center cursor-pointer text-xs text-amber-700 dark:text-amber-400 font-medium mb-2 p-1 hover:bg-amber-100 dark:hover:bg-amber-800/30 rounded transition-colors"},[A[5]||(A[5]=o("span",null,"Equipment Stats",-1)),o("span",{class:ne(E(t).collapsedSections.equipmentStats?"i-heroicons-chevron-down":"i-heroicons-chevron-up")},null,2)]),He(o("div",gw,[o("div",vw,[A[6]||(A[6]=o("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Damage",-1)),o("div",hw," +"+_(p(E(t).totalStats.damage)),1),h.value?(b(),y("div",bw," Boosted: +"+_(p(u.value)),1)):K("",!0)]),o("div",yw,[A[7]||(A[7]=o("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Health",-1)),o("div",xw," +"+_(p(E(t).totalStats.health)),1),h.value?(b(),y("div",kw," Boosted: +"+_(p(c.value)),1)):K("",!0)]),o("div",_w,[A[8]||(A[8]=o("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Regen",-1)),o("div",ww," +"+_(p(E(t).totalStats.regen)),1),h.value?(b(),y("div",Sw," Boosted: +"+_(p(d.value)),1)):K("",!0)])],512),[[lr,!E(t).collapsedSections.equipmentStats]])]),h.value?(b(),y("div",$w,[o("div",{onClick:A[1]||(A[1]=T=>M("combatStats")),class:"flex justify-between items-center cursor-pointer text-xs text-amber-700 dark:text-amber-400 font-medium mb-2 p-1 hover:bg-amber-100 dark:hover:bg-amber-800/30 rounded transition-colors"},[A[9]||(A[9]=o("span",null,"Total Combat Stats",-1)),o("span",{class:ne(E(t).collapsedSections.combatStats?"i-heroicons-chevron-down":"i-heroicons-chevron-up")},null,2)]),He(o("div",Cw,[o("div",Ew,[A[10]||(A[10]=o("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Total Damage",-1)),o("div",Mw,_(p(m.value)),1),o("div",Aw,_(p(i.value))+" worker ants ",1)]),o("div",Pw,[A[11]||(A[11]=o("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Total Health",-1)),o("div",Iw,_(p(g.value)),1),o("div",Lw,_(p(E(a).currentHealth))+"/"+_(p(g.value)),1)]),o("div",Tw,[A[12]||(A[12]=o("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Total Regen",-1)),o("div",qw,_(p(f.value)),1),A[13]||(A[13]=o("div",{class:"text-xs text-amber-500 dark:text-amber-400 mt-1"}," per second ",-1))]),o("div",Rw,[A[14]||(A[14]=o("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium"},"Defense",-1)),o("div",Fw,_(p(E(a).playerDefense)),1),A[15]||(A[15]=o("div",{class:"text-xs text-amber-500 dark:text-amber-400 mt-1"}," damage reduction ",-1))])],512),[[lr,!E(t).collapsedSections.combatStats]])])):K("",!0),w.value?(b(),y("div",Uw,[o("div",{onClick:A[2]||(A[2]=T=>M("specialModifiers")),class:"flex justify-between items-center cursor-pointer text-xs text-amber-700 dark:text-amber-400 font-medium mb-2 p-1 hover:bg-amber-100 dark:hover:bg-amber-800/30 rounded transition-colors"},[A[16]||(A[16]=o("span",null,"Special Bonuses",-1)),o("span",{class:ne(E(t).collapsedSections.specialModifiers?"i-heroicons-chevron-down":"i-heroicons-chevron-up")},null,2)]),He(o("div",Nw,[(Y=E(t).totalSpecialModifiers.epBoost)!=null&&Y.gt(1)?(b(),y("div",Bw,[A[17]||(A[17]=o("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium flex items-center"},[o("span",{class:"i-heroicons-sparkles text-amber-600 dark:text-amber-400 mr-1"}),X(" Evolution Points ")],-1)),o("div",Ow," +"+_(v(E(t).totalSpecialModifiers.epBoost)),1),A[18]||(A[18]=o("div",{class:"text-xs text-amber-500 dark:text-amber-400 mt-1"}," Bonus to EP gain ",-1))])):K("",!0),(U=E(t).totalSpecialModifiers.global)!=null&&U.gt(1)?(b(),y("div",Dw,[A[19]||(A[19]=o("div",{class:"text-xs text-amber-700 dark:text-amber-400 font-medium flex items-center"},[o("span",{class:"i-heroicons-globe-alt text-amber-600 dark:text-amber-400 mr-1"}),X(" Global Production ")],-1)),o("div",Qw," +"+_(v(E(t).totalSpecialModifiers.global)),1),A[20]||(A[20]=o("div",{class:"text-xs text-amber-500 dark:text-amber-400 mt-1"}," All production increased ",-1))])):K("",!0),(b(!0),y(he,null,ke(E(t).totalSpecialModifiers,(T,G)=>(b(),y(he,{key:G},[G!=="epBoost"&&G!=="global"&&T.gt(1)?(b(),y("div",jw,[o("div",Hw,_(G.replace(/([A-Z])/g," $1").trim()),1),o("div",Gw," +"+_(v(T)),1)])):K("",!0)],64))),128))],512),[[lr,!E(t).collapsedSections.specialModifiers]])])):K("",!0),h.value?(b(),y("div",Vw,[A[21]||(A[21]=o("div",{class:"font-medium text-amber-700 dark:text-amber-400 mb-1"},[o("span",{class:"i-heroicons-information-circle mr-1"}),X(" Equipment Boost ")],-1)),o("p",Ww," Your equipment stats are boosted by your worker ants! Each stat is multiplied by your worker ant count (currently "+_(l.value)+"), giving you a significant combat advantage. ",1)])):K("",!0),Object.keys(E(t).totalProductionModifiers).length>0?(b(),y("div",Kw,[o("div",{onClick:A[3]||(A[3]=T=>M("productionModifiers")),class:"flex justify-between items-center cursor-pointer text-xs text-amber-700 dark:text-amber-400 font-medium mb-2 p-1 hover:bg-amber-100 dark:hover:bg-amber-800/30 rounded transition-colors"},[A[22]||(A[22]=o("span",null,"Production Bonuses",-1)),o("span",{class:ne(E(t).collapsedSections.productionModifiers?"i-heroicons-chevron-down":"i-heroicons-chevron-up")},null,2)]),He(o("div",zw,[(b(!0),y(he,null,ke(E(t).totalProductionModifiers,(T,G)=>(b(),y("div",{key:G,class:"bg-white/80 dark:bg-gray-800/80 p-2 rounded-lg shadow-sm border border-amber-200 dark:border-amber-700"},[o("div",Yw,_(G),1),o("div",Jw," +"+_(S(T)),1)]))),128))],512),[[lr,!E(t).collapsedSections.productionModifiers]])])):K("",!0),o("h2",Xw,[A[23]||(A[23]=o("span",{class:"i-heroicons-shield-check text-amber-700 dark:text-amber-500 mr-2"},null,-1)),A[24]||(A[24]=X(" Equipment ")),o("div",Zw," ("+_(E(t).unlockedEquipmentSlots)+"/"+_(E(t).maxEquipmentSlots)+" slots unlocked) ",1)]),o("div",e2,[(b(!0),y(he,null,ke(E(t).equipmentSlots,(T,G)=>{var D,P,$;return b(),y("div",{key:G,class:ne(["relative aspect-square rounded-lg border-2 overflow-hidden",{"border-amber-700/30 bg-amber-900/10 dark:border-amber-700/50":T.locked,"border-amber-500 hover:border-amber-400 bg-amber-50/50 dark:bg-amber-900/20":!T.locked&&!T.item,"border-amber-500 hover:border-amber-400":T.item}]),onClick:ee=>L.onSlotClick(T,G)},[T.locked?(b(),y("div",r2,A[25]||(A[25]=[o("div",{class:"i-heroicons-lock-closed text-2xl text-amber-500 mb-1"},null,-1),o("div",{class:"text-xs text-amber-400"},"Locked Slot",-1),o("div",{class:"text-[10px] text-amber-500 mt-1"},"Unlock via Evolution",-1)]))):T.item?(b(),y("div",{key:1,class:ne(["flex flex-col h-full",E(r).getRarityBackground(((D=x(T.item))==null?void 0:D.rarity)||"common")])},[o("div",o2,[o("div",{class:ne(["text-base font-bold line-clamp-2 mt-4",E(r).getRarityColor(((P=x(T.item))==null?void 0:P.rarity)||"common")])},_(($=x(T.item))==null?void 0:$.name),3)]),T.item&&k(T.item,G)>0?(b(),y("div",s2," +"+_(k(T.item,G)),1)):K("",!0),A[26]||(A[26]=o("div",{class:"bg-amber-800/60 py-0.5 text-[10px] text-center text-amber-200"}," Click to unequip ",-1))],2)):(b(),y("div",n2,A[27]||(A[27]=[o("div",{class:"i-heroicons-plus text-2xl mb-1"},null,-1),o("div",{class:"text-xs text-center"},"Empty Slot",-1),o("div",{class:"text-[10px] text-amber-500 dark:text-amber-500 mt-1"},"Click to browse items",-1)])))],10,t2)}),128))]),o("div",a2,[o("button",{onClick:A[4]||(A[4]=T=>E(t).initializeEquipmentSlots()),class:"bg-amber-500 hover:bg-amber-600 text-white px-4 py-2 rounded-lg shadow-md transition-colors flex items-center"},A[28]||(A[28]=[o("span",{class:"i-heroicons-refresh mr-2"},null,-1),X(" Refresh Equipment Slots ")]))])])}}}),i2={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl w-full max-w-4xl mx-auto border border-purple-200 dark:border-purple-700 max-h-[90vh] flex flex-col overflow-hidden"},l2={class:"p-3 sm:p-5 border-b border-purple-200 dark:border-purple-700 bg-white dark:bg-gray-800"},u2={class:"mt-4 p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800"},c2={class:"flex items-start justify-between"},d2={class:"text-xs text-amber-700 dark:text-amber-400 mt-1"},m2={key:0,class:"flex items-center"},p2={class:"relative inline-flex items-center cursor-pointer"},f2={class:"ml-2 text-xs font-medium text-gray-700 dark:text-gray-300"},g2={key:1},v2={class:"mt-3 sm:mt-4"},h2={class:"relative"},b2={class:"flex-1 overflow-y-auto p-3 sm:p-5 min-h-0 overscroll-contain"},y2={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-4"},x2={class:"flex items-start justify-between"},k2={class:"flex-1 min-w-0 mr-3"},_2={class:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 line-clamp-2"},w2={class:"shrink-0 flex items-center"},S2={class:"relative inline-flex items-center cursor-pointer"},$2=["checked","onChange"],C2={class:"ml-2 text-xs font-medium text-gray-700 dark:text-gray-300"},E2={key:0,class:"py-6 text-center text-gray-500 dark:text-gray-400"},M2=_e({__name:"ItemFilterModal",props:{isOpen:{type:Boolean}},emits:["close"],setup(e,{emit:t}){const r=e,s=t,a=aa(),i=pt();Ue();const l=N(""),u=Fs(),{handleClose:c,preventBackgroundTouchMove:d}=yr(),m=()=>{c(()=>s("close"),0)},g=v=>{v.key==="Escape"&&r.isOpen&&m()};qe(()=>{window.addEventListener("keydown",g)}),At(()=>{window.removeEventListener("keydown",g)});const f=F(()=>{const v=a.getAllAvailableItems();return(l.value?v.filter(S=>S.name.toLowerCase().includes(l.value.toLowerCase())||S.description.toLowerCase().includes(l.value.toLowerCase())):v).reduce((S,M)=>(S[M.rarity]||(S[M.rarity]=[]),S[M.rarity].push(M),S),{})}),p=["common","uncommon","rare","epic","legendary","mythic","divine"],h=v=>{switch(v){case"common":return"text-gray-400";case"uncommon":return"text-green-400";case"rare":return"text-blue-400";case"epic":return"text-purple-400";case"legendary":return"text-yellow-400";case"mythic":return"text-pink-400";case"divine":return"text-red-400";default:return"text-gray-400"}},x=F(()=>i.isAutoSalvageUnlocked),k=F({get:()=>i.isAutoSalvageEnabled,set:v=>{v!==i.isAutoSalvageEnabled&&i.toggleAutoSalvage()}});return F(()=>Object.values(f.value).some(v=>v.some(w=>a.isItemFiltered(w.id)))),(v,w)=>v.isOpen?(b(),y("div",{key:0,class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-2 sm:p-4 backdrop-blur-sm overflow-hidden modal-backdrop","data-modal-backdrop":"true",onClick:ot(m,["self"]),onTouchmove:w[3]||(w[3]=ot((...S)=>E(d)&&E(d)(...S),["self"]))},[o("div",i2,[o("div",l2,[o("div",{class:"flex justify-between items-start"},[w[5]||(w[5]=o("h3",{class:"text-base font-bold flex items-center text-purple-800 dark:text-purple-300"},[o("span",{class:"i-heroicons-funnel text-purple-600 dark:text-purple-400 mr-2"}),X(" Item Filter Settings ")],-1)),o("button",{onClick:m,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors"},w[4]||(w[4]=[o("span",{class:"i-heroicons-x-mark text-xl"},null,-1)]))]),w[9]||(w[9]=o("p",{class:"text-sm text-gray-700 dark:text-gray-300 mt-3 leading-relaxed hidden sm:block"},' Configure which items your colony should collect. Items marked as "Filtered" will be automatically discarded when dropped. This is useful for preventing your inventory from filling up with lower-tier items as you progress. ',-1)),w[10]||(w[10]=o("p",{class:"text-sm text-gray-700 dark:text-gray-300 mt-3 leading-relaxed sm:hidden"}," Configure which items to collect or filter out. ",-1)),o("div",u2,[o("div",c2,[o("div",null,[w[6]||(w[6]=o("h4",{class:"text-sm font-semibold text-amber-800 dark:text-amber-300 flex items-center"},[o("span",{class:"i-heroicons-beaker text-amber-600 dark:text-amber-400 mr-2"}),X(" Auto-Salvage Filtered Items ")],-1)),o("p",d2,_(x.value?"Automatically convert filtered items to Pheromone Essence":"Purchase Auto-Salvage upgrade to convert filtered items to Pheromone Essence"),1)]),x.value?(b(),y("div",m2,[o("label",p2,[He(o("input",{type:"checkbox","onUpdate:modelValue":w[0]||(w[0]=S=>k.value=S),class:"sr-only peer"},null,512),[[mt,k.value]]),w[7]||(w[7]=o("div",{class:"w-11 h-6 bg-gray-300 dark:bg-gray-600 peer-focus:ring-2 peer-focus:ring-purple-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"},null,-1)),o("span",f2,_(k.value?"Enabled":"Disabled"),1)])])):(b(),y("div",g2,[o("button",{onClick:w[1]||(w[1]=S=>E(u).push("/upgrades")),class:"px-3 py-1 bg-amber-600 hover:bg-amber-700 text-white rounded-lg text-xs font-medium transition-colors flex items-center"}," Purchase Upgrade ")]))])]),o("div",v2,[o("div",h2,[w[8]||(w[8]=o("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3"},[o("span",{class:"i-heroicons-magnifying-glass text-gray-400"})],-1)),He(o("input",{"onUpdate:modelValue":w[2]||(w[2]=S=>l.value=S),type:"text",placeholder:"Search items...",class:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-gray-900 dark:text-gray-100"},null,512),[[ys,l.value]])])])]),o("div",b2,[(b(),y(he,null,ke(p,S=>{var M;return He(o("div",{key:S},[o("h3",{class:ne(["text-base sm:text-lg font-semibold mb-2 capitalize sticky top-0 bg-white dark:bg-gray-800 py-2 z-10",h(S)])},_(S),3),o("div",y2,[(b(!0),y(he,null,ke(f.value[S],L=>(b(),y("div",{key:L.id,class:"bg-gray-100 dark:bg-gray-700 rounded-lg p-3 flex flex-col border border-gray-200 dark:border-gray-600"},[o("div",x2,[o("div",k2,[o("h4",{class:ne(["font-semibold truncate",h(L.rarity)])},_(L.name),3),o("p",_2,_(L.description),1)]),o("div",w2,[o("label",S2,[o("input",{type:"checkbox",checked:!E(a).isItemFiltered(L.id),onChange:A=>E(a).toggleItemFilter(L.id),class:"sr-only peer"},null,40,$2),w[11]||(w[11]=o("div",{class:"w-11 h-6 bg-gray-300 dark:bg-gray-600 peer-focus:ring-2 peer-focus:ring-purple-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"},null,-1)),o("span",C2,_(E(a).isItemFiltered(L.id)?"Filtered":"Collect"),1)])])])]))),128))])]),[[lr,(M=f.value[S])==null?void 0:M.length]])}),64)),Object.keys(f.value).length===0||Object.values(f.value).every(S=>S.length===0)?(b(),y("div",E2,w[12]||(w[12]=[o("div",{class:"i-heroicons-magnifying-glass text-3xl mx-auto mb-2"},null,-1),o("p",null,"No items match your search query.",-1)]))):K("",!0)])])],32)):K("",!0)}}),A2={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full mx-auto border border-purple-200 dark:border-purple-700"},P2={class:"p-4 sm:p-5"},I2={key:0,class:"mt-2 max-h-28 sm:max-h-32 overflow-y-auto text-xs"},L2={key:1,class:"mt-2 max-h-28 sm:max-h-32 overflow-y-auto text-xs"},T2={class:"mb-3 sm:mb-4 text-xs sm:text-sm text-gray-600 dark:text-gray-400"},q2={class:"mt-1 sm:mt-2"},R2={class:"font-bold"},F2={class:"mb-3 sm:mb-4 flex items-center"},U2={key:1,class:"mb-3 sm:mb-4"},N2=["disabled"],B2={key:0,class:"i-heroicons-arrow-path animate-spin mr-2"},O2={key:2,class:"space-y-2 sm:space-y-3 max-h-48 sm:max-h-60 overflow-y-auto pr-2"},D2=["onClick"],Q2={class:"flex justify-between items-center"},j2={class:"text-xs text-gray-500 dark:text-gray-400"},H2={class:"text-xs px-2 py-1 rounded-full bg-purple-100 dark:bg-purple-900/50 text-purple-800 dark:text-purple-300"},G2={key:3,class:"py-4 sm:py-6 text-center text-gray-500 dark:text-gray-400"},V2={class:"mt-4 sm:mt-6 flex gap-2 sm:gap-3"},W2=["disabled"],K2=_e({__name:"MergeItemsModal",props:{isOpen:{type:Boolean},onClose:{type:Function}},setup(e){const t=e,r=pt(),s=bt(),{handleClose:a,preventBackgroundTouchMove:i}=yr(),l=N(null),u=N([]),c=N(null),d=N(!1),m=N([]),g=N([]),f=N(!0),p=F(()=>u.value.length>0),h=Y=>{Y.key==="Escape"&&t.isOpen&&L()},x=()=>{a(t.onClose,0)};qe(()=>{window.addEventListener("keydown",h),v()}),At(()=>{window.removeEventListener("keydown",h)});const k=Y=>s.getFormattedItemName(Y),v=()=>{u.value=r.findMergeableItems()},w=Y=>{c.value=Y},S=async()=>{if(!c.value)return;let Y,U=0;const T=r.mergeItems(c.value.indices);if(l.value=T,T.success){if(U++,Y=T.item,f.value&&T.item){let G=!0;for(;G&&Y;){v();const D=u.value.find(P=>P.item.id===(Y==null?void 0:Y.id)&&(Y?P.item.mergeLevel===Y.mergeLevel:!1));if(D&&D.count>=D.requiredItems){const P=r.mergeItems(D.indices);P.success&&P.item?(U++,Y=P.item,m.value.push(`Merged to create ${k(P.item)}`)):(G=!1,P.message&&g.value.push(P.message))}else G=!1}}U>1&&(l.value={success:!0,message:`Performed ${U} merge operations!`,item:Y}),v(),c.value=null}},M=async()=>{var Y;d.value=!0,m.value=[],g.value=[],l.value=null;try{const U=[...u.value];let T=0,G=0;const D=new Map;for(const P of U){const $=r.mergeItems(P.indices);if($.success&&$.item){m.value.push(`Merged ${P.requiredItems}x ${k(P.item)} → ${k($.item)}`),T++;const ee=`${$.item.id}-${$.item.mergeLevel}`;D.set(ee,$.item)}else if((Y=$.message)!=null&&Y.includes("inventory space")){g.value.push(`Error: ${$.message}`),G++;break}else g.value.push(`Failed to merge ${k(P.item)}: ${$.message}`),G++}if(f.value&&D.size>0){let P=0;for(const[$,ee]of D.entries()){let W=ee,ae=!0;for(;ae;){v();const z=u.value.find(R=>R.item.id===W.id&&R.item.mergeLevel===W.mergeLevel);if(z&&z.count>=z.requiredItems){const R=r.mergeItems(z.indices);R.success&&R.item?(P++,W=R.item,m.value.push(`Merged to create ${k(R.item)}`)):(ae=!1,R.message&&g.value.push(R.message))}else ae=!1}}T+=P}T>0?l.value={success:!0,message:`Successfully merged ${T} item${T!==1?"s":""}!`+(G>0?` There were ${G} error${G!==1?"s":""}.`:"")}:l.value={success:!1,message:G>0?`Failed to merge. There were ${G} error${G!==1?"s":""}.`:"No items were eligible for merging."},v()}catch(U){l.value={success:!1,message:`An error occurred: ${U}`}}finally{d.value=!1}},L=()=>{l.value=null,m.value=[],g.value=[],c.value=null,t.onClose()},A=()=>{t.isOpen&&v()};return Se(()=>t.isOpen,Y=>{Y&&A()}),(Y,U)=>Y.isOpen?(b(),y("div",{key:0,class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-2 sm:p-4 backdrop-blur-sm modal-backdrop","data-modal-backdrop":"true",onClick:ot(x,["self"]),onTouchmove:U[1]||(U[1]=ot((...T)=>E(i)&&E(i)(...T),["self"]))},[o("div",A2,[o("div",P2,[o("div",{class:"flex justify-between items-start mb-3 sm:mb-4"},[U[3]||(U[3]=o("h3",{class:"text-base sm:text-lg font-bold text-purple-700 dark:text-purple-400"}," Merge Items ",-1)),o("button",{onClick:L,class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors"},U[2]||(U[2]=[o("span",{class:"i-heroicons-x-mark text-xl"},null,-1)]))]),l.value?(b(),y("div",{key:0,class:ne(["p-3 mb-3 sm:mb-4 rounded-lg text-sm",l.value.success?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"])},[o("div",null,_(l.value.message),1),m.value.length>0?(b(),y("div",I2,[(b(!0),y(he,null,ke(m.value,(T,G)=>(b(),y("div",{key:`success-${G}`,class:"mb-1 text-green-700 dark:text-green-400"},_(T),1))),128))])):K("",!0),g.value.length>0?(b(),y("div",L2,[(b(!0),y(he,null,ke(g.value,(T,G)=>(b(),y("div",{key:`error-${G}`,class:"mb-1 text-red-700 dark:text-red-400"},_(T),1))),128))])):K("",!0)],2)):K("",!0),o("div",T2,[U[5]||(U[5]=o("p",null,"Merge identical items to create more powerful versions. Each merge level increases stats by 20% and modifiers by 15%.",-1)),o("p",q2,[U[4]||(U[4]=X("Maximum merge level: ")),o("span",R2,"+"+_(E(r).MAX_MERGE_LEVEL),1)]),U[6]||(U[6]=o("p",{class:"mt-1 sm:mt-2 text-amber-600 dark:text-amber-400"},[o("span",{class:"i-heroicons-information-circle mr-1"}),X(" Make sure you have enough inventory space when merging multiple items. ")],-1))]),o("div",F2,[He(o("input",{type:"checkbox",id:"continue-merging","onUpdate:modelValue":U[0]||(U[0]=T=>f.value=T),class:"w-4 h-4 text-indigo-600 rounded border-gray-300 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600"},null,512),[[mt,f.value]]),U[7]||(U[7]=o("label",{for:"continue-merging",class:"ml-2 text-xs sm:text-sm text-gray-700 dark:text-gray-300"},"Continue merging to higher levels when possible",-1))]),p.value?(b(),y("div",U2,[o("button",{onClick:M,disabled:d.value,class:"w-full px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center"},[d.value?(b(),y("span",B2)):K("",!0),U[8]||(U[8]=o("span",{class:"i-heroicons-bolt mr-2"},null,-1)),X(" "+_(d.value?"Merging...":"Merge All Items"),1)],8,N2)])):K("",!0),u.value.length>0?(b(),y("div",O2,[(b(!0),y(he,null,ke(u.value,(T,G)=>(b(),y("div",{key:G,class:ne(["p-2 sm:p-3 rounded-lg border-2 cursor-pointer transition-colors",[c.value===T?"border-purple-500 bg-purple-50 dark:bg-purple-900/30":"border-gray-200 dark:border-gray-700 hover:border-purple-300 dark:hover:border-purple-700",E(s).getRarityBackground(T.item.rarity)]]),onClick:D=>w(T)},[o("div",Q2,[o("div",null,[o("div",{class:ne(["text-sm sm:text-base font-medium",E(s).getRarityColor(T.item.rarity)])},_(k(T.item)),3),o("div",j2,_(T.count)+" available / "+_(T.requiredItems)+" needed ",1)]),o("div",H2,_(T.mergeLevel<E(r).MAX_MERGE_LEVEL?`→ +${T.mergeLevel+1}`:"MAX"),1)])],10,D2))),128))])):(b(),y("div",G2,U[9]||(U[9]=[o("div",{class:"i-heroicons-exclamation-circle text-2xl sm:text-3xl mx-auto mb-2"},null,-1),o("p",{class:"text-sm sm:text-base"},"No mergeable items found. Collect more identical items to merge them.",-1)]))),o("div",V2,[o("button",{onClick:L,class:"flex-1 px-3 sm:px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors"}," Close "),o("button",{onClick:S,disabled:!c.value||d.value,class:ne(["flex-1 px-3 sm:px-4 py-2 text-white rounded-lg text-sm font-medium transition-colors",c.value&&!d.value?"bg-purple-600 hover:bg-purple-700":"bg-gray-400 cursor-not-allowed"])}," Merge Selected ",10,W2)])])])],32)):K("",!0)}}),Jo=e=>{let t=0;e.stats&&(e.stats.damage&&(t+=e.stats.damage.toNumber()),e.stats.health&&(t+=e.stats.health.toNumber()*.5),e.stats.defense&&(t+=e.stats.defense.toNumber()*.8),e.stats.regen&&(t+=e.stats.regen.toNumber()*2)),e.productionModifiers&&Object.values(e.productionModifiers).forEach(s=>{t+=(s.toNumber()-1)*10}),e.specialModifiers&&(e.specialModifiers.epBoost&&(t+=(e.specialModifiers.epBoost.toNumber()-1)*20),e.specialModifiers.global&&(t+=(e.specialModifiers.global.toNumber()-1)*15));const r=e.mergeLevel||0;return t*(1+r*.2)},Xo={common:0,uncommon:1,rare:2,epic:3,legendary:4,mythic:5,divine:6},z2=[{id:"default",label:"Default",compareFn:()=>0},{id:"rarity-asc",label:"Rarity (Low to High)",compareFn:(e,t)=>Xo[e.rarity]-Xo[t.rarity]},{id:"rarity-desc",label:"Rarity (High to Low)",compareFn:(e,t)=>Xo[t.rarity]-Xo[e.rarity]},{id:"merge-asc",label:"Quality (Low to High)",compareFn:(e,t)=>{const r=e.mergeLevel||0,s=t.mergeLevel||0;return r-s}},{id:"merge-desc",label:"Quality (High to Low)",compareFn:(e,t)=>{const r=e.mergeLevel||0;return(t.mergeLevel||0)-r}},{id:"power-asc",label:"Power (Low to High)",compareFn:(e,t)=>Jo(e)-Jo(t)},{id:"power-desc",label:"Power (High to Low)",compareFn:(e,t)=>Jo(t)-Jo(e)},{id:"name-asc",label:"Name (A to Z)",compareFn:(e,t)=>e.name.localeCompare(t.name)},{id:"name-desc",label:"Name (Z to A)",compareFn:(e,t)=>t.name.localeCompare(e.name)},{id:"quantity-asc",label:"Quantity (Low to High)",compareFn:(e,t)=>{var a,i;const r=((a=e.quantity)==null?void 0:a.toNumber())||1,s=((i=t.quantity)==null?void 0:i.toNumber())||1;return r-s}},{id:"quantity-desc",label:"Quantity (High to Low)",compareFn:(e,t)=>{var a,i;const r=((a=e.quantity)==null?void 0:a.toNumber())||1;return(((i=t.quantity)==null?void 0:i.toNumber())||1)-r}}],Y2=[{id:"none",label:"Show All Items",filterFn:()=>!0},{id:"damage",label:"Damage",filterFn:e=>{var t;return!!((t=e.stats)!=null&&t.damage&&e.stats.damage.gt(0))}},{id:"health",label:"Health",filterFn:e=>{var t;return!!((t=e.stats)!=null&&t.health&&e.stats.health.gt(0))}},{id:"defense",label:"Defense",filterFn:e=>{var t;return!!((t=e.stats)!=null&&t.defense&&e.stats.defense.gt(0))}},{id:"regen",label:"Regeneration",filterFn:e=>{var t;return!!((t=e.stats)!=null&&t.regen&&e.stats.regen.gt(0))}},{id:"epBoost",label:"EP Boost",filterFn:e=>{var t;return!!((t=e.specialModifiers)!=null&&t.epBoost&&e.specialModifiers.epBoost.gt(1))}},{id:"global",label:"Global Multiplier",filterFn:e=>{var t;return!!((t=e.specialModifiers)!=null&&t.global&&e.specialModifiers.global.gt(1))}},{id:"worker",label:"Worker Production",filterFn:e=>{var t;return!!((t=e.productionModifiers)!=null&&t.worker&&e.productionModifiers.worker.gt(1))}},{id:"queen",label:"Queen Production",filterFn:e=>{var t;return!!((t=e.productionModifiers)!=null&&t.queen&&e.productionModifiers.queen.gt(1))}},{id:"nursery",label:"Nursery Production",filterFn:e=>{var t;return!!((t=e.productionModifiers)!=null&&t.nursery&&e.productionModifiers.nursery.gt(1))}},{id:"farm",label:"Farm Production",filterFn:e=>{var t;return!!((t=e.productionModifiers)!=null&&t.farm&&e.productionModifiers.farm.gt(1))}},{id:"mergeLevel",label:"Merged Items",filterFn:e=>!!(e.mergeLevel&&e.mergeLevel>0)}],J2=()=>{bt();const e=z2,t=N(e[0].id),r=Y2,s=N(r[0].id),a=F(()=>{const d=e.find(m=>m.id===t.value);return d?d.compareFn:(console.warn(`Sort option "${t.value}" not found, using default.`),e[0].compareFn)}),i=F(()=>{const d=r.find(m=>m.id===s.value);return d?d.filterFn:(console.warn(`Filter option "${s.value}" not found, using default.`),r[0].filterFn)});return{sortOptions:e,selectedSort:t,filterOptions:r,selectedFilter:s,getCurrentSortFunction:a,getCurrentFilterFunction:i,filterAndSortItems:d=>{const m=i.value,g=d.filter(m),f=a.value;return[...g].sort(f)},hiddenItemsCount:d=>{if(s.value==="none")return 0;const m=i.value;return d.length-d.filter(m).length},resetSortAndFilter:()=>{t.value=e[0].id,s.value=r[0].id}}},X2={class:"relative w-full"},Z2=["value"],e5=["value"],Pi=_e({__name:"InventorySortDropdown",props:{selectedSort:{},sortOptions:{}},emits:["update:selectedSort"],setup(e,{emit:t}){const r=t,s=a=>{const i=a.target;r("update:selectedSort",i.value)};return(a,i)=>(b(),y("div",X2,[o("select",{class:"w-full bg-amber-50 dark:bg-amber-800 text-amber-900 dark:text-amber-100 rounded-lg px-3 py-1.5 text-sm appearance-none pr-8 border border-amber-300 dark:border-amber-700",value:a.selectedSort,onChange:s},[(b(!0),y(he,null,ke(a.sortOptions,l=>(b(),y("option",{key:l.id,value:l.id},_(l.label),9,e5))),128))],40,Z2),i[0]||(i[0]=o("div",{class:"absolute right-2 top-1/2 transform -translate-y-1/2 pointer-events-none"},[o("span",{class:"i-heroicons-chevron-down text-amber-700 dark:text-amber-300"})],-1))]))}}),t5={class:"relative w-full"},r5=["value"],o5=["value"],Ii=_e({__name:"InventoryFilterDropdown",props:{selectedFilter:{},filterOptions:{}},emits:["update:selectedFilter"],setup(e,{emit:t}){const r=t,s=a=>{const i=a.target;r("update:selectedFilter",i.value)};return(a,i)=>(b(),y("div",t5,[o("select",{class:"w-full bg-amber-50 dark:bg-amber-800 text-amber-900 dark:text-amber-100 rounded-lg px-3 py-1.5 text-sm appearance-none pr-8 border border-amber-300 dark:border-amber-700",value:a.selectedFilter,onChange:s},[(b(!0),y(he,null,ke(a.filterOptions,l=>(b(),y("option",{key:l.id,value:l.id},_(l.label),9,o5))),128))],40,r5),i[0]||(i[0]=o("div",{class:"absolute right-2 top-1/2 transform -translate-y-1/2 pointer-events-none"},[o("span",{class:"i-heroicons-funnel text-amber-700 dark:text-amber-300"})],-1))]))}}),s5={class:"bg-gradient-to-br from-amber-100 to-amber-50 dark:from-amber-900/40 dark:to-amber-800/30 rounded-xl p-3 shadow-md"},n5={class:"sm:hidden"},a5={class:"flex justify-between items-center mb-3"},i5={class:"flex items-center"},l5={class:"flex items-center bg-amber-100 dark:bg-amber-900/30 px-3 py-1 rounded-lg relative group mr-2"},u5={class:"text-sm font-medium text-amber-800 dark:text-amber-300"},c5={class:"text-xs text-amber-700 dark:text-amber-400"},d5={class:"font-medium"},m5={key:0,class:"bg-amber-50 dark:bg-amber-800/50 rounded-lg p-3 mb-3 animate-fadeIn"},p5={class:"flex flex-col space-y-2"},f5={key:0,class:"ml-1 w-2 h-2 bg-yellow-400 rounded-full"},g5={key:0,class:"ml-1 w-2 h-2 bg-green-400 rounded-full"},v5={key:0,class:"ml-1 w-2 h-2 bg-green-400 rounded-full"},h5={class:"w-full"},b5={class:"w-full"},y5={class:"hidden sm:block"},x5={class:"flex justify-between items-center mb-3"},k5={class:"flex items-center justify-between flex-1"},_5={class:"flex items-center bg-amber-100 dark:bg-amber-900/30 px-3 py-1 rounded-lg relative group mr-4"},w5={class:"text-sm font-medium text-amber-800 dark:text-amber-300"},S5={class:"text-sm text-amber-700 dark:text-amber-400 mr-4"},$5={class:"font-medium"},C5={class:"flex flex-end items-center gap-1"},E5={class:"relative"},M5={key:0,class:"ml-1 w-2 h-2 bg-yellow-400 rounded-full"},A5={key:0,class:"absolute top-full left-0 mt-1 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-amber-200 dark:border-amber-800 animate-fadeIn z-10"},P5={class:"p-2"},I5={key:0,class:"w-2 h-2 bg-yellow-400 rounded-full"},L5={key:0,class:"w-2 h-2 bg-green-400 rounded-full"},T5={key:0,class:"w-2 h-2 bg-green-400 rounded-full"},q5={class:"flex space-x-1"},R5={key:0,class:"mb-2 text-xs text-amber-700 dark:text-amber-400 text-center bg-amber-100 dark:bg-amber-900/30 py-1 px-2 rounded flex items-center justify-center gap-2"},F5={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-2"},U5=["onClick"],N5={class:"flex-1 flex flex-col items-center justify-center p-2 text-center"},B5={class:"absolute top-0 left-0 right-0 flex justify-between p-1"},O5={key:0,class:"bg-amber-200/90 dark:bg-amber-900/90 text-amber-900 dark:text-amber-200 rounded-md px-1.5 py-0.5 text-xs font-medium"},D5={key:1,class:"bg-blue-200/90 dark:bg-blue-900/90 text-blue-900 dark:text-blue-200 rounded-md px-1.5 py-0.5 text-xs font-medium"},Q5={key:0,class:"absolute bottom-0 left-0 right-0 bg-green-600/90 dark:bg-green-500/90 py-0.5 text-xs text-white text-center"},Li=_e({__name:"InventorySection",props:{onItemClick:Function,isItemEquipped:Function},setup(e){const t=e,r=pt(),s=bt(),a=Mt(),i=N(!1),l=N(!1),u=N(!1),c=N(!1),{sortOptions:d,selectedSort:m,filterOptions:g,selectedFilter:f,filterAndSortItems:p,hiddenItemsCount:h}=J2();m.value=r.selectedInventorySort,f.value=r.selectedInventoryFilter||"none",Se(m,S=>{r.selectedInventorySort=S}),Se(f,S=>{r.selectedInventoryFilter=S});const x=F(()=>p(r.inventory)),k=F(()=>h(r.inventory)),v=F(()=>{var S;return((S=r.findMergeableItems())==null?void 0:S.length)>0}),w=S=>s.getFormattedItemName(S);return(S,M)=>(b(),y("section",s5,[o("div",n5,[o("div",a5,[o("div",i5,[o("div",l5,[M[16]||(M[16]=o("span",{class:"i-heroicons-beaker text-amber-600 dark:text-amber-400 mr-1"},null,-1)),o("span",u5,_(E(a).formattedPheromoneEssence),1)]),o("div",c5,[o("span",d5,_(E(r).inventory.length)+"/"+_(E(r).maxInventorySlots.toNumber()),1)])]),o("button",{onClick:M[0]||(M[0]=L=>u.value=!u.value),class:"px-3 py-1 bg-amber-600 hover:bg-amber-700 rounded-lg text-sm text-white flex items-center"},M[17]||(M[17]=[o("span",{class:"i-heroicons-ellipsis-horizontal text-white mr-1"},null,-1),X(" Actions ")]))]),u.value?(b(),y("div",m5,[o("div",p5,[o("button",{onClick:M[1]||(M[1]=L=>{l.value=!0,u.value=!1}),class:"px-3 py-2 bg-amber-600 hover:bg-amber-700 rounded-lg text-sm text-white flex items-center justify-between"},[M[18]||(M[18]=o("div",{class:"flex items-center"},[o("span",{class:"i-heroicons-arrow-path text-white mr-1"}),X(" Merge Items ")],-1)),v.value?(b(),y("span",f5)):K("",!0)]),E(r).isAutoMergeUnlocked?(b(),y("button",{key:0,onClick:M[2]||(M[2]=L=>E(r).toggleAutoMerge()),class:ne(["px-3 py-2 rounded-lg text-sm flex items-center justify-between",E(r).isAutoMergeEnabled?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"])},[M[19]||(M[19]=o("div",{class:"flex items-center"},[o("span",{class:"i-heroicons-arrow-path text-white mr-1"}),X(" Auto Merge ")],-1)),E(r).isAutoMergeEnabled?(b(),y("span",g5)):K("",!0)],2)):K("",!0),E(r).isAutoSalvageUnlocked?(b(),y("button",{key:1,onClick:M[3]||(M[3]=L=>E(r).toggleAutoSalvage()),class:ne(["px-3 py-2 rounded-lg text-sm flex items-center justify-between",E(r).isAutoSalvageEnabled?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"])},[M[20]||(M[20]=o("div",{class:"flex items-center"},[o("span",{class:"i-heroicons-beaker text-white mr-1"}),X(" Auto Salvage ")],-1)),E(r).isAutoSalvageEnabled?(b(),y("span",v5)):K("",!0)],2)):K("",!0),o("div",h5,[ye(Pi,{selectedSort:E(m),sortOptions:E(d),"onUpdate:selectedSort":M[4]||(M[4]=L=>m.value=L)},null,8,["selectedSort","sortOptions"])]),o("div",b5,[ye(Ii,{selectedFilter:E(f),filterOptions:E(g),"onUpdate:selectedFilter":M[5]||(M[5]=L=>f.value=L)},null,8,["selectedFilter","filterOptions"])]),o("button",{onClick:M[6]||(M[6]=L=>{i.value=!0,u.value=!1}),class:"px-3 py-2 bg-amber-600 hover:bg-amber-700 rounded-lg text-sm text-white flex items-center justify-between"},M[21]||(M[21]=[o("div",{class:"flex items-center"},[o("span",{class:"i-heroicons-funnel text-white mr-1"}),X(" Filter Items ")],-1)]))])])):K("",!0)]),o("div",y5,[o("div",x5,[o("div",k5,[o("div",_5,[M[22]||(M[22]=o("span",{class:"i-heroicons-beaker text-amber-600 dark:text-amber-400 mr-1"},null,-1)),o("span",w5,_(E(a).formattedPheromoneEssence)+" Essence ",1)]),o("div",S5,[o("span",$5,_(E(r).inventory.length)+"/"+_(E(r).maxInventorySlots.toNumber()),1),M[23]||(M[23]=X(" slots used "))]),o("div",C5,[o("div",E5,[o("button",{onClick:M[7]||(M[7]=L=>c.value=!c.value),class:"px-3 py-1 bg-amber-600 hover:bg-amber-700 rounded-lg text-sm text-white flex items-center"},[M[24]||(M[24]=o("span",{class:"i-heroicons-bars-3 text-white mr-1"},null,-1)),M[25]||(M[25]=X(" Actions ")),v.value?(b(),y("span",M5)):K("",!0),M[26]||(M[26]=o("span",{class:"i-heroicons-chevron-down text-white ml-1"},null,-1))]),c.value?(b(),y("div",A5,[o("div",P5,[o("button",{onClick:M[8]||(M[8]=L=>{l.value=!0,c.value=!1}),class:"w-full px-3 py-2 hover:bg-amber-100 dark:hover:bg-amber-900/30 rounded-lg text-left text-sm text-amber-800 dark:text-amber-300 flex items-center justify-between"},[M[27]||(M[27]=o("div",{class:"flex items-center"},[o("span",{class:"i-heroicons-arrow-path text-amber-600 dark:text-amber-400 mr-2"}),X(" Merge Items ")],-1)),v.value?(b(),y("span",I5)):K("",!0)]),E(r).isAutoMergeUnlocked?(b(),y("button",{key:0,onClick:M[9]||(M[9]=L=>{E(r).toggleAutoMerge(),c.value=!1}),class:"w-full px-3 py-2 hover:bg-amber-100 dark:hover:bg-amber-900/30 rounded-lg text-left text-sm text-amber-800 dark:text-amber-300 flex items-center justify-between"},[M[28]||(M[28]=o("div",{class:"flex items-center"},[o("span",{class:"i-heroicons-arrow-path text-amber-600 dark:text-amber-400 mr-2"}),X(" Auto Merge ")],-1)),E(r).isAutoMergeEnabled?(b(),y("span",L5)):K("",!0)])):K("",!0),E(r).isAutoSalvageUnlocked?(b(),y("button",{key:1,onClick:M[10]||(M[10]=L=>{E(r).toggleAutoSalvage(),c.value=!1}),class:"w-full px-3 py-2 hover:bg-amber-100 dark:hover:bg-amber-900/30 rounded-lg text-left text-sm text-amber-800 dark:text-amber-300 flex items-center justify-between"},[M[29]||(M[29]=o("div",{class:"flex items-center"},[o("span",{class:"i-heroicons-beaker text-amber-600 dark:text-amber-400 mr-2"}),X(" Auto Salvage ")],-1)),E(r).isAutoSalvageEnabled?(b(),y("span",T5)):K("",!0)])):K("",!0),o("button",{onClick:M[11]||(M[11]=L=>{i.value=!0,c.value=!1}),class:"w-full px-3 py-2 hover:bg-amber-100 dark:hover:bg-amber-900/30 rounded-lg text-left text-sm text-amber-800 dark:text-amber-300 flex items-center"},M[30]||(M[30]=[o("span",{class:"i-heroicons-funnel text-amber-600 dark:text-amber-400 mr-2"},null,-1),X(" Filter Items ")]))])])):K("",!0)]),o("div",q5,[ye(Pi,{selectedSort:E(m),sortOptions:E(d),"onUpdate:selectedSort":M[12]||(M[12]=L=>m.value=L)},null,8,["selectedSort","sortOptions"]),ye(Ii,{selectedFilter:E(f),filterOptions:E(g),"onUpdate:selectedFilter":M[13]||(M[13]=L=>f.value=L)},null,8,["selectedFilter","filterOptions"])])])])])]),k.value>0?(b(),y("div",R5,[o("span",null,_(k.value)+" item"+_(k.value>1?"s":"")+" hidden by filter",1),o("button",{onClick:M[14]||(M[14]=L=>f.value="none"),class:"text-xs bg-amber-600 hover:bg-amber-700 text-white px-2 py-0.5 rounded-md flex items-center"},M[31]||(M[31]=[o("span",{class:"i-heroicons-x-mark text-white mr-1 text-xs"},null,-1),X(" Clear Filter ")]))])):K("",!0),o("div",F5,[(b(!0),y(he,null,ke(x.value,(L,A)=>(b(),y("div",{key:A,class:ne(["relative aspect-square rounded-lg border-2 border-amber-700 overflow-hidden cursor-pointer hover:border-amber-500 flex flex-col",E(s).getRarityBackground(L.rarity)]),onClick:Y=>t.onItemClick&&t.onItemClick(L)},[o("div",N5,[o("div",{class:ne(["text-base font-bold line-clamp-2 mt-4",E(s).getRarityColor(L.rarity)])},_(w(L)),3)]),o("div",B5,[L.quantity?(b(),y("div",O5," x"+_(L.quantity),1)):K("",!0),L.mergeLevel&&L.mergeLevel>0?(b(),y("div",D5," +"+_(L.mergeLevel),1)):K("",!0)]),t.isItemEquipped&&t.isItemEquipped(L.id,L.mergeLevel)?(b(),y("div",Q5," Equipped ")):K("",!0)],10,U5))),128)),(b(!0),y(he,null,ke(E(r).maxInventorySlots.toNumber()-E(r).inventory.length,L=>(b(),y("div",{key:`empty-${L}`,class:"relative aspect-square rounded-lg border-2 border-amber-700 overflow-hidden"},M[32]||(M[32]=[o("div",{class:"absolute inset-0 flex items-center justify-center text-amber-600"},[o("div",{class:"i-heroicons-plus text-2xl"})],-1)])))),128))]),ye(M2,{"is-open":i.value,onClose:M[15]||(M[15]=L=>i.value=!1)},null,8,["is-open"]),ye(K2,{"is-open":l.value,"on-close":()=>l.value=!1},null,8,["is-open","on-close"])]))}}),j5={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full mx-auto border border-purple-200 dark:border-purple-700 flex flex-col max-h-[90vh]"},H5={class:"p-5 border-b border-gray-200 dark:border-gray-700 sticky top-0 bg-white dark:bg-gray-800 z-10 rounded-t-xl"},G5={class:"flex justify-between items-start"},V5={key:0,class:"mt-1"},W5={class:"p-5 overflow-y-auto flex-grow"},K5={key:2,class:"p-3 mb-4 rounded-lg bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"},z5={class:"space-y-4"},Y5={class:"text-sm text-gray-600 dark:text-gray-400"},J5={key:0,class:"space-y-2"},X5={class:"grid grid-cols-2 gap-2"},Z5={key:0,class:"text-sm text-red-600 dark:text-red-400"},eS={key:1,class:"text-sm text-green-600 dark:text-green-400"},tS={key:2,class:"text-sm text-blue-600 dark:text-blue-400"},rS={key:3,class:"text-sm text-purple-600 dark:text-purple-400"},oS={key:1,class:"space-y-2"},sS={class:"grid grid-cols-1 gap-1"},nS={key:2,class:"space-y-2"},aS={class:"grid grid-cols-1 gap-1"},iS={key:3,class:"space-y-2"},lS={class:"text-sm text-gray-600 dark:text-gray-400"},uS={key:0,class:"mt-2 p-2 rounded-lg bg-blue-50 dark:bg-blue-900/20"},cS={key:0,class:"text-blue-700 dark:text-blue-400"},dS={key:1,class:"text-amber-700 dark:text-amber-400"},mS={key:1,class:"mt-2 p-2 rounded-lg bg-yellow-50 dark:bg-yellow-900/20"},pS={class:"space-y-2"},fS={class:"text-sm text-gray-600 dark:text-gray-400"},gS={class:"mt-2 p-2 rounded-lg bg-amber-50 dark:bg-amber-900/20"},vS={class:"text-amber-700 dark:text-amber-400 flex items-center"},hS={class:"font-semibold"},bS={class:"p-5 border-t border-gray-200 dark:border-gray-700 sticky bottom-0 bg-white dark:bg-gray-800 z-10 rounded-b-xl"},yS={key:0,class:"flex flex-col gap-3"},xS={class:"flex gap-3"},kS=["disabled"],_S={key:0,class:"flex flex-col gap-3"},wS={class:"flex items-center mb-1"},SS={class:"flex gap-3"},$S=["disabled"],CS={key:0,class:"i-heroicons-arrow-path animate-spin mr-2"},ES={key:1,class:"i-heroicons-arrow-path mr-2"},MS=["disabled"],AS={key:0,class:"i-heroicons-arrow-path animate-spin mr-2"},PS={key:1,class:"i-heroicons-sparkles mr-2"},IS={key:1,class:"flex flex-col gap-3"},LS={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},TS={key:0,class:"block mt-1 text-amber-600 dark:text-amber-400"},qS={class:"flex gap-3"},RS=["disabled"],FS={key:0,class:"i-heroicons-arrow-path animate-spin mr-2"},US={key:2,class:"flex flex-col gap-3"},NS={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},BS={class:"flex gap-3"},OS=["disabled"],DS={key:0,class:"i-heroicons-arrow-path animate-spin mr-2"},QS=_e({__name:"ItemModal",props:{item:{},isItemEquipped:{type:Function},onEquipAction:{type:Function},onClose:{type:Function}},setup(e){const t=e,r=bt(),s=pt(),a=N(!1),i=N(!1),l=N(null),u=N(null),c=N(!1),d=N(!1),m=N(!0),{handleClose:g,preventBackgroundTouchMove:f}=yr(),p=z=>{z.key==="Escape"&&g(t.onClose,0)};qe(()=>{window.addEventListener("keydown",p)}),At(()=>{window.removeEventListener("keydown",p)});const h=()=>{t.onEquipAction(t.item)},x=()=>{a.value=!0},k=async()=>{d.value=!0,u.value=null;const z=s.inventory.findIndex(R=>R.id===t.item.id&&(R.mergeLevel||0)===(t.item.mergeLevel||0));if(z!==-1){const R=s.salvageItem(z);u.value=R,R.success&&(await new Promise(ie=>setTimeout(ie,1500)),t.onClose())}else u.value={success:!1,message:"Item not found in inventory"};a.value=!1,d.value=!1},v=()=>{a.value=!1},w=F(()=>r.getFormattedItemName(t.item)),S=F(()=>(t.item.mergeLevel||0)>=s.MAX_MERGE_LEVEL),M=F(()=>{const z=t.item.mergeLevel||0;return z===0?"":z>=s.MAX_MERGE_LEVEL?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":z>=3?"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400"}),L=F(()=>{var O;if(S.value)return!1;const z=((O=t.item.quantity)==null?void 0:O.toNumber())||1,R=t.item.mergeLevel||0,ie=s.getItemsRequiredForMerge(R);return z>=ie}),A=F(()=>{const z=t.item.mergeLevel||0;return s.getItemsRequiredForMerge(z)}),Y=F(()=>s.calculateSalvageValue(t.item)),U=()=>{i.value=!0},T=async()=>{c.value=!0,l.value=null;const z=s.inventory.findIndex(R=>R.id===t.item.id&&(R.mergeLevel||0)===(t.item.mergeLevel||0));if(z!==-1){const R=s.mergeItems([z]);l.value=R,R.success&&R.item&&(await new Promise(ie=>setTimeout(ie,1e3)),t.onClose())}else l.value={success:!1,message:"Item not found in inventory"};i.value=!1,c.value=!1},G=()=>{i.value=!1},D=async()=>{c.value=!0,l.value=null;try{const z={initialLevel:t.item.mergeLevel||0,mergesByLevel:new Map,totalMerges:0,highestLevel:t.item.mergeLevel||0},R=(O,H)=>{var de;let re=0;for(;;){const Ae=s.inventory.findIndex(J=>J.id===O&&(J.mergeLevel||0)===H);if(Ae===-1)break;const V=((de=s.inventory[Ae].quantity)==null?void 0:de.toNumber())||1,q=s.getItemsRequiredForMerge(H);if(V<q||H>=s.MAX_MERGE_LEVEL)break;const Q=s.mergeItems([Ae]);if(!Q.success||!Q.item)break;re++,z.totalMerges++;const j=Q.item.mergeLevel||0;j>z.highestLevel&&(z.highestLevel=j)}return re},ie=R(t.item.id,t.item.mergeLevel||0);if(ie>0&&z.mergesByLevel.set(t.item.mergeLevel||0,ie),m.value&&ie>0)for(let O=(t.item.mergeLevel||0)+1;O<s.MAX_MERGE_LEVEL;O++){const H=R(t.item.id,O);if(H>0&&z.mergesByLevel.set(O,H),H===0)break}if(z.totalMerges>0){let O=`Successfully performed ${z.totalMerges} merge operations!`;if(z.mergesByLevel.size>1){O+=" (";const H=[];z.mergesByLevel.forEach((re,de)=>{H.push(`${re}× at level ${de}`)}),O+=H.join(", "),O+=")"}if(z.highestLevel>z.initialLevel){const H=z.highestLevel-z.initialLevel;O+=` Gained ${H} merge level${H>1?"s":""}.`}l.value={success:!0,message:O},await new Promise(H=>setTimeout(H,1e3))}else l.value={success:!1,message:"No more items can be merged."}}catch(z){l.value={success:!1,message:`Error performing merge: ${z}`}}finally{c.value=!1}},P=F(()=>se.fromNumber(s.inventory.length).gte(s.maxInventorySlots)),$=F(()=>t.isItemEquipped(t.item.id,t.item.mergeLevel)&&P.value),ee=F(()=>r.getCalculatedStats(t.item)||t.item.stats),W=F(()=>r.getCalculatedProductionModifiers(t.item)||t.item.productionModifiers),ae=F(()=>r.getCalculatedSpecialModifiers(t.item)||t.item.specialModifiers);return(z,R)=>(b(),y("div",{class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm overflow-hidden modal-backdrop","data-modal-backdrop":"true",onClick:R[2]||(R[2]=ot(ie=>E(g)(z.onClose,0),["self"])),onTouchmove:R[3]||(R[3]=ot((...ie)=>E(f)&&E(f)(...ie),["self"]))},[o("div",j5,[o("div",H5,[o("div",G5,[o("div",null,[o("h3",{class:ne(["text-lg font-bold",E(r).getRarityColor(z.item.rarity)])},_(w.value),3),z.item.mergeLevel?(b(),y("div",V5,[o("span",{class:ne(["text-xs px-2 py-1 rounded-full",M.value])},_(S.value?"MAX LEVEL":`Merge Level ${z.item.mergeLevel}/${E(s).MAX_MERGE_LEVEL}`),3)])):K("",!0)]),o("button",{onClick:R[0]||(R[0]=ie=>E(g)(z.onClose,0)),class:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors"},R[4]||(R[4]=[o("span",{class:"i-heroicons-x-mark text-xl"},null,-1)]))])]),o("div",W5,[l.value?(b(),y("div",{key:0,class:ne(["p-3 mb-4 rounded-lg text-sm",l.value.success?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"])},_(l.value.message),3)):K("",!0),u.value?(b(),y("div",{key:1,class:ne(["p-3 mb-4 rounded-lg text-sm",u.value.success?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"])},_(u.value.message),3)):K("",!0),$.value?(b(),y("div",K5,R[5]||(R[5]=[o("div",{class:"flex items-start"},[o("span",{class:"i-heroicons-exclamation-triangle mr-2 mt-0.5"}),o("div",null,[o("p",{class:"font-medium"},"Warning: Inventory Full"),o("p",{class:"text-xs mt-1"},"You cannot unequip this item because your inventory is full. Free up space first. ")])],-1)]))):K("",!0),o("div",z5,[o("p",Y5,_(z.item.description),1),ee.value?(b(),y("div",J5,[R[6]||(R[6]=o("h4",{class:"font-semibold text-sm text-gray-700 dark:text-gray-300"},"Stats:",-1)),o("div",X5,[ee.value.damage?(b(),y("div",Z5," Damage: +"+_(ee.value.damage.toFixed(1)),1)):K("",!0),ee.value.health?(b(),y("div",eS," Health: +"+_(ee.value.health.toFixed(1)),1)):K("",!0),ee.value.defense?(b(),y("div",tS," Defense: +"+_(ee.value.defense.toFixed(1)),1)):K("",!0),ee.value.regen?(b(),y("div",rS," Regen: +"+_(ee.value.regen.toFixed(1)),1)):K("",!0)])])):K("",!0),W.value?(b(),y("div",oS,[R[7]||(R[7]=o("h4",{class:"font-semibold text-sm text-gray-700 dark:text-gray-300"},"Production Modifiers:",-1)),o("div",sS,[(b(!0),y(he,null,ke(Object.entries(W.value),([ie,O])=>(b(),y("div",{key:ie,class:"text-sm text-amber-600 dark:text-amber-400"},_(ie.charAt(0).toUpperCase()+ie.slice(1))+": "+_(O.minus(1).mul(100).toFixed(1))+"% increase ",1))),128))])])):K("",!0),ae.value?(b(),y("div",nS,[R[8]||(R[8]=o("h4",{class:"font-semibold text-sm text-gray-700 dark:text-gray-300"},"Special Modifiers:",-1)),o("div",aS,[(b(!0),y(he,null,ke(Object.entries(ae.value),([ie,O])=>(b(),y("div",{key:ie,class:"text-sm text-indigo-600 dark:text-indigo-400"},_(ie==="epBoost"?"EP Gain":ie)+": "+_(O.minus(1).mul(100).toFixed(1))+"% increase ",1))),128))])])):K("",!0),z.item.mergeLevel!==void 0?(b(),y("div",iS,[R[14]||(R[14]=o("h4",{class:"font-semibold text-sm text-gray-700 dark:text-gray-300"},"Merge Information:",-1)),o("div",lS,[R[12]||(R[12]=o("p",null,"Each merge level provides:",-1)),R[13]||(R[13]=o("ul",{class:"list-disc pl-5 mt-1"},[o("li",null,"+20% to all stats"),o("li",null,"+15% to all production and special modifiers")],-1)),S.value?(b(),y("div",mS,R[11]||(R[11]=[o("p",{class:"text-yellow-700 dark:text-yellow-400"},[o("span",{class:"i-heroicons-trophy mr-1"}),X(" This item is at maximum merge level ")],-1)]))):(b(),y("div",uS,[L.value?(b(),y("p",cS,[R[9]||(R[9]=o("span",{class:"i-heroicons-check-circle mr-1"},null,-1)),X(" You have enough items to merge ("+_(z.item.quantity)+" / "+_(A.value)+" needed) ",1)])):(b(),y("p",dS,[R[10]||(R[10]=o("span",{class:"i-heroicons-exclamation-triangle mr-1"},null,-1)),X(" Need "+_(A.value)+" items to merge (have "+_(z.item.quantity||1)+") ",1)]))]))])])):K("",!0),o("div",pS,[R[19]||(R[19]=o("h4",{class:"font-semibold text-sm text-gray-700 dark:text-gray-300"},"Salvage Information:",-1)),o("div",fS,[R[18]||(R[18]=o("p",null,"Salvaging this item will yield:",-1)),o("div",gS,[o("p",vS,[R[15]||(R[15]=o("span",{class:"i-heroicons-beaker mr-1"},null,-1)),o("span",hS,_(Y.value),1),R[16]||(R[16]=o("span",{class:"ml-1"},"Pheromone Essence",-1))]),R[17]||(R[17]=o("p",{class:"text-xs mt-1 text-gray-500 dark:text-gray-400"}," Higher rarity and merge level items yield more essence ",-1))])])])])]),o("div",bS,[!a.value&&!i.value?(b(),y("div",yS,[o("div",xS,[o("button",{onClick:h,class:ne(["flex-1 px-4 py-2 text-white rounded-lg text-sm font-medium transition-colors",[z.isItemEquipped(z.item.id,z.item.mergeLevel)&&!$.value?"bg-purple-600 hover:bg-purple-700":z.isItemEquipped(z.item.id,z.item.mergeLevel)&&$.value?"bg-gray-400 cursor-not-allowed":"bg-purple-600 hover:bg-purple-700"]]),disabled:$.value},_(z.isItemEquipped(z.item.id,z.item.mergeLevel)?"Unequip":"Equip"),11,kS),o("button",{onClick:x,class:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-lg text-sm font-medium transition-colors flex items-center"},R[20]||(R[20]=[o("span",{class:"i-heroicons-beaker mr-1"},null,-1),X(" Salvage ")]))]),S.value?K("",!0):(b(),y("div",_S,[o("div",wS,[He(o("input",{type:"checkbox",id:"continue-merging","onUpdate:modelValue":R[1]||(R[1]=ie=>m.value=ie),class:"w-4 h-4 text-indigo-600 rounded border-gray-300 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600"},null,512),[[mt,m.value]]),R[21]||(R[21]=o("label",{for:"continue-merging",class:"ml-2 text-xs text-gray-700 dark:text-gray-300"},"Continue merging to higher levels when possible",-1))]),o("div",SS,[o("button",{onClick:U,disabled:!L.value||c.value,class:ne(["flex-1 px-4 py-2 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center",L.value&&!c.value?"bg-indigo-600 hover:bg-indigo-700":"bg-gray-400 cursor-not-allowed"])},[c.value?(b(),y("span",CS)):(b(),y("span",ES)),R[22]||(R[22]=X(" Merge Item "))],10,$S),o("button",{onClick:D,disabled:!L.value||c.value,class:ne(["flex-1 px-4 py-2 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center",L.value&&!c.value?"bg-green-600 hover:bg-green-700":"bg-gray-400 cursor-not-allowed"])},[c.value?(b(),y("span",AS)):(b(),y("span",PS)),R[23]||(R[23]=X(" Merge All "))],10,MS)])]))])):K("",!0),a.value?(b(),y("div",IS,[o("p",LS,[X(" Salvage "+_(z.item.name)+" for "+_(Y.value)+" Pheromone Essence? ",1),z.item.quantity&&z.item.quantity.gt(1)?(b(),y("span",TS," This will salvage all "+_(z.item.quantity)+" items. ",1)):K("",!0)]),o("div",qS,[o("button",{onClick:v,class:"flex-1 px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors"}," Cancel "),o("button",{onClick:k,disabled:d.value,class:ne(["flex-1 px-4 py-2 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center",d.value?"bg-amber-400":"bg-amber-600 hover:bg-amber-700"])},[d.value?(b(),y("span",FS)):K("",!0),R[24]||(R[24]=X(" Confirm Salvage "))],10,RS)])])):K("",!0),i.value?(b(),y("div",US,[o("p",NS," Merge "+_(A.value)+"x "+_(z.item.name)+" to create a +"+_((z.item.mergeLevel||0)+1)+" version? ",1),o("div",BS,[o("button",{onClick:G,class:"flex-1 px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors"}," Cancel "),o("button",{onClick:T,disabled:c.value,class:ne(["flex-1 px-4 py-2 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center",c.value?"bg-indigo-400":"bg-indigo-600 hover:bg-indigo-700"])},[c.value?(b(),y("span",DS)):K("",!0),R[25]||(R[25]=X(" Confirm Merge "))],10,OS)])])):K("",!0)])])],32))}}),jS={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-5 mx-auto border border-purple-200 dark:border-purple-700"},HS={class:"space-y-3"},GS={class:"bg-purple-50 dark:bg-purple-900/30 p-3 rounded-lg border border-purple-200 dark:border-purple-700"},VS={class:"text-sm font-bold text-purple-600 dark:text-purple-500"},WS={class:"flex justify-end mt-4"},KS=_e({__name:"LockedSlotModal",props:{onClose:{type:Function}},setup(e){const t=pt();return(r,s)=>(b(),y("div",{class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",onKeydown:s[1]||(s[1]=oa((...a)=>r.onClose&&r.onClose(...a),["esc"])),onClick:s[2]||(s[2]=(...a)=>r.onClose&&r.onClose(...a))},[o("div",jS,[s[6]||(s[6]=o("h3",{class:"text-base font-bold mb-3 flex items-center text-purple-800 dark:text-purple-300 pb-2 border-b border-purple-200 dark:border-purple-700"},[o("span",{class:"i-heroicons-lock-closed text-purple-600 dark:text-purple-400 mr-2"}),X(" Locked Equipment Slot ")],-1)),o("div",HS,[s[4]||(s[4]=o("div",{class:"text-sm text-gray-700 dark:text-gray-300"},' This equipment slot is currently locked. You can unlock additional equipment slots through the prestige upgrade "Equipment Mastery". ',-1)),o("div",GS,[s[3]||(s[3]=o("div",{class:"text-xs text-purple-700 dark:text-purple-400 font-medium mb-1"},"Current Progress",-1)),o("div",VS,_(E(t).unlockedEquipmentSlots)+"/"+_(E(t).maxEquipmentSlots)+" slots unlocked ",1)]),s[5]||(s[5]=o("div",{class:"text-xs text-gray-500 dark:text-gray-400"}," Tip: Each level of Equipment Mastery unlocks one additional slot, up to a maximum of 10 bonus slots. ",-1))]),o("div",WS,[o("button",{onClick:s[0]||(s[0]=(...a)=>r.onClose&&r.onClose(...a)),class:"py-2 px-4 bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-800 rounded-lg text-white text-sm font-medium transition-colors"}," Close ")])])],32))}}),zS={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-5 mx-auto border border-purple-200 dark:border-purple-700"},YS={class:"space-y-4"},JS={class:"text-sm text-gray-700 dark:text-gray-300"},XS={class:"font-medium text-purple-600 dark:text-purple-400"},ZS={key:0,class:"p-3 bg-red-100 dark:bg-red-900/30 rounded-lg border border-red-200 dark:border-red-800"},e$={class:"grid grid-cols-2 gap-2"},t$=["onClick"],r$={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},o$={class:"text-xs text-gray-500 dark:text-gray-400"},s$={key:0,class:"absolute top-1 right-1 bg-blue-200/90 dark:bg-blue-900/90 text-blue-900 dark:text-blue-200 rounded-md px-1.5 py-0.5 text-xs font-medium"},n$=_e({__name:"SlotSelectionModal",props:{item:{},onClose:{type:Function},onSlotSelect:{type:Function}},setup(e){const t=e,r=pt(),s=bt(),{handleClose:a,preventBackgroundTouchMove:i}=yr(),l=()=>{a(t.onClose,0)},u=f=>{f.key==="Escape"&&l()};qe(()=>{window.addEventListener("keydown",u)}),At(()=>{window.removeEventListener("keydown",u)});const c=F(()=>se.fromNumber(r.inventory.length).gte(r.maxInventorySlots)),d=f=>s.getItem(f),m=(f,p=0)=>{const h=d(f);return h?p>0?`${h.name} +${p}`:h.name:""},g=r.equipmentSlots.filter(f=>!f.locked);return(f,p)=>(b(),y("div",{class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm modal-backdrop","data-modal-backdrop":"true",onClick:ot(l,["self"]),onTouchmove:p[0]||(p[0]=ot((...h)=>E(i)&&E(i)(...h),["self"]))},[o("div",zS,[p[5]||(p[5]=o("h3",{class:"text-base font-bold mb-3 flex items-center text-purple-800 dark:text-purple-300 pb-2 border-b border-purple-200 dark:border-purple-700"},[o("span",{class:"i-heroicons-squares-2x2 text-purple-600 dark:text-purple-400 mr-2"}),X(" Select Slot to Replace ")],-1)),o("div",YS,[o("div",JS,[p[1]||(p[1]=X(" All equipment slots are occupied. Select which item you want to replace with ")),o("span",XS,_(t.item.name),1),p[2]||(p[2]=X(". "))]),c.value?(b(),y("div",ZS,p[3]||(p[3]=[to('<div class="flex items-start"><span class="i-heroicons-exclamation-triangle text-red-600 dark:text-red-400 mr-2 mt-0.5"></span><div class="flex-1"><p class="text-sm font-medium text-red-800 dark:text-red-400">Inventory Full Warning</p><p class="text-xs text-red-700 dark:text-red-300 mt-1"> Your inventory is full! If you replace an equipped item, it may be discarded as there&#39;s no space to store it. Consider freeing up space first. </p></div></div>',1)]))):K("",!0),o("div",e$,[(b(!0),y(he,null,ke(E(g),(h,x)=>{var k;return b(),y("button",{key:x,onClick:v=>f.onSlotSelect(E(r).equipmentSlots.indexOf(h)),class:ne(["relative p-3 rounded-lg border-2 border-gray-200 dark:border-gray-700 hover:border-purple-500 dark:hover:border-purple-400 transition-colors text-left",{"border-red-300 dark:border-red-700":c.value}])},[o("div",r$,_(m(h.item,h.mergeLevel||0)),1),o("div",o$,_((k=d(h.item))==null?void 0:k.type),1),h.mergeLevel&&h.mergeLevel>0?(b(),y("div",s$," +"+_(h.mergeLevel),1)):K("",!0),p[4]||(p[4]=o("div",{class:"text-[10px] text-gray-400 dark:text-gray-500 mt-1"}," Click to replace ",-1))],10,t$)}),128))]),o("div",{class:"flex justify-end space-x-3 mt-4"},[o("button",{onClick:l,class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 text-sm font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"}," Cancel ")])])])],32))}}),a$={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-5 mx-auto border border-purple-200 dark:border-purple-700"},i$={class:"space-y-4"},l$={class:"grid grid-cols-2 gap-2 max-h-[60vh] overflow-y-auto p-1"},u$=["onClick"],c$={class:"text-xs text-gray-500 dark:text-gray-400"},d$={class:"absolute top-1 right-1 flex space-x-1"},m$={key:0,class:"bg-purple-200/90 dark:bg-purple-900/90 text-purple-900 dark:text-purple-200 rounded-md px-1.5 py-0.5 text-xs font-medium"},p$={key:1,class:"bg-blue-200/90 dark:bg-blue-900/90 text-blue-900 dark:text-blue-200 rounded-md px-1.5 py-0.5 text-xs font-medium"},f$={class:"flex justify-end space-x-3 mt-4"},g$=_e({__name:"ItemSelectionModal",props:{onClose:{type:Function},onItemSelect:{type:Function}},setup(e){const t=pt(),r=bt(),s=t.inventory.filter(i=>i.type==="equipment"),a=i=>r.getFormattedItemName(i);return(i,l)=>(b(),y("div",{class:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",onKeydown:l[1]||(l[1]=oa((...u)=>i.onClose&&i.onClose(...u),["esc"])),onClick:l[2]||(l[2]=(...u)=>i.onClose&&i.onClose(...u))},[o("div",a$,[l[4]||(l[4]=o("h3",{class:"text-base font-bold mb-3 flex items-center text-purple-800 dark:text-purple-300 pb-2 border-b border-purple-200 dark:border-purple-700"},[o("span",{class:"i-heroicons-squares-2x2 text-purple-600 dark:text-purple-400 mr-2"}),X(" Select Item to Equip ")],-1)),o("div",i$,[l[3]||(l[3]=o("div",{class:"text-sm text-gray-700 dark:text-gray-300"}," Select an item from your inventory to equip in this slot. ",-1)),o("div",l$,[(b(!0),y(he,null,ke(E(s),u=>(b(),y("button",{key:u.id,onClick:c=>i.onItemSelect(u),class:ne(["relative p-3 rounded-lg border-2 border-gray-200 dark:border-gray-700 hover:border-purple-500 dark:hover:border-purple-400 transition-colors text-left",E(r).getRarityBackground(u.rarity)])},[o("div",{class:ne(["text-sm font-medium",E(r).getRarityColor(u.rarity)])},_(a(u)),3),o("div",c$,_(u.type),1),o("div",d$,[u.quantity&&u.quantity.gt(1)?(b(),y("div",m$," x"+_(u.quantity),1)):K("",!0),u.mergeLevel&&u.mergeLevel>0?(b(),y("div",p$," +"+_(u.mergeLevel),1)):K("",!0)])],10,u$))),128))]),o("div",f$,[o("button",{onClick:l[0]||(l[0]=(...u)=>i.onClose&&i.onClose(...u)),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 text-sm font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"}," Cancel ")])])])],32))}}),v$={class:"space-y-4"},h$={class:"md:hidden bg-white dark:bg-gray-800 rounded-xl shadow-md border border-amber-200 dark:border-amber-700"},b$={class:"sticky top-[-20px] z-20 bg-white dark:bg-gray-800"},y$={class:"p-4"},x$={class:"hidden md:grid md:grid-cols-2 md:gap-4"},k$={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md border border-amber-200 dark:border-amber-700"},_$={class:"p-4"},w$={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md border border-amber-200 dark:border-amber-700"},S$={class:"p-4"},$$=_e({__name:"InventoryPage",setup(e){const t=pt(),r=bt(),{showToast:s}=cr(),a=N(null),i=N(!1),l=N(!1),u=N(!1),c=N(null),d=N("equipment"),m=w=>{a.value=w},g=()=>{a.value=null},f=(w,S)=>{if(w.locked){i.value=!0;return}if(w.item){const M=r.getItem(w.item);if(M){const L={...M,mergeLevel:w.mergeLevel||0};m(L)}}else c.value=S,u.value=!0},p=w=>{m(w)},h=w=>{if(v(w.id,w.mergeLevel)){const S=t.equipmentSlots.findIndex(M=>M.item===w.id&&M.mergeLevel===(w.mergeLevel||0));if(S!==-1&&!t.unequipItem(S)){s("Inventory is full! Free up space to unequip items.","error",5e3);return}}else{const S=t.equipmentSlots.findIndex(M=>!M.locked&&!M.item);if(S!==-1){const M=t.inventory.findIndex(L=>L.id===w.id&&(L.mergeLevel||0)===(w.mergeLevel||0));if(M!==-1&&!t.equipItem(w.id,S,M)){s("Cannot equip item! Inventory is full and item in slot cannot be unequipped.","error",5e3);return}}else{l.value=!0;return}}g()},x=w=>{if(a.value){const S=t.inventory.findIndex(M=>M.id===a.value.id&&(M.mergeLevel||0)===(a.value.mergeLevel||0));if(S!==-1){if(!t.equipItem(a.value.id,w,S)){s("Cannot equip item! Inventory is full and item in slot cannot be unequipped.","error",5e3);return}l.value=!1,g()}}},k=w=>{if(c.value!==null){const S=t.inventory.findIndex(M=>M.id===w.id&&(M.mergeLevel||0)===(w.mergeLevel||0));if(S!==-1){if(!t.equipItem(w.id,c.value,S)){s("Cannot equip item! Inventory is full and item in slot cannot be unequipped.","error",5e3);return}u.value=!1,c.value=null}}},v=(w,S)=>t.equipmentSlots.some(M=>M.item===w&&(S===void 0||M.mergeLevel===S));return(w,S)=>(b(),y("div",v$,[S[3]||(S[3]=o("h1",{class:"text-xl font-bold mb-2 flex items-center"},[o("span",{class:"i-heroicons-squares-2x2 text-amber-700 dark:text-amber-500 mr-2"}),X(" Inventory ")],-1)),o("div",h$,[o("div",b$,[ye(mw,{activeTab:d.value,"onUpdate:activeTab":S[0]||(S[0]=M=>d.value=M)},null,8,["activeTab"])]),o("div",y$,[He(ye(Ai,{"on-slot-click":f},null,512),[[lr,d.value==="equipment"]]),He(ye(Li,{"on-item-click":p,"is-item-equipped":v},null,512),[[lr,d.value==="inventory"]])])]),o("div",x$,[o("div",k$,[o("div",_$,[S[1]||(S[1]=o("h2",{class:"text-lg font-semibold mb-4 flex items-center"},[o("span",{class:"i-heroicons-shield-check text-amber-700 dark:text-amber-500 mr-2"}),X(" Equipment ")],-1)),ye(Ai,{"on-slot-click":f})])]),o("div",w$,[o("div",S$,[S[2]||(S[2]=o("h2",{class:"text-lg font-semibold mb-4 flex items-center"},[o("span",{class:"i-heroicons-shopping-bag text-amber-700 dark:text-amber-500 mr-2"}),X(" Inventory ")],-1)),ye(Li,{"on-item-click":p,"is-item-equipped":v})])])]),i.value?(b(),Oe(KS,{key:0,"on-close":()=>i.value=!1},null,8,["on-close"])):K("",!0),a.value?(b(),Oe(QS,{key:1,item:a.value,"is-item-equipped":v,"on-equip-action":h,"on-close":g},null,8,["item"])):K("",!0),l.value&&a.value?(b(),Oe(n$,{key:2,item:a.value,"on-close":()=>l.value=!1,"on-slot-select":x},null,8,["item","on-close"])):K("",!0),u.value?(b(),Oe(g$,{key:3,"on-close":()=>{u.value=!1,c.value=null},"on-item-select":k},null,8,["on-close"])):K("",!0),ye(qr,{threshold:400})]))}}),C$={key:0,class:"bg-white dark:bg-gray-800 rounded-xl shadow-md border border-gray-200/50 dark:border-gray-700/50 p-4"},E$={class:"space-y-2"},M$={class:"text-sm text-amber-700 dark:text-amber-400"},A$={class:"text-sm font-medium text-green-600 dark:text-green-400"},P$=_e({__name:"AchievementModifiersPanel",setup(e){const{getTotalMultiplier:t}=In(),r=Ct(),s=F(()=>{const u=new Set;return r.achievementList.filter(d=>d.completed&&d.modifiers&&d.modifiers.length>0).forEach(d=>{d.modifiers&&d.modifiers.forEach(m=>{u.add(m.target)})}),Array.from(u).sort((d,m)=>d==="global"?-1:m==="global"||d==="ep"?1:m==="ep"?-1:d.localeCompare(m))}),a=F(()=>s.value.length>0),i=u=>({global:"All Generators",worker:"Workers",nursery:"Nurseries",queenChamber:"Queen Chambers",colony:"Colonies",megacolony:"Megacolonies",hivemind:"Hiveminds",antopolis:"Antopolis",ep:"Evolution Points"})[u]||u,l=u=>{const d=t(u).sub(1).mul(100);return`+${rt(d)}`};return(u,c)=>a.value?(b(),y("div",C$,[c[0]||(c[0]=o("div",{class:"flex items-center gap-2 mb-3"},[o("span",{class:"i-heroicons-trophy text-amber-500 text-lg"}),o("h3",{class:"text-amber-800 dark:text-amber-300 font-medium"},"Achievement Bonuses")],-1)),o("div",E$,[(b(!0),y(he,null,ke(s.value,d=>(b(),y("div",{key:d,class:"flex items-center justify-between"},[o("div",M$,_(i(d)),1),o("div",A$,_(l(d)),1)]))),128))]),c[1]||(c[1]=o("div",{class:"mt-3 text-xs text-amber-600 dark:text-amber-500 opacity-80"}," Complete more achievements to earn additional bonuses! ",-1))])):K("",!0)}}),I$={class:"space-y-4"},L$={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-4 border border-gray-200/50 dark:border-gray-700/50"},T$={class:"flex items-center justify-between"},q$={class:"flex flex-col items-center gap-3"},R$={class:"text-center"},F$={class:"text-sm text-amber-700 dark:text-amber-400"},U$={class:"w-32 h-2 mt-1 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},N$={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden border border-gray-200/50 dark:border-gray-700/50"},B$={class:"flex overflow-x-auto scrollbar-hide"},O$=["onClick"],D$={class:"flex items-center gap-2"},Q$={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md border border-gray-200/50 dark:border-gray-700/50 divide-y divide-gray-100 dark:divide-gray-700"},j$={key:0,class:"p-8 text-center text-amber-700 dark:text-amber-400"},H$={class:"flex items-center gap-4"},G$={class:"flex-1 min-w-0"},V$={class:"flex items-baseline justify-between"},W$={key:0,class:"ml-2 flex-shrink-0 text-xs text-amber-500 dark:text-amber-400"},K$={class:"mt-1 text-sm text-amber-600 dark:text-amber-400"},z$={key:0,class:"mt-1 text-sm text-green-600 dark:text-green-400 flex items-center gap-1"},Y$={key:0},J$={class:"mt-2 flex items-center"},X$={class:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},Z$={class:"ml-2 text-xs text-amber-700 dark:text-amber-400 whitespace-nowrap"},e3=_e({__name:"AchievementsPage",setup(e){Os();const t=Ct(),r=t.categories,{totalAchievements:s,completedAchievements:a,completionPercentage:i}=t,l=N("general"),u=p=>{l.value=p},c=F(()=>t.getAchievementsByCategory(l.value).filter(p=>!p.hiddenUntilCompleted||p.completed)),d=p=>p?new Date(p).toLocaleDateString():"",m=p=>{if(p.completed)return 100;const h=p.currentValue,x=p.requirement;if(x.eq(0))return 0;const k=h.div(x).mul(100).toNumber();return Math.min(Math.floor(k),99)},g=p=>p.formatMultiplier(p.multiplier),f=p=>!!p.modifiers&&p.modifiers.length>0;return(p,h)=>(b(),y("div",I$,[o("div",L$,[o("div",T$,[h[1]||(h[1]=o("div",null,[o("h1",{class:"text-2xl font-bold text-amber-800 dark:text-amber-300"},"Achievements"),o("p",{class:"text-amber-700 dark:text-amber-400 text-sm"}," Complete tasks to earn rewards and recognition ")],-1)),o("div",q$,[h[0]||(h[0]=o("span",{class:"i-heroicons-trophy text-3xl text-amber-500"},null,-1)),o("div",R$,[o("div",F$,_(E(a))+" / "+_(E(s))+" completed ",1),o("div",U$,[o("div",{class:"h-full bg-amber-500 dark:bg-amber-600 rounded-full",style:tt({width:`${E(i)}%`})},null,4)])])])])]),ye(P$),o("div",N$,[o("div",B$,[(b(!0),y(he,null,ke(E(r),x=>(b(),y("button",{key:x.id,onClick:k=>u(x.id),class:ne(["px-4 py-3 whitespace-nowrap transition-colors duration-200",[l.value===x.id?"text-amber-800 dark:text-amber-300 font-medium border-b-2 border-amber-500":"text-amber-600 dark:text-amber-400 hover:text-amber-800 dark:hover:text-amber-300 hover:bg-amber-50 dark:hover:bg-amber-900/20"]])},[o("div",D$,[o("span",{class:ne([x.icon])},null,2),X(" "+_(x.name),1)])],10,O$))),128))])]),o("div",Q$,[c.value.length===0?(b(),y("div",j$,h[2]||(h[2]=[o("div",{class:"flex flex-col items-center space-y-3"},[o("span",{class:"i-heroicons-trophy text-5xl opacity-30"}),o("h3",{class:"text-lg font-medium"},"No Achievements Found"),o("p",{class:"max-w-md text-sm opacity-80"}," There are no achievements in this category yet, or they're all hidden until completed. ")],-1)]))):K("",!0),(b(!0),y(he,null,ke(c.value,x=>(b(),y("div",{key:x.id,class:"p-4 hover:bg-amber-50/50 dark:hover:bg-amber-900/10 transition-colors duration-200"},[o("div",H$,[o("div",{class:ne(["flex-shrink-0",[x.completed?"text-amber-500":"text-gray-400 dark:text-gray-500"]])},[o("div",{class:ne(["w-10 h-10 rounded-full border-2 flex items-center justify-center",[x.completed?"border-amber-500 bg-amber-100 dark:bg-amber-900/30":"border-gray-300 dark:border-gray-600"]])},[o("span",{class:ne([x.icon,"text-xl"])},null,2)],2)],2),o("div",G$,[o("div",V$,[o("h3",{class:ne(["text-md font-medium truncate",[x.completed?"text-amber-800 dark:text-amber-300":"text-gray-700 dark:text-gray-300"]])},_(x.name),3),x.completed?(b(),y("div",W$,_(d(x.completionDate)),1)):K("",!0)]),o("p",K$,_(x.description),1),x.completed&&f(x)?(b(),y("div",z$,[h[3]||(h[3]=o("span",{class:"i-heroicons-arrow-trending-up"},null,-1)),(b(!0),y(he,null,ke(x.modifiers,(k,v)=>(b(),y("span",{key:v},[X(_(g(k))+" ",1),v<x.modifiers.length-1?(b(),y("span",Y$,", ")):K("",!0)]))),128))])):K("",!0),o("div",J$,[o("div",X$,[o("div",{class:ne(["h-full rounded-full",[x.completed?"bg-amber-500 dark:bg-amber-600":"bg-amber-300 dark:bg-amber-800"]]),style:tt({width:`${m(x)}%`})},null,6)]),o("div",Z$,_(E(Z)(x.currentValue.gt(x.requirement)?x.requirement:x.currentValue,0))+" / "+_(E(Z)(x.requirement,0)),1)])])])]))),128))])]))}}),t3=Ve(e3,[["__scopeId","data-v-a7e6a91f"]]),r3={class:"max-w-3xl mx-auto px-2 sm:px-0"},o3={class:"mb-6"},s3={class:"text-amber-700 dark:text-amber-400"},n3={class:"font-medium bg-amber-100 dark:bg-amber-800/50 px-2 py-0.5 rounded"},a3={key:0,class:"flex flex-col items-center justify-center py-8"},i3={key:1,class:"bg-red-100 dark:bg-red-900/20 border border-red-300 dark:border-red-700 rounded-lg p-4 my-4"},l3={class:"flex items-start"},u3={class:"text-red-700 dark:text-red-400 text-sm mt-1"},c3={key:2,class:"bg-amber-50 dark:bg-amber-950/10 border border-amber-200 dark:border-amber-800/30 rounded-lg p-4 md:p-6 shadow-sm"},d3=["innerHTML"],m3=_e({__name:"ChangelogPage",setup(e){const t=N(""),r=N(!0),s=N(!1),a=N(""),{version:i}=Ou(),l=F(()=>t.value?Du(t.value):"");return qe(async()=>{try{const u=await fetch("/CHANGELOG.md");if(!u.ok)throw new Error(`Failed to fetch changelog: ${u.status} ${u.statusText}`);t.value=await u.text(),r.value=!1}catch(u){r.value=!1,s.value=!0,a.value=u instanceof Error?u.message:"An unknown error occurred",console.error("Error loading changelog:",u)}}),(u,c)=>(b(),y("div",r3,[o("header",o3,[c[1]||(c[1]=o("h1",{class:"text-2xl font-bold text-amber-900 dark:text-amber-200"},"Changelog",-1)),o("p",s3,[c[0]||(c[0]=X(" Current version: ")),o("span",n3,_(E(i)),1)])]),r.value?(b(),y("div",a3,c[2]||(c[2]=[o("div",{class:"h-8 w-8 border-4 border-amber-500 border-t-transparent rounded-full animate-spin"},null,-1),o("span",{class:"mt-3 text-amber-700 dark:text-amber-400"},"Loading changelog...",-1)]))):s.value?(b(),y("div",i3,[o("div",l3,[c[5]||(c[5]=o("span",{class:"i-heroicons-exclamation-triangle text-red-600 dark:text-red-400 mr-3 text-xl"},null,-1)),o("div",null,[c[3]||(c[3]=o("p",{class:"font-medium text-red-800 dark:text-red-300"},"Failed to load changelog",-1)),o("p",u3,_(a.value),1),c[4]||(c[4]=o("p",{class:"text-red-700 dark:text-red-400 text-sm mt-2"}," Please try refreshing the page or check if the CHANGELOG.md file exists. ",-1))])])])):(b(),y("div",c3,[o("div",{class:"prose prose-amber dark:prose-invert prose-sm md:prose-base max-w-none",innerHTML:l.value},null,8,d3)]))]))}}),p3={class:"mb-4"},f3={class:"flex items-center gap-2 mb-2"},g3=["value","min","max","step"],v3={class:"min-w-[3ch] text-center"},h3={class:"flex flex-wrap gap-2"},b3=["onClick"],ca=_e({__name:"WikiLevelSelector",props:{modelValue:{},min:{},max:{},step:{},presets:{},color:{}},emits:["update:modelValue"],setup(e,{emit:t}){const r=e,s=t,a=r.min??5,i=r.max??1e3,l=r.step??5,u=r.presets??[10,25,50,100,250,500,1e3],c=r.color??"amber",d=F(()=>r.modelValue>=1e3?`${Math.floor(r.modelValue/1e3)}k`:r.modelValue.toString()),m=f=>{const p=r.modelValue===f;return c==="emerald"?["px-2 py-1 text-xs rounded-md transition-colors font-medium",p?"bg-emerald-600 dark:bg-emerald-500 text-white shadow-sm":"bg-emerald-100 dark:bg-emerald-800/50 text-emerald-800 dark:text-emerald-200 hover:bg-emerald-200 dark:hover:bg-emerald-700/70 border border-emerald-200 dark:border-emerald-700"]:["px-2 py-1 text-xs rounded-md transition-colors",p?`bg-${c}-500 text-white`:`bg-${c}-200 dark:bg-${c}-900/30 hover:bg-${c}-300 dark:hover:bg-${c}-800/50`]},g=f=>{s("update:modelValue",f)};return(f,p)=>(b(),y("div",p3,[o("div",f3,[p[1]||(p[1]=o("label",{class:"text-sm"},"Max Preview Level:",-1)),o("input",{type:"range",value:f.modelValue,onInput:p[0]||(p[0]=h=>g(Number(h.target.value))),min:E(a),max:E(i),step:E(l),class:ne(`accent-${E(c)}-500 flex-grow`)},null,42,g3),o("span",v3,_(d.value),1)]),o("div",h3,[(b(!0),y(he,null,ke(E(u),h=>(b(),y("button",{key:h,onClick:x=>g(h),class:ne(m(h))},_(h>=1e3?`${h/1e3}k`:h),11,b3))),128))])]))}});function y3(){const e=N({});return{tableRefs:e,registerTableRef:(a,i)=>{i instanceof Element?e.value[a]=i:e.value[a]=null},scrollTableToLevel:(a,i,l)=>{if(!a)return;const u=a.querySelector("tbody");if(!u)return;const c=u.querySelectorAll("tr");if(!c.length)return;const d=Math.min(i-1,c.length-1);c[d]&&c[d].scrollIntoView({behavior:"smooth",block:"center"})},getScrollPoints:a=>{if(a<=20)return[1,Math.ceil(a/2),a];if(a<=50)return[1,10,25,a];if(a<=100)return[1,25,50,75,a];{const i=[1],l=Math.ceil(a/5);for(let u=1;u<=4;u++)i.push(u*l);return i.push(a),i}}}}const x3={class:"flex gap-2"},k3={class:"overflow-x-auto max-h-60 overflow-y-auto border border-amber-200 dark:border-amber-800 rounded flex-grow"},_3={class:"flex flex-col md:w-12 gap-1"},w3=["onClick"],Vu=_e({__name:"WikiLevelTable",props:{itemId:{},maxLevel:{},tableHeaders:{},color:{}},setup(e){const t=e,{tableRefs:r,registerTableRef:s,scrollTableToLevel:a,getScrollPoints:i}=y3(),l=t.color??"amber";return(u,c)=>(b(),y("div",x3,[o("div",k3,[o("table",{class:"w-full text-sm",ref:d=>E(s)(u.itemId,d)},[o("thead",{class:ne(`bg-amber-200 dark:bg-${E(l)}-900/40 sticky top-0`)},[o("tr",null,[(b(!0),y(he,null,ke(u.tableHeaders,(d,m)=>(b(),y("th",{key:m,class:ne(["p-2",m===u.tableHeaders.length-1?"text-right":"text-left"])},_(d),3))),128))])],2),o("tbody",null,[eo(u.$slots,"default")])],512)]),o("div",_3,[(b(!0),y(he,null,ke(E(i)(u.maxLevel),d=>(b(),y("button",{key:d,onClick:m=>E(a)(E(r)[u.itemId],d,u.maxLevel),class:ne(["text-xs p-1 rounded",`bg-${E(l)}-200 dark:bg-${E(l)}-900/40 hover:bg-${E(l)}-300 dark:hover:bg-${E(l)}-800/60 text-${E(l)}-900 dark:text-${E(l)}-100`])},_(d===1?"Top":d===u.maxLevel?"Max":d),11,w3))),128))])]))}}),S3={class:"mb-4"},$3=["value","placeholder"],Oo=_e({__name:"WikiSearchInput",props:{modelValue:{},placeholder:{}},emits:["update:modelValue"],setup(e,{emit:t}){const r=e,s=t,a=r.placeholder??"Search...",i=l=>{s("update:modelValue",l)};return(l,u)=>(b(),y("div",S3,[o("input",{type:"text",value:l.modelValue,onInput:u[0]||(u[0]=c=>i(c.target.value)),placeholder:E(a),class:"w-full p-2 rounded-lg bg-amber-100 dark:bg-amber-900/20 text-amber-900 dark:text-amber-100 border border-amber-300 dark:border-amber-700"},null,40,$3)]))}}),C3={class:"flex flex-wrap gap-2 mb-4 overflow-x-auto"},E3=["onClick"],M3={key:0,class:"p-4 text-center text-amber-600 dark:text-amber-400"},A3={class:"space-y-3"},P3=["onClick"],I3={class:"flex items-center gap-3"},L3={class:"font-medium"},T3={class:"text-xs text-amber-600 dark:text-amber-400"},q3={class:"flex items-center gap-4"},R3={class:"text-right"},F3={class:"text-sm"},U3={class:"font-medium"},N3={class:"text-xs"},B3={key:0,class:"border-t border-amber-300 dark:border-amber-700 p-3"},O3={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},D3={class:"space-y-1 text-sm"},Q3={class:"flex flex-wrap gap-1 mt-1"},j3={key:0},H3={class:"space-y-2"},G3={class:"flex items-start justify-between"},V3={class:"font-medium"},W3={class:"text-xs text-amber-700 dark:text-amber-300"},K3={key:0,class:"text-xs bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 px-1.5 py-0.5 rounded"},z3={class:"p-2"},Y3={class:"p-2"},J3={key:0},X3={class:"font-medium"},Z3={key:0,class:"text-xs bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 px-1 py-0.5 rounded"},eC={key:1},Nr="prestige-upgrades",tC=_e({__name:"PrestigeUpgradesWiki",setup(e){const t=Ue(),r=Tr(),s=N(ls[0]),a=N(r.getSearchQuery(Nr)),i=N(r.getMaxPreviewLevel(Nr));Se(a,k=>{r.setSearchQuery(Nr,k)}),Se(i,k=>{r.setMaxPreviewLevel(Nr,k)});const l=k=>{r.toggleItemExpanded(Nr,k)},u=k=>r.isItemExpanded(Nr,k),c=k=>i.value,d=F(()=>{const k={};return ls.forEach(w=>{k[w]=[]}),(a.value?Ln.filter(w=>w.name.toLowerCase().includes(a.value.toLowerCase())||w.description.toLowerCase().includes(a.value.toLowerCase())||w.id.toLowerCase().includes(a.value.toLowerCase())):Ln).forEach(w=>{k[w.category]&&k[w.category].push(w)}),k}),m=(k,v)=>k.costMultiplier?Uu(k.baseCost,new se(v),k.costMultiplier):k.baseCost,g=(k,v)=>{const w=k.effect(new se(v));return k.formatEffect(w)},f=(k,v)=>{const w=k.multiplier(new se(v));return k.formatEffect?k.formatEffect(w):Z(w,2)},p=(k,v)=>!k.isCombo||!k.effects||k.effects.length===0?[{target:k.appliesTo[0],effect:g(k,v)}]:k.effects.map(w=>({target:w.target,effect:f(w,v)})),h=k=>({ep:"Evolution Points",worker:"Worker Ants",nursery:"Nursery",queenChamber:"Queen Chamber",colony:"Colony",megacolony:"Megacolony",hivemind:"Hivemind",antopolis:"Antopolis",global:"All Generators",pheromone:"Pheromone Essence",food:"Food"})[k]||k,x=k=>{const v=t.getUpgradeCount(k);return Z(v,0)};return(k,v)=>{var w;return b(),y("div",null,[ye(Oo,{modelValue:a.value,"onUpdate:modelValue":v[0]||(v[0]=S=>a.value=S),placeholder:"Search upgrades..."},null,8,["modelValue"]),ye(ca,{modelValue:i.value,"onUpdate:modelValue":v[1]||(v[1]=S=>i.value=S),color:"amber"},null,8,["modelValue"]),o("div",C3,[(b(!0),y(he,null,ke(E(ls),S=>(b(),y("button",{key:S,onClick:M=>s.value=S,class:ne(["px-3 py-1.5 rounded-lg text-sm transition-colors",s.value===S?"bg-amber-500 dark:bg-amber-600 text-white":"bg-amber-200 dark:bg-amber-900/40 text-amber-900 dark:text-amber-100 hover:bg-amber-300 dark:hover:bg-amber-800/60"])},_(S.charAt(0).toUpperCase()+S.slice(1)),11,E3))),128))]),((w=d.value[s.value])==null?void 0:w.length)===0?(b(),y("div",M3," No upgrades found for this category or search query. ")):K("",!0),(b(!0),y(he,null,ke(d.value,(S,M)=>He((b(),y("div",{key:M,class:"mb-6"},[o("div",A3,[(b(!0),y(he,null,ke(S,L=>(b(),y("div",{key:L.id,class:"border border-amber-300 dark:border-amber-700 rounded-lg overflow-hidden bg-amber-50/50 dark:bg-amber-900/10"},[o("div",{onClick:A=>l(L.id),class:"p-3 flex justify-between items-center cursor-pointer hover:bg-amber-100 dark:hover:bg-amber-900/20 transition-colors"},[o("div",I3,[o("span",{class:ne([L.icon,"text-xl text-amber-700 dark:text-amber-300"])},null,2),o("div",null,[o("div",L3,_(L.name),1),o("div",T3,_(L.description),1)])]),o("div",q3,[o("div",R3,[o("div",F3,[v[2]||(v[2]=X("Current: ")),o("span",U3,_(x(L.id)),1)]),o("div",N3,"Base Cost: "+_(E(Z)(L.baseCost,0)),1)]),o("span",{class:ne(["transition-transform",u(L.id)?"rotate-180":""])},v[3]||(v[3]=[o("span",{class:"i-heroicons-chevron-down text-amber-600 dark:text-amber-400"},null,-1)]),2)])],8,P3),u(L.id)?(b(),y("div",B3,[o("div",O3,[o("div",null,[v[8]||(v[8]=o("h3",{class:"font-medium mb-2 text-amber-800 dark:text-amber-200"},"Basic Information",-1)),o("div",D3,[o("div",null,[v[4]||(v[4]=o("span",{class:"font-medium"},"ID:",-1)),X(" "+_(L.id),1)]),o("div",null,[v[5]||(v[5]=o("span",{class:"font-medium"},"Max Level:",-1)),X(" "+_(L.maxLevel===null?"Unlimited":E(Z)(L.maxLevel,0)),1)]),o("div",null,[v[6]||(v[6]=o("span",{class:"font-medium"},"Applies To:",-1)),o("div",Q3,[(b(!0),y(he,null,ke(L.appliesTo,A=>(b(),y("span",{key:A,class:"px-1.5 py-0.5 text-xs rounded-full bg-amber-200 dark:bg-amber-900/40"},_(A),1))),128))])]),L.isCombo&&L.effects&&L.effects.length>0?(b(),y("div",j3,[v[7]||(v[7]=o("h3",{class:"font-medium mt-4 mb-2 text-amber-800 dark:text-amber-200"},"Effects",-1)),o("div",H3,[(b(!0),y(he,null,ke(L.effects,(A,Y)=>(b(),y("div",{key:Y,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},[o("div",G3,[o("div",null,[o("div",V3,_(h(A.target)),1),o("div",W3,_(f(A,L.level.toNumber()||1)),1)]),A.isMultiplier?(b(),y("span",K3," Multiplier ")):K("",!0)])]))),128))])])):K("",!0)])]),o("div",null,[v[9]||(v[9]=o("h3",{class:"font-medium mb-2 text-amber-800 dark:text-amber-200"},"Effects & Costs by Level",-1)),ye(Vu,{itemId:L.id,maxLevel:c(),tableHeaders:L.isCombo?["Level","Effects","Cost"]:["Level","Effect","Cost"],color:"amber"},{default:We(()=>[(b(!0),y(he,null,ke(c(L),A=>(b(),y("tr",{key:A,class:ne(["border-t border-amber-200 dark:border-amber-800 hover:bg-amber-100 dark:hover:bg-amber-900/30",L.maxLevel!==null&&A>L.maxLevel.toNumber()?"text-amber-500 dark:text-amber-400 italic":""])},[o("td",z3,_(A),1),o("td",Y3,[L.isCombo&&L.effects&&L.effects.length>0?(b(),y("div",J3,[(b(!0),y(he,null,ke(p(L,A),(Y,U)=>(b(),y("div",{key:U,class:"text-xs mb-1 flex items-center gap-2"},[o("span",X3,_(h(Y.target))+":",1),o("span",{class:ne(L.maxLevel!==null&&A>L.maxLevel.toNumber()?"text-amber-500 dark:text-amber-400":"text-amber-700 dark:text-amber-300")},_(Y.effect),3),L.effects[U].isMultiplier?(b(),y("span",Z3," × ")):K("",!0)]))),128))])):(b(),y("div",eC,_(g(L,A)),1))]),o("td",{class:ne(["p-2 text-right",L.maxLevel!==null&&A>L.maxLevel.toNumber()?"text-amber-500 dark:text-amber-400":"text-amber-700 dark:text-amber-300"])},_(E(Z)(m(L,A),0)),3)],2))),128))]),_:2},1032,["itemId","maxLevel","tableHeaders"])])])])):K("",!0)]))),128))])])),[[lr,M===s.value]])),128))])}}}),Ti=Ve(tC,[["__scopeId","data-v-251f5919"]]),rC={key:0,class:"p-4 text-center text-amber-600 dark:text-amber-400"},oC={class:"space-y-3"},sC=["onClick"],nC={class:"flex items-center gap-3"},aC={class:"font-medium"},iC={class:"text-xs text-amber-600 dark:text-amber-400"},lC={class:"flex items-center gap-4"},uC={class:"text-right"},cC={class:"text-sm"},dC={class:"font-medium"},mC={class:"text-xs"},pC={key:0,class:"border-t border-amber-300 dark:border-amber-700 p-3"},fC={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},gC={class:"space-y-1 text-sm"},vC={key:0},hC={class:"ml-2 mt-1 px-2 py-1 bg-amber-100 dark:bg-amber-900/30 rounded-md text-xs"},bC={class:"space-y-2"},yC={class:"flex items-start"},xC={class:"px-1.5 py-0.5 text-xs rounded-full bg-purple-100 dark:bg-purple-900/40 text-purple-800 dark:text-purple-300 mr-2 mt-0.5"},kC={class:"font-medium"},_C={class:"text-xs text-amber-700 dark:text-amber-300"},wC={class:"p-2"},SC={class:"p-2"},$C={key:0},CC={key:1,class:"text-xs italic"},Br="pheromone-shop",EC=_e({__name:"PheromoneShopWiki",setup(e){const t=Bs();Mt();const r=Tr(),s=N(r.getSearchQuery(Br)),a=N(r.getMaxPreviewLevel(Br));Se(s,h=>{r.setSearchQuery(Br,h)}),Se(a,h=>{r.setMaxPreviewLevel(Br,h)});const i=h=>{r.toggleItemExpanded(Br,h)},l=h=>r.isItemExpanded(Br,h),u=h=>a.value,c=F(()=>{if(!s.value)return t.shopItems;const h=s.value.toLowerCase();return t.shopItems.filter(x=>x.name.toLowerCase().includes(h)||x.description.toLowerCase().includes(h)||x.id.toLowerCase().includes(h))}),d=(h,x)=>x<=0?h.baseCost:h.baseCost.mul(m(1.2).pow(x-1)),m=h=>new se(h),g=(h,x)=>{const k=h.multiplier(x);if(k.gte(1)){const v=k.minus(1).mul(100);return`+${Z(v,1)}%`}else return Z(k,2)},f=(h,x)=>h.modifiers.filter(k=>x>=k.unlockLevel),p=h=>({ep:"Evolution Points",worker:"Worker Ants",nursery:"Nursery",queenChamber:"Queen Chamber",colony:"Colony",megacolony:"Megacolony",hivemind:"Hivemind",antopolis:"Antopolis",global:"All Generators",pheromone:"Pheromone Essence",food:"Food"})[h]||h;return(h,x)=>(b(),y("div",null,[ye(Oo,{modelValue:s.value,"onUpdate:modelValue":x[0]||(x[0]=k=>s.value=k),placeholder:"Search pheromone upgrades..."},null,8,["modelValue"]),ye(ca,{modelValue:a.value,"onUpdate:modelValue":x[1]||(x[1]=k=>a.value=k),color:"purple"},null,8,["modelValue"]),c.value.length===0?(b(),y("div",rC," No pheromone upgrades found for your search query. ")):K("",!0),o("div",oC,[(b(!0),y(he,null,ke(c.value,k=>(b(),y("div",{key:k.id,class:"border border-amber-300 dark:border-amber-700 rounded-lg overflow-hidden bg-amber-50/50 dark:bg-amber-900/10"},[o("div",{onClick:v=>i(k.id),class:"p-3 flex justify-between items-center cursor-pointer hover:bg-amber-100 dark:hover:bg-amber-900/20 transition-colors"},[o("div",nC,[x[3]||(x[3]=o("span",{class:"i-heroicons-beaker text-xl text-purple-700 dark:text-purple-400"},null,-1)),o("div",null,[o("div",aC,_(k.name),1),o("div",iC,_(k.description),1)])]),o("div",lC,[o("div",uC,[o("div",cC,[x[4]||(x[4]=X("Current: ")),o("span",dC,_(E(t).getItemLevel(k.id)),1)]),o("div",mC,"Max Level: "+_(k.maxLevel),1)]),o("span",{class:ne(["transition-transform",l(k.id)?"rotate-180":""])},x[5]||(x[5]=[o("span",{class:"i-heroicons-chevron-down text-amber-600 dark:text-amber-400"},null,-1)]),2)])],8,sC),l(k.id)?(b(),y("div",pC,[o("div",fC,[o("div",null,[x[11]||(x[11]=o("h3",{class:"font-medium mb-2 text-purple-800 dark:text-purple-300"},"Basic Information",-1)),o("div",gC,[o("div",null,[x[6]||(x[6]=o("span",{class:"font-medium"},"ID:",-1)),X(" "+_(k.id),1)]),o("div",null,[x[7]||(x[7]=o("span",{class:"font-medium"},"Base Cost:",-1)),X(" "+_(E(Z)(k.baseCost,0))+" PE",1)]),k.unlockRequirement?(b(),y("div",vC,[x[8]||(x[8]=o("span",{class:"font-medium"},"Unlock Requirement:",-1)),o("div",hC,_(E(t).getUnlockRequirementText(k.id)),1)])):K("",!0),K("",!0)]),x[12]||(x[12]=o("h3",{class:"font-medium mt-4 mb-2 text-purple-800 dark:text-purple-300"},"Effects",-1)),o("div",bC,[(b(!0),y(he,null,ke(k.modifiers,(v,w)=>(b(),y("div",{key:w,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},[o("div",yC,[o("span",xC," Lvl "+_(v.unlockLevel)+"+ ",1),o("div",null,[o("div",kC,_(p(v.target)),1),o("div",_C,_(v.description),1)])])]))),128))])]),o("div",null,[x[13]||(x[13]=o("h3",{class:"font-medium mb-2 text-purple-800 dark:text-purple-300"},"Effects & Costs by Level",-1)),ye(Vu,{itemId:k.id,maxLevel:u(),tableHeaders:["Level","Active Effects","Cost"],color:"purple"},{default:We(()=>[(b(!0),y(he,null,ke(u(k),v=>(b(),y("tr",{key:v,class:ne(["border-t border-amber-200 dark:border-amber-800 hover:bg-amber-100 dark:hover:bg-amber-900/30",v>k.maxLevel?"text-purple-500 dark:text-purple-400 italic":""])},[o("td",wC,_(v),1),o("td",SC,[f(k,v).length>0?(b(),y("div",$C,[(b(!0),y(he,null,ke(f(k,v),(w,S)=>(b(),y("div",{key:S,class:"text-xs"},[X(_(p(w.target))+": ",1),o("span",{class:ne(v>k.maxLevel?"text-purple-500 dark:text-purple-400":"text-purple-700 dark:text-purple-300")},_(g(w,v)),3)]))),128))])):(b(),y("div",CC,"No effects yet"))]),o("td",{class:ne(["p-2 text-right",v>k.maxLevel?"text-purple-500 dark:text-purple-400":"text-purple-700 dark:text-purple-300"])},_(E(Z)(d(k,v),0)),3)],2))),128))]),_:2},1032,["itemId","maxLevel"])])])])):K("",!0)]))),128))])]))}}),qi=Ve(EC,[["__scopeId","data-v-660ee95a"]]),MC={class:"mb-4 flex items-center"},AC={class:"inline-flex items-center cursor-pointer"},PC={key:0,class:"mb-6 p-4 border border-amber-300 dark:border-amber-700 rounded-lg bg-amber-50/50 dark:bg-amber-900/10"},IC={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4"},LC={class:"font-medium"},TC={class:"font-medium"},qC={class:"font-medium"},RC={class:"font-medium"},FC={class:"space-y-3"},UC=["onClick"],NC={class:"flex items-center gap-3"},BC={class:"font-medium"},OC={class:"text-xs text-amber-600 dark:text-amber-400"},DC={class:"flex items-center gap-4"},QC={class:"text-right text-sm"},jC={key:0,class:"border-t border-amber-300 dark:border-amber-700 p-3"},HC={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},GC={class:"space-y-1 text-sm"},VC={class:"space-y-2"},WC={class:"flex items-start justify-between"},KC={class:"font-medium"},zC={class:"text-xs text-amber-700 dark:text-amber-300"},YC={class:"text-right"},JC={class:"text-xs text-amber-700 dark:text-amber-300"},XC={class:"font-medium"},ZC={key:0,class:"text-sm italic text-amber-600 dark:text-amber-400"},eE={key:1,class:"p-4 text-center text-amber-600 dark:text-amber-400"},Zo="bugs-wiki",tE=_e({__name:"BugsWiki",setup(e){const t=hr(),r=qt(),s=Tr(),a=bt(),i=N(s.getSearchQuery(Zo)),l=N(!0);Se(i,k=>{s.setSearchQuery(Zo,k)});const u=k=>{s.toggleItemExpanded(Zo,k)},c=k=>s.isItemExpanded(Zo,k),d=k=>r.canOneHitBug(k),m=k=>{const v=t.getBugById(k);if(!v)return!1;const w=r.calculateDamage(v.damage,r.playerDefense);if(w.lte(0))return!0;const S=r.calculateDamage(r.playerDamage,v.defense);if(S.lte(0))return!1;const M=v.maxHealth.div(S).ceil(),L=r.playerMaxHealth.div(w).floor();return M.lte(L)},g=k=>rt(k),f=k=>{const v=a.getItem(k);return v?v.name:k},p=F(()=>{if(!i.value)return t.bugs;const k=i.value.toLowerCase();return t.bugs.filter(v=>v.name.toLowerCase().includes(k)||v.description.toLowerCase().includes(k)||v.id.toLowerCase().includes(k)||v.drops.some(w=>w.itemId.toLowerCase().includes(k)||f(w.itemId).toLowerCase().includes(k)))}),h=F(()=>[...p.value].sort((k,v)=>k.maxHealth.cmp(v.maxHealth))),x=k=>{if(!t.getBugById(k))return"0";const S=.1+.02*t.bugs.findIndex(L=>L.id===k);return`${(Math.min(S,2)*100).toFixed(0)}% of food/sec`};return(k,v)=>(b(),y("div",null,[ye(Oo,{modelValue:i.value,"onUpdate:modelValue":v[0]||(v[0]=w=>i.value=w),placeholder:"Search bugs or drops..."},null,8,["modelValue"]),o("div",MC,[o("label",AC,[He(o("input",{type:"checkbox","onUpdate:modelValue":v[1]||(v[1]=w=>l.value=w),class:"sr-only peer"},null,512),[[mt,l.value]]),v[2]||(v[2]=o("div",{class:"relative w-10 h-5 bg-amber-200 dark:bg-amber-900/40 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white dark:after:bg-amber-100 after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-amber-500"},null,-1)),v[3]||(v[3]=o("span",{class:"ml-2 text-sm text-amber-800 dark:text-amber-200"},"Show player relative strength",-1))])]),l.value?(b(),y("div",PC,[v[8]||(v[8]=o("h3",{class:"font-medium mb-2 text-amber-800 dark:text-amber-200"},"Your Stats",-1)),o("div",IC,[o("div",null,[v[4]||(v[4]=o("div",{class:"text-sm text-amber-600 dark:text-amber-400"},"Damage",-1)),o("div",LC,_(E(Z)(E(r).playerDamage,0)),1)]),o("div",null,[v[5]||(v[5]=o("div",{class:"text-sm text-amber-600 dark:text-amber-400"},"Health",-1)),o("div",TC,_(E(Z)(E(r).playerMaxHealth,0)),1)]),o("div",null,[v[6]||(v[6]=o("div",{class:"text-sm text-amber-600 dark:text-amber-400"},"Defense",-1)),o("div",qC,_(E(Z)(E(r).playerDefense,0)),1)]),o("div",null,[v[7]||(v[7]=o("div",{class:"text-sm text-amber-600 dark:text-amber-400"},"Regeneration",-1)),o("div",RC,_(E(Z)(E(r).playerRegen,0))+"/s",1)])])])):K("",!0),o("div",FC,[(b(!0),y(he,null,ke(h.value,w=>(b(),y("div",{key:w.id,class:ne(["border border-amber-300 dark:border-amber-700 rounded-lg overflow-hidden bg-amber-50/50 dark:bg-amber-900/10",{"border-green-400 dark:border-green-600":l.value&&d(w.id),"border-yellow-400 dark:border-yellow-600":l.value&&!d(w.id)&&m(w.id),"border-red-400 dark:border-red-600":l.value&&!m(w.id)}])},[o("div",{onClick:S=>u(w.id),class:"p-3 flex justify-between items-center cursor-pointer hover:bg-amber-100 dark:hover:bg-amber-900/20 transition-colors"},[o("div",NC,[o("span",{class:ne(["i-heroicons-bug-ant text-xl",[d(w.id)?"text-green-600 dark:text-green-400":m(w.id)?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"]])},null,2),o("div",null,[o("div",BC,_(w.name),1),o("div",OC,_(w.description),1)])]),o("div",DC,[o("div",QC,[o("div",null,[v[9]||(v[9]=o("span",{class:"font-medium"},"HP:",-1)),X(" "+_(E(Z)(w.maxHealth,0)),1)]),o("div",null,[v[10]||(v[10]=o("span",{class:"font-medium"},"DMG:",-1)),X(" "+_(E(Z)(w.damage,0)),1)])]),o("span",{class:ne(["transition-transform",c(w.id)?"rotate-180":""])},v[11]||(v[11]=[o("span",{class:"i-heroicons-chevron-down text-amber-600 dark:text-amber-400"},null,-1)]),2)])],8,UC),c(w.id)?(b(),y("div",jC,[o("div",HC,[o("div",null,[v[18]||(v[18]=o("h3",{class:"font-medium mb-2 text-amber-800 dark:text-amber-200"},"Stats",-1)),o("div",GC,[o("div",null,[v[12]||(v[12]=o("span",{class:"font-medium"},"ID:",-1)),X(" "+_(w.id),1)]),o("div",null,[v[13]||(v[13]=o("span",{class:"font-medium"},"Health:",-1)),X(" "+_(E(Z)(w.maxHealth,0)),1)]),o("div",null,[v[14]||(v[14]=o("span",{class:"font-medium"},"Damage:",-1)),X(" "+_(E(Z)(w.damage,0)),1)]),o("div",null,[v[15]||(v[15]=o("span",{class:"font-medium"},"Defense:",-1)),X(" "+_(E(Z)(w.defense,0)),1)]),o("div",null,[v[16]||(v[16]=o("span",{class:"font-medium"},"Effective Damage:",-1)),X(" "+_(E(Z)(E(r).calculateDamage(E(r).playerDamage,w.defense),0))+" (per hit)",1)]),o("div",null,[v[17]||(v[17]=o("span",{class:"font-medium"},"Reward:",-1)),X(" "+_(x(w.id)),1)])]),l.value?(b(),y("div",{key:0,class:ne(["mt-4 p-2 rounded-md",{"bg-green-100 dark:bg-green-900/20 border border-green-300 dark:border-green-800":d(w.id),"bg-yellow-100 dark:bg-yellow-900/20 border border-yellow-300 dark:border-yellow-800":!d(w.id)&&m(w.id),"bg-red-100 dark:bg-red-900/20 border border-red-300 dark:border-red-800":!m(w.id)}])},[o("div",{class:ne(["font-medium mb-1",{"text-green-700 dark:text-green-300":d(w.id),"text-yellow-700 dark:text-yellow-300":!d(w.id)&&m(w.id),"text-red-700 dark:text-red-300":!m(w.id)}])},_(d(w.id)?"One-hit Kill":m(w.id)?"Can Defeat":"Too Strong"),3),o("div",{class:ne(["text-xs",{"text-green-600 dark:text-green-400":d(w.id),"text-yellow-600 dark:text-yellow-400":!d(w.id)&&m(w.id),"text-red-600 dark:text-red-400":!m(w.id)}])},_(d(w.id)?"You can kill this bug in one hit!":m(w.id)?"You can defeat this bug, but it will take multiple hits.":"This bug is too strong for you right now."),3)],2)):K("",!0)]),o("div",null,[v[20]||(v[20]=o("h3",{class:"font-medium mb-2 text-amber-800 dark:text-amber-200"},"Drops",-1)),o("div",VC,[(b(!0),y(he,null,ke(w.drops,(S,M)=>(b(),y("div",{key:M,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},[o("div",WC,[o("div",null,[o("div",KC,_(f(S.itemId)),1),o("div",zC,_(S.minQuantity===S.maxQuantity?S.minQuantity:`${S.minQuantity}-${S.maxQuantity}`)+"× per drop ",1)]),o("div",YC,[o("div",JC,[v[19]||(v[19]=X(" Drop Chance: ")),o("span",XC,_(g(S.chance)),1)])])])]))),128)),w.drops.length===0?(b(),y("div",ZC," This bug doesn't drop any items. ")):K("",!0)])])])])):K("",!0)],2))),128))]),h.value.length===0?(b(),y("div",eE," No bugs found matching your search query. ")):K("",!0)]))}}),Ri=Ve(tE,[["__scopeId","data-v-49c4a5ff"]]),rE={class:"mb-4"},oE={class:"flex items-center justify-between mb-2"},sE={class:"flex flex-wrap gap-2"},nE=["onClick"],aE={class:"text-xs text-amber-600 dark:text-amber-400"},iE={key:0},lE={class:"text-xs text-amber-600 dark:text-amber-400 font-normal"},uE={class:"space-y-3"},cE=["onClick"],dE={class:"flex items-center gap-3"},mE={class:"text-xs text-amber-600 dark:text-amber-400"},pE={class:"flex items-center gap-4"},fE={class:"text-right"},gE={class:"text-xs text-amber-600 dark:text-amber-400"},vE={key:0,class:"border-t border-amber-300 dark:border-amber-700 p-3"},hE={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},bE={class:"space-y-1 text-sm"},yE={class:"grid grid-cols-2 gap-2"},xE={key:0,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},kE={class:"text-amber-700 dark:text-amber-300"},_E={key:1,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},wE={class:"text-amber-700 dark:text-amber-300"},SE={key:2,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},$E={class:"text-amber-700 dark:text-amber-300"},CE={key:3,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},EE={class:"text-amber-700 dark:text-amber-300"},ME={key:0},AE={class:"space-y-2"},PE={class:"font-medium"},IE={class:"text-amber-700 dark:text-amber-300"},LE={key:1,class:"mt-4"},TE={class:"space-y-2"},qE={key:0,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},RE={class:"text-amber-700 dark:text-amber-300"},FE={key:1,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},UE={class:"text-amber-700 dark:text-amber-300"},NE={class:"font-medium"},BE={class:"text-amber-700 dark:text-amber-300"},OE={key:2,class:"text-sm italic text-amber-600 dark:text-amber-400 mt-4"},DE={key:3,class:"mt-4"},QE={class:"space-y-2"},jE={class:"font-medium"},HE={class:"text-amber-700 dark:text-amber-300"},GE={key:0,class:"p-4 text-center text-amber-600 dark:text-amber-400"},es="items-wiki",VE=_e({__name:"ItemsWiki",setup(e){const t=bt(),r=Tr(),s=N(r.getSearchQuery(es));N(!0);const a=N(null),i=["common","uncommon","rare","epic","legendary","mythic","divine"],l=F(()=>{const M=new Set;return Object.values(t.items).forEach(L=>{M.add(L.rarity)}),Array.from(M).sort((L,A)=>i.indexOf(L)-i.indexOf(A))});Se(s,M=>{r.setSearchQuery(es,M)});const u=M=>{r.toggleItemExpanded(es,M)},c=M=>r.isItemExpanded(es,M),d=F(()=>{let M=Object.values(t.items);if(a.value&&(M=M.filter(L=>L.rarity===a.value)),s.value){const L=s.value.toLowerCase();M=M.filter(A=>A.name.toLowerCase().includes(L)||A.description.toLowerCase().includes(L)||A.id.toLowerCase().includes(L)||A.rarity.toLowerCase().includes(L))}return M}),m=F(()=>{const M={};return l.value.forEach(L=>{M[L]=[]}),d.value.forEach(L=>{M[L.rarity]&&M[L.rarity].push(L)}),M}),g=M=>M?`+${Z(M,0)}`:"0",f=M=>{if(!M)return"0%";const L=M.sub(1).mul(100);return`+${Z(L,0)}%`},p=M=>t.getRarityColor(M),h=M=>t.getRarityBackground(M),x=M=>({worker:"Worker Ants",nursery:"Nursery",queenChamber:"Queen Chamber",colony:"Colony",megacolony:"Megacolony",hivemind:"Hivemind",antopolis:"Antopolis",global:"All Generators"})[M]||M,k=F(()=>{const M={};return l.value.forEach(L=>{M[L]=0}),Object.values(t.items).forEach(L=>{M[L.rarity]=(M[L.rarity]||0)+1}),M}),v=hr(),w=M=>v.getBugsByItemId(M),S=(M,L)=>rt(v.getBugDropChance(M,L));return(M,L)=>(b(),y("div",null,[ye(Oo,{modelValue:s.value,"onUpdate:modelValue":L[0]||(L[0]=A=>s.value=A),placeholder:"Search items..."},null,8,["modelValue"]),o("div",rE,[o("div",oE,[L[2]||(L[2]=o("h3",{class:"font-medium text-amber-800 dark:text-amber-200"},"Filter by Rarity",-1)),a.value?(b(),y("button",{key:0,onClick:L[1]||(L[1]=A=>a.value=null),class:"text-xs px-2 py-1 bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-200 rounded-md hover:bg-amber-200 dark:hover:bg-amber-800/50"}," Clear Filter ")):K("",!0)]),o("div",sE,[(b(!0),y(he,null,ke(l.value,A=>(b(),y("button",{key:A,onClick:Y=>a.value=A===a.value?null:A,class:ne(["px-3 py-1.5 rounded-lg text-sm transition-colors flex items-center gap-1",a.value===A?"border-2 font-medium shadow-sm "+h(A):"border border-amber-200 dark:border-amber-800 hover:bg-amber-100/50 dark:hover:bg-amber-900/30"])},[o("span",{class:ne(p(A))},_(A.charAt(0).toUpperCase()+A.slice(1)),3),o("span",aE,"("+_(k.value[A])+")",1)],10,nE))),128))])]),(b(!0),y(he,null,ke(m.value,(A,Y)=>(b(),y("div",{key:Y,class:"mb-6"},[A.length>0?(b(),y("div",iE,[o("h2",{class:ne(["text-lg font-bold mb-3 flex items-center gap-2",p(Y)])},[o("span",null,_(Y.charAt(0).toUpperCase()+Y.slice(1))+" Items",1),o("span",lE,"("+_(A.length)+" items)",1)],2),o("div",uE,[(b(!0),y(he,null,ke(A,U=>(b(),y("div",{key:U.id,class:ne(["border rounded-lg overflow-hidden bg-amber-50/50 dark:bg-amber-900/10",h(U.rarity),a.value===U.rarity?"border-2":"border"])},[o("div",{onClick:T=>u(U.id),class:"p-3 flex justify-between items-center cursor-pointer hover:bg-amber-100/50 dark:hover:bg-amber-900/20 transition-colors"},[o("div",dE,[o("span",{class:ne(["i-heroicons-shield text-xl",p(U.rarity)])},null,2),o("div",null,[o("div",{class:ne(["font-medium",p(U.rarity)])},_(U.name),3),o("div",mE,_(U.description),1)])]),o("div",pE,[o("div",fE,[o("div",gE,_(U.rarity.charAt(0).toUpperCase()+U.rarity.slice(1)),1)]),o("span",{class:ne(["transition-transform",c(U.id)?"rotate-180":""])},L[3]||(L[3]=[o("span",{class:"i-heroicons-chevron-down text-amber-600 dark:text-amber-400"},null,-1)]),2)])],8,cE),c(U.id)?(b(),y("div",vE,[o("div",hE,[o("div",null,[o("h3",{class:ne(["font-medium mb-2",p(U.rarity)])},"Basic Information",2),o("div",bE,[o("div",null,[L[4]||(L[4]=o("span",{class:"font-medium"},"ID:",-1)),X(" "+_(U.id),1)]),o("div",null,[L[5]||(L[5]=o("span",{class:"font-medium"},"Type:",-1)),X(" "+_(U.type.charAt(0).toUpperCase()+U.type.slice(1)),1)]),o("div",null,[L[6]||(L[6]=o("span",{class:"font-medium"},"Rarity:",-1)),o("span",{class:ne(p(U.rarity))},_(U.rarity.charAt(0).toUpperCase()+U.rarity.slice(1)),3)])]),o("h3",{class:ne(["font-medium mt-4 mb-2",p(U.rarity)])},"Combat Stats",2),o("div",yE,[U.stats.damage?(b(),y("div",xE,[L[7]||(L[7]=o("div",{class:"font-medium"},"Damage",-1)),o("div",kE,_(g(U.stats.damage)),1)])):K("",!0),U.stats.health?(b(),y("div",_E,[L[8]||(L[8]=o("div",{class:"font-medium"},"Health",-1)),o("div",wE,_(g(U.stats.health)),1)])):K("",!0),U.stats.defense?(b(),y("div",SE,[L[9]||(L[9]=o("div",{class:"font-medium"},"Defense",-1)),o("div",$E,_(g(U.stats.defense)),1)])):K("",!0),U.stats.regen?(b(),y("div",CE,[L[10]||(L[10]=o("div",{class:"font-medium"},"Regeneration",-1)),o("div",EE,_(g(U.stats.regen)),1)])):K("",!0)])]),o("div",null,[U.productionModifiers&&Object.keys(U.productionModifiers).length>0?(b(),y("div",ME,[o("h3",{class:ne(["font-medium mb-2",p(U.rarity)])},"Production Modifiers",2),o("div",AE,[(b(!0),y(he,null,ke(U.productionModifiers,(T,G)=>(b(),y("div",{key:G,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},[o("div",PE,_(x(G)),1),o("div",IE,_(f(T)),1)]))),128))])])):K("",!0),U.specialModifiers&&Object.keys(U.specialModifiers).length>0?(b(),y("div",LE,[o("h3",{class:ne(["font-medium mb-2",p(U.rarity)])},"Special Effects",2),o("div",TE,[U.specialModifiers.epBoost?(b(),y("div",qE,[L[11]||(L[11]=o("div",{class:"font-medium"},"Evolution Points",-1)),o("div",RE,_(f(U.specialModifiers.epBoost)),1)])):K("",!0),U.specialModifiers.global?(b(),y("div",FE,[L[12]||(L[12]=o("div",{class:"font-medium"},"Global Production",-1)),o("div",UE,_(f(U.specialModifiers.global)),1)])):K("",!0),M.key!=="epBoost"&&M.key!=="global"&&M.value!==void 0?(b(!0),y(he,{key:2},ke(U.specialModifiers,(T,G)=>(b(),y("div",{key:G,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},[o("div",NE,_(G.charAt(0).toUpperCase()+G.slice(1).replace(/([A-Z])/g," $1")),1),o("div",BE,_(f(T)),1)]))),128)):K("",!0)])])):K("",!0),(!U.productionModifiers||Object.keys(U.productionModifiers).length===0)&&(!U.specialModifiers||Object.keys(U.specialModifiers).length===0)?(b(),y("div",OE," This item has no production or special effects. ")):K("",!0),w(U.id).length>0?(b(),y("div",DE,[o("h3",{class:ne(["font-medium mb-2",p(U.rarity)])},"Bugs that drop this item",2),o("div",QE,[(b(!0),y(he,null,ke(w(U.id),T=>(b(),y("div",{key:T.id,class:"text-sm p-2 border border-amber-200 dark:border-amber-800 rounded-md"},[o("div",jE,_(T.name),1),o("div",HE,_(S(U.id,T.id)),1)]))),128))])])):K("",!0)])])])):K("",!0)],2))),128))])])):K("",!0)]))),128)),Object.values(m.value).every(A=>A.length===0)?(b(),y("div",GE," No items found matching your search criteria. ")):K("",!0)]))}}),Fi=Ve(VE,[["__scopeId","data-v-53bb6261"]]),WE={class:"mb-4 bg-emerald-50/70 dark:bg-emerald-900/20 p-3 rounded-lg border border-emerald-200 dark:border-emerald-800"},KE={class:"block mb-2 text-sm font-medium text-emerald-800 dark:text-emerald-200"},zE={class:"font-bold text-emerald-600 dark:text-emerald-300"},YE={key:0,class:"p-4 text-center text-emerald-600 dark:text-emerald-400"},JE={class:"space-y-3"},XE=["onClick"],ZE={class:"flex items-center gap-3"},e4={class:"font-medium"},t4={class:"text-xs text-emerald-600 dark:text-emerald-400"},r4={class:"flex items-center gap-4"},o4={class:"text-right"},s4={class:"text-sm"},n4={class:"font-medium"},a4={class:"text-xs"},i4={key:0,class:"border-t border-emerald-300 dark:border-emerald-700 p-3"},l4={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},u4={class:"space-y-1 text-sm"},c4={class:"overflow-x-auto max-h-60 overflow-y-auto border border-emerald-200 dark:border-emerald-800 rounded"},d4={class:"w-full text-sm"},m4={class:"p-2"},p4={class:"p-2 text-right"},f4={class:"p-2 text-right text-emerald-700 dark:text-emerald-300"},g4={class:"mt-4"},v4={class:"text-sm text-emerald-600 dark:text-emerald-400 mb-2"},h4={class:"overflow-x-auto border border-emerald-200 dark:border-emerald-800 rounded"},b4={class:"w-full text-sm"},y4={class:"p-2"},x4={class:"p-2 text-right"},k4={class:"p-2 text-right text-emerald-700 dark:text-emerald-300"},Or="generators-wiki",_4=_e({__name:"GeneratorsWiki",setup(e){const t=De(),r=Tr(),s=N(r.getSearchQuery(Or)),a=N(r.getMaxPreviewLevel(Or));Se(s,f=>{r.setSearchQuery(Or,f)}),Se(a,f=>{r.setMaxPreviewLevel(Or,f)});const i=f=>{r.toggleItemExpanded(Or,f)},l=f=>r.isItemExpanded(Or,f),u=f=>Z(f.baseCost,0),c=(f,p)=>Pu(f,new se(p)),d=f=>{const p=t.getBaseProduction(f);return Z(p,0)},m=f=>({worker:"food",nursery:"worker ants",queenChamber:"nurseries",colony:"queen chambers",megacolony:"colonies",hivemind:"mega colonies",antopolis:"hive minds"})[f]||"",g=F(()=>{if(!s.value)return t.generators;const f=s.value.toLowerCase();return t.generators.filter(p=>p.name.toLowerCase().includes(f)||p.description.toLowerCase().includes(f)||p.id.toLowerCase().includes(f))});return(f,p)=>(b(),y("div",null,[ye(Oo,{modelValue:s.value,"onUpdate:modelValue":p[0]||(p[0]=h=>s.value=h),placeholder:"Search generators..."},null,8,["modelValue"]),o("div",WE,[o("label",KE,[p[2]||(p[2]=X(" Show generator costs up to ")),o("span",zE,_(a.value),1),p[3]||(p[3]=X(" purchases "))]),ye(ca,{modelValue:a.value,"onUpdate:modelValue":p[1]||(p[1]=h=>a.value=h),presets:[10,25,50,100,250,500,1e3],max:1e3,color:"emerald"},null,8,["modelValue"])]),g.value.length===0?(b(),y("div",YE," No generators found for this search query. ")):K("",!0),o("div",JE,[(b(!0),y(he,null,ke(g.value,h=>(b(),y("div",{key:h.id,class:"border border-emerald-300 dark:border-emerald-700 rounded-lg overflow-hidden bg-emerald-50/50 dark:bg-emerald-900/10"},[o("div",{onClick:x=>i(h.id),class:"p-3 flex justify-between items-center cursor-pointer hover:bg-emerald-100 dark:hover:bg-emerald-900/20 transition-colors"},[o("div",ZE,[o("span",{class:ne([h.icon,"text-xl text-emerald-700 dark:text-emerald-300"])},null,2),o("div",null,[o("div",e4,_(h.name),1),o("div",t4,_(h.description),1)])]),o("div",r4,[o("div",o4,[o("div",s4,[p[4]||(p[4]=X("Tier: ")),o("span",n4,_(h.tier),1)]),o("div",a4,"Base Cost: "+_(u(h)),1)]),o("span",{class:ne(["transition-transform",l(h.id)?"rotate-180":""])},p[5]||(p[5]=[o("span",{class:"i-heroicons-chevron-down text-emerald-600 dark:text-emerald-400"},null,-1)]),2)])],8,XE),l(h.id)?(b(),y("div",i4,[o("div",l4,[o("div",null,[p[11]||(p[11]=o("h3",{class:"font-medium mb-2 text-emerald-800 dark:text-emerald-200"},"Basic Information",-1)),o("div",u4,[o("div",null,[p[6]||(p[6]=o("span",{class:"font-medium"},"ID:",-1)),X(" "+_(h.id),1)]),o("div",null,[p[7]||(p[7]=o("span",{class:"font-medium"},"Tier:",-1)),X(" "+_(h.tier),1)]),o("div",null,[p[8]||(p[8]=o("span",{class:"font-medium"},"Base Cost:",-1)),X(" "+_(u(h)),1)]),o("div",null,[p[9]||(p[9]=o("span",{class:"font-medium"},"Cost Growth:",-1)),X(" "+_(E(Z)(h.costGrowth,2)),1)]),o("div",null,[p[10]||(p[10]=o("span",{class:"font-medium"},"Base Production:",-1)),X(" "+_(d(h.id))+" "+_(m(h.id))+"/sec",1)])])]),o("div",null,[p[13]||(p[13]=o("h3",{class:"font-medium mb-2 text-emerald-800 dark:text-emerald-200"},"Cost Progression",-1)),o("div",c4,[o("table",d4,[p[12]||(p[12]=o("thead",{class:"bg-emerald-200 dark:bg-emerald-900/40 sticky top-0"},[o("tr",null,[o("th",{class:"p-2 text-left"},"Purchases"),o("th",{class:"p-2 text-right"},"Unit Cost"),o("th",{class:"p-2 text-right"},"Total Spent")])],-1)),o("tbody",null,[(b(!0),y(he,null,ke([1,5,10,25,50,100,250,500,1e3].filter(x=>x<=a.value),x=>(b(),y("tr",{key:x,class:"border-t border-emerald-200 dark:border-emerald-800 hover:bg-emerald-100 dark:hover:bg-emerald-900/30"},[o("td",m4,_(x),1),o("td",p4,_(E(Z)(c(h.tier,x),0)),1),o("td",f4,_(E(Z)(c(h.tier,x).mul(x),0)),1)]))),128))])])])])]),o("div",g4,[p[15]||(p[15]=o("h3",{class:"font-medium mb-2 text-emerald-800 dark:text-emerald-200"},"Production Information",-1)),o("p",v4,_(h.name)+" produces "+_(d(h.id))+" "+_(m(h.id))+" per second at base value. Each "+_(h.name.toLowerCase())+" you own multiplies this production linearly. ",1),o("div",h4,[o("table",b4,[p[14]||(p[14]=o("thead",{class:"bg-emerald-200 dark:bg-emerald-900/40"},[o("tr",null,[o("th",{class:"p-2 text-left"},"Count"),o("th",{class:"p-2 text-right"},"Base Production"),o("th",{class:"p-2 text-right"},"Per Generator")])],-1)),o("tbody",null,[(b(),y(he,null,ke([1,10,100,1e3,1e4],x=>o("tr",{key:x,class:"border-t border-emerald-200 dark:border-emerald-800 hover:bg-emerald-100 dark:hover:bg-emerald-900/30"},[o("td",y4,_(x),1),o("td",x4,_(E(Z)(new(E(se))(d(h.id)).mul(x),0)),1),o("td",k4,_(d(h.id)),1)])),64))])])])])])):K("",!0)]))),128))])]))}}),Ui=Ve(_4,[["__scopeId","data-v-b42a6b6c"]]),w4={class:"wiki-page"},S4={class:"border-b border-amber-300 dark:border-amber-700 mb-6"},$4={class:"flex flex-wrap gap-1"},C4=["onClick"],E4={class:"mb-4"},M4={class:"text-xl font-medium mb-2"},A4=_e({__name:"WikiPage",setup(e){const t=Tr(),r=[{id:"prestige-upgrades",label:"Prestige Upgrades",icon:"i-heroicons-sparkles",component:Ti},{id:"pheromone-shop",label:"Pheromone Shop",icon:"i-heroicons-beaker",component:qi},{id:"bugs-wiki",label:"Bugs & Drops",icon:"i-heroicons-bug-ant",component:Ri},{id:"items-wiki",label:"Items",icon:"i-heroicons-shield",component:Fi},{id:"generators-wiki",label:"Generators",icon:"i-heroicons-command-line",component:Ui}],s=a=>{t.setActiveTab(a)};return(a,i)=>(b(),y("div",w4,[i[1]||(i[1]=o("div",{class:"flex justify-between items-center mb-6"},[o("h1",{class:"text-2xl font-bold"},"Game Wiki")],-1)),o("div",S4,[o("div",$4,[(b(),y(he,null,ke(r,l=>o("button",{key:l.id,onClick:u=>s(l.id),class:ne(["px-4 py-2 -mb-px text-sm font-medium transition-colors flex items-center gap-2",E(t).activeTab===l.id?"border-b-2 border-amber-500 text-amber-800 dark:text-amber-300":"text-amber-700/70 dark:text-amber-300/70 hover:text-amber-900 dark:hover:text-amber-200 hover:bg-amber-100/50 dark:hover:bg-amber-900/20 rounded-t-md"])},[o("span",{class:ne(l.icon)},null,2),X(" "+_(l.label),1)],10,C4)),64))])]),o("div",null,[E(t).activeTab==="prestige-upgrades"?(b(),Oe(Ti,{key:0})):K("",!0),E(t).activeTab==="pheromone-shop"?(b(),Oe(qi,{key:1})):K("",!0),E(t).activeTab==="bugs-wiki"?(b(),Oe(Ri,{key:2})):K("",!0),E(t).activeTab==="items-wiki"?(b(),Oe(Fi,{key:3})):K("",!0),E(t).activeTab==="generators-wiki"?(b(),Oe(Ui,{key:4})):K("",!0)]),(b(!0),y(he,null,ke(r.filter(l=>!l.component&&E(t).activeTab===l.id),l=>(b(),y("div",{key:l.id,class:"p-8 text-center text-amber-600 dark:text-amber-400 border border-amber-200 dark:border-amber-800 rounded-lg"},[o("div",E4,[o("span",{class:ne([l.icon,"text-4xl opacity-50"])},null,2)]),o("h3",M4,_(l.label)+" Wiki",1),i[0]||(i[0]=o("p",null,"This section is under development and will be available soon.",-1))]))),128))]))}}),P4=Ve(A4,[["__scopeId","data-v-9af88694"]]),I4={class:"space-y-4 px-2 sm:px-0"},L4={key:1,class:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg shadow-sm"},T4=_e({__name:"QuestsPage",setup(e){const t=ht();return(r,s)=>(b(),y("div",I4,[s[1]||(s[1]=o("h1",{class:"text-xl font-bold mb-2 flex items-center"},[o("span",{class:"i-heroicons-clipboard-document-list text-blue-700 dark:text-blue-500 mr-2"}),X(" Quests ")],-1)),E(t).isQuestsUnlocked?(b(),Oe(Gu,{key:0})):(b(),y("div",L4,s[0]||(s[0]=[o("h2",{class:"text-lg font-semibold mb-2"},"Quests Locked",-1),o("p",{class:"text-gray-700 dark:text-gray-300"}," Complete more of your adventure to unlock the Quests system! ",-1)]))),ye(qr,{threshold:400})]))}});function da(){const e="gdpr_consent_status",t=N(localStorage.getItem(e)||"pending");return{consentStatus:t,acceptConsent:()=>(t.value="accepted",localStorage.setItem(e,t.value),!0),declineConsent:()=>(t.value="declined",localStorage.setItem(e,t.value),!1),hasConsent:()=>t.value==="accepted",isPending:()=>t.value==="pending"}}var Ds=function(){return typeof document<"u"&&typeof window<"u"},q4=function(t,r){return new Promise(function(s,a){var i=document.head||document.getElementsByTagName("head")[0],l=document.createElement("script");if(l.async=!0,l.src=t,l.charset="utf-8",r){var u=document.createElement("link");u.href=r,u.rel="preconnect",i.appendChild(u)}i.appendChild(l),l.onload=s,l.onerror=a})},R4=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Object.keys(r).forEach(function(s){t[s]=r[s]})},Wu=Lr({property:null,isEnabled:!0,disableScriptLoader:!1,useDebugger:!1,globalObjectName:"gtag",dataLayerName:"dataLayer",resourceURL:"https://ww1w.googletaweaweafafaweeegmanager.com/gtag/js",preconnectOrigin:"https://w1ww.googwewj2o3ii2323ljafletagmanager.com",customResource:null,appName:null,appId:null,appVersion:null}),xr=function(){return hl(Wu)},Ku=F(function(){var e=xr(),t=e.property;if(t.value)return Array.isArray(t.value)?t.value.find(function(r){return r.default===!0})||t.value[0]:t.value}),F4=F(function(){var e=xr(),t=e.property;return!!(t.value&&t.value.id!==null)}),Lo=F(function(){var e=xr(),t=e.property;return Array.isArray(t.value)?t.value:[t.value]}),U4=F(function(){var e=xr(),t=e.isEnabled,r=Ku.value;return!!(r&&r.id&&t.value)}),Do=function(){var e;if(Ds()){for(var t=xr(),r=t.globalObjectName,s=t.useDebugger,a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];s.value&&console.warn("[vue-gtag] Debugger:",i),(e=window)[r.value].apply(e,i)}},ma=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Lo.value.forEach(function(s){Do.apply(void 0,["config",s.id].concat(t))})},N4=function(e){ma({custom_map:e})},B4=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;Ds()&&Lo.value.forEach(function(t){window["ga-disable-".concat(t.id)]=e})},Rr=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=Object.assign({},t);!r.send_to&&Lo.value.length>1&&(r.send_to=Lo.value.map(function(s){return s.id})),Do("event",e,r)},O4=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Rr.apply(void 0,["exception"].concat(t))},D4=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];ma.apply(void 0,["linker"].concat(t))},Q4=function(e){var t={};typeof e=="string"?t={page_path:e,page_location:window.location.href}:t=e,typeof t.send_page_view>"u"&&(t.send_page_view=!0),Rr("page_view",t)},j4=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Rr.apply(void 0,["purchase"].concat(t))},H4=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Rr.apply(void 0,["refund"].concat(t))},G4=function(){for(var e=xr(),t=e.appName,r=e.appId,s=e.appVersion,a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];var u=i[0],c={};typeof u=="string"?c={screen_name:u}:c=u,c.app_name==null&&t.value!=null&&(c.app_name=t.value),c.app_id==null&&r.value!=null&&(c.app_id=r.value),c.app_version==null&&s.value!=null&&(c.app_version=s.value),Rr("screen_view",c)},V4=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Do.apply(void 0,["set"].concat(t))},W4=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Rr.apply(void 0,["timing_complete"].concat(t))},zu=Object.freeze({__proto__:null,config:ma,customMap:N4,disable:B4,event:Rr,exception:O4,linker:D4,pageview:Q4,purchase:j4,query:Do,refund:H4,screenview:G4,set:V4,time:W4}),Ni=N(!1),Bi=N(!1),K4=function(){var t=xr(),r=t.disableScriptLoader,s=t.preconnectOrigin,a=t.resourceURL,i=t.dataLayerName;if(!(!Ds()||!F4.value||Bi.value)){if(Bi.value=!0,Lo.value.forEach(function(u){var c=Object.assign({send_page_view:!1},u.params);Do("config",u.id,c)}),r.value){Ni.value=!0;return}var l="".concat(a.value,"?id=").concat(Ku.value.id,"&l=").concat(i.value);q4(l,s.value).then(function(){Ni.value=!0})}},z4=function(){Se(function(){return U4.value},function(t){return t&&K4()},{immediate:!0})},Y4=function(){if(Ds()){var e=xr(),t=e.globalObjectName,r=e.dataLayerName;window[t.value]==null&&(window[r.value]=window[r.value]||[],window[t.value]=function(){window[r.value].push(arguments)}),window[t.value]("js",new Date)}},J4=function(){return zu};Lr({template:null,useScreenview:!1,skipSamePath:!0});var X4={install:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};R4(Wu,r),Y4(),z4(),t.config.globalProperties.$gtag=zu}};function Z4(){const{consentStatus:e,hasConsent:t}=da(),{isEnabled:r,enable:s,disable:a,query:i,pageView:l,event:u,screenView:c,customMap:d,time:m,exception:g}=J4();return Se(()=>e.value,h=>{h==="accepted"?s():a()}),{isAnalyticsEnabled:r,trackPageView:(h,x)=>{t()&&l(h,x)},trackEvent:(h,x)=>{t()&&u(h,x)},screenView:(h,x)=>{t()&&c(h,x)},exception:(h,x=!1)=>{t()&&g(h,x)},time:h=>t()?m(h):{send:()=>{}}}}const eM=[{path:"/",component:eh,meta:{title:"Home"}},{path:"/settings",component:sb,meta:{title:"Settings"}},{path:"/upgrades",component:vy,meta:{title:"Upgrades"},beforeEnter:(e,t,r)=>{if(Gt().isFeatureUnlocked.upgrades)r();else{r("/");try{const{showToast:a}=cr();a("Complete 10 trips to unlock Evolution","info")}catch{console.warn("Toast system not available")}}}},{path:"/adventure",component:aw,meta:{title:"Adventure"},beforeEnter:(e,t,r)=>{const{isAdventureUnlocked:s}=mn();if(s.value)r();else{r("/upgrades");try{const{showToast:a}=cr();a("You need to unlock Adventure Mode first (50 EP)","error")}catch{console.warn("Toast system not available")}}}},{path:"/quests",component:T4,meta:{title:"Quests"},beforeEnter:(e,t,r)=>{const{isAdventureUnlocked:s}=mn();if(s.value)r();else{r("/upgrades");try{const{showToast:a}=cr();a("You need to unlock Adventure Mode first (50 EP)","error")}catch{console.warn("Toast system not available")}}}},{path:"/inventory",component:$$,meta:{title:"Inventory"},beforeEnter:(e,t,r)=>{const{isAdventureUnlocked:s}=mn();if(s.value)r();else{r("/");const{showToast:a}=cr();a("Purchase Adventure Mode from the Evolution tab (50 EP)","info")}}},{path:"/achievements",component:t3,meta:{title:"Achievements"}},{path:"/changelog",component:m3,meta:{title:"Changelog"}},{path:"/wiki",component:P4,meta:{title:"Wiki"}}],Tn=L0({history:i0(),routes:eM});Tn.isReady().then(()=>{const{trackPageView:e}=Z4();Tn.afterEach(t=>{e(t.path,t.meta.title)})});const tM={class:"relative group"},rM=["disabled"],oM={class:"absolute inset-0 w-full h-full -rotate-90 transform pointer-events-none",viewBox:"0 0 100 100"},sM=["stroke-dasharray","stroke-dashoffset"],nM={key:0,class:"absolute left-0 top-1/2 transform -translate-x-[calc(100%+5px)] -translate-y-1/2 bg-amber-600 text-white text-xs font-bold px-2 py-0.5 rounded-full shadow-sm"},aM={class:"absolute top-1/2 right-0 transform translate-x-[calc(100%+5px)] -translate-y-1/2 bg-amber-100 dark:bg-amber-900 text-amber-800 dark:text-amber-100 text-xs font-medium px-2 py-0.5 rounded-full shadow-sm z-25"},iM={class:"absolute -top-12 left-1/2 transform -translate-x-1/2 hidden group-hover:block bg-amber-900 text-amber-50 text-xs rounded px-3 py-2 w-max pointer-events-none z-25 shadow-lg transition-opacity duration-200"},lM=_e({__name:"ColonyRushButton",setup(e){const t=Io(),{showToast:r}=cr(),s=N(!1);async function a(){if(!t.isFeatureUnlocked){r("Colony Rush feature is not unlocked yet!","warning");return}if(!t.isRushAvailable){r("Colony Rush not ready yet!","warning");return}s.value=!0;try{await t.executeRush()?r(`Colony Rush activated! Processing ${t.rushDurationSeconds} seconds of game time...`,"success"):r("Failed to activate Colony Rush","error")}catch(u){console.error("Error during colony rush:",u),r("Error during colony rush","error")}finally{s.value=!1}}const i=F(()=>({"bg-green-600 hover:bg-green-700 cursor-pointer":t.isRushAvailable,"bg-gray-400 dark:bg-gray-700 cursor-not-allowed opacity-60":!t.isRushAvailable,"animate-pulse-rapid":s.value})),l=F(()=>t.isFeatureUnlocked?t.isRushAvailable?`Activate Colony Rush to skip ${t.rushDurationSeconds} seconds ahead!`:`Available after ${t.ticksUntilNextRush} more foraging trips`:"Unlock Colony Rush through Evolution upgrades");return(u,c)=>(b(),y("div",tM,[o("button",{class:ne(["flex items-center justify-center w-14 h-14 rounded-full text-white shadow-lg transform transition-all duration-300 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 relative z-25",i.value]),disabled:!E(t).isRushAvailable,onClick:c[0]||(c[0]=d=>a())},c[1]||(c[1]=[o("div",{class:"relative"},[o("span",{class:"i-heroicons-bug-ant text-2xl absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 opacity-50"}),o("span",{class:"i-heroicons-bolt text-2xl relative z-25"})],-1)]),10,rM),(b(),y("svg",oM,[c[2]||(c[2]=o("circle",{class:"text-gray-200 dark:text-gray-700 stroke-current","stroke-width":"10",fill:"transparent",r:"45",cx:"50",cy:"50"},null,-1)),o("circle",{class:ne(["text-amber-500 stroke-current transition-all duration-300",{"text-gray-400 dark:text-gray-600":!E(t).isRushAvailable}]),"stroke-width":"10",fill:"transparent",r:"45",cx:"50",cy:"50","stroke-dasharray":2*Math.PI*45,"stroke-dashoffset":2*Math.PI*45*(1-E(t).cooldownPercentage/100)},null,10,sM)])),E(t).isRushAvailable?K("",!0):(b(),y("div",nM,_(E(t).ticksUntilNextRush),1)),o("div",aM,_(E(t).rushesRemaining)+"/"+_(E(t).maxRushesPerDay),1),o("div",iM,[X(_(l.value)+" ",1),c[3]||(c[3]=o("span",{class:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-amber-900 rotate-45"},null,-1))])]))}}),uM=Ve(lM,[["__scopeId","data-v-11259be6"]]),cM={class:"flex flex-col h-full bg-amber-50 dark:bg-gray-900 text-amber-900 dark:text-amber-100 font-sans w-full"},dM={class:"bg-gradient-to-r from-amber-800 to-amber-700 dark:from-amber-900 dark:to-amber-800 text-amber-50 shadow-lg relative"},mM={class:"p-2 md:p-3"},pM={class:"flex items-center justify-between mb-2"},fM={class:"flex items-center gap-3"},gM={class:"text-xs bg-amber-900/30 dark:bg-amber-950/50 px-2 py-0.5 rounded-full whitespace-nowrap"},vM={class:"flex items-center bg-amber-900/20 dark:bg-amber-950/40 rounded-full px-2 py-1"},hM={class:"text-xs md:text-sm font-medium"},bM={class:"flex items-center bg-amber-900/20 dark:bg-amber-950/40 rounded-full px-2 py-1"},yM={class:"text-xs md:text-sm font-medium"},xM={class:"flex items-center bg-amber-900/20 dark:bg-amber-950/40 rounded-full px-2 py-1"},kM={class:"text-xs md:text-sm font-medium"},_M={class:"flex items-center bg-amber-900/20 dark:bg-amber-950/40 rounded-full px-2 py-1"},wM={class:"text-xs md:text-sm font-medium"},SM={class:"flex items-center bg-amber-900/20 dark:bg-amber-950/40 rounded-full px-2 py-1"},$M={class:"text-xs md:text-sm font-medium"},CM={key:0,class:"flex items-center bg-amber-900/20 dark:bg-amber-950/40 rounded-full px-2 py-1"},EM={class:"text-xs md:text-sm font-medium"},MM={key:1,class:"flex items-center bg-amber-900/20 dark:bg-amber-950/40 rounded-full px-2 py-1"},AM={class:"text-xs md:text-sm font-medium"},PM={class:"relative mx-2 md:mx-3 mb-4"},IM={class:"flex justify-between items-center mb-0.5 px-1"},LM={class:"text-2xs text-amber-200 dark:text-amber-300"},TM={class:"h-3 bg-amber-900/30 dark:bg-amber-950/50 rounded-lg overflow-hidden relative"},qM={class:"absolute left-0 top-0 h-full w-full overflow-hidden"},RM={key:0,class:"absolute left-[10%] bottom-0 flex items-center ant-entry",style:{"animation-delay":"0.3s"}},FM={key:1,class:"absolute left-[15%] top-0 flex items-center ant-entry",style:{"animation-delay":"0.4s"}},UM={key:2,class:"absolute left-[25%] top-0.5 flex items-center ant-entry",style:{"animation-delay":"0.5s"}},NM={key:3,class:"absolute left-[30%] bottom-0 flex items-center ant-entry",style:{"animation-delay":"0.6s"}},BM={key:4,class:"absolute left-[45%] top-0 flex items-center ant-entry",style:{"animation-delay":"0.7s"}},OM={key:5,class:"absolute left-[50%] bottom-0.5 flex items-center ant-entry",style:{"animation-delay":"0.8s"}},DM={key:6,class:"absolute left-[65%] top-0 flex items-center ant-entry",style:{"animation-delay":"0.9s"}},QM={key:7,class:"absolute left-[70%] bottom-0 flex items-center ant-entry",style:{"animation-delay":"1s"}},jM={key:8,class:"absolute left-[85%] top-0.5 flex items-center ant-entry",style:{"animation-delay":"1.1s"}},HM={key:9,class:"absolute left-[90%] bottom-0 flex items-center ant-entry",style:{"animation-delay":"1.2s"}},GM={key:0,class:"flex justify-center absolute bottom-[-20px] left-0 right-0"},VM={class:"flex-1 overflow-y-auto p-4 pb-6 scroll-smooth"},WM={class:"bg-gradient-to-r from-amber-800 to-amber-700 dark:from-amber-900 dark:to-amber-800 text-amber-50 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]"},KM={class:"flex justify-around items-center"},zM=["title"],YM={class:"text-xs mt-1 font-medium"},JM={class:"text-xs mt-1 font-medium"},XM=["onClick"],ZM={class:"text-xs mt-1 font-medium"},eA={key:0,class:"fixed inset-x-0 bottom-0 z-20"},tA={class:"relative bg-gradient-to-r from-amber-50 to-amber-100 dark:from-gray-900 dark:to-gray-800 text-amber-900 dark:text-amber-100 rounded-t-xl shadow-lg transform max-h-[80vh] overflow-y-auto"},rA={class:"p-2"},oA={class:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 p-2"},sA={class:"mt-1 text-xs font-medium text-center"},nA=_e({__name:"MainLayout",setup(e){const t=br(),r=De(),s=Ue(),a=Gt(),i=Mt();yt();const{showToast:l}=cr();Fs();const{isFeatureUnlocked:u}=Au(a),{shouldAnimateFeature:c}=Bu();Io();const d=N({upgrades:!1,adventure:!1,inventory:!1}),m=N(0),g=F(()=>Math.round(m.value));let f=null;const p=()=>{t.updateProgress(),a.checkProgression();const D=t.progressPercentage,P=D-m.value;Math.abs(P)>.1?m.value+=P*.1:m.value=D,f=requestAnimationFrame(p)};qe(()=>{c("upgrades")&&(d.value.upgrades=!0,setTimeout(()=>{d.value.upgrades=!1},1500)),m.value=t.progressPercentage,f=requestAnimationFrame(p),document.addEventListener("click",U)}),Se(()=>u.value.upgrades,(D,P)=>{D&&!P&&(d.value.upgrades=!0,setTimeout(()=>{d.value.upgrades=!1},1500))});const h=F(()=>s.getUpgradeCount("unlockAdventure").gt(0));Se(()=>h.value,(D,P)=>{D&&!P&&(d.value.adventure=!0,d.value.inventory=!0,setTimeout(()=>{d.value.adventure=!1,d.value.inventory=!1},1500))});const x=(D,P)=>{l(P,"info")},k=N(null),v=D=>{k.value===D?k.value=null:k.value=D},w=F(()=>[{name:"Colony",icon:"i-heroicons-bug-ant",route:"/",disabled:!1},{name:"Evolution",icon:"i-heroicons-sparkles",route:"/upgrades",disabled:!u.value.evolution,tooltip:"Purchase 5 nurseries to unlock Evolution"},{name:"Adventure",icon:"i-heroicons-bolt",route:h.value?"/adventure":"#",disabled:!h.value,tooltip:"Unlock Adventure Mode from the Evolution tab (50 EP)"},{name:"Inventory",icon:"i-heroicons-squares-2x2",route:h.value?"/inventory":"#",disabled:!h.value,tooltip:"Unlock Adventure Mode from the Evolution tab (50 EP)"},{name:"More",icon:"i-heroicons-ellipsis-horizontal",action:"toggleMorePanel",route:"#",disabled:!1}]),S=N(!1),M=()=>{S.value=!S.value},{isDarkMode:L}=Os(),A=Su(),Y=[{name:"Achievements",icon:"i-heroicons-trophy",route:"/achievements",disabled:!1},{name:"Quests",icon:"i-heroicons-clipboard-document-list",route:h.value?"/quests":"#",disabled:!h.value,tooltip:"Unlock Adventure Mode from the Evolution tab (50 EP)"},{name:"Wiki",icon:"i-heroicons-information-circle",route:"/wiki",disabled:!1},{name:"Changelog",icon:"i-heroicons-document-text",route:"/changelog",disabled:!1},{name:"Settings",icon:"i-heroicons-cog-6-tooth",route:"/settings",disabled:!1}],U=D=>{k.value!==null&&!D.target.closest(".nav-item")&&(k.value=null)};Se(()=>A.path,()=>{S.value=!1});const T=F(()=>s.getUpgradeCount("unlockColonyRush").gt(0)),G=F(()=>r.getActualProduction("worker"));return vr(()=>{f!==null&&cancelAnimationFrame(f),document.removeEventListener("click",U)}),(D,P)=>{const $=Yn("router-link");return b(),y("div",{class:ne([{dark:E(L)},"h-dvh w-full overflow-hidden"])},[o("div",cM,[o("header",dM,[o("div",mM,[o("div",pM,[P[0]||(P[0]=o("div",{class:"flex items-center gap-3"},[o("h1",{class:"text-lg md:text-xl font-extrabold tracking-tight"},"Idle Ant Farm")],-1)),o("div",fM,[o("span",gM,_(E(t).timeRemaining)+"s ",1)])]),E(u).colonyStatus?(b(),y("div",{key:0,class:ne(["flex flex-wrap items-center gap-2 md:gap-3",{"feature-unlock-pulse":E(c)("colonyStatus")}]),id:"resource-counter"},[o("div",vM,[P[1]||(P[1]=o("span",{class:"i-heroicons-cake text-amber-300 dark:text-amber-400 mr-1"},null,-1)),o("span",hM,_(E(r).formatFood()),1)]),o("div",bM,[P[2]||(P[2]=o("span",{class:"i-heroicons-bug-ant text-amber-300 dark:text-amber-400 mr-1"},null,-1)),o("span",yM,_(E(r).formatGeneratorCount("worker")),1)]),o("div",xM,[P[3]||(P[3]=o("span",{class:"i-heroicons-clock text-amber-300 dark:text-amber-400 mr-1"},null,-1)),o("span",kM,_(E(t).tickDuration.toFixed(1))+"s/trip",1)]),o("div",_M,[P[4]||(P[4]=o("span",{class:"i-heroicons-clock text-amber-300 dark:text-amber-400 mr-1"},null,-1)),o("span",wM,_(E(t).formattedCurrentEvolutionTicks)+" trips",1)]),o("div",SM,[P[5]||(P[5]=o("span",{class:"i-heroicons-arrow-trending-up text-amber-300 dark:text-amber-400 mr-1"},null,-1)),o("span",$M,_(E(Z)(G.value,1))+"/trip",1)]),E(u).upgrades?(b(),y("div",CM,[P[6]||(P[6]=o("span",{class:"i-heroicons-sparkles text-amber-300 dark:text-amber-400 mr-1"},null,-1)),o("span",EM,_(E(s).formatEP())+" EP",1)])):K("",!0),h.value?(b(),y("div",MM,[P[7]||(P[7]=o("span",{class:"i-heroicons-beaker text-amber-300 dark:text-amber-400 mr-1"},null,-1)),o("span",AM,_(E(i).formattedPheromoneEssence)+" PE",1)])):K("",!0)],2)):K("",!0)]),o("div",PM,[o("div",IM,[P[8]||(P[8]=o("span",{class:"text-2xs text-amber-200 dark:text-amber-300 font-medium flex items-center"},[o("span",{class:"i-heroicons-arrow-path-rounded-square text-2xs mr-0.5"}),X(" Foraging Trip ")],-1)),o("span",LM,_(g.value)+"% ",1)]),o("div",TM,[P[20]||(P[20]=o("div",{class:"absolute inset-0 h-full w-full opacity-30 bg-dotted-pattern"},null,-1)),o("div",{class:"h-full bg-gradient-to-r from-amber-500/70 to-amber-400/70 dark:from-amber-600/70 dark:to-amber-500/70 progress-fill",style:tt({"--progress":`${g.value}%`})},null,4),o("div",qM,[P[19]||(P[19]=to('<div class="absolute left-0 top-0 flex items-center ant-entry" data-v-cca190fd><span class="i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march ant-shadow rotate-90" data-v-cca190fd></span></div><div class="absolute left-2 bottom-0 flex items-center ant-entry" style="animation-delay:0.1s;" data-v-cca190fd><span class="i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-2 ant-shadow rotate-90" data-v-cca190fd></span></div><div class="absolute left-4 top-0.5 flex items-center ant-entry" style="animation-delay:0.2s;" data-v-cca190fd><span class="i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-3 ant-shadow rotate-90" data-v-cca190fd></span></div>',3)),g.value>=10?(b(),y("div",RM,P[9]||(P[9]=[o("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-4 ant-shadow rotate-90"},null,-1)]))):K("",!0),g.value>=15?(b(),y("div",FM,P[10]||(P[10]=[o("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-5 ant-shadow rotate-90"},null,-1)]))):K("",!0),g.value>=25?(b(),y("div",UM,P[11]||(P[11]=[o("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-6 ant-shadow rotate-90"},null,-1)]))):K("",!0),g.value>=30?(b(),y("div",NM,P[12]||(P[12]=[o("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-7 ant-shadow rotate-90"},null,-1)]))):K("",!0),g.value>=45?(b(),y("div",BM,P[13]||(P[13]=[o("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-8 ant-shadow rotate-90"},null,-1)]))):K("",!0),g.value>=50?(b(),y("div",OM,P[14]||(P[14]=[o("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-9 ant-shadow rotate-90"},null,-1)]))):K("",!0),g.value>=65?(b(),y("div",DM,P[15]||(P[15]=[o("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march ant-shadow rotate-90"},null,-1)]))):K("",!0),g.value>=70?(b(),y("div",QM,P[16]||(P[16]=[o("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-2 ant-shadow rotate-90"},null,-1)]))):K("",!0),g.value>=85?(b(),y("div",jM,P[17]||(P[17]=[o("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-3 ant-shadow rotate-90"},null,-1)]))):K("",!0),g.value>=90?(b(),y("div",HM,P[18]||(P[18]=[o("span",{class:"i-heroicons-bug-ant text-amber-400 dark:text-amber-300 text-sm ant-march-4 ant-shadow rotate-90"},null,-1)]))):K("",!0)])])]),E(u).colonyStatus&&T.value?(b(),y("div",GM,[ye(uM)])):K("",!0)]),o("main",VM,[eo(D.$slots,"default",{},void 0,!0)]),o("footer",WM,[o("nav",KM,[(b(!0),y(he,null,ke(w.value,(ee,W)=>(b(),y("div",{key:ee.name,class:"relative w-full group nav-item",title:ee.tooltip},[ee.action==="toggleMorePanel"?(b(),y("div",{key:0,onClick:M,class:ne(["flex flex-col items-center py-3 px-2 w-full transition-colors duration-200 select-none cursor-pointer hover:bg-amber-900/10 dark:hover:bg-amber-950/30",{"text-amber-300 border-t-2 border-amber-300 bg-amber-900/20 dark:bg-amber-950/40":S.value}])},[o("span",{class:ne([ee.icon,"text-xl"])},null,2),o("span",YM,_(ee.name),1)],2)):ee.disabled?(b(),y("div",{key:2,class:"flex flex-col items-center py-3 px-2 w-full transition-colors duration-200 select-none opacity-50 cursor-not-allowed",onClick:ot(ae=>{v(W),x(ee.name,ee.tooltip||"")},["stop"])},[o("span",{class:ne([ee.icon,"text-xl"])},null,2),o("span",ZM,_(ee.name),1),o("span",{class:ne(["absolute -top-12 left-1/2 transform -translate-x-1/2 bg-amber-900 text-amber-50 text-xs rounded px-3 py-2 w-max pointer-events-none z-10 shadow-lg",["opacity-0 group-hover:opacity-100 transition-opacity duration-200",{"opacity-100":k.value===W}]])},[X(_(ee.tooltip)+" ",1),P[21]||(P[21]=o("span",{class:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-amber-900 rotate-45"},null,-1))],2)],8,XM)):(b(),Oe($,{key:1,to:ee.route,class:ne(["flex flex-col items-center py-3 px-2 w-full transition-colors duration-200 select-none",{"text-amber-300 border-t-2 border-amber-300 bg-amber-900/20 dark:bg-amber-950/40":E(A).path===ee.route,"hover:bg-amber-900/10 dark:hover:bg-amber-950/30":E(A).path!==ee.route}])},{default:We(()=>[o("span",{class:ne([ee.icon,"text-xl"])},null,2),o("span",JM,_(ee.name),1)]),_:2},1032,["to","class"]))],8,zM))),128))])]),ye(ro,{name:"slide-panel"},{default:We(()=>[S.value?(b(),y("div",eA,[o("div",{class:"fixed inset-0 bg-black/30 dark:bg-black/50",onClick:M}),o("div",tA,[o("div",{class:"p-4 border-b border-amber-200 dark:border-amber-900/50 flex justify-between items-center sticky top-0 bg-inherit z-10"},[P[23]||(P[23]=o("h3",{class:"text-lg font-bold"},"More Options",-1)),o("button",{onClick:M,class:"p-1 rounded-full hover:bg-amber-200 dark:hover:bg-amber-900/40 transition-colors"},P[22]||(P[22]=[o("span",{class:"i-heroicons-x-mark text-xl"},null,-1)]))]),o("div",rA,[o("div",oA,[(b(),y(he,null,ke(Y,ee=>ye($,{key:ee.name,to:ee.route,class:ne(["flex flex-col items-center p-3 rounded-lg transition-colors duration-200",{"bg-amber-200/50 dark:bg-amber-900/20 hover:bg-amber-200 dark:hover:bg-amber-900/30":!ee.disabled,"opacity-50 cursor-not-allowed":ee.disabled}]),onClick:M},{default:We(()=>[o("span",{class:ne([ee.icon,"text-2xl text-amber-700 dark:text-amber-300"])},null,2),o("span",sA,_(ee.name),1)]),_:2},1032,["to","class"])),64))])])])])):K("",!0)]),_:1})])],2)}}}),aA=Ve(nA,[["__scopeId","data-v-cca190fd"]]),iA={class:"w-full max-w-lg px-5 py-10 mx-auto my-4"},lA={class:"text-base text-gray-300 mb-6 leading-relaxed text-center"},uA={class:"font-bold text-amber-400"},cA={key:0},dA={key:1},mA={class:"h-3 bg-gray-800 rounded-full mb-3 overflow-hidden"},pA={class:"text-sm text-gray-400 mb-5 flex justify-between"},fA={key:0,class:"mb-6"},gA={key:0,class:"mt-2 text-center"},vA={key:1,class:"mt-3 bg-gray-800/60 rounded-lg p-4 text-sm max-h-96 overflow-y-auto"},hA={class:"flex items-center justify-between mb-3 pb-3 border-b border-gray-700"},bA={class:"text-amber-400 font-medium"},yA={class:"flex items-center justify-between mb-2"},xA={class:"flex items-center"},kA={class:"text-gray-200 font-medium"},_A={class:"flex items-center"},wA={class:"text-gray-400 mr-2"},SA={class:"text-amber-400 font-medium"},$A={class:"flex text-xs text-gray-400 justify-between"},CA={key:1,class:"flex justify-center"},EA={key:2,class:"flex justify-center"},MA={key:3,class:"bg-gray-800/80 rounded-xl p-4 mt-2"},AA=_e({__name:"OfflineProgressModal",props:{isVisible:{type:Boolean},totalTicks:{},ticksProcessed:{},elapsedTime:{}},emits:["close"],setup(e,{expose:t,emit:r}){const s=e,a=r,i=Rt(),l=De(),u=N(!1),c=N(!1),d=N([]),m=N(new se(0)),g=N(new se(0)),f=N(new se(0)),p=N(!1),h=F(()=>s.ticksProcessed>=s.totalTicks&&s.totalTicks>0),x=()=>{const P=i.generatorStats;if(ve("Checking saveSystem stats:",{modalStatsCount:d.value.length,saveSystemStatsCount:P.length,initialFoodInModal:m.value.toString(),initialFoodInSystem:i.initialFoodAmount?i.initialFoodAmount.toString():"n/a"}),d.value.length===0&&P.length>0){ve("⚠️ Syncing stats from saveSystem, found",P.length,"generators"),d.value=P.map($=>({id:$.id,name:$.name,beforeCount:new se($.beforeCount),afterCount:new se($.afterCount),generated:new se($.generated),selfReplicated:new se($.selfReplicated),icon:$.icon})),ve("⚠️ Stats imported from saveSystem. First generator:",d.value.length>0?{id:d.value[0].id,before:d.value[0].beforeCount.toString(),after:d.value[0].afterCount.toString()}:"none");try{m.value.eq(0)&&i.initialFoodAmount&&(m.value=new se(i.initialFoodAmount),ve("⚠️ Got initial food from saveSystem:",m.value.toString()))}catch($){ve("⚠️ Error getting initial food:",$)}}},k=()=>{if(x(),d.value.length>0){ve();return}const P=l;m.value=new se(P.food),ve("⚠️ Captured initial food:",m.value.toString()),d.value=P.generators.filter($=>$.unlocked||$.count.gt(0)).map($=>(ve(`⚠️ Captured initial generator ${$.id} count:`,$.count.toString(),"self-replicated:",$.selfReplicated.toString()),{id:$.id,name:$.name,beforeCount:new se($.count),afterCount:new se($.count),generated:new se(0),selfReplicated:new se($.selfReplicated),icon:$.icon})),ve("⚠️ Initial capture complete for",d.value.length,"generators")},v=()=>{if(x(),!h.value){ve();return}if(f.value.gt(0)){ve();return}ve(),g.value=new se(l.food),m.value.eq(0)&&(ve(),m.value=i.initialFoodAmount||new se(0)),f.value=g.value.sub(m.value),ve("⚠️ Food results:",{initial:m.value.toString(),current:g.value.toString(),generated:f.value.toString()});let P=!1;for(const $ of d.value)if($.beforeCount.gt(0)){P=!0;break}P||(ve(),i.generatorStats.length>0&&(d.value=i.generatorStats.map($=>({id:$.id,name:$.name,beforeCount:new se($.beforeCount),afterCount:new se($.afterCount),generated:new se($.generated),selfReplicated:new se($.selfReplicated),icon:$.icon})))),d.value=d.value.map($=>{const ee=l.getGenerator($.id);if(!ee)return ve(`⚠️ Generator ${$.id} not found`),$;const W=new se(ee.count),ae=W.sub($.beforeCount),z=new se(ee.selfReplicated||0),R=z.sub($.selfReplicated||0);return ve(`⚠️ Generator ${$.id} final stats:`,{before:$.beforeCount.toString(),after:W.toString(),generated:ae.toString(),initialSelfReplicated:$.selfReplicated.toString(),finalSelfReplicated:z.toString(),selfReplicatedDiff:R.toString()}),{...$,afterCount:W,generated:ae,selfReplicated:R}}),ve()};t({captureStats:k,generationStats:d,initialFood:m,updateStats:v}),qe(()=>{ve(),c.value=!1;const P={isCalculating:i.isCalculatingOfflineProgress,isComplete:i.isCalculationComplete,ticksProcessed:s.ticksProcessed,totalTicks:s.totalTicks,calculationPercent:s.totalTicks>0?Math.round(s.ticksProcessed/s.totalTicks*100):0,showProductionDetails:p.value,initialFood:m.value.toString()};ve("⚠️ Initial calculation state:",P),x(),s.isVisible&&d.value.length===0&&(ve(),k()),i.isCalculationComplete&&!c.value&&(ve(),c.value=!0,setTimeout(()=>{v()},100))}),Se(()=>s.isVisible,(P,$)=>{ve("⚠️ isVisible changed:",{newVal:P,oldVal:$,calculationState:{isCalculating:i.isCalculatingOfflineProgress,isComplete:i.isCalculationComplete,ticksProcessed:s.ticksProcessed,totalTicks:s.totalTicks,hasWatchedCalculation:c.value}}),P&&!$&&(x(),d.value.length===0&&(ve(),k()),i.isCalculationComplete&&!c.value&&(ve(),c.value=!0,setTimeout(()=>{v()},100)))}),Se(()=>s.ticksProcessed,(P,$)=>{if(s.totalTicks>0){const ee=P/s.totalTicks;Math.floor(ee*4)>Math.floor($/s.totalTicks*4)&&ve(`⚠️ Tick processing at ${Math.round(ee*100)}%:`,{newVal:P,totalTicks:s.totalTicks}),P>0&&$<P&&ee>=.95&&(ve(),setTimeout(()=>v(),100)),P>=s.totalTicks&&$<s.totalTicks&&(ve(),setTimeout(()=>v(),200))}});const w=()=>{p.value=!p.value},S=F(()=>s.totalTicks===0?0:Math.min(100,Math.round(s.ticksProcessed/s.totalTicks*100))),M=F(()=>s.isVisible),L=P=>{if(P<60)return`${Math.floor(P)} seconds`;if(P<3600){const $=Math.floor(P/60);return`${$} minute${$!==1?"s":""}`}else{const $=Math.floor(P/3600),ee=Math.floor(P%3600/60);return`${$} hour${$!==1?"s":""} ${ee>0?`and ${ee} minute${ee!==1?"s":""}`:""}`}},A=()=>{a("close")},Y=()=>{u.value=!0},U=()=>{u.value=!1},T=async()=>{await i.saveGameAsync(),window.location.reload()},G=P=>{M.value&&(P.preventDefault(),P.stopPropagation())},D=()=>{ve(),m.value=new se(0),g.value=new se(0),f.value=new se(0),x(),setTimeout(()=>{d.value.length===0&&k(),v()},50)};return Se(()=>i.isCalculationComplete,(P,$)=>{ve("⚠️ saveSystem.isCalculationComplete changed:",{newVal:P,oldVal:$,hasWatchedCalculation:c.value}),P&&!$&&!c.value&&(ve(),c.value=!0,setTimeout(()=>{v()},200))}),(P,$)=>M.value?(b(),y("div",{key:0,id:"offlineProgressModal",class:"fixed inset-0 bg-black/95 flex items-center justify-center z-100 flex-col backdrop-blur-md overflow-auto",onTouchmove:G},[o("div",iA,[$[6]||($[6]=o("div",{class:"flex justify-center mb-8"},[o("span",{class:"i-heroicons-clock text-amber-400 text-5xl"})],-1)),$[7]||($[7]=o("h3",{class:"text-xl font-bold mb-5 text-center text-amber-300"}," Colony Hibernation Progress ",-1)),o("p",lA,[$[0]||($[0]=X(" Your colony has been hibernating for ")),o("span",uA,_(L(P.elapsedTime)),1),$[1]||($[1]=X(". ")),h.value?(b(),y("span",dA,"Calculation complete! Your colony has been updated.")):(b(),y("span",cA,"We're calculating the progress made during this time."))]),o("div",mA,[o("div",{class:"h-full bg-amber-500 transition-all duration-300 ease-out",style:tt({width:`${S.value}%`})},null,4)]),o("div",pA,[o("span",null,"Processing: "+_(P.ticksProcessed)+" / "+_(P.totalTicks),1),o("span",null,_(S.value)+"% complete",1)]),h.value?(b(),y("div",fA,[o("button",{onClick:w,class:"w-full py-2 px-4 bg-gray-800 hover:bg-gray-700 text-gray-300 rounded-lg text-sm font-medium transition-colors flex items-center justify-between"},[o("span",null,_(p.value?"Hide":"Show")+" Production Summary",1),o("span",{class:ne(p.value?"i-heroicons-chevron-up":"i-heroicons-chevron-down")},null,2)]),h.value&&d.value.every(ee=>ee.generated.eq(0))?(b(),y("div",gA,[o("button",{onClick:D,class:"text-xs text-gray-400 hover:text-gray-300 underline py-1 px-2"}," Refresh Statistics ")])):K("",!0),p.value?(b(),y("div",vA,[o("div",hA,[$[2]||($[2]=o("div",{class:"flex items-center"},[o("span",{class:"i-heroicons-cake text-amber-400 mr-3 text-lg"}),o("span",{class:"text-gray-200 font-medium"},"Food Generated")],-1)),o("span",bA,"+"+_(E(Z)(f.value)),1)]),(b(!0),y(he,null,ke(d.value,ee=>(b(),y("div",{key:ee.id,class:"mb-3 pb-3 border-b border-gray-700 last:border-0 last:mb-0 last:pb-0"},[o("div",yA,[o("div",xA,[o("span",{class:ne(`${ee.icon} text-amber-400 mr-3 text-lg`)},null,2),o("span",kA,_(ee.name),1)]),o("div",_A,[o("span",wA,_(E(Z)(ee.beforeCount)),1),$[3]||($[3]=o("span",{class:"text-gray-500 mr-2"},"→",-1)),o("span",SA,_(E(Z)(ee.afterCount)),1)])]),o("div",$A,[o("span",null,"Generated: +"+_(E(Z)(ee.generated)),1),o("span",null,"Self-replicated: +"+_(E(Z)(ee.selfReplicated)),1)])]))),128))])):K("",!0)])):K("",!0),h.value&&!u.value?(b(),y("div",CA,[o("button",{onClick:A,class:"py-3 px-8 bg-amber-600 hover:bg-amber-700 text-white rounded-lg text-base font-medium transition-colors"}," Continue ")])):K("",!0),!h.value&&!u.value?(b(),y("div",EA,[ye(Bo,{onAction:Y,class:"py-3 px-6 bg-gray-700 hover:bg-gray-800 text-white rounded-lg text-sm font-medium transition-colors","initial-delay":300,"repeat-interval":100},{default:We(()=>$[4]||($[4]=[X(" Skip Calculation ")])),_:1})])):K("",!0),u.value?(b(),y("div",MA,[$[5]||($[5]=o("p",{class:"text-sm text-red-400 mb-4 font-medium text-center"}," Are you sure you want to skip the offline calculation? ",-1)),o("div",{class:"flex justify-center gap-3"},[o("button",{onClick:U,class:"py-2 px-5 bg-gray-700 hover:bg-gray-600 text-white rounded-lg text-sm font-medium transition-colors"}," Cancel "),o("button",{onClick:T,class:"py-2 px-5 bg-red-700 hover:bg-red-800 text-white rounded-lg text-sm font-medium transition-colors"}," Yes, Skip ")])])):K("",!0)])],32)):K("",!0)}}),PA="modulepreload",IA=function(e){return"/"+e},Oi={},LA=function(t,r,s){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=IA(c),c in Oi)return;Oi[c]=!0;const d=c.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":PA,d||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),d)return new Promise((f,p)=>{g.addEventListener("load",f),g.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return a.then(l=>{for(const u of l||[])u.status==="rejected"&&i(u.reason);return t().catch(i)})};function TA(e={}){const{immediate:t=!1,onNeedRefresh:r,onOfflineReady:s,onRegistered:a,onRegisteredSW:i,onRegisterError:l}=e;let u,c;const d=async(g=!0)=>{await c};async function m(){if("serviceWorker"in navigator){if(u=await LA(async()=>{const{Workbox:g}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:g}},[]).then(({Workbox:g})=>new g("/sw.js",{scope:"/",type:"classic"})).catch(g=>{l==null||l(g)}),!u)return;u.addEventListener("activated",g=>{(g.isUpdate||g.isExternal)&&window.location.reload()}),u.addEventListener("installed",g=>{g.isUpdate||s==null||s()}),u.register({immediate:t}).then(g=>{i?i("/sw.js",g):a==null||a(g)}).catch(g=>{l==null||l(g)})}}return c=m(),d}function Yu(e={}){const{immediate:t=!0,onNeedRefresh:r,onOfflineReady:s,onRegistered:a,onRegisteredSW:i,onRegisterError:l}=e,u=N(!1),c=N(!1);return{updateServiceWorker:TA({immediate:t,onNeedRefresh(){u.value=!0,r==null||r()},onOfflineReady(){c.value=!0,s==null||s()},onRegistered:a,onRegisteredSW:i,onRegisterError:l}),offlineReady:c,needRefresh:u}}function qA(e=15*60*1e3){const{updateServiceWorker:t}=Yu(),r=Rt(),{isCalculatingOfflineProgress:s}=Au(r);let a;const i=()=>{if(s.value){console.log("Skipping PWA update check during offline progress calculation");return}console.log("Checking for PWA updates..."),t()};return qe(()=>{i(),a=window.setInterval(i,e)}),vr(()=>{a&&clearInterval(a)}),{checkForUpdates:i}}const RA={key:0,class:"fixed bottom-4 left-0 right-0 mx-auto w-full max-w-sm px-4"},FA=_e({__name:"PWAUpdateNotification",setup(e){const{needRefresh:t,updateServiceWorker:r}=Yu(),s=N(!1);qA(),qe(()=>{Se(t,i=>{s.value=i})});const a=()=>{r(),s.value=!1};return(i,l)=>(b(),Oe(ro,{name:"slide-up"},{default:We(()=>[s.value?(b(),y("div",RA,[o("div",{class:"rounded-lg bg-indigo-600 dark:bg-indigo-700 p-4 shadow-lg"},[o("div",{class:"flex items-center justify-between"},[l[0]||(l[0]=o("div",{class:"flex-1"},[o("h3",{class:"text-sm font-medium text-white"}," App Update Available "),o("p",{class:"mt-1 text-sm text-indigo-100"}," A new version is available. Click to update. ")],-1)),o("div",{class:"ml-4 flex flex-shrink-0"},[o("button",{type:"button",class:"inline-flex rounded-md bg-indigo-500 dark:bg-indigo-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-indigo-400 dark:hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-400 dark:focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-indigo-600 dark:focus:ring-offset-indigo-700",onClick:a}," Update ")])])])])):K("",!0)]),_:1}))}}),UA=Ve(FA,[["__scopeId","data-v-3a33cdf7"]]),NA={class:"px-6 py-4 border-b border-amber-200 dark:border-amber-700 flex items-center"},BA={class:"flex-grow"},OA={key:0,class:"text-sm text-amber-600 dark:text-amber-400 mt-1"},DA={key:1,class:"text-sm text-amber-600 dark:text-amber-400 mt-1"},QA={class:"p-6 overflow-y-auto max-h-[60vh]"},jA=["innerHTML"],HA=_e({__name:"UpdateAnnouncementModal",setup(e){const{showAnnouncement:t,updateDetails:r,closeAnnouncement:s}=Qu(),a=N(!1),{isClosing:i,handleClose:l,preventBackgroundTouchMove:u}=yr();Se(t,m=>{a.value=m});const c=()=>{l(s)},d=m=>{m.key==="Escape"&&a.value&&c()};return qe(()=>{window.addEventListener("keydown",d)}),At(()=>{window.removeEventListener("keydown",d)}),(m,g)=>(b(),Oe(ro,{name:"fade"},{default:We(()=>[a.value?(b(),y("div",{key:0,class:"fixed inset-0 bg-black/30 dark:bg-black/60 z-50 backdrop-blur-sm flex items-center justify-center p-4 modal-backdrop","data-modal-backdrop":"true",onClick:ot(c,["self"]),onTouchmove:g[0]||(g[0]=ot((...f)=>E(u)&&E(u)(...f),["self"]))},[o("div",{class:ne(["relative bg-white dark:bg-slate-900 rounded-lg shadow-lg max-w-3xl w-full max-h-[calc(100vh-2rem)] overflow-hidden",{"opacity-75":E(i)}])},[o("div",NA,[o("div",BA,[g[1]||(g[1]=o("h2",{class:"text-xl font-bold text-amber-800 dark:text-amber-300"}," What's New in Idle Ant Farm ",-1)),E(r).versionRange.includes("to")?(b(),y("div",OA," Updates from v"+_(E(r).versionRange),1)):(b(),y("div",DA," Version "+_(E(r).versionRange)+" - "+_(E(r).date),1))]),o("button",{class:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors","aria-label":"Close modal",onClick:c},g[2]||(g[2]=[o("svg",{class:"w-5 h-5 text-slate-500 dark:text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),o("div",QA,[o("div",{class:"prose prose-amber dark:prose-invert max-w-none",innerHTML:E(r).content},null,8,jA)]),o("div",{class:"px-6 py-4 border-t border-amber-200 dark:border-amber-700 flex justify-end"},[o("button",{class:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-md transition-colors font-medium",onClick:c}," Got it ")])],2)],32)):K("",!0)]),_:1}))}}),GA=Ve(HA,[["__scopeId","data-v-09c2283e"]]),VA={class:"fixed top-4 right-4 z-50 flex flex-col gap-2 max-w-md"},WA={class:"flex-grow"},KA={class:"text-sm"},zA=["onClick"],YA=_e({__name:"ToastContainer",setup(e){const{toasts:t,removeToast:r}=cr(),s=i=>{switch(i){case"success":return"i-heroicons-check-circle";case"warning":return"i-heroicons-exclamation-triangle";case"error":return"i-heroicons-x-circle";case"info":default:return"i-heroicons-information-circle"}},a=i=>{switch(i){case"success":return"bg-green-700 dark:bg-green-800";case"warning":return"bg-yellow-700 dark:bg-yellow-800";case"error":return"bg-red-700 dark:bg-red-800";case"info":default:return"bg-amber-700 dark:bg-amber-800"}};return(i,l)=>(b(),y("div",VA,[ye(vm,{name:"toast"},{default:We(()=>[(b(!0),y(he,null,ke(E(t),u=>(b(),y("div",{key:u.id,class:ne(["rounded-lg shadow-lg text-white p-3 flex items-start gap-2",a(u.type)])},[o("span",{class:ne([s(u.type),"text-xl flex-shrink-0 mt-0.5"])},null,2),o("div",WA,[o("p",KA,_(u.message),1)]),o("button",{onClick:c=>E(r)(u.id),class:"text-white hover:text-gray-200 flex-shrink-0"},l[0]||(l[0]=[o("span",{class:"i-heroicons-x-mark text-lg"},null,-1)]),8,zA)],2))),128))]),_:1})]))}}),JA=Ve(YA,[["__scopeId","data-v-34c8d993"]]),XA={key:0,class:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 shadow-lg p-4 z-50 border-t border-gray-200 dark:border-gray-700"},ZA={class:"container mx-auto flex flex-col md:flex-row items-center justify-between gap-4"},eP={class:"flex gap-3"},tP=_e({__name:"GdprConsentBanner",setup(e){const{acceptConsent:t,declineConsent:r,isPending:s}=da();return(a,i)=>(b(),Oe(ro,{name:"slide-up"},{default:We(()=>[E(s)()?(b(),y("div",XA,[o("div",ZA,[i[2]||(i[2]=o("div",{class:"text-sm text-gray-700 dark:text-gray-300"},[o("p",null,' We use cookies and similar technologies to analyze traffic, enhance site functionality, and improve your experience. By clicking "Accept", you consent to the use of cookies for analytics purposes. ')],-1)),o("div",eP,[o("button",{class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",onClick:i[0]||(i[0]=(...l)=>E(r)&&E(r)(...l))}," Decline "),o("button",{class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:i[1]||(i[1]=(...l)=>E(t)&&E(t)(...l))}," Accept ")])])])):K("",!0)]),_:1}))}}),rP=Ve(tP,[["__scopeId","data-v-270f4b2e"]]),oP={key:0,class:"font-bold text-lg mb-2 text-gray-900 dark:text-white"},sP={class:"text-gray-700 dark:text-gray-300 mb-4"},nP={class:"text-xs text-gray-500 dark:text-gray-400 mb-3"},aP={class:"flex justify-between"},iP={key:1,class:"flex-1"},lP=_e({__name:"TourTooltip",props:{step:{},isFirstStep:{type:Boolean},isLastStep:{type:Boolean},currentStepIndex:{},totalSteps:{}},emits:["next","prev","skip"],setup(e,{emit:t}){const r=e,s=t,a=N(null),i=Ns();return qe(()=>{a.value&&(i.tooltipElement&&(i.tooltipElement=a.value),console.log("Tooltip element set in store",a.value),setTimeout(()=>{console.log("Positioning tooltip on mount"),i.positionTooltip()},100))}),Se(()=>r.step,()=>{setTimeout(()=>{a.value&&(i.tooltipElement=a.value,console.log("Tooltip element updated in store on step change"),i.highlightTarget(),i.positionTooltip())},100)}),(l,u)=>(b(),y("div",{ref_key:"tooltipRef",ref:a,class:ne(["fixed z-50 p-4 bg-white dark:bg-gray-800 rounded-lg shadow-lg max-w-sm tour-tooltip",`tour-tooltip-${l.step.placement||"bottom"}`])},[l.step.title?(b(),y("div",oP,_(l.step.title),1)):K("",!0),o("div",sP,_(l.step.content),1),o("div",nP," Step "+_(l.currentStepIndex+1)+" of "+_(l.totalSteps),1),o("div",aP,[l.isFirstStep?(b(),y("div",iP)):(b(),y("button",{key:0,onClick:u[0]||(u[0]=c=>s("prev")),class:"px-3 py-1 text-sm bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"}," Previous ")),o("button",{onClick:u[1]||(u[1]=c=>s("skip")),class:"px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors"}," Skip Tour "),o("button",{onClick:u[2]||(u[2]=c=>s("next")),class:"px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors"},_(l.isLastStep?"Finish":"Next"),1)])],2))}}),uP=Ve(lP,[["__scopeId","data-v-ca46d417"]]),cP={key:0,class:"tour-container"},dP=_e({__name:"Tour",setup(e){const t=Ns();return Se(()=>t.isActive,r=>{r&&setTimeout(()=>{t.highlightTarget()},100)},{immediate:!0}),qe(()=>{t.isActive&&setTimeout(()=>{t.highlightTarget()},100)}),(r,s)=>(b(),Oe(jc,{to:"body"},[E(t).isActive&&E(t).currentStep?(b(),y("div",cP,[s[0]||(s[0]=o("div",{class:"fixed inset-0 z-40 pointer-events-none bg-opacity-30 backdrop-blur-sm"},null,-1)),ye(uP,{step:E(t).currentStep,"is-first-step":E(t).isFirstStep,"is-last-step":E(t).isLastStep,"current-step-index":E(t).currentStepIndex,"total-steps":E(t).totalSteps,onNext:E(t).nextStep,onPrev:E(t).prevStep,onSkip:E(t).skipTour},null,8,["step","is-first-step","is-last-step","current-step-index","total-steps","onNext","onPrev","onSkip"])])):K("",!0)]))}}),mP=_e({__name:"TourRestartButton",props:{buttonText:{default:"Start Tour"},buttonClass:{default:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors"}},setup(e){const t=Ns(),r=()=>{console.log("Restarting tour"),t.resetTour(),t.startTour()};return(s,a)=>(b(),y("button",{class:ne(s.buttonClass),onClick:r},[eo(s.$slots,"default",{},()=>[X(_(s.buttonText),1)])],2))}}),pP={key:0,class:"fixed bottom-24 right-6 z-50 w-80 bg-amber-50 dark:bg-gray-800 rounded-lg shadow-lg border border-amber-200 dark:border-amber-800 overflow-hidden"},fP={class:"p-4"},gP={class:"flex items-center gap-3"},vP={class:"flex-shrink-0 w-10 h-10 rounded-full bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center"},hP={class:"flex-1"},bP={class:"mt-1 text-sm font-medium text-amber-700 dark:text-amber-200"},yP={class:"mt-0.5 text-xs text-amber-600/90 dark:text-amber-400/90"},xP=_e({__name:"AchievementNotification",setup(e){const t=Ct(),r=F(()=>t.recentlyCompleted[0]),s=F(()=>t.showNotification);return(a,i)=>(b(),Oe(ro,{name:"slide-fade"},{default:We(()=>[s.value&&r.value?(b(),y("div",pP,[o("div",fP,[o("div",gP,[o("div",vP,[o("span",{class:ne([r.value.icon,"text-xl text-amber-600 dark:text-amber-300"])},null,2)]),o("div",hP,[i[0]||(i[0]=o("div",{class:"flex items-baseline justify-between"},[o("h3",{class:"text-sm font-medium text-amber-800 dark:text-amber-300"},"Achievement Unlocked!"),o("span",{class:"text-xs text-amber-600 dark:text-amber-400 font-bold px-2 py-0.5 rounded-full bg-amber-100 dark:bg-amber-900/30"}," +1 ")],-1)),o("p",bP,_(r.value.name),1),o("p",yP,_(r.value.description),1)])])]),i[1]||(i[1]=o("div",{class:"h-1 bg-amber-500 dark:bg-amber-600 animate-shrink"},null,-1))])):K("",!0)]),_:1}))}}),kP=Ve(xP,[["__scopeId","data-v-be41e0d8"]]);function _P(){const e=N(!0),t=N(Date.now()),r=Rt(),s=async()=>{const i=e.value;if(e.value=document.visibilityState==="visible",e.value&&!i){const u=(Date.now()-t.value)/1e3;u>=5&&await r.calculateOfflineProgress(u,!0)}t.value=Date.now()},a=()=>{localStorage.setItem("lastActiveTimestamp",t.value.toString())};return qe(async()=>{const i=localStorage.getItem("lastActiveTimestamp");if(i){const l=Date.now(),u=parseInt(i,10),c=(l-u)/1e3;c>=5&&await r.calculateOfflineProgress(c,!0),t.value=l,localStorage.removeItem("lastActiveTimestamp")}document.addEventListener("visibilitychange",s),window.addEventListener("beforeunload",a)}),vr(()=>{document.removeEventListener("visibilitychange",s),window.removeEventListener("beforeunload",a)}),{isVisible:Hn(e)}}const wP={key:0},SP={key:1,class:"fixed bottom-4 right-4 z-30"},$P=_e({__name:"App",setup(e){const t=Rt(),r=N(!1);_P(),F(()=>t.isCalculatingOfflineProgress),Se(()=>t.isCalculatingOfflineProgress,a=>{console.log("Calculation state changed to:",a)}),Os(),Nu({debounceTime:150,storageKey:"idleAntFarmScrollPositions",scrollElementSelector:"main"});const s=()=>{console.log("Closing offline progress modal"),t.showOfflineProgressModal=!1};return(a,i)=>{const l=Yn("router-view");return b(),y("div",null,[E(t).showOfflineProgressModal?K("",!0):(b(),y("div",wP,[ye(aA,null,{default:We(()=>[ye(l)]),_:1}),ye(GA),ye(UA),ye(JA),ye(kP),ye(rP),r.value?(b(),Oe(dP,{key:0})):K("",!0),r.value?(b(),y("div",SP,[ye(mP,{"button-class":"px-4 py-2 bg-blue-500 text-white rounded-full shadow-lg hover:bg-blue-600 transition-colors flex items-center"},{default:We(()=>i[0]||(i[0]=[o("span",{class:"mr-1"},"?",-1),X(" Help & Tour ")])),_:1})])):K("",!0)])),ye(AA,{"is-visible":E(t).showOfflineProgressModal,"total-ticks":E(t).offlineProgressTotalTicks,"ticks-processed":E(t).offlineProgressTicksProcessed,"elapsed-time":E(t).offlineProgressElapsedTime,onClose:s},null,8,["is-visible","total-ticks","ticks-processed","elapsed-time"])])}}}),Qs=Mm($P),CP=q0();Qs.use(CP);Qs.use(Tn);const{hasConsent:Di}=da();Qs.use(X4,{property:{id:"G-B1PSTMRJMF"},isEnabled:Di(),useDebugger:!1,disableScriptLoad:!Di()});Qs.mount("#app");const Ju=Rt(),Qi=Ju.loadGame();Qi&&console.log("Loaded game with offline progress:",Qi);Ju.startAutoSave();
